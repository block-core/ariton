(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{52191:(Ne,V,E)=>{var g=E(40573);const w="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,O=()=>w.now(),_=A=>A===1/0||(A=>A&&A===Math.floor(A)&&A>0&&isFinite(A))(A);class R{constructor({max:N=1/0,ttl:L,updateAgeOnGet:F=!1,checkAgeOnGet:C=!1,noUpdateTTL:Y=!1,dispose:j,noDisposeOnSet:G=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==L&&!_(L))throw new TypeError("ttl must be positive integer or Infinity if set");if(!_(N))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=L,this.max=N,this.updateAgeOnGet=!!F,this.checkAgeOnGet=!!C,this.noUpdateTTL=!!Y,this.noDisposeOnSet=!!G,void 0!==j){if("function"!=typeof j)throw new TypeError("dispose must be function if set");this.dispose=j}this.timer=void 0,this.timerExpiration=void 0}setTimer(N,L){if(this.timerExpiration<N)return;this.timer&&clearTimeout(this.timer);const F=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const C in this.expirations){this.setTimer(C,C-O());break}},L);F.unref&&F.unref(),this.timerExpiration=N,this.timer=F}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return g.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const N=this.dispose!==R.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[L,F]of N)this.dispose(F,L,"delete")}setTTL(N,L=this.ttl){const F=this.expirationMap.get(N);if(void 0!==F){const C=this.expirations[F];!C||C.length<=1?delete this.expirations[F]:this.expirations[F]=C.filter(Y=>Y!==N)}if(L!==1/0){const C=Math.floor(O()+L);this.expirationMap.set(N,C),this.expirations[C]||(this.expirations[C]=[],this.setTimer(C,L)),this.expirations[C].push(N)}else this.expirationMap.set(N,1/0)}set(N,L,{ttl:F=this.ttl,noUpdateTTL:C=this.noUpdateTTL,noDisposeOnSet:Y=this.noDisposeOnSet}={}){if(!_(F))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(N)){C||this.setTTL(N,F);const j=this.data.get(N);j!==L&&(this.data.set(N,L),Y||this.dispose(j,N,"set"))}else this.setTTL(N,F),this.data.set(N,L);for(;this.size>this.max;)this.purgeToCapacity();return this}has(N){return this.data.has(N)}getRemainingTTL(N){const L=this.expirationMap.get(N);return L===1/0?L:void 0!==L?Math.max(0,Math.ceil(L-O())):0}get(N,{updateAgeOnGet:L=this.updateAgeOnGet,ttl:F=this.ttl,checkAgeOnGet:C=this.checkAgeOnGet}={}){const Y=this.data.get(N);if(!C||0!==this.getRemainingTTL(N))return L&&this.setTTL(N,F),Y;this.delete(N)}dispose(N,L){}delete(N){const L=this.expirationMap.get(N);if(void 0!==L){const F=this.data.get(N);this.data.delete(N),this.expirationMap.delete(N);const C=this.expirations[L];return C&&(C.length<=1?delete this.expirations[L]:this.expirations[L]=C.filter(Y=>Y!==N)),this.dispose(F,N,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const N in this.expirations){const L=this.expirations[N];if(!(this.size-L.length>=this.max)){const F=this.size-this.max,C=[];for(const Y of L.splice(0,F))C.push([Y,this.data.get(Y)]),this.data.delete(Y),this.expirationMap.delete(Y);for(const[Y,j]of C)this.dispose(j,Y,"evict");return}{delete this.expirations[N];const F=[];for(const C of L)F.push([C,this.data.get(C)]),this.data.delete(C),this.expirationMap.delete(C);for(const[C,Y]of F)this.dispose(Y,C,"evict")}}}get size(){return this.data.size}purgeStale(){const N=Math.ceil(O());for(const L in this.expirations){if("Infinity"===L||L>N)return;const F=[...this.expirations[L]||[]],C=[];delete this.expirations[L];for(const Y of F)C.push([Y,this.data.get(Y)]),this.data.delete(Y),this.expirationMap.delete(Y);for(const[Y,j]of C)this.dispose(j,Y,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const N in this.expirations)for(const L of this.expirations[N])yield[L,this.data.get(L)]}*keys(){for(const N in this.expirations)for(const L of this.expirations[N])yield L}*values(){for(const N in this.expirations)for(const L of this.expirations[N])yield this.data.get(L)}[Symbol.iterator](){return this.entries()}}Ne.exports=R},33065:(Ne,V,E)=>{"use strict";E.r(V),E.d(V,{RestoreComponent:()=>te});var g=E(10467),w=E(93953),O=E(89417),X=E(88834),_=E(25596),R=E(99213),A=E(99631),N=E(5951),L=E(82798),F=E(34635),C=E(96049),Y=E(31439),j=E(53719);function G(ee,q){1&ee&&(w.j41(0,"mat-error"),w.EFF(1,"Recovery phrase is "),w.j41(2,"strong"),w.EFF(3,"required"),w.k0s()())}let te=(()=>{class ee{constructor(){this.fb=(0,w.WQX)(O.ok),this.crypto=(0,w.WQX)(C.j),this.app=(0,w.WQX)(Y.d),this.identity=(0,w.WQX)(F.K),this.addressForm=this.fb.group({recoveryPhrase:[null,O.k0.required]})}onSubmit(){var J=this;return(0,g.A)(function*(){console.log(J.addressForm.controls.recoveryPhrase.value),J.addressForm.disable(),J.app.loading.set(!0);let ne=yield J.crypto.createPassword();const ie={did:"",recoveryPhrase:J.addressForm.controls.recoveryPhrase.value,password:ne,passwordHash:""};ne="123";const re=yield J.identity.restore(ne,J.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",re),!re)return alert("Failed to restore account."),void J.addressForm.enable();ie.did=re.did,J.app.addAccount(ie),J.app.initialized.set(!0),J.app.loading.set(!1)})()}static#e=this.\u0275fac=function(ne){return new(ne||ee)};static#t=this.\u0275cmp=w.VBU({type:ee,selectors:[["app-restore"]],standalone:!0,features:[w.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(ne,ie){if(1&ne){const re=w.RV6();w.j41(0,"h1"),w.EFF(1,"Restore your account"),w.k0s(),w.j41(2,"form",1),w.bIt("ngSubmit",function(){return w.eBV(re),w.Njj(ie.onSubmit())}),w.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),w.EFF(6,"Secret Recovery Phrase"),w.k0s(),w.j41(7,"mat-card-subtitle"),w.EFF(8,"Enter your 12 words backup"),w.k0s()(),w.j41(9,"mat-card-content"),w.nrm(10,"br"),w.j41(11,"mat-form-field",3)(12,"mat-label"),w.EFF(13,"Secret Recovery Phrase"),w.k0s(),w.nrm(14,"textarea",4,0),w.DNE(16,G,4,0,"mat-error"),w.k0s()(),w.j41(17,"mat-card-actions",5)(18,"button",6),w.EFF(19,"Restore"),w.k0s()()()()}2&ne&&(w.R7$(2),w.Y8G("formGroup",ie.addressForm),w.R7$(14),w.vxM(ie.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),w.R7$(2),w.Y8G("disabled",ie.app.loading()))},dependencies:[A.fS,A.fg,j.rl,j.nJ,j.TL,X.Hl,X.$z,L.Ve,R.m_,N.Wk,_.Hu,_.RN,_.YY,_.m2,_.MM,_.Lc,_.dh,O.X1,O.qT,O.me,O.BC,O.cb,O.j4,O.JD],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return ee})()},31439:(Ne,V,E)=>{"use strict";E.d(V,{d:()=>J});var g=E(10467),w=E(93953),O=E(43794),X=E(96049),_=E(34635),A=E.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.0","@angular/cdk":"^18.1.0","@angular/common":"^18.1.0","@angular/compiler":"^18.1.0","@angular/core":"^18.1.0","@angular/forms":"^18.1.0","@angular/material":"^18.1.0","@angular/platform-browser":"^18.1.0","@angular/platform-browser-dynamic":"^18.1.0","@angular/router":"^18.1.0","@angular/service-worker":"^18.1.0","@scure/bip39":"^1.3.0","@web5/api":"^0.9.4","@web5/credentials":"^1.0.3","@web5/crypto":"^1.0.1","@web5/dids":"^1.1.1","@web5/identity-agent":"^0.3.8","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.7"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.0","@angular/cli":"^18.1.0","@angular/compiler-cli":"^18.1.0","@angular/localize":"^18.1.0","@types/jasmine":"~5.1.4","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.1.2","karma":"~6.4.3","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.3"}}'),2),N=E(4053),L=E(45189),F=E(49245),C=E(62060),Y=E(67136),j=E(1639),G=E(69371),te=E(2685);let ee=(()=>{class ne{constructor(){this.identityService=(0,w.WQX)(_.K)}register(){var re=this;return(0,g.A)(function*(){const ce=[N.Q,L.Q,F.Q,C.Q,Y.Q,j.Q,G.Q,te.Q];for(const se of ce){const{protocol:pe,status:we}=yield re.identityService.web5.dwn.protocols.configure({message:{definition:se}});console.log("Install status:",we),console.log("Protocol:",pe)}})()}static#e=this.\u0275fac=function(ce){return new(ce||ne)};static#t=this.\u0275prov=w.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})();var q=E(39434);let J=(()=>{class ne{constructor(){this.initialized=(0,w.vPA)(!1),this.loading=(0,w.vPA)(!1),this.storage=(0,w.WQX)(O.n),this.crypto=(0,w.WQX)(X.j),this.identity=(0,w.WQX)(_.K),this.profile=(0,w.WQX)(q.p),this.protocol=(0,w.WQX)(ee),this.state=(0,w.vPA)({selectedAccount:"",hidden:{}}),this.account=(0,w.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,w.vPA)([]),this.firstTime=(0,w.vPA)(!1),this.params=(0,w.vPA)({}),this.package=A,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([re,ce])=>({name:re,version:ce}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(re){this.accounts().push(re),this.saveAccounts(),this.state().selectedAccount=re.did,this.saveState()}initialize(){var re=this;return(0,g.A)(function*(){re.loading.set(!0),console.log("Initializing Ariton...");let ce=re.storage.read("state");console.log("STATE IS WHAT:",ce),ce||(ce={selectedAccount:"",hidden:{}},re.firstTime.set(!0)),null==ce.hidden&&(ce.hidden={});let pe,se=re.storage.read("accounts");if(se){const we=se.find(Me=>Me.did===ce.selectedAccount);if(re.accounts.set(se),re.account?.set(we),we.password){if(pe=yield re.identity.connect(we.did,we.password),!pe)return void re.loading.set(!1)}else re.identity.locked.set(!0)}else{console.log("No accounts found");const we=yield re.crypto.createPassword();if(console.log("Password generated..."),pe=yield re.identity.initialConnect(we),console.log("Initialize connect finished."),!pe)return void re.loading.set(!1);se=[{did:pe.did,recoveryPhrase:pe.recoveryPhrase,password:we}],re.storage.save("accounts",se),ce.selectedAccount=pe.did,re.accounts.set(se),re.account?.set(se[0]),re.storage.save("state",ce)}yield re.profile.openProfile(re.account().did),re.state.set(ce),re.initialized.set(!0),re.loading.set(!1),re.protocol.register()})()}static#e=this.\u0275fac=function(ce){return new(ce||ne)};static#t=this.\u0275prov=w.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},96049:(Ne,V,E)=>{"use strict";E.d(V,{j:()=>Ed});var g=E(10467);E(37475);const Y="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function sn(vt){return function Q(vt=32){if(Y&&"function"==typeof Y.getRandomValues)return Y.getRandomValues(new Uint8Array(vt));throw new Error("crypto.getRandomValues must be defined")}(vt)}new Uint8Array(new Uint32Array([287454020]).buffer),E(94256),E(91006),E(40499),E(86295),E(91879);class Ir{static deriveKey(bt){return function(vt,bt,st,at){return new(st||(st=Promise))(function(Ht,ln){function On(An){try{nr(at.next(An))}catch(jn){ln(jn)}}function or(An){try{nr(at.throw(An))}catch(jn){ln(jn)}}function nr(An){An.done?Ht(An.value):function Ft(Ht){return Ht instanceof st?Ht:new st(function(ln){ln(Ht)})}(An.value).then(On,or)}nr((at=at.apply(vt,bt||[])).next())})}(this,arguments,void 0,function*({hash:st,password:at,salt:Ft,iterations:Ht,length:ln}){const On=yield Y.subtle.importKey("raw",at,{name:"PBKDF2"},!1,["deriveBits"]),or=yield Y.subtle.deriveBits({name:"PBKDF2",hash:st,salt:Ft,iterations:Ht},On,ln);return new Uint8Array(or)})}}function Xi(vt,...bt){if(!function Mi(vt){return vt instanceof Uint8Array||null!=vt&&"object"==typeof vt&&"Uint8Array"===vt.constructor.name}(vt))throw new Error("Uint8Array expected");if(bt.length>0&&!bt.includes(vt.length))throw new Error(`Uint8Array expected of length ${bt}, not of length=${vt.length}`)}function Li(vt,bt=!0){if(vt.destroyed)throw new Error("Hash instance has been destroyed");if(bt&&vt.finished)throw new Error("Hash#digest() has already been called")}E(94730);const xo="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,tn=vt=>new DataView(vt.buffer,vt.byteOffset,vt.byteLength),Rn=(vt,bt)=>vt<<32-bt|vt>>>bt;function _c(vt){return"string"==typeof vt&&(vt=function Qa(vt){if("string"!=typeof vt)throw new Error("utf8ToBytes expected string, got "+typeof vt);return new Uint8Array((new TextEncoder).encode(vt))}(vt)),Xi(vt),vt}new Uint8Array(new Uint32Array([287454020]).buffer);class Zf{clone(){return this._cloneInto()}}function ha(vt){const bt=at=>vt().update(_c(at)).digest(),st=vt();return bt.outputLen=st.outputLen,bt.blockLen=st.blockLen,bt.create=()=>vt(),bt}const Ec=(vt,bt,st)=>vt&bt^~vt&st,Ta=(vt,bt,st)=>vt&bt^vt&st^bt&st;class Zd extends Zf{constructor(bt,st,at,Ft){super(),this.blockLen=bt,this.outputLen=st,this.padOffset=at,this.isLE=Ft,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(bt),this.view=tn(this.buffer)}update(bt){Li(this);const{view:st,buffer:at,blockLen:Ft}=this,Ht=(bt=_c(bt)).length;for(let ln=0;ln<Ht;){const On=Math.min(Ft-this.pos,Ht-ln);if(On!==Ft)at.set(bt.subarray(ln,ln+On),this.pos),this.pos+=On,ln+=On,this.pos===Ft&&(this.process(st,0),this.pos=0);else{const or=tn(bt);for(;Ft<=Ht-ln;ln+=Ft)this.process(or,ln)}}return this.length+=bt.length,this.roundClean(),this}digestInto(bt){Li(this),function mo(vt,bt){Xi(vt);const st=bt.outputLen;if(vt.length<st)throw new Error(`digestInto() expects output buffer of length at least ${st}`)}(bt,this),this.finished=!0;const{buffer:st,view:at,blockLen:Ft,isLE:Ht}=this;let{pos:ln}=this;st[ln++]=128,this.buffer.subarray(ln).fill(0),this.padOffset>Ft-ln&&(this.process(at,0),ln=0);for(let jn=ln;jn<Ft;jn++)st[jn]=0;(function Ju(vt,bt,st,at){if("function"==typeof vt.setBigUint64)return vt.setBigUint64(bt,st,at);const Ft=BigInt(32),Ht=BigInt(4294967295),ln=Number(st>>Ft&Ht),On=Number(st&Ht),nr=at?0:4;vt.setUint32(bt+(at?4:0),ln,at),vt.setUint32(bt+nr,On,at)})(at,Ft-8,BigInt(8*this.length),Ht),this.process(at,0);const On=tn(bt),or=this.outputLen;if(or%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const nr=or/4,An=this.get();if(nr>An.length)throw new Error("_sha2: outputLen bigger than state");for(let jn=0;jn<nr;jn++)On.setUint32(4*jn,An[jn],Ht)}digest(){const{buffer:bt,outputLen:st}=this;this.digestInto(bt);const at=bt.slice(0,st);return this.destroy(),at}_cloneInto(bt){bt||(bt=new this.constructor),bt.set(...this.get());const{blockLen:st,buffer:at,length:Ft,finished:Ht,destroyed:ln,pos:On}=this;return bt.length=Ft,bt.pos=On,bt.finished=Ht,bt.destroyed=ln,Ft%st&&bt.buffer.set(at),bt}}const mr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Us=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qi=new Uint32Array(64);class Nr extends Zd{constructor(){super(64,32,8,!1),this.A=0|Us[0],this.B=0|Us[1],this.C=0|Us[2],this.D=0|Us[3],this.E=0|Us[4],this.F=0|Us[5],this.G=0|Us[6],this.H=0|Us[7]}get(){const{A:bt,B:st,C:at,D:Ft,E:Ht,F:ln,G:On,H:or}=this;return[bt,st,at,Ft,Ht,ln,On,or]}set(bt,st,at,Ft,Ht,ln,On,or){this.A=0|bt,this.B=0|st,this.C=0|at,this.D=0|Ft,this.E=0|Ht,this.F=0|ln,this.G=0|On,this.H=0|or}process(bt,st){for(let jn=0;jn<16;jn++,st+=4)Qi[jn]=bt.getUint32(st,!1);for(let jn=16;jn<64;jn++){const tc=Qi[jn-15],ea=Qi[jn-2],qd=Rn(tc,7)^Rn(tc,18)^tc>>>3,xd=Rn(ea,17)^Rn(ea,19)^ea>>>10;Qi[jn]=xd+Qi[jn-7]+qd+Qi[jn-16]|0}let{A:at,B:Ft,C:Ht,D:ln,E:On,F:or,G:nr,H:An}=this;for(let jn=0;jn<64;jn++){const ea=An+(Rn(On,6)^Rn(On,11)^Rn(On,25))+Ec(On,or,nr)+mr[jn]+Qi[jn]|0,xd=(Rn(at,2)^Rn(at,13)^Rn(at,22))+Ta(at,Ft,Ht)|0;An=nr,nr=or,or=On,On=ln+ea|0,ln=Ht,Ht=Ft,Ft=at,at=ea+xd|0}at=at+this.A|0,Ft=Ft+this.B|0,Ht=Ht+this.C|0,ln=ln+this.D|0,On=On+this.E|0,or=or+this.F|0,nr=nr+this.G|0,An=An+this.H|0,this.set(at,Ft,Ht,ln,On,or,nr,An)}roundClean(){Qi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Jd=ha(()=>new Nr);var gs=E(53813);function _d(vt,bt=128){if(function li(vt){if(!Number.isSafeInteger(vt)||vt<0)throw new Error(`positive integer expected, not ${vt}`)}(bt),bt%32!=0||bt>256)throw new TypeError("Invalid entropy");return function gl(vt,bt){return function wd(vt){Xi(vt,16,20,24,28,32)}(vt),function qf(vt){if(!Array.isArray(vt)||2048!==vt.length||"string"!=typeof vt[0])throw new Error("Wordlist: expected array of 2048 strings");return vt.forEach(bt=>{if("string"!=typeof bt)throw new Error(`Wordlist: non-string element: ${bt}`)}),gs.Wp.chain(gs.Wp.checksum(1,pa),gs.Wp.radix2(11,!0),gs.Wp.alphabet(vt))}(bt).encode(vt).join((vt=>"\u3042\u3044\u3053\u304f\u3057\u3093"===vt[0])(bt)?"\u3000":" ")}(function Rl(vt=32){if(xo&&"function"==typeof xo.getRandomValues)return xo.getRandomValues(new Uint8Array(vt));throw new Error("crypto.getRandomValues must be defined")}(bt/8),vt)}const pa=vt=>{const bt=8-vt.length/4;return new Uint8Array([Jd(vt)[0]>>bt<<bt])};const Bl="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var ef=E(93953);let Ed=(()=>{class vt{constructor(){}createPassword(st=6,at=128){return(0,g.A)(function*(){try{const Ft=_d(Bl,at).split(" "),Ht=[];for(let ln=0;ln<st;ln++){const On=Math.floor(Math.random()*Ft.length);Ht.push(Ft[On])}return Ht.join(" ")}catch(Ft){throw console.error(Ft),Ft}})()}encrypt(st,at){return this.deriveKey(at),st}encryptData(st,at){return(0,g.A)(function*(){})()}deriveKey(st){return(0,g.A)(function*(){return yield Ir.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(st),salt:sn(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(at){return new(at||vt)};static#t=this.\u0275prov=ef.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})()},34635:(Ne,V,E)=>{"use strict";E.d(V,{K:()=>_});var g=E(10467),w=E(93953),O=E(63131),X=E(96049);let _=(()=>{class R{constructor(N){this.cryptoService=N,this.syncInterval="10s",this.agents=(0,w.vPA)([]),this.initialized=(0,w.vPA)(!1),this.locked=(0,w.vPA)(!1)}initialConnect(N){var L=this;return(0,g.A)(function*(){try{const F=yield O.uW.connect({password:N,sync:L.syncInterval});return L.web5=F.web5,L.did=F.did,console.log("Web5 Connected.",L.did),L.initialized.set(!0),F}catch{alert("Failed to initialize Web5")}})()}connect(N,L){var F=this;return(0,g.A)(function*(){try{const C=yield O.uW.connect({connectedDid:N,password:L,sync:F.syncInterval});return F.web5=C.web5,F.did=C.did,console.log("Web5 Connected."),F.initialized.set(!0),C}catch{alert("Failed to initialize Web5")}})()}restore(N,L){var F=this;return(0,g.A)(function*(){try{const C=yield O.uW.connect({recoveryPhrase:L,password:N,sync:F.syncInterval});return F.web5=C.web5,F.did=C.did,console.log("Web5 Connected."),F.initialized.set(!0),C}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(N,L){var F=this;return(0,g.A)(function*(){yield F.web5.agent.vault.changePassword({oldPassword:N,newPassword:L})})()}lock(){var N=this;return(0,g.A)(function*(){console.log("Locking account..."),yield N.web5.agent.vault.lock(),console.log("Vault locked"),N.locked.set(!0)})()}unlock(N){var L=this;return(0,g.A)(function*(){console.log("Connecting to Web5...");try{const{did:F,web5:C}=yield O.uW.connect({sync:"5s",password:N});return L.did=F,L.web5=C,L.initialized.set(!0),L.locked.set(!1),!0}catch(F){return console.error(F),console.log("Show unlock screen!"),L.locked.set(!0),!1}})()}static#e=this.\u0275fac=function(L){return new(L||R)(w.KVO(X.j))};static#t=this.\u0275prov=w.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},36815:(Ne,V,E)=>{"use strict";E.d(V,{Y:()=>w});var g=E(93953);let w=(()=>{class O{constructor(){this.scrolling=(0,g.vPA)(!0),this.navigation=(0,g.vPA)(!1),this.actions=(0,g.vPA)([]),(0,g.QZP)(()=>{const _=document.querySelector(".sidenav-scroll-wrapper");_&&(_.style.overflow=this.scrolling()?"auto":"hidden");const R=document.querySelector(".sidenav-content");R&&(R.style.overflow=this.scrolling()?"auto":"hidden")})}addAction(_){this.actions.update(R=>[...R,_])}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(R){return new(R||O)};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},55619:(Ne,V,E)=>{"use strict";E.d(V,{o:()=>X});var g=E(18498),w=E(93953),O=E(60177);let X=(()=>{class _{constructor(A,N){this.router=A,this.location=N,this.history=[],this.router.events.subscribe(L=>{L instanceof g.wF&&this.history.push(L.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(N){return new(N||_)(w.KVO(g.Ix),w.KVO(O.aZ))};static#t=this.\u0275prov=w.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},39434:(Ne,V,E)=>{"use strict";E.d(V,{p:()=>_});var g=E(10467),w=E(93953),O=E(34635),X=E(22312);let _=(()=>{class R{constructor(){this.identity=(0,w.WQX)(O.K),this.current=(0,w.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,w.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,w.vPA)(null),this.avatarSelected=(0,w.vPA)(null)}loadProfile(N){var L=this;return(0,g.A)(function*(){const F=yield L.identity.web5.dwn.records.query({message:{filter:{protocol:X.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let C={},Y=null;if(F.records)for(const te of F.records)Y=te,C={...yield te.data.json(),id:te.dataCid,did:te.author,created:te.dateCreated};var j=null,G=null;if(N==L.identity.did){const te=yield L.identity.web5.dwn.records.query({message:{filter:{protocol:X.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(te.records&&te.records.length>0){const ee=te.records[0];j=ee,G=yield ee.data.text()}}return{record:Y,avatarRecord:j,avatar:G,profile:C}})()}openProfile(N){var L=this;return(0,g.A)(function*(){const F=yield L.loadProfile(N);L.avatarSelected.set(F.avatar),L.selected.set(F.profile),N==L.identity.did&&(L.avatar.set(F.avatar),L.current.set(F.profile))})()}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275prov=w.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},33347:(Ne,V,E)=>{"use strict";E.d(V,{k:()=>w});var g=E(93953);let w=(()=>{class O{transform(_,R){if(_){const A=_.lastIndexOf(":");if(-1!==A){const N=_.slice(0,A+1),L=_.slice(A+1);return N+L.slice(0,5)+"..."+L.slice(-5)}return _.slice(0,5)+"..."+_.slice(-5)}return _}static#e=this.\u0275fac=function(R){return new(R||O)};static#t=this.\u0275pipe=g.EJ8({name:"did",type:O,pure:!0,standalone:!0})}return O})()},78013:(Ne,V,E)=>{"use strict";E.d(V,{d:()=>O});var g=E(93953),w=E(345);let O=(()=>{class X{constructor(R){this.sanitizer=R}transform(R){return this.sanitizer.bypassSecurityTrustResourceUrl(R)}static#e=this.\u0275fac=function(A){return new(A||X)(g.rXU(w.up,16))};static#t=this.\u0275pipe=g.EJ8({name:"safeResourceUrl",type:X,pure:!0,standalone:!0})}return X})()},43794:(Ne,V,E)=>{"use strict";E.d(V,{n:()=>w});var g=E(93953);let w=(()=>{class O{constructor(){this.prefix="ariton-"}save(_,R){localStorage.setItem(this.prefix+_,JSON.stringify(R))}read(_){const R=localStorage.getItem(this.prefix+_);return R?JSON.parse(R):null}remove(_){localStorage.removeItem(this.prefix+_)}clear(){Object.keys(localStorage).forEach(_=>{_.startsWith(this.prefix)&&localStorage.removeItem(_)})}static#e=this.\u0275fac=function(R){return new(R||O)};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},65073:(Ne,V,E)=>{"use strict";var g=E(345),w=E(93953),O=E(18498);const X=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>E.e(630).then(E.bind(E,64630)).then(tn=>tn.IntroductionComponent),title:"Introduction",data:{icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([E.e(195),E.e(320)]).then(E.bind(E,62320)).then(tn=>tn.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([E.e(516),E.e(571),E.e(450),E.e(702)]).then(E.bind(E,6702)).then(tn=>tn.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([E.e(497),E.e(672)]).then(E.bind(E,23672)).then(tn=>tn.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([E.e(850),E.e(76),E.e(28)]).then(E.bind(E,73028)).then(tn=>tn.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"marketplace",loadComponent:()=>E.e(392).then(E.bind(E,94392)).then(tn=>tn.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([E.e(516),E.e(571),E.e(450),E.e(195),E.e(487)]).then(E.bind(E,8487)).then(tn=>tn.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/chat",loadComponent:()=>Promise.all([E.e(571),E.e(76),E.e(515)]).then(E.bind(E,38515)).then(tn=>tn.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([E.e(391),E.e(811)]).then(E.bind(E,11811)).then(tn=>tn.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([E.e(516),E.e(466)]).then(E.bind(E,69466)).then(tn=>tn.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([E.e(516),E.e(76),E.e(26)]).then(E.bind(E,65026)).then(tn=>tn.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([E.e(850),E.e(474)]).then(E.bind(E,53474)).then(tn=>tn.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([E.e(850),E.e(358),E.e(454),E.e(416),E.e(76),E.e(287)]).then(E.bind(E,63287)).then(tn=>tn.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([E.e(76),E.e(533)]).then(E.bind(E,29533)).then(tn=>tn.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([E.e(850),E.e(416),E.e(300)]).then(E.bind(E,20300)).then(tn=>tn.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([E.e(497),E.e(380)]).then(E.bind(E,37380)).then(tn=>tn.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>E.e(228).then(E.bind(E,92228)).then(tn=>tn.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([E.e(850),E.e(454),E.e(486)]).then(E.bind(E,96486)).then(tn=>tn.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>E.e(12).then(E.bind(E,88012)).then(tn=>tn.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>E.e(962).then(E.bind(E,75962)).then(tn=>tn.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>E.e(806).then(E.bind(E,75806)).then(tn=>tn.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>E.e(613).then(E.bind(E,29613)).then(tn=>tn.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(E.bind(E,33065)).then(tn=>tn.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>E.e(880).then(E.bind(E,17880)).then(tn=>tn.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>E.e(854).then(E.bind(E,85854)).then(tn=>tn.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>E.e(959).then(E.bind(E,60959)).then(tn=>tn.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>E.e(216).then(E.bind(E,85216)).then(tn=>tn.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>E.e(727).then(E.bind(E,19727)).then(tn=>tn.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>E.e(128).then(E.bind(E,99128)).then(tn=>tn.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>E.e(552).then(E.bind(E,18552)).then(tn=>tn.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"table",loadComponent:()=>Promise.all([E.e(516),E.e(603)]).then(E.bind(E,79603)).then(tn=>tn.TableComponent),title:"Table",data:{hide:!0,icon:"folder"}},{path:"tree",loadComponent:()=>Promise.all([E.e(358),E.e(238)]).then(E.bind(E,9238)).then(tn=>tn.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([E.e(391),E.e(988)]).then(E.bind(E,77988)).then(tn=>tn.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"help",loadComponent:()=>E.e(492).then(E.bind(E,12492)).then(tn=>tn.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}}];var _=E(60177);let A=(()=>{class tn{constructor(Ut,mn,bn,Kr,Rr){this.doc=Ut,this.delegate=mn,this.zone=bn,this.animationType=Kr,this.moduleImpl=Rr,this._rendererFactoryPromise=null,this.scheduler=(0,w.WQX)(w.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??E.e(8).then(E.bind(E,68008)).then(mn=>mn)).catch(mn=>{throw new w.wOt(5300,!1)}).then(({\u0275createEngine:mn,\u0275AnimationRendererFactory:bn})=>{this._engine=mn(this.animationType,this.doc);const Kr=new bn(this.delegate,this._engine,this.zone);return this.delegate=Kr,Kr})}createRenderer(Ut,mn){const bn=this.delegate.createRenderer(Ut,mn);if(0===bn.\u0275type)return bn;"boolean"==typeof bn.throwOnSyntheticProps&&(bn.throwOnSyntheticProps=!1);const Kr=new N(bn);return mn?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(Rr=>{const ys=Rr.createRenderer(Ut,mn);Kr.use(ys),this.scheduler?.notify(9)}).catch(Rr=>{Kr.use(bn)}),Kr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(mn){w.QTQ()};static#t=this.\u0275prov=w.jDH({token:tn,factory:tn.\u0275fac})}return tn})();class N{constructor(Rn){this.delegate=Rn,this.replay=[],this.\u0275type=1}use(Rn){if(this.delegate=Rn,null!==this.replay){for(const Ut of this.replay)Ut(Rn);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(Rn,Ut){return this.delegate.createElement(Rn,Ut)}createComment(Rn){return this.delegate.createComment(Rn)}createText(Rn){return this.delegate.createText(Rn)}get destroyNode(){return this.delegate.destroyNode}appendChild(Rn,Ut){this.delegate.appendChild(Rn,Ut)}insertBefore(Rn,Ut,mn,bn){this.delegate.insertBefore(Rn,Ut,mn,bn)}removeChild(Rn,Ut,mn){this.delegate.removeChild(Rn,Ut,mn)}selectRootElement(Rn,Ut){return this.delegate.selectRootElement(Rn,Ut)}parentNode(Rn){return this.delegate.parentNode(Rn)}nextSibling(Rn){return this.delegate.nextSibling(Rn)}setAttribute(Rn,Ut,mn,bn){this.delegate.setAttribute(Rn,Ut,mn,bn)}removeAttribute(Rn,Ut,mn){this.delegate.removeAttribute(Rn,Ut,mn)}addClass(Rn,Ut){this.delegate.addClass(Rn,Ut)}removeClass(Rn,Ut){this.delegate.removeClass(Rn,Ut)}setStyle(Rn,Ut,mn,bn){this.delegate.setStyle(Rn,Ut,mn,bn)}removeStyle(Rn,Ut,mn){this.delegate.removeStyle(Rn,Ut,mn)}setProperty(Rn,Ut,mn){this.shouldReplay(Ut)&&this.replay.push(bn=>bn.setProperty(Rn,Ut,mn)),this.delegate.setProperty(Rn,Ut,mn)}setValue(Rn,Ut){this.delegate.setValue(Rn,Ut)}listen(Rn,Ut,mn){return this.shouldReplay(Ut)&&this.replay.push(bn=>bn.listen(Rn,Ut,mn)),this.delegate.listen(Rn,Ut,mn)}shouldReplay(Rn){return null!==this.replay&&Rn.startsWith("@")}}var F=E(59030),C=E(18810),Y=E(33726),j=E(7673),G=E(28793),te=E(21413),ee=E(71985),q=E(85343);const J=new ee.c(q.l);var ie=E(57786),re=E(96354),ce=E(5964),se=E(25558),pe=E(30017),we=E(98071),Me=E(58750),k=E(39974);const h={connector:()=>new te.B};function m(tn,Rn=h){const{connector:Ut}=Rn;return(0,k.N)((mn,bn)=>{const Kr=Ut();(0,Me.Tg)(tn(function l(tn){return new ee.c(Rn=>tn.subscribe(Rn))}(Kr))).subscribe(bn),bn.add(mn.subscribe(Kr))})}var D=E(96697),B=E(88141),M=E(91986);const d="Service workers are disabled or not supported by this browser";class W{constructor(Rn){if(this.serviceWorker=Rn,Rn){const mn=(0,Y.R)(Rn,"controllerchange").pipe((0,re.T)(()=>Rn.controller)),bn=(0,F.v)(()=>(0,j.of)(Rn.controller)),Kr=(0,G.x)(bn,mn);this.worker=Kr.pipe((0,ce.p)(Fi=>!!Fi)),this.registration=this.worker.pipe((0,se.n)(()=>Rn.getRegistration()));const ns=(0,Y.R)(Rn,"message").pipe((0,re.T)(Fi=>Fi.data)).pipe((0,ce.p)(Fi=>Fi&&Fi.type)).pipe(function x(tn){return tn?Rn=>m(tn)(Rn):Rn=>function p(tn,Rn){const Ut=(0,we.T)(tn)?tn:()=>tn;return(0,we.T)(Rn)?m(Rn,{connector:Ut}):mn=>new pe.G(mn,Ut)}(new te.B)(Rn)}());ns.connect(),this.events=ns}else this.worker=this.events=this.registration=function v(tn){return(0,F.v)(()=>(0,C.$)(new Error(tn)))}(d)}postMessage(Rn,Ut){return this.worker.pipe((0,D.s)(1),(0,B.M)(mn=>{mn.postMessage({action:Rn,...Ut})})).toPromise().then(()=>{})}postMessageWithOperation(Rn,Ut,mn){const bn=this.waitForOperationCompleted(mn),Kr=this.postMessage(Rn,Ut);return Promise.all([Kr,bn]).then(([,Rr])=>Rr)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Rn){let Ut;return Ut="string"==typeof Rn?mn=>mn.type===Rn:mn=>Rn.includes(mn.type),this.events.pipe((0,ce.p)(Ut))}nextEventOfType(Rn){return this.eventsOfType(Rn).pipe((0,D.s)(1))}waitForOperationCompleted(Rn){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ce.p)(Ut=>Ut.nonce===Rn),(0,D.s)(1),(0,re.T)(Ut=>{if(void 0!==Ut.result)return Ut.result;throw new Error(Ut.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let z=(()=>{class tn{get isEnabled(){return this.sw.isEnabled}constructor(Ut){if(this.sw=Ut,this.pushManager=null,this.subscriptionChanges=new te.B,!Ut.isEnabled)return this.messages=J,this.notificationClicks=J,void(this.subscription=J);this.messages=this.sw.eventsOfType("PUSH").pipe((0,re.T)(bn=>bn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,re.T)(bn=>bn.data)),this.pushManager=this.sw.registration.pipe((0,re.T)(bn=>bn.pushManager));const mn=this.pushManager.pipe((0,se.n)(bn=>bn.getSubscription()));this.subscription=(0,ie.h)(mn,this.subscriptionChanges)}requestSubscription(Ut){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(d));const mn={userVisibleOnly:!0};let bn=this.decodeBase64(Ut.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Kr=new Uint8Array(new ArrayBuffer(bn.length));for(let Rr=0;Rr<bn.length;Rr++)Kr[Rr]=bn.charCodeAt(Rr);return mn.applicationServerKey=Kr,this.pushManager.pipe((0,se.n)(Rr=>Rr.subscribe(mn)),(0,D.s)(1)).toPromise().then(Rr=>(this.subscriptionChanges.next(Rr),Rr))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,D.s)(1),(0,se.n)(mn=>{if(null===mn)throw new Error("Not subscribed to push notifications.");return mn.unsubscribe().then(bn=>{if(!bn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(d))}decodeBase64(Ut){return atob(Ut)}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.KVO(W))};static#t=this.\u0275prov=w.jDH({token:tn,factory:tn.\u0275fac})}return tn})(),Q=(()=>{class tn{get isEnabled(){return this.sw.isEnabled}constructor(Ut){if(this.sw=Ut,!Ut.isEnabled)return this.versionUpdates=J,void(this.unrecoverable=J);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(d));const Ut=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ut},Ut)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(d));const Ut=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ut},Ut)}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.KVO(W))};static#t=this.\u0275prov=w.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const de=new w.nKC("");function xe(tn,Rn,Ut,mn){return()=>{if(!(0,_.UE)(mn)||!("serviceWorker"in navigator)||!1===Ut.enabled)return;const bn=tn.get(w.SKi),Kr=tn.get(w.o8S);let Rr;if(bn.runOutsideAngular(()=>{const ys=navigator.serviceWorker,Vs=()=>ys.controller?.postMessage({action:"INITIALIZE"});ys.addEventListener("controllerchange",Vs),Kr.onDestroy(()=>{ys.removeEventListener("controllerchange",Vs)})}),"function"==typeof Ut.registrationStrategy)Rr=Ut.registrationStrategy();else{const[ys,...Vs]=(Ut.registrationStrategy||"registerWhenStable:30000").split(":");switch(ys){case"registerImmediately":Rr=(0,j.of)(null);break;case"registerWithDelay":Rr=Ie(+Vs[0]||0);break;case"registerWhenStable":Rr=Vs[0]?(0,ie.h)(Le(tn),Ie(+Vs[0])):Le(tn);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Ut.registrationStrategy}`)}}bn.runOutsideAngular(()=>Rr.pipe((0,D.s)(1)).subscribe(()=>navigator.serviceWorker.register(Rn,{scope:Ut.scope}).catch(ys=>console.error("Service worker registration failed with:",ys))))}}function Ie(tn){return(0,j.of)(null).pipe((0,M.c)(tn))}function Le(tn){return tn.get(w.o8S).isStable.pipe((0,ce.p)(Ut=>Ut))}function ve(tn,Rn){return new W((0,_.UE)(Rn)&&!1!==tn.enabled?navigator.serviceWorker:void 0)}class ye{}const Ee={providers:[(0,w.Jn2)({eventCoalescing:!0}),(0,O.lh)(X,(0,O.Sn)(O.Kp)),function L(tn="animations"){return(0,w.ngT)("NgAsyncAnimations"),(0,w.EmA)([{provide:w._9s,useFactory:(Rn,Ut,mn)=>new A(Rn,Ut,mn,tn),deps:[_.qQ,g.B7,w.SKi]},{provide:w.bc$,useValue:"noop"===tn?"NoopAnimations":"BrowserAnimations"}])}(),function ke(tn,Rn={}){return(0,w.EmA)([z,Q,{provide:de,useValue:tn},{provide:ye,useValue:Rn},{provide:W,useFactory:ve,deps:[ye,w.Agw]},{provide:w.hnV,useFactory:xe,deps:[w.zZn,de,ye,w.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,w.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var fe=E(10467),he=E(99327),ae=E(55911),ue=E(88834),ge=E(67333),Ae=E(86600),Ue=E(18617),Ve=E(28203),ze=E(14085),It=E(67336),qe=E(36860),je=E(73703),ut=E(56977),$=E(23294),T=E(99172),S=E(70152),Z=E(49969);const le=["*"],De=["content"],Oe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qe=["mat-drawer","mat-drawer-content","*"];function Nt(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"div",1),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG();return w.Njj(bn._onBackdropClicked())}),w.k0s()}if(2&tn){const Ut=w.XpG();w.AVh("mat-drawer-shown",Ut._isShowingBackdrop())}}function ft(tn,Rn){1&tn&&(w.j41(0,"mat-drawer-content"),w.SdG(1,2),w.k0s())}const St=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Lt=["mat-sidenav","mat-sidenav-content","*"];function Gt(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"div",1),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG();return w.Njj(bn._onBackdropClicked())}),w.k0s()}if(2&tn){const Ut=w.XpG();w.AVh("mat-drawer-shown",Ut._isShowingBackdrop())}}function Vt(tn,Rn){1&tn&&(w.j41(0,"mat-sidenav-content"),w.SdG(1,2),w.k0s())}const cn={transformDrawer:(0,Z.hZ)("transform",[(0,Z.wk)("open, open-instant",(0,Z.iF)({transform:"none",visibility:"visible"})),(0,Z.wk)("void",(0,Z.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Z.kY)("void => open-instant",(0,Z.i0)("0ms")),(0,Z.kY)("void <=> open, open-instant => void",(0,Z.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Dt=new w.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ye(){return!1}}),nt=new w.nKC("MAT_DRAWER_CONTAINER");let At=(()=>{class tn extends ge.uv{constructor(Ut,mn,bn,Kr,Rr){super(bn,Kr,Rr),this._changeDetectorRef=Ut,this._container=mn}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.rXU(w.gRc),w.rXU((0,w.Rfq)(()=>$t)),w.rXU(w.aKT),w.rXU(ge.R),w.rXU(w.SKi))};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(mn,bn){2&mn&&w.xc7("margin-left",bn._container._contentMargins.left,"px")("margin-right",bn._container._contentMargins.right,"px")},standalone:!0,features:[w.Jv_([{provide:ge.uv,useExisting:tn}]),w.Vt3,w.aNF],ngContentSelectors:le,decls:1,vars:0,template:function(mn,bn){1&mn&&(w.NAR(),w.SdG(0))},encapsulation:2,changeDetection:0})}return tn})(),kt=(()=>{class tn{get position(){return this._position}set position(Ut){(Ut="end"===Ut?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Ut),this._position=Ut,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Ut){this._mode=Ut,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Ut){this._disableClose=(0,ze.he)(Ut)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Ut){("true"===Ut||"false"===Ut||null==Ut)&&(Ut=(0,ze.he)(Ut)),this._autoFocus=Ut}get opened(){return this._opened}set opened(Ut){this.toggle((0,ze.he)(Ut))}constructor(Ut,mn,bn,Kr,Rr,ys,Vs,ns){this._elementRef=Ut,this._focusTrapFactory=mn,this._focusMonitor=bn,this._platform=Kr,this._ngZone=Rr,this._interactivityChecker=ys,this._doc=Vs,this._container=ns,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new te.B,this._animationEnd=new te.B,this._animationState="void",this.openedChange=new w.bkB(!0),this._openedStream=this.openedChange.pipe((0,ce.p)(Fi=>Fi),(0,re.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ce.p)(Fi=>Fi.fromState!==Fi.toState&&0===Fi.toState.indexOf("open")),(0,je.u)(void 0)),this._closedStream=this.openedChange.pipe((0,ce.p)(Fi=>!Fi),(0,re.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ce.p)(Fi=>Fi.fromState!==Fi.toState&&"void"===Fi.toState),(0,je.u)(void 0)),this._destroyed=new te.B,this.onPositionChanged=new w.bkB,this._modeChanged=new te.B,this._injector=(0,w.WQX)(w.zZn),this._changeDetectorRef=(0,w.WQX)(w.gRc),this.openedChange.pipe((0,ut.Q)(this._destroyed)).subscribe(Fi=>{Fi?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Y.R)(this._elementRef.nativeElement,"keydown").pipe((0,ce.p)(Fi=>Fi.keyCode===It._f&&!this.disableClose&&!(0,It.rp)(Fi)),(0,ut.Q)(this._destroyed)).subscribe(Fi=>this._ngZone.run(()=>{this.close(),Fi.stopPropagation(),Fi.preventDefault()}))}),this._animationEnd.pipe((0,$.F)((Fi,Xd)=>Fi.fromState===Xd.fromState&&Fi.toState===Xd.toState)).subscribe(Fi=>{const{fromState:Xd,toState:gd}=Fi;(0===gd.indexOf("open")&&"void"===Xd||"void"===gd&&0===Xd.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Ut,mn){this._interactivityChecker.isFocusable(Ut)||(Ut.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const bn=()=>{Ut.removeEventListener("blur",bn),Ut.removeEventListener("mousedown",bn),Ut.removeAttribute("tabindex")};Ut.addEventListener("blur",bn),Ut.addEventListener("mousedown",bn)})),Ut.focus(mn)}_focusByCssSelector(Ut,mn){let bn=this._elementRef.nativeElement.querySelector(Ut);bn&&this._forceFocus(bn,mn)}_takeFocus(){if(!this._focusTrap)return;const Ut=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,w.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof Ut.focus&&Ut.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Ut){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Ut):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Ut=this._doc.activeElement;return!!Ut&&this._elementRef.nativeElement.contains(Ut)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Ut){return this.toggle(!0,Ut)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Ut=!this.opened,mn){Ut&&mn&&(this._openedVia=mn);const bn=this._setOpen(Ut,!Ut&&this._isFocusWithinDrawer(),this._openedVia||"program");return Ut||(this._openedVia=null),bn}_setOpen(Ut,mn,bn){return this._opened=Ut,Ut?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",mn&&this._restoreFocus(bn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(Kr=>{this.openedChange.pipe((0,D.s)(1)).subscribe(Rr=>Kr(Rr?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(Ut){if(!this._platform.isBrowser)return;const mn=this._elementRef.nativeElement,bn=mn.parentNode;"end"===Ut?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),bn.insertBefore(this._anchor,mn)),bn.appendChild(mn)):this._anchor&&this._anchor.parentNode.insertBefore(mn,this._anchor)}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.rXU(w.aKT),w.rXU(Ue.GX),w.rXU(Ue.FN),w.rXU(qe.OD),w.rXU(w.SKi),w.rXU(Ue.Z7),w.rXU(_.qQ,8),w.rXU(nt,8))};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["mat-drawer"]],viewQuery:function(mn,bn){if(1&mn&&w.GBs(De,5),2&mn){let Kr;w.mGM(Kr=w.lsd())&&(bn._content=Kr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(mn,bn){1&mn&&w.Kam("@transform.start",function(Rr){return bn._animationStarted.next(Rr)})("@transform.done",function(Rr){return bn._animationEnd.next(Rr)}),2&mn&&(w.zvX("@transform",bn._animationState),w.BMQ("align",null),w.AVh("mat-drawer-end","end"===bn.position)("mat-drawer-over","over"===bn.mode)("mat-drawer-push","push"===bn.mode)("mat-drawer-side","side"===bn.mode)("mat-drawer-opened",bn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[w.aNF],ngContentSelectors:le,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(mn,bn){1&mn&&(w.NAR(),w.j41(0,"div",1,0),w.SdG(2),w.k0s())},dependencies:[ge.uv],encapsulation:2,data:{animation:[cn.transformDrawer]},changeDetection:0})}return tn})(),$t=(()=>{class tn{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Ut){this._autosize=(0,ze.he)(Ut)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(Ut){this._backdropOverride=null==Ut?null:(0,ze.he)(Ut)}get scrollable(){return this._userContent||this._content}constructor(Ut,mn,bn,Kr,Rr,ys=!1,Vs){this._dir=Ut,this._element=mn,this._ngZone=bn,this._changeDetectorRef=Kr,this._animationMode=Vs,this._drawers=new w.rOR,this.backdropClick=new w.bkB,this._destroyed=new te.B,this._doCheckSubject=new te.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new te.B,this._injector=(0,w.WQX)(w.zZn),Ut&&Ut.change.pipe((0,ut.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Rr.change().pipe((0,ut.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ys}ngAfterContentInit(){this._allDrawers.changes.pipe((0,T.Z)(this._allDrawers),(0,ut.Q)(this._destroyed)).subscribe(Ut=>{this._drawers.reset(Ut.filter(mn=>!mn._container||mn._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,T.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Ut=>{this._watchDrawerToggle(Ut),this._watchDrawerPosition(Ut),this._watchDrawerMode(Ut)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,S.B)(10),(0,ut.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Ut=>Ut.open())}close(){this._drawers.forEach(Ut=>Ut.close())}updateContentMargins(){let Ut=0,mn=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Ut+=this._left._getWidth();else if("push"==this._left.mode){const bn=this._left._getWidth();Ut+=bn,mn-=bn}if(this._right&&this._right.opened)if("side"==this._right.mode)mn+=this._right._getWidth();else if("push"==this._right.mode){const bn=this._right._getWidth();mn+=bn,Ut-=bn}Ut=Ut||null,mn=mn||null,(Ut!==this._contentMargins.left||mn!==this._contentMargins.right)&&(this._contentMargins={left:Ut,right:mn},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Ut){Ut._animationStarted.pipe((0,ce.p)(mn=>mn.fromState!==mn.toState),(0,ut.Q)(this._drawers.changes)).subscribe(mn=>{"open-instant"!==mn.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Ut.mode&&Ut.openedChange.pipe((0,ut.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Ut.opened))}_watchDrawerPosition(Ut){Ut&&Ut.onPositionChanged.pipe((0,ut.Q)(this._drawers.changes)).subscribe(()=>{(0,w.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:w.wjH.Read})})}_watchDrawerMode(Ut){Ut&&Ut._modeChanged.pipe((0,ut.Q)((0,ie.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Ut){const mn=this._element.nativeElement.classList,bn="mat-drawer-container-has-open";Ut?mn.add(bn):mn.remove(bn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Ut=>{"end"==Ut.position?this._end=Ut:this._start=Ut}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Ut=>Ut&&!Ut.disableClose&&this._drawerHasBackdrop(Ut)).forEach(Ut=>Ut._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(Ut){return null!=Ut&&Ut.opened}_drawerHasBackdrop(Ut){return null==this._backdropOverride?!!Ut&&"side"!==Ut.mode:this._backdropOverride}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.rXU(Ve.dS,8),w.rXU(w.aKT),w.rXU(w.SKi),w.rXU(w.gRc),w.rXU(ge.Xj),w.rXU(Dt),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["mat-drawer-container"]],contentQueries:function(mn,bn,Kr){if(1&mn&&(w.wni(Kr,At,5),w.wni(Kr,kt,5)),2&mn){let Rr;w.mGM(Rr=w.lsd())&&(bn._content=Rr.first),w.mGM(Rr=w.lsd())&&(bn._allDrawers=Rr)}},viewQuery:function(mn,bn){if(1&mn&&w.GBs(At,5),2&mn){let Kr;w.mGM(Kr=w.lsd())&&(bn._userContent=Kr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(mn,bn){2&mn&&w.AVh("mat-drawer-container-explicit-backdrop",bn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[w.Jv_([{provide:nt,useExisting:tn}]),w.aNF],ngContentSelectors:Qe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(mn,bn){1&mn&&(w.NAR(Oe),w.DNE(0,Nt,1,2,"div",0),w.SdG(1),w.SdG(2,1),w.DNE(3,ft,2,0,"mat-drawer-content")),2&mn&&(w.vxM(bn.hasBackdrop?0:-1),w.R7$(3),w.vxM(bn._content?-1:3))},dependencies:[At],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return tn})(),Bn=(()=>{class tn extends At{constructor(Ut,mn,bn,Kr,Rr){super(Ut,mn,bn,Kr,Rr)}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.rXU(w.gRc),w.rXU((0,w.Rfq)(()=>it)),w.rXU(w.aKT),w.rXU(ge.R),w.rXU(w.SKi))};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(mn,bn){2&mn&&w.xc7("margin-left",bn._container._contentMargins.left,"px")("margin-right",bn._container._contentMargins.right,"px")},standalone:!0,features:[w.Jv_([{provide:ge.uv,useExisting:tn}]),w.Vt3,w.aNF],ngContentSelectors:le,decls:1,vars:0,template:function(mn,bn){1&mn&&(w.NAR(),w.SdG(0))},encapsulation:2,changeDetection:0})}return tn})(),et=(()=>{class tn extends kt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Ut){this._fixedInViewport=(0,ze.he)(Ut)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Ut){this._fixedTopGap=(0,ze.OE)(Ut)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Ut){this._fixedBottomGap=(0,ze.OE)(Ut)}static#e=this.\u0275fac=(()=>{let Ut;return function(bn){return(Ut||(Ut=w.xGo(tn)))(bn||tn)}})();static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(mn,bn){2&mn&&(w.BMQ("align",null),w.xc7("top",bn.fixedInViewport?bn.fixedTopGap:null,"px")("bottom",bn.fixedInViewport?bn.fixedBottomGap:null,"px"),w.AVh("mat-drawer-end","end"===bn.position)("mat-drawer-over","over"===bn.mode)("mat-drawer-push","push"===bn.mode)("mat-drawer-side","side"===bn.mode)("mat-drawer-opened",bn.opened)("mat-sidenav-fixed",bn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[w.Vt3,w.aNF],ngContentSelectors:le,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(mn,bn){1&mn&&(w.NAR(),w.j41(0,"div",1,0),w.SdG(2),w.k0s())},dependencies:[ge.uv],encapsulation:2,data:{animation:[cn.transformDrawer]},changeDetection:0})}return tn})(),it=(()=>{class tn extends $t{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let Ut;return function(bn){return(Ut||(Ut=w.xGo(tn)))(bn||tn)}})();static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["mat-sidenav-container"]],contentQueries:function(mn,bn,Kr){if(1&mn&&(w.wni(Kr,Bn,5),w.wni(Kr,et,5)),2&mn){let Rr;w.mGM(Rr=w.lsd())&&(bn._content=Rr.first),w.mGM(Rr=w.lsd())&&(bn._allDrawers=Rr)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(mn,bn){2&mn&&w.AVh("mat-drawer-container-explicit-backdrop",bn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[w.Jv_([{provide:nt,useExisting:tn}]),w.Vt3,w.aNF],ngContentSelectors:Lt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(mn,bn){1&mn&&(w.NAR(St),w.DNE(0,Gt,1,2,"div",0),w.SdG(1),w.SdG(2,1),w.DNE(3,Vt,2,0,"mat-sidenav-content")),2&mn&&(w.vxM(bn.hasBackdrop?0:-1),w.R7$(3),w.vxM(bn._content?-1:3))},dependencies:[Bn],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return tn})(),ot=(()=>{class tn{static#e=this.\u0275fac=function(mn){return new(mn||tn)};static#t=this.\u0275mod=w.$C({type:tn});static#n=this.\u0275inj=w.G2t({imports:[Ae.yE,ge.Gj,ge.Gj,Ae.yE]})}return tn})();var He=E(3902),ht=E(99213),sn=E(44668),Kt=E(36815),rn=E(59115),ir=E(43794),pn=E(34635),un=E(40605);let ur=(()=>{class tn{constructor(Ut,mn){this.swUpdate=Ut,this.zone=mn,this.isNewVersionAvailable=!1,this.intervalSource=(0,un.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(Ut=>console.error("Failed to apply updates:",Ut))}checkForUpdateOnInterval(){var Ut=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,fe.A)(function*(){if(Ut.isNewVersionAvailable)yield Ut.swUpdate.checkForUpdate();else try{Ut.isNewVersionAvailable=yield Ut.swUpdate.checkForUpdate(),console.log(Ut.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(mn){console.error("Failed to check for updates:",mn)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(Ut=>{switch(console.log("New version update event:"),console.log(Ut),Ut.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${Ut.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${Ut.currentVersion.hash}`),console.log(`New app version ready for use: ${Ut.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${Ut.version.hash}': ${Ut.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.KVO(Q),w.KVO(w.SKi))};static#t=this.\u0275prov=w.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})();var Hn=E(14823),Pn=E(55619),Dn=E(33347),qt=E(39434),Yt=E(78013),Xn=E(71997);const $n=["*"],yr=()=>["/settings"],hr=tn=>["/profile",tn],vr=()=>["/help"],sr=()=>["/accounts"],pr=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],kr=()=>["/account/create"];function Tr(tn,Rn){if(1&tn&&(w.j41(0,"a",13,6)(2,"mat-icon",31),w.EFF(3),w.k0s(),w.EFF(4),w.k0s()),2&tn){const Ut=Rn.$implicit,mn=w.sdS(1);w.Y8G("routerLink",Ut.path)("activated",mn.isActive),w.R7$(3),w.JRh(Ut.data.icon),w.R7$(),w.SpI(" ",Ut.title," ")}}function jr(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"button",32),w.bIt("click",function(){w.eBV(Ut),w.XpG();const bn=w.sdS(2);return w.Njj(bn.toggle())}),w.j41(1,"mat-icon",33),w.EFF(2,"menu"),w.k0s()()}}function Ir(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"button",34),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG();return w.Njj(bn.navigateBack())}),w.j41(1,"mat-icon"),w.EFF(2,"arrow_back"),w.k0s()()}}function Ot(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"button",35),w.bIt("click",function(){const bn=w.eBV(Ut).$implicit;return w.Njj(bn.action())}),w.j41(1,"mat-icon"),w.EFF(2),w.k0s()()}if(2&tn){const Ut=Rn.$implicit;w.Y8G("title",Ut.name),w.R7$(2),w.JRh(Ut.icon)}}function Wt(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"button",36),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG();return w.Njj(bn.applyUpdate())}),w.j41(1,"mat-icon"),w.EFF(2,"get_app"),w.k0s()()}}let en=(()=>{class tn{constructor(){this.breakpointObserver=(0,w.WQX)(he.QP),this.storage=(0,w.WQX)(ir.n),this.identity=(0,w.WQX)(pn.K),this.updateService=(0,w.WQX)(ur),this.profileService=(0,w.WQX)(qt.p),this.layout=(0,w.WQX)(Kt.Y),this.navigation=(0,w.WQX)(Pn.o),this.rootRoutes=X.filter(Ut=>Ut.path).filter(Ut=>Ut.data&&1!=Ut.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,re.T)(Ut=>Ut.matches),(0,sn.t)())}wipe(){var Ut=this;return(0,fe.A)(function*(){Ut.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}static#e=this.\u0275fac=function(mn){return new(mn||tn)};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["app-layout"]],standalone:!0,features:[w.aNF],ngContentSelectors:$n,decls:155,vars:46,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],[1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(mn,bn){if(1&mn){const Kr=w.RV6();w.NAR(),w.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),w.nI1(3,"async"),w.nI1(4,"async"),w.nI1(5,"async"),w.j41(6,"mat-toolbar"),w.nrm(7,"img",9),w.j41(8,"picture",10),w.nrm(9,"source",11)(10,"img",12),w.k0s()(),w.j41(11,"mat-nav-list"),w.Z7z(12,Tr,5,4,"a",13,w.Vm6),w.k0s()(),w.j41(14,"mat-sidenav-content")(15,"mat-toolbar",14),w.DNE(16,jr,3,0,"button",15),w.nI1(17,"async"),w.DNE(18,Ir,3,0,"button",16),w.Z7z(19,Ot,3,2,"button",17,w.fX1),w.nrm(21,"span",18),w.j41(22,"span",19),w.DNE(23,Wt,3,0,"button",20),w.j41(24,"button",21)(25,"mat-icon"),w.EFF(26,"warning"),w.k0s()(),w.j41(27,"mat-menu",null,1)(29,"button",22),w.bIt("click",function(){return w.eBV(Kr),w.Njj(bn.wipe())}),w.j41(30,"mat-icon"),w.EFF(31,"settings"),w.k0s(),w.j41(32,"span"),w.EFF(33,"Reset All Data (Wipe)"),w.k0s()()(),w.j41(34,"button",21)(35,"mat-icon"),w.EFF(36,"notifications"),w.k0s()(),w.j41(37,"mat-menu",null,2)(39,"button",23)(40,"mat-icon"),w.EFF(41,"settings"),w.k0s(),w.j41(42,"span"),w.EFF(43,"Notification Settings"),w.k0s()(),w.nrm(44,"mat-divider"),w.j41(45,"button",24)(46,"mat-icon"),w.EFF(47,"forum"),w.k0s(),w.j41(48,"span"),w.EFF(49,"Knitting Community posted new pattern"),w.k0s()(),w.j41(50,"button",24)(51,"mat-icon"),w.EFF(52,"face"),w.k0s(),w.j41(53,"span"),w.EFF(54,"Joe sent you a message"),w.k0s()(),w.j41(55,"button",24)(56,"mat-icon"),w.EFF(57,"key"),w.k0s(),w.j41(58,"span"),w.EFF(59,"New security request"),w.k0s()(),w.j41(60,"button",24)(61,"mat-icon"),w.EFF(62,"verified_user"),w.k0s(),w.j41(63,"span"),w.EFF(64,"Social account recovery request"),w.k0s()()(),w.j41(65,"button",21)(66,"mat-icon"),w.EFF(67,"account_circle"),w.k0s()(),w.j41(68,"mat-menu",null,3)(70,"div",25),w.nrm(71,"img",26),w.nI1(72,"safeResourceUrl"),w.j41(73,"div")(74,"h2"),w.EFF(75),w.k0s(),w.EFF(76),w.nrm(77,"br"),w.EFF(78),w.nI1(79,"did"),w.nrm(80,"br"),w.k0s()(),w.j41(81,"button",27)(82,"mat-icon"),w.EFF(83,"account_circle"),w.k0s(),w.j41(84,"span"),w.EFF(85,"View Profile"),w.k0s()(),w.nrm(86,"mat-divider"),w.j41(87,"button",28)(88,"mat-icon"),w.EFF(89,"switch_account"),w.k0s(),w.j41(90,"span"),w.EFF(91,"Accounts"),w.k0s()(),w.j41(92,"button",22),w.bIt("click",function(){return w.eBV(Kr),w.Njj(bn.lock())}),w.j41(93,"mat-icon"),w.EFF(94,"lock"),w.k0s(),w.j41(95,"span"),w.EFF(96,"Lock account"),w.k0s()(),w.nrm(97,"mat-divider"),w.j41(98,"button",28)(99,"mat-icon"),w.EFF(100,"translate"),w.k0s(),w.j41(101,"span"),w.EFF(102,"Language: English"),w.k0s()(),w.nrm(103,"mat-divider"),w.j41(104,"button",23)(105,"mat-icon"),w.EFF(106,"settings"),w.k0s(),w.j41(107,"span"),w.EFF(108,"Settings"),w.k0s()(),w.nrm(109,"mat-divider"),w.j41(110,"button",23)(111,"mat-icon"),w.EFF(112,"help"),w.k0s(),w.j41(113,"span"),w.EFF(114,"Help"),w.k0s()()(),w.j41(115,"mat-menu",null,4)(117,"button",23)(118,"mat-icon"),w.EFF(119,"manage_accounts"),w.k0s(),w.j41(120,"span"),w.EFF(121,"Manage Accounts"),w.k0s()(),w.nrm(122,"mat-divider"),w.j41(123,"button",23)(124,"mat-icon"),w.EFF(125,"account_circle"),w.k0s(),w.j41(126,"span"),w.EFF(127,"Account 1"),w.k0s()(),w.j41(128,"button",23)(129,"mat-icon"),w.EFF(130,"account_circle"),w.k0s(),w.j41(131,"span"),w.EFF(132,"Account 2"),w.k0s()(),w.j41(133,"button",23)(134,"mat-icon"),w.EFF(135,"account_circle"),w.k0s(),w.j41(136,"span"),w.EFF(137,"Account 3"),w.k0s()(),w.nrm(138,"mat-divider"),w.j41(139,"button",23)(140,"mat-icon"),w.EFF(141,"person_add"),w.k0s(),w.j41(142,"span"),w.EFF(143,"Add account"),w.k0s()()(),w.j41(144,"mat-menu",null,5)(146,"button",24)(147,"span"),w.EFF(148,"English"),w.k0s()(),w.j41(149,"button",24)(150,"span"),w.EFF(151,"Norwegian"),w.k0s()()()()(),w.j41(152,"div",29)(153,"div",30),w.SdG(154),w.k0s()()()()}if(2&mn){const Kr=w.sdS(28),Rr=w.sdS(38),ys=w.sdS(69),Vs=w.sdS(116),ns=w.sdS(145);w.R7$(),w.Y8G("mode",w.bMT(3,24,bn.isHandset$)?"over":"side")("opened",!1===w.bMT(4,26,bn.isHandset$)),w.BMQ("role",w.bMT(5,28,bn.isHandset$)?"dialog":"navigation"),w.R7$(11),w.Dyx(bn.rootRoutes),w.R7$(4),w.vxM(w.bMT(17,30,bn.isHandset$)?16:-1),w.R7$(2),w.vxM(bn.layout.navigation()?18:-1),w.R7$(),w.Dyx(bn.layout.actions()),w.R7$(4),w.vxM(bn.updateService.isNewVersionAvailable?23:-1),w.R7$(),w.Y8G("matMenuTriggerFor",Kr),w.R7$(10),w.Y8G("matMenuTriggerFor",Rr),w.R7$(5),w.Y8G("routerLink",w.lJ4(36,yr)),w.R7$(26),w.Y8G("matMenuTriggerFor",ys),w.R7$(6),w.Y8G("src",w.bMT(72,32,bn.profileService.avatar()),w.B4B),w.R7$(4),w.JRh(bn.profileService.current().name),w.R7$(),w.SpI(" @",bn.profileService.current().title,""),w.R7$(2),w.SpI(" ",w.bMT(79,34,bn.identity.did),""),w.R7$(3),w.Y8G("routerLink",w.eq3(37,hr,bn.identity.did)),w.R7$(6),w.Y8G("matMenuTriggerFor",Vs),w.R7$(11),w.Y8G("matMenuTriggerFor",ns),w.R7$(6),w.Y8G("routerLink",w.lJ4(39,yr)),w.R7$(6),w.Y8G("routerLink",w.lJ4(40,vr)),w.R7$(7),w.Y8G("routerLink",w.lJ4(41,sr)),w.R7$(6),w.Y8G("routerLink",w.lJ4(42,pr)),w.R7$(5),w.Y8G("routerLink",w.lJ4(43,pr)),w.R7$(5),w.Y8G("routerLink",w.lJ4(44,pr)),w.R7$(6),w.Y8G("routerLink",w.lJ4(45,kr))}},dependencies:[Yt.d,ae.s5,ae.KQ,ue.Hl,ue.iY,ot,et,it,Bn,He.Fg,He._L,He.YE,He.ZV,Xn.q,ht.m_,ht.An,rn.Cn,rn.kk,rn.fb,rn.Cp,_.Jj,O.Wk,O.wQ,Hn.uc,Hn.oV,Dn.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return tn})();var Sn=E(89417),xn=E(53719),Vn=E(99631),Jn=E(9183);function br(tn,Rn){1&tn&&w.nrm(0,"mat-spinner",4)}function lr(tn,Rn){1&tn&&(w.j41(0,"span"),w.EFF(1,"Unlock"),w.k0s())}function tr(tn,Rn){1&tn&&(w.j41(0,"mat-error"),w.EFF(1,"Password is "),w.j41(2,"strong"),w.EFF(3,"invalid"),w.k0s()())}let Hi=(()=>{class tn{constructor(Ut){this.identityService=Ut,this.passwordInput=new Sn.MJ("",Sn.k0.required),this.unlocking=(0,w.vPA)(!1),this.invalidPassword=(0,w.vPA)(!1)}onSubmit(){var Ut=this;return(0,fe.A)(function*(){Ut.unlocking.set(!0),(yield Ut.identityService.unlock(Ut.passwordInput.value))?(console.log("Vault unlocked"),Ut.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),Ut.invalidPassword.set(!0)),Ut.unlocking.set(!1)})()}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.rXU(pn.K))};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["app-unlock"]],standalone:!0,features:[w.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(mn,bn){1&mn&&(w.nrm(0,"img",0),w.j41(1,"h1"),w.EFF(2,"Unlock your account"),w.k0s(),w.j41(3,"p"),w.EFF(4,"You have configured your Ariton account with a secure personal password."),w.nrm(5,"br"),w.EFF(6,"Enter password to unlock your account."),w.k0s(),w.j41(7,"form",1),w.bIt("ngSubmit",function(){return bn.onSubmit()}),w.j41(8,"mat-form-field")(9,"mat-label"),w.EFF(10,"Enter your password"),w.k0s(),w.nrm(11,"input",2),w.k0s(),w.EFF(12," \xa0 "),w.j41(13,"button",3),w.DNE(14,br,1,0,"mat-spinner",4)(15,lr,2,0,"span"),w.k0s(),w.j41(16,"p"),w.DNE(17,tr,4,0,"mat-error"),w.k0s()()),2&mn&&(w.R7$(11),w.Y8G("formControl",bn.passwordInput),w.R7$(2),w.Y8G("disabled",!(bn.passwordInput.valid&&!bn.unlocking())),w.R7$(),w.vxM(bn.unlocking()?14:15),w.R7$(3),w.vxM(bn.invalidPassword()?17:-1))},dependencies:[Sn.YN,Sn.qT,Sn.me,Sn.BC,Sn.cb,Sn.cV,Jn.D6,Jn.LG,Sn.X1,Sn.l_,xn.RG,xn.rl,xn.nJ,xn.TL,Vn.fS,Vn.fg,ue.Hl,ue.$z,ht.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return tn})();var li=E(31439),Hr=E(33065);function Mi(tn,Rn){1&tn&&(w.j41(0,"div",0),w.nrm(1,"app-unlock"),w.k0s())}function Xi(tn,Rn){1&tn&&(w.j41(0,"div"),w.EFF(1,"Creating account... please wait..."),w.k0s())}function si(tn,Rn){1&tn&&(w.j41(0,"div"),w.EFF(1,"Loading... please wait..."),w.k0s())}function Li(tn,Rn){if(1&tn&&w.DNE(0,Xi,2,0,"div")(1,si,2,0,"div"),2&tn){const Ut=w.XpG(2);w.vxM(Ut.appService.firstTime()?0:1)}}function mo(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"button",6),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG(3);return w.Njj(bn.back())}),w.EFF(1,"Back"),w.k0s()}if(2&tn){const Ut=w.XpG(3);w.Y8G("disabled",Ut.appService.loading())}}function xs(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"button",7),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG(3);return w.Njj(bn.createAccount())}),w.EFF(1,"Create a new account"),w.k0s(),w.j41(2,"button",6),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG(3);return w.Njj(bn.restoreAccount())}),w.EFF(3,"Restore existing account"),w.k0s()}if(2&tn){const Ut=w.XpG(3);w.Y8G("disabled",Ut.appService.loading()),w.R7$(2),w.Y8G("disabled",!0)}}function ri(tn,Rn){1&tn&&w.nrm(0,"app-restore")}function xo(tn,Rn){if(1&tn&&(w.j41(0,"div",3),w.DNE(1,mo,2,1,"button",5)(2,xs,4,2)(3,ri,1,0,"app-restore"),w.k0s()),2&tn){const Ut=w.XpG(2);w.R7$(),w.vxM(Ut.restore()?1:2),w.R7$(2),w.vxM(Ut.restore()?3:-1)}}function fa(tn,Rn){1&tn&&w.nrm(0,"mat-spinner")}function Ns(tn,Rn){if(1&tn){const Ut=w.RV6();w.j41(0,"div",1),w.nrm(1,"img",2),w.DNE(2,Li,2,1)(3,xo,4,2,"div",3)(4,fa,1,0,"mat-spinner"),w.j41(5,"p"),w.EFF(6,"Issues? "),w.j41(7,"button",4),w.bIt("click",function(){w.eBV(Ut);const bn=w.XpG();return w.Njj(bn.forceClose())}),w.EFF(8,"Close loading sceen"),w.k0s()()()}if(2&tn){const Ut=w.XpG();w.R7$(2),w.vxM(Ut.appService.hasStateBeenSet()?2:3),w.R7$(2),w.vxM(Ut.appService.loading()?4:-1)}}(0,g.B8)((()=>{class tn{countChar(Ut,mn){return mn.split(Ut).length-1}constructor(Ut,mn,bn){this.router=Ut,this.layout=mn,this.identityService=bn,this.title="app",this.appService=(0,w.WQX)(li.d),this.restore=(0,w.vPA)(!1);const Kr=globalThis.location.search;if(Kr){const Rr=Object.fromEntries(new URLSearchParams(Kr));this.appService.params=Rr}console.log(Kr),console.log(this.appService.params),this.router.events.subscribe(Rr=>{Rr instanceof O.Z?(this.layout.enableScrolling(),this.layout.resetActions()):Rr instanceof O.wF&&(this.countChar("/",Rr.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,w.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.initialized.set(!0)}restoreAccount(){var Ut=this;return(0,fe.A)(function*(){Ut.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var Ut=this;return(0,fe.A)(function*(){console.log("Creating new account..."),yield Ut.appService.initialize(),console.log("App initialized!",Ut.appService.firstTime()),Ut.appService.firstTime()&&(console.log("First time setup, redirect to introduction!"),Ut.router.navigate(["/introduction"]))})()}ngOnInit(){var Ut=this;return(0,fe.A)(function*(){Ut.appService.hasStateBeenSet()?(yield Ut.appService.initialize(),console.log("App initialized!",Ut.appService.firstTime()),Ut.appService.firstTime()&&(console.log("First time setup, redirect to introduction!"),Ut.router.navigate(["/introduction"]))):console.log("No state has been set, redirect to introduction!")})()}static#e=this.\u0275fac=function(mn){return new(mn||tn)(w.rXU(O.Ix),w.rXU(Kt.Y),w.rXU(pn.K))};static#t=this.\u0275cmp=w.VBU({type:tn,selectors:[["app-root"]],standalone:!0,features:[w.Jv_([{provide:xn.U$,useValue:{appearance:"outline"}}]),w.aNF],decls:4,vars:2,consts:[[1,"unlock-container"],[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(mn,bn){1&mn&&(w.DNE(0,Mi,2,0,"div",0)(1,Ns,9,2,"div",1),w.j41(2,"app-layout"),w.nrm(3,"router-outlet"),w.k0s()),2&mn&&(w.vxM(bn.identityService.locked()?0:-1),w.R7$(),w.vxM(bn.appService.initialized()?-1:1))},dependencies:[Hr.RestoreComponent,ue.Hl,ue.$z,Jn.D6,Jn.LG,O.n3,en,Hi],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return tn})(),Ee).catch(tn=>console.error(tn))},49245:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}}},67136:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(Ne,V,E)=>{"use strict";E.d(V,{ME:()=>X,u5:()=>R});var g=E(4053),O=(E(45189),E(2685));const X={uri:g.Q.protocol,definition:g.Q},R={uri:O.Q.protocol,definition:O.Q}},69371:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={protocol:"http://message-protocol.xyz",published:!0,types:{message:{schema:"http://message.me",dataFormats:["text/plain"]},attachment:{}},structure:{message:{$actions:[{who:"anyone",can:["create","update"]}],attachment:{$actions:[{who:"anyone",can:["create","update"]}]}}}}},1639:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},4053:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>g});const g={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},4521:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.createCurve=V.getHash=void 0;const g=E(44882),w=E(96492),O=E(73040);function X(R){return{hash:R,hmac:(A,...N)=>(0,g.hmac)(R,A,(0,w.concatBytes)(...N)),randomBytes:w.randomBytes}}V.getHash=X,V.createCurve=function _(R,A){const N=L=>(0,O.weierstrass)({...R,...X(L)});return Object.freeze({...N(A),create:N})}},25299:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateBasic=V.wNAF=void 0;const g=E(63834),w=E(84097),O=BigInt(0),X=BigInt(1);V.wNAF=function _(A,N){const L=(C,Y)=>{const j=Y.negate();return C?j:Y},F=C=>({windows:Math.ceil(N/C)+1,windowSize:2**(C-1)});return{constTimeNegate:L,unsafeLadder(C,Y){let j=A.ZERO,G=C;for(;Y>O;)Y&X&&(j=j.add(G)),G=G.double(),Y>>=X;return j},precomputeWindow(C,Y){const{windows:j,windowSize:G}=F(Y),te=[];let ee=C,q=ee;for(let J=0;J<j;J++){q=ee,te.push(q);for(let ne=1;ne<G;ne++)q=q.add(ee),te.push(q);ee=q.double()}return te},wNAF(C,Y,j){const{windows:G,windowSize:te}=F(C);let ee=A.ZERO,q=A.BASE;const J=BigInt(2**C-1),ne=2**C,ie=BigInt(C);for(let re=0;re<G;re++){const ce=re*te;let se=Number(j&J);j>>=ie,se>te&&(se-=ne,j+=X);const pe=ce,we=ce+Math.abs(se)-1,k=se<0;0===se?q=q.add(L(re%2!=0,Y[pe])):ee=ee.add(L(k,Y[we]))}return{p:ee,f:q}},wNAFCached(C,Y,j,G){const te=C._WINDOW_SIZE||1;let ee=Y.get(C);return ee||(ee=this.precomputeWindow(C,te),1!==te&&Y.set(C,G(ee))),this.wNAF(te,ee,j)}}},V.validateBasic=function R(A){return(0,g.validateField)(A.Fp),(0,w.validateObject)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,g.nLength)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},45068:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.twistedEdwards=void 0;const g=E(63834),w=E(84097),O=E(84097),X=E(25299),_=BigInt(0),R=BigInt(1),A=BigInt(2),N=BigInt(8),L={zip215:!0};V.twistedEdwards=function C(Y){const j=function F(Y){const j=(0,X.validateBasic)(Y);return w.validateObject(Y,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...j})}(Y),{Fp:G,n:te,prehash:ee,hash:q,randomBytes:J,nByteLength:ne,h:ie}=j,re=A<<BigInt(8*ne)-R,ce=G.create,se=j.uvRatio||((ye,ke)=>{try{return{isValid:!0,value:G.sqrt(ye*G.inv(ke))}}catch{return{isValid:!1,value:_}}}),pe=j.adjustScalarBytes||(ye=>ye),we=j.domain||((ye,ke,me)=>{if(ke.length||me)throw new Error("Contexts/pre-hash are not supported");return ye}),Me=ye=>"bigint"==typeof ye&&_<ye,k=(ye,ke)=>Me(ye)&&Me(ke)&&ye<ke,l=ye=>ye===_||k(ye,re);function h(ye,ke){if(k(ye,ke))return ye;throw new Error(`Expected valid scalar < ${ke}, got ${typeof ye} ${ye}`)}function m(ye){return ye===_?ye:h(ye,te)}const p=new Map;function x(ye){if(!(ye instanceof D))throw new Error("ExtendedPoint expected")}class D{constructor(ke,me,Ee,fe){if(this.ex=ke,this.ey=me,this.ez=Ee,this.et=fe,!l(ke))throw new Error("x required");if(!l(me))throw new Error("y required");if(!l(Ee))throw new Error("z required");if(!l(fe))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ke){if(ke instanceof D)throw new Error("extended point not allowed");const{x:me,y:Ee}=ke||{};if(!l(me)||!l(Ee))throw new Error("invalid affine point");return new D(me,Ee,R,ce(me*Ee))}static normalizeZ(ke){const me=G.invertBatch(ke.map(Ee=>Ee.ez));return ke.map((Ee,fe)=>Ee.toAffine(me[fe])).map(D.fromAffine)}_setWindowSize(ke){this._WINDOW_SIZE=ke,p.delete(this)}assertValidity(){const{a:ke,d:me}=j;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ee,ey:fe,ez:he,et:ae}=this,ue=ce(Ee*Ee),ge=ce(fe*fe),Ae=ce(he*he),Ue=ce(Ae*Ae),Ve=ce(ue*ke);if(ce(Ae*ce(Ve+ge))!==ce(Ue+ce(me*ce(ue*ge))))throw new Error("bad point: equation left != right (1)");if(ce(Ee*fe)!==ce(he*ae))throw new Error("bad point: equation left != right (2)")}equals(ke){x(ke);const{ex:me,ey:Ee,ez:fe}=this,{ex:he,ey:ae,ez:ue}=ke,ge=ce(me*ue),Ae=ce(he*fe),Ue=ce(Ee*ue),Ve=ce(ae*fe);return ge===Ae&&Ue===Ve}is0(){return this.equals(D.ZERO)}negate(){return new D(ce(-this.ex),this.ey,this.ez,ce(-this.et))}double(){const{a:ke}=j,{ex:me,ey:Ee,ez:fe}=this,he=ce(me*me),ae=ce(Ee*Ee),ue=ce(A*ce(fe*fe)),ge=ce(ke*he),Ae=me+Ee,Ue=ce(ce(Ae*Ae)-he-ae),Ve=ge+ae,ze=Ve-ue,It=ge-ae,qe=ce(Ue*ze),je=ce(Ve*It),ut=ce(Ue*It),$=ce(ze*Ve);return new D(qe,je,$,ut)}add(ke){x(ke);const{a:me,d:Ee}=j,{ex:fe,ey:he,ez:ae,et:ue}=this,{ex:ge,ey:Ae,ez:Ue,et:Ve}=ke;if(me===BigInt(-1)){const Qe=ce((he-fe)*(Ae+ge)),Nt=ce((he+fe)*(Ae-ge)),ft=ce(Nt-Qe);if(ft===_)return this.double();const St=ce(ae*A*Ve),Lt=ce(ue*A*Ue),Gt=Lt+St,Vt=Nt+Qe,zn=Lt-St,cn=ce(Gt*ft),Bt=ce(Vt*zn),Dt=ce(Gt*zn),nt=ce(ft*Vt);return new D(cn,Bt,nt,Dt)}const ze=ce(fe*ge),It=ce(he*Ae),qe=ce(ue*Ee*Ve),je=ce(ae*Ue),ut=ce((fe+he)*(ge+Ae)-ze-It),$=je-qe,T=je+qe,S=ce(It-me*ze),Z=ce(ut*$),le=ce(T*S),De=ce(ut*S),Oe=ce($*T);return new D(Z,le,Oe,De)}subtract(ke){return this.add(ke.negate())}wNAF(ke){return d.wNAFCached(this,p,ke,D.normalizeZ)}multiply(ke){const{p:me,f:Ee}=this.wNAF(h(ke,te));return D.normalizeZ([me,Ee])[0]}multiplyUnsafe(ke){let me=m(ke);return me===_?M:this.equals(M)||me===R?this:this.equals(B)?this.wNAF(me).p:d.unsafeLadder(this,me)}isSmallOrder(){return this.multiplyUnsafe(ie).is0()}isTorsionFree(){return d.unsafeLadder(this,te).is0()}toAffine(ke){const{ex:me,ey:Ee,ez:fe}=this,he=this.is0();null==ke&&(ke=he?N:G.inv(fe));const ae=ce(me*ke),ue=ce(Ee*ke),ge=ce(fe*ke);if(he)return{x:_,y:R};if(ge!==R)throw new Error("invZ was invalid");return{x:ae,y:ue}}clearCofactor(){const{h:ke}=j;return ke===R?this:this.multiplyUnsafe(ke)}static fromHex(ke,me=!1){const{d:Ee,a:fe}=j,he=G.BYTES,ae=(ke=(0,O.ensureBytes)("pointHex",ke,he)).slice(),ue=ke[he-1];ae[he-1]=-129&ue;const ge=w.bytesToNumberLE(ae);ge===_||h(ge,me?re:G.ORDER);const Ae=ce(ge*ge),Ue=ce(Ae-R),Ve=ce(Ee*Ae-fe);let{isValid:ze,value:It}=se(Ue,Ve);if(!ze)throw new Error("Point.fromHex: invalid y coordinate");const qe=(It&R)===R,je=!!(128&ue);if(!me&&It===_&&je)throw new Error("Point.fromHex: x=0 and x_0=1");return je!==qe&&(It=ce(-It)),D.fromAffine({x:It,y:ge})}static fromPrivateKey(ke){return z(ke).point}toRawBytes(){const{x:ke,y:me}=this.toAffine(),Ee=w.numberToBytesLE(me,G.BYTES);return Ee[Ee.length-1]|=ke&R?128:0,Ee}toHex(){return w.bytesToHex(this.toRawBytes())}}D.BASE=new D(j.Gx,j.Gy,R,ce(j.Gx*j.Gy)),D.ZERO=new D(_,R,R,_);const{BASE:B,ZERO:M}=D,d=(0,X.wNAF)(D,8*ne);function v(ye){return(0,g.mod)(ye,te)}function W(ye){return v(w.bytesToNumberLE(ye))}function z(ye){const ke=ne;ye=(0,O.ensureBytes)("private key",ye,ke);const me=(0,O.ensureBytes)("hashed private key",q(ye),2*ke),Ee=pe(me.slice(0,ke)),fe=me.slice(ke,2*ke),he=W(Ee),ae=B.multiply(he),ue=ae.toRawBytes();return{head:Ee,prefix:fe,scalar:he,point:ae,pointBytes:ue}}function de(ye=new Uint8Array,...ke){const me=w.concatBytes(...ke);return W(q(we(me,(0,O.ensureBytes)("context",ye),!!ee)))}const Ie=L;return B._setWindowSize(8),{CURVE:j,getPublicKey:function Q(ye){return z(ye).pointBytes},sign:function xe(ye,ke,me={}){ye=(0,O.ensureBytes)("message",ye),ee&&(ye=ee(ye));const{prefix:Ee,scalar:fe,pointBytes:he}=z(ke),ae=de(me.context,Ee,ye),ue=B.multiply(ae).toRawBytes(),Ae=v(ae+de(me.context,ue,he,ye)*fe);m(Ae);const Ue=w.concatBytes(ue,w.numberToBytesLE(Ae,G.BYTES));return(0,O.ensureBytes)("result",Ue,2*ne)},verify:function Le(ye,ke,me,Ee=Ie){const{context:fe,zip215:he}=Ee,ae=G.BYTES;ye=(0,O.ensureBytes)("signature",ye,2*ae),ke=(0,O.ensureBytes)("message",ke),ee&&(ke=ee(ke));const ue=w.bytesToNumberLE(ye.slice(ae,2*ae));let ge,Ae,Ue;try{ge=D.fromHex(me,he),Ae=D.fromHex(ye.slice(0,ae),he),Ue=B.multiplyUnsafe(ue)}catch{return!1}if(!he&&ge.isSmallOrder())return!1;const Ve=de(fe,Ae.toRawBytes(),ge.toRawBytes(),ke);return Ae.add(ge.multiplyUnsafe(Ve)).subtract(Ue).clearCofactor().equals(D.ZERO)},ExtendedPoint:D,utils:{getExtendedPublicKey:z,randomPrivateKey:()=>J(G.BYTES),precompute:(ye=8,ke=D.BASE)=>(ke._setWindowSize(ye),ke.multiply(BigInt(3)),ke)}}}},75752:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.createHasher=V.isogenyMap=V.hash_to_field=V.expand_message_xof=V.expand_message_xmd=void 0;const g=E(63834),w=E(84097),X=w.bytesToNumberBE;function _(G,te){if(G<0||G>=1<<8*te)throw new Error(`bad I2OSP call: value=${G} length=${te}`);const ee=Array.from({length:te}).fill(0);for(let q=te-1;q>=0;q--)ee[q]=255&G,G>>>=8;return new Uint8Array(ee)}function R(G,te){const ee=new Uint8Array(G.length);for(let q=0;q<G.length;q++)ee[q]=G[q]^te[q];return ee}function A(G){if(!(0,w.isBytes)(G))throw new Error("Uint8Array expected")}function N(G){if(!Number.isSafeInteger(G))throw new Error("number expected")}function L(G,te,ee,q){A(G),A(te),N(ee),te.length>255&&(te=q((0,w.concatBytes)((0,w.utf8ToBytes)("H2C-OVERSIZE-DST-"),te)));const{outputLen:J,blockLen:ne}=q,ie=Math.ceil(ee/J);if(ie>255)throw new Error("Invalid xmd length");const re=(0,w.concatBytes)(te,_(te.length,1)),ce=_(0,ne),se=_(ee,2),pe=new Array(ie),we=q((0,w.concatBytes)(ce,G,se,_(0,1),re));pe[0]=q((0,w.concatBytes)(we,_(1,1),re));for(let k=1;k<=ie;k++){const l=[R(we,pe[k-1]),_(k+1,1),re];pe[k]=q((0,w.concatBytes)(...l))}return(0,w.concatBytes)(...pe).slice(0,ee)}function F(G,te,ee,q,J){if(A(G),A(te),N(ee),te.length>255){const ne=Math.ceil(2*q/8);te=J.create({dkLen:ne}).update((0,w.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(te).digest()}if(ee>65535||te.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return J.create({dkLen:ee}).update(G).update(_(ee,2)).update(te).update(_(te.length,1)).digest()}function C(G,te,ee){(0,w.validateObject)(ee,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:q,k:J,m:ne,hash:ie,expand:re,DST:ce}=ee;A(G),N(te);const se=function O(G){if((0,w.isBytes)(G))return G;if("string"==typeof G)return(0,w.utf8ToBytes)(G);throw new Error("DST must be Uint8Array or string")}(ce),pe=q.toString(2).length,we=Math.ceil((pe+J)/8),Me=te*ne*we;let k;if("xmd"===re)k=L(G,se,Me,ie);else if("xof"===re)k=F(G,se,Me,J,ie);else{if("_internal_pass"!==re)throw new Error('expand must be "xmd" or "xof"');k=G}const l=new Array(te);for(let h=0;h<te;h++){const m=new Array(ne);for(let p=0;p<ne;p++){const x=we*(p+h*ne),D=k.subarray(x,x+we);m[p]=(0,g.mod)(X(D),q)}l[h]=m}return l}V.expand_message_xmd=L,V.expand_message_xof=F,V.hash_to_field=C,V.isogenyMap=function Y(G,te){const ee=te.map(q=>Array.from(q).reverse());return(q,J)=>{const[ne,ie,re,ce]=ee.map(se=>se.reduce((pe,we)=>G.add(G.mul(pe,q),we)));return q=G.div(ne,ie),J=G.mul(J,G.div(re,ce)),{x:q,y:J}}},V.createHasher=function j(G,te,ee){if("function"!=typeof te)throw new Error("mapToCurve() must be defined");return{hashToCurve(q,J){const ne=C(q,2,{...ee,DST:ee.DST,...J}),ie=G.fromAffine(te(ne[0])),re=G.fromAffine(te(ne[1])),ce=ie.add(re).clearCofactor();return ce.assertValidity(),ce},encodeToCurve(q,J){const ne=C(q,1,{...ee,DST:ee.encodeDST,...J}),ie=G.fromAffine(te(ne[0])).clearCofactor();return ie.assertValidity(),ie}}}},63834:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.mapHashToField=V.getMinHashLength=V.getFieldBytesLength=V.hashToPrivateScalar=V.FpSqrtEven=V.FpSqrtOdd=V.Field=V.nLength=V.FpIsSquare=V.FpDiv=V.FpInvertBatch=V.FpPow=V.validateField=V.isNegativeLE=V.FpSqrt=V.tonelliShanks=V.invert=V.pow2=V.pow=V.mod=void 0;const g=E(84097),w=BigInt(0),O=BigInt(1),X=BigInt(2),_=BigInt(3),R=BigInt(4),A=BigInt(5),N=BigInt(8);function C(x,D){const B=x%D;return B>=w?B:D+B}function Y(x,D,B){if(B<=w||D<w)throw new Error("Expected power/modulo > 0");if(B===O)return w;let M=O;for(;D>w;)D&O&&(M=M*x%B),x=x*x%B,D>>=O;return M}function G(x,D){if(x===w||D<=w)throw new Error(`invert: expected positive integers, got n=${x} mod=${D}`);let B=C(x,D),M=D,d=w,v=O,W=O,z=w;for(;B!==w;){const de=M/B,xe=M%B,Ie=d-W*de,Le=v-z*de;M=B,B=xe,d=W,v=z,W=Ie,z=Le}if(M!==O)throw new Error("invert: does not exist");return C(d,D)}function te(x){const D=(x-O)/X;let B,M,d;for(B=x-O,M=0;B%X===w;B/=X,M++);for(d=X;d<x&&Y(d,D,x)!==x-O;d++);if(1===M){const W=(x+O)/R;return function(Q,de){const xe=Q.pow(de,W);if(!Q.eql(Q.sqr(xe),de))throw new Error("Cannot find square root");return xe}}const v=(B+O)/X;return function(z,Q){if(z.pow(Q,D)===z.neg(z.ONE))throw new Error("Cannot find square root");let de=M,xe=z.pow(z.mul(z.ONE,d),B),Ie=z.pow(Q,v),Le=z.pow(Q,B);for(;!z.eql(Le,z.ONE);){if(z.eql(Le,z.ZERO))return z.ZERO;let ve=1;for(let ke=z.sqr(Le);ve<de&&!z.eql(ke,z.ONE);ve++)ke=z.sqr(ke);const ye=z.pow(xe,O<<BigInt(de-ve-1));xe=z.sqr(ye),Ie=z.mul(Ie,ye),Le=z.mul(Le,xe),de=ve}return Ie}}function ee(x){if(x%R===_){const D=(x+O)/R;return function(M,d){const v=M.pow(d,D);if(!M.eql(M.sqr(v),d))throw new Error("Cannot find square root");return v}}if(x%N===A){const D=(x-A)/N;return function(M,d){const v=M.mul(d,X),W=M.pow(v,D),z=M.mul(d,W),Q=M.mul(M.mul(z,X),W),de=M.mul(z,M.sub(Q,M.ONE));if(!M.eql(M.sqr(de),d))throw new Error("Cannot find square root");return de}}return te(x)}BigInt(9),BigInt(16),V.mod=C,V.pow=Y,V.pow2=function j(x,D,B){let M=x;for(;D-- >w;)M*=M,M%=B;return M},V.invert=G,V.tonelliShanks=te,V.FpSqrt=ee,V.isNegativeLE=(x,D)=>(C(x,D)&O)===O;const J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ie(x,D,B){if(B<w)throw new Error("Expected power > 0");if(B===w)return x.ONE;if(B===O)return D;let M=x.ONE,d=D;for(;B>w;)B&O&&(M=x.mul(M,d)),d=x.sqr(d),B>>=O;return M}function re(x,D){const B=new Array(D.length),M=D.reduce((v,W,z)=>x.is0(W)?v:(B[z]=v,x.mul(v,W)),x.ONE),d=x.inv(M);return D.reduceRight((v,W,z)=>x.is0(W)?v:(B[z]=x.mul(v,B[z]),x.mul(v,W)),d),B}function pe(x,D){const B=void 0!==D?D:x.toString(2).length;return{nBitLength:B,nByteLength:Math.ceil(B/8)}}function h(x){if("bigint"!=typeof x)throw new Error("field order must be bigint");const D=x.toString(2).length;return Math.ceil(D/8)}function m(x){const D=h(x);return D+Math.ceil(D/2)}V.validateField=function ne(x){const B=J.reduce((M,d)=>(M[d]="function",M),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,g.validateObject)(x,B)},V.FpPow=ie,V.FpInvertBatch=re,V.FpDiv=function ce(x,D,B){return x.mul(D,"bigint"==typeof B?G(B,x.ORDER):x.inv(B))},V.FpIsSquare=function se(x){const D=(x.ORDER-O)/X;return B=>{const M=x.pow(B,D);return x.eql(M,x.ZERO)||x.eql(M,x.ONE)}},V.nLength=pe,V.Field=function we(x,D,B=!1,M={}){if(x<=w)throw new Error(`Expected Field ORDER > 0, got ${x}`);const{nBitLength:d,nByteLength:v}=pe(x,D);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=ee(x),z=Object.freeze({ORDER:x,BITS:d,BYTES:v,MASK:(0,g.bitMask)(d),ZERO:w,ONE:O,create:Q=>C(Q,x),isValid:Q=>{if("bigint"!=typeof Q)throw new Error("Invalid field element: expected bigint, got "+typeof Q);return w<=Q&&Q<x},is0:Q=>Q===w,isOdd:Q=>(Q&O)===O,neg:Q=>C(-Q,x),eql:(Q,de)=>Q===de,sqr:Q=>C(Q*Q,x),add:(Q,de)=>C(Q+de,x),sub:(Q,de)=>C(Q-de,x),mul:(Q,de)=>C(Q*de,x),pow:(Q,de)=>ie(z,Q,de),div:(Q,de)=>C(Q*G(de,x),x),sqrN:Q=>Q*Q,addN:(Q,de)=>Q+de,subN:(Q,de)=>Q-de,mulN:(Q,de)=>Q*de,inv:Q=>G(Q,x),sqrt:M.sqrt||(Q=>W(z,Q)),invertBatch:Q=>re(z,Q),cmov:(Q,de,xe)=>xe?de:Q,toBytes:Q=>B?(0,g.numberToBytesLE)(Q,v):(0,g.numberToBytesBE)(Q,v),fromBytes:Q=>{if(Q.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${Q.length}`);return B?(0,g.bytesToNumberLE)(Q):(0,g.bytesToNumberBE)(Q)}});return Object.freeze(z)},V.FpSqrtOdd=function Me(x,D){if(!x.isOdd)throw new Error("Field doesn't have isOdd");const B=x.sqrt(D);return x.isOdd(B)?B:x.neg(B)},V.FpSqrtEven=function k(x,D){if(!x.isOdd)throw new Error("Field doesn't have isOdd");const B=x.sqrt(D);return x.isOdd(B)?x.neg(B):B},V.hashToPrivateScalar=function l(x,D,B=!1){const M=(x=(0,g.ensureBytes)("privateHash",x)).length,d=pe(D).nByteLength+8;if(d<24||M<d||M>1024)throw new Error(`hashToPrivateScalar: expected ${d}-1024 bytes of input, got ${M}`);return C(B?(0,g.bytesToNumberLE)(x):(0,g.bytesToNumberBE)(x),D-O)+O},V.getFieldBytesLength=h,V.getMinHashLength=m,V.mapHashToField=function p(x,D,B=!1){const M=x.length,d=h(D),v=m(D);if(M<16||M<v||M>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${M}`);const z=C(B?(0,g.bytesToNumberBE)(x):(0,g.bytesToNumberLE)(x),D-O)+O;return B?(0,g.numberToBytesLE)(z,d):(0,g.numberToBytesBE)(z,d)}},27661:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.montgomery=void 0;const g=E(63834),w=E(84097),O=BigInt(0),X=BigInt(1);V.montgomery=function R(A){const N=function _(A){return(0,w.validateObject)(A,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...A})}(A),{P:L}=N,F=Me=>(0,g.mod)(Me,L),C=N.montgomeryBits,Y=Math.ceil(C/8),j=N.nByteLength,G=N.adjustScalarBytes||(Me=>Me),te=N.powPminus2||(Me=>(0,g.pow)(Me,L-BigInt(2),L));function ee(Me,k,l){const h=F(Me*(k-l));return[k=F(k-h),l=F(l+h)]}function q(Me){if("bigint"==typeof Me&&O<=Me&&Me<L)return Me;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const J=(N.a-BigInt(2))/BigInt(4);function ie(Me){return(0,w.numberToBytesLE)(F(Me),Y)}function se(Me,k){const l=function re(Me){const k=(0,w.ensureBytes)("u coordinate",Me,Y);return 32===j&&(k[31]&=127),(0,w.bytesToNumberLE)(k)}(k),h=function ce(Me){const k=(0,w.ensureBytes)("scalar",Me),l=k.length;if(l!==Y&&l!==j)throw new Error(`Expected ${Y} or ${j} bytes, got ${l}`);return(0,w.bytesToNumberLE)(G(k))}(Me),m=function ne(Me,k){const l=q(Me),h=q(k),m=l;let d,p=X,x=O,D=l,B=X,M=O;for(let W=BigInt(C-1);W>=O;W--){const z=h>>W&X;M^=z,d=ee(M,p,D),p=d[0],D=d[1],d=ee(M,x,B),x=d[0],B=d[1],M=z;const Q=p+x,de=F(Q*Q),xe=p-x,Ie=F(xe*xe),Le=de-Ie,ve=D+B,ke=F((D-B)*Q),me=F(ve*xe),Ee=ke+me,fe=ke-me;D=F(Ee*Ee),B=F(m*F(fe*fe)),p=F(de*Ie),x=F(Le*(de+F(J*Le)))}d=ee(M,p,D),p=d[0],D=d[1],d=ee(M,x,B),x=d[0],B=d[1];const v=te(x);return F(p*v)}(l,h);if(m===O)throw new Error("Invalid private or public key received");return ie(m)}const pe=ie(N.Gu);function we(Me){return se(Me,pe)}return{scalarMult:se,scalarMultBase:we,getSharedSecret:(Me,k)=>se(Me,k),getPublicKey:Me=>we(Me),utils:{randomPrivateKey:()=>N.randomBytes(N.nByteLength)},GuBytes:pe}}},84097:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateObject=V.createHmacDrbg=V.bitMask=V.bitSet=V.bitGet=V.bitLen=V.utf8ToBytes=V.equalBytes=V.concatBytes=V.ensureBytes=V.numberToVarBytesBE=V.numberToBytesLE=V.numberToBytesBE=V.bytesToNumberLE=V.bytesToNumberBE=V.hexToBytes=V.hexToNumber=V.numberToHexUnpadded=V.bytesToHex=V.isBytes=void 0;const E=BigInt(0),g=BigInt(1),w=BigInt(2);function O(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}V.isBytes=O;const X=Array.from({length:256},(h,m)=>m.toString(16).padStart(2,"0"));function _(h){if(!O(h))throw new Error("Uint8Array expected");let m="";for(let p=0;p<h.length;p++)m+=X[h[p]];return m}function R(h){const m=h.toString(16);return 1&m.length?`0${m}`:m}function A(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);return BigInt(""===h?"0":`0x${h}`)}V.bytesToHex=_,V.numberToHexUnpadded=R,V.hexToNumber=A;const N={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function L(h){return h>=N._0&&h<=N._9?h-N._0:h>=N._A&&h<=N._F?h-(N._A-10):h>=N._a&&h<=N._f?h-(N._a-10):void 0}function F(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);const m=h.length,p=m/2;if(m%2)throw new Error("padded hex string expected, got unpadded hex of length "+m);const x=new Uint8Array(p);for(let D=0,B=0;D<p;D++,B+=2){const M=L(h.charCodeAt(B)),d=L(h.charCodeAt(B+1));if(void 0===M||void 0===d)throw new Error('hex string expected, got non-hex character "'+(h[B]+h[B+1])+'" at index '+B);x[D]=16*M+d}return x}function j(h,m){return F(h.toString(16).padStart(2*m,"0"))}function q(...h){let m=0;for(let D=0;D<h.length;D++){const B=h[D];if(!O(B))throw new Error("Uint8Array expected");m+=B.length}let p=new Uint8Array(m),x=0;for(let D=0;D<h.length;D++){const B=h[D];p.set(B,x),x+=B.length}return p}V.hexToBytes=F,V.bytesToNumberBE=function C(h){return A(_(h))},V.bytesToNumberLE=function Y(h){if(!O(h))throw new Error("Uint8Array expected");return A(_(Uint8Array.from(h).reverse()))},V.numberToBytesBE=j,V.numberToBytesLE=function G(h,m){return j(h,m).reverse()},V.numberToVarBytesBE=function te(h){return F(R(h))},V.ensureBytes=function ee(h,m,p){let x;if("string"==typeof m)try{x=F(m)}catch(B){throw new Error(`${h} must be valid hex string, got "${m}". Cause: ${B}`)}else{if(!O(m))throw new Error(`${h} must be hex string or Uint8Array`);x=Uint8Array.from(m)}const D=x.length;if("number"==typeof p&&D!==p)throw new Error(`${h} expected ${p} bytes, got ${D}`);return x},V.concatBytes=q,V.equalBytes=function J(h,m){if(h.length!==m.length)return!1;let p=0;for(let x=0;x<h.length;x++)p|=h[x]^m[x];return 0===p},V.utf8ToBytes=function ne(h){if("string"!=typeof h)throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array((new TextEncoder).encode(h))},V.bitLen=function ie(h){let m;for(m=0;h>E;h>>=g,m+=1);return m},V.bitGet=function re(h,m){return h>>BigInt(m)&g},V.bitSet=(h,m,p)=>h|(p?g:E)<<BigInt(m),V.bitMask=h=>(w<<BigInt(h-1))-g;const pe=h=>new Uint8Array(h),we=h=>Uint8Array.from(h);V.createHmacDrbg=function Me(h,m,p){if("number"!=typeof h||h<2)throw new Error("hashLen must be a number");if("number"!=typeof m||m<2)throw new Error("qByteLen must be a number");if("function"!=typeof p)throw new Error("hmacFn must be a function");let x=pe(h),D=pe(h),B=0;const M=()=>{x.fill(1),D.fill(0),B=0},d=(...Q)=>p(D,x,...Q),v=(Q=pe())=>{D=d(we([0]),Q),x=d(),0!==Q.length&&(D=d(we([1]),Q),x=d())},W=()=>{if(B++>=1e3)throw new Error("drbg: tried 1000 values");let Q=0;const de=[];for(;Q<m;){x=d();const xe=x.slice();de.push(xe),Q+=x.length}return q(...de)};return(Q,de)=>{let xe;for(M(),v(Q);!(xe=de(W()));)v();return M(),xe}};const k={bigint:h=>"bigint"==typeof h,function:h=>"function"==typeof h,boolean:h=>"boolean"==typeof h,string:h=>"string"==typeof h,stringOrUint8Array:h=>"string"==typeof h||O(h),isSafeInteger:h=>Number.isSafeInteger(h),array:h=>Array.isArray(h),field:(h,m)=>m.Fp.isValid(h),hash:h=>"function"==typeof h&&Number.isSafeInteger(h.outputLen)};V.validateObject=function l(h,m,p={}){const x=(D,B,M)=>{const d=k[B];if("function"!=typeof d)throw new Error(`Invalid validator "${B}", expected function`);const v=h[D];if(!(M&&void 0===v||d(v,h)))throw new Error(`Invalid param ${String(D)}=${v} (${typeof v}), expected ${B}`)};for(const[D,B]of Object.entries(m))x(D,B,!1);for(const[D,B]of Object.entries(p))x(D,B,!0);return h}},73040:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.mapToCurveSimpleSWU=V.SWUFpSqrtRatio=V.weierstrass=V.weierstrassPoints=V.DER=void 0;const g=E(63834),w=E(84097),O=E(84097),X=E(25299),{bytesToNumberBE:R,hexToBytes:A}=w;V.DER={Err:class extends Error{constructor(ne=""){super(ne)}},_parseInt(J){const{Err:ne}=V.DER;if(J.length<2||2!==J[0])throw new ne("Invalid signature integer tag");const ie=J[1],re=J.subarray(2,ie+2);if(!ie||re.length!==ie)throw new ne("Invalid signature integer: wrong length");if(128&re[0])throw new ne("Invalid signature integer: negative");if(0===re[0]&&!(128&re[1]))throw new ne("Invalid signature integer: unnecessary leading zero");return{d:R(re),l:J.subarray(ie+2)}},toSig(J){const{Err:ne}=V.DER,ie="string"==typeof J?A(J):J;if(!w.isBytes(ie))throw new Error("ui8a expected");let re=ie.length;if(re<2||48!=ie[0])throw new ne("Invalid signature tag");if(ie[1]!==re-2)throw new ne("Invalid signature: incorrect length");const{d:ce,l:se}=V.DER._parseInt(ie.subarray(2)),{d:pe,l:we}=V.DER._parseInt(se);if(we.length)throw new ne("Invalid signature: left bytes after parsing");return{r:ce,s:pe}},hexFromSig(J){const ne=k=>8&Number.parseInt(k[0],16)?"00"+k:k,ie=k=>{const l=k.toString(16);return 1&l.length?`0${l}`:l},re=ne(ie(J.s)),ce=ne(ie(J.r)),se=re.length/2,pe=ce.length/2,we=ie(se),Me=ie(pe);return`30${ie(pe+se+4)}02${Me}${ce}02${we}${re}`}};const N=BigInt(0),L=BigInt(1),F=BigInt(2),C=BigInt(3),Y=BigInt(4);function j(J){const ne=function _(J){const ne=(0,X.validateBasic)(J);w.validateObject(ne,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ie,Fp:re,a:ce}=ne;if(ie){if(!re.eql(ce,re.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ie||"bigint"!=typeof ie.beta||"function"!=typeof ie.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ne})}(J),{Fp:ie}=ne,re=ne.toBytes||((x,D,B)=>{const M=D.toAffine();return w.concatBytes(Uint8Array.from([4]),ie.toBytes(M.x),ie.toBytes(M.y))}),ce=ne.fromBytes||(x=>{const D=x.subarray(1);return{x:ie.fromBytes(D.subarray(0,ie.BYTES)),y:ie.fromBytes(D.subarray(ie.BYTES,2*ie.BYTES))}});function se(x){const{a:D,b:B}=ne,M=ie.sqr(x),d=ie.mul(M,x);return ie.add(ie.add(d,ie.mul(x,D)),B)}if(!ie.eql(ie.sqr(ne.Gy),se(ne.Gx)))throw new Error("bad generator point: equation left != right");function pe(x){return"bigint"==typeof x&&N<x&&x<ne.n}function we(x){if(!pe(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Me(x){const{allowedPrivateKeyLengths:D,nByteLength:B,wrapPrivateKey:M,n:d}=ne;if(D&&"bigint"!=typeof x){if(w.isBytes(x)&&(x=w.bytesToHex(x)),"string"!=typeof x||!D.includes(x.length))throw new Error("Invalid key");x=x.padStart(2*B,"0")}let v;try{v="bigint"==typeof x?x:w.bytesToNumberBE((0,O.ensureBytes)("private key",x,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof x}`)}return M&&(v=g.mod(v,d)),we(v),v}const k=new Map;function l(x){if(!(x instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(D,B,M){if(this.px=D,this.py=B,this.pz=M,null==D||!ie.isValid(D))throw new Error("x required");if(null==B||!ie.isValid(B))throw new Error("y required");if(null==M||!ie.isValid(M))throw new Error("z required")}static fromAffine(D){const{x:B,y:M}=D||{};if(!D||!ie.isValid(B)||!ie.isValid(M))throw new Error("invalid affine point");if(D instanceof h)throw new Error("projective point not allowed");const d=v=>ie.eql(v,ie.ZERO);return d(B)&&d(M)?h.ZERO:new h(B,M,ie.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){const B=ie.invertBatch(D.map(M=>M.pz));return D.map((M,d)=>M.toAffine(B[d])).map(h.fromAffine)}static fromHex(D){const B=h.fromAffine(ce((0,O.ensureBytes)("pointHex",D)));return B.assertValidity(),B}static fromPrivateKey(D){return h.BASE.multiply(Me(D))}_setWindowSize(D){this._WINDOW_SIZE=D,k.delete(this)}assertValidity(){if(this.is0()){if(ne.allowInfinityPoint&&!ie.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:D,y:B}=this.toAffine();if(!ie.isValid(D)||!ie.isValid(B))throw new Error("bad point: x or y not FE");const M=ie.sqr(B),d=se(D);if(!ie.eql(M,d))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:D}=this.toAffine();if(ie.isOdd)return!ie.isOdd(D);throw new Error("Field doesn't support isOdd")}equals(D){l(D);const{px:B,py:M,pz:d}=this,{px:v,py:W,pz:z}=D,Q=ie.eql(ie.mul(B,z),ie.mul(v,d)),de=ie.eql(ie.mul(M,z),ie.mul(W,d));return Q&&de}negate(){return new h(this.px,ie.neg(this.py),this.pz)}double(){const{a:D,b:B}=ne,M=ie.mul(B,C),{px:d,py:v,pz:W}=this;let z=ie.ZERO,Q=ie.ZERO,de=ie.ZERO,xe=ie.mul(d,d),Ie=ie.mul(v,v),Le=ie.mul(W,W),ve=ie.mul(d,v);return ve=ie.add(ve,ve),de=ie.mul(d,W),de=ie.add(de,de),z=ie.mul(D,de),Q=ie.mul(M,Le),Q=ie.add(z,Q),z=ie.sub(Ie,Q),Q=ie.add(Ie,Q),Q=ie.mul(z,Q),z=ie.mul(ve,z),de=ie.mul(M,de),Le=ie.mul(D,Le),ve=ie.sub(xe,Le),ve=ie.mul(D,ve),ve=ie.add(ve,de),de=ie.add(xe,xe),xe=ie.add(de,xe),xe=ie.add(xe,Le),xe=ie.mul(xe,ve),Q=ie.add(Q,xe),Le=ie.mul(v,W),Le=ie.add(Le,Le),xe=ie.mul(Le,ve),z=ie.sub(z,xe),de=ie.mul(Le,Ie),de=ie.add(de,de),de=ie.add(de,de),new h(z,Q,de)}add(D){l(D);const{px:B,py:M,pz:d}=this,{px:v,py:W,pz:z}=D;let Q=ie.ZERO,de=ie.ZERO,xe=ie.ZERO;const Ie=ne.a,Le=ie.mul(ne.b,C);let ve=ie.mul(B,v),ye=ie.mul(M,W),ke=ie.mul(d,z),me=ie.add(B,M),Ee=ie.add(v,W);me=ie.mul(me,Ee),Ee=ie.add(ve,ye),me=ie.sub(me,Ee),Ee=ie.add(B,d);let fe=ie.add(v,z);return Ee=ie.mul(Ee,fe),fe=ie.add(ve,ke),Ee=ie.sub(Ee,fe),fe=ie.add(M,d),Q=ie.add(W,z),fe=ie.mul(fe,Q),Q=ie.add(ye,ke),fe=ie.sub(fe,Q),xe=ie.mul(Ie,Ee),Q=ie.mul(Le,ke),xe=ie.add(Q,xe),Q=ie.sub(ye,xe),xe=ie.add(ye,xe),de=ie.mul(Q,xe),ye=ie.add(ve,ve),ye=ie.add(ye,ve),ke=ie.mul(Ie,ke),Ee=ie.mul(Le,Ee),ye=ie.add(ye,ke),ke=ie.sub(ve,ke),ke=ie.mul(Ie,ke),Ee=ie.add(Ee,ke),ve=ie.mul(ye,Ee),de=ie.add(de,ve),ve=ie.mul(fe,Ee),Q=ie.mul(me,Q),Q=ie.sub(Q,ve),ve=ie.mul(me,ye),xe=ie.mul(fe,xe),xe=ie.add(xe,ve),new h(Q,de,xe)}subtract(D){return this.add(D.negate())}is0(){return this.equals(h.ZERO)}wNAF(D){return p.wNAFCached(this,k,D,B=>{const M=ie.invertBatch(B.map(d=>d.pz));return B.map((d,v)=>d.toAffine(M[v])).map(h.fromAffine)})}multiplyUnsafe(D){const B=h.ZERO;if(D===N)return B;if(we(D),D===L)return this;const{endo:M}=ne;if(!M)return p.unsafeLadder(this,D);let{k1neg:d,k1:v,k2neg:W,k2:z}=M.splitScalar(D),Q=B,de=B,xe=this;for(;v>N||z>N;)v&L&&(Q=Q.add(xe)),z&L&&(de=de.add(xe)),xe=xe.double(),v>>=L,z>>=L;return d&&(Q=Q.negate()),W&&(de=de.negate()),de=new h(ie.mul(de.px,M.beta),de.py,de.pz),Q.add(de)}multiply(D){we(D);let M,d,B=D;const{endo:v}=ne;if(v){const{k1neg:W,k1:z,k2neg:Q,k2:de}=v.splitScalar(B);let{p:xe,f:Ie}=this.wNAF(z),{p:Le,f:ve}=this.wNAF(de);xe=p.constTimeNegate(W,xe),Le=p.constTimeNegate(Q,Le),Le=new h(ie.mul(Le.px,v.beta),Le.py,Le.pz),M=xe.add(Le),d=Ie.add(ve)}else{const{p:W,f:z}=this.wNAF(B);M=W,d=z}return h.normalizeZ([M,d])[0]}multiplyAndAddUnsafe(D,B,M){const d=h.BASE,v=(z,Q)=>Q!==N&&Q!==L&&z.equals(d)?z.multiply(Q):z.multiplyUnsafe(Q),W=v(this,B).add(v(D,M));return W.is0()?void 0:W}toAffine(D){const{px:B,py:M,pz:d}=this,v=this.is0();null==D&&(D=v?ie.ONE:ie.inv(d));const W=ie.mul(B,D),z=ie.mul(M,D),Q=ie.mul(d,D);if(v)return{x:ie.ZERO,y:ie.ZERO};if(!ie.eql(Q,ie.ONE))throw new Error("invZ was invalid");return{x:W,y:z}}isTorsionFree(){const{h:D,isTorsionFree:B}=ne;if(D===L)return!0;if(B)return B(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:D,clearCofactor:B}=ne;return D===L?this:B?B(h,this):this.multiplyUnsafe(ne.h)}toRawBytes(D=!0){return this.assertValidity(),re(h,this,D)}toHex(D=!0){return w.bytesToHex(this.toRawBytes(D))}}h.BASE=new h(ne.Gx,ne.Gy,ie.ONE),h.ZERO=new h(ie.ZERO,ie.ONE,ie.ZERO);const m=ne.nBitLength,p=(0,X.wNAF)(h,ne.endo?Math.ceil(m/2):m);return{CURVE:ne,ProjectivePoint:h,normPrivateKeyToScalar:Me,weierstrassEquation:se,isWithinCurveOrder:pe}}function ee(J,ne){const ie=J.ORDER;let re=N;for(let x=ie-L;x%F===N;x/=F)re+=L;const ce=re,se=F<<ce-L-L,pe=se*F,we=(ie-L)/pe,Me=(we-L)/F,k=pe-L,l=se,h=J.pow(ne,we),m=J.pow(ne,(we+L)/F);let p=(x,D)=>{let B=h,M=J.pow(D,k),d=J.sqr(M);d=J.mul(d,D);let v=J.mul(x,d);v=J.pow(v,Me),v=J.mul(v,M),M=J.mul(v,D),d=J.mul(v,x);let W=J.mul(d,M);v=J.pow(W,l);let z=J.eql(v,J.ONE);M=J.mul(d,m),v=J.mul(W,B),d=J.cmov(M,d,z),W=J.cmov(v,W,z);for(let Q=ce;Q>L;Q--){let de=Q-F;de=F<<de-L;let xe=J.pow(W,de);const Ie=J.eql(xe,J.ONE);M=J.mul(d,B),B=J.mul(B,B),xe=J.mul(W,B),d=J.cmov(M,d,Ie),W=J.cmov(xe,W,Ie)}return{isValid:z,value:d}};if(J.ORDER%Y===C){const x=(J.ORDER-C)/Y,D=J.sqrt(J.neg(ne));p=(B,M)=>{let d=J.sqr(M);const v=J.mul(B,M);d=J.mul(d,v);let W=J.pow(d,x);W=J.mul(W,v);const z=J.mul(W,D),Q=J.mul(J.sqr(W),M),de=J.eql(Q,B);return{isValid:de,value:J.cmov(z,W,de)}}}return p}V.weierstrassPoints=j,V.weierstrass=function te(J){const ne=function G(J){const ne=(0,X.validateBasic)(J);return w.validateObject(ne,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ne})}(J),{Fp:ie,n:re}=ne,ce=ie.BYTES+1,se=2*ie.BYTES+1;function we(Ee){return g.mod(Ee,re)}function Me(Ee){return g.invert(Ee,re)}const{ProjectivePoint:k,normPrivateKeyToScalar:l,weierstrassEquation:h,isWithinCurveOrder:m}=j({...ne,toBytes(Ee,fe,he){const ae=fe.toAffine(),ue=ie.toBytes(ae.x),ge=w.concatBytes;return he?ge(Uint8Array.from([fe.hasEvenY()?2:3]),ue):ge(Uint8Array.from([4]),ue,ie.toBytes(ae.y))},fromBytes(Ee){const fe=Ee.length,he=Ee[0],ae=Ee.subarray(1);if(fe!==ce||2!==he&&3!==he){if(fe===se&&4===he)return{x:ie.fromBytes(ae.subarray(0,ie.BYTES)),y:ie.fromBytes(ae.subarray(ie.BYTES,2*ie.BYTES))};throw new Error(`Point of length ${fe} was invalid. Expected ${ce} compressed bytes or ${se} uncompressed bytes`)}{const ue=w.bytesToNumberBE(ae);if(!function pe(Ee){return N<Ee&&Ee<ie.ORDER}(ue))throw new Error("Point is not on curve");const ge=h(ue);let Ae=ie.sqrt(ge);return!(1&~he)!=((Ae&L)===L)&&(Ae=ie.neg(Ae)),{x:ue,y:Ae}}}}),p=Ee=>w.bytesToHex(w.numberToBytesBE(Ee,ne.nByteLength));function x(Ee){return Ee>re>>L}const B=(Ee,fe,he)=>w.bytesToNumberBE(Ee.slice(fe,he));class M{constructor(fe,he,ae){this.r=fe,this.s=he,this.recovery=ae,this.assertValidity()}static fromCompact(fe){const he=ne.nByteLength;return fe=(0,O.ensureBytes)("compactSignature",fe,2*he),new M(B(fe,0,he),B(fe,he,2*he))}static fromDER(fe){const{r:he,s:ae}=V.DER.toSig((0,O.ensureBytes)("DER",fe));return new M(he,ae)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(fe){return new M(this.r,this.s,fe)}recoverPublicKey(fe){const{r:he,s:ae,recovery:ue}=this,ge=de((0,O.ensureBytes)("msgHash",fe));if(null==ue||![0,1,2,3].includes(ue))throw new Error("recovery id invalid");const Ae=2===ue||3===ue?he+ne.n:he;if(Ae>=ie.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ve=k.fromHex((1&ue?"03":"02")+p(Ae)),ze=Me(Ae),It=we(-ge*ze),qe=we(ae*ze),je=k.BASE.multiplyAndAddUnsafe(Ve,It,qe);if(!je)throw new Error("point at infinify");return je.assertValidity(),je}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,we(-this.s),this.recovery):this}toDERRawBytes(){return w.hexToBytes(this.toDERHex())}toDERHex(){return V.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return w.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const d={isValidPrivateKey(Ee){try{return l(Ee),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const Ee=g.getMinHashLength(ne.n);return g.mapHashToField(ne.randomBytes(Ee),ne.n)},precompute:(Ee=8,fe=k.BASE)=>(fe._setWindowSize(Ee),fe.multiply(BigInt(3)),fe)};function W(Ee){const fe=w.isBytes(Ee),he="string"==typeof Ee,ae=(fe||he)&&Ee.length;return fe?ae===ce||ae===se:he?ae===2*ce||ae===2*se:Ee instanceof k}const Q=ne.bits2int||function(Ee){const fe=w.bytesToNumberBE(Ee),he=8*Ee.length-ne.nBitLength;return he>0?fe>>BigInt(he):fe},de=ne.bits2int_modN||function(Ee){return we(Q(Ee))},xe=w.bitMask(ne.nBitLength);function Ie(Ee){if("bigint"!=typeof Ee)throw new Error("bigint expected");if(!(N<=Ee&&Ee<xe))throw new Error(`bigint expected < 2^${ne.nBitLength}`);return w.numberToBytesBE(Ee,ne.nByteLength)}const ve={lowS:ne.lowS,prehash:!1},ye={lowS:ne.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:ne,getPublicKey:function v(Ee,fe=!0){return k.fromPrivateKey(Ee).toRawBytes(fe)},getSharedSecret:function z(Ee,fe,he=!0){if(W(Ee))throw new Error("first arg must be private key");if(!W(fe))throw new Error("second arg must be public key");return k.fromHex(fe).multiply(l(Ee)).toRawBytes(he)},sign:function ke(Ee,fe,he=ve){const{seed:ae,k2sig:ue}=function Le(Ee,fe,he=ve){if(["recovered","canonical"].some($=>$ in he))throw new Error("sign() legacy options not supported");const{hash:ae,randomBytes:ue}=ne;let{lowS:ge,prehash:Ae,extraEntropy:Ue}=he;null==ge&&(ge=!0),Ee=(0,O.ensureBytes)("msgHash",Ee),Ae&&(Ee=(0,O.ensureBytes)("prehashed msgHash",ae(Ee)));const Ve=de(Ee),ze=l(fe),It=[Ie(ze),Ie(Ve)];if(null!=Ue){const $=!0===Ue?ue(ie.BYTES):Ue;It.push((0,O.ensureBytes)("extraEntropy",$))}const qe=w.concatBytes(...It),je=Ve;return{seed:qe,k2sig:function ut($){const T=Q($);if(!m(T))return;const S=Me(T),Z=k.BASE.multiply(T).toAffine(),le=we(Z.x);if(le===N)return;const De=we(S*we(je+le*ze));if(De===N)return;let Oe=(Z.x===le?0:2)|Number(Z.y&L),Qe=De;return ge&&x(De)&&(Qe=function D(Ee){return x(Ee)?we(-Ee):Ee}(De),Oe^=1),new M(le,Qe,Oe)}}}(Ee,fe,he);return w.createHmacDrbg(ne.hash.outputLen,ne.nByteLength,ne.hmac)(ae,ue)},verify:function me(Ee,fe,he,ae=ye){const ue=Ee;if(fe=(0,O.ensureBytes)("msgHash",fe),he=(0,O.ensureBytes)("publicKey",he),"strict"in ae)throw new Error("options.strict was renamed to lowS");const{lowS:ge,prehash:Ae}=ae;let Ue,Ve;try{if("string"==typeof ue||w.isBytes(ue))try{Ue=M.fromDER(ue)}catch(Z){if(!(Z instanceof V.DER.Err))throw Z;Ue=M.fromCompact(ue)}else{if("object"!=typeof ue||"bigint"!=typeof ue.r||"bigint"!=typeof ue.s)throw new Error("PARSE");{const{r:Z,s:le}=ue;Ue=new M(Z,le)}}Ve=k.fromHex(he)}catch(Z){if("PARSE"===Z.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ge&&Ue.hasHighS())return!1;Ae&&(fe=ne.hash(fe));const{r:ze,s:It}=Ue,qe=de(fe),je=Me(It),ut=we(qe*je),$=we(ze*je),T=k.BASE.multiplyAndAddUnsafe(Ve,ut,$)?.toAffine();return!!T&&we(T.x)===ze},ProjectivePoint:k,Signature:M,utils:d}},V.SWUFpSqrtRatio=ee,V.mapToCurveSimpleSWU=function q(J,ne){if(g.validateField(J),!J.isValid(ne.A)||!J.isValid(ne.B)||!J.isValid(ne.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ie=ee(J,ne.Z);if(!J.isOdd)throw new Error("Fp.isOdd is not implemented!");return re=>{let ce,se,pe,we,Me,k,l,h;ce=J.sqr(re),ce=J.mul(ce,ne.Z),se=J.sqr(ce),se=J.add(se,ce),pe=J.add(se,J.ONE),pe=J.mul(pe,ne.B),we=J.cmov(ne.Z,J.neg(se),!J.eql(se,J.ZERO)),we=J.mul(we,ne.A),se=J.sqr(pe),k=J.sqr(we),Me=J.mul(k,ne.A),se=J.add(se,Me),se=J.mul(se,pe),k=J.mul(k,we),Me=J.mul(k,ne.B),se=J.add(se,Me),l=J.mul(ce,pe);const{isValid:m,value:p}=ie(se,k);h=J.mul(ce,re),h=J.mul(h,p),l=J.cmov(l,pe,m),h=J.cmov(h,p,m);const x=J.isOdd(re)===J.isOdd(h);return h=J.cmov(J.neg(h),h,x),l=J.div(l,we),{x:l,y:h}}}},57340:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.hash_to_ristretto255=V.hashToRistretto255=V.RistrettoPoint=V.encodeToCurve=V.hashToCurve=V.edwardsToMontgomeryPriv=V.edwardsToMontgomery=V.edwardsToMontgomeryPub=V.x25519=V.ed25519ph=V.ed25519ctx=V.ed25519=V.ED25519_TORSION_SUBGROUP=void 0;const g=E(44207),w=E(96492),O=E(45068),X=E(27661),_=E(63834),R=E(84097),A=E(75752),N=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),L=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),F=BigInt(0),C=BigInt(1),Y=BigInt(2),j=BigInt(5),G=BigInt(10),te=BigInt(20),ee=BigInt(40),q=BigInt(80);function J(ke){const me=N,fe=ke*ke%me*ke%me,he=(0,_.pow2)(fe,Y,me)*fe%me,ae=(0,_.pow2)(he,C,me)*ke%me,ue=(0,_.pow2)(ae,j,me)*ae%me,ge=(0,_.pow2)(ue,G,me)*ue%me,Ae=(0,_.pow2)(ge,te,me)*ge%me,Ue=(0,_.pow2)(Ae,ee,me)*Ae%me,Ve=(0,_.pow2)(Ue,q,me)*Ue%me,ze=(0,_.pow2)(Ve,q,me)*Ue%me,It=(0,_.pow2)(ze,G,me)*ue%me;return{pow_p_5_8:(0,_.pow2)(It,Y,me)*ke%me,b2:fe}}function ne(ke){return ke[0]&=248,ke[31]&=127,ke[31]|=64,ke}function ie(ke,me){const Ee=N,fe=(0,_.mod)(me*me*me,Ee),ae=J(ke*(0,_.mod)(fe*fe*me,Ee)).pow_p_5_8;let ue=(0,_.mod)(ke*fe*ae,Ee);const ge=(0,_.mod)(me*ue*ue,Ee),Ae=ue,Ue=(0,_.mod)(ue*L,Ee),Ve=ge===ke,ze=ge===(0,_.mod)(-ke,Ee),It=ge===(0,_.mod)(-ke*L,Ee);return Ve&&(ue=Ae),(ze||It)&&(ue=Ue),(0,_.isNegativeLE)(ue,Ee)&&(ue=(0,_.mod)(-ue,Ee)),{isValid:Ve||ze,value:ue}}V.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const re=(0,_.Field)(N,void 0,!0),ce={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:re,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:g.sha512,randomBytes:w.randomBytes,adjustScalarBytes:ne,uvRatio:ie};function se(ke,me,Ee){if(me.length>255)throw new Error("Context is too big");return(0,w.concatBytes)((0,w.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Ee?1:0,me.length]),me,ke)}function pe(ke){const{y:me}=V.ed25519.ExtendedPoint.fromHex(ke),Ee=BigInt(1);return re.toBytes(re.create((Ee+me)*re.inv(Ee-me)))}V.ed25519=(0,O.twistedEdwards)(ce),V.ed25519ctx=(0,O.twistedEdwards)({...ce,domain:se}),V.ed25519ph=(0,O.twistedEdwards)({...ce,domain:se,prehash:g.sha512}),V.x25519=(0,X.montgomery)({P:N,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:ke=>{const me=N,{pow_p_5_8:Ee,b2:fe}=J(ke);return(0,_.mod)((0,_.pow2)(Ee,BigInt(3),me)*fe,me)},adjustScalarBytes:ne,randomBytes:w.randomBytes}),V.edwardsToMontgomeryPub=pe,V.edwardsToMontgomery=pe,V.edwardsToMontgomeryPriv=function we(ke){const me=ce.hash(ke.subarray(0,32));return ce.adjustScalarBytes(me).subarray(0,32)};const Me=(re.ORDER+BigInt(3))/BigInt(8),k=re.pow(Y,Me),l=re.sqrt(re.neg(re.ONE)),h=(re.ORDER-BigInt(5))/BigInt(8),m=BigInt(486662),x=(0,_.FpSqrtEven)(re,re.neg(BigInt(486664)));const B=(0,A.createHasher)(V.ed25519.ExtendedPoint,ke=>function D(ke){const{xMn:me,xMd:Ee,yMn:fe,yMd:he}=function p(ke){let me=re.sqr(ke);me=re.mul(me,Y);let Ee=re.add(me,re.ONE),fe=re.neg(m),he=re.sqr(Ee),ae=re.mul(he,Ee),ue=re.mul(me,m);ue=re.mul(ue,fe),ue=re.add(ue,he),ue=re.mul(ue,fe);let ge=re.sqr(ae);he=re.sqr(ge),ge=re.mul(ge,ae),ge=re.mul(ge,ue),he=re.mul(he,ge);let Ae=re.pow(he,h);Ae=re.mul(Ae,ge);let Ue=re.mul(Ae,l);he=re.sqr(Ae),he=re.mul(he,ae);let Ve=re.eql(he,ue),ze=re.cmov(Ue,Ae,Ve),It=re.mul(fe,me),qe=re.mul(Ae,ke);qe=re.mul(qe,k);let je=re.mul(qe,l),ut=re.mul(ue,me);he=re.sqr(qe),he=re.mul(he,ae);let $=re.eql(he,ut),T=re.cmov(je,qe,$);he=re.sqr(ze),he=re.mul(he,ae);let S=re.eql(he,ue),Z=re.cmov(It,fe,S),le=re.cmov(T,ze,S),De=re.isOdd(le);return le=re.cmov(le,re.neg(le),S!==De),{xMn:Z,xMd:Ee,yMn:le,yMd:C}}(ke);let ae=re.mul(me,he);ae=re.mul(ae,x);let ue=re.mul(Ee,fe),ge=re.sub(me,Ee),Ae=re.add(me,Ee),Ue=re.mul(ue,Ae),Ve=re.eql(Ue,re.ZERO);ae=re.cmov(ae,re.ZERO,Ve),ue=re.cmov(ue,re.ONE,Ve),ge=re.cmov(ge,re.ONE,Ve),Ae=re.cmov(Ae,re.ONE,Ve);const ze=re.invertBatch([ue,Ae]);return{x:re.mul(ae,ze[0]),y:re.mul(ge,ze[1])}}(ke[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:re.ORDER,m:1,k:128,expand:"xmd",hash:g.sha512});function M(ke){if(!(ke instanceof ve))throw new Error("RistrettoPoint expected")}V.hashToCurve=B.hashToCurve,V.encodeToCurve=B.encodeToCurve;const d=L,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),W=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),z=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Q=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),de=ke=>ie(C,ke),xe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ie=ke=>V.ed25519.CURVE.Fp.create((0,R.bytesToNumberLE)(ke)&xe);function Le(ke){const{d:me}=V.ed25519.CURVE,Ee=V.ed25519.CURVE.Fp.ORDER,fe=V.ed25519.CURVE.Fp.create,he=fe(d*ke*ke),ae=fe((he+C)*z);let ue=BigInt(-1);const ge=fe((ue-me*he)*fe(he+me));let{isValid:Ae,value:Ue}=ie(ae,ge),Ve=fe(Ue*ke);(0,_.isNegativeLE)(Ve,Ee)||(Ve=fe(-Ve)),Ae||(Ue=Ve),Ae||(ue=he);const ze=fe(ue*(he-C)*Q-ge),It=Ue*Ue,qe=fe((Ue+Ue)*ge),je=fe(ze*v),ut=fe(C-It),$=fe(C+It);return new V.ed25519.ExtendedPoint(fe(qe*$),fe(ut*je),fe(je*$),fe(qe*ut))}class ve{constructor(me){this.ep=me}static fromAffine(me){return new ve(V.ed25519.ExtendedPoint.fromAffine(me))}static hashToCurve(me){me=(0,R.ensureBytes)("ristrettoHash",me,64);const fe=Le(Ie(me.slice(0,32))),ae=Le(Ie(me.slice(32,64)));return new ve(fe.add(ae))}static fromHex(me){me=(0,R.ensureBytes)("ristrettoHex",me,32);const{a:Ee,d:fe}=V.ed25519.CURVE,he=V.ed25519.CURVE.Fp.ORDER,ae=V.ed25519.CURVE.Fp.create,ue="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ge=Ie(me);if(!(0,R.equalBytes)((0,R.numberToBytesLE)(ge,32),me)||(0,_.isNegativeLE)(ge,he))throw new Error(ue);const Ae=ae(ge*ge),Ue=ae(C+Ee*Ae),Ve=ae(C-Ee*Ae),ze=ae(Ue*Ue),It=ae(Ve*Ve),qe=ae(Ee*fe*ze-It),{isValid:je,value:ut}=de(ae(qe*It)),$=ae(ut*Ve),T=ae(ut*$*qe);let S=ae((ge+ge)*$);(0,_.isNegativeLE)(S,he)&&(S=ae(-S));const Z=ae(Ue*T),le=ae(S*Z);if(!je||(0,_.isNegativeLE)(le,he)||Z===F)throw new Error(ue);return new ve(new V.ed25519.ExtendedPoint(S,Z,C,le))}toRawBytes(){let{ex:me,ey:Ee,ez:fe,et:he}=this.ep;const ae=V.ed25519.CURVE.Fp.ORDER,ue=V.ed25519.CURVE.Fp.create,ge=ue(ue(fe+Ee)*ue(fe-Ee)),Ae=ue(me*Ee),Ue=ue(Ae*Ae),{value:Ve}=de(ue(ge*Ue)),ze=ue(Ve*ge),It=ue(Ve*Ae),qe=ue(ze*It*he);let je;if((0,_.isNegativeLE)(he*qe,ae)){let $=ue(Ee*d),T=ue(me*d);me=$,Ee=T,je=ue(ze*W)}else je=It;(0,_.isNegativeLE)(me*qe,ae)&&(Ee=ue(-Ee));let ut=ue((fe-Ee)*je);return(0,_.isNegativeLE)(ut,ae)&&(ut=ue(-ut)),(0,R.numberToBytesLE)(ut,32)}toHex(){return(0,R.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(me){M(me);const{ex:Ee,ey:fe}=this.ep,{ex:he,ey:ae}=me.ep,ue=V.ed25519.CURVE.Fp.create,ge=ue(Ee*ae)===ue(fe*he),Ae=ue(fe*ae)===ue(Ee*he);return ge||Ae}add(me){return M(me),new ve(this.ep.add(me.ep))}subtract(me){return M(me),new ve(this.ep.subtract(me.ep))}multiply(me){return new ve(this.ep.multiply(me))}multiplyUnsafe(me){return new ve(this.ep.multiplyUnsafe(me))}double(){return new ve(this.ep.double())}negate(){return new ve(this.ep.negate())}}V.RistrettoPoint=(ve.BASE||(ve.BASE=new ve(V.ed25519.ExtendedPoint.BASE)),ve.ZERO||(ve.ZERO=new ve(V.ed25519.ExtendedPoint.ZERO)),ve),V.hashToRistretto255=(ke,me)=>{const Ee=me.DST,fe="string"==typeof Ee?(0,w.utf8ToBytes)(Ee):Ee,he=(0,A.expand_message_xmd)(ke,fe,64,g.sha512);return ve.hashToCurve(he)},V.hash_to_ristretto255=V.hashToRistretto255},91717:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.encodeToCurve=V.hashToCurve=V.schnorr=V.secp256k1=void 0;const g=E(1806),w=E(96492),O=E(63834),X=E(73040),_=E(84097),R=E(75752),A=E(4521),N=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),L=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),F=BigInt(1),C=BigInt(2),Y=(M,d)=>(M+d/C)/d;function j(M){const d=N,v=BigInt(3),W=BigInt(6),z=BigInt(11),Q=BigInt(22),de=BigInt(23),xe=BigInt(44),Ie=BigInt(88),Le=M*M*M%d,ve=Le*Le*M%d,ye=(0,O.pow2)(ve,v,d)*ve%d,ke=(0,O.pow2)(ye,v,d)*ve%d,me=(0,O.pow2)(ke,C,d)*Le%d,Ee=(0,O.pow2)(me,z,d)*me%d,fe=(0,O.pow2)(Ee,Q,d)*Ee%d,he=(0,O.pow2)(fe,xe,d)*fe%d,ae=(0,O.pow2)(he,Ie,d)*he%d,ue=(0,O.pow2)(ae,xe,d)*fe%d,ge=(0,O.pow2)(ue,v,d)*ve%d,Ae=(0,O.pow2)(ge,de,d)*Ee%d,Ue=(0,O.pow2)(Ae,W,d)*Le%d,Ve=(0,O.pow2)(Ue,C,d);if(!G.eql(G.sqr(Ve),M))throw new Error("Cannot find square root");return Ve}const G=(0,O.Field)(N,void 0,void 0,{sqrt:j});V.secp256k1=(0,A.createCurve)({a:BigInt(0),b:BigInt(7),Fp:G,n:L,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const d=L,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-F*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),z=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=v,de=BigInt("0x100000000000000000000000000000000"),xe=Y(Q*M,d),Ie=Y(-W*M,d);let Le=(0,O.mod)(M-xe*v-Ie*z,d),ve=(0,O.mod)(-xe*W-Ie*Q,d);const ye=Le>de,ke=ve>de;if(ye&&(Le=d-Le),ke&&(ve=d-ve),Le>de||ve>de)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:ye,k1:Le,k2neg:ke,k2:ve}}}},g.sha256);const te=BigInt(0),ee=M=>"bigint"==typeof M&&te<M&&M<N,J={};function ne(M,...d){let v=J[M];if(void 0===v){const W=(0,g.sha256)(Uint8Array.from(M,z=>z.charCodeAt(0)));v=(0,_.concatBytes)(W,W),J[M]=v}return(0,g.sha256)((0,_.concatBytes)(v,...d))}const ie=M=>M.toRawBytes(!0).slice(1),re=M=>(0,_.numberToBytesBE)(M,32),ce=M=>(0,O.mod)(M,N),se=M=>(0,O.mod)(M,L),pe=V.secp256k1.ProjectivePoint;function Me(M){let d=V.secp256k1.utils.normPrivateKeyToScalar(M),v=pe.fromPrivateKey(d);return{scalar:v.hasEvenY()?d:se(-d),bytes:ie(v)}}function k(M){if(!ee(M))throw new Error("bad x: need 0 < x < p");const d=ce(M*M);let W=j(ce(d*M+BigInt(7)));W%C!==te&&(W=ce(-W));const z=new pe(M,W,F);return z.assertValidity(),z}function l(...M){return se((0,_.bytesToNumberBE)(ne("BIP0340/challenge",...M)))}function p(M,d,v){const W=(0,_.ensureBytes)("signature",M,64),z=(0,_.ensureBytes)("message",d),Q=(0,_.ensureBytes)("publicKey",v,32);try{const de=k((0,_.bytesToNumberBE)(Q)),xe=(0,_.bytesToNumberBE)(W.subarray(0,32));if(!ee(xe))return!1;const Ie=(0,_.bytesToNumberBE)(W.subarray(32,64));if(!(M=>"bigint"==typeof M&&te<M&&M<L)(Ie))return!1;const Le=l(re(xe),ie(de),z),ve=((M,d,v)=>pe.BASE.multiplyAndAddUnsafe(M,d,v))(de,Ie,se(-Le));return!(!ve||!ve.hasEvenY()||ve.toAffine().x!==xe)}catch{return!1}}V.schnorr={getPublicKey:function h(M){return Me(M).bytes},sign:function m(M,d,v=(0,w.randomBytes)(32)){const W=(0,_.ensureBytes)("message",M),{bytes:z,scalar:Q}=Me(d),de=(0,_.ensureBytes)("auxRand",v,32),xe=re(Q^(0,_.bytesToNumberBE)(ne("BIP0340/aux",de))),Ie=ne("BIP0340/nonce",xe,z,W),Le=se((0,_.bytesToNumberBE)(Ie));if(Le===te)throw new Error("sign failed: k is zero");const{bytes:ve,scalar:ye}=Me(Le),ke=l(ve,z,W),me=new Uint8Array(64);if(me.set(ve,0),me.set(re(se(ye+ke*Q)),32),!p(me,W,z))throw new Error("sign: Invalid signature produced");return me},verify:p,utils:{randomPrivateKey:V.secp256k1.utils.randomPrivateKey,lift_x:k,pointToBytes:ie,numberToBytesBE:_.numberToBytesBE,bytesToNumberBE:_.bytesToNumberBE,taggedHash:ne,mod:O.mod}};const x=(0,R.isogenyMap)(G,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(M=>M.map(d=>BigInt(d)))),D=(0,X.mapToCurveSimpleSWU)(G,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:G.create(BigInt("-11"))}),B=(0,R.createHasher)(V.secp256k1.ProjectivePoint,M=>{const{x:d,y:v}=D(G.create(M[0]));return x(d,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:G.ORDER,m:1,k:128,expand:"xmd",hash:g.sha256});V.hashToCurve=B.hashToCurve,V.encodeToCurve=B.encodeToCurve},68578:(Ne,V)=>{"use strict";function E(N){if(!Number.isSafeInteger(N)||N<0)throw new Error(`Wrong positive integer: ${N}`)}function g(N){if("boolean"!=typeof N)throw new Error(`Expected boolean, not ${N}`)}function O(N,...L){if(!function w(N){return N instanceof Uint8Array||null!=N&&"object"==typeof N&&"Uint8Array"===N.constructor.name}(N))throw new Error("Expected Uint8Array");if(L.length>0&&!L.includes(N.length))throw new Error(`Expected Uint8Array of length ${L}, not of length=${N.length}`)}function X(N){if("function"!=typeof N||"function"!=typeof N.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");E(N.outputLen),E(N.blockLen)}function _(N,L=!0){if(N.destroyed)throw new Error("Hash instance has been destroyed");if(L&&N.finished)throw new Error("Hash#digest() has already been called")}function R(N,L){O(N);const F=L.outputLen;if(N.length<F)throw new Error(`digestInto() expects output buffer of length at least ${F}`)}Object.defineProperty(V,"__esModule",{value:!0}),V.output=V.exists=V.hash=V.bytes=V.bool=V.number=void 0,V.number=E,V.bool=g,V.bytes=O,V.hash=X,V.exists=_,V.output=R,V.default={number:E,bool:g,bytes:O,hash:X,exists:_,output:R}},25724:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.SHA2=void 0;const g=E(68578),w=E(96492);V.SHA2=class X extends w.Hash{constructor(R,A,N,L){super(),this.blockLen=R,this.outputLen=A,this.padOffset=N,this.isLE=L,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(R),this.view=(0,w.createView)(this.buffer)}update(R){(0,g.exists)(this);const{view:A,buffer:N,blockLen:L}=this,F=(R=(0,w.toBytes)(R)).length;for(let C=0;C<F;){const Y=Math.min(L-this.pos,F-C);if(Y!==L)N.set(R.subarray(C,C+Y),this.pos),this.pos+=Y,C+=Y,this.pos===L&&(this.process(A,0),this.pos=0);else{const j=(0,w.createView)(R);for(;L<=F-C;C+=L)this.process(j,C)}}return this.length+=R.length,this.roundClean(),this}digestInto(R){(0,g.exists)(this),(0,g.output)(R,this),this.finished=!0;const{buffer:A,view:N,blockLen:L,isLE:F}=this;let{pos:C}=this;A[C++]=128,this.buffer.subarray(C).fill(0),this.padOffset>L-C&&(this.process(N,0),C=0);for(let ee=C;ee<L;ee++)A[ee]=0;(function O(_,R,A,N){if("function"==typeof _.setBigUint64)return _.setBigUint64(R,A,N);const L=BigInt(32),F=BigInt(4294967295),C=Number(A>>L&F),Y=Number(A&F),G=N?0:4;_.setUint32(R+(N?4:0),C,N),_.setUint32(R+G,Y,N)})(N,L-8,BigInt(8*this.length),F),this.process(N,0);const Y=(0,w.createView)(R),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,te=this.get();if(G>te.length)throw new Error("_sha2: outputLen bigger than state");for(let ee=0;ee<G;ee++)Y.setUint32(4*ee,te[ee],F)}digest(){const{buffer:R,outputLen:A}=this;this.digestInto(R);const N=R.slice(0,A);return this.destroy(),N}_cloneInto(R){R||(R=new this.constructor),R.set(...this.get());const{blockLen:A,buffer:N,length:L,finished:F,destroyed:C,pos:Y}=this;return R.length=L,R.pos=Y,R.finished=F,R.destroyed=C,L%A&&R.buffer.set(N),R}}},35059:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.add5L=V.add5H=V.add4H=V.add4L=V.add3H=V.add3L=V.add=V.rotlBL=V.rotlBH=V.rotlSL=V.rotlSH=V.rotr32L=V.rotr32H=V.rotrBL=V.rotrBH=V.rotrSL=V.rotrSH=V.shrSL=V.shrSH=V.toBig=V.split=V.fromBig=void 0;const E=BigInt(2**32-1),g=BigInt(32);function w(we,Me=!1){return Me?{h:Number(we&E),l:Number(we>>g&E)}:{h:0|Number(we>>g&E),l:0|Number(we&E)}}function O(we,Me=!1){let k=new Uint32Array(we.length),l=new Uint32Array(we.length);for(let h=0;h<we.length;h++){const{h:m,l:p}=w(we[h],Me);[k[h],l[h]]=[m,p]}return[k,l]}V.fromBig=w,V.split=O;const X=(we,Me)=>BigInt(we>>>0)<<g|BigInt(Me>>>0);V.toBig=X;const _=(we,Me,k)=>we>>>k;V.shrSH=_;const R=(we,Me,k)=>we<<32-k|Me>>>k;V.shrSL=R;const A=(we,Me,k)=>we>>>k|Me<<32-k;V.rotrSH=A;const N=(we,Me,k)=>we<<32-k|Me>>>k;V.rotrSL=N;const L=(we,Me,k)=>we<<64-k|Me>>>k-32;V.rotrBH=L;const F=(we,Me,k)=>we>>>k-32|Me<<64-k;V.rotrBL=F;const C=(we,Me)=>Me;V.rotr32H=C;const Y=(we,Me)=>we;V.rotr32L=Y;const j=(we,Me,k)=>we<<k|Me>>>32-k;V.rotlSH=j;const G=(we,Me,k)=>Me<<k|we>>>32-k;V.rotlSL=G;const te=(we,Me,k)=>Me<<k-32|we>>>64-k;V.rotlBH=te;const ee=(we,Me,k)=>we<<k-32|Me>>>64-k;function q(we,Me,k,l){const h=(Me>>>0)+(l>>>0);return{h:we+k+(h/2**32|0)|0,l:0|h}}V.rotlBL=ee,V.add=q;const J=(we,Me,k)=>(we>>>0)+(Me>>>0)+(k>>>0);V.add3L=J;const ne=(we,Me,k,l)=>Me+k+l+(we/2**32|0)|0;V.add3H=ne;const ie=(we,Me,k,l)=>(we>>>0)+(Me>>>0)+(k>>>0)+(l>>>0);V.add4L=ie;const re=(we,Me,k,l,h)=>Me+k+l+h+(we/2**32|0)|0;V.add4H=re;const ce=(we,Me,k,l,h)=>(we>>>0)+(Me>>>0)+(k>>>0)+(l>>>0)+(h>>>0);V.add5L=ce;const se=(we,Me,k,l,h,m)=>Me+k+l+h+m+(we/2**32|0)|0;V.add5H=se,V.default={fromBig:w,split:O,toBig:X,shrSH:_,shrSL:R,rotrSH:A,rotrSL:N,rotrBH:L,rotrBL:F,rotr32H:C,rotr32L:Y,rotlSH:j,rotlSL:G,rotlBH:te,rotlBL:ee,add:q,add3L:J,add3H:ne,add4L:ie,add4H:re,add5H:se,add5L:ce}},89948:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.crypto=void 0,V.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.hkdf=V.expand=V.extract=void 0;const g=E(68578),w=E(96492),O=E(44882);function X(L,F,C){return(0,g.hash)(L),void 0===C&&(C=new Uint8Array(L.outputLen)),(0,O.hmac)(L,(0,w.toBytes)(C),(0,w.toBytes)(F))}V.extract=X;const _=new Uint8Array([0]),R=new Uint8Array;function A(L,F,C,Y=32){if((0,g.hash)(L),(0,g.number)(Y),Y>255*L.outputLen)throw new Error("Length should be <= 255*HashLen");const j=Math.ceil(Y/L.outputLen);void 0===C&&(C=R);const G=new Uint8Array(j*L.outputLen),te=O.hmac.create(L,F),ee=te._cloneInto(),q=new Uint8Array(te.outputLen);for(let J=0;J<j;J++)_[0]=J+1,ee.update(0===J?R:q).update(C).update(_).digestInto(q),G.set(q,L.outputLen*J),te._cloneInto(ee);return te.destroy(),ee.destroy(),q.fill(0),_.fill(0),G.slice(0,Y)}V.expand=A,V.hkdf=(L,F,C,Y,j)=>A(L,X(L,F,C),Y,j)},44882:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.hmac=V.HMAC=void 0;const g=E(68578),w=E(96492);class O extends w.Hash{constructor(R,A){super(),this.finished=!1,this.destroyed=!1,(0,g.hash)(R);const N=(0,w.toBytes)(A);if(this.iHash=R.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const L=this.blockLen,F=new Uint8Array(L);F.set(N.length>L?R.create().update(N).digest():N);for(let C=0;C<F.length;C++)F[C]^=54;this.iHash.update(F),this.oHash=R.create();for(let C=0;C<F.length;C++)F[C]^=106;this.oHash.update(F),F.fill(0)}update(R){return(0,g.exists)(this),this.iHash.update(R),this}digestInto(R){(0,g.exists)(this),(0,g.bytes)(R,this.outputLen),this.finished=!0,this.iHash.digestInto(R),this.oHash.update(R),this.oHash.digestInto(R),this.destroy()}digest(){const R=new Uint8Array(this.oHash.outputLen);return this.digestInto(R),R}_cloneInto(R){R||(R=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:N,finished:L,destroyed:F,blockLen:C,outputLen:Y}=this;return R.finished=L,R.destroyed=F,R.blockLen=C,R.outputLen=Y,R.oHash=A._cloneInto(R.oHash),R.iHash=N._cloneInto(R.iHash),R}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}V.HMAC=O,V.hmac=(_,R,A)=>new O(_,R).update(A).digest(),V.hmac.create=(_,R)=>new O(_,R)},1806:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.sha224=V.sha256=void 0;const g=E(25724),w=E(96492),O=(F,C,Y)=>F&C^~F&Y,X=(F,C,Y)=>F&C^F&Y^C&Y,_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class N extends g.SHA2{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:C,B:Y,C:j,D:G,E:te,F:ee,G:q,H:J}=this;return[C,Y,j,G,te,ee,q,J]}set(C,Y,j,G,te,ee,q,J){this.A=0|C,this.B=0|Y,this.C=0|j,this.D=0|G,this.E=0|te,this.F=0|ee,this.G=0|q,this.H=0|J}process(C,Y){for(let re=0;re<16;re++,Y+=4)A[re]=C.getUint32(Y,!1);for(let re=16;re<64;re++){const ce=A[re-15],se=A[re-2],pe=(0,w.rotr)(ce,7)^(0,w.rotr)(ce,18)^ce>>>3,we=(0,w.rotr)(se,17)^(0,w.rotr)(se,19)^se>>>10;A[re]=we+A[re-7]+pe+A[re-16]|0}let{A:j,B:G,C:te,D:ee,E:q,F:J,G:ne,H:ie}=this;for(let re=0;re<64;re++){const se=ie+((0,w.rotr)(q,6)^(0,w.rotr)(q,11)^(0,w.rotr)(q,25))+O(q,J,ne)+_[re]+A[re]|0,we=((0,w.rotr)(j,2)^(0,w.rotr)(j,13)^(0,w.rotr)(j,22))+X(j,G,te)|0;ie=ne,ne=J,J=q,q=ee+se|0,ee=te,te=G,G=j,j=se+we|0}j=j+this.A|0,G=G+this.B|0,te=te+this.C|0,ee=ee+this.D|0,q=q+this.E|0,J=J+this.F|0,ne=ne+this.G|0,ie=ie+this.H|0,this.set(j,G,te,ee,q,J,ne,ie)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class L extends N{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}V.sha256=(0,w.wrapConstructor)(()=>new N),V.sha224=(0,w.wrapConstructor)(()=>new L)},44207:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.sha384=V.sha512_256=V.sha512_224=V.sha512=V.SHA512=void 0;const g=E(25724),w=E(35059),O=E(96492),[X,_]=w.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(Y=>BigInt(Y))),R=new Uint32Array(80),A=new Uint32Array(80);class N extends g.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:j,Al:G,Bh:te,Bl:ee,Ch:q,Cl:J,Dh:ne,Dl:ie,Eh:re,El:ce,Fh:se,Fl:pe,Gh:we,Gl:Me,Hh:k,Hl:l}=this;return[j,G,te,ee,q,J,ne,ie,re,ce,se,pe,we,Me,k,l]}set(j,G,te,ee,q,J,ne,ie,re,ce,se,pe,we,Me,k,l){this.Ah=0|j,this.Al=0|G,this.Bh=0|te,this.Bl=0|ee,this.Ch=0|q,this.Cl=0|J,this.Dh=0|ne,this.Dl=0|ie,this.Eh=0|re,this.El=0|ce,this.Fh=0|se,this.Fl=0|pe,this.Gh=0|we,this.Gl=0|Me,this.Hh=0|k,this.Hl=0|l}process(j,G){for(let p=0;p<16;p++,G+=4)R[p]=j.getUint32(G),A[p]=j.getUint32(G+=4);for(let p=16;p<80;p++){const x=0|R[p-15],D=0|A[p-15],B=w.default.rotrSH(x,D,1)^w.default.rotrSH(x,D,8)^w.default.shrSH(x,D,7),M=w.default.rotrSL(x,D,1)^w.default.rotrSL(x,D,8)^w.default.shrSL(x,D,7),d=0|R[p-2],v=0|A[p-2],W=w.default.rotrSH(d,v,19)^w.default.rotrBH(d,v,61)^w.default.shrSH(d,v,6),z=w.default.rotrSL(d,v,19)^w.default.rotrBL(d,v,61)^w.default.shrSL(d,v,6),Q=w.default.add4L(M,z,A[p-7],A[p-16]),de=w.default.add4H(Q,B,W,R[p-7],R[p-16]);R[p]=0|de,A[p]=0|Q}let{Ah:te,Al:ee,Bh:q,Bl:J,Ch:ne,Cl:ie,Dh:re,Dl:ce,Eh:se,El:pe,Fh:we,Fl:Me,Gh:k,Gl:l,Hh:h,Hl:m}=this;for(let p=0;p<80;p++){const x=w.default.rotrSH(se,pe,14)^w.default.rotrSH(se,pe,18)^w.default.rotrBH(se,pe,41),D=w.default.rotrSL(se,pe,14)^w.default.rotrSL(se,pe,18)^w.default.rotrBL(se,pe,41),B=se&we^~se&k,d=w.default.add5L(m,D,pe&Me^~pe&l,_[p],A[p]),v=w.default.add5H(d,h,x,B,X[p],R[p]),W=0|d,z=w.default.rotrSH(te,ee,28)^w.default.rotrBH(te,ee,34)^w.default.rotrBH(te,ee,39),Q=w.default.rotrSL(te,ee,28)^w.default.rotrBL(te,ee,34)^w.default.rotrBL(te,ee,39),de=te&q^te&ne^q&ne,xe=ee&J^ee&ie^J&ie;h=0|k,m=0|l,k=0|we,l=0|Me,we=0|se,Me=0|pe,({h:se,l:pe}=w.default.add(0|re,0|ce,0|v,0|W)),re=0|ne,ce=0|ie,ne=0|q,ie=0|J,q=0|te,J=0|ee;const Ie=w.default.add3L(W,Q,xe);te=w.default.add3H(Ie,v,z,de),ee=0|Ie}({h:te,l:ee}=w.default.add(0|this.Ah,0|this.Al,0|te,0|ee)),({h:q,l:J}=w.default.add(0|this.Bh,0|this.Bl,0|q,0|J)),({h:ne,l:ie}=w.default.add(0|this.Ch,0|this.Cl,0|ne,0|ie)),({h:re,l:ce}=w.default.add(0|this.Dh,0|this.Dl,0|re,0|ce)),({h:se,l:pe}=w.default.add(0|this.Eh,0|this.El,0|se,0|pe)),({h:we,l:Me}=w.default.add(0|this.Fh,0|this.Fl,0|we,0|Me)),({h:k,l}=w.default.add(0|this.Gh,0|this.Gl,0|k,0|l)),({h,l:m}=w.default.add(0|this.Hh,0|this.Hl,0|h,0|m)),this.set(te,ee,q,J,ne,ie,re,ce,se,pe,we,Me,k,l,h,m)}roundClean(){R.fill(0),A.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}V.SHA512=N;class L extends N{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class F extends N{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class C extends N{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}V.sha512=(0,O.wrapConstructor)(()=>new N),V.sha512_224=(0,O.wrapConstructor)(()=>new L),V.sha512_256=(0,O.wrapConstructor)(()=>new F),V.sha384=(0,O.wrapConstructor)(()=>new C)},96492:(Ne,V,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(V,"__esModule",{value:!0}),V.randomBytes=V.wrapXOFConstructorWithOpts=V.wrapConstructorWithOpts=V.wrapConstructor=V.checkOpts=V.Hash=V.concatBytes=V.toBytes=V.utf8ToBytes=V.asyncLoop=V.nextTick=V.hexToBytes=V.bytesToHex=V.isLE=V.rotr=V.createView=V.u32=V.u8=void 0;const w=E(89948);function _(Me){return Me instanceof Uint8Array||null!=Me&&"object"==typeof Me&&"Uint8Array"===Me.constructor.name}if(V.u8=Me=>new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength),V.u32=Me=>new Uint32Array(Me.buffer,Me.byteOffset,Math.floor(Me.byteLength/4)),V.createView=Me=>new DataView(Me.buffer,Me.byteOffset,Me.byteLength),V.rotr=(Me,k)=>Me<<32-k|Me>>>k,V.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!V.isLE)throw new Error("Non little-endian hardware is not supported");const N=Array.from({length:256},(Me,k)=>k.toString(16).padStart(2,"0"));V.bytesToHex=function L(Me){if(!_(Me))throw new Error("Uint8Array expected");let k="";for(let l=0;l<Me.length;l++)k+=N[Me[l]];return k};const F__0=48,F__9=57,F__A=65,F__F=70,F__a=97,F__f=102;function C(Me){return Me>=F__0&&Me<=F__9?Me-F__0:Me>=F__A&&Me<=F__F?Me-(F__A-10):Me>=F__a&&Me<=F__f?Me-(F__a-10):void 0}function te(){return(te=g(function*(Me,k,l){let h=Date.now();for(let m=0;m<Me;m++){l(m);const p=Date.now()-h;p>=0&&p<k||(yield(0,V.nextTick)(),h+=p)}})).apply(this,arguments)}function ee(Me){if("string"!=typeof Me)throw new Error("utf8ToBytes expected string, got "+typeof Me);return new Uint8Array((new TextEncoder).encode(Me))}function q(Me){if("string"==typeof Me&&(Me=ee(Me)),!_(Me))throw new Error("expected Uint8Array, got "+typeof Me);return Me}V.hexToBytes=function Y(Me){if("string"!=typeof Me)throw new Error("hex string expected, got "+typeof Me);const k=Me.length,l=k/2;if(k%2)throw new Error("padded hex string expected, got unpadded hex of length "+k);const h=new Uint8Array(l);for(let m=0,p=0;m<l;m++,p+=2){const x=C(Me.charCodeAt(p)),D=C(Me.charCodeAt(p+1));if(void 0===x||void 0===D)throw new Error('hex string expected, got non-hex character "'+(Me[p]+Me[p+1])+'" at index '+p);h[m]=16*x+D}return h},V.nextTick=function(){var Me=g(function*(){});return function(){return Me.apply(this,arguments)}}(),V.asyncLoop=function G(Me,k,l){return te.apply(this,arguments)},V.utf8ToBytes=ee,V.toBytes=q,V.concatBytes=function J(...Me){let k=0;for(let h=0;h<Me.length;h++){const m=Me[h];if(!_(m))throw new Error("Uint8Array expected");k+=m.length}const l=new Uint8Array(k);for(let h=0,m=0;h<Me.length;h++){const p=Me[h];l.set(p,m),m+=p.length}return l},V.Hash=class ne{clone(){return this._cloneInto()}};const ie={}.toString;V.checkOpts=function re(Me,k){if(void 0!==k&&"[object Object]"!==ie.call(k))throw new Error("Options should be object or undefined");return Object.assign(Me,k)},V.wrapConstructor=function ce(Me){const k=h=>Me().update(q(h)).digest(),l=Me();return k.outputLen=l.outputLen,k.blockLen=l.blockLen,k.create=()=>Me(),k},V.wrapConstructorWithOpts=function se(Me){const k=(h,m)=>Me(m).update(q(h)).digest(),l=Me({});return k.outputLen=l.outputLen,k.blockLen=l.blockLen,k.create=h=>Me(h),k},V.wrapXOFConstructorWithOpts=function pe(Me){const k=(h,m)=>Me(m).update(q(h)).digest(),l=Me({});return k.outputLen=l.outputLen,k.blockLen=l.blockLen,k.create=h=>Me(h),k},V.randomBytes=function we(Me=32){if(w.crypto&&"function"==typeof w.crypto.getRandomValues)return w.crypto.getRandomValues(new Uint8Array(Me));throw new Error("crypto.getRandomValues must be defined")}},42064:(Ne,V,E)=>{V.Level=E(23963).BrowserLevel},20844:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MissingRefError=V.ValidationError=V.CodeGen=V.Name=V.nil=V.stringify=V.str=V._=V.KeywordCxt=void 0;const g=E(35419),w=E(98496),O=E(86980),X=E(87577),_="https://json-schema.org/draft/2020-12/schema";class R extends g.default{constructor(Y={}){super({...Y,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),w.default.forEach(Y=>this.addVocabulary(Y)),this.opts.discriminator&&this.addKeyword(O.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:Y,meta:j}=this.opts;j&&(X.default.call(this,Y),this.refs["http://json-schema.org/schema"]=_)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(_)?_:void 0)}}Ne.exports=V=R,Object.defineProperty(V,"__esModule",{value:!0}),V.default=R;var A=E(40339);Object.defineProperty(V,"KeywordCxt",{enumerable:!0,get:function(){return A.KeywordCxt}});var N=E(1038);Object.defineProperty(V,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(V,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(V,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(V,"Name",{enumerable:!0,get:function(){return N.Name}}),Object.defineProperty(V,"CodeGen",{enumerable:!0,get:function(){return N.CodeGen}});var L=E(42467);Object.defineProperty(V,"ValidationError",{enumerable:!0,get:function(){return L.default}});var F=E(26288);Object.defineProperty(V,"MissingRefError",{enumerable:!0,get:function(){return F.default}})},33337:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.regexpCode=V.getEsmExportName=V.getProperty=V.safeStringify=V.stringify=V.strConcat=V.addCodeArg=V.str=V._=V.nil=V._Code=V.Name=V.IDENTIFIER=V._CodeOrName=void 0;class E{}V._CodeOrName=E,V.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class g extends E{constructor(q){if(super(),!V.IDENTIFIER.test(q))throw new Error("CodeGen: name must be a valid identifier");this.str=q}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}V.Name=g;class w extends E{constructor(q){super(),this._items="string"==typeof q?[q]:q}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const q=this._items[0];return""===q||'""'===q}get str(){var q;return null!==(q=this._str)&&void 0!==q?q:this._str=this._items.reduce((J,ne)=>`${J}${ne}`,"")}get names(){var q;return null!==(q=this._names)&&void 0!==q?q:this._names=this._items.reduce((J,ne)=>(ne instanceof g&&(J[ne.str]=(J[ne.str]||0)+1),J),{})}}function O(ee,...q){const J=[ee[0]];let ne=0;for(;ne<q.length;)R(J,q[ne]),J.push(ee[++ne]);return new w(J)}V._Code=w,V.nil=new w(""),V._=O;const X=new w("+");function _(ee,...q){const J=[Y(ee[0])];let ne=0;for(;ne<q.length;)J.push(X),R(J,q[ne]),J.push(X,Y(ee[++ne]));return function A(ee){let q=1;for(;q<ee.length-1;){if(ee[q]===X){const J=N(ee[q-1],ee[q+1]);if(void 0!==J){ee.splice(q-1,3,J);continue}ee[q++]="+"}q++}}(J),new w(J)}function R(ee,q){q instanceof w?ee.push(...q._items):ee.push(q instanceof g?q:function F(ee){return"number"==typeof ee||"boolean"==typeof ee||null===ee?ee:Y(Array.isArray(ee)?ee.join(","):ee)}(q))}function N(ee,q){return'""'===q?ee:'""'===ee?q:"string"==typeof ee?q instanceof g||'"'!==ee[ee.length-1]?void 0:"string"!=typeof q?`${ee.slice(0,-1)}${q}"`:'"'===q[0]?ee.slice(0,-1)+q.slice(1):void 0:"string"!=typeof q||'"'!==q[0]||ee instanceof g?void 0:`"${ee}${q.slice(1)}`}function Y(ee){return JSON.stringify(ee).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}V.str=_,V.addCodeArg=R,V.strConcat=function L(ee,q){return q.emptyStr()?ee:ee.emptyStr()?q:_`${ee}${q}`},V.stringify=function C(ee){return new w(Y(ee))},V.safeStringify=Y,V.getProperty=function j(ee){return"string"==typeof ee&&V.IDENTIFIER.test(ee)?new w(`.${ee}`):O`[${ee}]`},V.getEsmExportName=function G(ee){if("string"==typeof ee&&V.IDENTIFIER.test(ee))return new w(`${ee}`);throw new Error(`CodeGen: invalid export name: ${ee}, use explicit $id name mapping`)},V.regexpCode=function te(ee){return new w(ee.toString())}},1038:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.or=V.and=V.not=V.CodeGen=V.operators=V.varKinds=V.ValueScopeName=V.ValueScope=V.Scope=V.Name=V.regexpCode=V.stringify=V.getProperty=V.nil=V.strConcat=V.str=V._=void 0;const g=E(33337),w=E(85934);var O=E(33337);Object.defineProperty(V,"_",{enumerable:!0,get:function(){return O._}}),Object.defineProperty(V,"str",{enumerable:!0,get:function(){return O.str}}),Object.defineProperty(V,"strConcat",{enumerable:!0,get:function(){return O.strConcat}}),Object.defineProperty(V,"nil",{enumerable:!0,get:function(){return O.nil}}),Object.defineProperty(V,"getProperty",{enumerable:!0,get:function(){return O.getProperty}}),Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return O.stringify}}),Object.defineProperty(V,"regexpCode",{enumerable:!0,get:function(){return O.regexpCode}}),Object.defineProperty(V,"Name",{enumerable:!0,get:function(){return O.Name}});var X=E(85934);Object.defineProperty(V,"Scope",{enumerable:!0,get:function(){return X.Scope}}),Object.defineProperty(V,"ValueScope",{enumerable:!0,get:function(){return X.ValueScope}}),Object.defineProperty(V,"ValueScopeName",{enumerable:!0,get:function(){return X.ValueScopeName}}),Object.defineProperty(V,"varKinds",{enumerable:!0,get:function(){return X.varKinds}}),V.operators={GT:new g._Code(">"),GTE:new g._Code(">="),LT:new g._Code("<"),LTE:new g._Code("<="),EQ:new g._Code("==="),NEQ:new g._Code("!=="),NOT:new g._Code("!"),OR:new g._Code("||"),AND:new g._Code("&&"),ADD:new g._Code("+")};class _{optimizeNodes(){return this}optimizeNames(Q,de){return this}}class R extends _{constructor(Q,de,xe){super(),this.varKind=Q,this.name=de,this.rhs=xe}render({es5:Q,_n:de}){return`${Q?w.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+de}optimizeNames(Q,de){if(Q[this.name.str])return this.rhs&&(this.rhs=m(this.rhs,Q,de)),this}get names(){return this.rhs instanceof g._CodeOrName?this.rhs.names:{}}}class A extends _{constructor(Q,de,xe){super(),this.lhs=Q,this.rhs=de,this.sideEffects=xe}render({_n:Q}){return`${this.lhs} = ${this.rhs};`+Q}optimizeNames(Q,de){if(!(this.lhs instanceof g.Name)||Q[this.lhs.str]||this.sideEffects)return this.rhs=m(this.rhs,Q,de),this}get names(){return h(this.lhs instanceof g.Name?{}:{...this.lhs.names},this.rhs)}}class N extends A{constructor(Q,de,xe,Ie){super(Q,xe,Ie),this.op=de}render({_n:Q}){return`${this.lhs} ${this.op}= ${this.rhs};`+Q}}class L extends _{constructor(Q){super(),this.label=Q,this.names={}}render({_n:Q}){return`${this.label}:`+Q}}class F extends _{constructor(Q){super(),this.label=Q,this.names={}}render({_n:Q}){return`break${this.label?` ${this.label}`:""};`+Q}}class C extends _{constructor(Q){super(),this.error=Q}render({_n:Q}){return`throw ${this.error};`+Q}get names(){return this.error.names}}class Y extends _{constructor(Q){super(),this.code=Q}render({_n:Q}){return`${this.code};`+Q}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Q,de){return this.code=m(this.code,Q,de),this}get names(){return this.code instanceof g._CodeOrName?this.code.names:{}}}class j extends _{constructor(Q=[]){super(),this.nodes=Q}render(Q){return this.nodes.reduce((de,xe)=>de+xe.render(Q),"")}optimizeNodes(){const{nodes:Q}=this;let de=Q.length;for(;de--;){const xe=Q[de].optimizeNodes();Array.isArray(xe)?Q.splice(de,1,...xe):xe?Q[de]=xe:Q.splice(de,1)}return Q.length>0?this:void 0}optimizeNames(Q,de){const{nodes:xe}=this;let Ie=xe.length;for(;Ie--;){const Le=xe[Ie];Le.optimizeNames(Q,de)||(p(Q,Le.names),xe.splice(Ie,1))}return xe.length>0?this:void 0}get names(){return this.nodes.reduce((Q,de)=>l(Q,de.names),{})}}class G extends j{render(Q){return"{"+Q._n+super.render(Q)+"}"+Q._n}}class te extends j{}let ee=(()=>{class z extends G{}return z.kind="else",z})(),q=(()=>{class z extends G{constructor(de,xe){super(xe),this.condition=de}render(de){let xe=`if(${this.condition})`+super.render(de);return this.else&&(xe+="else "+this.else.render(de)),xe}optimizeNodes(){super.optimizeNodes();const de=this.condition;if(!0===de)return this.nodes;let xe=this.else;if(xe){const Ie=xe.optimizeNodes();xe=this.else=Array.isArray(Ie)?new ee(Ie):Ie}return xe?!1===de?xe instanceof z?xe:xe.nodes:this.nodes.length?this:new z(x(de),xe instanceof z?[xe]:xe.nodes):!1!==de&&this.nodes.length?this:void 0}optimizeNames(de,xe){var Ie;if(this.else=null===(Ie=this.else)||void 0===Ie?void 0:Ie.optimizeNames(de,xe),super.optimizeNames(de,xe)||this.else)return this.condition=m(this.condition,de,xe),this}get names(){const de=super.names;return h(de,this.condition),this.else&&l(de,this.else.names),de}}return z.kind="if",z})(),J=(()=>{class z extends G{}return z.kind="for",z})();class ne extends J{constructor(Q){super(),this.iteration=Q}render(Q){return`for(${this.iteration})`+super.render(Q)}optimizeNames(Q,de){if(super.optimizeNames(Q,de))return this.iteration=m(this.iteration,Q,de),this}get names(){return l(super.names,this.iteration.names)}}class ie extends J{constructor(Q,de,xe,Ie){super(),this.varKind=Q,this.name=de,this.from=xe,this.to=Ie}render(Q){const de=Q.es5?w.varKinds.var:this.varKind,{name:xe,from:Ie,to:Le}=this;return`for(${de} ${xe}=${Ie}; ${xe}<${Le}; ${xe}++)`+super.render(Q)}get names(){const Q=h(super.names,this.from);return h(Q,this.to)}}class re extends J{constructor(Q,de,xe,Ie){super(),this.loop=Q,this.varKind=de,this.name=xe,this.iterable=Ie}render(Q){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Q)}optimizeNames(Q,de){if(super.optimizeNames(Q,de))return this.iterable=m(this.iterable,Q,de),this}get names(){return l(super.names,this.iterable.names)}}let ce=(()=>{class z extends G{constructor(de,xe,Ie){super(),this.name=de,this.args=xe,this.async=Ie}render(de){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(de)}}return z.kind="func",z})(),se=(()=>{class z extends j{render(de){return"return "+super.render(de)}}return z.kind="return",z})();class pe extends G{render(Q){let de="try"+super.render(Q);return this.catch&&(de+=this.catch.render(Q)),this.finally&&(de+=this.finally.render(Q)),de}optimizeNodes(){var Q,de;return super.optimizeNodes(),null===(Q=this.catch)||void 0===Q||Q.optimizeNodes(),null===(de=this.finally)||void 0===de||de.optimizeNodes(),this}optimizeNames(Q,de){var xe,Ie;return super.optimizeNames(Q,de),null===(xe=this.catch)||void 0===xe||xe.optimizeNames(Q,de),null===(Ie=this.finally)||void 0===Ie||Ie.optimizeNames(Q,de),this}get names(){const Q=super.names;return this.catch&&l(Q,this.catch.names),this.finally&&l(Q,this.finally.names),Q}}let we=(()=>{class z extends G{constructor(de){super(),this.error=de}render(de){return`catch(${this.error})`+super.render(de)}}return z.kind="catch",z})(),Me=(()=>{class z extends G{render(de){return"finally"+super.render(de)}}return z.kind="finally",z})();function l(z,Q){for(const de in Q)z[de]=(z[de]||0)+(Q[de]||0);return z}function h(z,Q){return Q instanceof g._CodeOrName?l(z,Q.names):z}function m(z,Q,de){return z instanceof g.Name?xe(z):function Ie(Le){return Le instanceof g._Code&&Le._items.some(ve=>ve instanceof g.Name&&1===Q[ve.str]&&void 0!==de[ve.str])}(z)?new g._Code(z._items.reduce((Le,ve)=>(ve instanceof g.Name&&(ve=xe(ve)),ve instanceof g._Code?Le.push(...ve._items):Le.push(ve),Le),[])):z;function xe(Le){const ve=de[Le.str];return void 0===ve||1!==Q[Le.str]?Le:(delete Q[Le.str],ve)}}function p(z,Q){for(const de in Q)z[de]=(z[de]||0)-(Q[de]||0)}function x(z){return"boolean"==typeof z||"number"==typeof z||null===z?!z:g._`!${W(z)}`}V.CodeGen=class k{constructor(Q,de={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...de,_n:de.lines?"\n":""},this._extScope=Q,this._scope=new w.Scope({parent:Q}),this._nodes=[new te]}toString(){return this._root.render(this.opts)}name(Q){return this._scope.name(Q)}scopeName(Q){return this._extScope.name(Q)}scopeValue(Q,de){const xe=this._extScope.value(Q,de);return(this._values[xe.prefix]||(this._values[xe.prefix]=new Set)).add(xe),xe}getScopeValue(Q,de){return this._extScope.getValue(Q,de)}scopeRefs(Q){return this._extScope.scopeRefs(Q,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Q,de,xe,Ie){const Le=this._scope.toName(de);return void 0!==xe&&Ie&&(this._constants[Le.str]=xe),this._leafNode(new R(Q,Le,xe)),Le}const(Q,de,xe){return this._def(w.varKinds.const,Q,de,xe)}let(Q,de,xe){return this._def(w.varKinds.let,Q,de,xe)}var(Q,de,xe){return this._def(w.varKinds.var,Q,de,xe)}assign(Q,de,xe){return this._leafNode(new A(Q,de,xe))}add(Q,de){return this._leafNode(new N(Q,V.operators.ADD,de))}code(Q){return"function"==typeof Q?Q():Q!==g.nil&&this._leafNode(new Y(Q)),this}object(...Q){const de=["{"];for(const[xe,Ie]of Q)de.length>1&&de.push(","),de.push(xe),(xe!==Ie||this.opts.es5)&&(de.push(":"),(0,g.addCodeArg)(de,Ie));return de.push("}"),new g._Code(de)}if(Q,de,xe){if(this._blockNode(new q(Q)),de&&xe)this.code(de).else().code(xe).endIf();else if(de)this.code(de).endIf();else if(xe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Q){return this._elseNode(new q(Q))}else(){return this._elseNode(new ee)}endIf(){return this._endBlockNode(q,ee)}_for(Q,de){return this._blockNode(Q),de&&this.code(de).endFor(),this}for(Q,de){return this._for(new ne(Q),de)}forRange(Q,de,xe,Ie,Le=(this.opts.es5?w.varKinds.var:w.varKinds.let)){const ve=this._scope.toName(Q);return this._for(new ie(Le,ve,de,xe),()=>Ie(ve))}forOf(Q,de,xe,Ie=w.varKinds.const){const Le=this._scope.toName(Q);if(this.opts.es5){const ve=de instanceof g.Name?de:this.var("_arr",de);return this.forRange("_i",0,g._`${ve}.length`,ye=>{this.var(Le,g._`${ve}[${ye}]`),xe(Le)})}return this._for(new re("of",Ie,Le,de),()=>xe(Le))}forIn(Q,de,xe,Ie=(this.opts.es5?w.varKinds.var:w.varKinds.const)){if(this.opts.ownProperties)return this.forOf(Q,g._`Object.keys(${de})`,xe);const Le=this._scope.toName(Q);return this._for(new re("in",Ie,Le,de),()=>xe(Le))}endFor(){return this._endBlockNode(J)}label(Q){return this._leafNode(new L(Q))}break(Q){return this._leafNode(new F(Q))}return(Q){const de=new se;if(this._blockNode(de),this.code(Q),1!==de.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(se)}try(Q,de,xe){if(!de&&!xe)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ie=new pe;if(this._blockNode(Ie),this.code(Q),de){const Le=this.name("e");this._currNode=Ie.catch=new we(Le),de(Le)}return xe&&(this._currNode=Ie.finally=new Me,this.code(xe)),this._endBlockNode(we,Me)}throw(Q){return this._leafNode(new C(Q))}block(Q,de){return this._blockStarts.push(this._nodes.length),Q&&this.code(Q).endBlock(de),this}endBlock(Q){const de=this._blockStarts.pop();if(void 0===de)throw new Error("CodeGen: not in self-balancing block");const xe=this._nodes.length-de;if(xe<0||void 0!==Q&&xe!==Q)throw new Error(`CodeGen: wrong number of nodes: ${xe} vs ${Q} expected`);return this._nodes.length=de,this}func(Q,de=g.nil,xe,Ie){return this._blockNode(new ce(Q,de,xe)),Ie&&this.code(Ie).endFunc(),this}endFunc(){return this._endBlockNode(ce)}optimize(Q=1){for(;Q-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Q){return this._currNode.nodes.push(Q),this}_blockNode(Q){this._currNode.nodes.push(Q),this._nodes.push(Q)}_endBlockNode(Q,de){const xe=this._currNode;if(xe instanceof Q||de&&xe instanceof de)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${de?`${Q.kind}/${de.kind}`:Q.kind}"`)}_elseNode(Q){const de=this._currNode;if(!(de instanceof q))throw new Error('CodeGen: "else" without "if"');return this._currNode=de.else=Q,this}get _root(){return this._nodes[0]}get _currNode(){const Q=this._nodes;return Q[Q.length-1]}set _currNode(Q){const de=this._nodes;de[de.length-1]=Q}},V.not=x;const D=v(V.operators.AND);V.and=function B(...z){return z.reduce(D)};const M=v(V.operators.OR);function v(z){return(Q,de)=>Q===g.nil?de:de===g.nil?Q:g._`${W(Q)} ${z} ${W(de)}`}function W(z){return z instanceof g.Name?z:g._`(${z})`}V.or=function d(...z){return z.reduce(M)}},85934:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ValueScope=V.ValueScopeName=V.Scope=V.varKinds=V.UsedValueState=void 0;const g=E(33337);class w extends Error{constructor(L){super(`CodeGen: "code" for ${L} not defined`),this.value=L.value}}var O,N;(N=O=V.UsedValueState||(V.UsedValueState={}))[N.Started=0]="Started",N[N.Completed=1]="Completed",V.varKinds={const:new g.Name("const"),let:new g.Name("let"),var:new g.Name("var")};class X{constructor({prefixes:L,parent:F}={}){this._names={},this._prefixes=L,this._parent=F}toName(L){return L instanceof g.Name?L:this.name(L)}name(L){return new g.Name(this._newName(L))}_newName(L){return`${L}${(this._names[L]||this._nameGroup(L)).index++}`}_nameGroup(L){var F,C;if(null!==(C=null===(F=this._parent)||void 0===F?void 0:F._prefixes)&&void 0!==C&&C.has(L)||this._prefixes&&!this._prefixes.has(L))throw new Error(`CodeGen: prefix "${L}" is not allowed in this scope`);return this._names[L]={prefix:L,index:0}}}V.Scope=X;class _ extends g.Name{constructor(L,F){super(F),this.prefix=L}setValue(L,{property:F,itemIndex:C}){this.value=L,this.scopePath=g._`.${new g.Name(F)}[${C}]`}}V.ValueScopeName=_;const R=g._`\n`;V.ValueScope=class A extends X{constructor(L){super(L),this._values={},this._scope=L.scope,this.opts={...L,_n:L.lines?R:g.nil}}get(){return this._scope}name(L){return new _(L,this._newName(L))}value(L,F){var C;if(void 0===F.ref)throw new Error("CodeGen: ref must be passed in value");const Y=this.toName(L),{prefix:j}=Y,G=null!==(C=F.key)&&void 0!==C?C:F.ref;let te=this._values[j];if(te){const J=te.get(G);if(J)return J}else te=this._values[j]=new Map;te.set(G,Y);const ee=this._scope[j]||(this._scope[j]=[]),q=ee.length;return ee[q]=F.ref,Y.setValue(F,{property:j,itemIndex:q}),Y}getValue(L,F){const C=this._values[L];if(C)return C.get(F)}scopeRefs(L,F=this._values){return this._reduceValues(F,C=>{if(void 0===C.scopePath)throw new Error(`CodeGen: name "${C}" has no value`);return g._`${L}${C.scopePath}`})}scopeCode(L=this._values,F,C){return this._reduceValues(L,Y=>{if(void 0===Y.value)throw new Error(`CodeGen: name "${Y}" has no value`);return Y.value.code},F,C)}_reduceValues(L,F,C={},Y){let j=g.nil;for(const G in L){const te=L[G];if(!te)continue;const ee=C[G]=C[G]||new Map;te.forEach(q=>{if(ee.has(q))return;ee.set(q,O.Started);let J=F(q);if(J)j=g._`${j}${this.opts.es5?V.varKinds.var:V.varKinds.const} ${q} = ${J};${this.opts._n}`;else{if(!(J=Y?.(q)))throw new w(q);j=g._`${j}${J}${this.opts._n}`}ee.set(q,O.Completed)})}return j}}},53421:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.extendErrors=V.resetErrorsCount=V.reportExtraError=V.reportError=V.keyword$DataError=V.keywordError=void 0;const g=E(1038),w=E(27006),O=E(23432);function N(ee,q){const J=ee.const("err",q);ee.if(g._`${O.default.vErrors} === null`,()=>ee.assign(O.default.vErrors,g._`[${J}]`),g._`${O.default.vErrors}.push(${J})`),ee.code(g._`${O.default.errors}++`)}function L(ee,q){const{gen:J,validateName:ne,schemaEnv:ie}=ee;ie.$async?J.throw(g._`new ${ee.ValidationError}(${q})`):(J.assign(g._`${ne}.errors`,q),J.return(!1))}V.keywordError={message:({keyword:ee})=>g.str`must pass "${ee}" keyword validation`},V.keyword$DataError={message:({keyword:ee,schemaType:q})=>q?g.str`"${ee}" keyword must be ${q} ($data)`:g.str`"${ee}" keyword is invalid ($data)`},V.reportError=function X(ee,q=V.keywordError,J,ne){const{it:ie}=ee,{gen:re,compositeRule:ce,allErrors:se}=ie,pe=C(ee,q,J);ne??(ce||se)?N(re,pe):L(ie,g._`[${pe}]`)},V.reportExtraError=function _(ee,q=V.keywordError,J){const{it:ne}=ee,{gen:ie,compositeRule:re,allErrors:ce}=ne;N(ie,C(ee,q,J)),re||ce||L(ne,O.default.vErrors)},V.resetErrorsCount=function R(ee,q){ee.assign(O.default.errors,q),ee.if(g._`${O.default.vErrors} !== null`,()=>ee.if(q,()=>ee.assign(g._`${O.default.vErrors}.length`,q),()=>ee.assign(O.default.vErrors,null)))},V.extendErrors=function A({gen:ee,keyword:q,schemaValue:J,data:ne,errsCount:ie,it:re}){if(void 0===ie)throw new Error("ajv implementation error");const ce=ee.name("err");ee.forRange("i",ie,O.default.errors,se=>{ee.const(ce,g._`${O.default.vErrors}[${se}]`),ee.if(g._`${ce}.instancePath === undefined`,()=>ee.assign(g._`${ce}.instancePath`,(0,g.strConcat)(O.default.instancePath,re.errorPath))),ee.assign(g._`${ce}.schemaPath`,g.str`${re.errSchemaPath}/${q}`),re.opts.verbose&&(ee.assign(g._`${ce}.schema`,J),ee.assign(g._`${ce}.data`,ne))})};const F={keyword:new g.Name("keyword"),schemaPath:new g.Name("schemaPath"),params:new g.Name("params"),propertyName:new g.Name("propertyName"),message:new g.Name("message"),schema:new g.Name("schema"),parentSchema:new g.Name("parentSchema")};function C(ee,q,J){const{createErrors:ne}=ee.it;return!1===ne?g._`{}`:function Y(ee,q,J={}){const{gen:ne,it:ie}=ee,re=[j(ie,J),G(ee,J)];return function te(ee,{params:q,message:J},ne){const{keyword:ie,data:re,schemaValue:ce,it:se}=ee,{opts:pe,propertyName:we,topSchemaRef:Me,schemaPath:k}=se;ne.push([F.keyword,ie],[F.params,"function"==typeof q?q(ee):q||g._`{}`]),pe.messages&&ne.push([F.message,"function"==typeof J?J(ee):J]),pe.verbose&&ne.push([F.schema,ce],[F.parentSchema,g._`${Me}${k}`],[O.default.data,re]),we&&ne.push([F.propertyName,we])}(ee,q,re),ne.object(...re)}(ee,q,J)}function j({errorPath:ee},{instancePath:q}){const J=q?g.str`${ee}${(0,w.getErrorPath)(q,w.Type.Str)}`:ee;return[O.default.instancePath,(0,g.strConcat)(O.default.instancePath,J)]}function G({keyword:ee,it:{errSchemaPath:q}},{schemaPath:J,parentSchema:ne}){let ie=ne?q:g.str`${q}/${ee}`;return J&&(ie=g.str`${ie}${(0,w.getErrorPath)(J,w.Type.Str)}`),[F.schemaPath,ie]}},97692:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.resolveSchema=V.getCompilingSchema=V.resolveRef=V.compileSchema=V.SchemaEnv=void 0;const g=E(1038),w=E(42467),O=E(23432),X=E(77172),_=E(27006),R=E(40339);class A{constructor(J){var ne;let ie;this.refs={},this.dynamicAnchors={},"object"==typeof J.schema&&(ie=J.schema),this.schema=J.schema,this.schemaId=J.schemaId,this.root=J.root||this,this.baseId=null!==(ne=J.baseId)&&void 0!==ne?ne:(0,X.normalizeId)(ie?.[J.schemaId||"$id"]),this.schemaPath=J.schemaPath,this.localRefs=J.localRefs,this.meta=J.meta,this.$async=ie?.$async,this.refs={}}}function N(q){const J=C.call(this,q);if(J)return J;const ne=(0,X.getFullPath)(this.opts.uriResolver,q.root.baseId),{es5:ie,lines:re}=this.opts.code,{ownProperties:ce}=this.opts,se=new g.CodeGen(this.scope,{es5:ie,lines:re,ownProperties:ce});let pe;q.$async&&(pe=se.scopeValue("Error",{ref:w.default,code:g._`require("ajv/dist/runtime/validation_error").default`}));const we=se.scopeName("validate");q.validateName=we;const Me={gen:se,allErrors:this.opts.allErrors,data:O.default.data,parentData:O.default.parentData,parentDataProperty:O.default.parentDataProperty,dataNames:[O.default.data],dataPathArr:[g.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:se.scopeValue("schema",!0===this.opts.code.source?{ref:q.schema,code:(0,g.stringify)(q.schema)}:{ref:q.schema}),validateName:we,ValidationError:pe,schema:q.schema,schemaEnv:q,rootId:ne,baseId:q.baseId||ne,schemaPath:g.nil,errSchemaPath:q.schemaPath||(this.opts.jtd?"":"#"),errorPath:g._`""`,opts:this.opts,self:this};let k;try{this._compilations.add(q),(0,R.validateFunctionCode)(Me),se.optimize(this.opts.code.optimize);const l=se.toString();k=`${se.scopeRefs(O.default.scope)}return ${l}`,this.opts.code.process&&(k=this.opts.code.process(k,q));const m=new Function(`${O.default.self}`,`${O.default.scope}`,k)(this,this.scope.get());if(this.scope.value(we,{ref:m}),m.errors=null,m.schema=q.schema,m.schemaEnv=q,q.$async&&(m.$async=!0),!0===this.opts.code.source&&(m.source={validateName:we,validateCode:l,scopeValues:se._values}),this.opts.unevaluated){const{props:p,items:x}=Me;m.evaluated={props:p instanceof g.Name?void 0:p,items:x instanceof g.Name?void 0:x,dynamicProps:p instanceof g.Name,dynamicItems:x instanceof g.Name},m.source&&(m.source.evaluated=(0,g.stringify)(m.evaluated))}return q.validate=m,q}catch(l){throw delete q.validate,delete q.validateName,k&&this.logger.error("Error compiling schema, function code:",k),l}finally{this._compilations.delete(q)}}function F(q){return(0,X.inlineRef)(q.schema,this.opts.inlineRefs)?q.schema:q.validate?q:N.call(this,q)}function C(q){for(const J of this._compilations)if(Y(J,q))return J}function Y(q,J){return q.schema===J.schema&&q.root===J.root&&q.baseId===J.baseId}function j(q,J){let ne;for(;"string"==typeof(ne=this.refs[J]);)J=ne;return ne||this.schemas[J]||G.call(this,q,J)}function G(q,J){const ne=this.opts.uriResolver.parse(J),ie=(0,X._getFullPath)(this.opts.uriResolver,ne);let re=(0,X.getFullPath)(this.opts.uriResolver,q.baseId,void 0);if(Object.keys(q.schema).length>0&&ie===re)return ee.call(this,ne,q);const ce=(0,X.normalizeId)(ie),se=this.refs[ce]||this.schemas[ce];if("string"==typeof se){const pe=G.call(this,q,se);return"object"!=typeof pe?.schema?void 0:ee.call(this,ne,pe)}if("object"==typeof se?.schema){if(se.validate||N.call(this,se),ce===(0,X.normalizeId)(J)){const{schema:pe}=se,{schemaId:we}=this.opts,Me=pe[we];return Me&&(re=(0,X.resolveUrl)(this.opts.uriResolver,re,Me)),new A({schema:pe,schemaId:we,root:q,baseId:re})}return ee.call(this,ne,se)}}V.SchemaEnv=A,V.compileSchema=N,V.resolveRef=function L(q,J,ne){var ie;ne=(0,X.resolveUrl)(this.opts.uriResolver,J,ne);const re=q.refs[ne];if(re)return re;let ce=j.call(this,q,ne);if(void 0===ce){const se=null===(ie=q.localRefs)||void 0===ie?void 0:ie[ne],{schemaId:pe}=this.opts;se&&(ce=new A({schema:se,schemaId:pe,root:q,baseId:J}))}return void 0!==ce?q.refs[ne]=F.call(this,ce):void 0},V.getCompilingSchema=C,V.resolveSchema=G;const te=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ee(q,{baseId:J,schema:ne,root:ie}){var re;if("/"!==(null===(re=q.fragment)||void 0===re?void 0:re[0]))return;for(const pe of q.fragment.slice(1).split("/")){if("boolean"==typeof ne)return;const we=ne[(0,_.unescapeFragment)(pe)];if(void 0===we)return;const Me="object"==typeof(ne=we)&&ne[this.opts.schemaId];!te.has(pe)&&Me&&(J=(0,X.resolveUrl)(this.opts.uriResolver,J,Me))}let ce;if("boolean"!=typeof ne&&ne.$ref&&!(0,_.schemaHasRulesButRef)(ne,this.RULES)){const pe=(0,X.resolveUrl)(this.opts.uriResolver,J,ne.$ref);ce=G.call(this,ie,pe)}const{schemaId:se}=this.opts;return ce=ce||new A({schema:ne,schemaId:se,root:ie,baseId:J}),ce.schema!==ce.root.schema?ce:void 0}},23432:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w={data:new g.Name("data"),valCxt:new g.Name("valCxt"),instancePath:new g.Name("instancePath"),parentData:new g.Name("parentData"),parentDataProperty:new g.Name("parentDataProperty"),rootData:new g.Name("rootData"),dynamicAnchors:new g.Name("dynamicAnchors"),vErrors:new g.Name("vErrors"),errors:new g.Name("errors"),this:new g.Name("this"),self:new g.Name("self"),scope:new g.Name("scope"),json:new g.Name("json"),jsonPos:new g.Name("jsonPos"),jsonLen:new g.Name("jsonLen"),jsonPart:new g.Name("jsonPart")};V.default=w},26288:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(77172);class w extends Error{constructor(X,_,R,A){super(A||`can't resolve reference ${R} from id ${_}`),this.missingRef=(0,g.resolveUrl)(X,_,R),this.missingSchema=(0,g.normalizeId)((0,g.getFullPath)(X,this.missingRef))}}V.default=w},77172:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getSchemaRefs=V.resolveUrl=V.normalizeId=V._getFullPath=V.getFullPath=V.inlineRef=void 0;const g=E(27006),w=E(40362),O=E(44331),X=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);V.inlineRef=function _(ee,q=!0){return"boolean"==typeof ee||(!0===q?!A(ee):!!q&&N(ee)<=q)};const R=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function A(ee){for(const q in ee){if(R.has(q))return!0;const J=ee[q];if(Array.isArray(J)&&J.some(A)||"object"==typeof J&&A(J))return!0}return!1}function N(ee){let q=0;for(const J in ee){if("$ref"===J)return 1/0;if(q++,!X.has(J)&&("object"==typeof ee[J]&&(0,g.eachItem)(ee[J],ne=>q+=N(ne)),q===1/0))return 1/0}return q}function L(ee,q="",J){!1!==J&&(q=Y(q));const ne=ee.parse(q);return F(ee,ne)}function F(ee,q){return ee.serialize(q).split("#")[0]+"#"}V.getFullPath=L,V._getFullPath=F;const C=/#\/?$/;function Y(ee){return ee?ee.replace(C,""):""}V.normalizeId=Y,V.resolveUrl=function j(ee,q,J){return J=Y(J),ee.resolve(q,J)};const G=/^[a-z_][-a-z0-9._]*$/i;V.getSchemaRefs=function te(ee,q){if("boolean"==typeof ee)return{};const{schemaId:J,uriResolver:ne}=this.opts,ie=Y(ee[J]||q),re={"":ie},ce=L(ne,ie,!1),se={},pe=new Set;return O(ee,{allKeys:!0},(k,l,h,m)=>{if(void 0===m)return;const p=ce+l;let x=re[m];function D(M){if(M=Y(x?(0,this.opts.uriResolver.resolve)(x,M):M),pe.has(M))throw Me(M);pe.add(M);let v=this.refs[M];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?we(k,v.schema,M):M!==Y(p)&&("#"===M[0]?(we(k,se[M],M),se[M]=k):this.refs[M]=p),M}function B(M){if("string"==typeof M){if(!G.test(M))throw new Error(`invalid anchor "${M}"`);D.call(this,`#${M}`)}}"string"==typeof k[J]&&(x=D.call(this,k[J])),B.call(this,k.$anchor),B.call(this,k.$dynamicAnchor),re[l]=x}),se;function we(k,l,h){if(void 0!==l&&!w(k,l))throw Me(h)}function Me(k){return new Error(`reference "${k}" resolves to more than one schema`)}}},32203:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getRules=V.isJSONType=void 0;const g=new Set(["string","number","integer","boolean","null","object","array"]);V.isJSONType=function w(X){return"string"==typeof X&&g.has(X)},V.getRules=function O(){const X={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...X,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},X.number,X.string,X.array,X.object],post:{rules:[]},all:{},keywords:{}}}},27006:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.checkStrictMode=V.getErrorPath=V.Type=V.useFunc=V.setEvaluated=V.evaluatedPropsToName=V.mergeEvaluated=V.eachItem=V.unescapeJsonPointer=V.escapeJsonPointer=V.escapeFragment=V.unescapeFragment=V.schemaRefOrVal=V.schemaHasRulesButRef=V.schemaHasRules=V.checkUnknownRules=V.alwaysValidSchema=V.toHash=void 0;const g=E(1038),w=E(33337);function _(ce,se=ce.schema){const{opts:pe,self:we}=ce;if(!pe.strictSchema||"boolean"==typeof se)return;const Me=we.RULES.keywords;for(const k in se)Me[k]||re(ce,`unknown keyword: "${k}"`)}function R(ce,se){if("boolean"==typeof ce)return!ce;for(const pe in ce)if(se[pe])return!0;return!1}function C(ce){return"number"==typeof ce?`${ce}`:ce.replace(/~/g,"~0").replace(/\//g,"~1")}function Y(ce){return ce.replace(/~1/g,"/").replace(/~0/g,"~")}function G({mergeNames:ce,mergeToName:se,mergeValues:pe,resultToName:we}){return(Me,k,l,h)=>{const m=void 0===l?k:l instanceof g.Name?(k instanceof g.Name?ce(Me,k,l):se(Me,k,l),l):k instanceof g.Name?(se(Me,l,k),k):pe(k,l);return h!==g.Name||m instanceof g.Name?m:we(Me,m)}}function te(ce,se){if(!0===se)return ce.var("props",!0);const pe=ce.var("props",g._`{}`);return void 0!==se&&ee(ce,pe,se),pe}function ee(ce,se,pe){Object.keys(pe).forEach(we=>ce.assign(g._`${se}${(0,g.getProperty)(we)}`,!0))}V.toHash=function O(ce){const se={};for(const pe of ce)se[pe]=!0;return se},V.alwaysValidSchema=function X(ce,se){return"boolean"==typeof se?se:0===Object.keys(se).length||(_(ce,se),!R(se,ce.self.RULES.all))},V.checkUnknownRules=_,V.schemaHasRules=R,V.schemaHasRulesButRef=function A(ce,se){if("boolean"==typeof ce)return!ce;for(const pe in ce)if("$ref"!==pe&&se.all[pe])return!0;return!1},V.schemaRefOrVal=function N({topSchemaRef:ce,schemaPath:se},pe,we,Me){if(!Me){if("number"==typeof pe||"boolean"==typeof pe)return pe;if("string"==typeof pe)return g._`${pe}`}return g._`${ce}${se}${(0,g.getProperty)(we)}`},V.unescapeFragment=function L(ce){return Y(decodeURIComponent(ce))},V.escapeFragment=function F(ce){return encodeURIComponent(C(ce))},V.escapeJsonPointer=C,V.unescapeJsonPointer=Y,V.eachItem=function j(ce,se){if(Array.isArray(ce))for(const pe of ce)se(pe);else se(ce)},V.mergeEvaluated={props:G({mergeNames:(ce,se,pe)=>ce.if(g._`${pe} !== true && ${se} !== undefined`,()=>{ce.if(g._`${se} === true`,()=>ce.assign(pe,!0),()=>ce.assign(pe,g._`${pe} || {}`).code(g._`Object.assign(${pe}, ${se})`))}),mergeToName:(ce,se,pe)=>ce.if(g._`${pe} !== true`,()=>{!0===se?ce.assign(pe,!0):(ce.assign(pe,g._`${pe} || {}`),ee(ce,pe,se))}),mergeValues:(ce,se)=>!0===ce||{...ce,...se},resultToName:te}),items:G({mergeNames:(ce,se,pe)=>ce.if(g._`${pe} !== true && ${se} !== undefined`,()=>ce.assign(pe,g._`${se} === true ? true : ${pe} > ${se} ? ${pe} : ${se}`)),mergeToName:(ce,se,pe)=>ce.if(g._`${pe} !== true`,()=>ce.assign(pe,!0===se||g._`${pe} > ${se} ? ${pe} : ${se}`)),mergeValues:(ce,se)=>!0===ce||Math.max(ce,se),resultToName:(ce,se)=>ce.var("items",se)})},V.evaluatedPropsToName=te,V.setEvaluated=ee;const q={};var ne,ce;function re(ce,se,pe=ce.opts.strictSchema){if(pe){if(se=`strict mode: ${se}`,!0===pe)throw new Error(se);ce.self.logger.warn(se)}}V.useFunc=function J(ce,se){return ce.scopeValue("func",{ref:se,code:q[se.code]||(q[se.code]=new w._Code(se.code))})},(ce=ne=V.Type||(V.Type={}))[ce.Num=0]="Num",ce[ce.Str=1]="Str",V.getErrorPath=function ie(ce,se,pe){if(ce instanceof g.Name){const we=se===ne.Num;return pe?we?g._`"[" + ${ce} + "]"`:g._`"['" + ${ce} + "']"`:we?g._`"/" + ${ce}`:g._`"/" + ${ce}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return pe?(0,g.getProperty)(ce).toString():"/"+C(ce)},V.checkStrictMode=re},22650:(Ne,V)=>{"use strict";function g(O,X){return X.rules.some(_=>w(O,_))}function w(O,X){var _;return void 0!==O[X.keyword]||(null===(_=X.definition.implements)||void 0===_?void 0:_.some(R=>void 0!==O[R]))}Object.defineProperty(V,"__esModule",{value:!0}),V.shouldUseRule=V.shouldUseGroup=V.schemaHasRulesForType=void 0,V.schemaHasRulesForType=function E({schema:O,self:X},_){const R=X.RULES.types[_];return R&&!0!==R&&g(O,R)},V.shouldUseGroup=g,V.shouldUseRule=w},37864:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.boolOrEmptySchema=V.topBoolOrEmptySchema=void 0;const g=E(53421),w=E(1038),O=E(23432),X={message:"boolean schema is false"};function A(N,L){const{gen:F,data:C}=N;(0,g.reportError)({gen:F,keyword:"false schema",data:C,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:N},X,void 0,L)}V.topBoolOrEmptySchema=function _(N){const{gen:L,schema:F,validateName:C}=N;!1===F?A(N,!1):"object"==typeof F&&!0===F.$async?L.return(O.default.data):(L.assign(w._`${C}.errors`,null),L.return(!0))},V.boolOrEmptySchema=function R(N,L){const{gen:F,schema:C}=N;!1===C?(F.var(L,!1),A(N)):F.var(L,!0)}},55999:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.reportTypeError=V.checkDataTypes=V.checkDataType=V.coerceAndCheckDataType=V.getJSONTypes=V.getSchemaTypes=V.DataType=void 0;const g=E(32203),w=E(22650),O=E(53421),X=E(1038),_=E(27006);var R,ne;function N(ne){const ie=Array.isArray(ne)?ne:ne?[ne]:[];if(ie.every(g.isJSONType))return ie;throw new Error("type must be JSONType or JSONType[]: "+ie.join(","))}(ne=R=V.DataType||(V.DataType={}))[ne.Correct=0]="Correct",ne[ne.Wrong=1]="Wrong",V.getSchemaTypes=function A(ne){const ie=N(ne.type);if(ie.includes("null")){if(!1===ne.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ie.length&&void 0!==ne.nullable)throw new Error('"nullable" cannot be used without "type"');!0===ne.nullable&&ie.push("null")}return ie},V.getJSONTypes=N,V.coerceAndCheckDataType=function L(ne,ie){const{gen:re,data:ce,opts:se}=ne,pe=function C(ne,ie){return ie?ne.filter(re=>F.has(re)||"array"===ie&&"array"===re):[]}(ie,se.coerceTypes),we=ie.length>0&&!(0===pe.length&&1===ie.length&&(0,w.schemaHasRulesForType)(ne,ie[0]));if(we){const Me=te(ie,ce,se.strictNumbers,R.Wrong);re.if(Me,()=>{pe.length?function Y(ne,ie,re){const{gen:ce,data:se,opts:pe}=ne,we=ce.let("dataType",X._`typeof ${se}`),Me=ce.let("coerced",X._`undefined`);"array"===pe.coerceTypes&&ce.if(X._`${we} == 'object' && Array.isArray(${se}) && ${se}.length == 1`,()=>ce.assign(se,X._`${se}[0]`).assign(we,X._`typeof ${se}`).if(te(ie,se,pe.strictNumbers),()=>ce.assign(Me,se))),ce.if(X._`${Me} !== undefined`);for(const l of re)(F.has(l)||"array"===l&&"array"===pe.coerceTypes)&&k(l);function k(l){switch(l){case"string":return void ce.elseIf(X._`${we} == "number" || ${we} == "boolean"`).assign(Me,X._`"" + ${se}`).elseIf(X._`${se} === null`).assign(Me,X._`""`);case"number":return void ce.elseIf(X._`${we} == "boolean" || ${se} === null
              || (${we} == "string" && ${se} && ${se} == +${se})`).assign(Me,X._`+${se}`);case"integer":return void ce.elseIf(X._`${we} === "boolean" || ${se} === null
              || (${we} === "string" && ${se} && ${se} == +${se} && !(${se} % 1))`).assign(Me,X._`+${se}`);case"boolean":return void ce.elseIf(X._`${se} === "false" || ${se} === 0 || ${se} === null`).assign(Me,!1).elseIf(X._`${se} === "true" || ${se} === 1`).assign(Me,!0);case"null":return ce.elseIf(X._`${se} === "" || ${se} === 0 || ${se} === false`),void ce.assign(Me,null);case"array":ce.elseIf(X._`${we} === "string" || ${we} === "number"
              || ${we} === "boolean" || ${se} === null`).assign(Me,X._`[${se}]`)}}ce.else(),q(ne),ce.endIf(),ce.if(X._`${Me} !== undefined`,()=>{ce.assign(se,Me),function j({gen:ne,parentData:ie,parentDataProperty:re},ce){ne.if(X._`${ie} !== undefined`,()=>ne.assign(X._`${ie}[${re}]`,ce))}(ne,Me)})}(ne,ie,pe):q(ne)})}return we};const F=new Set(["string","number","integer","boolean","null"]);function G(ne,ie,re,ce=R.Correct){const se=ce===R.Correct?X.operators.EQ:X.operators.NEQ;let pe;switch(ne){case"null":return X._`${ie} ${se} null`;case"array":pe=X._`Array.isArray(${ie})`;break;case"object":pe=X._`${ie} && typeof ${ie} == "object" && !Array.isArray(${ie})`;break;case"integer":pe=we(X._`!(${ie} % 1) && !isNaN(${ie})`);break;case"number":pe=we();break;default:return X._`typeof ${ie} ${se} ${ne}`}return ce===R.Correct?pe:(0,X.not)(pe);function we(Me=X.nil){return(0,X.and)(X._`typeof ${ie} == "number"`,Me,re?X._`isFinite(${ie})`:X.nil)}}function te(ne,ie,re,ce){if(1===ne.length)return G(ne[0],ie,re,ce);let se;const pe=(0,_.toHash)(ne);if(pe.array&&pe.object){const we=X._`typeof ${ie} != "object"`;se=pe.null?we:X._`!${ie} || ${we}`,delete pe.null,delete pe.array,delete pe.object}else se=X.nil;pe.number&&delete pe.integer;for(const we in pe)se=(0,X.and)(se,G(we,ie,re,ce));return se}V.checkDataType=G,V.checkDataTypes=te;const ee={message:({schema:ne})=>`must be ${ne}`,params:({schema:ne,schemaValue:ie})=>"string"==typeof ne?X._`{type: ${ne}}`:X._`{type: ${ie}}`};function q(ne){const ie=function J(ne){const{gen:ie,data:re,schema:ce}=ne,se=(0,_.schemaRefOrVal)(ne,ce,"type");return{gen:ie,keyword:"type",data:re,schema:ce.type,schemaCode:se,schemaValue:se,parentSchema:ce,params:{},it:ne}}(ne);(0,O.reportError)(ie,ee)}V.reportTypeError=q},48733:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.assignDefaults=void 0;const g=E(1038),w=E(27006);function X(_,R,A){const{gen:N,compositeRule:L,data:F,opts:C}=_;if(void 0===A)return;const Y=g._`${F}${(0,g.getProperty)(R)}`;if(L)return void(0,w.checkStrictMode)(_,`default is ignored for: ${Y}`);let j=g._`${Y} === undefined`;"empty"===C.useDefaults&&(j=g._`${j} || ${Y} === null || ${Y} === ""`),N.if(j,g._`${Y} = ${(0,g.stringify)(A)}`)}V.assignDefaults=function O(_,R){const{properties:A,items:N}=_.schema;if("object"===R&&A)for(const L in A)X(_,L,A[L].default);else"array"===R&&Array.isArray(N)&&N.forEach((L,F)=>X(_,F,L.default))}},40339:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getData=V.KeywordCxt=V.validateFunctionCode=void 0;const g=E(37864),w=E(55999),O=E(22650),X=E(55999),_=E(48733),R=E(76800),A=E(16334),N=E(1038),L=E(23432),F=E(77172),C=E(27006),Y=E(53421);function G({gen:me,validateName:Ee,schema:fe,schemaEnv:he,opts:ae},ue){ae.code.es5?me.func(Ee,N._`${L.default.data}, ${L.default.valCxt}`,he.$async,()=>{me.code(N._`"use strict"; ${ne(fe,ae)}`),function ee(me,Ee){me.if(L.default.valCxt,()=>{me.var(L.default.instancePath,N._`${L.default.valCxt}.${L.default.instancePath}`),me.var(L.default.parentData,N._`${L.default.valCxt}.${L.default.parentData}`),me.var(L.default.parentDataProperty,N._`${L.default.valCxt}.${L.default.parentDataProperty}`),me.var(L.default.rootData,N._`${L.default.valCxt}.${L.default.rootData}`),Ee.dynamicRef&&me.var(L.default.dynamicAnchors,N._`${L.default.valCxt}.${L.default.dynamicAnchors}`)},()=>{me.var(L.default.instancePath,N._`""`),me.var(L.default.parentData,N._`undefined`),me.var(L.default.parentDataProperty,N._`undefined`),me.var(L.default.rootData,L.default.data),Ee.dynamicRef&&me.var(L.default.dynamicAnchors,N._`{}`)})}(me,ae),me.code(ue)}):me.func(Ee,N._`${L.default.data}, ${function te(me){return N._`{${L.default.instancePath}="", ${L.default.parentData}, ${L.default.parentDataProperty}, ${L.default.rootData}=${L.default.data}${me.dynamicRef?N._`, ${L.default.dynamicAnchors}={}`:N.nil}}={}`}(ae)}`,he.$async,()=>me.code(ne(fe,ae)).code(ue))}function ne(me,Ee){const fe="object"==typeof me&&me[Ee.schemaId];return fe&&(Ee.code.source||Ee.code.process)?N._`/*# sourceURL=${fe} */`:N.nil}function re({schema:me,self:Ee}){if("boolean"==typeof me)return!me;for(const fe in me)if(Ee.RULES.all[fe])return!0;return!1}function ce(me){return"boolean"!=typeof me.schema}function pe(me){(0,C.checkUnknownRules)(me),function Me(me){const{schema:Ee,errSchemaPath:fe,opts:he,self:ae}=me;Ee.$ref&&he.ignoreKeywordsWithRef&&(0,C.schemaHasRulesButRef)(Ee,ae.RULES)&&ae.logger.warn(`$ref: keywords ignored in schema at path "${fe}"`)}(me)}function we(me,Ee){if(me.opts.jtd)return D(me,[],!1,Ee);const fe=(0,w.getSchemaTypes)(me.schema);D(me,fe,!(0,w.coerceAndCheckDataType)(me,fe),Ee)}function m({gen:me,schemaEnv:Ee,schema:fe,errSchemaPath:he,opts:ae}){const ue=fe.$comment;if(!0===ae.$comment)me.code(N._`${L.default.self}.logger.log(${ue})`);else if("function"==typeof ae.$comment){const ge=N.str`${he}/$comment`,Ae=me.scopeValue("root",{ref:Ee.root});me.code(N._`${L.default.self}.opts.$comment(${ue}, ${ge}, ${Ae}.schema)`)}}function D(me,Ee,fe,he){const{gen:ae,schema:ue,data:ge,allErrors:Ae,opts:Ue,self:Ve}=me,{RULES:ze}=Ve;function It(qe){(0,O.shouldUseGroup)(ue,qe)&&(qe.type?(ae.if((0,X.checkDataType)(qe.type,ge,Ue.strictNumbers)),B(me,qe),1===Ee.length&&Ee[0]===qe.type&&fe&&(ae.else(),(0,X.reportTypeError)(me)),ae.endIf()):B(me,qe),Ae||ae.if(N._`${L.default.errors} === ${he||0}`))}!ue.$ref||!Ue.ignoreKeywordsWithRef&&(0,C.schemaHasRulesButRef)(ue,ze)?(Ue.jtd||function M(me,Ee){me.schemaEnv.meta||!me.opts.strictTypes||(function d(me,Ee){if(Ee.length){if(!me.dataTypes.length)return void(me.dataTypes=Ee);Ee.forEach(fe=>{Q(me.dataTypes,fe)||xe(me,`type "${fe}" not allowed by context "${me.dataTypes.join(",")}"`)}),function de(me,Ee){const fe=[];for(const he of me.dataTypes)Q(Ee,he)?fe.push(he):Ee.includes("integer")&&"number"===he&&fe.push("integer");me.dataTypes=fe}(me,Ee)}}(me,Ee),me.opts.allowUnionTypes||function v(me,Ee){Ee.length>1&&(2!==Ee.length||!Ee.includes("null"))&&xe(me,"use allowUnionTypes to allow union type keyword")}(me,Ee),function W(me,Ee){const fe=me.self.RULES.all;for(const he in fe){const ae=fe[he];if("object"==typeof ae&&(0,O.shouldUseRule)(me.schema,ae)){const{type:ue}=ae.definition;ue.length&&!ue.some(ge=>z(Ee,ge))&&xe(me,`missing type "${ue.join(",")}" for keyword "${he}"`)}}}(me,me.dataTypes))}(me,Ee),ae.block(()=>{for(const qe of ze.rules)It(qe);It(ze.post)})):ae.block(()=>Le(me,"$ref",ze.all.$ref.definition))}function B(me,Ee){const{gen:fe,schema:he,opts:{useDefaults:ae}}=me;ae&&(0,_.assignDefaults)(me,Ee.type),fe.block(()=>{for(const ue of Ee.rules)(0,O.shouldUseRule)(he,ue)&&Le(me,ue.keyword,ue.definition,Ee.type)})}function z(me,Ee){return me.includes(Ee)||"number"===Ee&&me.includes("integer")}function Q(me,Ee){return me.includes(Ee)||"integer"===Ee&&me.includes("number")}function xe(me,Ee){(0,C.checkStrictMode)(me,Ee+=` at "${me.schemaEnv.baseId+me.errSchemaPath}" (strictTypes)`,me.opts.strictTypes)}V.validateFunctionCode=function j(me){ce(me)&&(pe(me),re(me))?function q(me){const{schema:Ee,opts:fe,gen:he}=me;G(me,()=>{fe.$comment&&Ee.$comment&&m(me),function k(me){const{schema:Ee,opts:fe}=me;void 0!==Ee.default&&fe.useDefaults&&fe.strictSchema&&(0,C.checkStrictMode)(me,"default is ignored in the schema root")}(me),he.let(L.default.vErrors,null),he.let(L.default.errors,0),fe.unevaluated&&function J(me){const{gen:Ee,validateName:fe}=me;me.evaluated=Ee.const("evaluated",N._`${fe}.evaluated`),Ee.if(N._`${me.evaluated}.dynamicProps`,()=>Ee.assign(N._`${me.evaluated}.props`,N._`undefined`)),Ee.if(N._`${me.evaluated}.dynamicItems`,()=>Ee.assign(N._`${me.evaluated}.items`,N._`undefined`))}(me),we(me),function p(me){const{gen:Ee,schemaEnv:fe,validateName:he,ValidationError:ae,opts:ue}=me;fe.$async?Ee.if(N._`${L.default.errors} === 0`,()=>Ee.return(L.default.data),()=>Ee.throw(N._`new ${ae}(${L.default.vErrors})`)):(Ee.assign(N._`${he}.errors`,L.default.vErrors),ue.unevaluated&&function x({gen:me,evaluated:Ee,props:fe,items:he}){fe instanceof N.Name&&me.assign(N._`${Ee}.props`,fe),he instanceof N.Name&&me.assign(N._`${Ee}.items`,he)}(me),Ee.return(N._`${L.default.errors} === 0`))}(me)})}(me):G(me,()=>(0,g.topBoolOrEmptySchema)(me))};class Ie{constructor(Ee,fe,he){if((0,R.validateKeywordUsage)(Ee,fe,he),this.gen=Ee.gen,this.allErrors=Ee.allErrors,this.keyword=he,this.data=Ee.data,this.schema=Ee.schema[he],this.$data=fe.$data&&Ee.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,C.schemaRefOrVal)(Ee,this.schema,he,this.$data),this.schemaType=fe.schemaType,this.parentSchema=Ee.schema,this.params={},this.it=Ee,this.def=fe,this.$data)this.schemaCode=Ee.gen.const("vSchema",ke(this.$data,Ee));else if(this.schemaCode=this.schemaValue,!(0,R.validSchemaType)(this.schema,fe.schemaType,fe.allowUndefined))throw new Error(`${he} value must be ${JSON.stringify(fe.schemaType)}`);("code"in fe?fe.trackErrors:!1!==fe.errors)&&(this.errsCount=Ee.gen.const("_errs",L.default.errors))}result(Ee,fe,he){this.failResult((0,N.not)(Ee),fe,he)}failResult(Ee,fe,he){this.gen.if(Ee),he?he():this.error(),fe?(this.gen.else(),fe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Ee,fe){this.failResult((0,N.not)(Ee),void 0,fe)}fail(Ee){if(void 0===Ee)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Ee),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Ee){if(!this.$data)return this.fail(Ee);const{schemaCode:fe}=this;this.fail(N._`${fe} !== undefined && (${(0,N.or)(this.invalid$data(),Ee)})`)}error(Ee,fe,he){if(fe)return this.setParams(fe),this._error(Ee,he),void this.setParams({});this._error(Ee,he)}_error(Ee,fe){(Ee?Y.reportExtraError:Y.reportError)(this,this.def.error,fe)}$dataError(){(0,Y.reportError)(this,this.def.$dataError||Y.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,Y.resetErrorsCount)(this.gen,this.errsCount)}ok(Ee){this.allErrors||this.gen.if(Ee)}setParams(Ee,fe){fe?Object.assign(this.params,Ee):this.params=Ee}block$data(Ee,fe,he=N.nil){this.gen.block(()=>{this.check$data(Ee,he),fe()})}check$data(Ee=N.nil,fe=N.nil){if(!this.$data)return;const{gen:he,schemaCode:ae,schemaType:ue,def:ge}=this;he.if((0,N.or)(N._`${ae} === undefined`,fe)),Ee!==N.nil&&he.assign(Ee,!0),(ue.length||ge.validateSchema)&&(he.elseIf(this.invalid$data()),this.$dataError(),Ee!==N.nil&&he.assign(Ee,!1)),he.else()}invalid$data(){const{gen:Ee,schemaCode:fe,schemaType:he,def:ae,it:ue}=this;return(0,N.or)(function ge(){if(he.length){if(!(fe instanceof N.Name))throw new Error("ajv implementation error");const Ue=Array.isArray(he)?he:[he];return N._`${(0,X.checkDataTypes)(Ue,fe,ue.opts.strictNumbers,X.DataType.Wrong)}`}return N.nil}(),function Ae(){if(ae.validateSchema){const Ue=Ee.scopeValue("validate$data",{ref:ae.validateSchema});return N._`!${Ue}(${fe})`}return N.nil}())}subschema(Ee,fe){const he=(0,A.getSubschema)(this.it,Ee);(0,A.extendSubschemaData)(he,this.it,Ee),(0,A.extendSubschemaMode)(he,Ee);const ae={...this.it,...he,items:void 0,props:void 0};return function ie(me,Ee){ce(me)&&(pe(me),re(me))?function se(me,Ee){const{schema:fe,gen:he,opts:ae}=me;ae.$comment&&fe.$comment&&m(me),function l(me){const Ee=me.schema[me.opts.schemaId];Ee&&(me.baseId=(0,F.resolveUrl)(me.opts.uriResolver,me.baseId,Ee))}(me),function h(me){if(me.schema.$async&&!me.schemaEnv.$async)throw new Error("async schema in sync schema")}(me);const ue=he.const("_errs",L.default.errors);we(me,ue),he.var(Ee,N._`${ue} === ${L.default.errors}`)}(me,Ee):(0,g.boolOrEmptySchema)(me,Ee)}(ae,fe),ae}mergeEvaluated(Ee,fe){const{it:he,gen:ae}=this;he.opts.unevaluated&&(!0!==he.props&&void 0!==Ee.props&&(he.props=C.mergeEvaluated.props(ae,Ee.props,he.props,fe)),!0!==he.items&&void 0!==Ee.items&&(he.items=C.mergeEvaluated.items(ae,Ee.items,he.items,fe)))}mergeValidEvaluated(Ee,fe){const{it:he,gen:ae}=this;if(he.opts.unevaluated&&(!0!==he.props||!0!==he.items))return ae.if(fe,()=>this.mergeEvaluated(Ee,N.Name)),!0}}function Le(me,Ee,fe,he){const ae=new Ie(me,fe,Ee);"code"in fe?fe.code(ae,he):ae.$data&&fe.validate?(0,R.funcKeywordCode)(ae,fe):"macro"in fe?(0,R.macroKeywordCode)(ae,fe):(fe.compile||fe.validate)&&(0,R.funcKeywordCode)(ae,fe)}V.KeywordCxt=Ie;const ve=/^\/(?:[^~]|~0|~1)*$/,ye=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ke(me,{dataLevel:Ee,dataNames:fe,dataPathArr:he}){let ae,ue;if(""===me)return L.default.rootData;if("/"===me[0]){if(!ve.test(me))throw new Error(`Invalid JSON-pointer: ${me}`);ae=me,ue=L.default.rootData}else{const Ve=ye.exec(me);if(!Ve)throw new Error(`Invalid JSON-pointer: ${me}`);const ze=+Ve[1];if(ae=Ve[2],"#"===ae){if(ze>=Ee)throw new Error(Ue("property/index",ze));return he[Ee-ze]}if(ze>Ee)throw new Error(Ue("data",ze));if(ue=fe[Ee-ze],!ae)return ue}let ge=ue;const Ae=ae.split("/");for(const Ve of Ae)Ve&&(ue=N._`${ue}${(0,N.getProperty)((0,C.unescapeJsonPointer)(Ve))}`,ge=N._`${ge} && ${ue}`);return ge;function Ue(Ve,ze){return`Cannot access ${Ve} ${ze} levels up, current level is ${Ee}`}}V.getData=ke},76800:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateKeywordUsage=V.validSchemaType=V.funcKeywordCode=V.macroKeywordCode=void 0;const g=E(1038),w=E(23432),O=E(42406),X=E(53421);function A(j){const{gen:G,data:te,it:ee}=j;G.if(ee.parentData,()=>G.assign(te,g._`${ee.parentData}[${ee.parentDataProperty}]`))}function F(j,G,te){if(void 0===te)throw new Error(`keyword "${G}" failed to compile`);return j.scopeValue("keyword","function"==typeof te?{ref:te}:{ref:te,code:(0,g.stringify)(te)})}V.macroKeywordCode=function _(j,G){const{gen:te,keyword:ee,schema:q,parentSchema:J,it:ne}=j,ie=G.macro.call(ne.self,q,J,ne),re=F(te,ee,ie);!1!==ne.opts.validateSchema&&ne.self.validateSchema(ie,!0);const ce=te.name("valid");j.subschema({schema:ie,schemaPath:g.nil,errSchemaPath:`${ne.errSchemaPath}/${ee}`,topSchemaRef:re,compositeRule:!0},ce),j.pass(ce,()=>j.error(!0))},V.funcKeywordCode=function R(j,G){var te;const{gen:ee,keyword:q,schema:J,parentSchema:ne,$data:ie,it:re}=j;!function L({schemaEnv:j},G){if(G.async&&!j.$async)throw new Error("async keyword in sync schema")}(re,G);const ce=!ie&&G.compile?G.compile.call(re.self,J,ne,re):G.validate,se=F(ee,q,ce),pe=ee.let("valid");function l(m=(G.async?g._`await `:g.nil)){ee.assign(pe,g._`${m}${(0,O.callValidateCode)(j,se,re.opts.passContext?w.default.this:w.default.self,!("compile"in G&&!ie||!1===G.schema))}`,G.modifying)}function h(m){var p;ee.if((0,g.not)(null!==(p=G.valid)&&void 0!==p?p:pe),m)}j.block$data(pe,function we(){if(!1===G.errors)l(),G.modifying&&A(j),h(()=>j.error());else{const m=G.async?function Me(){const m=ee.let("ruleErrs",null);return ee.try(()=>l(g._`await `),p=>ee.assign(pe,!1).if(g._`${p} instanceof ${re.ValidationError}`,()=>ee.assign(m,g._`${p}.errors`),()=>ee.throw(p))),m}():function k(){const m=g._`${se}.errors`;return ee.assign(m,null),l(g.nil),m}();G.modifying&&A(j),h(()=>function N(j,G){const{gen:te}=j;te.if(g._`Array.isArray(${G})`,()=>{te.assign(w.default.vErrors,g._`${w.default.vErrors} === null ? ${G} : ${w.default.vErrors}.concat(${G})`).assign(w.default.errors,g._`${w.default.vErrors}.length`),(0,X.extendErrors)(j)},()=>j.error())}(j,m))}}),j.ok(null!==(te=G.valid)&&void 0!==te?te:pe)},V.validSchemaType=function C(j,G,te=!1){return!G.length||G.some(ee=>"array"===ee?Array.isArray(j):"object"===ee?j&&"object"==typeof j&&!Array.isArray(j):typeof j==ee||te&&typeof j>"u")},V.validateKeywordUsage=function Y({schema:j,opts:G,self:te,errSchemaPath:ee},q,J){if(Array.isArray(q.keyword)?!q.keyword.includes(J):q.keyword!==J)throw new Error("ajv implementation error");const ne=q.dependencies;if(ne?.some(ie=>!Object.prototype.hasOwnProperty.call(j,ie)))throw new Error(`parent schema must have dependencies of ${J}: ${ne.join(",")}`);if(q.validateSchema&&!q.validateSchema(j[J])){const re=`keyword "${J}" value is invalid at path "${ee}": `+te.errorsText(q.validateSchema.errors);if("log"!==G.validateSchema)throw new Error(re);te.logger.error(re)}}},16334:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.extendSubschemaMode=V.extendSubschemaData=V.getSubschema=void 0;const g=E(1038),w=E(27006);V.getSubschema=function O(R,{keyword:A,schemaProp:N,schema:L,schemaPath:F,errSchemaPath:C,topSchemaRef:Y}){if(void 0!==A&&void 0!==L)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==A){const j=R.schema[A];return void 0===N?{schema:j,schemaPath:g._`${R.schemaPath}${(0,g.getProperty)(A)}`,errSchemaPath:`${R.errSchemaPath}/${A}`}:{schema:j[N],schemaPath:g._`${R.schemaPath}${(0,g.getProperty)(A)}${(0,g.getProperty)(N)}`,errSchemaPath:`${R.errSchemaPath}/${A}/${(0,w.escapeFragment)(N)}`}}if(void 0!==L){if(void 0===F||void 0===C||void 0===Y)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:L,schemaPath:F,topSchemaRef:Y,errSchemaPath:C}}throw new Error('either "keyword" or "schema" must be passed')},V.extendSubschemaData=function X(R,A,{dataProp:N,dataPropType:L,data:F,dataTypes:C,propertyName:Y}){if(void 0!==F&&void 0!==N)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:j}=A;if(void 0!==N){const{errorPath:te,dataPathArr:ee,opts:q}=A;G(j.let("data",g._`${A.data}${(0,g.getProperty)(N)}`,!0)),R.errorPath=g.str`${te}${(0,w.getErrorPath)(N,L,q.jsPropertySyntax)}`,R.parentDataProperty=g._`${N}`,R.dataPathArr=[...ee,R.parentDataProperty]}function G(te){R.data=te,R.dataLevel=A.dataLevel+1,R.dataTypes=[],A.definedProperties=new Set,R.parentData=A.data,R.dataNames=[...A.dataNames,te]}void 0!==F&&(G(F instanceof g.Name?F:j.let("data",F,!0)),void 0!==Y&&(R.propertyName=Y)),C&&(R.dataTypes=C)},V.extendSubschemaMode=function _(R,{jtdDiscriminator:A,jtdMetadata:N,compositeRule:L,createErrors:F,allErrors:C}){void 0!==L&&(R.compositeRule=L),void 0!==F&&(R.createErrors=F),void 0!==C&&(R.allErrors=C),R.jtdDiscriminator=A,R.jtdMetadata=N}},35419:(Ne,V,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(V,"__esModule",{value:!0}),V.CodeGen=V.Name=V.nil=V.stringify=V.str=V._=V.KeywordCxt=void 0;var w=E(40339);Object.defineProperty(V,"KeywordCxt",{enumerable:!0,get:function(){return w.KeywordCxt}});var O=E(1038);Object.defineProperty(V,"_",{enumerable:!0,get:function(){return O._}}),Object.defineProperty(V,"str",{enumerable:!0,get:function(){return O.str}}),Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return O.stringify}}),Object.defineProperty(V,"nil",{enumerable:!0,get:function(){return O.nil}}),Object.defineProperty(V,"Name",{enumerable:!0,get:function(){return O.Name}}),Object.defineProperty(V,"CodeGen",{enumerable:!0,get:function(){return O.CodeGen}});const X=E(42467),_=E(26288),R=E(32203),A=E(97692),N=E(1038),L=E(77172),F=E(55999),C=E(27006),Y=E(83813),j=E(13203),G=(v,W)=>new RegExp(v,W);G.code="new RegExp";const te=["removeAdditional","useDefaults","coerceTypes"],ee=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),q={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},J={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ie(v){var W,z,Q,de,xe,Ie,Le,ve,ye,ke,me,Ee,fe,he,ae,ue,ge,Ae,Ue,Ve,ze,It,qe,je,ut;const $=v.strict,T=null===(W=v.code)||void 0===W?void 0:W.optimize,S=!0===T||void 0===T?1:T||0,Z=null!==(Q=null===(z=v.code)||void 0===z?void 0:z.regExp)&&void 0!==Q?Q:G,le=null!==(de=v.uriResolver)&&void 0!==de?de:j.default;return{strictSchema:null===(Ie=null!==(xe=v.strictSchema)&&void 0!==xe?xe:$)||void 0===Ie||Ie,strictNumbers:null===(ve=null!==(Le=v.strictNumbers)&&void 0!==Le?Le:$)||void 0===ve||ve,strictTypes:null!==(ke=null!==(ye=v.strictTypes)&&void 0!==ye?ye:$)&&void 0!==ke?ke:"log",strictTuples:null!==(Ee=null!==(me=v.strictTuples)&&void 0!==me?me:$)&&void 0!==Ee?Ee:"log",strictRequired:null!==(he=null!==(fe=v.strictRequired)&&void 0!==fe?fe:$)&&void 0!==he&&he,code:v.code?{...v.code,optimize:S,regExp:Z}:{optimize:S,regExp:Z},loopRequired:null!==(ae=v.loopRequired)&&void 0!==ae?ae:200,loopEnum:null!==(ue=v.loopEnum)&&void 0!==ue?ue:200,meta:null===(ge=v.meta)||void 0===ge||ge,messages:null===(Ae=v.messages)||void 0===Ae||Ae,inlineRefs:null===(Ue=v.inlineRefs)||void 0===Ue||Ue,schemaId:null!==(Ve=v.schemaId)&&void 0!==Ve?Ve:"$id",addUsedSchema:null===(ze=v.addUsedSchema)||void 0===ze||ze,validateSchema:null===(It=v.validateSchema)||void 0===It||It,validateFormats:null===(qe=v.validateFormats)||void 0===qe||qe,unicodeRegExp:null===(je=v.unicodeRegExp)||void 0===je||je,int32range:null===(ut=v.int32range)||void 0===ut||ut,uriResolver:le}}class re{constructor(W={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts={...W,...ie(W)};const{es5:z,lines:Q}=this.opts.code;this.scope=new N.ValueScope({scope:{},prefixes:ee,es5:z,lines:Q}),this.logger=function h(v){if(!1===v)return l;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(W.logger);const de=W.validateFormats;W.validateFormats=!1,this.RULES=(0,R.getRules)(),ce.call(this,q,W,"NOT SUPPORTED"),ce.call(this,J,W,"DEPRECATED","warn"),this._metaOpts=k.call(this),W.formats&&we.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&Me.call(this,W.keywords),"object"==typeof W.meta&&this.addMetaSchema(W.meta),pe.call(this),W.validateFormats=de}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:W,meta:z,schemaId:Q}=this.opts;let de=Y;"id"===Q&&(de={...Y},de.id=de.$id,delete de.$id),z&&W&&this.addMetaSchema(de,de[Q],!1)}defaultMeta(){const{meta:W,schemaId:z}=this.opts;return this.opts.defaultMeta="object"==typeof W?W[z]||W:void 0}validate(W,z){let Q;if("string"==typeof W){if(Q=this.getSchema(W),!Q)throw new Error(`no schema with key or ref "${W}"`)}else Q=this.compile(W);const de=Q(z);return"$async"in Q||(this.errors=Q.errors),de}compile(W,z){const Q=this._addSchema(W,z);return Q.validate||this._compileSchemaEnv(Q)}compileAsync(W,z){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:Q}=this.opts;return de.call(this,W,z);function de(ae,ue){return xe.apply(this,arguments)}function xe(){return(xe=g(function*(ae,ue){yield Ie.call(this,ae.$schema);const ge=this._addSchema(ae,ue);return ge.validate||ve.call(this,ge)})).apply(this,arguments)}function Ie(ae){return Le.apply(this,arguments)}function Le(){return(Le=g(function*(ae){ae&&!this.getSchema(ae)&&(yield de.call(this,{$ref:ae},!0))})).apply(this,arguments)}function ve(ae){return ye.apply(this,arguments)}function ye(){return(ye=g(function*(ae){try{return this._compileSchemaEnv(ae)}catch(ue){if(!(ue instanceof _.default))throw ue;return ke.call(this,ue),yield me.call(this,ue.missingSchema),ve.call(this,ae)}})).apply(this,arguments)}function ke({missingSchema:ae,missingRef:ue}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${ue} cannot be resolved`)}function me(ae){return Ee.apply(this,arguments)}function Ee(){return(Ee=g(function*(ae){const ue=yield fe.call(this,ae);this.refs[ae]||(yield Ie.call(this,ue.$schema)),this.refs[ae]||this.addSchema(ue,ae,z)})).apply(this,arguments)}function fe(ae){return he.apply(this,arguments)}function he(){return(he=g(function*(ae){const ue=this._loading[ae];if(ue)return ue;try{return yield this._loading[ae]=Q(ae)}finally{delete this._loading[ae]}})).apply(this,arguments)}}addSchema(W,z,Q,de=this.opts.validateSchema){if(Array.isArray(W)){for(const Ie of W)this.addSchema(Ie,void 0,Q,de);return this}let xe;if("object"==typeof W){const{schemaId:Ie}=this.opts;if(xe=W[Ie],void 0!==xe&&"string"!=typeof xe)throw new Error(`schema ${Ie} must be string`)}return z=(0,L.normalizeId)(z||xe),this._checkUnique(z),this.schemas[z]=this._addSchema(W,Q,z,de,!0),this}addMetaSchema(W,z,Q=this.opts.validateSchema){return this.addSchema(W,z,!0,Q),this}validateSchema(W,z){if("boolean"==typeof W)return!0;let Q;if(Q=W.$schema,void 0!==Q&&"string"!=typeof Q)throw new Error("$schema must be a string");if(Q=Q||this.opts.defaultMeta||this.defaultMeta(),!Q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const de=this.validate(Q,W);if(!de&&z){const xe="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(xe);this.logger.error(xe)}return de}getSchema(W){let z;for(;"string"==typeof(z=se.call(this,W));)W=z;if(void 0===z){const{schemaId:Q}=this.opts,de=new A.SchemaEnv({schema:{},schemaId:Q});if(z=A.resolveSchema.call(this,de,W),!z)return;this.refs[W]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(typeof W){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=se.call(this,W);return"object"==typeof z&&this._cache.delete(z.schema),delete this.schemas[W],delete this.refs[W],this}case"object":{this._cache.delete(W);let Q=W[this.opts.schemaId];return Q&&(Q=(0,L.normalizeId)(Q),delete this.schemas[Q],delete this.refs[Q]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(W){for(const z of W)this.addKeyword(z);return this}addKeyword(W,z){let Q;if("string"==typeof W)Q=W,"object"==typeof z&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=Q);else{if("object"!=typeof W||void 0!==z)throw new Error("invalid addKeywords parameters");if(Q=(z=W).keyword,Array.isArray(Q)&&!Q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(p.call(this,Q,z),!z)return(0,C.eachItem)(Q,xe=>x.call(this,xe)),this;B.call(this,z);const de={...z,type:(0,F.getJSONTypes)(z.type),schemaType:(0,F.getJSONTypes)(z.schemaType)};return(0,C.eachItem)(Q,0===de.type.length?xe=>x.call(this,xe,de):xe=>de.type.forEach(Ie=>x.call(this,xe,de,Ie))),this}getKeyword(W){const z=this.RULES.all[W];return"object"==typeof z?z.definition:!!z}removeKeyword(W){const{RULES:z}=this;delete z.keywords[W],delete z.all[W];for(const Q of z.rules){const de=Q.rules.findIndex(xe=>xe.keyword===W);de>=0&&Q.rules.splice(de,1)}return this}addFormat(W,z){return"string"==typeof z&&(z=new RegExp(z)),this.formats[W]=z,this}errorsText(W=this.errors,{separator:z=", ",dataVar:Q="data"}={}){return W&&0!==W.length?W.map(de=>`${Q}${de.instancePath} ${de.message}`).reduce((de,xe)=>de+z+xe):"No errors"}$dataMetaSchema(W,z){const Q=this.RULES.all;W=JSON.parse(JSON.stringify(W));for(const de of z){const xe=de.split("/").slice(1);let Ie=W;for(const Le of xe)Ie=Ie[Le];for(const Le in Q){const ve=Q[Le];if("object"!=typeof ve)continue;const{$data:ye}=ve.definition,ke=Ie[Le];ye&&ke&&(Ie[Le]=d(ke))}}return W}_removeAllSchemas(W,z){for(const Q in W){const de=W[Q];(!z||z.test(Q))&&("string"==typeof de?delete W[Q]:de&&!de.meta&&(this._cache.delete(de.schema),delete W[Q]))}}_addSchema(W,z,Q,de=this.opts.validateSchema,xe=this.opts.addUsedSchema){let Ie;const{schemaId:Le}=this.opts;if("object"==typeof W)Ie=W[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof W)throw new Error("schema must be object or boolean")}let ve=this._cache.get(W);if(void 0!==ve)return ve;Q=(0,L.normalizeId)(Ie||Q);const ye=L.getSchemaRefs.call(this,W,Q);return ve=new A.SchemaEnv({schema:W,schemaId:Le,meta:z,baseId:Q,localRefs:ye}),this._cache.set(ve.schema,ve),xe&&!Q.startsWith("#")&&(Q&&this._checkUnique(Q),this.refs[Q]=ve),de&&this.validateSchema(W,!0),ve}_checkUnique(W){if(this.schemas[W]||this.refs[W])throw new Error(`schema with key or id "${W}" already exists`)}_compileSchemaEnv(W){if(W.meta?this._compileMetaSchema(W):A.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}_compileMetaSchema(W){const z=this.opts;this.opts=this._metaOpts;try{A.compileSchema.call(this,W)}finally{this.opts=z}}}function ce(v,W,z,Q="error"){for(const de in v)de in W&&this.logger[Q](`${z}: option ${de}. ${v[de]}`)}function se(v){return v=(0,L.normalizeId)(v),this.schemas[v]||this.refs[v]}function pe(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const W in v)this.addSchema(v[W],W)}function we(){for(const v in this.opts.formats){const W=this.opts.formats[v];W&&this.addFormat(v,W)}}function Me(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const W in v){const z=v[W];z.keyword||(z.keyword=W),this.addKeyword(z)}}}function k(){const v={...this.opts};for(const W of te)delete v[W];return v}V.default=re,re.ValidationError=X.default,re.MissingRefError=_.default;const l={log(){},warn(){},error(){}},m=/^[a-z_$][a-z0-9_$:-]*$/i;function p(v,W){const{RULES:z}=this;if((0,C.eachItem)(v,Q=>{if(z.keywords[Q])throw new Error(`Keyword ${Q} is already defined`);if(!m.test(Q))throw new Error(`Keyword ${Q} has invalid name`)}),W&&W.$data&&!("code"in W)&&!("validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function x(v,W,z){var Q;const de=W?.post;if(z&&de)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:xe}=this;let Ie=de?xe.post:xe.rules.find(({type:ve})=>ve===z);if(Ie||(Ie={type:z,rules:[]},xe.rules.push(Ie)),xe.keywords[v]=!0,!W)return;const Le={keyword:v,definition:{...W,type:(0,F.getJSONTypes)(W.type),schemaType:(0,F.getJSONTypes)(W.schemaType)}};W.before?D.call(this,Ie,Le,W.before):Ie.rules.push(Le),xe.all[v]=Le,null===(Q=W.implements)||void 0===Q||Q.forEach(ve=>this.addKeyword(ve))}function D(v,W,z){const Q=v.rules.findIndex(de=>de.keyword===z);Q>=0?v.rules.splice(Q,0,W):(v.rules.push(W),this.logger.warn(`rule ${z} is not defined`))}function B(v){let{metaSchema:W}=v;void 0!==W&&(v.$data&&this.opts.$data&&(W=d(W)),v.validateSchema=this.compile(W,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function d(v){return{anyOf:[v,M]}}},87577:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(6438),w=E(59608),O=E(8307),X=E(11082),_=E(93406),R=E(14516),A=E(3059),N=E(18738),L=["/properties"];V.default=function F(C){return[g,w,O,X,_,Y(this,R),A,Y(this,N)].forEach(j=>this.addMetaSchema(j,void 0,!1)),this;function Y(j,G){return C?j.$dataMetaSchema(G,L):G}}},92281:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(40362);g.code='require("ajv/dist/runtime/equal").default',V.default=g},26488:(Ne,V)=>{"use strict";function E(g){const w=g.length;let _,O=0,X=0;for(;X<w;)O++,_=g.charCodeAt(X++),_>=55296&&_<=56319&&X<w&&(_=g.charCodeAt(X),56320==(64512&_)&&X++);return O}Object.defineProperty(V,"__esModule",{value:!0}),V.default=E,E.code='require("ajv/dist/runtime/ucs2length").default'},13203:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(95568);g.code='require("ajv/dist/runtime/uri").default',V.default=g},42467:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});class E extends Error{constructor(w){super("validation failed"),this.errors=w,this.ajv=this.validation=!0}}V.default=E},46934:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateAdditionalItems=void 0;const g=E(1038),w=E(27006),X={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:R}})=>g.str`must NOT have more than ${R} items`,params:({params:{len:R}})=>g._`{limit: ${R}}`},code(R){const{parentSchema:A,it:N}=R,{items:L}=A;Array.isArray(L)?_(R,L):(0,w.checkStrictMode)(N,'"additionalItems" is ignored when "items" is not an array of schemas')}};function _(R,A){const{gen:N,schema:L,data:F,keyword:C,it:Y}=R;Y.items=!0;const j=N.const("len",g._`${F}.length`);if(!1===L)R.setParams({len:A.length}),R.pass(g._`${j} <= ${A.length}`);else if("object"==typeof L&&!(0,w.alwaysValidSchema)(Y,L)){const te=N.var("valid",g._`${j} <= ${A.length}`);N.if((0,g.not)(te),()=>function G(te){N.forRange("i",A.length,j,ee=>{R.subschema({keyword:C,dataProp:ee,dataPropType:w.Type.Num},te),Y.allErrors||N.if((0,g.not)(te),()=>N.break())})}(te)),R.ok(te)}}V.validateAdditionalItems=_,V.default=X},18445:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(42406),w=E(1038),O=E(23432),X=E(27006);V.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:A})=>w._`{additionalProperty: ${A.additionalProperty}}`},code(A){const{gen:N,schema:L,parentSchema:F,data:C,errsCount:Y,it:j}=A;if(!Y)throw new Error("ajv implementation error");const{allErrors:G,opts:te}=j;if(j.props=!0,"all"!==te.removeAdditional&&(0,X.alwaysValidSchema)(j,L))return;const ee=(0,g.allSchemaProperties)(F.properties),q=(0,g.allSchemaProperties)(F.patternProperties);function ie(se){N.code(w._`delete ${C}[${se}]`)}function re(se){if("all"===te.removeAdditional||te.removeAdditional&&!1===L)ie(se);else{if(!1===L)return A.setParams({additionalProperty:se}),A.error(),void(G||N.break());if("object"==typeof L&&!(0,X.alwaysValidSchema)(j,L)){const pe=N.name("valid");"failing"===te.removeAdditional?(ce(se,pe,!1),N.if((0,w.not)(pe),()=>{A.reset(),ie(se)})):(ce(se,pe),G||N.if((0,w.not)(pe),()=>N.break()))}}}function ce(se,pe,we){const Me={keyword:"additionalProperties",dataProp:se,dataPropType:X.Type.Str};!1===we&&Object.assign(Me,{compositeRule:!0,createErrors:!1,allErrors:!1}),A.subschema(Me,pe)}(function J(){N.forIn("key",C,se=>{ee.length||q.length?N.if(function ne(se){let pe;if(ee.length>8){const we=(0,X.schemaRefOrVal)(j,F.properties,"properties");pe=(0,g.isOwnProperty)(N,we,se)}else pe=ee.length?(0,w.or)(...ee.map(we=>w._`${se} === ${we}`)):w.nil;return q.length&&(pe=(0,w.or)(pe,...q.map(we=>w._`${(0,g.usePattern)(A,we)}.test(${se})`))),(0,w.not)(pe)}(se),()=>re(se)):re(se)})})(),A.ok(w._`${Y} === ${O.default.errors}`)}}},77783:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(27006);V.default={keyword:"allOf",schemaType:"array",code(O){const{gen:X,schema:_,it:R}=O;if(!Array.isArray(_))throw new Error("ajv implementation error");const A=X.name("valid");_.forEach((N,L)=>{if((0,g.alwaysValidSchema)(R,N))return;const F=O.subschema({keyword:"allOf",schemaProp:L},A);O.ok(A),O.mergeEvaluated(F)})}}},60922:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const w={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E(42406).validateUnion,error:{message:"must match a schema in anyOf"}};V.default=w},57568:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006);V.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:_,max:R}})=>void 0===R?g.str`must contain at least ${_} valid item(s)`:g.str`must contain at least ${_} and no more than ${R} valid item(s)`,params:({params:{min:_,max:R}})=>void 0===R?g._`{minContains: ${_}}`:g._`{minContains: ${_}, maxContains: ${R}}`},code(_){const{gen:R,schema:A,parentSchema:N,data:L,it:F}=_;let C,Y;const{minContains:j,maxContains:G}=N;F.opts.next?(C=void 0===j?1:j,Y=G):C=1;const te=R.const("len",g._`${L}.length`);if(_.setParams({min:C,max:Y}),void 0===Y&&0===C)return void(0,w.checkStrictMode)(F,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==Y&&C>Y)return(0,w.checkStrictMode)(F,'"minContains" > "maxContains" is always invalid'),void _.fail();if((0,w.alwaysValidSchema)(F,A)){let ie=g._`${te} >= ${C}`;return void 0!==Y&&(ie=g._`${ie} && ${te} <= ${Y}`),void _.pass(ie)}F.items=!0;const ee=R.name("valid");function q(){const ie=R.name("_valid"),re=R.let("count",0);J(ie,()=>R.if(ie,()=>function ne(ie){R.code(g._`${ie}++`),void 0===Y?R.if(g._`${ie} >= ${C}`,()=>R.assign(ee,!0).break()):(R.if(g._`${ie} > ${Y}`,()=>R.assign(ee,!1).break()),1===C?R.assign(ee,!0):R.if(g._`${ie} >= ${C}`,()=>R.assign(ee,!0)))}(re)))}function J(ie,re){R.forRange("i",0,te,ce=>{_.subschema({keyword:"contains",dataProp:ce,dataPropType:w.Type.Num,compositeRule:!0},ie),re()})}void 0===Y&&1===C?J(ee,()=>R.if(ee,()=>R.break())):0===C?(R.let(ee,!0),void 0!==Y&&R.if(g._`${L}.length > 0`,q)):(R.let(ee,!1),q()),_.result(ee,()=>_.reset())}}},68032:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateSchemaDeps=V.validatePropertyDeps=V.error=void 0;const g=E(1038),w=E(27006),O=E(42406);V.error={message:({params:{property:N,depsCount:L,deps:F}})=>g.str`must have ${1===L?"property":"properties"} ${F} when property ${N} is present`,params:({params:{property:N,depsCount:L,deps:F,missingProperty:C}})=>g._`{property: ${N},
    missingProperty: ${C},
    depsCount: ${L},
    deps: ${F}}`};const X={keyword:"dependencies",type:"object",schemaType:"object",error:V.error,code(N){const[L,F]=function _({schema:N}){const L={},F={};for(const C in N)"__proto__"!==C&&((Array.isArray(N[C])?L:F)[C]=N[C]);return[L,F]}(N);R(N,L),A(N,F)}};function R(N,L=N.schema){const{gen:F,data:C,it:Y}=N;if(0===Object.keys(L).length)return;const j=F.let("missing");for(const G in L){const te=L[G];if(0===te.length)continue;const ee=(0,O.propertyInData)(F,C,G,Y.opts.ownProperties);N.setParams({property:G,depsCount:te.length,deps:te.join(", ")}),Y.allErrors?F.if(ee,()=>{for(const q of te)(0,O.checkReportMissingProp)(N,q)}):(F.if(g._`${ee} && (${(0,O.checkMissingProp)(N,te,j)})`),(0,O.reportMissingProp)(N,j),F.else())}}function A(N,L=N.schema){const{gen:F,data:C,keyword:Y,it:j}=N,G=F.name("valid");for(const te in L)(0,w.alwaysValidSchema)(j,L[te])||(F.if((0,O.propertyInData)(F,C,te,j.opts.ownProperties),()=>{const ee=N.subschema({keyword:Y,schemaProp:te},G);N.mergeValidEvaluated(ee,G)},()=>F.var(G,!0)),N.ok(G))}V.validatePropertyDeps=R,V.validateSchemaDeps=A,V.default=X},85164:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(68032);V.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:O=>(0,g.validateSchemaDeps)(O)}},45226:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006);function _(R,A){const N=R.schema[A];return void 0!==N&&!(0,w.alwaysValidSchema)(R,N)}V.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:R})=>g.str`must match "${R.ifClause}" schema`,params:({params:R})=>g._`{failingKeyword: ${R.ifClause}}`},code(R){const{gen:A,parentSchema:N,it:L}=R;void 0===N.then&&void 0===N.else&&(0,w.checkStrictMode)(L,'"if" without "then" and "else" is ignored');const F=_(L,"then"),C=_(L,"else");if(!F&&!C)return;const Y=A.let("valid",!0),j=A.name("_valid");if(function G(){const ee=R.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},j);R.mergeEvaluated(ee)}(),R.reset(),F&&C){const ee=A.let("ifClause");R.setParams({ifClause:ee}),A.if(j,te("then",ee),te("else",ee))}else F?A.if(j,te("then")):A.if((0,g.not)(j),te("else"));function te(ee,q){return()=>{const J=R.subschema({keyword:ee},j);A.assign(Y,j),R.mergeValidEvaluated(J,Y),q?A.assign(q,g._`${ee}`):R.setParams({ifClause:ee})}}R.pass(Y,()=>R.error(!0))}}},68261:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(46934),w=E(96537),O=E(2941),X=E(5261),_=E(57568),R=E(68032),A=E(36474),N=E(18445),L=E(34032),F=E(17330),C=E(3408),Y=E(60922),j=E(88388),G=E(77783),te=E(45226),ee=E(98779);V.default=function q(J=!1){const ne=[C.default,Y.default,j.default,G.default,te.default,ee.default,A.default,N.default,R.default,L.default,F.default];return J?ne.push(w.default,X.default):ne.push(g.default,O.default),ne.push(_.default),ne}},2941:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateTuple=void 0;const g=E(1038),w=E(27006),O=E(42406),X={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(R){const{schema:A,it:N}=R;if(Array.isArray(A))return _(R,"additionalItems",A);N.items=!0,!(0,w.alwaysValidSchema)(N,A)&&R.ok((0,O.validateArray)(R))}};function _(R,A,N=R.schema){const{gen:L,parentSchema:F,data:C,keyword:Y,it:j}=R;(function ee(q){const{opts:J,errSchemaPath:ne}=j,ie=N.length;J.strictTuples&&!(ie===q.minItems&&(ie===q.maxItems||!1===q[A]))&&(0,w.checkStrictMode)(j,`"${Y}" is ${ie}-tuple, but minItems or maxItems/${A} are not specified or different at path "${ne}"`,J.strictTuples)})(F),j.opts.unevaluated&&N.length&&!0!==j.items&&(j.items=w.mergeEvaluated.items(L,N.length,j.items));const G=L.name("valid"),te=L.const("len",g._`${C}.length`);N.forEach((q,J)=>{(0,w.alwaysValidSchema)(j,q)||(L.if(g._`${te} > ${J}`,()=>R.subschema({keyword:Y,schemaProp:J,dataProp:J},G)),R.ok(G))})}V.validateTuple=_,V.default=X},5261:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006),O=E(42406),X=E(46934);V.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:A}})=>g.str`must NOT have more than ${A} items`,params:({params:{len:A}})=>g._`{limit: ${A}}`},code(A){const{schema:N,parentSchema:L,it:F}=A,{prefixItems:C}=L;F.items=!0,!(0,w.alwaysValidSchema)(F,N)&&(C?(0,X.validateAdditionalItems)(A,C):A.ok((0,O.validateArray)(A)))}}},3408:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(27006);V.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(O){const{gen:X,schema:_,it:R}=O;if((0,g.alwaysValidSchema)(R,_))return void O.fail();const A=X.name("valid");O.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},A),O.failResult(A,()=>O.reset(),()=>O.error())},error:{message:"must NOT be valid"}}},88388:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006);V.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:_})=>g._`{passingSchemas: ${_.passing}}`},code(_){const{gen:R,schema:A,parentSchema:N,it:L}=_;if(!Array.isArray(A))throw new Error("ajv implementation error");if(L.opts.discriminator&&N.discriminator)return;const F=A,C=R.let("valid",!1),Y=R.let("passing",null),j=R.name("_valid");_.setParams({passing:Y}),R.block(function G(){F.forEach((te,ee)=>{let q;(0,w.alwaysValidSchema)(L,te)?R.var(j,!0):q=_.subschema({keyword:"oneOf",schemaProp:ee,compositeRule:!0},j),ee>0&&R.if(g._`${j} && ${C}`).assign(C,!1).assign(Y,g._`[${Y}, ${ee}]`).else(),R.if(j,()=>{R.assign(C,!0),R.assign(Y,ee),q&&_.mergeEvaluated(q,g.Name)})})}),_.result(C,()=>_.reset(),()=>_.error(!0))}}},17330:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(42406),w=E(1038),O=E(27006),X=E(27006);V.default={keyword:"patternProperties",type:"object",schemaType:"object",code(R){const{gen:A,schema:N,data:L,parentSchema:F,it:C}=R,{opts:Y}=C,j=(0,g.allSchemaProperties)(N),G=j.filter(re=>(0,O.alwaysValidSchema)(C,N[re]));if(0===j.length||G.length===j.length&&(!C.opts.unevaluated||!0===C.props))return;const te=Y.strictSchema&&!Y.allowMatchingProperties&&F.properties,ee=A.name("valid");!0!==C.props&&!(C.props instanceof w.Name)&&(C.props=(0,X.evaluatedPropsToName)(A,C.props));const{props:q}=C;function ne(re){for(const ce in te)new RegExp(re).test(ce)&&(0,O.checkStrictMode)(C,`property ${ce} matches pattern ${re} (use allowMatchingProperties)`)}function ie(re){A.forIn("key",L,ce=>{A.if(w._`${(0,g.usePattern)(R,re)}.test(${ce})`,()=>{const se=G.includes(re);se||R.subschema({keyword:"patternProperties",schemaProp:re,dataProp:ce,dataPropType:X.Type.Str},ee),C.opts.unevaluated&&!0!==q?A.assign(w._`${q}[${ce}]`,!0):!se&&!C.allErrors&&A.if((0,w.not)(ee),()=>A.break())})})}!function J(){for(const re of j)te&&ne(re),C.allErrors?ie(re):(A.var(ee,!0),ie(re),A.if(ee))}()}}},96537:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(2941);V.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:O=>(0,g.validateTuple)(O,"items")}},34032:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(40339),w=E(42406),O=E(27006),X=E(18445);V.default={keyword:"properties",type:"object",schemaType:"object",code(R){const{gen:A,schema:N,parentSchema:L,data:F,it:C}=R;"all"===C.opts.removeAdditional&&void 0===L.additionalProperties&&X.default.code(new g.KeywordCxt(C,X.default,"additionalProperties"));const Y=(0,w.allSchemaProperties)(N);for(const q of Y)C.definedProperties.add(q);C.opts.unevaluated&&Y.length&&!0!==C.props&&(C.props=O.mergeEvaluated.props(A,(0,O.toHash)(Y),C.props));const j=Y.filter(q=>!(0,O.alwaysValidSchema)(C,N[q]));if(0===j.length)return;const G=A.name("valid");for(const q of j)te(q)?ee(q):(A.if((0,w.propertyInData)(A,F,q,C.opts.ownProperties)),ee(q),C.allErrors||A.else().var(G,!0),A.endIf()),R.it.definedProperties.add(q),R.ok(G);function te(q){return C.opts.useDefaults&&!C.compositeRule&&void 0!==N[q].default}function ee(q){R.subschema({keyword:"properties",schemaProp:q,dataProp:q},G)}}}},36474:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006);V.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:_})=>g._`{propertyName: ${_.propertyName}}`},code(_){const{gen:R,schema:A,data:N,it:L}=_;if((0,w.alwaysValidSchema)(L,A))return;const F=R.name("valid");R.forIn("key",N,C=>{_.setParams({propertyName:C}),_.subschema({keyword:"propertyNames",data:C,dataTypes:["string"],propertyName:C,compositeRule:!0},F),R.if((0,g.not)(F),()=>{_.error(!0),L.allErrors||R.break()})}),_.ok(F)}}},98779:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(27006);V.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:O,parentSchema:X,it:_}){void 0===X.if&&(0,g.checkStrictMode)(_,`"${O}" without "if" is ignored`)}}},42406:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.validateUnion=V.validateArray=V.usePattern=V.callValidateCode=V.schemaProperties=V.allSchemaProperties=V.noPropertyInData=V.propertyInData=V.isOwnProperty=V.hasPropFunc=V.reportMissingProp=V.checkMissingProp=V.checkReportMissingProp=void 0;const g=E(1038),w=E(27006),O=E(23432),X=E(27006);function N(ne){return ne.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:g._`Object.prototype.hasOwnProperty`})}function L(ne,ie,re){return g._`${N(ne)}.call(${ie}, ${re})`}function C(ne,ie,re,ce){const se=g._`${ie}${(0,g.getProperty)(re)} === undefined`;return ce?(0,g.or)(se,(0,g.not)(L(ne,ie,re))):se}function Y(ne){return ne?Object.keys(ne).filter(ie=>"__proto__"!==ie):[]}V.checkReportMissingProp=function _(ne,ie){const{gen:re,data:ce,it:se}=ne;re.if(C(re,ce,ie,se.opts.ownProperties),()=>{ne.setParams({missingProperty:g._`${ie}`},!0),ne.error()})},V.checkMissingProp=function R({gen:ne,data:ie,it:{opts:re}},ce,se){return(0,g.or)(...ce.map(pe=>(0,g.and)(C(ne,ie,pe,re.ownProperties),g._`${se} = ${pe}`)))},V.reportMissingProp=function A(ne,ie){ne.setParams({missingProperty:ie},!0),ne.error()},V.hasPropFunc=N,V.isOwnProperty=L,V.propertyInData=function F(ne,ie,re,ce){const se=g._`${ie}${(0,g.getProperty)(re)} !== undefined`;return ce?g._`${se} && ${L(ne,ie,re)}`:se},V.noPropertyInData=C,V.allSchemaProperties=Y,V.schemaProperties=function j(ne,ie){return Y(ie).filter(re=>!(0,w.alwaysValidSchema)(ne,ie[re]))},V.callValidateCode=function G({schemaCode:ne,data:ie,it:{gen:re,topSchemaRef:ce,schemaPath:se,errorPath:pe},it:we},Me,k,l){const h=l?g._`${ne}, ${ie}, ${ce}${se}`:ie,m=[[O.default.instancePath,(0,g.strConcat)(O.default.instancePath,pe)],[O.default.parentData,we.parentData],[O.default.parentDataProperty,we.parentDataProperty],[O.default.rootData,O.default.rootData]];we.opts.dynamicRef&&m.push([O.default.dynamicAnchors,O.default.dynamicAnchors]);const p=g._`${h}, ${re.object(...m)}`;return k!==g.nil?g._`${Me}.call(${k}, ${p})`:g._`${Me}(${p})`};const te=g._`new RegExp`;V.usePattern=function ee({gen:ne,it:{opts:ie}},re){const ce=ie.unicodeRegExp?"u":"",{regExp:se}=ie.code,pe=se(re,ce);return ne.scopeValue("pattern",{key:pe.toString(),ref:pe,code:g._`${"new RegExp"===se.code?te:(0,X.useFunc)(ne,se)}(${re}, ${ce})`})},V.validateArray=function q(ne){const{gen:ie,data:re,keyword:ce,it:se}=ne,pe=ie.name("valid");if(se.allErrors){const Me=ie.let("valid",!0);return we(()=>ie.assign(Me,!1)),Me}return ie.var(pe,!0),we(()=>ie.break()),pe;function we(Me){const k=ie.const("len",g._`${re}.length`);ie.forRange("i",0,k,l=>{ne.subschema({keyword:ce,dataProp:l,dataPropType:w.Type.Num},pe),ie.if((0,g.not)(pe),Me)})}},V.validateUnion=function J(ne){const{gen:ie,schema:re,keyword:ce,it:se}=ne;if(!Array.isArray(re))throw new Error("ajv implementation error");if(re.some(k=>(0,w.alwaysValidSchema)(se,k))&&!se.opts.unevaluated)return;const we=ie.let("valid",!1),Me=ie.name("_valid");ie.block(()=>re.forEach((k,l)=>{const h=ne.subschema({keyword:ce,schemaProp:l,compositeRule:!0},Me);ie.assign(we,g._`${we} || ${Me}`),ne.mergeValidEvaluated(h,Me)||ie.if((0,g.not)(we))})),ne.result(we,()=>ne.reset(),()=>ne.error(!0))}},36846:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(36846),w=E(84862);V.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",g.default,w.default]},84862:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.callRef=V.getValidate=void 0;const g=E(26288),w=E(42406),O=E(1038),X=E(23432),_=E(97692),R=E(27006),A={keyword:"$ref",schemaType:"string",code(F){const{gen:C,schema:Y,it:j}=F,{baseId:G,schemaEnv:te,validateName:ee,opts:q,self:J}=j,{root:ne}=te;if(("#"===Y||"#/"===Y)&&G===ne.baseId)return function re(){if(te===ne)return L(F,ee,te,te.$async);const pe=C.scopeValue("root",{ref:ne});return L(F,O._`${pe}.validate`,ne,ne.$async)}();const ie=_.resolveRef.call(J,ne,G,Y);if(void 0===ie)throw new g.default(j.opts.uriResolver,G,Y);return ie instanceof _.SchemaEnv?function ce(pe){const we=N(F,pe);L(F,we,pe,pe.$async)}(ie):function se(pe){const we=C.scopeValue("schema",!0===q.code.source?{ref:pe,code:(0,O.stringify)(pe)}:{ref:pe}),Me=C.name("valid"),k=F.subschema({schema:pe,dataTypes:[],schemaPath:O.nil,topSchemaRef:we,errSchemaPath:Y},Me);F.mergeEvaluated(k),F.ok(Me)}(ie)}};function N(F,C){const{gen:Y}=F;return C.validate?Y.scopeValue("validate",{ref:C.validate}):O._`${Y.scopeValue("wrapper",{ref:C})}.validate`}function L(F,C,Y,j){const{gen:G,it:te}=F,{allErrors:ee,schemaEnv:q,opts:J}=te,ne=J.passContext?X.default.this:O.nil;function ce(pe){const we=O._`${pe}.errors`;G.assign(X.default.vErrors,O._`${X.default.vErrors} === null ? ${we} : ${X.default.vErrors}.concat(${we})`),G.assign(X.default.errors,O._`${X.default.vErrors}.length`)}function se(pe){var we;if(!te.opts.unevaluated)return;const Me=null===(we=Y?.validate)||void 0===we?void 0:we.evaluated;if(!0!==te.props)if(Me&&!Me.dynamicProps)void 0!==Me.props&&(te.props=R.mergeEvaluated.props(G,Me.props,te.props));else{const k=G.var("props",O._`${pe}.evaluated.props`);te.props=R.mergeEvaluated.props(G,k,te.props,O.Name)}if(!0!==te.items)if(Me&&!Me.dynamicItems)void 0!==Me.items&&(te.items=R.mergeEvaluated.items(G,Me.items,te.items));else{const k=G.var("items",O._`${pe}.evaluated.items`);te.items=R.mergeEvaluated.items(G,k,te.items,O.Name)}}j?function ie(){if(!q.$async)throw new Error("async schema referenced by sync schema");const pe=G.let("valid");G.try(()=>{G.code(O._`await ${(0,w.callValidateCode)(F,C,ne)}`),se(C),ee||G.assign(pe,!0)},we=>{G.if(O._`!(${we} instanceof ${te.ValidationError})`,()=>G.throw(we)),ce(we),ee||G.assign(pe,!1)}),F.ok(pe)}():function re(){F.result((0,w.callValidateCode)(F,C,ne),()=>se(C),()=>ce(C))}()}V.getValidate=N,V.callRef=L,V.default=A},86980:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(22145),O=E(97692),X=E(27006);V.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:A,tagName:N}})=>A===w.DiscrError.Tag?`tag "${N}" must be string`:`value of tag "${N}" must be in oneOf`,params:({params:{discrError:A,tag:N,tagName:L}})=>g._`{error: ${A}, tag: ${L}, tagValue: ${N}}`},code(A){const{gen:N,data:L,schema:F,parentSchema:C,it:Y}=A,{oneOf:j}=C;if(!Y.opts.discriminator)throw new Error("discriminator: requires discriminator option");const G=F.propertyName;if("string"!=typeof G)throw new Error("discriminator: requires propertyName");if(F.mapping)throw new Error("discriminator: mapping is not supported");if(!j)throw new Error("discriminator: requires oneOf keyword");const te=N.let("valid",!1),ee=N.const("tag",g._`${L}${(0,g.getProperty)(G)}`);function J(ie){const re=N.name("valid"),ce=A.subschema({keyword:"oneOf",schemaProp:ie},re);return A.mergeEvaluated(ce,g.Name),re}N.if(g._`typeof ${ee} == "string"`,()=>function q(){const ie=function ne(){var ie;const re={},ce=pe(C);let se=!0;for(let k=0;k<j.length;k++){let l=j[k];l?.$ref&&!(0,X.schemaHasRulesButRef)(l,Y.self.RULES)&&(l=O.resolveRef.call(Y.self,Y.schemaEnv.root,Y.baseId,l?.$ref),l instanceof O.SchemaEnv&&(l=l.schema));const h=null===(ie=l?.properties)||void 0===ie?void 0:ie[G];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${G}"`);se=se&&(ce||pe(l)),we(h,k)}if(!se)throw new Error(`discriminator: "${G}" must be required`);return re;function pe({required:k}){return Array.isArray(k)&&k.includes(G)}function we(k,l){if(k.const)Me(k.const,l);else{if(!k.enum)throw new Error(`discriminator: "properties/${G}" must have "const" or "enum"`);for(const h of k.enum)Me(h,l)}}function Me(k,l){if("string"!=typeof k||k in re)throw new Error(`discriminator: "${G}" values must be unique strings`);re[k]=l}}();N.if(!1);for(const re in ie)N.elseIf(g._`${ee} === ${re}`),N.assign(te,J(ie[re]));N.else(),A.error(!1,{discrError:w.DiscrError.Mapping,tag:ee,tagName:G}),N.endIf()}(),()=>A.error(!1,{discrError:w.DiscrError.Tag,tag:ee,tagName:G})),A.ok(te)}}},22145:(Ne,V)=>{"use strict";var g;Object.defineProperty(V,"__esModule",{value:!0}),V.DiscrError=void 0,(g=V.DiscrError||(V.DiscrError={})).Tag="tag",g.Mapping="mapping"},98496:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(11867),w=E(64023),O=E(68261),X=E(79745),_=E(54458),R=E(77616),A=E(23463),N=E(3462),L=[X.default,g.default,w.default,(0,O.default)(!0),A.default,N.metadataVocabulary,N.contentVocabulary,_.default,R.default];V.default=L},61281:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.dynamicAnchor=void 0;const g=E(1038),w=E(23432),O=E(97692),X=E(84862),_={keyword:"$dynamicAnchor",schemaType:"string",code:N=>R(N,N.schema)};function R(N,L){const{gen:F,it:C}=N;C.schemaEnv.root.dynamicAnchors[L]=!0;const Y=g._`${w.default.dynamicAnchors}${(0,g.getProperty)(L)}`,j="#"===C.errSchemaPath?C.validateName:function A(N){const{schemaEnv:L,schema:F,self:C}=N.it,{root:Y,baseId:j,localRefs:G,meta:te}=L.root,{schemaId:ee}=C.opts,q=new O.SchemaEnv({schema:F,schemaId:ee,root:Y,baseId:j,localRefs:G,meta:te});return O.compileSchema.call(C,q),(0,X.getValidate)(N,q)}(N);F.if(g._`!${Y}`,()=>F.assign(Y,j))}V.dynamicAnchor=R,V.default=_},35207:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.dynamicRef=void 0;const g=E(1038),w=E(23432),O=E(84862),X={keyword:"$dynamicRef",schemaType:"string",code:R=>_(R,R.schema)};function _(R,A){const{gen:N,keyword:L,it:F}=R;if("#"!==A[0])throw new Error(`"${L}" only supports hash fragment reference`);const C=A.slice(1);if(F.allErrors)Y();else{const G=N.let("valid",!1);Y(G),R.ok(G)}function Y(G){if(F.schemaEnv.root.dynamicAnchors[C]){const te=N.let("_v",g._`${w.default.dynamicAnchors}${(0,g.getProperty)(C)}`);N.if(te,j(te,G),j(F.validateName,G))}else j(F.validateName,G)()}function j(G,te){return te?()=>N.block(()=>{(0,O.callRef)(R,G),N.let(te,!0)}):()=>(0,O.callRef)(R,G)}}V.dynamicRef=_,V.default=X},79745:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(61281),w=E(35207),O=E(34028),X=E(65684);V.default=[g.default,w.default,O.default,X.default]},34028:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(61281),w=E(27006);V.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(X){X.schema?(0,g.dynamicAnchor)(X,""):(0,w.checkStrictMode)(X.it,"$recursiveAnchor: false is ignored")}}},65684:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(35207);V.default={keyword:"$recursiveRef",schemaType:"string",code:O=>(0,g.dynamicRef)(O,O.schema)}},98140:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038);V.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:X})=>g.str`must match format "${X}"`,params:({schemaCode:X})=>g._`{format: ${X}}`},code(X,_){const{gen:R,data:A,$data:N,schema:L,schemaCode:F,it:C}=X,{opts:Y,errSchemaPath:j,schemaEnv:G,self:te}=C;Y.validateFormats&&(N?function ee(){const J=R.scopeValue("formats",{ref:te.formats,code:Y.code.formats}),ne=R.const("fDef",g._`${J}[${F}]`),ie=R.let("fType"),re=R.let("format");R.if(g._`typeof ${ne} == "object" && !(${ne} instanceof RegExp)`,()=>R.assign(ie,g._`${ne}.type || "string"`).assign(re,g._`${ne}.validate`),()=>R.assign(ie,g._`"string"`).assign(re,ne)),X.fail$data((0,g.or)(function ce(){return!1===Y.strictSchema?g.nil:g._`${F} && !${re}`}(),function se(){const pe=G.$async?g._`(${ne}.async ? await ${re}(${A}) : ${re}(${A}))`:g._`${re}(${A})`,we=g._`(typeof ${re} == "function" ? ${pe} : ${re}.test(${A}))`;return g._`${re} && ${re} !== true && ${ie} === ${_} && !${we}`}()))}():function q(){const J=te.formats[L];if(!J)return void function ce(){if(!1!==Y.strictSchema)throw new Error(we());function we(){return`unknown format "${L}" ignored in schema at path "${j}"`}te.logger.warn(we())}();if(!0===J)return;const[ne,ie,re]=function se(we){const Me=we instanceof RegExp?(0,g.regexpCode)(we):Y.code.formats?g._`${Y.code.formats}${(0,g.getProperty)(L)}`:void 0,k=R.scopeValue("formats",{key:L,ref:we,code:Me});return"object"!=typeof we||we instanceof RegExp?["string",we,k]:[we.type||"string",we.validate,g._`${k}.validate`]}(J);ne===_&&X.pass(function pe(){if("object"==typeof J&&!(J instanceof RegExp)&&J.async){if(!G.$async)throw new Error("async format in sync schema");return g._`await ${re}(${A})`}return"function"==typeof ie?g._`${re}(${A})`:g._`${re}.test(${A})`}())}())}}},23463:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const w=[E(98140).default];V.default=w},3462:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.contentVocabulary=V.metadataVocabulary=void 0,V.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],V.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(53037),w=E(85164),O=E(22705);V.default=[g.default,w.default,O.default]},77616:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(40425),w=E(89826);V.default=[g.default,w.default]},89826:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006);V.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:_}})=>g.str`must NOT have more than ${_} items`,params:({params:{len:_}})=>g._`{limit: ${_}}`},code(_){const{gen:R,schema:A,data:N,it:L}=_,F=L.items||0;if(!0===F)return;const C=R.const("len",g._`${N}.length`);if(!1===A)_.setParams({len:F}),_.fail(g._`${C} > ${F}`);else if("object"==typeof A&&!(0,w.alwaysValidSchema)(L,A)){const j=R.var("valid",g._`${C} <= ${F}`);R.if((0,g.not)(j),()=>function Y(j,G){R.forRange("i",G,C,te=>{_.subschema({keyword:"unevaluatedItems",dataProp:te,dataPropType:w.Type.Num},j),L.allErrors||R.if((0,g.not)(j),()=>R.break())})}(j,F)),_.ok(j)}L.items=!0}}},40425:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006),O=E(23432);V.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:R})=>g._`{unevaluatedProperty: ${R.unevaluatedProperty}}`},code(R){const{gen:A,schema:N,data:L,errsCount:F,it:C}=R;if(!F)throw new Error("ajv implementation error");const{allErrors:Y,props:j}=C;function G(q){if(!1===N)return R.setParams({unevaluatedProperty:q}),R.error(),void(Y||A.break());if(!(0,w.alwaysValidSchema)(C,N)){const J=A.name("valid");R.subschema({keyword:"unevaluatedProperties",dataProp:q,dataPropType:w.Type.Str},J),Y||A.if((0,g.not)(J),()=>A.break())}}j instanceof g.Name?A.if(g._`${j} !== true`,()=>A.forIn("key",L,q=>A.if(function te(q,J){return g._`!${q} || !${q}[${J}]`}(j,q),()=>G(q)))):!0!==j&&A.forIn("key",L,q=>void 0===j?G(q):A.if(function ee(q,J){const ne=[];for(const ie in q)!0===q[ie]&&ne.push(g._`${J} !== ${ie}`);return(0,g.and)(...ne)}(j,q),()=>G(q))),C.props=!0,R.ok(g._`${F} === ${O.default.errors}`)}}},90796:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006),O=E(92281);V.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:R})=>g._`{allowedValue: ${R}}`},code(R){const{gen:A,data:N,$data:L,schemaCode:F,schema:C}=R;L||C&&"object"==typeof C?R.fail$data(g._`!${(0,w.useFunc)(A,O.default)}(${N}, ${F})`):R.fail(g._`${C} !== ${N}`)}}},53037:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(68032);V.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:g.error,code:O=>(0,g.validatePropertyDeps)(O)}},65266:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006),O=E(92281);V.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:R})=>g._`{allowedValues: ${R}}`},code(R){const{gen:A,data:N,$data:L,schema:F,schemaCode:C,it:Y}=R;if(!L&&0===F.length)throw new Error("enum must have non-empty array");let G;const te=()=>G??(G=(0,w.useFunc)(A,O.default));let ee;if(F.length>=Y.opts.loopEnum||L)ee=A.let("valid"),R.block$data(ee,function q(){A.assign(ee,!1),A.forOf("v",C,ne=>A.if(g._`${te()}(${N}, ${ne})`,()=>A.assign(ee,!0).break()))});else{if(!Array.isArray(F))throw new Error("ajv implementation error");const ne=A.const("vSchema",C);ee=(0,g.or)(...F.map((ie,re)=>function J(ne,ie){const re=F[ie];return"object"==typeof re&&null!==re?g._`${te()}(${N}, ${ne}[${ie}])`:g._`${N} === ${re}`}(ne,re)))}R.pass(ee)}}},64023:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(78665),w=E(30554),O=E(13972),X=E(68753),_=E(99169),R=E(56454),A=E(85962),N=E(16598),L=E(90796),F=E(65266);V.default=[g.default,w.default,O.default,X.default,_.default,R.default,A.default,N.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},L.default,F.default]},22705:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(27006);V.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:O,parentSchema:X,it:_}){void 0===X.contains&&(0,g.checkStrictMode)(_,`"${O}" without "contains" is ignored`)}}},85962:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038);V.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:X,schemaCode:_})=>g.str`must NOT have ${"maxItems"===X?"more":"fewer"} than ${_} items`,params:({schemaCode:X})=>g._`{limit: ${X}}`},code(X){const{keyword:_,data:R,schemaCode:A}=X;X.fail$data(g._`${R}.length ${"maxItems"===_?g.operators.GT:g.operators.LT} ${A}`)}}},13972:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=E(27006),O=E(26488);V.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:R,schemaCode:A})=>g.str`must NOT have ${"maxLength"===R?"more":"fewer"} than ${A} characters`,params:({schemaCode:R})=>g._`{limit: ${R}}`},code(R){const{keyword:A,data:N,schemaCode:L,it:F}=R,C="maxLength"===A?g.operators.GT:g.operators.LT,Y=!1===F.opts.unicode?g._`${N}.length`:g._`${(0,w.useFunc)(R.gen,O.default)}(${N})`;R.fail$data(g._`${Y} ${C} ${L}`)}}},78665:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038),w=g.operators,O={maximum:{okStr:"<=",ok:w.LTE,fail:w.GT},minimum:{okStr:">=",ok:w.GTE,fail:w.LT},exclusiveMaximum:{okStr:"<",ok:w.LT,fail:w.GTE},exclusiveMinimum:{okStr:">",ok:w.GT,fail:w.LTE}},X={message:({keyword:R,schemaCode:A})=>g.str`must be ${O[R].okStr} ${A}`,params:({keyword:R,schemaCode:A})=>g._`{comparison: ${O[R].okStr}, limit: ${A}}`},_={keyword:Object.keys(O),type:"number",schemaType:"number",$data:!0,error:X,code(R){const{keyword:A,data:N,schemaCode:L}=R;R.fail$data(g._`${N} ${O[A].fail} ${L} || isNaN(${N})`)}};V.default=_},99169:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038);V.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:X,schemaCode:_})=>g.str`must NOT have ${"maxProperties"===X?"more":"fewer"} than ${_} properties`,params:({schemaCode:X})=>g._`{limit: ${X}}`},code(X){const{keyword:_,data:R,schemaCode:A}=X;X.fail$data(g._`Object.keys(${R}).length ${"maxProperties"===_?g.operators.GT:g.operators.LT} ${A}`)}}},30554:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(1038);V.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:X})=>g.str`must be multiple of ${X}`,params:({schemaCode:X})=>g._`{multipleOf: ${X}}`},code(X){const{gen:_,data:R,schemaCode:A,it:N}=X,L=N.opts.multipleOfPrecision,F=_.let("res"),C=L?g._`Math.abs(Math.round(${F}) - ${F}) > 1e-${L}`:g._`${F} !== parseInt(${F})`;X.fail$data(g._`(${A} === 0 || (${F} = ${R}/${A}, ${C}))`)}}},68753:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(42406),w=E(1038);V.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:_})=>w.str`must match pattern "${_}"`,params:({schemaCode:_})=>w._`{pattern: ${_}}`},code(_){const{data:R,$data:A,schema:N,schemaCode:L,it:F}=_,Y=A?w._`(new RegExp(${L}, ${F.opts.unicodeRegExp?"u":""}))`:(0,g.usePattern)(_,N);_.fail$data(w._`!${Y}.test(${R})`)}}},56454:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(42406),w=E(1038),O=E(27006);V.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:R}})=>w.str`must have required property '${R}'`,params:({params:{missingProperty:R}})=>w._`{missingProperty: ${R}}`},code(R){const{gen:A,schema:N,schemaCode:L,data:F,$data:C,it:Y}=R,{opts:j}=Y;if(!C&&0===N.length)return;const G=N.length>=j.loopRequired;if(Y.allErrors?function te(){if(G||C)R.block$data(w.nil,q);else for(const ne of N)(0,g.checkReportMissingProp)(R,ne)}():function ee(){const ne=A.let("missing");if(G||C){const ie=A.let("valid",!0);R.block$data(ie,()=>function J(ne,ie){R.setParams({missingProperty:ne}),A.forOf(ne,L,()=>{A.assign(ie,(0,g.propertyInData)(A,F,ne,j.ownProperties)),A.if((0,w.not)(ie),()=>{R.error(),A.break()})},w.nil)}(ne,ie)),R.ok(ie)}else A.if((0,g.checkMissingProp)(R,N,ne)),(0,g.reportMissingProp)(R,ne),A.else()}(),j.strictRequired){const ne=R.parentSchema.properties,{definedProperties:ie}=R.it;for(const re of N)void 0!==ne?.[re]||ie.has(re)||(0,O.checkStrictMode)(Y,`required property "${re}" is not defined at "${Y.schemaEnv.baseId+Y.errSchemaPath}" (strictRequired)`,Y.opts.strictRequired)}function q(){A.forOf("prop",L,ne=>{R.setParams({missingProperty:ne}),A.if((0,g.noPropertyInData)(A,F,ne,j.ownProperties),()=>R.error())})}}}},16598:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});const g=E(55999),w=E(1038),O=E(27006),X=E(92281);V.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:A,j:N}})=>w.str`must NOT have duplicate items (items ## ${N} and ${A} are identical)`,params:({params:{i:A,j:N}})=>w._`{i: ${A}, j: ${N}}`},code(A){const{gen:N,data:L,$data:F,schema:C,parentSchema:Y,schemaCode:j,it:G}=A;if(!F&&!C)return;const te=N.let("valid"),ee=Y.items?(0,g.getSchemaTypes)(Y.items):[];function ne(re,ce){const se=N.name("item"),pe=(0,g.checkDataTypes)(ee,se,G.opts.strictNumbers,g.DataType.Wrong),we=N.const("indices",w._`{}`);N.for(w._`;${re}--;`,()=>{N.let(se,w._`${L}[${re}]`),N.if(pe,w._`continue`),ee.length>1&&N.if(w._`typeof ${se} == "string"`,w._`${se} += "_"`),N.if(w._`typeof ${we}[${se}] == "number"`,()=>{N.assign(ce,w._`${we}[${se}]`),A.error(),N.assign(te,!1).break()}).code(w._`${we}[${se}] = ${re}`)})}function ie(re,ce){const se=(0,O.useFunc)(N,X.default),pe=N.name("outer");N.label(pe).for(w._`;${re}--;`,()=>N.for(w._`${ce} = ${re}; ${ce}--;`,()=>N.if(w._`${se}(${L}[${re}], ${L}[${ce}])`,()=>{A.error(),N.assign(te,!1).break(pe)})))}A.block$data(te,function q(){const re=N.let("i",w._`${L}.length`),ce=N.let("j");A.setParams({i:re,j:ce}),N.assign(te,!0),N.if(w._`${re} > 1`,()=>(function J(){return ee.length>0&&!ee.some(re=>"object"===re||"array"===re)}()?ne:ie)(re,ce))},w._`${j} === false`),A.ok(te)}}},68316:(Ne,V,E)=>{"use strict";const g=E(13981),w=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=A,V.SlowBuffer=function J($){return+$!=$&&($=0),A.alloc(+$)},V.INSPECT_MAX_BYTES=50;const X=2147483647;function R($){if($>X)throw new RangeError('The value "'+$+'" is invalid for option "size"');const T=new Uint8Array($);return Object.setPrototypeOf(T,A.prototype),T}function A($,T,S){if("number"==typeof $){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return C($)}return N($,T,S)}function N($,T,S){if("string"==typeof $)return function Y($,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!A.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const S=0|ne($,T);let Z=R(S);const le=Z.write($,T);return le!==S&&(Z=Z.slice(0,le)),Z}($,T);if(ArrayBuffer.isView($))return function G($){if(ze($,Uint8Array)){const T=new Uint8Array($);return te(T.buffer,T.byteOffset,T.byteLength)}return j($)}($);if(null==$)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(ze($,ArrayBuffer)||$&&ze($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze($,SharedArrayBuffer)||$&&ze($.buffer,SharedArrayBuffer)))return te($,T,S);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=$.valueOf&&$.valueOf();if(null!=Z&&Z!==$)return A.from(Z,T,S);const le=function ee($){if(A.isBuffer($)){const T=0|q($.length),S=R(T);return 0===S.length||$.copy(S,0,0,T),S}return void 0!==$.length?"number"!=typeof $.length||It($.length)?R(0):j($):"Buffer"===$.type&&Array.isArray($.data)?j($.data):void 0}($);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return A.from($[Symbol.toPrimitive]("string"),T,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function L($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function C($){return L($),R($<0?0:0|q($))}function j($){const T=$.length<0?0:0|q($.length),S=R(T);for(let Z=0;Z<T;Z+=1)S[Z]=255&$[Z];return S}function te($,T,S){if(T<0||$.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<T+(S||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return Z=void 0===T&&void 0===S?new Uint8Array($):void 0===S?new Uint8Array($,T):new Uint8Array($,T,S),Object.setPrototypeOf(Z,A.prototype),Z}function q($){if($>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|$}function ne($,T){if(A.isBuffer($))return $.length;if(ArrayBuffer.isView($)||ze($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const S=$.length,Z=arguments.length>2&&!0===arguments[2];if(!Z&&0===S)return 0;let le=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return ue($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return Ue($).length;default:if(le)return Z?-1:ue($).length;T=(""+T).toLowerCase(),le=!0}}function ie($,T,S){let Z=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(T>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return M(this,T,S);case"utf8":case"utf-8":return m(this,T,S);case"ascii":return D(this,T,S);case"latin1":case"binary":return B(this,T,S);case"base64":return h(this,T,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,T,S);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}function re($,T,S){const Z=$[T];$[T]=$[S],$[S]=Z}function ce($,T,S,Z,le){if(0===$.length)return-1;if("string"==typeof S?(Z=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),It(S=+S)&&(S=le?0:$.length-1),S<0&&(S=$.length+S),S>=$.length){if(le)return-1;S=$.length-1}else if(S<0){if(!le)return-1;S=0}if("string"==typeof T&&(T=A.from(T,Z)),A.isBuffer(T))return 0===T.length?-1:se($,T,S,Z,le);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call($,T,S):Uint8Array.prototype.lastIndexOf.call($,T,S):se($,[T],S,Z,le);throw new TypeError("val must be string, number or Buffer")}function se($,T,S,Z,le){let ft,De=1,Oe=$.length,Qe=T.length;if(void 0!==Z&&("ucs2"===(Z=String(Z).toLowerCase())||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if($.length<2||T.length<2)return-1;De=2,Oe/=2,Qe/=2,S/=2}function Nt(St,Lt){return 1===De?St[Lt]:St.readUInt16BE(Lt*De)}if(le){let St=-1;for(ft=S;ft<Oe;ft++)if(Nt($,ft)===Nt(T,-1===St?0:ft-St)){if(-1===St&&(St=ft),ft-St+1===Qe)return St*De}else-1!==St&&(ft-=ft-St),St=-1}else for(S+Qe>Oe&&(S=Oe-Qe),ft=S;ft>=0;ft--){let St=!0;for(let Lt=0;Lt<Qe;Lt++)if(Nt($,ft+Lt)!==Nt(T,Lt)){St=!1;break}if(St)return ft}return-1}function pe($,T,S,Z){S=Number(S)||0;const le=$.length-S;Z?(Z=Number(Z))>le&&(Z=le):Z=le;const De=T.length;let Oe;for(Z>De/2&&(Z=De/2),Oe=0;Oe<Z;++Oe){const Qe=parseInt(T.substr(2*Oe,2),16);if(It(Qe))return Oe;$[S+Oe]=Qe}return Oe}function we($,T,S,Z){return Ve(ue(T,$.length-S),$,S,Z)}function Me($,T,S,Z){return Ve(function ge($){const T=[];for(let S=0;S<$.length;++S)T.push(255&$.charCodeAt(S));return T}(T),$,S,Z)}function k($,T,S,Z){return Ve(Ue(T),$,S,Z)}function l($,T,S,Z){return Ve(function Ae($,T){let S,Z,le;const De=[];for(let Oe=0;Oe<$.length&&!((T-=2)<0);++Oe)S=$.charCodeAt(Oe),Z=S>>8,le=S%256,De.push(le),De.push(Z);return De}(T,$.length-S),$,S,Z)}function h($,T,S){return g.fromByteArray(0===T&&S===$.length?$:$.slice(T,S))}function m($,T,S){S=Math.min($.length,S);const Z=[];let le=T;for(;le<S;){const De=$[le];let Oe=null,Qe=De>239?4:De>223?3:De>191?2:1;if(le+Qe<=S){let Nt,ft,St,Lt;switch(Qe){case 1:De<128&&(Oe=De);break;case 2:Nt=$[le+1],128==(192&Nt)&&(Lt=(31&De)<<6|63&Nt,Lt>127&&(Oe=Lt));break;case 3:Nt=$[le+1],ft=$[le+2],128==(192&Nt)&&128==(192&ft)&&(Lt=(15&De)<<12|(63&Nt)<<6|63&ft,Lt>2047&&(Lt<55296||Lt>57343)&&(Oe=Lt));break;case 4:Nt=$[le+1],ft=$[le+2],St=$[le+3],128==(192&Nt)&&128==(192&ft)&&128==(192&St)&&(Lt=(15&De)<<18|(63&Nt)<<12|(63&ft)<<6|63&St,Lt>65535&&Lt<1114112&&(Oe=Lt))}}null===Oe?(Oe=65533,Qe=1):Oe>65535&&(Oe-=65536,Z.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),Z.push(Oe),le+=Qe}return function x($){const T=$.length;if(T<=p)return String.fromCharCode.apply(String,$);let S="",Z=0;for(;Z<T;)S+=String.fromCharCode.apply(String,$.slice(Z,Z+=p));return S}(Z)}V.kMaxLength=X,!(A.TYPED_ARRAY_SUPPORT=function _(){try{const $=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf($,T),42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function($,T,S){return N($,T,S)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function($,T,S){return function F($,T,S){return L($),$<=0?R($):void 0!==T?"string"==typeof S?R($).fill(T,S):R($).fill(T):R($)}($,T,S)},A.allocUnsafe=function($){return C($)},A.allocUnsafeSlow=function($){return C($)},A.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==A.prototype},A.compare=function(T,S){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),ze(S,Uint8Array)&&(S=A.from(S,S.offset,S.byteLength)),!A.isBuffer(T)||!A.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===S)return 0;let Z=T.length,le=S.length;for(let De=0,Oe=Math.min(Z,le);De<Oe;++De)if(T[De]!==S[De]){Z=T[De],le=S[De];break}return Z<le?-1:le<Z?1:0},A.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(T,S){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return A.alloc(0);let Z;if(void 0===S)for(S=0,Z=0;Z<T.length;++Z)S+=T[Z].length;const le=A.allocUnsafe(S);let De=0;for(Z=0;Z<T.length;++Z){let Oe=T[Z];if(ze(Oe,Uint8Array))De+Oe.length>le.length?(A.isBuffer(Oe)||(Oe=A.from(Oe)),Oe.copy(le,De)):Uint8Array.prototype.set.call(le,Oe,De);else{if(!A.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(le,De)}De+=Oe.length}return le},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<T;S+=2)re(this,S,S+1);return this},A.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<T;S+=4)re(this,S,S+3),re(this,S+1,S+2);return this},A.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<T;S+=8)re(this,S,S+7),re(this,S+1,S+6),re(this,S+2,S+5),re(this,S+3,S+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ie.apply(this,arguments)},A.prototype.equals=function(T){if(!A.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===A.compare(this,T)},A.prototype.inspect=function(){let T="";const S=V.INSPECT_MAX_BYTES;return T=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(T+=" ... "),"<Buffer "+T+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(T,S,Z,le,De){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),!A.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===S&&(S=0),void 0===Z&&(Z=T?T.length:0),void 0===le&&(le=0),void 0===De&&(De=this.length),S<0||Z>T.length||le<0||De>this.length)throw new RangeError("out of range index");if(le>=De&&S>=Z)return 0;if(le>=De)return-1;if(S>=Z)return 1;if(this===T)return 0;let Oe=(De>>>=0)-(le>>>=0),Qe=(Z>>>=0)-(S>>>=0);const Nt=Math.min(Oe,Qe),ft=this.slice(le,De),St=T.slice(S,Z);for(let Lt=0;Lt<Nt;++Lt)if(ft[Lt]!==St[Lt]){Oe=ft[Lt],Qe=St[Lt];break}return Oe<Qe?-1:Qe<Oe?1:0},A.prototype.includes=function(T,S,Z){return-1!==this.indexOf(T,S,Z)},A.prototype.indexOf=function(T,S,Z){return ce(this,T,S,Z,!0)},A.prototype.lastIndexOf=function(T,S,Z){return ce(this,T,S,Z,!1)},A.prototype.write=function(T,S,Z,le){if(void 0===S)le="utf8",Z=this.length,S=0;else if(void 0===Z&&"string"==typeof S)le=S,Z=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(Z)?(Z>>>=0,void 0===le&&(le="utf8")):(le=Z,Z=void 0)}const De=this.length-S;if((void 0===Z||Z>De)&&(Z=De),T.length>0&&(Z<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Oe=!1;for(;;)switch(le){case"hex":return pe(this,T,S,Z);case"utf8":case"utf-8":return we(this,T,S,Z);case"ascii":case"latin1":case"binary":return Me(this,T,S,Z);case"base64":return k(this,T,S,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,T,S,Z);default:if(Oe)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Oe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode(127&$[le]);return Z}function B($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode($[le]);return Z}function M($,T,S){const Z=$.length;(!T||T<0)&&(T=0),(!S||S<0||S>Z)&&(S=Z);let le="";for(let De=T;De<S;++De)le+=qe[$[De]];return le}function d($,T,S){const Z=$.slice(T,S);let le="";for(let De=0;De<Z.length-1;De+=2)le+=String.fromCharCode(Z[De]+256*Z[De+1]);return le}function v($,T,S){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+T>S)throw new RangeError("Trying to access beyond buffer length")}function W($,T,S,Z,le,De){if(!A.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>le||T<De)throw new RangeError('"value" argument is out of bounds');if(S+Z>$.length)throw new RangeError("Index out of range")}function z($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,S}function Q($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S+7]=De,De>>=8,$[S+6]=De,De>>=8,$[S+5]=De,De>>=8,$[S+4]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S+3]=Oe,Oe>>=8,$[S+2]=Oe,Oe>>=8,$[S+1]=Oe,Oe>>=8,$[S]=Oe,S+8}function de($,T,S,Z,le,De){if(S+Z>$.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function xe($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,4),w.write($,T,S,Z,23,4),S+4}function Ie($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,8),w.write($,T,S,Z,52,8),S+8}A.prototype.slice=function(T,S){const Z=this.length;(T=~~T)<0?(T+=Z)<0&&(T=0):T>Z&&(T=Z),(S=void 0===S?Z:~~S)<0?(S+=Z)<0&&(S=0):S>Z&&(S=Z),S<T&&(S=T);const le=this.subarray(T,S);return Object.setPrototypeOf(le,A.prototype),le},A.prototype.readUintLE=A.prototype.readUIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return le},A.prototype.readUintBE=A.prototype.readUIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T+--S],De=1;for(;S>0&&(De*=256);)le+=this[T+--S]*De;return le},A.prototype.readUint8=A.prototype.readUInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),this[T]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]|this[T+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]<<8|this[T+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},A.prototype.readBigUInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S+256*this[++T]+65536*this[++T]+this[++T]*2**24,De=this[++T]+256*this[++T]+65536*this[++T]+Z*2**24;return BigInt(le)+(BigInt(De)<<BigInt(32))}),A.prototype.readBigUInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S*2**24+65536*this[++T]+256*this[++T]+this[++T],De=this[++T]*2**24+65536*this[++T]+256*this[++T]+Z;return(BigInt(le)<<BigInt(32))+BigInt(De)}),A.prototype.readIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return De*=128,le>=De&&(le-=Math.pow(2,8*S)),le},A.prototype.readIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=S,De=1,Oe=this[T+--le];for(;le>0&&(De*=256);)Oe+=this[T+--le]*De;return De*=128,Oe>=De&&(Oe-=Math.pow(2,8*S)),Oe},A.prototype.readInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},A.prototype.readInt16LE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T]|this[T+1]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt16BE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T+1]|this[T]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},A.prototype.readInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},A.prototype.readBigInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];return(void 0===S||void 0===Z)&&fe(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Z<<24))<<BigInt(32))+BigInt(S+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),A.prototype.readBigInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=(S<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(le)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Z)}),A.prototype.readFloatLE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!0,23,4)},A.prototype.readFloatBE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!1,23,4)},A.prototype.readDoubleLE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!0,52,8)},A.prototype.readDoubleBE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=1,Oe=0;for(this[S]=255&T;++Oe<Z&&(De*=256);)this[S+Oe]=T/De&255;return S+Z},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=Z-1,Oe=1;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)this[S+De]=T/Oe&255;return S+Z},A.prototype.writeUint8=A.prototype.writeUInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,255,0),this[S]=255&T,S+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S+3]=T>>>24,this[S+2]=T>>>16,this[S+1]=T>>>8,this[S]=255&T,S+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigUInt64LE=je(function(T,S=0){return z(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=je(function(T,S=0){return Q(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=0,Oe=1,Qe=0;for(this[S]=255&T;++De<Z&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De-1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeIntBE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=Z-1,Oe=1,Qe=0;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De+1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,127,-128),T<0&&(T=255+T+1),this[S]=255&T,S+1},A.prototype.writeInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),this[S]=255&T,this[S+1]=T>>>8,this[S+2]=T>>>16,this[S+3]=T>>>24,S+4},A.prototype.writeInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigInt64LE=je(function(T,S=0){return z(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=je(function(T,S=0){return Q(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(T,S,Z){return xe(this,T,S,!0,Z)},A.prototype.writeFloatBE=function(T,S,Z){return xe(this,T,S,!1,Z)},A.prototype.writeDoubleLE=function(T,S,Z){return Ie(this,T,S,!0,Z)},A.prototype.writeDoubleBE=function(T,S,Z){return Ie(this,T,S,!1,Z)},A.prototype.copy=function(T,S,Z,le){if(!A.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!le&&0!==le&&(le=this.length),S>=T.length&&(S=T.length),S||(S=0),le>0&&le<Z&&(le=Z),le===Z||0===T.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),T.length-S<le-Z&&(le=T.length-S+Z);const De=le-Z;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,Z,le):Uint8Array.prototype.set.call(T,this.subarray(Z,le),S),De},A.prototype.fill=function(T,S,Z,le){if("string"==typeof T){if("string"==typeof S?(le=S,S=0,Z=this.length):"string"==typeof Z&&(le=Z,Z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!A.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===T.length){const Oe=T.charCodeAt(0);("utf8"===le&&Oe<128||"latin1"===le)&&(T=Oe)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(S<0||this.length<S||this.length<Z)throw new RangeError("Out of range index");if(Z<=S)return this;let De;if(S>>>=0,Z=void 0===Z?this.length:Z>>>0,T||(T=0),"number"==typeof T)for(De=S;De<Z;++De)this[De]=T;else{const Oe=A.isBuffer(T)?T:A.from(T,le),Qe=Oe.length;if(0===Qe)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(De=0;De<Z-S;++De)this[De+S]=Oe[De%Qe]}return this};const Le={};function ve($,T,S){Le[$]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,delete this.name}get code(){return $}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function ye($){let T="",S=$.length;const Z="-"===$[0]?1:0;for(;S>=Z+4;S-=3)T=`_${$.slice(S-3,S)}${T}`;return`${$.slice(0,S)}${T}`}function me($,T,S,Z,le,De){if($>S||$<T){const Oe="bigint"==typeof T?"n":"";let Qe;throw Qe=De>3?0===T||T===BigInt(0)?`>= 0${Oe} and < 2${Oe} ** ${8*(De+1)}${Oe}`:`>= -(2${Oe} ** ${8*(De+1)-1}${Oe}) and < 2 ** ${8*(De+1)-1}${Oe}`:`>= ${T}${Oe} and <= ${S}${Oe}`,new Le.ERR_OUT_OF_RANGE("value",Qe,$)}!function ke($,T,S){Ee(T,"offset"),(void 0===$[T]||void 0===$[T+S])&&fe(T,$.length-(S+1))}(Z,le,De)}function Ee($,T){if("number"!=typeof $)throw new Le.ERR_INVALID_ARG_TYPE(T,"number",$)}function fe($,T,S){throw Math.floor($)!==$?(Ee($,S),new Le.ERR_OUT_OF_RANGE(S||"offset","an integer",$)):T<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${T}`,$)}ve("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function($,T){return`The "${$}" argument must be of type number. Received type ${typeof T}`},TypeError),ve("ERR_OUT_OF_RANGE",function($,T,S){let Z=`The value of "${$}" is out of range.`,le=S;return Number.isInteger(S)&&Math.abs(S)>2**32?le=ye(String(S)):"bigint"==typeof S&&(le=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(le=ye(le)),le+="n"),Z+=` It must be ${T}. Received ${le}`,Z},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function ue($,T){let S;T=T||1/0;const Z=$.length;let le=null;const De=[];for(let Oe=0;Oe<Z;++Oe){if(S=$.charCodeAt(Oe),S>55295&&S<57344){if(!le){if(S>56319){(T-=3)>-1&&De.push(239,191,189);continue}if(Oe+1===Z){(T-=3)>-1&&De.push(239,191,189);continue}le=S;continue}if(S<56320){(T-=3)>-1&&De.push(239,191,189),le=S;continue}S=65536+(le-55296<<10|S-56320)}else le&&(T-=3)>-1&&De.push(239,191,189);if(le=null,S<128){if((T-=1)<0)break;De.push(S)}else if(S<2048){if((T-=2)<0)break;De.push(S>>6|192,63&S|128)}else if(S<65536){if((T-=3)<0)break;De.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;De.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return De}function Ue($){return g.toByteArray(function ae($){if(($=($=$.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function Ve($,T,S,Z){let le;for(le=0;le<Z&&!(le+S>=T.length||le>=$.length);++le)T[le+S]=$[le];return le}function ze($,T){return $ instanceof T||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===T.name}function It($){return $!=$}const qe=function(){const $="0123456789abcdef",T=new Array(256);for(let S=0;S<16;++S){const Z=16*S;for(let le=0;le<16;++le)T[Z+le]=$[S]+$[le]}return T}();function je($){return typeof BigInt>"u"?ut:$}function ut(){throw new Error("BigInt not supported")}},14078:Ne=>{var V=1e3,E=60*V,g=60*E,w=24*g,O=7*w;function N(L,F,C,Y){var j=F>=1.5*C;return Math.round(L/C)+" "+Y+(j?"s":"")}Ne.exports=function(L,F){F=F||{};var C=typeof L;if("string"===C&&L.length>0)return function _(L){if(!((L=String(L)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(F){var C=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*C;case"weeks":case"week":case"w":return C*O;case"days":case"day":case"d":return C*w;case"hours":case"hour":case"hrs":case"hr":case"h":return C*g;case"minutes":case"minute":case"mins":case"min":case"m":return C*E;case"seconds":case"second":case"secs":case"sec":case"s":return C*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}(L);if("number"===C&&isFinite(L))return F.long?function A(L){var F=Math.abs(L);return F>=w?N(L,F,w,"day"):F>=g?N(L,F,g,"hour"):F>=E?N(L,F,E,"minute"):F>=V?N(L,F,V,"second"):L+" ms"}(L):function R(L){var F=Math.abs(L);return F>=w?Math.round(L/w)+"d":F>=g?Math.round(L/g)+"h":F>=E?Math.round(L/E)+"m":F>=V?Math.round(L/V)+"s":L+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},57062:(Ne,V,E)=>{"use strict";const{SymbolDispose:g}=E(56389),{AbortError:w,codes:O}=E(68154),{isNodeStream:X,isWebStream:_,kControllerErrorFunction:R}=E(32924),A=E(46017),{ERR_INVALID_ARG_TYPE:N}=O;let L;Ne.exports.addAbortSignal=function(Y,j){if(((C,Y)=>{if("object"!=typeof C||!("aborted"in C))throw new N("signal","AbortSignal",C)})(Y),!X(j)&&!_(j))throw new N("stream",["ReadableStream","WritableStream","Stream"],j);return Ne.exports.addAbortSignalNoValidate(Y,j)},Ne.exports.addAbortSignalNoValidate=function(C,Y){if("object"!=typeof C||!("aborted"in C))return Y;const j=X(Y)?()=>{Y.destroy(new w(void 0,{cause:C.reason}))}:()=>{Y[R](new w(void 0,{cause:C.reason}))};if(C.aborted)j();else{L=L||E(13509).addAbortListener;const G=L(C,j);A(Y,G[g])}return Y}},16630:(Ne,V,E)=>{"use strict";const{StringPrototypeSlice:g,SymbolIterator:w,TypedArrayPrototypeSet:O,Uint8Array:X}=E(56389),{Buffer:_}=E(68316),{inspect:R}=E(13509);Ne.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const L={data:N,next:null};this.length>0?this.tail.next=L:this.head=L,this.tail=L,++this.length}unshift(N){const L={data:N,next:this.head};0===this.length&&(this.tail=L),this.head=L,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let L=this.head,F=""+L.data;for(;null!==(L=L.next);)F+=N+L.data;return F}concat(N){if(0===this.length)return _.alloc(0);const L=_.allocUnsafe(N>>>0);let F=this.head,C=0;for(;F;)O(L,F.data,C),C+=F.data.length,F=F.next;return L}consume(N,L){const F=this.head.data;if(N<F.length){const C=F.slice(0,N);return this.head.data=F.slice(N),C}return N===F.length?this.shift():L?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[w](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let L="",F=this.head,C=0;do{const Y=F.data;if(!(N>Y.length)){N===Y.length?(L+=Y,++C,this.head=F.next?F.next:this.tail=null):(L+=g(Y,0,N),this.head=F,F.data=g(Y,N));break}L+=Y,N-=Y.length,++C}while(null!==(F=F.next));return this.length-=C,L}_getBuffer(N){const L=_.allocUnsafe(N),F=N;let C=this.head,Y=0;do{const j=C.data;if(!(N>j.length)){N===j.length?(O(L,j,F-N),++Y,this.head=C.next?C.next:this.tail=null):(O(L,new X(j.buffer,j.byteOffset,N),F-N),this.head=C,C.data=j.slice(N));break}O(L,j,F-N),N-=j.length,++Y}while(null!==(C=C.next));return this.length-=Y,L}[Symbol.for("nodejs.util.inspect.custom")](N,L){return R(this,{...L,depth:0,customInspect:!1})}}},373:(Ne,V,E)=>{"use strict";var g=E(29293).default;const{pipeline:w}=E(67843),O=E(13323),{destroyer:X}=E(96507),{isNodeStream:_,isReadable:R,isWritable:A,isWebStream:N,isTransformStream:L,isWritableStream:F,isReadableStream:C}=E(32924),{AbortError:Y,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=E(68154),te=E(46017);Ne.exports=function(...q){if(0===q.length)throw new G("streams");if(1===q.length)return O.from(q[0]);const J=[...q];if("function"==typeof q[0]&&(q[0]=O.from(q[0])),"function"==typeof q[q.length-1]){const h=q.length-1;q[h]=O.from(q[h])}for(let h=0;h<q.length;++h)if(_(q[h])||N(q[h])){if(h<q.length-1&&!(R(q[h])||C(q[h])||L(q[h])))throw new j(`streams[${h}]`,J[h],"must be readable");if(h>0&&!(A(q[h])||F(q[h])||L(q[h])))throw new j(`streams[${h}]`,J[h],"must be writable")}let ne,ie,re,ce,se;const we=q[0],Me=w(q,function pe(h){const m=ce;ce=null,m?m(h):h?se.destroy(h):!l&&!k&&se.destroy()}),k=!!(A(we)||F(we)||L(we)),l=!!(R(Me)||C(Me)||L(Me));if(se=new O({writableObjectMode:!(null==we||!we.writableObjectMode),readableObjectMode:!(null==Me||!Me.readableObjectMode),writable:k,readable:l}),k){if(_(we))se._write=function(m,p,x){we.write(m,p)?x():ne=x},se._final=function(m){we.end(),ie=m},we.on("drain",function(){if(ne){const m=ne;ne=null,m()}});else if(N(we)){const p=(L(we)?we.writable:we).getWriter();se._write=function(){var x=g(function*(D,B,M){try{yield p.ready,p.write(D).catch(()=>{}),M()}catch(d){M(d)}});return function(D,B,M){return x.apply(this,arguments)}}(),se._final=function(){var x=g(function*(D){try{yield p.ready,p.close().catch(()=>{}),ie=D}catch(B){D(B)}});return function(D){return x.apply(this,arguments)}}()}const h=L(Me)?Me.readable:Me;te(h,()=>{if(ie){const m=ie;ie=null,m()}})}if(l)if(_(Me))Me.on("readable",function(){if(re){const h=re;re=null,h()}}),Me.on("end",function(){se.push(null)}),se._read=function(){for(;;){const h=Me.read();if(null===h)return void(re=se._read);if(!se.push(h))return}};else if(N(Me)){const m=(L(Me)?Me.readable:Me).getReader();se._read=g(function*(){for(;;)try{const{value:p,done:x}=yield m.read();if(!se.push(p))return;if(x)return void se.push(null)}catch{return}})}return se._destroy=function(h,m){!h&&null!==ce&&(h=new Y),re=null,ne=null,ie=null,null===ce?m(h):(ce=m,_(Me)&&X(Me,h))},se}},96507:(Ne,V,E)=>{"use strict";const g=E(40573),{aggregateTwoErrors:w,codes:{ERR_MULTIPLE_CALLBACK:O},AbortError:X}=E(68154),{Symbol:_}=E(56389),{kIsDestroyed:R,isDestroyed:A,isFinished:N,isServerRequest:L}=E(32924),F=_("kDestroy"),C=_("kConstruct");function Y(k,l,h){k&&(l&&!l.errored&&(l.errored=k),h&&!h.errored&&(h.errored=k))}function G(k,l,h){let m=!1;function p(x){if(m)return;m=!0;const D=k._readableState,B=k._writableState;Y(x,B,D),B&&(B.closed=!0),D&&(D.closed=!0),"function"==typeof h&&h(x),x?g.nextTick(te,k,x):g.nextTick(ee,k)}try{k._destroy(l||null,p)}catch(x){p(x)}}function te(k,l){q(k,l),ee(k)}function ee(k){const l=k._readableState,h=k._writableState;h&&(h.closeEmitted=!0),l&&(l.closeEmitted=!0),(null!=h&&h.emitClose||null!=l&&l.emitClose)&&k.emit("close")}function q(k,l){const h=k._readableState,m=k._writableState;null!=m&&m.errorEmitted||null!=h&&h.errorEmitted||(m&&(m.errorEmitted=!0),h&&(h.errorEmitted=!0),k.emit("error",l))}function ne(k,l,h){const m=k._readableState,p=k._writableState;if(null!=p&&p.destroyed||null!=m&&m.destroyed)return this;null!=m&&m.autoDestroy||null!=p&&p.autoDestroy?k.destroy(l):l&&(p&&!p.errored&&(p.errored=l),m&&!m.errored&&(m.errored=l),h?g.nextTick(q,k,l):q(k,l))}function re(k){let l=!1;function h(m){if(l)return void ne(k,m??new O);l=!0;const p=k._readableState,x=k._writableState,D=x||p;p&&(p.constructed=!0),x&&(x.constructed=!0),D.destroyed?k.emit(F,m):m?ne(k,m,!0):g.nextTick(ce,k)}try{k._construct(m=>{g.nextTick(h,m)})}catch(m){g.nextTick(h,m)}}function ce(k){k.emit(C)}function se(k){return k?.setHeader&&"function"==typeof k.abort}function pe(k){k.emit("close")}function we(k,l){k.emit("error",l),g.nextTick(pe,k)}Ne.exports={construct:function ie(k,l){if("function"!=typeof k._construct)return;const h=k._readableState,m=k._writableState;h&&(h.constructed=!1),m&&(m.constructed=!1),k.once(C,l),!(k.listenerCount(C)>1)&&g.nextTick(re,k)},destroyer:function Me(k,l){!k||A(k)||(!l&&!N(k)&&(l=new X),L(k)?(k.socket=null,k.destroy(l)):se(k)?k.abort():se(k.req)?k.req.abort():"function"==typeof k.destroy?k.destroy(l):"function"==typeof k.close?k.close():l?g.nextTick(we,k,l):g.nextTick(pe,k),k.destroyed||(k[R]=!0))},destroy:function j(k,l){const h=this._readableState,m=this._writableState,p=m||h;return null!=m&&m.destroyed||null!=h&&h.destroyed?("function"==typeof l&&l(),this):(Y(k,m,h),m&&(m.destroyed=!0),h&&(h.destroyed=!0),p.constructed?G(this,k,l):this.once(F,function(x){G(this,w(x,k),l)}),this)},undestroy:function J(){const k=this._readableState,l=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=!1===k.readable,k.endEmitted=!1===k.readable),l&&(l.constructed=!0,l.destroyed=!1,l.closed=!1,l.closeEmitted=!1,l.errored=null,l.errorEmitted=!1,l.finalCalled=!1,l.prefinished=!1,l.ended=!1===l.writable,l.ending=!1===l.writable,l.finished=!1===l.writable)},errorOrDestroy:ne}},13323:(Ne,V,E)=>{"use strict";const{ObjectDefineProperties:g,ObjectGetOwnPropertyDescriptor:w,ObjectKeys:O,ObjectSetPrototypeOf:X}=E(56389);Ne.exports=A;const _=E(84553),R=E(30009);X(A.prototype,_.prototype),X(A,_);{const C=O(R.prototype);for(let Y=0;Y<C.length;Y++){const j=C[Y];A.prototype[j]||(A.prototype[j]=R.prototype[j])}}function A(C){if(!(this instanceof A))return new A(C);_.call(this,C),R.call(this,C),C?(this.allowHalfOpen=!1!==C.allowHalfOpen,!1===C.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===C.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,F;function L(){return void 0===N&&(N={}),N}g(A.prototype,{writable:{__proto__:null,...w(R.prototype,"writable")},writableHighWaterMark:{__proto__:null,...w(R.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...w(R.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...w(R.prototype,"writableBuffer")},writableLength:{__proto__:null,...w(R.prototype,"writableLength")},writableFinished:{__proto__:null,...w(R.prototype,"writableFinished")},writableCorked:{__proto__:null,...w(R.prototype,"writableCorked")},writableEnded:{__proto__:null,...w(R.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...w(R.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(C){this._readableState&&this._writableState&&(this._readableState.destroyed=C,this._writableState.destroyed=C)}}}),A.fromWeb=function(C,Y){return L().newStreamDuplexFromReadableWritablePair(C,Y)},A.toWeb=function(C){return L().newReadableWritablePairFromDuplex(C)},A.from=function(C){return F||(F=E(44425)),F(C,"body")}},44425:(Ne,V,E)=>{var g=E(29293).default,w=E(53344).default,O=E(42958).default;const X=E(40573),_=E(68316),{isReadable:R,isWritable:A,isIterable:N,isNodeStream:L,isReadableNodeStream:F,isWritableNodeStream:C,isDuplexNodeStream:Y,isReadableStream:j,isWritableStream:G}=E(32924),te=E(46017),{AbortError:ee,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:J}}=E(68154),{destroyer:ne}=E(96507),ie=E(13323),re=E(84553),ce=E(30009),{createDeferredPromise:se}=E(13509),pe=E(45737),we=globalThis.Blob||_.Blob,Me=typeof we<"u"?function(D){return D instanceof we}:function(D){return!1},k=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:l}=E(56389);class h extends ie{constructor(D){super(D),!1===D?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function p(x){const D=x.readable&&"function"!=typeof x.readable.read?re.wrap(x.readable):x.readable,B=x.writable;let v,W,z,Q,de,M=!!R(D),d=!!A(B);function xe(Ie){const Le=Q;Q=null,Le?Le(Ie):Ie&&de.destroy(Ie)}return de=new h({readableObjectMode:!(null==D||!D.readableObjectMode),writableObjectMode:!(null==B||!B.writableObjectMode),readable:M,writable:d}),d&&(te(B,Ie=>{d=!1,Ie&&ne(D,Ie),xe(Ie)}),de._write=function(Ie,Le,ve){B.write(Ie,Le)?ve():v=ve},de._final=function(Ie){B.end(),W=Ie},B.on("drain",function(){if(v){const Ie=v;v=null,Ie()}}),B.on("finish",function(){if(W){const Ie=W;W=null,Ie()}})),M&&(te(D,Ie=>{M=!1,Ie&&ne(D,Ie),xe(Ie)}),D.on("readable",function(){if(z){const Ie=z;z=null,Ie()}}),D.on("end",function(){de.push(null)}),de._read=function(){for(;;){const Ie=D.read();if(null===Ie)return void(z=de._read);if(!de.push(Ie))return}}),de._destroy=function(Ie,Le){!Ie&&null!==Q&&(Ie=new ee),z=null,v=null,W=null,null===Q?Le(Ie):(Q=Le,ne(B,Ie),ne(D,Ie))},de}Ne.exports=function x(D,B){if(Y(D))return D;if(F(D))return p({readable:D});if(C(D))return p({writable:D});if(L(D))return p({writable:!1,readable:!1});if(j(D))return p({readable:re.fromWeb(D)});if(G(D))return p({writable:ce.fromWeb(D)});if("function"==typeof D){const{value:d,write:v,final:W,destroy:z}=function m(x){let{promise:D,resolve:B}=se();const M=new k,d=M.signal;return{value:x(O(function*(){for(;;){const W=D;D=null;const{chunk:z,done:Q,cb:de}=yield w(W);if(X.nextTick(de),Q)return;if(d.aborted)throw new ee(void 0,{cause:d.reason});({promise:D,resolve:B}=se()),yield z}})(),{signal:d}),write(W,z,Q){const de=B;B=null,de({chunk:W,done:!1,cb:Q})},final(W){const z=B;B=null,z({done:!0,cb:W})},destroy(W,z){M.abort(),z(W)}}}(D);if(N(d))return pe(h,d,{objectMode:!0,write:v,final:W,destroy:z});const Q=d?.then;if("function"==typeof Q){let de;const xe=l(Q,d,Ie=>{if(null!=Ie)throw new J("nully","body",Ie)},Ie=>{ne(de,Ie)});return de=new h({objectMode:!0,readable:!1,write:v,final(Ie){W(g(function*(){try{yield xe,X.nextTick(Ie,null)}catch(Le){X.nextTick(Ie,Le)}}))},destroy:z})}throw new J("Iterable, AsyncIterable or AsyncFunction",B,d)}if(Me(D))return x(D.arrayBuffer());if(N(D))return pe(h,D,{objectMode:!0,writable:!1});if(j(D?.readable)&&G(D?.writable))return h.fromWeb(D);if("object"==typeof D?.writable||"object"==typeof D?.readable)return p({readable:null!=D&&D.readable?F(D?.readable)?D?.readable:x(D.readable):void 0,writable:null!=D&&D.writable?C(D?.writable)?D?.writable:x(D.writable):void 0});const M=D?.then;if("function"==typeof M){let d;return l(M,D,v=>{null!=v&&d.push(v),d.push(null)},v=>{ne(d,v)}),d=new h({objectMode:!0,writable:!1,read(){}})}throw new q(B,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],D)}},46017:(Ne,V,E)=>{const g=E(40573),{AbortError:w,codes:O}=E(68154),{ERR_INVALID_ARG_TYPE:X,ERR_STREAM_PREMATURE_CLOSE:_}=O,{kEmptyObject:R,once:A}=E(13509),{validateAbortSignal:N,validateFunction:L,validateObject:F,validateBoolean:C}=E(99852),{Promise:Y,PromisePrototypeThen:j,SymbolDispose:G}=E(56389),{isClosed:te,isReadable:ee,isReadableNodeStream:q,isReadableStream:J,isReadableFinished:ne,isReadableErrored:ie,isWritable:re,isWritableNodeStream:ce,isWritableStream:se,isWritableFinished:pe,isWritableErrored:we,isNodeStream:Me,willEmitClose:k,kIsClosedPromise:l}=E(32924);let h;const p=()=>{};function x(M,d,v){var W,z;if(2===arguments.length?(v=d,d=R):null==d?d=R:F(d,"options"),L(v,"callback"),N(d.signal,"options.signal"),v=A(v),J(M)||se(M))return function D(M,d,v){let W=!1,z=p;if(d.signal)if(z=()=>{W=!0,v.call(M,new w(void 0,{cause:d.signal.reason}))},d.signal.aborted)g.nextTick(z);else{h=h||E(13509).addAbortListener;const de=h(d.signal,z),xe=v;v=A((...Ie)=>{de[G](),xe.apply(M,Ie)})}const Q=(...de)=>{W||g.nextTick(()=>v.apply(M,de))};return j(M[l].promise,Q,Q),p}(M,d,v);if(!Me(M))throw new X("stream",["ReadableStream","WritableStream","Stream"],M);const Q=null!==(W=d.readable)&&void 0!==W?W:q(M),de=null!==(z=d.writable)&&void 0!==z?z:ce(M),xe=M._writableState,Ie=M._readableState,Le=()=>{M.writable||ke()};let ve=k(M)&&q(M)===Q&&ce(M)===de,ye=pe(M,!1);const ke=()=>{ye=!0,M.destroyed&&(ve=!1),(!ve||M.readable&&!Q)&&(!Q||me)&&v.call(M)};let me=ne(M,!1);const Ee=()=>{me=!0,M.destroyed&&(ve=!1),(!ve||M.writable&&!de)&&(!de||ye)&&v.call(M)},fe=Ue=>{v.call(M,Ue)};let he=te(M);const ae=()=>{he=!0;const Ue=we(M)||ie(M);return Ue&&"boolean"!=typeof Ue?v.call(M,Ue):Q&&!me&&q(M,!0)&&!ne(M,!1)?v.call(M,new _):!de||ye||pe(M,!1)?void v.call(M):v.call(M,new _)},ue=()=>{he=!0;const Ue=we(M)||ie(M);if(Ue&&"boolean"!=typeof Ue)return v.call(M,Ue);v.call(M)},ge=()=>{M.req.on("finish",ke)};!function m(M){return M.setHeader&&"function"==typeof M.abort}(M)?de&&!xe&&(M.on("end",Le),M.on("close",Le)):(M.on("complete",ke),ve||M.on("abort",ae),M.req?ge():M.on("request",ge)),!ve&&"boolean"==typeof M.aborted&&M.on("aborted",ae),M.on("end",Ee),M.on("finish",ke),!1!==d.error&&M.on("error",fe),M.on("close",ae),he?g.nextTick(ae):null!=xe&&xe.errorEmitted||null!=Ie&&Ie.errorEmitted?ve||g.nextTick(ue):(!Q&&(!ve||ee(M))&&(ye||!1===re(M))||!de&&(!ve||re(M))&&(me||!1===ee(M))||Ie&&M.req&&M.aborted)&&g.nextTick(ue);const Ae=()=>{v=p,M.removeListener("aborted",ae),M.removeListener("complete",ke),M.removeListener("abort",ae),M.removeListener("request",ge),M.req&&M.req.removeListener("finish",ke),M.removeListener("end",Le),M.removeListener("close",Le),M.removeListener("finish",ke),M.removeListener("end",Ee),M.removeListener("error",fe),M.removeListener("close",ae)};if(d.signal&&!he){const Ue=()=>{const Ve=v;Ae(),Ve.call(M,new w(void 0,{cause:d.signal.reason}))};if(d.signal.aborted)g.nextTick(Ue);else{h=h||E(13509).addAbortListener;const Ve=h(d.signal,Ue),ze=v;v=A((...It)=>{Ve[G](),ze.apply(M,It)})}}return Ae}Ne.exports=x,Ne.exports.finished=function B(M,d){var v;let W=!1;return null===d&&(d=R),null!==(v=d)&&void 0!==v&&v.cleanup&&(C(d.cleanup,"cleanup"),W=d.cleanup),new Y((z,Q)=>{const de=x(M,d,xe=>{W&&de(),xe?Q(xe):z()})})}},45737:(Ne,V,E)=>{"use strict";var g=E(29293).default;const w=E(40573),{PromisePrototypeThen:O,SymbolAsyncIterator:X,SymbolIterator:_}=E(56389),{Buffer:R}=E(68316),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:N}=E(68154).codes;Ne.exports=function L(F,C,Y){let j,G;if("string"==typeof C||C instanceof R)return new F({objectMode:!0,...Y,read(){this.push(C),this.push(null)}});if(C&&C[X])G=!0,j=C[X]();else{if(!C||!C[_])throw new A("iterable",["Iterable"],C);G=!1,j=C[_]()}const te=new F({objectMode:!0,highWaterMark:1,...Y});let ee=!1;function J(){return(J=g(function*(re){if(null!=re&&"function"==typeof j.throw){const{value:pe,done:we}=yield j.throw(re);if(yield pe,we)return}if("function"==typeof j.return){const{value:pe}=yield j.return();yield pe}})).apply(this,arguments)}function ie(){return(ie=g(function*(){for(;;){try{const{value:re,done:ce}=G?yield j.next():j.next();if(ce)te.push(null);else{const se=re&&"function"==typeof re.then?yield re:re;if(null===se)throw ee=!1,new N;if(te.push(se))continue;ee=!1}}catch(re){te.destroy(re)}break}})).apply(this,arguments)}return te._read=function(){ee||(ee=!0,function ne(){ie.apply(this,arguments)}())},te._destroy=function(re,ce){O(function q(re){return J.apply(this,arguments)}(re),()=>w.nextTick(ce,re),se=>w.nextTick(ce,se||re))},te}},91242:(Ne,V,E)=>{"use strict";const{ArrayIsArray:g,ObjectSetPrototypeOf:w}=E(56389),{EventEmitter:O}=E(44356);function X(R){O.call(this,R)}function _(R,A,N){if("function"==typeof R.prependListener)return R.prependListener(A,N);R._events&&R._events[A]?g(R._events[A])?R._events[A].unshift(N):R._events[A]=[N,R._events[A]]:R.on(A,N)}w(X.prototype,O.prototype),w(X,O),X.prototype.pipe=function(R,A){const N=this;function L(ee){R.writable&&!1===R.write(ee)&&N.pause&&N.pause()}function F(){N.readable&&N.resume&&N.resume()}N.on("data",L),R.on("drain",F),!R._isStdio&&(!A||!1!==A.end)&&(N.on("end",Y),N.on("close",j));let C=!1;function Y(){C||(C=!0,R.end())}function j(){C||(C=!0,"function"==typeof R.destroy&&R.destroy())}function G(ee){te(),0===O.listenerCount(this,"error")&&this.emit("error",ee)}function te(){N.removeListener("data",L),R.removeListener("drain",F),N.removeListener("end",Y),N.removeListener("close",j),N.removeListener("error",G),R.removeListener("error",G),N.removeListener("end",te),N.removeListener("close",te),R.removeListener("close",te)}return _(N,"error",G),_(R,"error",G),N.on("end",te),N.on("close",te),R.on("close",te),R.emit("pipe",N),R},Ne.exports={Stream:X,prependListener:_}},21840:(Ne,V,E)=>{"use strict";var g=E(29293).default,w=E(93513).default,O=E(82881).default,X=E(53344).default,_=E(42958).default;const R=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:L,ERR_OUT_OF_RANGE:F},AbortError:C}=E(68154),{validateAbortSignal:Y,validateInteger:j,validateObject:G}=E(99852),te=E(56389).Symbol("kWeak"),ee=E(56389).Symbol("kResistStopPropagation"),{finished:q}=E(46017),J=E(373),{addAbortSignalNoValidate:ne}=E(57062),{isWritable:ie,isNodeStream:re}=E(32924),{deprecate:ce}=E(13509),{ArrayPrototypePush:se,Boolean:pe,MathFloor:we,Number:Me,NumberIsNaN:k,Promise:l,PromiseReject:h,PromiseResolve:m,PromisePrototypeThen:p,Symbol:x}=E(56389),D=x("kEmpty"),B=x("kEof");function d(Ue,Ve){if("function"!=typeof Ue)throw new N("fn",["Function","AsyncFunction"],Ue);null!=Ve&&G(Ve,"options"),null!=Ve?.signal&&Y(Ve.signal,"options.signal");let ze=1;null!=Ve?.concurrency&&(ze=we(Ve.concurrency));let It=ze-1;return null!=Ve?.highWaterMark&&(It=we(Ve.highWaterMark)),j(ze,"options.concurrency",1),j(It,"options.highWaterMark",0),It+=ze,function(){var qe=_(function*(){const ut=E(13509).AbortSignalAny([Ve?.signal].filter(pe)),$=this,T=[],S={signal:ut};let Z,le,De=!1,Oe=0;function Qe(){De=!0,Nt()}function Nt(){Oe-=1,ft()}function ft(){le&&!De&&Oe<ze&&T.length<It&&(le(),le=null)}function Lt(){return(Lt=g(function*(){try{var zn,Gt=!1,Vt=!1;try{for(var Bt,cn=O($);Gt=!(Bt=yield cn.next()).done;Gt=!1){let Dt=Bt.value;if(De)return;if(ut.aborted)throw new C;try{if(Dt=Ue(Dt,S),Dt===D)continue;Dt=m(Dt)}catch(nt){Dt=h(nt)}Oe+=1,p(Dt,Nt,Qe),T.push(Dt),Z&&(Z(),Z=null),!De&&(T.length>=It||Oe>=ze)&&(yield new l(nt=>{le=nt}))}}catch(Dt){Vt=!0,zn=Dt}finally{try{Gt&&null!=cn.return&&(yield cn.return())}finally{if(Vt)throw zn}}T.push(B)}catch(Dt){const nt=h(Dt);p(nt,Nt,Qe),T.push(nt)}finally{De=!0,Z&&(Z(),Z=null)}})).apply(this,arguments)}!function St(){Lt.apply(this,arguments)}();try{for(;;){for(;T.length>0;){const Gt=yield X(T[0]);if(Gt===B)return;if(ut.aborted)throw new C;Gt!==D&&(yield Gt),T.shift(),ft()}yield X(new l(Gt=>{Z=Gt}))}}finally{De=!0,le&&(le(),le=null)}});return function je(){return qe.apply(this,arguments)}}().call(this)}function W(Ue){return z.apply(this,arguments)}function z(){return(z=g(function*(Ue,Ve=void 0){var qe,ze=!1,It=!1;try{for(var je=O(ye.call(this,Ue,Ve));ze=!(yield je.next()).done;ze=!1)return!0}catch($){It=!0,qe=$}finally{try{ze&&null!=je.return&&(yield je.return())}finally{if(It)throw qe}}return!1})).apply(this,arguments)}function de(){return(de=g(function*(Ue,Ve=void 0){if("function"!=typeof Ue)throw new N("fn",["Function","AsyncFunction"],Ue);return!(yield W.call(this,g(function*(...ze){return!(yield Ue(...ze))}),Ve))})).apply(this,arguments)}function Ie(){return(Ie=g(function*(Ue,Ve){var qe,ze=!1,It=!1;try{for(var ut,je=O(ye.call(this,Ue,Ve));ze=!(ut=yield je.next()).done;ze=!1)return ut.value}catch($){It=!0,qe=$}finally{try{ze&&null!=je.return&&(yield je.return())}finally{if(It)throw qe}}})).apply(this,arguments)}function ve(){return ve=g(function*(Ue,Ve){if("function"!=typeof Ue)throw new N("fn",["Function","AsyncFunction"],Ue);function It(){return(It=g(function*(S,Z){return yield Ue(S,Z),D})).apply(this,arguments)}var ut,qe=!1,je=!1;try{for(var $=O(d.call(this,function ze(S,Z){return It.apply(this,arguments)},Ve));qe=!(yield $.next()).done;qe=!1);}catch(S){je=!0,ut=S}finally{try{qe&&null!=$.return&&(yield $.return())}finally{if(je)throw ut}}}),ve.apply(this,arguments)}function ye(Ue,Ve){if("function"!=typeof Ue)throw new N("fn",["Function","AsyncFunction"],Ue);function It(){return(It=g(function*(qe,je){return(yield Ue(qe,je))?qe:D})).apply(this,arguments)}return d.call(this,function ze(qe,je){return It.apply(this,arguments)},Ve)}class ke extends L{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ee(){return Ee=g(function*(Ue,Ve,ze){var It;if("function"!=typeof Ue)throw new N("reducer",["Function","AsyncFunction"],Ue);null!=ze&&G(ze,"options"),null!=ze?.signal&&Y(ze.signal,"options.signal");let qe=arguments.length>1;if(null!=ze&&null!==(It=ze.signal)&&void 0!==It&&It.aborted){const Qe=new C(void 0,{cause:ze.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(Qe)),Qe}const je=new R,ut=je.signal;null!=ze&&ze.signal&&ze.signal.addEventListener("abort",()=>je.abort(),{once:!0,[te]:this,[ee]:!0});let $=!1;try{var Z,T=!1,S=!1;try{for(var De,le=O(this);T=!(De=yield le.next()).done;T=!1){const Qe=De.value;var Oe;if($=!0,null!=ze&&null!==(Oe=ze.signal)&&void 0!==Oe&&Oe.aborted)throw new C;qe?Ve=yield Ue(Ve,Qe,{signal:ut}):(Ve=Qe,qe=!0)}}catch(Qe){S=!0,Z=Qe}finally{try{T&&null!=le.return&&(yield le.return())}finally{if(S)throw Z}}if(!$&&!qe)throw new ke}finally{je.abort()}return Ve}),Ee.apply(this,arguments)}function he(){return(he=g(function*(Ue){null!=Ue&&G(Ue,"options"),null!=Ue?.signal&&Y(Ue.signal,"options.signal");const Ve=[];var qe,ze=!1,It=!1;try{for(var ut,je=O(this);ze=!(ut=yield je.next()).done;ze=!1){const T=ut.value;var $;if(null!=Ue&&null!==($=Ue.signal)&&void 0!==$&&$.aborted)throw new C(void 0,{cause:Ue.signal.reason});se(Ve,T)}}catch(T){It=!0,qe=T}finally{try{ze&&null!=je.return&&(yield je.return())}finally{if(It)throw qe}}return Ve})).apply(this,arguments)}function ue(Ue){if(Ue=Me(Ue),k(Ue))return 0;if(Ue<0)throw new F("number",">= 0",Ue);return Ue}Ne.exports.streamReturningOperators={asIndexedPairs:ce(function v(Ue=void 0){return null!=Ue&&G(Ue,"options"),null!=Ue?.signal&&Y(Ue.signal,"options.signal"),function(){var Ve=_(function*(){let It=0;var ut,qe=!1,je=!1;try{for(var T,$=O(this);qe=!(T=yield X($.next())).done;qe=!1){const Z=T.value;var S;if(null!=Ue&&null!==(S=Ue.signal)&&void 0!==S&&S.aborted)throw new C({cause:Ue.signal.reason});yield[It++,Z]}}catch(Z){je=!0,ut=Z}finally{try{qe&&null!=$.return&&(yield X($.return()))}finally{if(je)throw ut}}});return function ze(){return Ve.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ge(Ue,Ve=void 0){return null!=Ve&&G(Ve,"options"),null!=Ve?.signal&&Y(Ve.signal,"options.signal"),Ue=ue(Ue),function(){var ze=_(function*(){var qe;if(null!=Ve&&null!==(qe=Ve.signal)&&void 0!==qe&&qe.aborted)throw new C;var $,je=!1,ut=!1;try{for(var S,T=O(this);je=!(S=yield X(T.next())).done;je=!1){const le=S.value;var Z;if(null!=Ve&&null!==(Z=Ve.signal)&&void 0!==Z&&Z.aborted)throw new C;Ue--<=0&&(yield le)}}catch(le){ut=!0,$=le}finally{try{je&&null!=T.return&&(yield X(T.return()))}finally{if(ut)throw $}}});return function It(){return ze.apply(this,arguments)}}().call(this)},filter:ye,flatMap:function ae(Ue,Ve){const ze=d.call(this,Ue,Ve);return function(){var It=_(function*(){var $,je=!1,ut=!1;try{for(var S,T=O(ze);je=!(S=yield X(T.next())).done;je=!1){const Z=S.value;yield*w(O(Z),X)}}catch(Z){ut=!0,$=Z}finally{try{je&&null!=T.return&&(yield X(T.return()))}finally{if(ut)throw $}}});return function qe(){return It.apply(this,arguments)}}().call(this)},map:d,take:function Ae(Ue,Ve=void 0){return null!=Ve&&G(Ve,"options"),null!=Ve?.signal&&Y(Ve.signal,"options.signal"),Ue=ue(Ue),function(){var ze=_(function*(){var qe;if(null!=Ve&&null!==(qe=Ve.signal)&&void 0!==qe&&qe.aborted)throw new C;var $,je=!1,ut=!1;try{for(var S,T=O(this);je=!(S=yield X(T.next())).done;je=!1){const le=S.value;var Z;if(null!=Ve&&null!==(Z=Ve.signal)&&void 0!==Z&&Z.aborted)throw new C;if(Ue-- >0&&(yield le),Ue<=0)return}}catch(le){ut=!0,$=le}finally{try{je&&null!=T.return&&(yield X(T.return()))}finally{if(ut)throw $}}});return function It(){return ze.apply(this,arguments)}}().call(this)},compose:function M(Ue,Ve){if(null!=Ve&&G(Ve,"options"),null!=Ve?.signal&&Y(Ve.signal,"options.signal"),re(Ue)&&!ie(Ue))throw new A("stream",Ue,"must be writable");const ze=J(this,Ue);return null!=Ve&&Ve.signal&&ne(Ve.signal,ze),ze}},Ne.exports.promiseReturningOperators={every:function Q(Ue){return de.apply(this,arguments)},forEach:function Le(Ue,Ve){return ve.apply(this,arguments)},reduce:function me(Ue,Ve,ze){return Ee.apply(this,arguments)},toArray:function fe(Ue){return he.apply(this,arguments)},some:W,find:function xe(Ue,Ve){return Ie.apply(this,arguments)}}},59447:(Ne,V,E)=>{"use strict";const{ObjectSetPrototypeOf:g}=E(56389);Ne.exports=O;const w=E(71981);function O(X){if(!(this instanceof O))return new O(X);w.call(this,X)}g(O.prototype,w.prototype),g(O,w),O.prototype._transform=function(X,_,R){R(null,X)}},67843:(Ne,V,E)=>{var g=E(29293).default,w=E(42958).default,O=E(53344).default,X=E(93513).default,_=E(82881).default;const R=E(40573),{ArrayIsArray:A,Promise:N,SymbolAsyncIterator:L,SymbolDispose:F}=E(56389),C=E(46017),{once:Y}=E(13509),j=E(96507),G=E(13323),{aggregateTwoErrors:te,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:ne,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:re}=E(68154),{validateFunction:ce,validateAbortSignal:se}=E(99852),{isIterable:pe,isReadable:we,isReadableNodeStream:Me,isNodeStream:k,isTransformStream:l,isWebStream:h,isReadableStream:m,isReadableFinished:p}=E(32924),x=globalThis.AbortController||E(9465).AbortController;let D,B,M;function d(me,Ee,fe){let he=!1;return me.on("close",()=>{he=!0}),{destroy:ue=>{he||(he=!0,j.destroyer(me,ue||new ne("pipe")))},cleanup:C(me,{readable:Ee,writable:fe},ue=>{he=!ue})}}function W(me){if(pe(me))return me;if(Me(me))return function z(me){return Q.apply(this,arguments)}(me);throw new ee("val",["Readable","Iterable","AsyncIterable"],me)}function Q(){return(Q=w(function*(me){B||(B=E(84553)),yield*X(_(B.prototype[L].call(me)),O)})).apply(this,arguments)}function de(me,Ee,fe,he){return xe.apply(this,arguments)}function xe(){return(xe=g(function*(me,Ee,fe,{end:he}){let ae,ue=null;const ge=ut=>{if(ut&&(ae=ut),ue){const $=ue;ue=null,$()}},Ae=()=>new N((ut,$)=>{ae?$(ae):ue=()=>{ae?$(ae):ut()}});Ee.on("drain",ge);const Ue=C(Ee,{readable:!1},ge);try{Ee.writableNeedDrain&&(yield Ae());var It,Ve=!1,ze=!1;try{for(var je,qe=_(me);Ve=!(je=yield qe.next()).done;Ve=!1)Ee.write(je.value)||(yield Ae())}catch(ut){ze=!0,It=ut}finally{try{Ve&&null!=qe.return&&(yield qe.return())}finally{if(ze)throw It}}he&&(Ee.end(),yield Ae()),fe()}catch(ut){fe(ae!==ut?te(ae,ut):ut)}finally{Ue(),Ee.off("drain",ge)}})).apply(this,arguments)}function Ie(me,Ee,fe,he){return Le.apply(this,arguments)}function Le(){return(Le=g(function*(me,Ee,fe,{end:he}){l(Ee)&&(Ee=Ee.writable);const ae=Ee.getWriter();try{var Ae,ue=!1,ge=!1;try{for(var Ve,Ue=_(me);ue=!(Ve=yield Ue.next()).done;ue=!1){const ze=Ve.value;yield ae.ready,ae.write(ze).catch(()=>{})}}catch(ze){ge=!0,Ae=ze}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(ge)throw Ae}}yield ae.ready,he&&(yield ae.close()),fe()}catch(ze){try{yield ae.abort(ze),fe(ze)}catch(It){fe(It)}}})).apply(this,arguments)}function ye(me,Ee,fe){if(1===me.length&&A(me[0])&&(me=me[0]),me.length<2)throw new J("streams");const he=new x,ae=he.signal,ue=fe?.signal,ge=[];function Ae(){ut(new re)}let Ue,Ve,ze;se(ue,"options.signal"),M=M||E(13509).addAbortListener,ue&&(Ue=M(ue,Ae));const It=[];let $,qe=0;function je(le){ut(le,0==--qe)}function ut(le,De){var Oe;if(le&&(!Ve||"ERR_STREAM_PREMATURE_CLOSE"===Ve.code)&&(Ve=le),Ve||De){for(;It.length;)It.shift()(Ve);null===(Oe=Ue)||void 0===Oe||Oe[F](),he.abort(),De&&(Ve||ge.forEach(Qe=>Qe()),R.nextTick(Ee,Ve,ze))}}for(let le=0;le<me.length;le++){const De=me[le],Oe=le<me.length-1,Qe=le>0,Nt=Oe||!1!==fe?.end,ft=le===me.length-1;if(k(De)){let St=function(Lt){Lt&&"AbortError"!==Lt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Lt.code&&je(Lt)};if(Nt){const{destroy:Lt,cleanup:Gt}=d(De,Oe,Qe);It.push(Lt),we(De)&&ft&&ge.push(Gt)}De.on("error",St),we(De)&&ft&&ge.push(()=>{De.removeListener("error",St)})}if(0===le)if("function"==typeof De){if($=De({signal:ae}),!pe($))throw new q("Iterable, AsyncIterable or Stream","source",$)}else $=pe(De)||Me(De)||l(De)?De:G.from(De);else if("function"==typeof De){var T;if($=l($)?W(null===(T=$)||void 0===T?void 0:T.readable):W($),$=De($,{signal:ae}),Oe){if(!pe($,!0))throw new q("AsyncIterable",`transform[${le-1}]`,$)}else{var S;D||(D=E(59447));const St=new D({objectMode:!0}),Lt=null===(S=$)||void 0===S?void 0:S.then;if("function"==typeof Lt)qe++,Lt.call($,zn=>{ze=zn,null!=zn&&St.write(zn),Nt&&St.end(),R.nextTick(je)},zn=>{St.destroy(zn),R.nextTick(je,zn)});else if(pe($,!0))qe++,de($,St,je,{end:Nt});else{if(!m($)&&!l($))throw new q("AsyncIterable or Promise","destination",$);qe++,de($.readable||$,St,je,{end:Nt})}$=St;const{destroy:Gt,cleanup:Vt}=d($,!1,!0);It.push(Gt),ft&&ge.push(Vt)}}else if(k(De)){if(Me($)){qe+=2;const St=ke($,De,je,{end:Nt});we(De)&&ft&&ge.push(St)}else if(l($)||m($))qe++,de($.readable||$,De,je,{end:Nt});else{if(!pe($))throw new ee("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$);qe++,de($,De,je,{end:Nt})}$=De}else if(h(De)){if(Me($))qe++,Ie(W($),De,je,{end:Nt});else if(m($)||pe($))qe++,Ie($,De,je,{end:Nt});else{if(!l($))throw new ee("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$);qe++,Ie($.readable,De,je,{end:Nt})}$=De}else $=G.from(De)}return(null!=ae&&ae.aborted||null!=ue&&ue.aborted)&&R.nextTick(Ae),$}function ke(me,Ee,fe,{end:he}){let ae=!1;if(Ee.on("close",()=>{ae||fe(new ie)}),me.pipe(Ee,{end:!1}),he){let ge=function(){ae=!0,Ee.end()};p(me)?R.nextTick(ge):me.once("end",ge)}else fe();return C(me,{readable:!0,writable:!1},ge=>{const Ae=me._readableState;ge&&"ERR_STREAM_PREMATURE_CLOSE"===ge.code&&Ae&&Ae.ended&&!Ae.errored&&!Ae.errorEmitted?me.once("end",fe).once("error",fe):fe(ge)}),C(Ee,{readable:!1,writable:!0},fe)}Ne.exports={pipelineImpl:ye,pipeline:function ve(...me){return ye(me,Y(function v(me){return ce(me[me.length-1],"streams[stream.length - 1]"),me.pop()}(me)))}}},84553:(Ne,V,E)=>{var g=E(53344).default,w=E(42958).default;const O=E(40573),{ArrayPrototypeIndexOf:X,NumberIsInteger:_,NumberIsNaN:R,NumberParseInt:A,ObjectDefineProperties:N,ObjectKeys:L,ObjectSetPrototypeOf:F,Promise:C,SafeSet:Y,SymbolAsyncDispose:j,SymbolAsyncIterator:G,Symbol:te}=E(56389);Ne.exports=je,je.ReadableState=qe;const{EventEmitter:ee}=E(44356),{Stream:q,prependListener:J}=E(91242),{Buffer:ne}=E(68316),{addAbortSignal:ie}=E(57062),re=E(46017);let ce=E(13509).debuglog("stream",et=>{ce=et});const se=E(16630),pe=E(96507),{getHighWaterMark:we,getDefaultHighWaterMark:Me}=E(18212),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:l,ERR_METHOD_NOT_IMPLEMENTED:h,ERR_OUT_OF_RANGE:m,ERR_STREAM_PUSH_AFTER_EOF:p,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:x},AbortError:D}=E(68154),{validateObject:B}=E(99852),M=te("kPaused"),{StringDecoder:d}=E(78454),v=E(45737);F(je.prototype,q.prototype),F(je,q);const W=()=>{},{errorOrDestroy:z}=pe,Q=1,Le=16,ve=32,ye=64,he=2048,ae=4096,Ue=65536;function It(et){return{enumerable:!1,get(){return!!(this.state&et)},set(it){it?this.state|=et:this.state&=~et}}}function qe(et,it,ot){"boolean"!=typeof ot&&(ot=it instanceof E(13323)),this.state=he|ae|Le|ve,et&&et.objectMode&&(this.state|=Q),ot&&et&&et.readableObjectMode&&(this.state|=Q),this.highWaterMark=et?we(this,et,"readableHighWaterMark",ot):Me(!1),this.buffer=new se,this.length=0,this.pipes=[],this.flowing=null,this[M]=null,et&&!1===et.emitClose&&(this.state&=~he),et&&!1===et.autoDestroy&&(this.state&=~ae),this.errored=null,this.defaultEncoding=et&&et.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,et&&et.encoding&&(this.decoder=new d(et.encoding),this.encoding=et.encoding)}function je(et){if(!(this instanceof je))return new je(et);const it=this instanceof E(13323);this._readableState=new qe(et,this,it),et&&("function"==typeof et.read&&(this._read=et.read),"function"==typeof et.destroy&&(this._destroy=et.destroy),"function"==typeof et.construct&&(this._construct=et.construct),et.signal&&!it&&ie(et.signal,this)),q.call(this,et),pe.construct(this,()=>{this._readableState.needReadable&&Qe(this,this._readableState)})}function ut(et,it,ot,He){ce("readableAddChunk",it);const ht=et._readableState;let sn;if(ht.state&Q||("string"==typeof it?ht.encoding!==(ot=ot||ht.defaultEncoding)&&(He&&ht.encoding?it=ne.from(it,ot).toString(ht.encoding):(it=ne.from(it,ot),ot="")):it instanceof ne?ot="":q._isUint8Array(it)?(it=q._uint8ArrayToBuffer(it),ot=""):null!=it&&(sn=new l("chunk",["string","Buffer","Uint8Array"],it))),sn)z(et,sn);else if(null===it)ht.state&=-9,function le(et,it){if(ce("onEofChunk"),!it.ended){if(it.decoder){const ot=it.decoder.end();ot&&ot.length&&(it.buffer.push(ot),it.length+=it.objectMode?1:ot.length)}it.ended=!0,it.sync?De(et):(it.needReadable=!1,it.emittedReadable=!0,Oe(et))}}(et,ht);else if(ht.state&Q||it&&it.length>0)if(He)if(4&ht.state)z(et,new x);else{if(ht.destroyed||ht.errored)return!1;$(et,ht,it,!0)}else if(ht.ended)z(et,new p);else{if(ht.destroyed||ht.errored)return!1;ht.state&=-9,ht.decoder&&!ot?(it=ht.decoder.write(it),ht.objectMode||0!==it.length?$(et,ht,it,!1):Qe(et,ht)):$(et,ht,it,!1)}else He||(ht.state&=-9,Qe(et,ht));return!ht.ended&&(ht.length<ht.highWaterMark||0===ht.length)}function $(et,it,ot,He){it.flowing&&0===it.length&&!it.sync&&et.listenerCount("data")>0?(it.state&Ue?it.awaitDrainWriters.clear():it.awaitDrainWriters=null,it.dataEmitted=!0,et.emit("data",ot)):(it.length+=it.objectMode?1:ot.length,He?it.buffer.unshift(ot):it.buffer.push(ot),it.state&ye&&De(et)),Qe(et,it)}function Z(et,it){return et<=0||0===it.length&&it.ended?0:it.state&Q?1:R(et)?it.flowing&&it.length?it.buffer.first().length:it.length:et<=it.length?et:it.ended?it.length:0}function De(et){const it=et._readableState;ce("emitReadable",it.needReadable,it.emittedReadable),it.needReadable=!1,it.emittedReadable||(ce("emitReadable",it.flowing),it.emittedReadable=!0,O.nextTick(Oe,et))}function Oe(et){const it=et._readableState;ce("emitReadable_",it.destroyed,it.length,it.ended),!it.destroyed&&!it.errored&&(it.length||it.ended)&&(et.emit("readable"),it.emittedReadable=!1),it.needReadable=!it.flowing&&!it.ended&&it.length<=it.highWaterMark,zn(et)}function Qe(et,it){!it.readingMore&&it.constructed&&(it.readingMore=!0,O.nextTick(Nt,et,it))}function Nt(et,it){for(;!it.reading&&!it.ended&&(it.length<it.highWaterMark||it.flowing&&0===it.length);){const ot=it.length;if(ce("maybeReadMore read 0"),et.read(0),ot===it.length)break}it.readingMore=!1}function St(et){const it=et._readableState;it.readableListening=et.listenerCount("readable")>0,it.resumeScheduled&&!1===it[M]?it.flowing=!0:et.listenerCount("data")>0?et.resume():it.readableListening||(it.flowing=null)}function Lt(et){ce("readable nexttick read 0"),et.read(0)}function Vt(et,it){ce("resume",it.reading),it.reading||et.read(0),it.resumeScheduled=!1,et.emit("resume"),zn(et),it.flowing&&!it.reading&&et.read(0)}function zn(et){const it=et._readableState;for(ce("flow",it.flowing);it.flowing&&null!==et.read(););}function cn(et,it){"function"!=typeof et.read&&(et=je.wrap(et,{objectMode:!0}));const ot=function Bt(et,it){return Dt.apply(this,arguments)}(et,it);return ot.stream=et,ot}function Dt(){return(Dt=w(function*(et,it){let ht,ot=W;function He(Kt){this===et?(ot(),ot=W):ot=Kt}et.on("readable",He);const sn=re(et,{writable:!1},Kt=>{ht=Kt?k(ht,Kt):null,ot(),ot=W});try{for(;;){const Kt=et.destroyed?null:et.read();if(null!==Kt)yield Kt;else{if(ht)throw ht;if(null===ht)return;yield g(new C(He))}}}catch(Kt){throw ht=k(ht,Kt),ht}finally{!ht&&!1===it?.destroyOnReturn||void 0!==ht&&!et._readableState.autoDestroy?(et.off("readable",He),sn()):pe.destroyer(et,null)}})).apply(this,arguments)}function nt(et,it){if(0===it.length)return null;let ot;return it.objectMode?ot=it.buffer.shift():!et||et>=it.length?(ot=it.decoder?it.buffer.join(""):1===it.buffer.length?it.buffer.first():it.buffer.concat(it.length),it.buffer.clear()):ot=it.buffer.consume(et,it.decoder),ot}function Ye(et){const it=et._readableState;ce("endReadable",it.endEmitted),it.endEmitted||(it.ended=!0,O.nextTick(At,it,et))}function At(et,it){if(ce("endReadableNT",et.endEmitted,et.length),!et.errored&&!et.closeEmitted&&!et.endEmitted&&0===et.length)if(et.endEmitted=!0,it.emit("end"),it.writable&&!1===it.allowHalfOpen)O.nextTick(kt,it);else if(et.autoDestroy){const ot=it._writableState;(!ot||ot.autoDestroy&&(ot.finished||!1===ot.writable))&&it.destroy()}}function kt(et){et.writable&&!et.writableEnded&&!et.destroyed&&et.end()}let $t;function Bn(){return void 0===$t&&($t={}),$t}N(qe.prototype,{objectMode:It(Q),ended:It(2),endEmitted:It(4),reading:It(8),constructed:It(Le),sync:It(ve),needReadable:It(ye),emittedReadable:It(128),readableListening:It(256),resumeScheduled:It(512),errorEmitted:It(1024),emitClose:It(he),autoDestroy:It(ae),destroyed:It(8192),closed:It(16384),closeEmitted:It(32768),multiAwaitDrain:It(Ue),readingMore:It(1<<17),dataEmitted:It(1<<18)}),je.prototype.destroy=pe.destroy,je.prototype._undestroy=pe.undestroy,je.prototype._destroy=function(et,it){it(et)},je.prototype[ee.captureRejectionSymbol]=function(et){this.destroy(et)},je.prototype[j]=function(){let et;return this.destroyed||(et=this.readableEnded?null:new D,this.destroy(et)),new C((it,ot)=>re(this,He=>He&&He!==et?ot(He):it(null)))},je.prototype.push=function(et,it){return ut(this,et,it,!1)},je.prototype.unshift=function(et,it){return ut(this,et,it,!0)},je.prototype.isPaused=function(){const et=this._readableState;return!0===et[M]||!1===et.flowing},je.prototype.setEncoding=function(et){const it=new d(et);this._readableState.decoder=it,this._readableState.encoding=this._readableState.decoder.encoding;const ot=this._readableState.buffer;let He="";for(const ht of ot)He+=it.write(ht);return ot.clear(),""!==He&&ot.push(He),this._readableState.length=He.length,this},je.prototype.read=function(et){ce("read",et),void 0===et?et=NaN:_(et)||(et=A(et,10));const it=this._readableState,ot=et;if(et>it.highWaterMark&&(it.highWaterMark=function S(et){if(et>1073741824)throw new m("size","<= 1GiB",et);return et--,et|=et>>>1,et|=et>>>2,et|=et>>>4,et|=et>>>8,et|=et>>>16,++et}(et)),0!==et&&(it.state&=-129),0===et&&it.needReadable&&((0!==it.highWaterMark?it.length>=it.highWaterMark:it.length>0)||it.ended))return ce("read: emitReadable",it.length,it.ended),0===it.length&&it.ended?Ye(this):De(this),null;if(0===(et=Z(et,it))&&it.ended)return 0===it.length&&Ye(this),null;let ht,He=!!(it.state&ye);if(ce("need readable",He),(0===it.length||it.length-et<it.highWaterMark)&&(He=!0,ce("length less than watermark",He)),it.ended||it.reading||it.destroyed||it.errored||!it.constructed)He=!1,ce("reading, ended or constructing",He);else if(He){ce("do read"),it.state|=8|ve,0===it.length&&(it.state|=ye);try{this._read(it.highWaterMark)}catch(sn){z(this,sn)}it.state&=~ve,it.reading||(et=Z(ot,it))}return ht=et>0?nt(et,it):null,null===ht?(it.needReadable=it.length<=it.highWaterMark,et=0):(it.length-=et,it.multiAwaitDrain?it.awaitDrainWriters.clear():it.awaitDrainWriters=null),0===it.length&&(it.ended||(it.needReadable=!0),ot!==et&&it.ended&&Ye(this)),null!==ht&&!it.errorEmitted&&!it.closeEmitted&&(it.dataEmitted=!0,this.emit("data",ht)),ht},je.prototype._read=function(et){throw new h("_read()")},je.prototype.pipe=function(et,it){const ot=this,He=this._readableState;1===He.pipes.length&&(He.multiAwaitDrain||(He.multiAwaitDrain=!0,He.awaitDrainWriters=new Y(He.awaitDrainWriters?[He.awaitDrainWriters]:[]))),He.pipes.push(et),ce("pipe count=%d opts=%j",He.pipes.length,it);const sn=it&&!1===it.end||et===O.stdout||et===O.stderr?Yt:rn;function rn(){ce("onend"),et.end()}He.endEmitted?O.nextTick(sn):ot.once("end",sn),et.on("unpipe",function Kt(Xn,$n){ce("onunpipe"),Xn===ot&&$n&&!1===$n.hasUnpiped&&($n.hasUnpiped=!0,function un(){ce("cleanup"),et.removeListener("close",Dn),et.removeListener("finish",qt),ir&&et.removeListener("drain",ir),et.removeListener("error",Pn),et.removeListener("unpipe",Kt),ot.removeListener("end",rn),ot.removeListener("end",Yt),ot.removeListener("data",Hn),pn=!0,ir&&He.awaitDrainWriters&&(!et._writableState||et._writableState.needDrain)&&ir()}())});let ir,pn=!1;function ur(){pn||(1===He.pipes.length&&He.pipes[0]===et?(ce("false write response, pause",0),He.awaitDrainWriters=et,He.multiAwaitDrain=!1):He.pipes.length>1&&He.pipes.includes(et)&&(ce("false write response, pause",He.awaitDrainWriters.size),He.awaitDrainWriters.add(et)),ot.pause()),ir||(ir=function ft(et,it){return function(){const He=et._readableState;He.awaitDrainWriters===it?(ce("pipeOnDrain",1),He.awaitDrainWriters=null):He.multiAwaitDrain&&(ce("pipeOnDrain",He.awaitDrainWriters.size),He.awaitDrainWriters.delete(it)),(!He.awaitDrainWriters||0===He.awaitDrainWriters.size)&&et.listenerCount("data")&&et.resume()}}(ot,et),et.on("drain",ir))}function Hn(Xn){ce("ondata");const $n=et.write(Xn);ce("dest.write",$n),!1===$n&&ur()}function Pn(Xn){if(ce("onerror",Xn),Yt(),et.removeListener("error",Pn),0===et.listenerCount("error")){const $n=et._writableState||et._readableState;$n&&!$n.errorEmitted?z(et,Xn):et.emit("error",Xn)}}function Dn(){et.removeListener("finish",qt),Yt()}function qt(){ce("onfinish"),et.removeListener("close",Dn),Yt()}function Yt(){ce("unpipe"),ot.unpipe(et)}return ot.on("data",Hn),J(et,"error",Pn),et.once("close",Dn),et.once("finish",qt),et.emit("pipe",ot),!0===et.writableNeedDrain?ur():He.flowing||(ce("pipe resume"),ot.resume()),et},je.prototype.unpipe=function(et){const it=this._readableState;if(0===it.pipes.length)return this;if(!et){const ht=it.pipes;it.pipes=[],this.pause();for(let sn=0;sn<ht.length;sn++)ht[sn].emit("unpipe",this,{hasUnpiped:!1});return this}const He=X(it.pipes,et);return-1===He||(it.pipes.splice(He,1),0===it.pipes.length&&this.pause(),et.emit("unpipe",this,{hasUnpiped:!1})),this},je.prototype.addListener=je.prototype.on=function(et,it){const ot=q.prototype.on.call(this,et,it),He=this._readableState;return"data"===et?(He.readableListening=this.listenerCount("readable")>0,!1!==He.flowing&&this.resume()):"readable"===et&&!He.endEmitted&&!He.readableListening&&(He.readableListening=He.needReadable=!0,He.flowing=!1,He.emittedReadable=!1,ce("on readable",He.length,He.reading),He.length?De(this):He.reading||O.nextTick(Lt,this)),ot},je.prototype.off=je.prototype.removeListener=function(et,it){const ot=q.prototype.removeListener.call(this,et,it);return"readable"===et&&O.nextTick(St,this),ot},je.prototype.removeAllListeners=function(et){const it=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===et||void 0===et)&&O.nextTick(St,this),it},je.prototype.resume=function(){const et=this._readableState;return et.flowing||(ce("resume"),et.flowing=!et.readableListening,function Gt(et,it){it.resumeScheduled||(it.resumeScheduled=!0,O.nextTick(Vt,et,it))}(this,et)),et[M]=!1,this},je.prototype.pause=function(){return ce("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ce("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},je.prototype.wrap=function(et){let it=!1;et.on("data",He=>{!this.push(He)&&et.pause&&(it=!0,et.pause())}),et.on("end",()=>{this.push(null)}),et.on("error",He=>{z(this,He)}),et.on("close",()=>{this.destroy()}),et.on("destroy",()=>{this.destroy()}),this._read=()=>{it&&et.resume&&(it=!1,et.resume())};const ot=L(et);for(let He=1;He<ot.length;He++){const ht=ot[He];void 0===this[ht]&&"function"==typeof et[ht]&&(this[ht]=et[ht].bind(et))}return this},je.prototype[G]=function(){return cn(this)},je.prototype.iterator=function(et){return void 0!==et&&B(et,"options"),cn(this,et)},N(je.prototype,{readable:{__proto__:null,get(){const et=this._readableState;return!(!et||!1===et.readable||et.destroyed||et.errorEmitted||et.endEmitted)},set(et){this._readableState&&(this._readableState.readable=!!et)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(et){this._readableState&&(this._readableState.flowing=et)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(et){this._readableState&&(this._readableState.destroyed=et)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(qe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(et){this[M]=!!et}}}),je._fromList=nt,je.from=function(et,it){return v(je,et,it)},je.fromWeb=function(et,it){return Bn().newStreamReadableFromReadableStream(et,it)},je.toWeb=function(et,it){return Bn().newReadableStreamFromStreamReadable(et,it)},je.wrap=function(et,it){var ot,He;return new je({objectMode:null===(ot=null!==(He=et.readableObjectMode)&&void 0!==He?He:et.objectMode)||void 0===ot||ot,...it,destroy(ht,sn){pe.destroyer(et,ht),sn(ht)}}).wrap(et)}},18212:(Ne,V,E)=>{"use strict";const{MathFloor:g,NumberIsInteger:w}=E(56389),{validateInteger:O}=E(99852),{ERR_INVALID_ARG_VALUE:X}=E(68154).codes;let _=16384,R=16;function N(C){return C?R:_}Ne.exports={getHighWaterMark:function F(C,Y,j,G){const te=function A(C,Y,j){return null!=C.highWaterMark?C.highWaterMark:Y?C[j]:null}(Y,G,j);if(null!=te){if(!w(te)||te<0)throw new X(G?`options.${j}`:"options.highWaterMark",te);return g(te)}return N(C.objectMode)},getDefaultHighWaterMark:N,setDefaultHighWaterMark:function L(C,Y){O(Y,"value",0),C?R=Y:_=Y}}},71981:(Ne,V,E)=>{"use strict";const{ObjectSetPrototypeOf:g,Symbol:w}=E(56389);Ne.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:O}=E(68154).codes,X=E(13323),{getHighWaterMark:_}=E(18212);g(A.prototype,X.prototype),g(A,X);const R=w("kCallback");function A(F){if(!(this instanceof A))return new A(F);const C=F?_(this,F,"readableHighWaterMark",!0):null;0===C&&(F={...F,highWaterMark:null,readableHighWaterMark:C,writableHighWaterMark:F.writableHighWaterMark||0}),X.call(this,F),this._readableState.sync=!1,this[R]=null,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",L)}function N(F){"function"!=typeof this._flush||this.destroyed?(this.push(null),F&&F()):this._flush((C,Y)=>{C?F?F(C):this.destroy(C):(null!=Y&&this.push(Y),this.push(null),F&&F())})}function L(){this._final!==N&&N.call(this)}A.prototype._final=N,A.prototype._transform=function(F,C,Y){throw new O("_transform()")},A.prototype._write=function(F,C,Y){const j=this._readableState,G=this._writableState,te=j.length;this._transform(F,C,(ee,q)=>{ee?Y(ee):(null!=q&&this.push(q),G.ended||te===j.length||j.length<j.highWaterMark?Y():this[R]=Y)})},A.prototype._read=function(){if(this[R]){const F=this[R];this[R]=null,F()}}},32924:(Ne,V,E)=>{"use strict";const{SymbolAsyncIterator:g,SymbolIterator:w,SymbolFor:O}=E(56389),X=O("nodejs.stream.destroyed"),_=O("nodejs.stream.errored"),R=O("nodejs.stream.readable"),A=O("nodejs.stream.writable"),N=O("nodejs.stream.disturbed"),L=O("nodejs.webstream.isClosedPromise"),F=O("nodejs.webstream.controllerErrorFunction");function C(v,W=!1){var z;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(z=v._readableState)||void 0===z?void 0:z.readable)||v._writableState&&!v._readableState)}function Y(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function te(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function ee(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function q(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ie(v){if(!G(v))return null;const Q=v._writableState||v._readableState;return!!(v.destroyed||v[X]||null!=Q&&Q.destroyed)}function re(v){if(!Y(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function pe(v,W){if(!C(v))return null;const z=v._readableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.endEmitted?null:!!(z.endEmitted||!1===W&&!0===z.ended&&0===z.length))}function we(v){return v&&null!=v[R]?v[R]:"boolean"!=typeof v?.readable?null:!ie(v)&&C(v)&&v.readable&&!pe(v)}function Me(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.writable?null:!ie(v)&&Y(v)&&v.writable&&!re(v)}function p(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function x(v){return"boolean"==typeof v._sent100&&p(v)}Ne.exports={isDestroyed:ie,kIsDestroyed:X,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[N])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:N,isErrored:function d(v){var W,z,Q,de,xe,Ie,Le,ve,ye,ke;return!(!v||!(null!==(W=null!==(z=null!==(Q=null!==(de=null!==(xe=null!==(Ie=v[_])&&void 0!==Ie?Ie:v.readableErrored)&&void 0!==xe?xe:v.writableErrored)&&void 0!==de?de:null===(Le=v._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==Q?Q:null===(ve=v._writableState)||void 0===ve?void 0:ve.errorEmitted)&&void 0!==z?z:null===(ye=v._readableState)||void 0===ye?void 0:ye.errored)&&void 0!==W?W:null!==(ke=v._writableState)&&void 0!==ke&&ke.errored))},kIsErrored:_,isReadable:we,kIsReadable:R,kIsClosedPromise:L,kControllerErrorFunction:F,kIsWritable:A,isClosed:function m(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,z=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof z?.closed?W?.closed||z?.closed:"boolean"==typeof v._closed&&p(v)?v._closed:null},isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function k(v,W){return G(v)?!!ie(v)||!(!1!==W?.readable&&we(v)||!1!==W?.writable&&Me(v)):null},isIterable:function ne(v,W){return null!=v&&(!0===W?"function"==typeof v[g]:!1===W?"function"==typeof v[w]:"function"==typeof v[g]||"function"==typeof v[w])},isReadableNodeStream:C,isReadableStream:te,isReadableEnded:function se(v){if(!C(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:pe,isReadableErrored:function h(v){var W,z;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(z=v._readableState)||void 0===z?void 0:z.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function J(v){return te(v)||ee(v)||q(v)},isWritable:Me,isWritableNodeStream:Y,isWritableStream:ee,isWritableEnded:re,isWritableFinished:function ce(v,W){if(!Y(v))return null;if(!0===v.writableFinished)return!0;const z=v._writableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.finished?null:!!(z.finished||!1===W&&!0===z.ended&&0===z.length))},isWritableErrored:function l(v){var W,z;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(z=v._writableState)||void 0===z?void 0:z.errored)&&void 0!==W?W:null:null},isServerRequest:function D(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:x,willEmitClose:function B(v){if(!G(v))return null;const Q=v._writableState||v._readableState;return!Q&&x(v)||!!(Q&&Q.autoDestroy&&Q.emitClose&&!1===Q.closed)},isTransformStream:q}},30009:(Ne,V,E)=>{const g=E(40573),{ArrayPrototypeSlice:w,Error:O,FunctionPrototypeSymbolHasInstance:X,ObjectDefineProperty:_,ObjectDefineProperties:R,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:N,Symbol:L,SymbolHasInstance:F}=E(56389);Ne.exports=x,x.WritableState=m;const{EventEmitter:C}=E(44356),Y=E(91242).Stream,{Buffer:j}=E(68316),G=E(96507),{addAbortSignal:te}=E(57062),{getHighWaterMark:ee,getDefaultHighWaterMark:q}=E(18212),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:re,ERR_STREAM_DESTROYED:ce,ERR_STREAM_ALREADY_FINISHED:se,ERR_STREAM_NULL_VALUES:pe,ERR_STREAM_WRITE_AFTER_END:we,ERR_UNKNOWN_ENCODING:Me}=E(68154).codes,{errorOrDestroy:k}=G;function l(){}A(x.prototype,Y.prototype),A(x,Y);const h=L("kOnFinished");function m(fe,he,ae){"boolean"!=typeof ae&&(ae=he instanceof E(13323)),this.objectMode=!(!fe||!fe.objectMode),ae&&(this.objectMode=this.objectMode||!(!fe||!fe.writableObjectMode)),this.highWaterMark=fe?ee(this,fe,"writableHighWaterMark",ae):q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(fe&&!1===fe.decodeStrings),this.defaultEncoding=fe&&fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!fe||!1!==fe.emitClose,this.autoDestroy=!fe||!1!==fe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function p(fe){fe.buffered=[],fe.bufferedIndex=0,fe.allBuffers=!0,fe.allNoop=!0}function x(fe){const he=this instanceof E(13323);if(!he&&!X(x,this))return new x(fe);this._writableState=new m(fe,this,he),fe&&("function"==typeof fe.write&&(this._write=fe.write),"function"==typeof fe.writev&&(this._writev=fe.writev),"function"==typeof fe.destroy&&(this._destroy=fe.destroy),"function"==typeof fe.final&&(this._final=fe.final),"function"==typeof fe.construct&&(this._construct=fe.construct),fe.signal&&te(fe.signal,this)),Y.call(this,fe),G.construct(this,()=>{const ae=this._writableState;ae.writing||de(this,ae),ve(this,ae)})}function D(fe,he,ae,ue){const ge=fe._writableState;if("function"==typeof ae)ue=ae,ae=ge.defaultEncoding;else{if(ae){if("buffer"!==ae&&!j.isEncoding(ae))throw new Me(ae)}else ae=ge.defaultEncoding;"function"!=typeof ue&&(ue=l)}if(null===he)throw new pe;if(!ge.objectMode)if("string"==typeof he)!1!==ge.decodeStrings&&(he=j.from(he,ae),ae="buffer");else if(he instanceof j)ae="buffer";else{if(!Y._isUint8Array(he))throw new J("chunk",["string","Buffer","Uint8Array"],he);he=Y._uint8ArrayToBuffer(he),ae="buffer"}let Ae;return ge.ending?Ae=new we:ge.destroyed&&(Ae=new ce("write")),Ae?(g.nextTick(ue,Ae),k(fe,Ae,!0),Ae):(ge.pendingcb++,function B(fe,he,ae,ue,ge){const Ae=he.objectMode?1:ae.length;he.length+=Ae;const Ue=he.length<he.highWaterMark;return Ue||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ae,encoding:ue,callback:ge}),he.allBuffers&&"buffer"!==ue&&(he.allBuffers=!1),he.allNoop&&ge!==l&&(he.allNoop=!1)):(he.writelen=Ae,he.writecb=ge,he.writing=!0,he.sync=!0,fe._write(ae,ue,he.onwrite),he.sync=!1),Ue&&!he.errored&&!he.destroyed}(fe,ge,he,ae,ue))}function M(fe,he,ae,ue,ge,Ae,Ue){he.writelen=ue,he.writecb=Ue,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ce("write")):ae?fe._writev(ge,he.onwrite):fe._write(ge,Ae,he.onwrite),he.sync=!1}function d(fe,he,ae,ue){--he.pendingcb,ue(ae),Q(he),k(fe,ae)}function v(fe,he){const ae=fe._writableState,ue=ae.sync,ge=ae.writecb;"function"==typeof ge?(ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0,he?(ae.errored||(ae.errored=he),fe._readableState&&!fe._readableState.errored&&(fe._readableState.errored=he),ue?g.nextTick(d,fe,ae,he,ge):d(fe,ae,he,ge)):(ae.buffered.length>ae.bufferedIndex&&de(fe,ae),ue?null!==ae.afterWriteTickInfo&&ae.afterWriteTickInfo.cb===ge?ae.afterWriteTickInfo.count++:(ae.afterWriteTickInfo={count:1,cb:ge,stream:fe,state:ae},g.nextTick(W,ae.afterWriteTickInfo)):z(fe,ae,1,ge))):k(fe,new ie)}function W({stream:fe,state:he,count:ae,cb:ue}){return he.afterWriteTickInfo=null,z(fe,he,ae,ue)}function z(fe,he,ae,ue){for(!he.ending&&!fe.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,fe.emit("drain"));ae-- >0;)he.pendingcb--,ue();he.destroyed&&Q(he),ve(fe,he)}function Q(fe){if(fe.writing)return;for(let ge=fe.bufferedIndex;ge<fe.buffered.length;++ge){var he;const{chunk:Ae,callback:Ue}=fe.buffered[ge];fe.length-=fe.objectMode?1:Ae.length,Ue(null!==(he=fe.errored)&&void 0!==he?he:new ce("write"))}const ae=fe[h].splice(0);for(let ge=0;ge<ae.length;ge++){var ue;ae[ge](null!==(ue=fe.errored)&&void 0!==ue?ue:new ce("end"))}p(fe)}function de(fe,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:ae,bufferedIndex:ue,objectMode:ge}=he,Ae=ae.length-ue;if(!Ae)return;let Ue=ue;if(he.bufferProcessing=!0,Ae>1&&fe._writev){he.pendingcb-=Ae-1;const Ve=he.allNoop?l:It=>{for(let qe=Ue;qe<ae.length;++qe)ae[qe].callback(It)},ze=he.allNoop&&0===Ue?ae:w(ae,Ue);ze.allBuffers=he.allBuffers,M(fe,he,!0,he.length,ze,"",Ve),p(he)}else{do{const{chunk:Ve,encoding:ze,callback:It}=ae[Ue];ae[Ue++]=null,M(fe,he,!1,ge?1:Ve.length,Ve,ze,It)}while(Ue<ae.length&&!he.writing);Ue===ae.length?p(he):Ue>256?(ae.splice(0,Ue),he.bufferedIndex=0):he.bufferedIndex=Ue}he.bufferProcessing=!1}function xe(fe){return fe.ending&&!fe.destroyed&&fe.constructed&&0===fe.length&&!fe.errored&&0===fe.buffered.length&&!fe.finished&&!fe.writing&&!fe.errorEmitted&&!fe.closeEmitted}function ve(fe,he,ae){xe(he)&&(function Le(fe,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof fe._final||he.destroyed?(he.prefinished=!0,fe.emit("prefinish")):(he.finalCalled=!0,function Ie(fe,he){let ae=!1;function ue(ge){if(ae)k(fe,ge??ie());else if(ae=!0,he.pendingcb--,ge){const Ae=he[h].splice(0);for(let Ue=0;Ue<Ae.length;Ue++)Ae[Ue](ge);k(fe,ge,he.sync)}else xe(he)&&(he.prefinished=!0,fe.emit("prefinish"),he.pendingcb++,g.nextTick(ye,fe,he))}he.sync=!0,he.pendingcb++;try{fe._final(ue)}catch(ge){ue(ge)}he.sync=!1}(fe,he)))}(fe,he),0===he.pendingcb&&(ae?(he.pendingcb++,g.nextTick((ue,ge)=>{xe(ge)?ye(ue,ge):ge.pendingcb--},fe,he)):xe(he)&&(he.pendingcb++,ye(fe,he))))}function ye(fe,he){he.pendingcb--,he.finished=!0;const ae=he[h].splice(0);for(let ue=0;ue<ae.length;ue++)ae[ue]();if(fe.emit("finish"),he.autoDestroy){const ue=fe._readableState;(!ue||ue.autoDestroy&&(ue.endEmitted||!1===ue.readable))&&fe.destroy()}}m.prototype.getBuffer=function(){return w(this.buffered,this.bufferedIndex)},_(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),_(x,F,{__proto__:null,value:function(fe){return!!X(this,fe)||this===x&&fe&&fe._writableState instanceof m}}),x.prototype.pipe=function(){k(this,new re)},x.prototype.write=function(fe,he,ae){return!0===D(this,fe,he,ae)},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){const fe=this._writableState;fe.corked&&(fe.corked--,fe.writing||de(this,fe))},x.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=N(he)),!j.isEncoding(he))throw new Me(he);return this._writableState.defaultEncoding=he,this},x.prototype._write=function(fe,he,ae){if(!this._writev)throw new ne("_write()");this._writev([{chunk:fe,encoding:he}],ae)},x.prototype._writev=null,x.prototype.end=function(fe,he,ae){const ue=this._writableState;let ge;if("function"==typeof fe?(ae=fe,fe=null,he=null):"function"==typeof he&&(ae=he,he=null),null!=fe){const Ae=D(this,fe,he);Ae instanceof O&&(ge=Ae)}return ue.corked&&(ue.corked=1,this.uncork()),ge||(ue.errored||ue.ending?ue.finished?ge=new se("end"):ue.destroyed&&(ge=new ce("end")):(ue.ending=!0,ve(this,ue,!0),ue.ended=!0)),"function"==typeof ae&&(ge||ue.finished?g.nextTick(ae,ge):ue[h].push(ae)),this},R(x.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(fe){this._writableState&&(this._writableState.destroyed=fe)}},writable:{__proto__:null,get(){const fe=this._writableState;return!(!fe||!1===fe.writable||fe.destroyed||fe.errored||fe.ending||fe.ended)},set(fe){this._writableState&&(this._writableState.writable=!!fe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const fe=this._writableState;return!!fe&&!fe.destroyed&&!fe.ending&&fe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const ke=G.destroy;let me;function Ee(){return void 0===me&&(me={}),me}x.prototype.destroy=function(fe,he){const ae=this._writableState;return!ae.destroyed&&(ae.bufferedIndex<ae.buffered.length||ae[h].length)&&g.nextTick(Q,ae),ke.call(this,fe,he),this},x.prototype._undestroy=G.undestroy,x.prototype._destroy=function(fe,he){he(fe)},x.prototype[C.captureRejectionSymbol]=function(fe){this.destroy(fe)},x.fromWeb=function(fe,he){return Ee().newStreamWritableFromWritableStream(fe,he)},x.toWeb=function(fe){return Ee().newWritableStreamFromStreamWritable(fe)}},99852:(Ne,V,E)=>{"use strict";const{ArrayIsArray:g,ArrayPrototypeIncludes:w,ArrayPrototypeJoin:O,ArrayPrototypeMap:X,NumberIsInteger:_,NumberIsNaN:R,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:N,NumberParseInt:L,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:C,String:Y,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=E(56389),{hideStackFrames:te,codes:{ERR_SOCKET_BAD_PORT:ee,ERR_INVALID_ARG_TYPE:q,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:ne,ERR_UNKNOWN_SIGNAL:ie}}=E(68154),{normalizeEncoding:re}=E(13509),{isAsyncFunction:ce,isArrayBufferView:se}=E(13509).types,pe={},k=/^[0-7]+$/,m=te((Ue,Ve,ze=N,It=A)=>{if("number"!=typeof Ue)throw new q(Ve,"number",Ue);if(!_(Ue))throw new ne(Ve,"an integer",Ue);if(Ue<ze||Ue>It)throw new ne(Ve,`>= ${ze} && <= ${It}`,Ue)}),p=te((Ue,Ve,ze=-2147483648,It=2147483647)=>{if("number"!=typeof Ue)throw new q(Ve,"number",Ue);if(!_(Ue))throw new ne(Ve,"an integer",Ue);if(Ue<ze||Ue>It)throw new ne(Ve,`>= ${ze} && <= ${It}`,Ue)}),x=te((Ue,Ve,ze=!1)=>{if("number"!=typeof Ue)throw new q(Ve,"number",Ue);if(!_(Ue))throw new ne(Ve,"an integer",Ue);const It=ze?1:0,qe=4294967295;if(Ue<It||Ue>qe)throw new ne(Ve,`>= ${It} && <= ${qe}`,Ue)});function D(Ue,Ve){if("string"!=typeof Ue)throw new q(Ve,"string",Ue)}const M=te((Ue,Ve,ze)=>{if(!w(ze,Ue)){const qe="must be one of: "+O(X(ze,je=>"string"==typeof je?`'${je}'`:Y(je)),", ");throw new J(Ve,Ue,qe)}});function d(Ue,Ve){if("boolean"!=typeof Ue)throw new q(Ve,"boolean",Ue)}function v(Ue,Ve,ze){return null!=Ue&&F(Ue,Ve)?Ue[Ve]:ze}const W=te((Ue,Ve,ze=null)=>{const It=v(ze,"allowArray",!1),qe=v(ze,"allowFunction",!1);if(!v(ze,"nullable",!1)&&null===Ue||!It&&g(Ue)||"object"!=typeof Ue&&(!qe||"function"!=typeof Ue))throw new q(Ve,"Object",Ue)}),z=te((Ue,Ve)=>{if(null!=Ue&&"object"!=typeof Ue&&"function"!=typeof Ue)throw new q(Ve,"a dictionary",Ue)}),Q=te((Ue,Ve,ze=0)=>{if(!g(Ue))throw new q(Ve,"Array",Ue);if(Ue.length<ze)throw new J(Ve,Ue,`must be longer than ${ze}`)}),ve=te((Ue,Ve="buffer")=>{if(!se(Ue))throw new q(Ve,["Buffer","TypedArray","DataView"],Ue)}),me=te((Ue,Ve)=>{if(void 0!==Ue&&(null===Ue||"object"!=typeof Ue||!("aborted"in Ue)))throw new q(Ve,"AbortSignal",Ue)}),Ee=te((Ue,Ve)=>{if("function"!=typeof Ue)throw new q(Ve,"Function",Ue)}),fe=te((Ue,Ve)=>{if("function"!=typeof Ue||ce(Ue))throw new q(Ve,"Function",Ue)}),he=te((Ue,Ve)=>{if(void 0!==Ue)throw new q(Ve,"undefined",Ue)}),ue=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ge(Ue,Ve){if(typeof Ue>"u"||!C(ue,Ue))throw new J(Ve,Ue,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ne.exports={isInt32:function we(Ue){return Ue===(0|Ue)},isUint32:function Me(Ue){return Ue===Ue>>>0},parseFileMode:function h(Ue,Ve,ze){if(typeof Ue>"u"&&(Ue=ze),"string"==typeof Ue){if(null===C(k,Ue))throw new J(Ve,Ue,"must be a 32-bit unsigned integer or an octal string");Ue=L(Ue,8)}return x(Ue,Ve),Ue},validateArray:Q,validateStringArray:function de(Ue,Ve){Q(Ue,Ve);for(let ze=0;ze<Ue.length;ze++)D(Ue[ze],`${Ve}[${ze}]`)},validateBooleanArray:function xe(Ue,Ve){Q(Ue,Ve);for(let ze=0;ze<Ue.length;ze++)d(Ue[ze],`${Ve}[${ze}]`)},validateAbortSignalArray:function Ie(Ue,Ve){Q(Ue,Ve);for(let ze=0;ze<Ue.length;ze++){const It=Ue[ze],qe=`${Ve}[${ze}]`;if(null==It)throw new q(qe,"AbortSignal",It);me(It,qe)}},validateBoolean:d,validateBuffer:ve,validateDictionary:z,validateEncoding:function ye(Ue,Ve){const ze=re(Ve),It=Ue.length;if("hex"===ze&&It%2!=0)throw new J("encoding",Ve,`is invalid for data of length ${It}`)},validateFunction:Ee,validateInt32:p,validateInteger:m,validateNumber:function B(Ue,Ve,ze=void 0,It){if("number"!=typeof Ue)throw new q(Ve,"number",Ue);if(null!=ze&&Ue<ze||null!=It&&Ue>It||(null!=ze||null!=It)&&R(Ue))throw new ne(Ve,`${null!=ze?`>= ${ze}`:""}${null!=ze&&null!=It?" && ":""}${null!=It?`<= ${It}`:""}`,Ue)},validateObject:W,validateOneOf:M,validatePlainFunction:fe,validatePort:function ke(Ue,Ve="Port",ze=!0){if("number"!=typeof Ue&&"string"!=typeof Ue||"string"==typeof Ue&&0===G(Ue).length||+Ue!=+Ue>>>0||Ue>65535||0===Ue&&!ze)throw new ee(Ve,Ue,ze);return 0|Ue},validateSignalName:function Le(Ue,Ve="signal"){if(D(Ue,Ve),void 0===pe[Ue])throw void 0!==pe[j(Ue)]?new ie(Ue+" (signals must use all capital letters)"):new ie(Ue)},validateString:D,validateUint32:x,validateUndefined:he,validateUnion:function ae(Ue,Ve,ze){if(!w(ze,Ue))throw new q(Ve,`('${O(ze,"|")}')`,Ue)},validateAbortSignal:me,validateLinkHeaderValue:function Ae(Ue){if("string"==typeof Ue)return ge(Ue,"hints"),Ue;if(g(Ue)){const Ve=Ue.length;let ze="";if(0===Ve)return ze;for(let It=0;It<Ve;It++){const qe=Ue[It];ge(qe,"hints"),ze+=qe,It!==Ve-1&&(ze+=", ")}return ze}throw new J("hints",Ue,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(Ne,V,E)=>{"use strict";const g=E(33885),w=E(74870),O=g.Readable.destroy;Ne.exports=g.Readable,Ne.exports._uint8ArrayToBuffer=g._uint8ArrayToBuffer,Ne.exports._isUint8Array=g._isUint8Array,Ne.exports.isDisturbed=g.isDisturbed,Ne.exports.isErrored=g.isErrored,Ne.exports.isReadable=g.isReadable,Ne.exports.Readable=g.Readable,Ne.exports.Writable=g.Writable,Ne.exports.Duplex=g.Duplex,Ne.exports.Transform=g.Transform,Ne.exports.PassThrough=g.PassThrough,Ne.exports.addAbortSignal=g.addAbortSignal,Ne.exports.finished=g.finished,Ne.exports.destroy=g.destroy,Ne.exports.destroy=O,Ne.exports.pipeline=g.pipeline,Ne.exports.compose=g.compose,Object.defineProperty(g,"promises",{configurable:!0,enumerable:!0,get:()=>w}),Ne.exports.Stream=g.Stream,Ne.exports.default=Ne.exports},68154:(Ne,V,E)=>{"use strict";const{format:g,inspect:w,AggregateError:O}=E(13509),X=globalThis.AggregateError||O,_=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,L={};function F(q,J){if(!q)throw new L.ERR_INTERNAL_ASSERTION(J)}function C(q){let J="",ne=q.length;const ie="-"===q[0]?1:0;for(;ne>=ie+4;ne-=3)J=`_${q.slice(ne-3,ne)}${J}`;return`${q.slice(0,ne)}${J}`}function j(q,J,ne){ne||(ne=Error);class ie extends ne{constructor(...ce){super(function Y(q,J,ne){if("function"==typeof J)return F(J.length<=ne.length,`Code: ${q}; The provided arguments length (${ne.length}) does not match the required ones (${J.length}).`),J(...ne);const ie=(J.match(/%[dfijoOs]/g)||[]).length;return F(ie===ne.length,`Code: ${q}; The provided arguments length (${ne.length}) does not match the required ones (${ie}).`),0===ne.length?J:g(J,...ne)}(q,J,ce))}toString(){return`${this.name} [${q}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:ne.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=q,ie.prototype[_]=!0,L[q]=ie}function G(q){return Object.defineProperty(q,"name",{value:"__node_internal_"+q.name}),q}class ee extends Error{constructor(J="The operation was aborted",ne=void 0){if(void 0!==ne&&"object"!=typeof ne)throw new L.ERR_INVALID_ARG_TYPE("options","Object",ne);super(J,ne),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(q,J,ne)=>{F("string"==typeof q,"'name' must be a string"),Array.isArray(J)||(J=[J]);let ie="The ";q.endsWith(" argument")?ie+=`${q} `:ie+=`"${q}" ${q.includes(".")?"property":"argument"} `,ie+="must be ";const re=[],ce=[],se=[];for(const we of J)F("string"==typeof we,"All expected entries have to be of type string"),R.includes(we)?re.push(we.toLowerCase()):A.test(we)?ce.push(we):(F("object"!==we,'The value "object" should be written as "Object"'),se.push(we));if(ce.length>0){const we=re.indexOf("object");-1!==we&&(re.splice(re,we,1),ce.push("Object"))}if(re.length>0){switch(re.length){case 1:ie+=`of type ${re[0]}`;break;case 2:ie+=`one of type ${re[0]} or ${re[1]}`;break;default:{const we=re.pop();ie+=`one of type ${re.join(", ")}, or ${we}`}}(ce.length>0||se.length>0)&&(ie+=" or ")}if(ce.length>0){switch(ce.length){case 1:ie+=`an instance of ${ce[0]}`;break;case 2:ie+=`an instance of ${ce[0]} or ${ce[1]}`;break;default:{const we=ce.pop();ie+=`an instance of ${ce.join(", ")}, or ${we}`}}se.length>0&&(ie+=" or ")}switch(se.length){case 0:break;case 1:se[0].toLowerCase()!==se[0]&&(ie+="an "),ie+=`${se[0]}`;break;case 2:ie+=`one of ${se[0]} or ${se[1]}`;break;default:{const we=se.pop();ie+=`one of ${se.join(", ")}, or ${we}`}}if(null==ne)ie+=`. Received ${ne}`;else if("function"==typeof ne&&ne.name)ie+=`. Received function ${ne.name}`;else if("object"==typeof ne){var pe;null!==(pe=ne.constructor)&&void 0!==pe&&pe.name?ie+=`. Received an instance of ${ne.constructor.name}`:ie+=`. Received ${w(ne,{depth:-1})}`}else{let we=w(ne,{colors:!1});we.length>25&&(we=`${we.slice(0,25)}...`),ie+=`. Received type ${typeof ne} (${we})`}return ie},TypeError),j("ERR_INVALID_ARG_VALUE",(q,J,ne="is invalid")=>{let ie=w(J);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${q.includes(".")?"property":"argument"} '${q}' ${ne}. Received ${ie}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(q,J,ne)=>{var ie;return`Expected ${q} to be returned from the "${J}" function but got ${null!=ne&&null!==(ie=ne.constructor)&&void 0!==ie&&ie.name?`instance of ${ne.constructor.name}`:"type "+typeof ne}.`},TypeError),j("ERR_MISSING_ARGS",(...q)=>{let J;F(q.length>0,"At least one arg needs to be specified");const ne=q.length;switch(q=(Array.isArray(q)?q:[q]).map(ie=>`"${ie}"`).join(" or "),ne){case 1:J+=`The ${q[0]} argument`;break;case 2:J+=`The ${q[0]} and ${q[1]} arguments`;break;default:{const ie=q.pop();J+=`The ${q.join(", ")}, and ${ie} arguments`}}return`${J} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(q,J,ne)=>{let ie;return F(J,'Missing "range" argument'),Number.isInteger(ne)&&Math.abs(ne)>2**32?ie=C(String(ne)):"bigint"==typeof ne?(ie=String(ne),(ne>2n**32n||ne<-(2n**32n))&&(ie=C(ie)),ie+="n"):ie=w(ne),`The value of "${q}" is out of range. It must be ${J}. Received ${ie}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ne.exports={AbortError:ee,aggregateTwoErrors:G(function te(q,J){if(q&&J&&q!==J){if(Array.isArray(J.errors))return J.errors.push(q),J;const ne=new X([J,q],J.message);return ne.code=J.code,ne}return q||J}),hideStackFrames:G,codes:L}},56389:Ne=>{"use strict";Ne.exports={ArrayIsArray:V=>Array.isArray(V),ArrayPrototypeIncludes:(V,E)=>V.includes(E),ArrayPrototypeIndexOf:(V,E)=>V.indexOf(E),ArrayPrototypeJoin:(V,E)=>V.join(E),ArrayPrototypeMap:(V,E)=>V.map(E),ArrayPrototypePop:(V,E)=>V.pop(E),ArrayPrototypePush:(V,E)=>V.push(E),ArrayPrototypeSlice:(V,E,g)=>V.slice(E,g),Error,FunctionPrototypeCall:(V,E,...g)=>V.call(E,...g),FunctionPrototypeSymbolHasInstance:(V,E)=>Function.prototype[Symbol.hasInstance].call(V,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(V,E)=>Object.defineProperties(V,E),ObjectDefineProperty:(V,E,g)=>Object.defineProperty(V,E,g),ObjectGetOwnPropertyDescriptor:(V,E)=>Object.getOwnPropertyDescriptor(V,E),ObjectKeys:V=>Object.keys(V),ObjectSetPrototypeOf:(V,E)=>Object.setPrototypeOf(V,E),Promise,PromisePrototypeCatch:(V,E)=>V.catch(E),PromisePrototypeThen:(V,E,g)=>V.then(E,g),PromiseReject:V=>Promise.reject(V),PromiseResolve:V=>Promise.resolve(V),ReflectApply:Reflect.apply,RegExpPrototypeTest:(V,E)=>V.test(E),SafeSet:Set,String,StringPrototypeSlice:(V,E,g)=>V.slice(E,g),StringPrototypeToLowerCase:V=>V.toLowerCase(),StringPrototypeToUpperCase:V=>V.toUpperCase(),StringPrototypeTrim:V=>V.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(V,E,g)=>V.set(E,g),Boolean,Uint8Array}},13509:(Ne,V,E)=>{"use strict";var g=E(29293).default;const w=E(68316),{kResistStopPropagation:O,SymbolDispose:X}=E(56389),_=globalThis.AbortSignal||E(9465).AbortSignal,R=globalThis.AbortController||E(9465).AbortController,A=Object.getPrototypeOf(g(function*(){})).constructor,N=globalThis.Blob||w.Blob,L=typeof N<"u"?function(G){return G instanceof N}:function(G){return!1},F=(j,G)=>{if(void 0!==j&&(null===j||"object"!=typeof j||!("aborted"in j)))throw new ERR_INVALID_ARG_TYPE(G,"AbortSignal",j)};class Y extends Error{constructor(G){if(!Array.isArray(G))throw new TypeError("Expected input to be an Array, got "+typeof G);let te="";for(let ee=0;ee<G.length;ee++)te+=`    ${G[ee].stack}\n`;super(te),this.name="AggregateError",this.errors=G}}Ne.exports={AggregateError:Y,kEmptyObject:Object.freeze({}),once(j){let G=!1;return function(...te){G||(G=!0,j.apply(this,te))}},createDeferredPromise:function(){let j,G;return{promise:new Promise((ee,q)=>{j=ee,G=q}),resolve:j,reject:G}},promisify:j=>new Promise((G,te)=>{j((ee,...q)=>ee?te(ee):G(...q))}),debuglog:()=>function(){},format:(j,...G)=>j.replace(/%([sdifj])/g,function(...[te,ee]){const q=G.shift();return"f"===ee?q.toFixed(6):"j"===ee?JSON.stringify(q):"s"===ee&&"object"==typeof q?`${q.constructor!==Object?q.constructor.name:""} {}`.trim():q.toString()}),inspect(j){switch(typeof j){case"string":if(j.includes("'")){if(!j.includes('"'))return`"${j}"`;if(!j.includes("`")&&!j.includes("${"))return`\`${j}\``}return`'${j}'`;case"number":return isNaN(j)?"NaN":Object.is(j,-0)?String(j):j;case"bigint":return`${String(j)}n`;case"boolean":case"undefined":return String(j);case"object":return"{}"}},types:{isAsyncFunction:j=>j instanceof A,isArrayBufferView:j=>ArrayBuffer.isView(j)},isBlob:L,deprecate:(j,G)=>j,addAbortListener:E(44356).addAbortListener||function(G,te){if(void 0===G)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",G);let ee;return F(G,"signal"),((j,G)=>{if("function"!=typeof j)throw new ERR_INVALID_ARG_TYPE("listener","Function",j)})(te),G.aborted?queueMicrotask(()=>te()):(G.addEventListener("abort",te,{__proto__:null,once:!0,[O]:!0}),ee=()=>{G.removeEventListener("abort",te)}),{__proto__:null,[X](){var q;null===(q=ee)||void 0===q||q()}}},AbortSignalAny:_.any||function(G){if(1===G.length)return G[0];const te=new R,ee=()=>te.abort();return G.forEach(q=>{F(q,"signals"),q.addEventListener("abort",ee,{once:!0})}),te.signal.addEventListener("abort",()=>{G.forEach(q=>q.removeEventListener("abort",ee))},{once:!0}),te.signal}},Ne.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(Ne,V,E)=>{const{Buffer:g}=E(68316),{ObjectDefineProperty:w,ObjectKeys:O,ReflectApply:X}=E(56389),{promisify:{custom:_}}=E(13509),{streamReturningOperators:R,promiseReturningOperators:A}=E(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(68154),L=E(373),{setDefaultHighWaterMark:F,getDefaultHighWaterMark:C}=E(18212),{pipeline:Y}=E(67843),{destroyer:j}=E(96507),G=E(46017),ee=E(74870),q=E(32924),J=Ne.exports=E(91242).Stream;J.isDestroyed=q.isDestroyed,J.isDisturbed=q.isDisturbed,J.isErrored=q.isErrored,J.isReadable=q.isReadable,J.isWritable=q.isWritable,J.Readable=E(84553);for(const re of O(R)){let se=function(...pe){if(new.target)throw N();return J.Readable.from(X(ce,this,pe))};const ce=R[re];w(se,"name",{__proto__:null,value:ce.name}),w(se,"length",{__proto__:null,value:ce.length}),w(J.Readable.prototype,re,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const re of O(A)){let se=function(...we){if(new.target)throw N();return X(ce,this,we)};const ce=A[re];w(se,"name",{__proto__:null,value:ce.name}),w(se,"length",{__proto__:null,value:ce.length}),w(J.Readable.prototype,re,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}J.Writable=E(30009),J.Duplex=E(13323),J.Transform=E(71981),J.PassThrough=E(59447),J.pipeline=Y;const{addAbortSignal:ne}=E(57062);J.addAbortSignal=ne,J.finished=G,J.destroy=j,J.compose=L,J.setDefaultHighWaterMark=F,J.getDefaultHighWaterMark=C,w(J,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>ee}),w(Y,_,{__proto__:null,enumerable:!0,get:()=>ee.pipeline}),w(G,_,{__proto__:null,enumerable:!0,get:()=>ee.finished}),J.Stream=J,J._isUint8Array=function(ce){return ce instanceof Uint8Array},J._uint8ArrayToBuffer=function(ce){return g.from(ce.buffer,ce.byteOffset,ce.byteLength)}},74870:(Ne,V,E)=>{"use strict";const{ArrayPrototypePop:g,Promise:w}=E(56389),{isIterable:O,isNodeStream:X,isWebStream:_}=E(32924),{pipelineImpl:R}=E(67843),{finished:A}=E(46017);E(33885),Ne.exports={finished:A,pipeline:function N(...L){return new w((F,C)=>{let Y,j;const G=L[L.length-1];if(G&&"object"==typeof G&&!X(G)&&!O(G)&&!_(G)){const te=g(L);Y=te.signal,j=te.end}R(L,(te,ee)=>{te?C(te):F(ee)},{signal:Y,end:j})})}}},94787:(Ne,V,E)=>{V.Level=E(23963).BrowserLevel},81447:Ne=>{var V=1e3,E=60*V,g=60*E,w=24*g,O=7*w;function N(L,F,C,Y){var j=F>=1.5*C;return Math.round(L/C)+" "+Y+(j?"s":"")}Ne.exports=function(L,F){F=F||{};var C=typeof L;if("string"===C&&L.length>0)return function _(L){if(!((L=String(L)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(F){var C=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*C;case"weeks":case"week":case"w":return C*O;case"days":case"day":case"d":return C*w;case"hours":case"hour":case"hrs":case"hr":case"h":return C*g;case"minutes":case"minute":case"mins":case"min":case"m":return C*E;case"seconds":case"second":case"secs":case"sec":case"s":return C*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}(L);if("number"===C&&isFinite(L))return F.long?function A(L){var F=Math.abs(L);return F>=w?N(L,F,w,"day"):F>=g?N(L,F,g,"hour"):F>=E?N(L,F,E,"minute"):F>=V?N(L,F,V,"second"):L+" ms"}(L):function R(L){var F=Math.abs(L);return F>=w?Math.round(L/w)+"d":F>=g?Math.round(L/g)+"h":F>=E?Math.round(L/E)+"m":F>=V?Math.round(L/V)+"s":L+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},1424:(Ne,V,E)=>{E(23963)},44514:Ne=>{var V=1e3,E=60*V,g=60*E,w=24*g,O=7*w;function N(L,F,C,Y){var j=F>=1.5*C;return Math.round(L/C)+" "+Y+(j?"s":"")}Ne.exports=function(L,F){F=F||{};var C=typeof L;if("string"===C&&L.length>0)return function _(L){if(!((L=String(L)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(F){var C=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*C;case"weeks":case"week":case"w":return C*O;case"days":case"day":case"d":return C*w;case"hours":case"hour":case"hrs":case"hr":case"h":return C*g;case"minutes":case"minute":case"mins":case"min":case"m":return C*E;case"seconds":case"second":case"secs":case"sec":case"s":return C*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}(L);if("number"===C&&isFinite(L))return F.long?function A(L){var F=Math.abs(L);return F>=w?N(L,F,w,"day"):F>=g?N(L,F,g,"hour"):F>=E?N(L,F,E,"minute"):F>=V?N(L,F,V,"second"):L+" ms"}(L):function R(L){var F=Math.abs(L);return F>=w?Math.round(L/w)+"d":F>=g?Math.round(L/g)+"h":F>=E?Math.round(L/E)+"m":F>=V?Math.round(L/V)+"s":L+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},89565:(Ne,V,E)=>{"use strict";const g=E(13981),w=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=A,V.SlowBuffer=function J($){return+$!=$&&($=0),A.alloc(+$)},V.INSPECT_MAX_BYTES=50;const X=2147483647;function R($){if($>X)throw new RangeError('The value "'+$+'" is invalid for option "size"');const T=new Uint8Array($);return Object.setPrototypeOf(T,A.prototype),T}function A($,T,S){if("number"==typeof $){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return C($)}return N($,T,S)}function N($,T,S){if("string"==typeof $)return function Y($,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!A.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const S=0|ne($,T);let Z=R(S);const le=Z.write($,T);return le!==S&&(Z=Z.slice(0,le)),Z}($,T);if(ArrayBuffer.isView($))return function G($){if(ze($,Uint8Array)){const T=new Uint8Array($);return te(T.buffer,T.byteOffset,T.byteLength)}return j($)}($);if(null==$)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(ze($,ArrayBuffer)||$&&ze($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze($,SharedArrayBuffer)||$&&ze($.buffer,SharedArrayBuffer)))return te($,T,S);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=$.valueOf&&$.valueOf();if(null!=Z&&Z!==$)return A.from(Z,T,S);const le=function ee($){if(A.isBuffer($)){const T=0|q($.length),S=R(T);return 0===S.length||$.copy(S,0,0,T),S}return void 0!==$.length?"number"!=typeof $.length||It($.length)?R(0):j($):"Buffer"===$.type&&Array.isArray($.data)?j($.data):void 0}($);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return A.from($[Symbol.toPrimitive]("string"),T,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function L($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function C($){return L($),R($<0?0:0|q($))}function j($){const T=$.length<0?0:0|q($.length),S=R(T);for(let Z=0;Z<T;Z+=1)S[Z]=255&$[Z];return S}function te($,T,S){if(T<0||$.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<T+(S||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return Z=void 0===T&&void 0===S?new Uint8Array($):void 0===S?new Uint8Array($,T):new Uint8Array($,T,S),Object.setPrototypeOf(Z,A.prototype),Z}function q($){if($>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|$}function ne($,T){if(A.isBuffer($))return $.length;if(ArrayBuffer.isView($)||ze($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const S=$.length,Z=arguments.length>2&&!0===arguments[2];if(!Z&&0===S)return 0;let le=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return ue($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return Ue($).length;default:if(le)return Z?-1:ue($).length;T=(""+T).toLowerCase(),le=!0}}function ie($,T,S){let Z=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(T>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return M(this,T,S);case"utf8":case"utf-8":return m(this,T,S);case"ascii":return D(this,T,S);case"latin1":case"binary":return B(this,T,S);case"base64":return h(this,T,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,T,S);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}function re($,T,S){const Z=$[T];$[T]=$[S],$[S]=Z}function ce($,T,S,Z,le){if(0===$.length)return-1;if("string"==typeof S?(Z=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),It(S=+S)&&(S=le?0:$.length-1),S<0&&(S=$.length+S),S>=$.length){if(le)return-1;S=$.length-1}else if(S<0){if(!le)return-1;S=0}if("string"==typeof T&&(T=A.from(T,Z)),A.isBuffer(T))return 0===T.length?-1:se($,T,S,Z,le);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call($,T,S):Uint8Array.prototype.lastIndexOf.call($,T,S):se($,[T],S,Z,le);throw new TypeError("val must be string, number or Buffer")}function se($,T,S,Z,le){let ft,De=1,Oe=$.length,Qe=T.length;if(void 0!==Z&&("ucs2"===(Z=String(Z).toLowerCase())||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if($.length<2||T.length<2)return-1;De=2,Oe/=2,Qe/=2,S/=2}function Nt(St,Lt){return 1===De?St[Lt]:St.readUInt16BE(Lt*De)}if(le){let St=-1;for(ft=S;ft<Oe;ft++)if(Nt($,ft)===Nt(T,-1===St?0:ft-St)){if(-1===St&&(St=ft),ft-St+1===Qe)return St*De}else-1!==St&&(ft-=ft-St),St=-1}else for(S+Qe>Oe&&(S=Oe-Qe),ft=S;ft>=0;ft--){let St=!0;for(let Lt=0;Lt<Qe;Lt++)if(Nt($,ft+Lt)!==Nt(T,Lt)){St=!1;break}if(St)return ft}return-1}function pe($,T,S,Z){S=Number(S)||0;const le=$.length-S;Z?(Z=Number(Z))>le&&(Z=le):Z=le;const De=T.length;let Oe;for(Z>De/2&&(Z=De/2),Oe=0;Oe<Z;++Oe){const Qe=parseInt(T.substr(2*Oe,2),16);if(It(Qe))return Oe;$[S+Oe]=Qe}return Oe}function we($,T,S,Z){return Ve(ue(T,$.length-S),$,S,Z)}function Me($,T,S,Z){return Ve(function ge($){const T=[];for(let S=0;S<$.length;++S)T.push(255&$.charCodeAt(S));return T}(T),$,S,Z)}function k($,T,S,Z){return Ve(Ue(T),$,S,Z)}function l($,T,S,Z){return Ve(function Ae($,T){let S,Z,le;const De=[];for(let Oe=0;Oe<$.length&&!((T-=2)<0);++Oe)S=$.charCodeAt(Oe),Z=S>>8,le=S%256,De.push(le),De.push(Z);return De}(T,$.length-S),$,S,Z)}function h($,T,S){return g.fromByteArray(0===T&&S===$.length?$:$.slice(T,S))}function m($,T,S){S=Math.min($.length,S);const Z=[];let le=T;for(;le<S;){const De=$[le];let Oe=null,Qe=De>239?4:De>223?3:De>191?2:1;if(le+Qe<=S){let Nt,ft,St,Lt;switch(Qe){case 1:De<128&&(Oe=De);break;case 2:Nt=$[le+1],128==(192&Nt)&&(Lt=(31&De)<<6|63&Nt,Lt>127&&(Oe=Lt));break;case 3:Nt=$[le+1],ft=$[le+2],128==(192&Nt)&&128==(192&ft)&&(Lt=(15&De)<<12|(63&Nt)<<6|63&ft,Lt>2047&&(Lt<55296||Lt>57343)&&(Oe=Lt));break;case 4:Nt=$[le+1],ft=$[le+2],St=$[le+3],128==(192&Nt)&&128==(192&ft)&&128==(192&St)&&(Lt=(15&De)<<18|(63&Nt)<<12|(63&ft)<<6|63&St,Lt>65535&&Lt<1114112&&(Oe=Lt))}}null===Oe?(Oe=65533,Qe=1):Oe>65535&&(Oe-=65536,Z.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),Z.push(Oe),le+=Qe}return function x($){const T=$.length;if(T<=p)return String.fromCharCode.apply(String,$);let S="",Z=0;for(;Z<T;)S+=String.fromCharCode.apply(String,$.slice(Z,Z+=p));return S}(Z)}V.kMaxLength=X,!(A.TYPED_ARRAY_SUPPORT=function _(){try{const $=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf($,T),42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function($,T,S){return N($,T,S)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function($,T,S){return function F($,T,S){return L($),$<=0?R($):void 0!==T?"string"==typeof S?R($).fill(T,S):R($).fill(T):R($)}($,T,S)},A.allocUnsafe=function($){return C($)},A.allocUnsafeSlow=function($){return C($)},A.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==A.prototype},A.compare=function(T,S){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),ze(S,Uint8Array)&&(S=A.from(S,S.offset,S.byteLength)),!A.isBuffer(T)||!A.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===S)return 0;let Z=T.length,le=S.length;for(let De=0,Oe=Math.min(Z,le);De<Oe;++De)if(T[De]!==S[De]){Z=T[De],le=S[De];break}return Z<le?-1:le<Z?1:0},A.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(T,S){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return A.alloc(0);let Z;if(void 0===S)for(S=0,Z=0;Z<T.length;++Z)S+=T[Z].length;const le=A.allocUnsafe(S);let De=0;for(Z=0;Z<T.length;++Z){let Oe=T[Z];if(ze(Oe,Uint8Array))De+Oe.length>le.length?(A.isBuffer(Oe)||(Oe=A.from(Oe)),Oe.copy(le,De)):Uint8Array.prototype.set.call(le,Oe,De);else{if(!A.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(le,De)}De+=Oe.length}return le},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<T;S+=2)re(this,S,S+1);return this},A.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<T;S+=4)re(this,S,S+3),re(this,S+1,S+2);return this},A.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<T;S+=8)re(this,S,S+7),re(this,S+1,S+6),re(this,S+2,S+5),re(this,S+3,S+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ie.apply(this,arguments)},A.prototype.equals=function(T){if(!A.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===A.compare(this,T)},A.prototype.inspect=function(){let T="";const S=V.INSPECT_MAX_BYTES;return T=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(T+=" ... "),"<Buffer "+T+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(T,S,Z,le,De){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),!A.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===S&&(S=0),void 0===Z&&(Z=T?T.length:0),void 0===le&&(le=0),void 0===De&&(De=this.length),S<0||Z>T.length||le<0||De>this.length)throw new RangeError("out of range index");if(le>=De&&S>=Z)return 0;if(le>=De)return-1;if(S>=Z)return 1;if(this===T)return 0;let Oe=(De>>>=0)-(le>>>=0),Qe=(Z>>>=0)-(S>>>=0);const Nt=Math.min(Oe,Qe),ft=this.slice(le,De),St=T.slice(S,Z);for(let Lt=0;Lt<Nt;++Lt)if(ft[Lt]!==St[Lt]){Oe=ft[Lt],Qe=St[Lt];break}return Oe<Qe?-1:Qe<Oe?1:0},A.prototype.includes=function(T,S,Z){return-1!==this.indexOf(T,S,Z)},A.prototype.indexOf=function(T,S,Z){return ce(this,T,S,Z,!0)},A.prototype.lastIndexOf=function(T,S,Z){return ce(this,T,S,Z,!1)},A.prototype.write=function(T,S,Z,le){if(void 0===S)le="utf8",Z=this.length,S=0;else if(void 0===Z&&"string"==typeof S)le=S,Z=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(Z)?(Z>>>=0,void 0===le&&(le="utf8")):(le=Z,Z=void 0)}const De=this.length-S;if((void 0===Z||Z>De)&&(Z=De),T.length>0&&(Z<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Oe=!1;for(;;)switch(le){case"hex":return pe(this,T,S,Z);case"utf8":case"utf-8":return we(this,T,S,Z);case"ascii":case"latin1":case"binary":return Me(this,T,S,Z);case"base64":return k(this,T,S,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,T,S,Z);default:if(Oe)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Oe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode(127&$[le]);return Z}function B($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode($[le]);return Z}function M($,T,S){const Z=$.length;(!T||T<0)&&(T=0),(!S||S<0||S>Z)&&(S=Z);let le="";for(let De=T;De<S;++De)le+=qe[$[De]];return le}function d($,T,S){const Z=$.slice(T,S);let le="";for(let De=0;De<Z.length-1;De+=2)le+=String.fromCharCode(Z[De]+256*Z[De+1]);return le}function v($,T,S){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+T>S)throw new RangeError("Trying to access beyond buffer length")}function W($,T,S,Z,le,De){if(!A.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>le||T<De)throw new RangeError('"value" argument is out of bounds');if(S+Z>$.length)throw new RangeError("Index out of range")}function z($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,S}function Q($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S+7]=De,De>>=8,$[S+6]=De,De>>=8,$[S+5]=De,De>>=8,$[S+4]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S+3]=Oe,Oe>>=8,$[S+2]=Oe,Oe>>=8,$[S+1]=Oe,Oe>>=8,$[S]=Oe,S+8}function de($,T,S,Z,le,De){if(S+Z>$.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function xe($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,4),w.write($,T,S,Z,23,4),S+4}function Ie($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,8),w.write($,T,S,Z,52,8),S+8}A.prototype.slice=function(T,S){const Z=this.length;(T=~~T)<0?(T+=Z)<0&&(T=0):T>Z&&(T=Z),(S=void 0===S?Z:~~S)<0?(S+=Z)<0&&(S=0):S>Z&&(S=Z),S<T&&(S=T);const le=this.subarray(T,S);return Object.setPrototypeOf(le,A.prototype),le},A.prototype.readUintLE=A.prototype.readUIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return le},A.prototype.readUintBE=A.prototype.readUIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T+--S],De=1;for(;S>0&&(De*=256);)le+=this[T+--S]*De;return le},A.prototype.readUint8=A.prototype.readUInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),this[T]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]|this[T+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]<<8|this[T+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},A.prototype.readBigUInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S+256*this[++T]+65536*this[++T]+this[++T]*2**24,De=this[++T]+256*this[++T]+65536*this[++T]+Z*2**24;return BigInt(le)+(BigInt(De)<<BigInt(32))}),A.prototype.readBigUInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S*2**24+65536*this[++T]+256*this[++T]+this[++T],De=this[++T]*2**24+65536*this[++T]+256*this[++T]+Z;return(BigInt(le)<<BigInt(32))+BigInt(De)}),A.prototype.readIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return De*=128,le>=De&&(le-=Math.pow(2,8*S)),le},A.prototype.readIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=S,De=1,Oe=this[T+--le];for(;le>0&&(De*=256);)Oe+=this[T+--le]*De;return De*=128,Oe>=De&&(Oe-=Math.pow(2,8*S)),Oe},A.prototype.readInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},A.prototype.readInt16LE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T]|this[T+1]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt16BE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T+1]|this[T]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},A.prototype.readInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},A.prototype.readBigInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];return(void 0===S||void 0===Z)&&fe(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Z<<24))<<BigInt(32))+BigInt(S+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),A.prototype.readBigInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=(S<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(le)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Z)}),A.prototype.readFloatLE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!0,23,4)},A.prototype.readFloatBE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!1,23,4)},A.prototype.readDoubleLE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!0,52,8)},A.prototype.readDoubleBE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=1,Oe=0;for(this[S]=255&T;++Oe<Z&&(De*=256);)this[S+Oe]=T/De&255;return S+Z},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=Z-1,Oe=1;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)this[S+De]=T/Oe&255;return S+Z},A.prototype.writeUint8=A.prototype.writeUInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,255,0),this[S]=255&T,S+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S+3]=T>>>24,this[S+2]=T>>>16,this[S+1]=T>>>8,this[S]=255&T,S+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigUInt64LE=je(function(T,S=0){return z(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=je(function(T,S=0){return Q(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=0,Oe=1,Qe=0;for(this[S]=255&T;++De<Z&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De-1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeIntBE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=Z-1,Oe=1,Qe=0;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De+1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,127,-128),T<0&&(T=255+T+1),this[S]=255&T,S+1},A.prototype.writeInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),this[S]=255&T,this[S+1]=T>>>8,this[S+2]=T>>>16,this[S+3]=T>>>24,S+4},A.prototype.writeInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigInt64LE=je(function(T,S=0){return z(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=je(function(T,S=0){return Q(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(T,S,Z){return xe(this,T,S,!0,Z)},A.prototype.writeFloatBE=function(T,S,Z){return xe(this,T,S,!1,Z)},A.prototype.writeDoubleLE=function(T,S,Z){return Ie(this,T,S,!0,Z)},A.prototype.writeDoubleBE=function(T,S,Z){return Ie(this,T,S,!1,Z)},A.prototype.copy=function(T,S,Z,le){if(!A.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!le&&0!==le&&(le=this.length),S>=T.length&&(S=T.length),S||(S=0),le>0&&le<Z&&(le=Z),le===Z||0===T.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),T.length-S<le-Z&&(le=T.length-S+Z);const De=le-Z;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,Z,le):Uint8Array.prototype.set.call(T,this.subarray(Z,le),S),De},A.prototype.fill=function(T,S,Z,le){if("string"==typeof T){if("string"==typeof S?(le=S,S=0,Z=this.length):"string"==typeof Z&&(le=Z,Z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!A.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===T.length){const Oe=T.charCodeAt(0);("utf8"===le&&Oe<128||"latin1"===le)&&(T=Oe)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(S<0||this.length<S||this.length<Z)throw new RangeError("Out of range index");if(Z<=S)return this;let De;if(S>>>=0,Z=void 0===Z?this.length:Z>>>0,T||(T=0),"number"==typeof T)for(De=S;De<Z;++De)this[De]=T;else{const Oe=A.isBuffer(T)?T:A.from(T,le),Qe=Oe.length;if(0===Qe)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(De=0;De<Z-S;++De)this[De+S]=Oe[De%Qe]}return this};const Le={};function ve($,T,S){Le[$]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,delete this.name}get code(){return $}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function ye($){let T="",S=$.length;const Z="-"===$[0]?1:0;for(;S>=Z+4;S-=3)T=`_${$.slice(S-3,S)}${T}`;return`${$.slice(0,S)}${T}`}function me($,T,S,Z,le,De){if($>S||$<T){const Oe="bigint"==typeof T?"n":"";let Qe;throw Qe=De>3?0===T||T===BigInt(0)?`>= 0${Oe} and < 2${Oe} ** ${8*(De+1)}${Oe}`:`>= -(2${Oe} ** ${8*(De+1)-1}${Oe}) and < 2 ** ${8*(De+1)-1}${Oe}`:`>= ${T}${Oe} and <= ${S}${Oe}`,new Le.ERR_OUT_OF_RANGE("value",Qe,$)}!function ke($,T,S){Ee(T,"offset"),(void 0===$[T]||void 0===$[T+S])&&fe(T,$.length-(S+1))}(Z,le,De)}function Ee($,T){if("number"!=typeof $)throw new Le.ERR_INVALID_ARG_TYPE(T,"number",$)}function fe($,T,S){throw Math.floor($)!==$?(Ee($,S),new Le.ERR_OUT_OF_RANGE(S||"offset","an integer",$)):T<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${T}`,$)}ve("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function($,T){return`The "${$}" argument must be of type number. Received type ${typeof T}`},TypeError),ve("ERR_OUT_OF_RANGE",function($,T,S){let Z=`The value of "${$}" is out of range.`,le=S;return Number.isInteger(S)&&Math.abs(S)>2**32?le=ye(String(S)):"bigint"==typeof S&&(le=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(le=ye(le)),le+="n"),Z+=` It must be ${T}. Received ${le}`,Z},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function ue($,T){let S;T=T||1/0;const Z=$.length;let le=null;const De=[];for(let Oe=0;Oe<Z;++Oe){if(S=$.charCodeAt(Oe),S>55295&&S<57344){if(!le){if(S>56319){(T-=3)>-1&&De.push(239,191,189);continue}if(Oe+1===Z){(T-=3)>-1&&De.push(239,191,189);continue}le=S;continue}if(S<56320){(T-=3)>-1&&De.push(239,191,189),le=S;continue}S=65536+(le-55296<<10|S-56320)}else le&&(T-=3)>-1&&De.push(239,191,189);if(le=null,S<128){if((T-=1)<0)break;De.push(S)}else if(S<2048){if((T-=2)<0)break;De.push(S>>6|192,63&S|128)}else if(S<65536){if((T-=3)<0)break;De.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;De.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return De}function Ue($){return g.toByteArray(function ae($){if(($=($=$.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function Ve($,T,S,Z){let le;for(le=0;le<Z&&!(le+S>=T.length||le>=$.length);++le)T[le+S]=$[le];return le}function ze($,T){return $ instanceof T||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===T.name}function It($){return $!=$}const qe=function(){const $="0123456789abcdef",T=new Array(256);for(let S=0;S<16;++S){const Z=16*S;for(let le=0;le<16;++le)T[Z+le]=$[S]+$[le]}return T}();function je($){return typeof BigInt>"u"?ut:$}function ut(){throw new Error("BigInt not supported")}},24785:(Ne,V,E)=>{"use strict";const{AbortError:g,codes:w}=E(65109),{isNodeStream:O,isWebStream:X,kControllerErrorFunction:_}=E(51233),R=E(44268),{ERR_INVALID_ARG_TYPE:A}=w;Ne.exports.addAbortSignal=function(F,C){if(((L,F)=>{if("object"!=typeof L||!("aborted"in L))throw new A("signal","AbortSignal",L)})(F),!O(C)&&!X(C))throw new A("stream",["ReadableStream","WritableStream","Stream"],C);return Ne.exports.addAbortSignalNoValidate(F,C)},Ne.exports.addAbortSignalNoValidate=function(L,F){if("object"!=typeof L||!("aborted"in L))return F;const C=O(F)?()=>{F.destroy(new g(void 0,{cause:L.reason}))}:()=>{F[_](new g(void 0,{cause:L.reason}))};return L.aborted?C():(L.addEventListener("abort",C),R(F,()=>L.removeEventListener("abort",C))),F}},58579:(Ne,V,E)=>{"use strict";const{StringPrototypeSlice:g,SymbolIterator:w,TypedArrayPrototypeSet:O,Uint8Array:X}=E(43856),{Buffer:_}=E(89565),{inspect:R}=E(55830);Ne.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const L={data:N,next:null};this.length>0?this.tail.next=L:this.head=L,this.tail=L,++this.length}unshift(N){const L={data:N,next:this.head};0===this.length&&(this.tail=L),this.head=L,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let L=this.head,F=""+L.data;for(;null!==(L=L.next);)F+=N+L.data;return F}concat(N){if(0===this.length)return _.alloc(0);const L=_.allocUnsafe(N>>>0);let F=this.head,C=0;for(;F;)O(L,F.data,C),C+=F.data.length,F=F.next;return L}consume(N,L){const F=this.head.data;if(N<F.length){const C=F.slice(0,N);return this.head.data=F.slice(N),C}return N===F.length?this.shift():L?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[w](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let L="",F=this.head,C=0;do{const Y=F.data;if(!(N>Y.length)){N===Y.length?(L+=Y,++C,this.head=F.next?F.next:this.tail=null):(L+=g(Y,0,N),this.head=F,F.data=g(Y,N));break}L+=Y,N-=Y.length,++C}while(null!==(F=F.next));return this.length-=C,L}_getBuffer(N){const L=_.allocUnsafe(N),F=N;let C=this.head,Y=0;do{const j=C.data;if(!(N>j.length)){N===j.length?(O(L,j,F-N),++Y,this.head=C.next?C.next:this.tail=null):(O(L,new X(j.buffer,j.byteOffset,N),F-N),this.head=C,C.data=j.slice(N));break}O(L,j,F-N),N-=j.length,++Y}while(null!==(C=C.next));return this.length-=Y,L}[Symbol.for("nodejs.util.inspect.custom")](N,L){return R(this,{...L,depth:0,customInspect:!1})}}},5464:(Ne,V,E)=>{"use strict";var g=E(29293).default;const{pipeline:w}=E(96208),O=E(97464),{destroyer:X}=E(45078),{isNodeStream:_,isReadable:R,isWritable:A,isWebStream:N,isTransformStream:L,isWritableStream:F,isReadableStream:C}=E(51233),{AbortError:Y,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=E(65109),te=E(44268);Ne.exports=function(...q){if(0===q.length)throw new G("streams");if(1===q.length)return O.from(q[0]);const J=[...q];if("function"==typeof q[0]&&(q[0]=O.from(q[0])),"function"==typeof q[q.length-1]){const h=q.length-1;q[h]=O.from(q[h])}for(let h=0;h<q.length;++h)if(_(q[h])||N(q[h])){if(h<q.length-1&&!(R(q[h])||C(q[h])||L(q[h])))throw new j(`streams[${h}]`,J[h],"must be readable");if(h>0&&!(A(q[h])||F(q[h])||L(q[h])))throw new j(`streams[${h}]`,J[h],"must be writable")}let ne,ie,re,ce,se;const we=q[0],Me=w(q,function pe(h){const m=ce;ce=null,m?m(h):h?se.destroy(h):!l&&!k&&se.destroy()}),k=!!(A(we)||F(we)||L(we)),l=!!(R(Me)||C(Me)||L(Me));if(se=new O({writableObjectMode:!(null==we||!we.writableObjectMode),readableObjectMode:!(null==Me||!Me.writableObjectMode),writable:k,readable:l}),k){if(_(we))se._write=function(m,p,x){we.write(m,p)?x():ne=x},se._final=function(m){we.end(),ie=m},we.on("drain",function(){if(ne){const m=ne;ne=null,m()}});else if(N(we)){const p=(L(we)?we.writable:we).getWriter();se._write=function(){var x=g(function*(D,B,M){try{yield p.ready,p.write(D).catch(()=>{}),M()}catch(d){M(d)}});return function(D,B,M){return x.apply(this,arguments)}}(),se._final=function(){var x=g(function*(D){try{yield p.ready,p.close().catch(()=>{}),ie=D}catch(B){D(B)}});return function(D){return x.apply(this,arguments)}}()}const h=L(Me)?Me.readable:Me;te(h,()=>{if(ie){const m=ie;ie=null,m()}})}if(l)if(_(Me))Me.on("readable",function(){if(re){const h=re;re=null,h()}}),Me.on("end",function(){se.push(null)}),se._read=function(){for(;;){const h=Me.read();if(null===h)return void(re=se._read);if(!se.push(h))return}};else if(N(Me)){const m=(L(Me)?Me.readable:Me).getReader();se._read=g(function*(){for(;;)try{const{value:p,done:x}=yield m.read();if(!se.push(p))return;if(x)return void se.push(null)}catch{return}})}return se._destroy=function(h,m){!h&&null!==ce&&(h=new Y),re=null,ne=null,ie=null,null===ce?m(h):(ce=m,_(Me)&&X(Me,h))},se}},45078:(Ne,V,E)=>{"use strict";const g=E(40573),{aggregateTwoErrors:w,codes:{ERR_MULTIPLE_CALLBACK:O},AbortError:X}=E(65109),{Symbol:_}=E(43856),{kDestroyed:R,isDestroyed:A,isFinished:N,isServerRequest:L}=E(51233),F=_("kDestroy"),C=_("kConstruct");function Y(k,l,h){k&&(l&&!l.errored&&(l.errored=k),h&&!h.errored&&(h.errored=k))}function G(k,l,h){let m=!1;function p(x){if(m)return;m=!0;const D=k._readableState,B=k._writableState;Y(x,B,D),B&&(B.closed=!0),D&&(D.closed=!0),"function"==typeof h&&h(x),x?g.nextTick(te,k,x):g.nextTick(ee,k)}try{k._destroy(l||null,p)}catch(x){p(x)}}function te(k,l){q(k,l),ee(k)}function ee(k){const l=k._readableState,h=k._writableState;h&&(h.closeEmitted=!0),l&&(l.closeEmitted=!0),(null!=h&&h.emitClose||null!=l&&l.emitClose)&&k.emit("close")}function q(k,l){const h=k._readableState,m=k._writableState;null!=m&&m.errorEmitted||null!=h&&h.errorEmitted||(m&&(m.errorEmitted=!0),h&&(h.errorEmitted=!0),k.emit("error",l))}function ne(k,l,h){const m=k._readableState,p=k._writableState;if(null!=p&&p.destroyed||null!=m&&m.destroyed)return this;null!=m&&m.autoDestroy||null!=p&&p.autoDestroy?k.destroy(l):l&&(p&&!p.errored&&(p.errored=l),m&&!m.errored&&(m.errored=l),h?g.nextTick(q,k,l):q(k,l))}function re(k){let l=!1;function h(m){if(l)return void ne(k,m??new O);l=!0;const p=k._readableState,x=k._writableState,D=x||p;p&&(p.constructed=!0),x&&(x.constructed=!0),D.destroyed?k.emit(F,m):m?ne(k,m,!0):g.nextTick(ce,k)}try{k._construct(m=>{g.nextTick(h,m)})}catch(m){g.nextTick(h,m)}}function ce(k){k.emit(C)}function se(k){return k?.setHeader&&"function"==typeof k.abort}function pe(k){k.emit("close")}function we(k,l){k.emit("error",l),g.nextTick(pe,k)}Ne.exports={construct:function ie(k,l){if("function"!=typeof k._construct)return;const h=k._readableState,m=k._writableState;h&&(h.constructed=!1),m&&(m.constructed=!1),k.once(C,l),!(k.listenerCount(C)>1)&&g.nextTick(re,k)},destroyer:function Me(k,l){!k||A(k)||(!l&&!N(k)&&(l=new X),L(k)?(k.socket=null,k.destroy(l)):se(k)?k.abort():se(k.req)?k.req.abort():"function"==typeof k.destroy?k.destroy(l):"function"==typeof k.close?k.close():l?g.nextTick(we,k,l):g.nextTick(pe,k),k.destroyed||(k[R]=!0))},destroy:function j(k,l){const h=this._readableState,m=this._writableState,p=m||h;return null!=m&&m.destroyed||null!=h&&h.destroyed?("function"==typeof l&&l(),this):(Y(k,m,h),m&&(m.destroyed=!0),h&&(h.destroyed=!0),p.constructed?G(this,k,l):this.once(F,function(x){G(this,w(x,k),l)}),this)},undestroy:function J(){const k=this._readableState,l=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=!1===k.readable,k.endEmitted=!1===k.readable),l&&(l.constructed=!0,l.destroyed=!1,l.closed=!1,l.closeEmitted=!1,l.errored=null,l.errorEmitted=!1,l.finalCalled=!1,l.prefinished=!1,l.ended=!1===l.writable,l.ending=!1===l.writable,l.finished=!1===l.writable)},errorOrDestroy:ne}},97464:(Ne,V,E)=>{"use strict";const{ObjectDefineProperties:g,ObjectGetOwnPropertyDescriptor:w,ObjectKeys:O,ObjectSetPrototypeOf:X}=E(43856);Ne.exports=A;const _=E(29710),R=E(40258);X(A.prototype,_.prototype),X(A,_);{const C=O(R.prototype);for(let Y=0;Y<C.length;Y++){const j=C[Y];A.prototype[j]||(A.prototype[j]=R.prototype[j])}}function A(C){if(!(this instanceof A))return new A(C);_.call(this,C),R.call(this,C),C?(this.allowHalfOpen=!1!==C.allowHalfOpen,!1===C.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===C.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,F;function L(){return void 0===N&&(N={}),N}g(A.prototype,{writable:{__proto__:null,...w(R.prototype,"writable")},writableHighWaterMark:{__proto__:null,...w(R.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...w(R.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...w(R.prototype,"writableBuffer")},writableLength:{__proto__:null,...w(R.prototype,"writableLength")},writableFinished:{__proto__:null,...w(R.prototype,"writableFinished")},writableCorked:{__proto__:null,...w(R.prototype,"writableCorked")},writableEnded:{__proto__:null,...w(R.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...w(R.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(C){this._readableState&&this._writableState&&(this._readableState.destroyed=C,this._writableState.destroyed=C)}}}),A.fromWeb=function(C,Y){return L().newStreamDuplexFromReadableWritablePair(C,Y)},A.toWeb=function(C){return L().newReadableWritablePairFromDuplex(C)},A.from=function(C){return F||(F=E(56840)),F(C,"body")}},56840:(Ne,V,E)=>{var g=E(29293).default,w=E(53344).default,O=E(42958).default;const X=E(40573),_=E(89565),{isReadable:R,isWritable:A,isIterable:N,isNodeStream:L,isReadableNodeStream:F,isWritableNodeStream:C,isDuplexNodeStream:Y}=E(51233),j=E(44268),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:ee}}=E(65109),{destroyer:q}=E(45078),J=E(97464),ne=E(29710),{createDeferredPromise:ie}=E(55830),re=E(24246),ce=globalThis.Blob||_.Blob,se=typeof ce<"u"?function(m){return m instanceof ce}:function(m){return!1},pe=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:we}=E(43856);class Me extends J{constructor(m){super(m),!1===m?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===m?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function l(h){const m=h.readable&&"function"!=typeof h.readable.read?ne.wrap(h.readable):h.readable,p=h.writable;let B,M,d,v,W,x=!!R(m),D=!!A(p);function z(Q){const de=v;v=null,de?de(Q):Q&&W.destroy(Q)}return W=new Me({readableObjectMode:!(null==m||!m.readableObjectMode),writableObjectMode:!(null==p||!p.writableObjectMode),readable:x,writable:D}),D&&(j(p,Q=>{D=!1,Q&&q(m,Q),z(Q)}),W._write=function(Q,de,xe){p.write(Q,de)?xe():B=xe},W._final=function(Q){p.end(),M=Q},p.on("drain",function(){if(B){const Q=B;B=null,Q()}}),p.on("finish",function(){if(M){const Q=M;M=null,Q()}})),x&&(j(m,Q=>{x=!1,Q&&q(m,Q),z(Q)}),m.on("readable",function(){if(d){const Q=d;d=null,Q()}}),m.on("end",function(){W.push(null)}),W._read=function(){for(;;){const Q=m.read();if(null===Q)return void(d=W._read);if(!W.push(Q))return}}),W._destroy=function(Q,de){!Q&&null!==v&&(Q=new G),d=null,B=null,M=null,null===v?de(Q):(v=de,q(p,Q),q(m,Q))},W}Ne.exports=function h(m,p){if(Y(m))return m;if(F(m))return l({readable:m});if(C(m))return l({writable:m});if(L(m))return l({writable:!1,readable:!1});if("function"==typeof m){const{value:D,write:B,final:M,destroy:d}=function k(h){let{promise:m,resolve:p}=ie();const x=new pe,D=x.signal;return{value:h(O(function*(){for(;;){const M=m;m=null;const{chunk:d,done:v,cb:W}=yield w(M);if(X.nextTick(W),v)return;if(D.aborted)throw new G(void 0,{cause:D.reason});({promise:m,resolve:p}=ie()),yield d}})(),{signal:D}),write(M,d,v){const W=p;p=null,W({chunk:M,done:!1,cb:v})},final(M){const d=p;p=null,d({done:!0,cb:M})},destroy(M,d){x.abort(),d(M)}}}(m);if(N(D))return re(Me,D,{objectMode:!0,write:B,final:M,destroy:d});const v=D?.then;if("function"==typeof v){let W;const z=we(v,D,Q=>{if(null!=Q)throw new ee("nully","body",Q)},Q=>{q(W,Q)});return W=new Me({objectMode:!0,readable:!1,write:B,final(Q){M(g(function*(){try{yield z,X.nextTick(Q,null)}catch(de){X.nextTick(Q,de)}}))},destroy:d})}throw new ee("Iterable, AsyncIterable or AsyncFunction",p,D)}if(se(m))return h(m.arrayBuffer());if(N(m))return re(Me,m,{objectMode:!0,writable:!1});if("object"==typeof m?.writable||"object"==typeof m?.readable)return l({readable:null!=m&&m.readable?F(m?.readable)?m?.readable:h(m.readable):void 0,writable:null!=m&&m.writable?C(m?.writable)?m?.writable:h(m.writable):void 0});const x=m?.then;if("function"==typeof x){let D;return we(x,m,B=>{null!=B&&D.push(B),D.push(null)},B=>{q(D,B)}),D=new Me({objectMode:!0,writable:!1,read(){}})}throw new te(p,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],m)}},44268:(Ne,V,E)=>{const g=E(40573),{AbortError:w,codes:O}=E(65109),{ERR_INVALID_ARG_TYPE:X,ERR_STREAM_PREMATURE_CLOSE:_}=O,{kEmptyObject:R,once:A}=E(55830),{validateAbortSignal:N,validateFunction:L,validateObject:F,validateBoolean:C}=E(44323),{Promise:Y,PromisePrototypeThen:j}=E(43856),{isClosed:G,isReadable:te,isReadableNodeStream:ee,isReadableStream:q,isReadableFinished:J,isReadableErrored:ne,isWritable:ie,isWritableNodeStream:re,isWritableStream:ce,isWritableFinished:se,isWritableErrored:pe,isNodeStream:we,willEmitClose:Me,kIsClosedPromise:k}=E(51233),h=()=>{};function m(D,B,M){var d,v;if(2===arguments.length?(M=B,B=R):null==B?B=R:F(B,"options"),L(M,"callback"),N(B.signal,"options.signal"),M=A(M),q(D)||ce(D))return function p(D,B,M){let d=!1,v=h;if(B.signal)if(v=()=>{d=!0,M.call(D,new w(void 0,{cause:B.signal.reason}))},B.signal.aborted)g.nextTick(v);else{const z=M;M=A((...Q)=>{B.signal.removeEventListener("abort",v),z.apply(D,Q)}),B.signal.addEventListener("abort",v)}const W=(...z)=>{d||g.nextTick(()=>M.apply(D,z))};return j(D[k].promise,W,W),h}(D,B,M);if(!we(D))throw new X("stream",["ReadableStream","WritableStream","Stream"],D);const W=null!==(d=B.readable)&&void 0!==d?d:ee(D),z=null!==(v=B.writable)&&void 0!==v?v:re(D),Q=D._writableState,de=D._readableState,xe=()=>{D.writable||ve()};let Ie=Me(D)&&ee(D)===W&&re(D)===z,Le=se(D,!1);const ve=()=>{Le=!0,D.destroyed&&(Ie=!1),(!Ie||D.readable&&!W)&&(!W||ye)&&M.call(D)};let ye=J(D,!1);const ke=()=>{ye=!0,D.destroyed&&(Ie=!1),(!Ie||D.writable&&!z)&&(!z||Le)&&M.call(D)},me=ge=>{M.call(D,ge)};let Ee=G(D);const fe=()=>{Ee=!0;const ge=pe(D)||ne(D);return ge&&"boolean"!=typeof ge?M.call(D,ge):W&&!ye&&ee(D,!0)&&!J(D,!1)?M.call(D,new _):!z||Le||se(D,!1)?void M.call(D):M.call(D,new _)},he=()=>{Ee=!0;const ge=pe(D)||ne(D);if(ge&&"boolean"!=typeof ge)return M.call(D,ge);M.call(D)},ae=()=>{D.req.on("finish",ve)};!function l(D){return D.setHeader&&"function"==typeof D.abort}(D)?z&&!Q&&(D.on("end",xe),D.on("close",xe)):(D.on("complete",ve),Ie||D.on("abort",fe),D.req?ae():D.on("request",ae)),!Ie&&"boolean"==typeof D.aborted&&D.on("aborted",fe),D.on("end",ke),D.on("finish",ve),!1!==B.error&&D.on("error",me),D.on("close",fe),Ee?g.nextTick(fe):null!=Q&&Q.errorEmitted||null!=de&&de.errorEmitted?Ie||g.nextTick(he):(!W&&(!Ie||te(D))&&(Le||!1===ie(D))||!z&&(!Ie||ie(D))&&(ye||!1===te(D))||de&&D.req&&D.aborted)&&g.nextTick(he);const ue=()=>{M=h,D.removeListener("aborted",fe),D.removeListener("complete",ve),D.removeListener("abort",fe),D.removeListener("request",ae),D.req&&D.req.removeListener("finish",ve),D.removeListener("end",xe),D.removeListener("close",xe),D.removeListener("finish",ve),D.removeListener("end",ke),D.removeListener("error",me),D.removeListener("close",fe)};if(B.signal&&!Ee){const ge=()=>{const Ae=M;ue(),Ae.call(D,new w(void 0,{cause:B.signal.reason}))};if(B.signal.aborted)g.nextTick(ge);else{const Ae=M;M=A((...Ue)=>{B.signal.removeEventListener("abort",ge),Ae.apply(D,Ue)}),B.signal.addEventListener("abort",ge)}}return ue}Ne.exports=m,Ne.exports.finished=function x(D,B){var M;let d=!1;return null===B&&(B=R),null!==(M=B)&&void 0!==M&&M.cleanup&&(C(B.cleanup,"cleanup"),d=B.cleanup),new Y((v,W)=>{const z=m(D,B,Q=>{d&&z(),Q?W(Q):v()})})}},24246:(Ne,V,E)=>{"use strict";var g=E(29293).default;const w=E(40573),{PromisePrototypeThen:O,SymbolAsyncIterator:X,SymbolIterator:_}=E(43856),{Buffer:R}=E(89565),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:N}=E(65109).codes;Ne.exports=function L(F,C,Y){let j,G;if("string"==typeof C||C instanceof R)return new F({objectMode:!0,...Y,read(){this.push(C),this.push(null)}});if(C&&C[X])G=!0,j=C[X]();else{if(!C||!C[_])throw new A("iterable",["Iterable"],C);G=!1,j=C[_]()}const te=new F({objectMode:!0,highWaterMark:1,...Y});let ee=!1;function J(){return(J=g(function*(re){if(null!=re&&"function"==typeof j.throw){const{value:pe,done:we}=yield j.throw(re);if(yield pe,we)return}if("function"==typeof j.return){const{value:pe}=yield j.return();yield pe}})).apply(this,arguments)}function ie(){return(ie=g(function*(){for(;;){try{const{value:re,done:ce}=G?yield j.next():j.next();if(ce)te.push(null);else{const se=re&&"function"==typeof re.then?yield re:re;if(null===se)throw ee=!1,new N;if(te.push(se))continue;ee=!1}}catch(re){te.destroy(re)}break}})).apply(this,arguments)}return te._read=function(){ee||(ee=!0,function ne(){ie.apply(this,arguments)}())},te._destroy=function(re,ce){O(function q(re){return J.apply(this,arguments)}(re),()=>w.nextTick(ce,re),se=>w.nextTick(ce,se||re))},te}},2649:(Ne,V,E)=>{"use strict";const{ArrayIsArray:g,ObjectSetPrototypeOf:w}=E(43856),{EventEmitter:O}=E(44356);function X(R){O.call(this,R)}function _(R,A,N){if("function"==typeof R.prependListener)return R.prependListener(A,N);R._events&&R._events[A]?g(R._events[A])?R._events[A].unshift(N):R._events[A]=[N,R._events[A]]:R.on(A,N)}w(X.prototype,O.prototype),w(X,O),X.prototype.pipe=function(R,A){const N=this;function L(ee){R.writable&&!1===R.write(ee)&&N.pause&&N.pause()}function F(){N.readable&&N.resume&&N.resume()}N.on("data",L),R.on("drain",F),!R._isStdio&&(!A||!1!==A.end)&&(N.on("end",Y),N.on("close",j));let C=!1;function Y(){C||(C=!0,R.end())}function j(){C||(C=!0,"function"==typeof R.destroy&&R.destroy())}function G(ee){te(),0===O.listenerCount(this,"error")&&this.emit("error",ee)}function te(){N.removeListener("data",L),R.removeListener("drain",F),N.removeListener("end",Y),N.removeListener("close",j),N.removeListener("error",G),R.removeListener("error",G),N.removeListener("end",te),N.removeListener("close",te),R.removeListener("close",te)}return _(N,"error",G),_(R,"error",G),N.on("end",te),N.on("close",te),R.on("close",te),R.emit("pipe",N),R},Ne.exports={Stream:X,prependListener:_}},37325:(Ne,V,E)=>{"use strict";var g=E(29293).default,w=E(93513).default,O=E(82881).default,X=E(53344).default,_=E(42958).default;const R=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:L,ERR_OUT_OF_RANGE:F},AbortError:C}=E(65109),{validateAbortSignal:Y,validateInteger:j,validateObject:G}=E(44323),te=E(43856).Symbol("kWeak"),{finished:ee}=E(44268),q=E(5464),{addAbortSignalNoValidate:J}=E(24785),{isWritable:ne,isNodeStream:ie}=E(51233),{ArrayPrototypePush:re,MathFloor:ce,Number:se,NumberIsNaN:pe,Promise:we,PromiseReject:Me,PromisePrototypeThen:k,Symbol:l}=E(43856),h=l("kEmpty"),m=l("kEof");function x(ae,ue){if("function"!=typeof ae)throw new N("fn",["Function","AsyncFunction"],ae);null!=ue&&G(ue,"options"),null!=ue?.signal&&Y(ue.signal,"options.signal");let ge=1;return null!=ue?.concurrency&&(ge=ce(ue.concurrency)),j(ge,"concurrency",1),function(){var Ae=_(function*(){var Ve,ze;const It=new R,qe=this,je=[],ut=It.signal,$={signal:ut},T=()=>It.abort();null!=ue&&null!==(Ve=ue.signal)&&void 0!==Ve&&Ve.aborted&&T(),null==ue||null===(ze=ue.signal)||void 0===ze||ze.addEventListener("abort",T);let S,Z,le=!1;function De(){le=!0}function Qe(){return(Qe=g(function*(){try{var St,Nt=!1,ft=!1;try{for(var Gt,Lt=O(qe);Nt=!(Gt=yield Lt.next()).done;Nt=!1){let cn=Gt.value;var Vt;if(le)return;if(ut.aborted)throw new C;try{cn=ae(cn,$)}catch(Bt){cn=Me(Bt)}cn!==h&&("function"==typeof(null===(Vt=cn)||void 0===Vt?void 0:Vt.catch)&&cn.catch(De),je.push(cn),S&&(S(),S=null),!le&&je.length&&je.length>=ge&&(yield new we(Bt=>{Z=Bt})))}}catch(cn){ft=!0,St=cn}finally{try{Nt&&null!=Lt.return&&(yield Lt.return())}finally{if(ft)throw St}}je.push(m)}catch(cn){const Bt=Me(cn);k(Bt,void 0,De),je.push(Bt)}finally{var zn;le=!0,S&&(S(),S=null),null==ue||null===(zn=ue.signal)||void 0===zn||zn.removeEventListener("abort",T)}})).apply(this,arguments)}!function Oe(){Qe.apply(this,arguments)}();try{for(;;){for(;je.length>0;){const Nt=yield X(je[0]);if(Nt===m)return;if(ut.aborted)throw new C;Nt!==h&&(yield Nt),je.shift(),Z&&(Z(),Z=null)}yield X(new we(Nt=>{S=Nt}))}}finally{It.abort(),le=!0,Z&&(Z(),Z=null)}});return function Ue(){return Ae.apply(this,arguments)}}().call(this)}function B(ae){return M.apply(this,arguments)}function M(){return(M=g(function*(ae,ue=void 0){var Ue,ge=!1,Ae=!1;try{for(var Ve=O(xe.call(this,ae,ue));ge=!(yield Ve.next()).done;ge=!1)return!0}catch(It){Ae=!0,Ue=It}finally{try{ge&&null!=Ve.return&&(yield Ve.return())}finally{if(Ae)throw Ue}}return!1})).apply(this,arguments)}function v(){return(v=g(function*(ae,ue=void 0){if("function"!=typeof ae)throw new N("fn",["Function","AsyncFunction"],ae);return!(yield B.call(this,g(function*(...ge){return!(yield ae(...ge))}),ue))})).apply(this,arguments)}function z(){return(z=g(function*(ae,ue){var Ue,ge=!1,Ae=!1;try{for(var ze,Ve=O(xe.call(this,ae,ue));ge=!(ze=yield Ve.next()).done;ge=!1)return ze.value}catch(It){Ae=!0,Ue=It}finally{try{ge&&null!=Ve.return&&(yield Ve.return())}finally{if(Ae)throw Ue}}})).apply(this,arguments)}function de(){return de=g(function*(ae,ue){if("function"!=typeof ae)throw new N("fn",["Function","AsyncFunction"],ae);function Ae(){return(Ae=g(function*(je,ut){return yield ae(je,ut),h})).apply(this,arguments)}var ze,Ue=!1,Ve=!1;try{for(var It=O(x.call(this,function ge(je,ut){return Ae.apply(this,arguments)},ue));Ue=!(yield It.next()).done;Ue=!1);}catch(je){Ve=!0,ze=je}finally{try{Ue&&null!=It.return&&(yield It.return())}finally{if(Ve)throw ze}}}),de.apply(this,arguments)}function xe(ae,ue){if("function"!=typeof ae)throw new N("fn",["Function","AsyncFunction"],ae);function Ae(){return(Ae=g(function*(Ue,Ve){return(yield ae(Ue,Ve))?Ue:h})).apply(this,arguments)}return x.call(this,function ge(Ue,Ve){return Ae.apply(this,arguments)},ue)}class Ie extends L{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ve(){return ve=g(function*(ae,ue,ge){var Ae;if("function"!=typeof ae)throw new N("reducer",["Function","AsyncFunction"],ae);null!=ge&&G(ge,"options"),null!=ge?.signal&&Y(ge.signal,"options.signal");let Ue=arguments.length>1;if(null!=ge&&null!==(Ae=ge.signal)&&void 0!==Ae&&Ae.aborted){const Z=new C(void 0,{cause:ge.signal.reason});throw this.once("error",()=>{}),yield ee(this.destroy(Z)),Z}const Ve=new R,ze=Ve.signal;null!=ge&&ge.signal&&ge.signal.addEventListener("abort",()=>Ve.abort(),{once:!0,[te]:this});let It=!1;try{var ut,qe=!1,je=!1;try{for(var T,$=O(this);qe=!(T=yield $.next()).done;qe=!1){const Z=T.value;var S;if(It=!0,null!=ge&&null!==(S=ge.signal)&&void 0!==S&&S.aborted)throw new C;Ue?ue=yield ae(ue,Z,{signal:ze}):(ue=Z,Ue=!0)}}catch(Z){je=!0,ut=Z}finally{try{qe&&null!=$.return&&(yield $.return())}finally{if(je)throw ut}}if(!It&&!Ue)throw new Ie}finally{Ve.abort()}return ue}),ve.apply(this,arguments)}function ke(){return(ke=g(function*(ae){null!=ae&&G(ae,"options"),null!=ae?.signal&&Y(ae.signal,"options.signal");const ue=[];var Ue,ge=!1,Ae=!1;try{for(var ze,Ve=O(this);ge=!(ze=yield Ve.next()).done;ge=!1){const qe=ze.value;var It;if(null!=ae&&null!==(It=ae.signal)&&void 0!==It&&It.aborted)throw new C(void 0,{cause:ae.signal.reason});re(ue,qe)}}catch(qe){Ae=!0,Ue=qe}finally{try{ge&&null!=Ve.return&&(yield Ve.return())}finally{if(Ae)throw Ue}}return ue})).apply(this,arguments)}function Ee(ae){if(ae=se(ae),pe(ae))return 0;if(ae<0)throw new F("number",">= 0",ae);return ae}Ne.exports.streamReturningOperators={asIndexedPairs:function D(ae=void 0){return null!=ae&&G(ae,"options"),null!=ae?.signal&&Y(ae.signal,"options.signal"),function(){var ue=_(function*(){let Ae=0;var ze,Ue=!1,Ve=!1;try{for(var qe,It=O(this);Ue=!(qe=yield X(It.next())).done;Ue=!1){const ut=qe.value;var je;if(null!=ae&&null!==(je=ae.signal)&&void 0!==je&&je.aborted)throw new C({cause:ae.signal.reason});yield[Ae++,ut]}}catch(ut){Ve=!0,ze=ut}finally{try{Ue&&null!=It.return&&(yield X(It.return()))}finally{if(Ve)throw ze}}});return function ge(){return ue.apply(this,arguments)}}().call(this)},drop:function fe(ae,ue=void 0){return null!=ue&&G(ue,"options"),null!=ue?.signal&&Y(ue.signal,"options.signal"),ae=Ee(ae),function(){var ge=_(function*(){var Ue;if(null!=ue&&null!==(Ue=ue.signal)&&void 0!==Ue&&Ue.aborted)throw new C;var It,Ve=!1,ze=!1;try{for(var je,qe=O(this);Ve=!(je=yield X(qe.next())).done;Ve=!1){const $=je.value;var ut;if(null!=ue&&null!==(ut=ue.signal)&&void 0!==ut&&ut.aborted)throw new C;ae--<=0&&(yield $)}}catch($){ze=!0,It=$}finally{try{Ve&&null!=qe.return&&(yield X(qe.return()))}finally{if(ze)throw It}}});return function Ae(){return ge.apply(this,arguments)}}().call(this)},filter:xe,flatMap:function me(ae,ue){const ge=x.call(this,ae,ue);return function(){var Ae=_(function*(){var It,Ve=!1,ze=!1;try{for(var je,qe=O(ge);Ve=!(je=yield X(qe.next())).done;Ve=!1){const ut=je.value;yield*w(O(ut),X)}}catch(ut){ze=!0,It=ut}finally{try{Ve&&null!=qe.return&&(yield X(qe.return()))}finally{if(ze)throw It}}});return function Ue(){return Ae.apply(this,arguments)}}().call(this)},map:x,take:function he(ae,ue=void 0){return null!=ue&&G(ue,"options"),null!=ue?.signal&&Y(ue.signal,"options.signal"),ae=Ee(ae),function(){var ge=_(function*(){var Ue;if(null!=ue&&null!==(Ue=ue.signal)&&void 0!==Ue&&Ue.aborted)throw new C;var It,Ve=!1,ze=!1;try{for(var je,qe=O(this);Ve=!(je=yield X(qe.next())).done;Ve=!1){const $=je.value;var ut;if(null!=ue&&null!==(ut=ue.signal)&&void 0!==ut&&ut.aborted)throw new C;if(!(ae-- >0))return;yield $}}catch($){ze=!0,It=$}finally{try{Ve&&null!=qe.return&&(yield X(qe.return()))}finally{if(ze)throw It}}});return function Ae(){return ge.apply(this,arguments)}}().call(this)},compose:function p(ae,ue){if(null!=ue&&G(ue,"options"),null!=ue?.signal&&Y(ue.signal,"options.signal"),ie(ae)&&!ne(ae))throw new A("stream",ae,"must be writable");const ge=q(this,ae);return null!=ue&&ue.signal&&J(ue.signal,ge),ge}},Ne.exports.promiseReturningOperators={every:function d(ae){return v.apply(this,arguments)},forEach:function Q(ae,ue){return de.apply(this,arguments)},reduce:function Le(ae,ue,ge){return ve.apply(this,arguments)},toArray:function ye(ae){return ke.apply(this,arguments)},some:B,find:function W(ae,ue){return z.apply(this,arguments)}}},70874:(Ne,V,E)=>{"use strict";const{ObjectSetPrototypeOf:g}=E(43856);Ne.exports=O;const w=E(66344);function O(X){if(!(this instanceof O))return new O(X);w.call(this,X)}g(O.prototype,w.prototype),g(O,w),O.prototype._transform=function(X,_,R){R(null,X)}},96208:(Ne,V,E)=>{var g=E(29293).default,w=E(42958).default,O=E(53344).default,X=E(93513).default,_=E(82881).default;const R=E(40573),{ArrayIsArray:A,Promise:N,SymbolAsyncIterator:L}=E(43856),F=E(44268),{once:C}=E(55830),Y=E(45078),j=E(97464),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:ee,ERR_MISSING_ARGS:q,ERR_STREAM_DESTROYED:J,ERR_STREAM_PREMATURE_CLOSE:ne},AbortError:ie}=E(65109),{validateFunction:re,validateAbortSignal:ce}=E(44323),{isIterable:se,isReadable:pe,isReadableNodeStream:we,isNodeStream:Me,isTransformStream:k,isWebStream:l,isReadableStream:h,isReadableEnded:m}=E(51233),p=globalThis.AbortController||E(9465).AbortController;let x,D;function B(ye,ke,me){let Ee=!1;return ye.on("close",()=>{Ee=!0}),{destroy:he=>{Ee||(Ee=!0,Y.destroyer(ye,he||new J("pipe")))},cleanup:F(ye,{readable:ke,writable:me},he=>{Ee=!he})}}function d(ye){if(se(ye))return ye;if(we(ye))return function v(ye){return W.apply(this,arguments)}(ye);throw new te("val",["Readable","Iterable","AsyncIterable"],ye)}function W(){return(W=w(function*(ye){D||(D=E(29710)),yield*X(_(D.prototype[L].call(ye)),O)})).apply(this,arguments)}function z(ye,ke,me,Ee){return Q.apply(this,arguments)}function Q(){return(Q=g(function*(ye,ke,me,{end:Ee}){let fe,he=null;const ae=qe=>{if(qe&&(fe=qe),he){const je=he;he=null,je()}},ue=()=>new N((qe,je)=>{fe?je(fe):he=()=>{fe?je(fe):qe()}});ke.on("drain",ae);const ge=F(ke,{readable:!1},ae);try{ke.writableNeedDrain&&(yield ue());var Ve,Ae=!1,Ue=!1;try{for(var It,ze=_(ye);Ae=!(It=yield ze.next()).done;Ae=!1)ke.write(It.value)||(yield ue())}catch(qe){Ue=!0,Ve=qe}finally{try{Ae&&null!=ze.return&&(yield ze.return())}finally{if(Ue)throw Ve}}Ee&&ke.end(),yield ue(),me()}catch(qe){me(fe!==qe?G(fe,qe):qe)}finally{ge(),ke.off("drain",ae)}})).apply(this,arguments)}function de(ye,ke,me,Ee){return xe.apply(this,arguments)}function xe(){return(xe=g(function*(ye,ke,me,{end:Ee}){k(ke)&&(ke=ke.writable);const fe=ke.getWriter();try{var ue,he=!1,ae=!1;try{for(var Ae,ge=_(ye);he=!(Ae=yield ge.next()).done;he=!1){const Ue=Ae.value;yield fe.ready,fe.write(Ue).catch(()=>{})}}catch(Ue){ae=!0,ue=Ue}finally{try{he&&null!=ge.return&&(yield ge.return())}finally{if(ae)throw ue}}yield fe.ready,Ee&&(yield fe.close()),me()}catch(Ue){try{yield fe.abort(Ue),me(Ue)}catch(Ve){me(Ve)}}})).apply(this,arguments)}function Le(ye,ke,me){if(1===ye.length&&A(ye[0])&&(ye=ye[0]),ye.length<2)throw new q("streams");const Ee=new p,fe=Ee.signal,he=me?.signal,ae=[];function ue(){It(new ie)}let ge,Ae;ce(he,"options.signal"),he?.addEventListener("abort",ue);const Ue=[];let qe,Ve=0;function ze(T){It(T,0==--Ve)}function It(T,S){if(T&&(!ge||"ERR_STREAM_PREMATURE_CLOSE"===ge.code)&&(ge=T),ge||S){for(;Ue.length;)Ue.shift()(ge);he?.removeEventListener("abort",ue),Ee.abort(),S&&(ge||ae.forEach(Z=>Z()),R.nextTick(ke,ge,Ae))}}for(let T=0;T<ye.length;T++){const S=ye[T],Z=T<ye.length-1,le=T>0,De=Z||!1!==me?.end,Oe=T===ye.length-1;if(Me(S)){let Qe=function(Nt){Nt&&"AbortError"!==Nt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Nt.code&&ze(Nt)};if(De){const{destroy:Nt,cleanup:ft}=B(S,Z,le);Ue.push(Nt),pe(S)&&Oe&&ae.push(ft)}S.on("error",Qe),pe(S)&&Oe&&ae.push(()=>{S.removeListener("error",Qe)})}if(0===T)if("function"==typeof S){if(qe=S({signal:fe}),!se(qe))throw new ee("Iterable, AsyncIterable or Stream","source",qe)}else qe=se(S)||we(S)||k(S)?S:j.from(S);else if("function"==typeof S){var je;if(qe=k(qe)?d(null===(je=qe)||void 0===je?void 0:je.readable):d(qe),qe=S(qe,{signal:fe}),Z){if(!se(qe,!0))throw new ee("AsyncIterable",`transform[${T-1}]`,qe)}else{var ut;x||(x=E(70874));const Qe=new x({objectMode:!0}),Nt=null===(ut=qe)||void 0===ut?void 0:ut.then;if("function"==typeof Nt)Ve++,Nt.call(qe,Lt=>{Ae=Lt,null!=Lt&&Qe.write(Lt),De&&Qe.end(),R.nextTick(ze)},Lt=>{Qe.destroy(Lt),R.nextTick(ze,Lt)});else if(se(qe,!0))Ve++,z(qe,Qe,ze,{end:De});else{if(!h(qe)&&!k(qe))throw new ee("AsyncIterable or Promise","destination",qe);Ve++,z(qe.readable||qe,Qe,ze,{end:De})}qe=Qe;const{destroy:ft,cleanup:St}=B(qe,!1,!0);Ue.push(ft),Oe&&ae.push(St)}}else if(Me(S)){if(we(qe)){Ve+=2;const Qe=ve(qe,S,ze,{end:De});pe(S)&&Oe&&ae.push(Qe)}else if(k(qe)||h(qe))Ve++,z(qe.readable||qe,S,ze,{end:De});else{if(!se(qe))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],qe);Ve++,z(qe,S,ze,{end:De})}qe=S}else if(l(S)){if(we(qe))Ve++,de(d(qe),S,ze,{end:De});else if(h(qe)||se(qe))Ve++,de(qe,S,ze,{end:De});else{if(!k(qe))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],qe);Ve++,de(qe.readable,S,ze,{end:De})}qe=S}else qe=j.from(S)}return(null!=fe&&fe.aborted||null!=he&&he.aborted)&&R.nextTick(ue),qe}function ve(ye,ke,me,{end:Ee}){let fe=!1;if(ke.on("close",()=>{fe||me(new ne)}),ye.pipe(ke,{end:!1}),Ee){let ae=function(){fe=!0,ke.end()};m(ye)?R.nextTick(ae):ye.once("end",ae)}else me();return F(ye,{readable:!0,writable:!1},ae=>{const ue=ye._readableState;ae&&"ERR_STREAM_PREMATURE_CLOSE"===ae.code&&ue&&ue.ended&&!ue.errored&&!ue.errorEmitted?ye.once("end",me).once("error",me):me(ae)}),F(ke,{readable:!1,writable:!0},me)}Ne.exports={pipelineImpl:Le,pipeline:function Ie(...ye){return Le(ye,C(function M(ye){return re(ye[ye.length-1],"streams[stream.length - 1]"),ye.pop()}(ye)))}}},29710:(Ne,V,E)=>{var g=E(53344).default,w=E(42958).default;const O=E(40573),{ArrayPrototypeIndexOf:X,NumberIsInteger:_,NumberIsNaN:R,NumberParseInt:A,ObjectDefineProperties:N,ObjectKeys:L,ObjectSetPrototypeOf:F,Promise:C,SafeSet:Y,SymbolAsyncIterator:j,Symbol:G}=E(43856);Ne.exports=z,z.ReadableState=W;const{EventEmitter:te}=E(44356),{Stream:ee,prependListener:q}=E(2649),{Buffer:J}=E(89565),{addAbortSignal:ne}=E(24785),ie=E(44268);let re=E(55830).debuglog("stream",S=>{re=S});const ce=E(58579),se=E(45078),{getHighWaterMark:pe,getDefaultHighWaterMark:we}=E(31081),{aggregateTwoErrors:Me,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:l,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:m,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:p}}=E(65109),{validateObject:x}=E(44323),D=G("kPaused"),{StringDecoder:B}=E(78454),M=E(24246);F(z.prototype,ee.prototype),F(z,ee);const d=()=>{},{errorOrDestroy:v}=se;function W(S,Z,le){"boolean"!=typeof le&&(le=Z instanceof E(97464)),this.objectMode=!(!S||!S.objectMode),le&&(this.objectMode=this.objectMode||!(!S||!S.readableObjectMode)),this.highWaterMark=S?pe(this,S,"readableHighWaterMark",le):we(!1),this.buffer=new ce,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!S||!1!==S.emitClose,this.autoDestroy=!S||!1!==S.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,S&&S.encoding&&(this.decoder=new B(S.encoding),this.encoding=S.encoding)}function z(S){if(!(this instanceof z))return new z(S);const Z=this instanceof E(97464);this._readableState=new W(S,this,Z),S&&("function"==typeof S.read&&(this._read=S.read),"function"==typeof S.destroy&&(this._destroy=S.destroy),"function"==typeof S.construct&&(this._construct=S.construct),S.signal&&!Z&&ne(S.signal,this)),ee.call(this,S),se.construct(this,()=>{this._readableState.needReadable&&me(this,this._readableState)})}function Q(S,Z,le,De){re("readableAddChunk",Z);const Oe=S._readableState;let Qe;if(Oe.objectMode||("string"==typeof Z?Oe.encoding!==(le=le||Oe.defaultEncoding)&&(De&&Oe.encoding?Z=J.from(Z,le).toString(Oe.encoding):(Z=J.from(Z,le),le="")):Z instanceof J?le="":ee._isUint8Array(Z)?(Z=ee._uint8ArrayToBuffer(Z),le=""):null!=Z&&(Qe=new k("chunk",["string","Buffer","Uint8Array"],Z))),Qe)v(S,Qe);else if(null===Z)Oe.reading=!1,function ve(S,Z){if(re("onEofChunk"),!Z.ended){if(Z.decoder){const le=Z.decoder.end();le&&le.length&&(Z.buffer.push(le),Z.length+=Z.objectMode?1:le.length)}Z.ended=!0,Z.sync?ye(S):(Z.needReadable=!1,Z.emittedReadable=!0,ke(S))}}(S,Oe);else if(Oe.objectMode||Z&&Z.length>0)if(De)if(Oe.endEmitted)v(S,new p);else{if(Oe.destroyed||Oe.errored)return!1;de(S,Oe,Z,!0)}else if(Oe.ended)v(S,new m);else{if(Oe.destroyed||Oe.errored)return!1;Oe.reading=!1,Oe.decoder&&!le?(Z=Oe.decoder.write(Z),Oe.objectMode||0!==Z.length?de(S,Oe,Z,!1):me(S,Oe)):de(S,Oe,Z,!1)}else De||(Oe.reading=!1,me(S,Oe));return!Oe.ended&&(Oe.length<Oe.highWaterMark||0===Oe.length)}function de(S,Z,le,De){Z.flowing&&0===Z.length&&!Z.sync&&S.listenerCount("data")>0?(Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null,Z.dataEmitted=!0,S.emit("data",le)):(Z.length+=Z.objectMode?1:le.length,De?Z.buffer.unshift(le):Z.buffer.push(le),Z.needReadable&&ye(S)),me(S,Z)}function Le(S,Z){return S<=0||0===Z.length&&Z.ended?0:Z.objectMode?1:R(S)?Z.flowing&&Z.length?Z.buffer.first().length:Z.length:S<=Z.length?S:Z.ended?Z.length:0}function ye(S){const Z=S._readableState;re("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(re("emitReadable",Z.flowing),Z.emittedReadable=!0,O.nextTick(ke,S))}function ke(S){const Z=S._readableState;re("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&!Z.errored&&(Z.length||Z.ended)&&(S.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,Ae(S)}function me(S,Z){!Z.readingMore&&Z.constructed&&(Z.readingMore=!0,O.nextTick(Ee,S,Z))}function Ee(S,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&0===Z.length);){const le=Z.length;if(re("maybeReadMore read 0"),S.read(0),le===Z.length)break}Z.readingMore=!1}function he(S){const Z=S._readableState;Z.readableListening=S.listenerCount("readable")>0,Z.resumeScheduled&&!1===Z[D]?Z.flowing=!0:S.listenerCount("data")>0?S.resume():Z.readableListening||(Z.flowing=null)}function ae(S){re("readable nexttick read 0"),S.read(0)}function ge(S,Z){re("resume",Z.reading),Z.reading||S.read(0),Z.resumeScheduled=!1,S.emit("resume"),Ae(S),Z.flowing&&!Z.reading&&S.read(0)}function Ae(S){const Z=S._readableState;for(re("flow",Z.flowing);Z.flowing&&null!==S.read(););}function Ue(S,Z){"function"!=typeof S.read&&(S=z.wrap(S,{objectMode:!0}));const le=function Ve(S,Z){return ze.apply(this,arguments)}(S,Z);return le.stream=S,le}function ze(){return(ze=w(function*(S,Z){let Oe,le=d;function De(Nt){this===S?(le(),le=d):le=Nt}S.on("readable",De);const Qe=ie(S,{writable:!1},Nt=>{Oe=Nt?Me(Oe,Nt):null,le(),le=d});try{for(;;){const Nt=S.destroyed?null:S.read();if(null!==Nt)yield Nt;else{if(Oe)throw Oe;if(null===Oe)return;yield g(new C(De))}}}catch(Nt){throw Oe=Me(Oe,Nt),Oe}finally{!Oe&&!1===Z?.destroyOnReturn||void 0!==Oe&&!S._readableState.autoDestroy?(S.off("readable",De),Qe()):se.destroyer(S,null)}})).apply(this,arguments)}function It(S,Z){if(0===Z.length)return null;let le;return Z.objectMode?le=Z.buffer.shift():!S||S>=Z.length?(le=Z.decoder?Z.buffer.join(""):1===Z.buffer.length?Z.buffer.first():Z.buffer.concat(Z.length),Z.buffer.clear()):le=Z.buffer.consume(S,Z.decoder),le}function qe(S){const Z=S._readableState;re("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,O.nextTick(je,Z,S))}function je(S,Z){if(re("endReadableNT",S.endEmitted,S.length),!S.errored&&!S.closeEmitted&&!S.endEmitted&&0===S.length)if(S.endEmitted=!0,Z.emit("end"),Z.writable&&!1===Z.allowHalfOpen)O.nextTick(ut,Z);else if(S.autoDestroy){const le=Z._writableState;(!le||le.autoDestroy&&(le.finished||!1===le.writable))&&Z.destroy()}}function ut(S){S.writable&&!S.writableEnded&&!S.destroyed&&S.end()}let $;function T(){return void 0===$&&($={}),$}z.prototype.destroy=se.destroy,z.prototype._undestroy=se.undestroy,z.prototype._destroy=function(S,Z){Z(S)},z.prototype[te.captureRejectionSymbol]=function(S){this.destroy(S)},z.prototype.push=function(S,Z){return Q(this,S,Z,!1)},z.prototype.unshift=function(S,Z){return Q(this,S,Z,!0)},z.prototype.isPaused=function(){const S=this._readableState;return!0===S[D]||!1===S.flowing},z.prototype.setEncoding=function(S){const Z=new B(S);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;const le=this._readableState.buffer;let De="";for(const Oe of le)De+=Z.write(Oe);return le.clear(),""!==De&&le.push(De),this._readableState.length=De.length,this},z.prototype.read=function(S){re("read",S),void 0===S?S=NaN:_(S)||(S=A(S,10));const Z=this._readableState,le=S;if(S>Z.highWaterMark&&(Z.highWaterMark=function Ie(S){if(S>1073741824)throw new h("size","<= 1GiB",S);return S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,++S}(S)),0!==S&&(Z.emittedReadable=!1),0===S&&Z.needReadable&&((0!==Z.highWaterMark?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return re("read: emitReadable",Z.length,Z.ended),0===Z.length&&Z.ended?qe(this):ye(this),null;if(0===(S=Le(S,Z))&&Z.ended)return 0===Z.length&&qe(this),null;let Oe,De=Z.needReadable;if(re("need readable",De),(0===Z.length||Z.length-S<Z.highWaterMark)&&(De=!0,re("length less than watermark",De)),Z.ended||Z.reading||Z.destroyed||Z.errored||!Z.constructed)De=!1,re("reading, ended or constructing",De);else if(De){re("do read"),Z.reading=!0,Z.sync=!0,0===Z.length&&(Z.needReadable=!0);try{this._read(Z.highWaterMark)}catch(Qe){v(this,Qe)}Z.sync=!1,Z.reading||(S=Le(le,Z))}return Oe=S>0?It(S,Z):null,null===Oe?(Z.needReadable=Z.length<=Z.highWaterMark,S=0):(Z.length-=S,Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null),0===Z.length&&(Z.ended||(Z.needReadable=!0),le!==S&&Z.ended&&qe(this)),null!==Oe&&!Z.errorEmitted&&!Z.closeEmitted&&(Z.dataEmitted=!0,this.emit("data",Oe)),Oe},z.prototype._read=function(S){throw new l("_read()")},z.prototype.pipe=function(S,Z){const le=this,De=this._readableState;1===De.pipes.length&&(De.multiAwaitDrain||(De.multiAwaitDrain=!0,De.awaitDrainWriters=new Y(De.awaitDrainWriters?[De.awaitDrainWriters]:[]))),De.pipes.push(S),re("pipe count=%d opts=%j",De.pipes.length,Z);const Qe=Z&&!1===Z.end||S===O.stdout||S===O.stderr?nt:ft;function ft(){re("onend"),S.end()}De.endEmitted?O.nextTick(Qe):le.once("end",Qe),S.on("unpipe",function Nt(Ye,At){re("onunpipe"),Ye===le&&At&&!1===At.hasUnpiped&&(At.hasUnpiped=!0,function Gt(){re("cleanup"),S.removeListener("close",Bt),S.removeListener("finish",Dt),St&&S.removeListener("drain",St),S.removeListener("error",cn),S.removeListener("unpipe",Nt),le.removeListener("end",ft),le.removeListener("end",nt),le.removeListener("data",zn),Lt=!0,St&&De.awaitDrainWriters&&(!S._writableState||S._writableState.needDrain)&&St()}())});let St,Lt=!1;function Vt(){Lt||(1===De.pipes.length&&De.pipes[0]===S?(re("false write response, pause",0),De.awaitDrainWriters=S,De.multiAwaitDrain=!1):De.pipes.length>1&&De.pipes.includes(S)&&(re("false write response, pause",De.awaitDrainWriters.size),De.awaitDrainWriters.add(S)),le.pause()),St||(St=function fe(S,Z){return function(){const De=S._readableState;De.awaitDrainWriters===Z?(re("pipeOnDrain",1),De.awaitDrainWriters=null):De.multiAwaitDrain&&(re("pipeOnDrain",De.awaitDrainWriters.size),De.awaitDrainWriters.delete(Z)),(!De.awaitDrainWriters||0===De.awaitDrainWriters.size)&&S.listenerCount("data")&&S.resume()}}(le,S),S.on("drain",St))}function zn(Ye){re("ondata");const At=S.write(Ye);re("dest.write",At),!1===At&&Vt()}function cn(Ye){if(re("onerror",Ye),nt(),S.removeListener("error",cn),0===S.listenerCount("error")){const At=S._writableState||S._readableState;At&&!At.errorEmitted?v(S,Ye):S.emit("error",Ye)}}function Bt(){S.removeListener("finish",Dt),nt()}function Dt(){re("onfinish"),S.removeListener("close",Bt),nt()}function nt(){re("unpipe"),le.unpipe(S)}return le.on("data",zn),q(S,"error",cn),S.once("close",Bt),S.once("finish",Dt),S.emit("pipe",le),!0===S.writableNeedDrain?De.flowing&&Vt():De.flowing||(re("pipe resume"),le.resume()),S},z.prototype.unpipe=function(S){const Z=this._readableState;if(0===Z.pipes.length)return this;if(!S){const Oe=Z.pipes;Z.pipes=[],this.pause();for(let Qe=0;Qe<Oe.length;Qe++)Oe[Qe].emit("unpipe",this,{hasUnpiped:!1});return this}const De=X(Z.pipes,S);return-1===De||(Z.pipes.splice(De,1),0===Z.pipes.length&&this.pause(),S.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.addListener=z.prototype.on=function(S,Z){const le=ee.prototype.on.call(this,S,Z),De=this._readableState;return"data"===S?(De.readableListening=this.listenerCount("readable")>0,!1!==De.flowing&&this.resume()):"readable"===S&&!De.endEmitted&&!De.readableListening&&(De.readableListening=De.needReadable=!0,De.flowing=!1,De.emittedReadable=!1,re("on readable",De.length,De.reading),De.length?ye(this):De.reading||O.nextTick(ae,this)),le},z.prototype.off=z.prototype.removeListener=function(S,Z){const le=ee.prototype.removeListener.call(this,S,Z);return"readable"===S&&O.nextTick(he,this),le},z.prototype.removeAllListeners=function(S){const Z=ee.prototype.removeAllListeners.apply(this,arguments);return("readable"===S||void 0===S)&&O.nextTick(he,this),Z},z.prototype.resume=function(){const S=this._readableState;return S.flowing||(re("resume"),S.flowing=!S.readableListening,function ue(S,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,O.nextTick(ge,S,Z))}(this,S)),S[D]=!1,this},z.prototype.pause=function(){return re("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(re("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},z.prototype.wrap=function(S){let Z=!1;S.on("data",De=>{!this.push(De)&&S.pause&&(Z=!0,S.pause())}),S.on("end",()=>{this.push(null)}),S.on("error",De=>{v(this,De)}),S.on("close",()=>{this.destroy()}),S.on("destroy",()=>{this.destroy()}),this._read=()=>{Z&&S.resume&&(Z=!1,S.resume())};const le=L(S);for(let De=1;De<le.length;De++){const Oe=le[De];void 0===this[Oe]&&"function"==typeof S[Oe]&&(this[Oe]=S[Oe].bind(S))}return this},z.prototype[j]=function(){return Ue(this)},z.prototype.iterator=function(S){return void 0!==S&&x(S,"options"),Ue(this,S)},N(z.prototype,{readable:{__proto__:null,get(){const S=this._readableState;return!(!S||!1===S.readable||S.destroyed||S.errorEmitted||S.endEmitted)},set(S){this._readableState&&(this._readableState.readable=!!S)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(S){this._readableState&&(this._readableState.flowing=S)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(S){this._readableState&&(this._readableState.destroyed=S)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(S){this[D]=!!S}}}),z._fromList=It,z.from=function(S,Z){return M(z,S,Z)},z.fromWeb=function(S,Z){return T().newStreamReadableFromReadableStream(S,Z)},z.toWeb=function(S,Z){return T().newReadableStreamFromStreamReadable(S,Z)},z.wrap=function(S,Z){var le,De;return new z({objectMode:null===(le=null!==(De=S.readableObjectMode)&&void 0!==De?De:S.objectMode)||void 0===le||le,...Z,destroy(Oe,Qe){se.destroyer(S,Oe),Qe(Oe)}}).wrap(S)}},31081:(Ne,V,E)=>{"use strict";const{MathFloor:g,NumberIsInteger:w}=E(43856),{ERR_INVALID_ARG_VALUE:O}=E(65109).codes;function _(A){return A?16:16384}Ne.exports={getHighWaterMark:function R(A,N,L,F){const C=function X(A,N,L){return null!=A.highWaterMark?A.highWaterMark:N?A[L]:null}(N,F,L);if(null!=C){if(!w(C)||C<0)throw new O(F?`options.${L}`:"options.highWaterMark",C);return g(C)}return _(A.objectMode)},getDefaultHighWaterMark:_}},66344:(Ne,V,E)=>{"use strict";const{ObjectSetPrototypeOf:g,Symbol:w}=E(43856);Ne.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:O}=E(65109).codes,X=E(97464),{getHighWaterMark:_}=E(31081);g(A.prototype,X.prototype),g(A,X);const R=w("kCallback");function A(F){if(!(this instanceof A))return new A(F);const C=F?_(this,F,"readableHighWaterMark",!0):null;0===C&&(F={...F,highWaterMark:null,readableHighWaterMark:C,writableHighWaterMark:F.writableHighWaterMark||0}),X.call(this,F),this._readableState.sync=!1,this[R]=null,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",L)}function N(F){"function"!=typeof this._flush||this.destroyed?(this.push(null),F&&F()):this._flush((C,Y)=>{C?F?F(C):this.destroy(C):(null!=Y&&this.push(Y),this.push(null),F&&F())})}function L(){this._final!==N&&N.call(this)}A.prototype._final=N,A.prototype._transform=function(F,C,Y){throw new O("_transform()")},A.prototype._write=function(F,C,Y){const j=this._readableState,G=this._writableState,te=j.length;this._transform(F,C,(ee,q)=>{ee?Y(ee):(null!=q&&this.push(q),G.ended||te===j.length||j.length<j.highWaterMark?Y():this[R]=Y)})},A.prototype._read=function(){if(this[R]){const F=this[R];this[R]=null,F()}}},51233:(Ne,V,E)=>{"use strict";const{Symbol:g,SymbolAsyncIterator:w,SymbolIterator:O,SymbolFor:X}=E(43856),_=g("kDestroyed"),R=g("kIsErrored"),A=g("kIsReadable"),N=g("kIsDisturbed"),L=X("nodejs.webstream.isClosedPromise"),F=X("nodejs.webstream.controllerErrorFunction");function C(v,W=!1){var z;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(z=v._readableState)||void 0===z?void 0:z.readable)||v._writableState&&!v._readableState)}function Y(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function te(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function ee(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function q(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ie(v){if(!G(v))return null;const Q=v._writableState||v._readableState;return!!(v.destroyed||v[_]||null!=Q&&Q.destroyed)}function re(v){if(!Y(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function pe(v,W){if(!C(v))return null;const z=v._readableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.endEmitted?null:!!(z.endEmitted||!1===W&&!0===z.ended&&0===z.length))}function we(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!ie(v)&&C(v)&&v.readable&&!pe(v)}function Me(v){return"boolean"!=typeof v?.writable?null:!ie(v)&&Y(v)&&v.writable&&!re(v)}function p(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function x(v){return"boolean"==typeof v._sent100&&p(v)}Ne.exports={kDestroyed:_,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[N])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:N,isErrored:function d(v){var W,z,Q,de,xe,Ie,Le,ve,ye,ke;return!(!v||!(null!==(W=null!==(z=null!==(Q=null!==(de=null!==(xe=null!==(Ie=v[R])&&void 0!==Ie?Ie:v.readableErrored)&&void 0!==xe?xe:v.writableErrored)&&void 0!==de?de:null===(Le=v._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==Q?Q:null===(ve=v._writableState)||void 0===ve?void 0:ve.errorEmitted)&&void 0!==z?z:null===(ye=v._readableState)||void 0===ye?void 0:ye.errored)&&void 0!==W?W:null!==(ke=v._writableState)&&void 0!==ke&&ke.errored))},kIsErrored:R,isReadable:we,kIsReadable:A,kIsClosedPromise:L,kControllerErrorFunction:F,isClosed:function m(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,z=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof z?.closed?W?.closed||z?.closed:"boolean"==typeof v._closed&&p(v)?v._closed:null},isDestroyed:ie,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function k(v,W){return G(v)?!!ie(v)||!(!1!==W?.readable&&we(v)||!1!==W?.writable&&Me(v)):null},isIterable:function ne(v,W){return null!=v&&(!0===W?"function"==typeof v[w]:!1===W?"function"==typeof v[O]:"function"==typeof v[w]||"function"==typeof v[O])},isReadableNodeStream:C,isReadableStream:te,isReadableEnded:function se(v){if(!C(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:pe,isReadableErrored:function h(v){var W,z;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(z=v._readableState)||void 0===z?void 0:z.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function J(v){return te(v)||ee(v)||q(v)},isWritable:Me,isWritableNodeStream:Y,isWritableStream:ee,isWritableEnded:re,isWritableFinished:function ce(v,W){if(!Y(v))return null;if(!0===v.writableFinished)return!0;const z=v._writableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.finished?null:!!(z.finished||!1===W&&!0===z.ended&&0===z.length))},isWritableErrored:function l(v){var W,z;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(z=v._writableState)||void 0===z?void 0:z.errored)&&void 0!==W?W:null:null},isServerRequest:function D(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:x,willEmitClose:function B(v){if(!G(v))return null;const Q=v._writableState||v._readableState;return!Q&&x(v)||!!(Q&&Q.autoDestroy&&Q.emitClose&&!1===Q.closed)},isTransformStream:q}},40258:(Ne,V,E)=>{const g=E(40573),{ArrayPrototypeSlice:w,Error:O,FunctionPrototypeSymbolHasInstance:X,ObjectDefineProperty:_,ObjectDefineProperties:R,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:N,Symbol:L,SymbolHasInstance:F}=E(43856);Ne.exports=x,x.WritableState=m;const{EventEmitter:C}=E(44356),Y=E(2649).Stream,{Buffer:j}=E(89565),G=E(45078),{addAbortSignal:te}=E(24785),{getHighWaterMark:ee,getDefaultHighWaterMark:q}=E(31081),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:re,ERR_STREAM_DESTROYED:ce,ERR_STREAM_ALREADY_FINISHED:se,ERR_STREAM_NULL_VALUES:pe,ERR_STREAM_WRITE_AFTER_END:we,ERR_UNKNOWN_ENCODING:Me}=E(65109).codes,{errorOrDestroy:k}=G;function l(){}A(x.prototype,Y.prototype),A(x,Y);const h=L("kOnFinished");function m(fe,he,ae){"boolean"!=typeof ae&&(ae=he instanceof E(97464)),this.objectMode=!(!fe||!fe.objectMode),ae&&(this.objectMode=this.objectMode||!(!fe||!fe.writableObjectMode)),this.highWaterMark=fe?ee(this,fe,"writableHighWaterMark",ae):q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(fe&&!1===fe.decodeStrings),this.defaultEncoding=fe&&fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!fe||!1!==fe.emitClose,this.autoDestroy=!fe||!1!==fe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function p(fe){fe.buffered=[],fe.bufferedIndex=0,fe.allBuffers=!0,fe.allNoop=!0}function x(fe){const he=this instanceof E(97464);if(!he&&!X(x,this))return new x(fe);this._writableState=new m(fe,this,he),fe&&("function"==typeof fe.write&&(this._write=fe.write),"function"==typeof fe.writev&&(this._writev=fe.writev),"function"==typeof fe.destroy&&(this._destroy=fe.destroy),"function"==typeof fe.final&&(this._final=fe.final),"function"==typeof fe.construct&&(this._construct=fe.construct),fe.signal&&te(fe.signal,this)),Y.call(this,fe),G.construct(this,()=>{const ae=this._writableState;ae.writing||de(this,ae),ve(this,ae)})}function D(fe,he,ae,ue){const ge=fe._writableState;if("function"==typeof ae)ue=ae,ae=ge.defaultEncoding;else{if(ae){if("buffer"!==ae&&!j.isEncoding(ae))throw new Me(ae)}else ae=ge.defaultEncoding;"function"!=typeof ue&&(ue=l)}if(null===he)throw new pe;if(!ge.objectMode)if("string"==typeof he)!1!==ge.decodeStrings&&(he=j.from(he,ae),ae="buffer");else if(he instanceof j)ae="buffer";else{if(!Y._isUint8Array(he))throw new J("chunk",["string","Buffer","Uint8Array"],he);he=Y._uint8ArrayToBuffer(he),ae="buffer"}let Ae;return ge.ending?Ae=new we:ge.destroyed&&(Ae=new ce("write")),Ae?(g.nextTick(ue,Ae),k(fe,Ae,!0),Ae):(ge.pendingcb++,function B(fe,he,ae,ue,ge){const Ae=he.objectMode?1:ae.length;he.length+=Ae;const Ue=he.length<he.highWaterMark;return Ue||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ae,encoding:ue,callback:ge}),he.allBuffers&&"buffer"!==ue&&(he.allBuffers=!1),he.allNoop&&ge!==l&&(he.allNoop=!1)):(he.writelen=Ae,he.writecb=ge,he.writing=!0,he.sync=!0,fe._write(ae,ue,he.onwrite),he.sync=!1),Ue&&!he.errored&&!he.destroyed}(fe,ge,he,ae,ue))}function M(fe,he,ae,ue,ge,Ae,Ue){he.writelen=ue,he.writecb=Ue,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ce("write")):ae?fe._writev(ge,he.onwrite):fe._write(ge,Ae,he.onwrite),he.sync=!1}function d(fe,he,ae,ue){--he.pendingcb,ue(ae),Q(he),k(fe,ae)}function v(fe,he){const ae=fe._writableState,ue=ae.sync,ge=ae.writecb;"function"==typeof ge?(ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0,he?(ae.errored||(ae.errored=he),fe._readableState&&!fe._readableState.errored&&(fe._readableState.errored=he),ue?g.nextTick(d,fe,ae,he,ge):d(fe,ae,he,ge)):(ae.buffered.length>ae.bufferedIndex&&de(fe,ae),ue?null!==ae.afterWriteTickInfo&&ae.afterWriteTickInfo.cb===ge?ae.afterWriteTickInfo.count++:(ae.afterWriteTickInfo={count:1,cb:ge,stream:fe,state:ae},g.nextTick(W,ae.afterWriteTickInfo)):z(fe,ae,1,ge))):k(fe,new ie)}function W({stream:fe,state:he,count:ae,cb:ue}){return he.afterWriteTickInfo=null,z(fe,he,ae,ue)}function z(fe,he,ae,ue){for(!he.ending&&!fe.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,fe.emit("drain"));ae-- >0;)he.pendingcb--,ue();he.destroyed&&Q(he),ve(fe,he)}function Q(fe){if(fe.writing)return;for(let ge=fe.bufferedIndex;ge<fe.buffered.length;++ge){var he;const{chunk:Ae,callback:Ue}=fe.buffered[ge];fe.length-=fe.objectMode?1:Ae.length,Ue(null!==(he=fe.errored)&&void 0!==he?he:new ce("write"))}const ae=fe[h].splice(0);for(let ge=0;ge<ae.length;ge++){var ue;ae[ge](null!==(ue=fe.errored)&&void 0!==ue?ue:new ce("end"))}p(fe)}function de(fe,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:ae,bufferedIndex:ue,objectMode:ge}=he,Ae=ae.length-ue;if(!Ae)return;let Ue=ue;if(he.bufferProcessing=!0,Ae>1&&fe._writev){he.pendingcb-=Ae-1;const Ve=he.allNoop?l:It=>{for(let qe=Ue;qe<ae.length;++qe)ae[qe].callback(It)},ze=he.allNoop&&0===Ue?ae:w(ae,Ue);ze.allBuffers=he.allBuffers,M(fe,he,!0,he.length,ze,"",Ve),p(he)}else{do{const{chunk:Ve,encoding:ze,callback:It}=ae[Ue];ae[Ue++]=null,M(fe,he,!1,ge?1:Ve.length,Ve,ze,It)}while(Ue<ae.length&&!he.writing);Ue===ae.length?p(he):Ue>256?(ae.splice(0,Ue),he.bufferedIndex=0):he.bufferedIndex=Ue}he.bufferProcessing=!1}function xe(fe){return fe.ending&&!fe.destroyed&&fe.constructed&&0===fe.length&&!fe.errored&&0===fe.buffered.length&&!fe.finished&&!fe.writing&&!fe.errorEmitted&&!fe.closeEmitted}function ve(fe,he,ae){xe(he)&&(function Le(fe,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof fe._final||he.destroyed?(he.prefinished=!0,fe.emit("prefinish")):(he.finalCalled=!0,function Ie(fe,he){let ae=!1;function ue(ge){if(ae)k(fe,ge??ie());else if(ae=!0,he.pendingcb--,ge){const Ae=he[h].splice(0);for(let Ue=0;Ue<Ae.length;Ue++)Ae[Ue](ge);k(fe,ge,he.sync)}else xe(he)&&(he.prefinished=!0,fe.emit("prefinish"),he.pendingcb++,g.nextTick(ye,fe,he))}he.sync=!0,he.pendingcb++;try{fe._final(ue)}catch(ge){ue(ge)}he.sync=!1}(fe,he)))}(fe,he),0===he.pendingcb&&(ae?(he.pendingcb++,g.nextTick((ue,ge)=>{xe(ge)?ye(ue,ge):ge.pendingcb--},fe,he)):xe(he)&&(he.pendingcb++,ye(fe,he))))}function ye(fe,he){he.pendingcb--,he.finished=!0;const ae=he[h].splice(0);for(let ue=0;ue<ae.length;ue++)ae[ue]();if(fe.emit("finish"),he.autoDestroy){const ue=fe._readableState;(!ue||ue.autoDestroy&&(ue.endEmitted||!1===ue.readable))&&fe.destroy()}}m.prototype.getBuffer=function(){return w(this.buffered,this.bufferedIndex)},_(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),_(x,F,{__proto__:null,value:function(fe){return!!X(this,fe)||this===x&&fe&&fe._writableState instanceof m}}),x.prototype.pipe=function(){k(this,new re)},x.prototype.write=function(fe,he,ae){return!0===D(this,fe,he,ae)},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){const fe=this._writableState;fe.corked&&(fe.corked--,fe.writing||de(this,fe))},x.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=N(he)),!j.isEncoding(he))throw new Me(he);return this._writableState.defaultEncoding=he,this},x.prototype._write=function(fe,he,ae){if(!this._writev)throw new ne("_write()");this._writev([{chunk:fe,encoding:he}],ae)},x.prototype._writev=null,x.prototype.end=function(fe,he,ae){const ue=this._writableState;let ge;if("function"==typeof fe?(ae=fe,fe=null,he=null):"function"==typeof he&&(ae=he,he=null),null!=fe){const Ae=D(this,fe,he);Ae instanceof O&&(ge=Ae)}return ue.corked&&(ue.corked=1,this.uncork()),ge||(ue.errored||ue.ending?ue.finished?ge=new se("end"):ue.destroyed&&(ge=new ce("end")):(ue.ending=!0,ve(this,ue,!0),ue.ended=!0)),"function"==typeof ae&&(ge||ue.finished?g.nextTick(ae,ge):ue[h].push(ae)),this},R(x.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(fe){this._writableState&&(this._writableState.destroyed=fe)}},writable:{__proto__:null,get(){const fe=this._writableState;return!(!fe||!1===fe.writable||fe.destroyed||fe.errored||fe.ending||fe.ended)},set(fe){this._writableState&&(this._writableState.writable=!!fe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const fe=this._writableState;return!!fe&&!fe.destroyed&&!fe.ending&&fe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const ke=G.destroy;let me;function Ee(){return void 0===me&&(me={}),me}x.prototype.destroy=function(fe,he){const ae=this._writableState;return!ae.destroyed&&(ae.bufferedIndex<ae.buffered.length||ae[h].length)&&g.nextTick(Q,ae),ke.call(this,fe,he),this},x.prototype._undestroy=G.undestroy,x.prototype._destroy=function(fe,he){he(fe)},x.prototype[C.captureRejectionSymbol]=function(fe){this.destroy(fe)},x.fromWeb=function(fe,he){return Ee().newStreamWritableFromWritableStream(fe,he)},x.toWeb=function(fe){return Ee().newWritableStreamFromStreamWritable(fe)}},44323:(Ne,V,E)=>{"use strict";const{ArrayIsArray:g,ArrayPrototypeIncludes:w,ArrayPrototypeJoin:O,ArrayPrototypeMap:X,NumberIsInteger:_,NumberIsNaN:R,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:N,NumberParseInt:L,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:C,String:Y,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=E(43856),{hideStackFrames:te,codes:{ERR_SOCKET_BAD_PORT:ee,ERR_INVALID_ARG_TYPE:q,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:ne,ERR_UNKNOWN_SIGNAL:ie}}=E(65109),{normalizeEncoding:re}=E(55830),{isAsyncFunction:ce,isArrayBufferView:se}=E(55830).types,pe={},k=/^[0-7]+$/,m=te((Ae,Ue,Ve=N,ze=A)=>{if("number"!=typeof Ae)throw new q(Ue,"number",Ae);if(!_(Ae))throw new ne(Ue,"an integer",Ae);if(Ae<Ve||Ae>ze)throw new ne(Ue,`>= ${Ve} && <= ${ze}`,Ae)}),p=te((Ae,Ue,Ve=-2147483648,ze=2147483647)=>{if("number"!=typeof Ae)throw new q(Ue,"number",Ae);if(!_(Ae))throw new ne(Ue,"an integer",Ae);if(Ae<Ve||Ae>ze)throw new ne(Ue,`>= ${Ve} && <= ${ze}`,Ae)}),x=te((Ae,Ue,Ve=!1)=>{if("number"!=typeof Ae)throw new q(Ue,"number",Ae);if(!_(Ae))throw new ne(Ue,"an integer",Ae);const ze=Ve?1:0,It=4294967295;if(Ae<ze||Ae>It)throw new ne(Ue,`>= ${ze} && <= ${It}`,Ae)});function D(Ae,Ue){if("string"!=typeof Ae)throw new q(Ue,"string",Ae)}const M=te((Ae,Ue,Ve)=>{if(!w(Ve,Ae)){const It="must be one of: "+O(X(Ve,qe=>"string"==typeof qe?`'${qe}'`:Y(qe)),", ");throw new J(Ue,Ae,It)}});function d(Ae,Ue){if("boolean"!=typeof Ae)throw new q(Ue,"boolean",Ae)}function v(Ae,Ue,Ve){return null!=Ae&&F(Ae,Ue)?Ae[Ue]:Ve}const W=te((Ae,Ue,Ve=null)=>{const ze=v(Ve,"allowArray",!1),It=v(Ve,"allowFunction",!1);if(!v(Ve,"nullable",!1)&&null===Ae||!ze&&g(Ae)||"object"!=typeof Ae&&(!It||"function"!=typeof Ae))throw new q(Ue,"Object",Ae)}),z=te((Ae,Ue)=>{if(null!=Ae&&"object"!=typeof Ae&&"function"!=typeof Ae)throw new q(Ue,"a dictionary",Ae)}),Q=te((Ae,Ue,Ve=0)=>{if(!g(Ae))throw new q(Ue,"Array",Ae);if(Ae.length<Ve)throw new J(Ue,Ae,`must be longer than ${Ve}`)}),Le=te((Ae,Ue="buffer")=>{if(!se(Ae))throw new q(Ue,["Buffer","TypedArray","DataView"],Ae)}),ke=te((Ae,Ue)=>{if(void 0!==Ae&&(null===Ae||"object"!=typeof Ae||!("aborted"in Ae)))throw new q(Ue,"AbortSignal",Ae)}),me=te((Ae,Ue)=>{if("function"!=typeof Ae)throw new q(Ue,"Function",Ae)}),Ee=te((Ae,Ue)=>{if("function"!=typeof Ae||ce(Ae))throw new q(Ue,"Function",Ae)}),fe=te((Ae,Ue)=>{if(void 0!==Ae)throw new q(Ue,"undefined",Ae)}),ae=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(Ae,Ue){if(typeof Ae>"u"||!C(ae,Ae))throw new J(Ue,Ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ne.exports={isInt32:function we(Ae){return Ae===(0|Ae)},isUint32:function Me(Ae){return Ae===Ae>>>0},parseFileMode:function h(Ae,Ue,Ve){if(typeof Ae>"u"&&(Ae=Ve),"string"==typeof Ae){if(null===C(k,Ae))throw new J(Ue,Ae,"must be a 32-bit unsigned integer or an octal string");Ae=L(Ae,8)}return x(Ae,Ue),Ae},validateArray:Q,validateStringArray:function de(Ae,Ue){Q(Ae,Ue);for(let Ve=0;Ve<Ae.length;Ve++)D(Ae[Ve],`${Ue}[${Ve}]`)},validateBooleanArray:function xe(Ae,Ue){Q(Ae,Ue);for(let Ve=0;Ve<Ae.length;Ve++)d(Ae[Ve],`${Ue}[${Ve}]`)},validateBoolean:d,validateBuffer:Le,validateDictionary:z,validateEncoding:function ve(Ae,Ue){const Ve=re(Ue),ze=Ae.length;if("hex"===Ve&&ze%2!=0)throw new J("encoding",Ue,`is invalid for data of length ${ze}`)},validateFunction:me,validateInt32:p,validateInteger:m,validateNumber:function B(Ae,Ue,Ve=void 0,ze){if("number"!=typeof Ae)throw new q(Ue,"number",Ae);if(null!=Ve&&Ae<Ve||null!=ze&&Ae>ze||(null!=Ve||null!=ze)&&R(Ae))throw new ne(Ue,`${null!=Ve?`>= ${Ve}`:""}${null!=Ve&&null!=ze?" && ":""}${null!=ze?`<= ${ze}`:""}`,Ae)},validateObject:W,validateOneOf:M,validatePlainFunction:Ee,validatePort:function ye(Ae,Ue="Port",Ve=!0){if("number"!=typeof Ae&&"string"!=typeof Ae||"string"==typeof Ae&&0===G(Ae).length||+Ae!=+Ae>>>0||Ae>65535||0===Ae&&!Ve)throw new ee(Ue,Ae,Ve);return 0|Ae},validateSignalName:function Ie(Ae,Ue="signal"){if(D(Ae,Ue),void 0===pe[Ae])throw void 0!==pe[j(Ae)]?new ie(Ae+" (signals must use all capital letters)"):new ie(Ae)},validateString:D,validateUint32:x,validateUndefined:fe,validateUnion:function he(Ae,Ue,Ve){if(!w(Ve,Ae))throw new q(Ue,`('${O(Ve,"|")}')`,Ae)},validateAbortSignal:ke,validateLinkHeaderValue:function ge(Ae){if("string"==typeof Ae)return ue(Ae,"hints"),Ae;if(g(Ae)){const Ue=Ae.length;let Ve="";if(0===Ue)return Ve;for(let ze=0;ze<Ue;ze++){const It=Ae[ze];ue(It,"hints"),Ve+=It,ze!==Ue-1&&(Ve+=", ")}return Ve}throw new J("hints",Ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(Ne,V,E)=>{"use strict";const g=E(3052),w=E(19905),O=g.Readable.destroy;Ne.exports=g.Readable,Ne.exports._uint8ArrayToBuffer=g._uint8ArrayToBuffer,Ne.exports._isUint8Array=g._isUint8Array,Ne.exports.isDisturbed=g.isDisturbed,Ne.exports.isErrored=g.isErrored,Ne.exports.isReadable=g.isReadable,Ne.exports.Readable=g.Readable,Ne.exports.Writable=g.Writable,Ne.exports.Duplex=g.Duplex,Ne.exports.Transform=g.Transform,Ne.exports.PassThrough=g.PassThrough,Ne.exports.addAbortSignal=g.addAbortSignal,Ne.exports.finished=g.finished,Ne.exports.destroy=g.destroy,Ne.exports.destroy=O,Ne.exports.pipeline=g.pipeline,Ne.exports.compose=g.compose,Object.defineProperty(g,"promises",{configurable:!0,enumerable:!0,get:()=>w}),Ne.exports.Stream=g.Stream,Ne.exports.default=Ne.exports},65109:(Ne,V,E)=>{"use strict";const{format:g,inspect:w,AggregateError:O}=E(55830),X=globalThis.AggregateError||O,_=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,L={};function F(q,J){if(!q)throw new L.ERR_INTERNAL_ASSERTION(J)}function C(q){let J="",ne=q.length;const ie="-"===q[0]?1:0;for(;ne>=ie+4;ne-=3)J=`_${q.slice(ne-3,ne)}${J}`;return`${q.slice(0,ne)}${J}`}function j(q,J,ne){ne||(ne=Error);class ie extends ne{constructor(...ce){super(function Y(q,J,ne){if("function"==typeof J)return F(J.length<=ne.length,`Code: ${q}; The provided arguments length (${ne.length}) does not match the required ones (${J.length}).`),J(...ne);const ie=(J.match(/%[dfijoOs]/g)||[]).length;return F(ie===ne.length,`Code: ${q}; The provided arguments length (${ne.length}) does not match the required ones (${ie}).`),0===ne.length?J:g(J,...ne)}(q,J,ce))}toString(){return`${this.name} [${q}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:ne.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=q,ie.prototype[_]=!0,L[q]=ie}function G(q){return Object.defineProperty(q,"name",{value:"__node_internal_"+q.name}),q}class ee extends Error{constructor(J="The operation was aborted",ne=void 0){if(void 0!==ne&&"object"!=typeof ne)throw new L.ERR_INVALID_ARG_TYPE("options","Object",ne);super(J,ne),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(q,J,ne)=>{F("string"==typeof q,"'name' must be a string"),Array.isArray(J)||(J=[J]);let ie="The ";q.endsWith(" argument")?ie+=`${q} `:ie+=`"${q}" ${q.includes(".")?"property":"argument"} `,ie+="must be ";const re=[],ce=[],se=[];for(const we of J)F("string"==typeof we,"All expected entries have to be of type string"),R.includes(we)?re.push(we.toLowerCase()):A.test(we)?ce.push(we):(F("object"!==we,'The value "object" should be written as "Object"'),se.push(we));if(ce.length>0){const we=re.indexOf("object");-1!==we&&(re.splice(re,we,1),ce.push("Object"))}if(re.length>0){switch(re.length){case 1:ie+=`of type ${re[0]}`;break;case 2:ie+=`one of type ${re[0]} or ${re[1]}`;break;default:{const we=re.pop();ie+=`one of type ${re.join(", ")}, or ${we}`}}(ce.length>0||se.length>0)&&(ie+=" or ")}if(ce.length>0){switch(ce.length){case 1:ie+=`an instance of ${ce[0]}`;break;case 2:ie+=`an instance of ${ce[0]} or ${ce[1]}`;break;default:{const we=ce.pop();ie+=`an instance of ${ce.join(", ")}, or ${we}`}}se.length>0&&(ie+=" or ")}switch(se.length){case 0:break;case 1:se[0].toLowerCase()!==se[0]&&(ie+="an "),ie+=`${se[0]}`;break;case 2:ie+=`one of ${se[0]} or ${se[1]}`;break;default:{const we=se.pop();ie+=`one of ${se.join(", ")}, or ${we}`}}if(null==ne)ie+=`. Received ${ne}`;else if("function"==typeof ne&&ne.name)ie+=`. Received function ${ne.name}`;else if("object"==typeof ne){var pe;null!==(pe=ne.constructor)&&void 0!==pe&&pe.name?ie+=`. Received an instance of ${ne.constructor.name}`:ie+=`. Received ${w(ne,{depth:-1})}`}else{let we=w(ne,{colors:!1});we.length>25&&(we=`${we.slice(0,25)}...`),ie+=`. Received type ${typeof ne} (${we})`}return ie},TypeError),j("ERR_INVALID_ARG_VALUE",(q,J,ne="is invalid")=>{let ie=w(J);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${q.includes(".")?"property":"argument"} '${q}' ${ne}. Received ${ie}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(q,J,ne)=>{var ie;return`Expected ${q} to be returned from the "${J}" function but got ${null!=ne&&null!==(ie=ne.constructor)&&void 0!==ie&&ie.name?`instance of ${ne.constructor.name}`:"type "+typeof ne}.`},TypeError),j("ERR_MISSING_ARGS",(...q)=>{let J;F(q.length>0,"At least one arg needs to be specified");const ne=q.length;switch(q=(Array.isArray(q)?q:[q]).map(ie=>`"${ie}"`).join(" or "),ne){case 1:J+=`The ${q[0]} argument`;break;case 2:J+=`The ${q[0]} and ${q[1]} arguments`;break;default:{const ie=q.pop();J+=`The ${q.join(", ")}, and ${ie} arguments`}}return`${J} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(q,J,ne)=>{let ie;return F(J,'Missing "range" argument'),Number.isInteger(ne)&&Math.abs(ne)>2**32?ie=C(String(ne)):"bigint"==typeof ne?(ie=String(ne),(ne>2n**32n||ne<-(2n**32n))&&(ie=C(ie)),ie+="n"):ie=w(ne),`The value of "${q}" is out of range. It must be ${J}. Received ${ie}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ne.exports={AbortError:ee,aggregateTwoErrors:G(function te(q,J){if(q&&J&&q!==J){if(Array.isArray(J.errors))return J.errors.push(q),J;const ne=new X([J,q],J.message);return ne.code=J.code,ne}return q||J}),hideStackFrames:G,codes:L}},43856:Ne=>{"use strict";Ne.exports={ArrayIsArray:V=>Array.isArray(V),ArrayPrototypeIncludes:(V,E)=>V.includes(E),ArrayPrototypeIndexOf:(V,E)=>V.indexOf(E),ArrayPrototypeJoin:(V,E)=>V.join(E),ArrayPrototypeMap:(V,E)=>V.map(E),ArrayPrototypePop:(V,E)=>V.pop(E),ArrayPrototypePush:(V,E)=>V.push(E),ArrayPrototypeSlice:(V,E,g)=>V.slice(E,g),Error,FunctionPrototypeCall:(V,E,...g)=>V.call(E,...g),FunctionPrototypeSymbolHasInstance:(V,E)=>Function.prototype[Symbol.hasInstance].call(V,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(V,E)=>Object.defineProperties(V,E),ObjectDefineProperty:(V,E,g)=>Object.defineProperty(V,E,g),ObjectGetOwnPropertyDescriptor:(V,E)=>Object.getOwnPropertyDescriptor(V,E),ObjectKeys:V=>Object.keys(V),ObjectSetPrototypeOf:(V,E)=>Object.setPrototypeOf(V,E),Promise,PromisePrototypeCatch:(V,E)=>V.catch(E),PromisePrototypeThen:(V,E,g)=>V.then(E,g),PromiseReject:V=>Promise.reject(V),ReflectApply:Reflect.apply,RegExpPrototypeTest:(V,E)=>V.test(E),SafeSet:Set,String,StringPrototypeSlice:(V,E,g)=>V.slice(E,g),StringPrototypeToLowerCase:V=>V.toLowerCase(),StringPrototypeToUpperCase:V=>V.toUpperCase(),StringPrototypeTrim:V=>V.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(V,E,g)=>V.set(E,g),Uint8Array}},55830:(Ne,V,E)=>{"use strict";var g=E(29293).default;const w=E(89565),O=Object.getPrototypeOf(g(function*(){})).constructor,X=globalThis.Blob||w.Blob,_=typeof X<"u"?function(N){return N instanceof X}:function(N){return!1};class R extends Error{constructor(N){if(!Array.isArray(N))throw new TypeError("Expected input to be an Array, got "+typeof N);let L="";for(let F=0;F<N.length;F++)L+=`    ${N[F].stack}\n`;super(L),this.name="AggregateError",this.errors=N}}Ne.exports={AggregateError:R,kEmptyObject:Object.freeze({}),once(A){let N=!1;return function(...L){N||(N=!0,A.apply(this,L))}},createDeferredPromise:function(){let A,N;return{promise:new Promise((F,C)=>{A=F,N=C}),resolve:A,reject:N}},promisify:A=>new Promise((N,L)=>{A((F,...C)=>F?L(F):N(...C))}),debuglog:()=>function(){},format:(A,...N)=>A.replace(/%([sdifj])/g,function(...[L,F]){const C=N.shift();return"f"===F?C.toFixed(6):"j"===F?JSON.stringify(C):"s"===F&&"object"==typeof C?`${C.constructor!==Object?C.constructor.name:""} {}`.trim():C.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof O,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:_},Ne.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Ne,V,E)=>{const{Buffer:g}=E(89565),{ObjectDefineProperty:w,ObjectKeys:O,ReflectApply:X}=E(43856),{promisify:{custom:_}}=E(55830),{streamReturningOperators:R,promiseReturningOperators:A}=E(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(65109),L=E(5464),{pipeline:F}=E(96208),{destroyer:C}=E(45078),Y=E(44268),G=E(19905),te=E(51233),ee=Ne.exports=E(2649).Stream;ee.isDisturbed=te.isDisturbed,ee.isErrored=te.isErrored,ee.isReadable=te.isReadable,ee.Readable=E(29710);for(const ne of O(R)){let re=function(...ce){if(new.target)throw N();return ee.Readable.from(X(ie,this,ce))};const ie=R[ne];w(re,"name",{__proto__:null,value:ie.name}),w(re,"length",{__proto__:null,value:ie.length}),w(ee.Readable.prototype,ne,{__proto__:null,value:re,enumerable:!1,configurable:!0,writable:!0})}for(const ne of O(A)){let re=function(...se){if(new.target)throw N();return X(ie,this,se)};const ie=A[ne];w(re,"name",{__proto__:null,value:ie.name}),w(re,"length",{__proto__:null,value:ie.length}),w(ee.Readable.prototype,ne,{__proto__:null,value:re,enumerable:!1,configurable:!0,writable:!0})}ee.Writable=E(40258),ee.Duplex=E(97464),ee.Transform=E(66344),ee.PassThrough=E(70874),ee.pipeline=F;const{addAbortSignal:q}=E(24785);ee.addAbortSignal=q,ee.finished=Y,ee.destroy=C,ee.compose=L,w(ee,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),w(F,_,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),w(Y,_,{__proto__:null,enumerable:!0,get:()=>G.finished}),ee.Stream=ee,ee._isUint8Array=function(ie){return ie instanceof Uint8Array},ee._uint8ArrayToBuffer=function(ie){return g.from(ie.buffer,ie.byteOffset,ie.byteLength)}},19905:(Ne,V,E)=>{"use strict";const{ArrayPrototypePop:g,Promise:w}=E(43856),{isIterable:O,isNodeStream:X,isWebStream:_}=E(51233),{pipelineImpl:R}=E(96208),{finished:A}=E(44268);E(3052),Ne.exports={finished:A,pipeline:function N(...L){return new w((F,C)=>{let Y,j;const G=L[L.length-1];if(G&&"object"==typeof G&&!X(G)&&!O(G)&&!_(G)){const te=g(L);Y=te.signal,j=te.end}R(L,(te,ee)=>{te?C(te):F(ee)},{signal:Y,end:j})})}}},67449:(Ne,V,E)=>{V.Level=E(23963).BrowserLevel},97829:Ne=>{var V=1e3,E=60*V,g=60*E,w=24*g,O=7*w;function N(L,F,C,Y){var j=F>=1.5*C;return Math.round(L/C)+" "+Y+(j?"s":"")}Ne.exports=function(L,F){F=F||{};var C=typeof L;if("string"===C&&L.length>0)return function _(L){if(!((L=String(L)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(F){var C=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*C;case"weeks":case"week":case"w":return C*O;case"days":case"day":case"d":return C*w;case"hours":case"hour":case"hrs":case"hr":case"h":return C*g;case"minutes":case"minute":case"mins":case"min":case"m":return C*E;case"seconds":case"second":case"secs":case"sec":case"s":return C*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}(L);if("number"===C&&isFinite(L))return F.long?function A(L){var F=Math.abs(L);return F>=w?N(L,F,w,"day"):F>=g?N(L,F,g,"hour"):F>=E?N(L,F,E,"minute"):F>=V?N(L,F,V,"second"):L+" ms"}(L):function R(L){var F=Math.abs(L);return F>=w?Math.round(L/w)+"d":F>=g?Math.round(L/g)+"h":F>=E?Math.round(L/E)+"m":F>=V?Math.round(L/V)+"s":L+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},9465:Ne=>{"use strict";const{AbortController:V,AbortSignal:E}=typeof self<"u"?self:typeof window<"u"?window:void 0;Ne.exports=V,Ne.exports.AbortSignal=E,Ne.exports.default=V},91463:(Ne,V,E)=>{"use strict";const{fromCallback:g}=E(42381),w=E(61747),{getCallback:O,getOptions:X}=E(10475),_=Symbol("promise"),R=Symbol("status"),A=Symbol("operations"),N=Symbol("finishClose"),L=Symbol("closeCallbacks");V.AbstractChainedBatch=class F{constructor(Y){if("object"!=typeof Y||null===Y)throw new TypeError("The first argument must be an abstract-level database, received "+(null===Y?"null":typeof Y));this[A]=[],this[L]=[],this[R]="open",this[N]=this[N].bind(this),this.db=Y,this.db.attachResource(this),this.nextTick=Y.nextTick}get length(){return this[A].length}put(Y,j,G){if("open"!==this[R])throw new w("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const te=this.db._checkKey(Y)||this.db._checkValue(j);if(te)throw te;const ee=G&&null!=G.sublevel?G.sublevel:this.db,q=G,J=ee.keyEncoding(G&&G.keyEncoding),ne=ee.valueEncoding(G&&G.valueEncoding),ie=J.format;G={...G,keyEncoding:ie,valueEncoding:ne.format},ee!==this.db&&(G.sublevel=null);const re=ee.prefixKey(J.encode(Y),ie),ce=ne.encode(j);return this._put(re,ce,G),this[A].push({...q,type:"put",key:Y,value:j}),this}_put(Y,j,G){}del(Y,j){if("open"!==this[R])throw new w("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const G=this.db._checkKey(Y);if(G)throw G;const te=j&&null!=j.sublevel?j.sublevel:this.db,ee=j,q=te.keyEncoding(j&&j.keyEncoding),J=q.format;return j={...j,keyEncoding:J},te!==this.db&&(j.sublevel=null),this._del(te.prefixKey(q.encode(Y),J),j),this[A].push({...ee,type:"del",key:Y}),this}_del(Y,j){}clear(){if("open"!==this[R])throw new w("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[A]=[],this}_clear(){}write(Y,j){return j=O(Y,j),j=g(j,_),Y=X(Y),"open"!==this[R]?this.nextTick(j,new w("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(j):(this[R]="writing",this._write(Y,G=>{this[R]="closing",this[L].push(()=>j(G)),G||this.db.emit("batch",this[A]),this._close(this[N])})),j[_]}_write(Y,j){}close(Y){return Y=g(Y,_),"closing"===this[R]?this[L].push(Y):"closed"===this[R]?this.nextTick(Y):(this[L].push(Y),"writing"!==this[R]&&(this[R]="closing",this._close(this[N]))),Y[_]}_close(Y){this.nextTick(Y)}[N](){this[R]="closed",this.db.detachResource(this);const Y=this[L];this[L]=[];for(const j of Y)j()}}},63294:(Ne,V,E)=>{"use strict";var g=E(53344).default,w=E(42958).default;const{fromCallback:O}=E(42381),X=E(61747),{getOptions:_,getCallback:R}=E(10475),A=Symbol("promise"),N=Symbol("callback"),L=Symbol("working"),F=Symbol("handleOne"),C=Symbol("handleMany"),Y=Symbol("autoClose"),j=Symbol("finishWork"),G=Symbol("returnMany"),te=Symbol("closing"),ee=Symbol("handleClose"),q=Symbol("closed"),J=Symbol("closeCallbacks"),ne=Symbol("keyEncoding"),ie=Symbol("valueEncoding"),re=Symbol("abortOnClose"),ce=Symbol("legacy"),se=Symbol("keys"),pe=Symbol("values"),we=Symbol("limit"),Me=Symbol("count"),k=Object.freeze({}),l=()=>{};let h=!1;class m{constructor(d,v,W){if("object"!=typeof d||null===d)throw new TypeError("The first argument must be an abstract-level database, received "+(null===d?"null":typeof d));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[q]=!1,this[J]=[],this[L]=!1,this[te]=!1,this[Y]=!1,this[N]=null,this[F]=this[F].bind(this),this[C]=this[C].bind(this),this[ee]=this[ee].bind(this),this[ne]=v[ne],this[ie]=v[ie],this[ce]=W,this[we]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[Me]=0,this[re]=!!v.abortOnClose,this.db=d,this.db.attachResource(this),this.nextTick=d.nextTick}get count(){return this[Me]}get limit(){return this[we]}next(d){let v;if(void 0===d)v=new Promise((W,z)=>{d=(Q,de,xe)=>{Q?z(Q):this[ce]?void 0===de&&void 0===xe?W():W([de,xe]):W(de)}});else if("function"!=typeof d)throw new TypeError("Callback must be a function");return this[te]?this.nextTick(d,new X("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[L]?this.nextTick(d,new X("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[L]=!0,this[N]=d,this[Me]>=this[we]?this.nextTick(this[F],null):this._next(this[F])),v}_next(d){this.nextTick(d)}nextv(d,v,W){return W=R(v,W),W=O(W,A),v=_(v,k),Number.isInteger(d)?(this[te]?this.nextTick(W,new X("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[L]?this.nextTick(W,new X("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(d<1&&(d=1),this[we]<1/0&&(d=Math.min(d,this[we]-this[Me])),this[L]=!0,this[N]=W,d<=0?this.nextTick(this[C],null,[]):this._nextv(d,v,this[C])),W[A]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[A])}_nextv(d,v,W){const z=[],Q=(de,xe,Ie)=>de?W(de):(this[ce]?void 0===xe&&void 0===Ie:void 0===xe)?W(null,z):(z.push(this[ce]?[xe,Ie]:xe),void(z.length===d?W(null,z):this._next(Q)));this._next(Q)}all(d,v){return v=R(d,v),v=O(v,A),d=_(d,k),this[te]?this.nextTick(v,new X("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[L]?this.nextTick(v,new X("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[L]=!0,this[N]=v,this[Y]=!0,this[Me]>=this[we]?this.nextTick(this[C],null,[]):this._all(d,this[C])),v[A]}_all(d,v){let W=this[Me];const z=[],Q=()=>{const xe=this[we]<1/0?Math.min(1e3,this[we]-W):1e3;xe<=0?this.nextTick(v,null,z):this._nextv(xe,k,de)},de=(xe,Ie)=>{xe?v(xe):0===Ie.length?v(null,z):(z.push.apply(z,Ie),W+=Ie.length,Q())};Q()}[j](){const d=this[N];return this[re]&&null===d?l:(this[L]=!1,this[N]=null,this[te]&&this._close(this[ee]),d)}[G](d,v,W){this[Y]?this.close(d.bind(null,v,W)):d(v,W)}seek(d,v){if(v=_(v,k),!this[te]){if(this[L])throw new X("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(v.keyEncoding||this[ne]),z=W.format;v.keyEncoding!==z&&(v={...v,keyEncoding:z});const Q=this.db.prefixKey(W.encode(d),z);this._seek(Q,v)}}}_seek(d,v){throw new X("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(d){return d=O(d,A),this[q]?this.nextTick(d):this[te]?this[J].push(d):(this[te]=!0,this[J].push(d),this[L]?this[re]&&this[j]()(new X("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[ee])),d[A]}_close(d){this.nextTick(d)}[ee](){this[q]=!0,this.db.detachResource(this);const d=this[J];this[J]=[];for(const v of d)v()}[Symbol.asyncIterator](){var d=this;return w(function*(){try{let v;for(;void 0!==(v=yield g(d.next()));)yield v}finally{d[q]||(yield g(d.close()))}})()}}class p extends m{constructor(d,v){super(d,v,!0),this[se]=!1!==v.keys,this[pe]=!1!==v.values}[F](d,v,W){const z=this[j]();if(d)return z(d);try{v=this[se]&&void 0!==v?this[ne].decode(v):void 0,W=this[pe]&&void 0!==W?this[ie].decode(W):void 0}catch(Q){return z(new B("entry",Q))}void 0===v&&void 0===W||this[Me]++,z(null,v,W)}[C](d,v){const W=this[j]();if(d)return this[G](W,d);try{for(const z of v){const Q=z[0],de=z[1];z[0]=this[se]&&void 0!==Q?this[ne].decode(Q):void 0,z[1]=this[pe]&&void 0!==de?this[ie].decode(de):void 0}}catch(z){return this[G](W,new B("entries",z))}this[Me]+=v.length,this[G](W,null,v)}end(d){return!h&&typeof console<"u"&&(h=!0,console.warn(new X("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(d)}}class B extends X{constructor(d,v){super(`Iterator could not decode ${d}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const M of["_ended property","_nexting property","_end method"])Object.defineProperty(p.prototype,M.split(" ")[0],{get(){throw new X(`The ${M} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new X(`The ${M} has been removed`,{code:"LEVEL_LEGACY"})}});p.keyEncoding=ne,p.valueEncoding=ie,V.AbstractIterator=p,V.AbstractKeyIterator=class x extends m{constructor(d,v){super(d,v,!1)}[F](d,v){const W=this[j]();if(d)return W(d);try{v=void 0!==v?this[ne].decode(v):void 0}catch(z){return W(new B("key",z))}void 0!==v&&this[Me]++,W(null,v)}[C](d,v){const W=this[j]();if(d)return this[G](W,d);try{for(let z=0;z<v.length;z++){const Q=v[z];v[z]=void 0!==Q?this[ne].decode(Q):void 0}}catch(z){return this[G](W,new B("keys",z))}this[Me]+=v.length,this[G](W,null,v)}},V.AbstractValueIterator=class D extends m{constructor(d,v){super(d,v,!1)}[F](d,v){const W=this[j]();if(d)return W(d);try{v=void 0!==v?this[ie].decode(v):void 0}catch(z){return W(new B("value",z))}void 0!==v&&this[Me]++,W(null,v)}[C](d,v){const W=this[j]();if(d)return this[G](W,d);try{for(let z=0;z<v.length;z++){const Q=v[z];v[z]=void 0!==Q?this[ie].decode(Q):void 0}}catch(z){return this[G](W,new B("values",z))}this[Me]+=v.length,this[G](W,null,v)}}},83764:(Ne,V,E)=>{"use strict";const{supports:g}=E(89061),{Transcoder:w}=E(25006),{EventEmitter:O}=E(44356),{fromCallback:X}=E(42381),_=E(61747),{AbstractIterator:R}=E(63294),{DefaultKeyIterator:A,DefaultValueIterator:N}=E(48335),{DeferredIterator:L,DeferredKeyIterator:F,DeferredValueIterator:C}=E(92745),{DefaultChainedBatch:Y}=E(45776),{getCallback:j,getOptions:G}=E(10475),te=E(4287),ee=Symbol("promise"),q=Symbol("landed"),J=Symbol("resources"),ne=Symbol("closeResources"),ie=Symbol("operations"),re=Symbol("undefer"),ce=Symbol("deferOpen"),se=Symbol("options"),pe=Symbol("status"),we=Symbol("defaultOptions"),Me=Symbol("transcoder"),k=Symbol("keyEncoding"),l=Symbol("valueEncoding"),h=()=>{};class m extends O{constructor(M,d){if(super(),"object"!=typeof M||null===M)throw new TypeError("The first argument 'manifest' must be an object");d=G(d);const{keyEncoding:v,valueEncoding:W,passive:z,...Q}=d;this[J]=new Set,this[ie]=[],this[ce]=!0,this[se]=Q,this[pe]="opening",this.supports=g(M,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==M.snapshots,permanence:!1!==M.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:M.encodings||{},events:Object.assign({},M.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Me]=new w(D(this)),this[k]=this[Me].encoding(v||"utf8"),this[l]=this[Me].encoding(W||"utf8");for(const de of this[Me].encodings())this.supports.encodings[de.commonName]||(this.supports.encodings[de.commonName]=!0);this[we]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[k].commonName,valueEncoding:this[l].commonName}),key:Object.freeze({keyEncoding:this[k].commonName})},this.nextTick(()=>{this[ce]&&this.open({passive:!1},h)})}get status(){return this[pe]}keyEncoding(M){return this[Me].encoding(M??this[k])}valueEncoding(M){return this[Me].encoding(M??this[l])}open(M,d){d=j(M,d),d=X(d,ee),(M={...this[se],...G(M)}).createIfMissing=!1!==M.createIfMissing,M.errorIfExists=!!M.errorIfExists;const v=W=>{"closing"===this[pe]||"opening"===this[pe]?this.once(q,W?()=>v(W):v):"open"!==this[pe]?d(new _("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:W})):d()};return M.passive?"opening"===this[pe]?this.once(q,v):this.nextTick(v):"closed"===this[pe]||this[ce]?(this[ce]=!1,this[pe]="opening",this.emit("opening"),this._open(M,W=>{if(W)return this[pe]="closed",this[ne](()=>{this.emit(q),v(W)}),void this[re]();this[pe]="open",this[re](),this.emit(q),"open"===this[pe]&&this.emit("open"),"open"===this[pe]&&this.emit("ready"),v()})):"open"===this[pe]?this.nextTick(v):this.once(q,()=>this.open(M,d)),d[ee]}_open(M,d){this.nextTick(d)}close(M){M=X(M,ee);const d=v=>{"opening"===this[pe]||"closing"===this[pe]?this.once(q,v?d(v):d):"closed"!==this[pe]?M(new _("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):M()};if("open"===this[pe]){this[pe]="closing",this.emit("closing");const v=W=>{this[pe]="open",this[re](),this.emit(q),d(W)};this[ne](()=>{this._close(W=>{if(W)return v(W);this[pe]="closed",this[re](),this.emit(q),"closed"===this[pe]&&this.emit("closed"),d()})})}else"closed"===this[pe]?this.nextTick(d):this.once(q,()=>this.close(M));return M[ee]}[ne](M){if(0===this[J].size)return this.nextTick(M);let d=this[J].size,v=!0;const W=()=>{0==--d&&(v?this.nextTick(M):M())};for(const z of this[J])z.close(W);v=!1,this[J].clear()}_close(M){this.nextTick(M)}get(M,d,v){if(v=j(d,v),v=X(v,ee),d=G(d,this[we].entry),"opening"===this[pe])return this.defer(()=>this.get(M,d,v)),v[ee];if(x(this,v))return v[ee];const W=this._checkKey(M);if(W)return this.nextTick(v,W),v[ee];const z=this.keyEncoding(d.keyEncoding),Q=this.valueEncoding(d.valueEncoding),de=z.format,xe=Q.format;return(d.keyEncoding!==de||d.valueEncoding!==xe)&&(d=Object.assign({},d,{keyEncoding:de,valueEncoding:xe})),this._get(this.prefixKey(z.encode(M),de),d,(Ie,Le)=>{if(Ie)return("LEVEL_NOT_FOUND"===Ie.code||Ie.notFound||/NotFound/i.test(Ie))&&(Ie.code||(Ie.code="LEVEL_NOT_FOUND"),Ie.notFound||(Ie.notFound=!0),Ie.status||(Ie.status=404)),v(Ie);try{Le=Q.decode(Le)}catch(ve){return v(new _("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:ve}))}v(null,Le)}),v[ee]}_get(M,d,v){this.nextTick(v,new Error("NotFound"))}getMany(M,d,v){if(v=j(d,v),v=X(v,ee),d=G(d,this[we].entry),"opening"===this[pe])return this.defer(()=>this.getMany(M,d,v)),v[ee];if(x(this,v))return v[ee];if(!Array.isArray(M))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[ee];if(0===M.length)return this.nextTick(v,null,[]),v[ee];const W=this.keyEncoding(d.keyEncoding),z=this.valueEncoding(d.valueEncoding),Q=W.format,de=z.format;(d.keyEncoding!==Q||d.valueEncoding!==de)&&(d=Object.assign({},d,{keyEncoding:Q,valueEncoding:de}));const xe=new Array(M.length);for(let Ie=0;Ie<M.length;Ie++){const Le=M[Ie],ve=this._checkKey(Le);if(ve)return this.nextTick(v,ve),v[ee];xe[Ie]=this.prefixKey(W.encode(Le),Q)}return this._getMany(xe,d,(Ie,Le)=>{if(Ie)return v(Ie);try{for(let ve=0;ve<Le.length;ve++)void 0!==Le[ve]&&(Le[ve]=z.decode(Le[ve]))}catch(ve){return v(new _(`Could not decode one or more of ${Le.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:ve}))}v(null,Le)}),v[ee]}_getMany(M,d,v){this.nextTick(v,null,new Array(M.length).fill(void 0))}put(M,d,v,W){if(W=j(v,W),W=X(W,ee),v=G(v,this[we].entry),"opening"===this[pe])return this.defer(()=>this.put(M,d,v,W)),W[ee];if(x(this,W))return W[ee];const z=this._checkKey(M)||this._checkValue(d);if(z)return this.nextTick(W,z),W[ee];const Q=this.keyEncoding(v.keyEncoding),de=this.valueEncoding(v.valueEncoding),xe=Q.format,Ie=de.format;(v.keyEncoding!==xe||v.valueEncoding!==Ie)&&(v=Object.assign({},v,{keyEncoding:xe,valueEncoding:Ie}));const Le=this.prefixKey(Q.encode(M),xe),ve=de.encode(d);return this._put(Le,ve,v,ye=>{if(ye)return W(ye);this.emit("put",M,d),W()}),W[ee]}_put(M,d,v,W){this.nextTick(W)}del(M,d,v){if(v=j(d,v),v=X(v,ee),d=G(d,this[we].key),"opening"===this[pe])return this.defer(()=>this.del(M,d,v)),v[ee];if(x(this,v))return v[ee];const W=this._checkKey(M);if(W)return this.nextTick(v,W),v[ee];const z=this.keyEncoding(d.keyEncoding),Q=z.format;return d.keyEncoding!==Q&&(d=Object.assign({},d,{keyEncoding:Q})),this._del(this.prefixKey(z.encode(M),Q),d,de=>{if(de)return v(de);this.emit("del",M),v()}),v[ee]}_del(M,d,v){this.nextTick(v)}batch(M,d,v){if(!arguments.length){if("opening"===this[pe])return new Y(this);if("open"!==this[pe])throw new _("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof M?M:j(d,v),v=X(v,ee),d=G(d,this[we].empty),"opening"===this[pe])return this.defer(()=>this.batch(M,d,v)),v[ee];if(x(this,v))return v[ee];if(!Array.isArray(M))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[ee];if(0===M.length)return this.nextTick(v),v[ee];const W=new Array(M.length),{keyEncoding:z,valueEncoding:Q,...de}=d;for(let xe=0;xe<M.length;xe++){if("object"!=typeof M[xe]||null===M[xe])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[ee];const Ie=Object.assign({},M[xe]);if("put"!==Ie.type&&"del"!==Ie.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[ee];const Le=this._checkKey(Ie.key);if(Le)return this.nextTick(v,Le),v[ee];const ve=null!=Ie.sublevel?Ie.sublevel:this,ye=ve.keyEncoding(Ie.keyEncoding||z),ke=ye.format;if(Ie.key=ve.prefixKey(ye.encode(Ie.key),ke),Ie.keyEncoding=ke,"put"===Ie.type){const me=this._checkValue(Ie.value);if(me)return this.nextTick(v,me),v[ee];const Ee=ve.valueEncoding(Ie.valueEncoding||Q);Ie.value=Ee.encode(Ie.value),Ie.valueEncoding=Ee.format}ve!==this&&(Ie.sublevel=null),W[xe]=Ie}return this._batch(W,de,xe=>{if(xe)return v(xe);this.emit("batch",M),v()}),v[ee]}_batch(M,d,v){this.nextTick(v)}sublevel(M,d){return this._sublevel(M,p.defaults(d))}_sublevel(M,d){return new p(this,M,d)}prefixKey(M,d){return M}clear(M,d){if(d=j(M,d),d=X(d,ee),M=G(M,this[we].empty),"opening"===this[pe])return this.defer(()=>this.clear(M,d)),d[ee];if(x(this,d))return d[ee];const v=M,W=this.keyEncoding(M.keyEncoding);return(M=te(M,W)).keyEncoding=W.format,0===M.limit?this.nextTick(d):this._clear(M,z=>{if(z)return d(z);this.emit("clear",v),d()}),d[ee]}_clear(M,d){this.nextTick(d)}iterator(M){const d=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=te(M,d)).keys=!1!==M.keys,M.values=!1!==M.values,M[R.keyEncoding]=d,M[R.valueEncoding]=v,M.keyEncoding=d.format,M.valueEncoding=v.format,"opening"===this[pe])return new L(this,M);if("open"!==this[pe])throw new _("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(M)}_iterator(M){return new R(this,M)}keys(M){const d=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=te(M,d))[R.keyEncoding]=d,M[R.valueEncoding]=v,M.keyEncoding=d.format,M.valueEncoding=v.format,"opening"===this[pe])return new F(this,M);if("open"!==this[pe])throw new _("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(M)}_keys(M){return new A(this,M)}values(M){const d=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=te(M,d))[R.keyEncoding]=d,M[R.valueEncoding]=v,M.keyEncoding=d.format,M.valueEncoding=v.format,"opening"===this[pe])return new C(this,M);if("open"!==this[pe])throw new _("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(M)}_values(M){return new N(this,M)}defer(M){if("function"!=typeof M)throw new TypeError("The first argument must be a function");this[ie].push(M)}[re](){if(0===this[ie].length)return;const M=this[ie];this[ie]=[];for(const d of M)d()}attachResource(M){if("object"!=typeof M||null===M||"function"!=typeof M.close)throw new TypeError("The first argument must be a resource object");this[J].add(M)}detachResource(M){this[J].delete(M)}_chainedBatch(){return new Y(this)}_checkKey(M){if(null==M)return new _("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(M){if(null==M)return new _("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}m.prototype.nextTick=E(24585);const{AbstractSublevel:p}=E(25416)({AbstractLevel:m});V.AbstractLevel=m,V.AbstractSublevel=p;const x=function(B,M){return"open"!==B[pe]&&(B.nextTick(M,new _("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},D=function(B){return Object.keys(B.supports.encodings).filter(M=>!!B.supports.encodings[M])}},75929:(Ne,V,E)=>{"use strict";V.AbstractLevel=E(83764).AbstractLevel,V.AbstractSublevel=E(83764).AbstractSublevel,V.AbstractIterator=E(63294).AbstractIterator,V.AbstractKeyIterator=E(63294).AbstractKeyIterator,V.AbstractValueIterator=E(63294).AbstractValueIterator,V.AbstractChainedBatch=E(91463).AbstractChainedBatch},47519:(Ne,V,E)=>{"use strict";const{AbstractIterator:g,AbstractKeyIterator:w,AbstractValueIterator:O}=E(63294),X=Symbol("unfix"),_=Symbol("iterator"),R=Symbol("handleOne"),A=Symbol("handleMany"),N=Symbol("callback");class L extends g{constructor(j,G,te,ee){super(j,G),this[_]=te,this[X]=ee,this[R]=this[R].bind(this),this[A]=this[A].bind(this),this[N]=null}[R](j,G,te){const ee=this[N];if(j)return ee(j);void 0!==G&&(G=this[X](G)),ee(j,G,te)}[A](j,G){const te=this[N];if(j)return te(j);for(const ee of G){const q=ee[0];void 0!==q&&(ee[0]=this[X](q))}te(j,G)}}class F extends w{constructor(j,G,te,ee){super(j,G),this[_]=te,this[X]=ee,this[R]=this[R].bind(this),this[A]=this[A].bind(this),this[N]=null}[R](j,G){const te=this[N];if(j)return te(j);void 0!==G&&(G=this[X](G)),te(j,G)}[A](j,G){const te=this[N];if(j)return te(j);for(let ee=0;ee<G.length;ee++){const q=G[ee];void 0!==q&&(G[ee]=this[X](q))}te(j,G)}}class C extends O{constructor(j,G,te){super(j,G),this[_]=te}}for(const Y of[L,F])Y.prototype._next=function(j){this[N]=j,this[_].next(this[R])},Y.prototype._nextv=function(j,G,te){this[N]=te,this[_].nextv(j,G,this[A])},Y.prototype._all=function(j,G){this[N]=G,this[_].all(j,this[A])};for(const Y of[C])Y.prototype._next=function(j){this[_].next(j)},Y.prototype._nextv=function(j,G,te){this[_].nextv(j,G,te)},Y.prototype._all=function(j,G){this[_].all(j,G)};for(const Y of[L,F,C])Y.prototype._seek=function(j,G){this[_].seek(j,G)},Y.prototype._close=function(j){this[_].close(j)};V.AbstractSublevelIterator=L,V.AbstractSublevelKeyIterator=F,V.AbstractSublevelValueIterator=C},25416:(Ne,V,E)=>{"use strict";const g=E(61747),{Buffer:w}=E(1067)||{},{AbstractSublevelIterator:O,AbstractSublevelKeyIterator:X,AbstractSublevelValueIterator:_}=E(47519),R=Symbol("prefix"),A=Symbol("upperBound"),N=Symbol("prefixRange"),L=Symbol("parent"),F=Symbol("unfix"),C=new TextEncoder,Y={separator:"!"};Ne.exports=function({AbstractLevel:J}){class ne extends J{static defaults(re){if("string"==typeof re)throw new g("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(re&&re.open)throw new g("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==re?Y:re.separator?re:{...re,separator:"!"}}constructor(re,ce,se){const{separator:pe,manifest:we,...Me}=ne.defaults(se);ce=q(ce,pe);const k=pe.charCodeAt(0)+1,l=re[L]||re;if(!C.encode(ce).every(p=>p>k&&p<127))throw new g(`Prefix must use bytes > ${k} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(j(l,we),Me);const h=(re.prefix||"")+pe+ce+pe,m=h.slice(0,-1)+String.fromCharCode(k);this[L]=l,this[R]=new te(h),this[A]=new te(m),this[F]=new ee,this.nextTick=l.nextTick}prefixKey(re,ce){if("utf8"===ce)return this[R].utf8+re;if(0===re.byteLength)return this[R][ce];if("view"===ce){const se=this[R].view,pe=new Uint8Array(se.byteLength+re.byteLength);return pe.set(se,0),pe.set(re,se.byteLength),pe}{const se=this[R].buffer;return w.concat([se,re],se.byteLength+re.byteLength)}}[N](re,ce){void 0!==re.gte?re.gte=this.prefixKey(re.gte,ce):void 0!==re.gt?re.gt=this.prefixKey(re.gt,ce):re.gte=this[R][ce],void 0!==re.lte?re.lte=this.prefixKey(re.lte,ce):void 0!==re.lt?re.lt=this.prefixKey(re.lt,ce):re.lte=this[A][ce]}get prefix(){return this[R].utf8}get db(){return this[L]}_open(re,ce){this[L].open({passive:!0},ce)}_put(re,ce,se,pe){this[L].put(re,ce,se,pe)}_get(re,ce,se){this[L].get(re,ce,se)}_getMany(re,ce,se){this[L].getMany(re,ce,se)}_del(re,ce,se){this[L].del(re,ce,se)}_batch(re,ce,se){this[L].batch(re,ce,se)}_clear(re,ce){this[N](re,re.keyEncoding),this[L].clear(re,ce)}_iterator(re){this[N](re,re.keyEncoding);const ce=this[L].iterator(re),se=this[F].get(this[R].utf8.length,re.keyEncoding);return new O(this,re,ce,se)}_keys(re){this[N](re,re.keyEncoding);const ce=this[L].keys(re),se=this[F].get(this[R].utf8.length,re.keyEncoding);return new X(this,re,ce,se)}_values(re){this[N](re,re.keyEncoding);const ce=this[L].values(re);return new _(this,re,ce)}}return{AbstractSublevel:ne}};const j=function(J,ne){return{...J.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...ne,encodings:{utf8:G(J,"utf8"),buffer:G(J,"buffer"),view:G(J,"view")}}},G=function(J,ne){return!!J.supports.encodings[ne]&&J.keyEncoding(ne).name===ne};class te{constructor(ne){this.utf8=ne,this.view=C.encode(ne),this.buffer=w?w.from(this.view.buffer,0,this.view.byteLength):{}}}class ee{constructor(){this.cache=new Map}get(ne,ie){let re=this.cache.get(ie);return void 0===re&&(re="view"===ie?function(ce,se){return se.subarray(ce)}.bind(null,ne):function(ce,se){return se.slice(ce)}.bind(null,ne),this.cache.set(ie,re)),re}}const q=function(J,ne){let ie=0,re=J.length;for(;ie<re&&J[ie]===ne;)ie++;for(;re>ie&&J[re-1]===ne;)re--;return J.slice(ie,re)}},10475:(Ne,V)=>{"use strict";V.getCallback=function(E,g){return"function"==typeof E?E:g},V.getOptions=function(E,g){return"object"==typeof E&&null!==E?E:void 0!==g?g:{}}},45776:(Ne,V,E)=>{"use strict";const{AbstractChainedBatch:g}=E(91463),w=E(61747),O=Symbol("encoded");V.DefaultChainedBatch=class X extends g{constructor(R){super(R),this[O]=[]}_put(R,A,N){this[O].push({...N,type:"put",key:R,value:A})}_del(R,A){this[O].push({...A,type:"del",key:R})}_clear(){this[O]=[]}_write(R,A){"opening"===this.db.status?this.db.defer(()=>this._write(R,A)):"open"===this.db.status?0===this[O].length?this.nextTick(A):this.db._batch(this[O],R,A):this.nextTick(A,new w("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(Ne,V,E)=>{"use strict";const{AbstractKeyIterator:g,AbstractValueIterator:w}=E(63294),O=Symbol("iterator"),X=Symbol("callback"),_=Symbol("handleOne"),R=Symbol("handleMany");class A extends g{constructor(F,C){super(F,C),this[O]=F.iterator({...C,keys:!0,values:!1}),this[_]=this[_].bind(this),this[R]=this[R].bind(this)}}class N extends w{constructor(F,C){super(F,C),this[O]=F.iterator({...C,keys:!1,values:!0}),this[_]=this[_].bind(this),this[R]=this[R].bind(this)}}for(const L of[A,N]){const F=L===A,C=F?Y=>Y[0]:Y=>Y[1];L.prototype._next=function(Y){this[X]=Y,this[O].next(this[_])},L.prototype[_]=function(Y,j,G){const te=this[X];Y?te(Y):te(null,F?j:G)},L.prototype._nextv=function(Y,j,G){this[X]=G,this[O].nextv(Y,j,this[R])},L.prototype._all=function(Y,j){this[X]=j,this[O].all(Y,this[R])},L.prototype[R]=function(Y,j){const G=this[X];Y?G(Y):G(null,j.map(C))},L.prototype._seek=function(Y,j){this[O].seek(Y,j)},L.prototype._close=function(Y){this[O].close(Y)}}V.DefaultKeyIterator=A,V.DefaultValueIterator=N},92745:(Ne,V,E)=>{"use strict";const{AbstractIterator:g,AbstractKeyIterator:w,AbstractValueIterator:O}=E(63294),X=E(61747),_=Symbol("nut"),R=Symbol("undefer"),A=Symbol("factory");class N extends g{constructor(Y,j){super(Y,j),this[_]=null,this[A]=()=>Y.iterator(j),this.db.defer(()=>this[R]())}}class L extends w{constructor(Y,j){super(Y,j),this[_]=null,this[A]=()=>Y.keys(j),this.db.defer(()=>this[R]())}}class F extends O{constructor(Y,j){super(Y,j),this[_]=null,this[A]=()=>Y.values(j),this.db.defer(()=>this[R]())}}for(const C of[N,L,F])C.prototype[R]=function(){"open"===this.db.status&&(this[_]=this[A]())},C.prototype._next=function(Y){null!==this[_]?this[_].next(Y):"opening"===this.db.status?this.db.defer(()=>this._next(Y)):this.nextTick(Y,new X("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},C.prototype._nextv=function(Y,j,G){null!==this[_]?this[_].nextv(Y,j,G):"opening"===this.db.status?this.db.defer(()=>this._nextv(Y,j,G)):this.nextTick(G,new X("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},C.prototype._all=function(Y,j){null!==this[_]?this[_].all(j):"opening"===this.db.status?this.db.defer(()=>this._all(Y,j)):this.nextTick(j,new X("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},C.prototype._seek=function(Y,j){null!==this[_]?this[_]._seek(Y,j):"opening"===this.db.status&&this.db.defer(()=>this._seek(Y,j))},C.prototype._close=function(Y){null!==this[_]?this[_].close(Y):"opening"===this.db.status?this.db.defer(()=>this._close(Y)):this.nextTick(Y)};V.DeferredIterator=N,V.DeferredKeyIterator=L,V.DeferredValueIterator=F},24585:(Ne,V,E)=>{"use strict";const g=E(24515);Ne.exports=function(w,...O){g(0===O.length?w:()=>w(...O))}},4287:(Ne,V,E)=>{"use strict";const g=E(61747),w=Object.prototype.hasOwnProperty,O=new Set(["lt","lte","gt","gte"]);Ne.exports=function(X,_){const R={};for(const A in X)if(w.call(X,A)&&"keyEncoding"!==A&&"valueEncoding"!==A){if("start"===A||"end"===A)throw new g(`The legacy range option '${A}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===A)throw new g("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});R[A]=O.has(A)?_.encode(X[A]):X[A]}return R.reverse=!!R.reverse,R.limit=Number.isInteger(R.limit)&&R.limit>=0?R.limit:-1,R}},1067:(Ne,V,E)=>{"use strict";const g=E(13981),w=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=A,V.SlowBuffer=function J($){return+$!=$&&($=0),A.alloc(+$)},V.INSPECT_MAX_BYTES=50;const X=2147483647;function R($){if($>X)throw new RangeError('The value "'+$+'" is invalid for option "size"');const T=new Uint8Array($);return Object.setPrototypeOf(T,A.prototype),T}function A($,T,S){if("number"==typeof $){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return C($)}return N($,T,S)}function N($,T,S){if("string"==typeof $)return function Y($,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!A.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const S=0|ne($,T);let Z=R(S);const le=Z.write($,T);return le!==S&&(Z=Z.slice(0,le)),Z}($,T);if(ArrayBuffer.isView($))return function G($){if(ze($,Uint8Array)){const T=new Uint8Array($);return te(T.buffer,T.byteOffset,T.byteLength)}return j($)}($);if(null==$)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(ze($,ArrayBuffer)||$&&ze($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze($,SharedArrayBuffer)||$&&ze($.buffer,SharedArrayBuffer)))return te($,T,S);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=$.valueOf&&$.valueOf();if(null!=Z&&Z!==$)return A.from(Z,T,S);const le=function ee($){if(A.isBuffer($)){const T=0|q($.length),S=R(T);return 0===S.length||$.copy(S,0,0,T),S}return void 0!==$.length?"number"!=typeof $.length||It($.length)?R(0):j($):"Buffer"===$.type&&Array.isArray($.data)?j($.data):void 0}($);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return A.from($[Symbol.toPrimitive]("string"),T,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function L($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function C($){return L($),R($<0?0:0|q($))}function j($){const T=$.length<0?0:0|q($.length),S=R(T);for(let Z=0;Z<T;Z+=1)S[Z]=255&$[Z];return S}function te($,T,S){if(T<0||$.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<T+(S||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return Z=void 0===T&&void 0===S?new Uint8Array($):void 0===S?new Uint8Array($,T):new Uint8Array($,T,S),Object.setPrototypeOf(Z,A.prototype),Z}function q($){if($>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|$}function ne($,T){if(A.isBuffer($))return $.length;if(ArrayBuffer.isView($)||ze($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const S=$.length,Z=arguments.length>2&&!0===arguments[2];if(!Z&&0===S)return 0;let le=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return ue($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return Ue($).length;default:if(le)return Z?-1:ue($).length;T=(""+T).toLowerCase(),le=!0}}function ie($,T,S){let Z=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(T>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return M(this,T,S);case"utf8":case"utf-8":return m(this,T,S);case"ascii":return D(this,T,S);case"latin1":case"binary":return B(this,T,S);case"base64":return h(this,T,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,T,S);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}function re($,T,S){const Z=$[T];$[T]=$[S],$[S]=Z}function ce($,T,S,Z,le){if(0===$.length)return-1;if("string"==typeof S?(Z=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),It(S=+S)&&(S=le?0:$.length-1),S<0&&(S=$.length+S),S>=$.length){if(le)return-1;S=$.length-1}else if(S<0){if(!le)return-1;S=0}if("string"==typeof T&&(T=A.from(T,Z)),A.isBuffer(T))return 0===T.length?-1:se($,T,S,Z,le);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call($,T,S):Uint8Array.prototype.lastIndexOf.call($,T,S):se($,[T],S,Z,le);throw new TypeError("val must be string, number or Buffer")}function se($,T,S,Z,le){let ft,De=1,Oe=$.length,Qe=T.length;if(void 0!==Z&&("ucs2"===(Z=String(Z).toLowerCase())||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if($.length<2||T.length<2)return-1;De=2,Oe/=2,Qe/=2,S/=2}function Nt(St,Lt){return 1===De?St[Lt]:St.readUInt16BE(Lt*De)}if(le){let St=-1;for(ft=S;ft<Oe;ft++)if(Nt($,ft)===Nt(T,-1===St?0:ft-St)){if(-1===St&&(St=ft),ft-St+1===Qe)return St*De}else-1!==St&&(ft-=ft-St),St=-1}else for(S+Qe>Oe&&(S=Oe-Qe),ft=S;ft>=0;ft--){let St=!0;for(let Lt=0;Lt<Qe;Lt++)if(Nt($,ft+Lt)!==Nt(T,Lt)){St=!1;break}if(St)return ft}return-1}function pe($,T,S,Z){S=Number(S)||0;const le=$.length-S;Z?(Z=Number(Z))>le&&(Z=le):Z=le;const De=T.length;let Oe;for(Z>De/2&&(Z=De/2),Oe=0;Oe<Z;++Oe){const Qe=parseInt(T.substr(2*Oe,2),16);if(It(Qe))return Oe;$[S+Oe]=Qe}return Oe}function we($,T,S,Z){return Ve(ue(T,$.length-S),$,S,Z)}function Me($,T,S,Z){return Ve(function ge($){const T=[];for(let S=0;S<$.length;++S)T.push(255&$.charCodeAt(S));return T}(T),$,S,Z)}function k($,T,S,Z){return Ve(Ue(T),$,S,Z)}function l($,T,S,Z){return Ve(function Ae($,T){let S,Z,le;const De=[];for(let Oe=0;Oe<$.length&&!((T-=2)<0);++Oe)S=$.charCodeAt(Oe),Z=S>>8,le=S%256,De.push(le),De.push(Z);return De}(T,$.length-S),$,S,Z)}function h($,T,S){return g.fromByteArray(0===T&&S===$.length?$:$.slice(T,S))}function m($,T,S){S=Math.min($.length,S);const Z=[];let le=T;for(;le<S;){const De=$[le];let Oe=null,Qe=De>239?4:De>223?3:De>191?2:1;if(le+Qe<=S){let Nt,ft,St,Lt;switch(Qe){case 1:De<128&&(Oe=De);break;case 2:Nt=$[le+1],128==(192&Nt)&&(Lt=(31&De)<<6|63&Nt,Lt>127&&(Oe=Lt));break;case 3:Nt=$[le+1],ft=$[le+2],128==(192&Nt)&&128==(192&ft)&&(Lt=(15&De)<<12|(63&Nt)<<6|63&ft,Lt>2047&&(Lt<55296||Lt>57343)&&(Oe=Lt));break;case 4:Nt=$[le+1],ft=$[le+2],St=$[le+3],128==(192&Nt)&&128==(192&ft)&&128==(192&St)&&(Lt=(15&De)<<18|(63&Nt)<<12|(63&ft)<<6|63&St,Lt>65535&&Lt<1114112&&(Oe=Lt))}}null===Oe?(Oe=65533,Qe=1):Oe>65535&&(Oe-=65536,Z.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),Z.push(Oe),le+=Qe}return function x($){const T=$.length;if(T<=p)return String.fromCharCode.apply(String,$);let S="",Z=0;for(;Z<T;)S+=String.fromCharCode.apply(String,$.slice(Z,Z+=p));return S}(Z)}V.kMaxLength=X,!(A.TYPED_ARRAY_SUPPORT=function _(){try{const $=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf($,T),42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function($,T,S){return N($,T,S)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function($,T,S){return function F($,T,S){return L($),$<=0?R($):void 0!==T?"string"==typeof S?R($).fill(T,S):R($).fill(T):R($)}($,T,S)},A.allocUnsafe=function($){return C($)},A.allocUnsafeSlow=function($){return C($)},A.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==A.prototype},A.compare=function(T,S){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),ze(S,Uint8Array)&&(S=A.from(S,S.offset,S.byteLength)),!A.isBuffer(T)||!A.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===S)return 0;let Z=T.length,le=S.length;for(let De=0,Oe=Math.min(Z,le);De<Oe;++De)if(T[De]!==S[De]){Z=T[De],le=S[De];break}return Z<le?-1:le<Z?1:0},A.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(T,S){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return A.alloc(0);let Z;if(void 0===S)for(S=0,Z=0;Z<T.length;++Z)S+=T[Z].length;const le=A.allocUnsafe(S);let De=0;for(Z=0;Z<T.length;++Z){let Oe=T[Z];if(ze(Oe,Uint8Array))De+Oe.length>le.length?(A.isBuffer(Oe)||(Oe=A.from(Oe)),Oe.copy(le,De)):Uint8Array.prototype.set.call(le,Oe,De);else{if(!A.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(le,De)}De+=Oe.length}return le},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<T;S+=2)re(this,S,S+1);return this},A.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<T;S+=4)re(this,S,S+3),re(this,S+1,S+2);return this},A.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<T;S+=8)re(this,S,S+7),re(this,S+1,S+6),re(this,S+2,S+5),re(this,S+3,S+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ie.apply(this,arguments)},A.prototype.equals=function(T){if(!A.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===A.compare(this,T)},A.prototype.inspect=function(){let T="";const S=V.INSPECT_MAX_BYTES;return T=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(T+=" ... "),"<Buffer "+T+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(T,S,Z,le,De){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),!A.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===S&&(S=0),void 0===Z&&(Z=T?T.length:0),void 0===le&&(le=0),void 0===De&&(De=this.length),S<0||Z>T.length||le<0||De>this.length)throw new RangeError("out of range index");if(le>=De&&S>=Z)return 0;if(le>=De)return-1;if(S>=Z)return 1;if(this===T)return 0;let Oe=(De>>>=0)-(le>>>=0),Qe=(Z>>>=0)-(S>>>=0);const Nt=Math.min(Oe,Qe),ft=this.slice(le,De),St=T.slice(S,Z);for(let Lt=0;Lt<Nt;++Lt)if(ft[Lt]!==St[Lt]){Oe=ft[Lt],Qe=St[Lt];break}return Oe<Qe?-1:Qe<Oe?1:0},A.prototype.includes=function(T,S,Z){return-1!==this.indexOf(T,S,Z)},A.prototype.indexOf=function(T,S,Z){return ce(this,T,S,Z,!0)},A.prototype.lastIndexOf=function(T,S,Z){return ce(this,T,S,Z,!1)},A.prototype.write=function(T,S,Z,le){if(void 0===S)le="utf8",Z=this.length,S=0;else if(void 0===Z&&"string"==typeof S)le=S,Z=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(Z)?(Z>>>=0,void 0===le&&(le="utf8")):(le=Z,Z=void 0)}const De=this.length-S;if((void 0===Z||Z>De)&&(Z=De),T.length>0&&(Z<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Oe=!1;for(;;)switch(le){case"hex":return pe(this,T,S,Z);case"utf8":case"utf-8":return we(this,T,S,Z);case"ascii":case"latin1":case"binary":return Me(this,T,S,Z);case"base64":return k(this,T,S,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,T,S,Z);default:if(Oe)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Oe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode(127&$[le]);return Z}function B($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode($[le]);return Z}function M($,T,S){const Z=$.length;(!T||T<0)&&(T=0),(!S||S<0||S>Z)&&(S=Z);let le="";for(let De=T;De<S;++De)le+=qe[$[De]];return le}function d($,T,S){const Z=$.slice(T,S);let le="";for(let De=0;De<Z.length-1;De+=2)le+=String.fromCharCode(Z[De]+256*Z[De+1]);return le}function v($,T,S){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+T>S)throw new RangeError("Trying to access beyond buffer length")}function W($,T,S,Z,le,De){if(!A.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>le||T<De)throw new RangeError('"value" argument is out of bounds');if(S+Z>$.length)throw new RangeError("Index out of range")}function z($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,S}function Q($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S+7]=De,De>>=8,$[S+6]=De,De>>=8,$[S+5]=De,De>>=8,$[S+4]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S+3]=Oe,Oe>>=8,$[S+2]=Oe,Oe>>=8,$[S+1]=Oe,Oe>>=8,$[S]=Oe,S+8}function de($,T,S,Z,le,De){if(S+Z>$.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function xe($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,4),w.write($,T,S,Z,23,4),S+4}function Ie($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,8),w.write($,T,S,Z,52,8),S+8}A.prototype.slice=function(T,S){const Z=this.length;(T=~~T)<0?(T+=Z)<0&&(T=0):T>Z&&(T=Z),(S=void 0===S?Z:~~S)<0?(S+=Z)<0&&(S=0):S>Z&&(S=Z),S<T&&(S=T);const le=this.subarray(T,S);return Object.setPrototypeOf(le,A.prototype),le},A.prototype.readUintLE=A.prototype.readUIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return le},A.prototype.readUintBE=A.prototype.readUIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T+--S],De=1;for(;S>0&&(De*=256);)le+=this[T+--S]*De;return le},A.prototype.readUint8=A.prototype.readUInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),this[T]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]|this[T+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]<<8|this[T+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},A.prototype.readBigUInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S+256*this[++T]+65536*this[++T]+this[++T]*2**24,De=this[++T]+256*this[++T]+65536*this[++T]+Z*2**24;return BigInt(le)+(BigInt(De)<<BigInt(32))}),A.prototype.readBigUInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S*2**24+65536*this[++T]+256*this[++T]+this[++T],De=this[++T]*2**24+65536*this[++T]+256*this[++T]+Z;return(BigInt(le)<<BigInt(32))+BigInt(De)}),A.prototype.readIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return De*=128,le>=De&&(le-=Math.pow(2,8*S)),le},A.prototype.readIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=S,De=1,Oe=this[T+--le];for(;le>0&&(De*=256);)Oe+=this[T+--le]*De;return De*=128,Oe>=De&&(Oe-=Math.pow(2,8*S)),Oe},A.prototype.readInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},A.prototype.readInt16LE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T]|this[T+1]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt16BE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T+1]|this[T]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},A.prototype.readInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},A.prototype.readBigInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];return(void 0===S||void 0===Z)&&fe(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Z<<24))<<BigInt(32))+BigInt(S+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),A.prototype.readBigInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=(S<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(le)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Z)}),A.prototype.readFloatLE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!0,23,4)},A.prototype.readFloatBE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!1,23,4)},A.prototype.readDoubleLE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!0,52,8)},A.prototype.readDoubleBE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=1,Oe=0;for(this[S]=255&T;++Oe<Z&&(De*=256);)this[S+Oe]=T/De&255;return S+Z},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=Z-1,Oe=1;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)this[S+De]=T/Oe&255;return S+Z},A.prototype.writeUint8=A.prototype.writeUInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,255,0),this[S]=255&T,S+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S+3]=T>>>24,this[S+2]=T>>>16,this[S+1]=T>>>8,this[S]=255&T,S+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigUInt64LE=je(function(T,S=0){return z(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=je(function(T,S=0){return Q(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=0,Oe=1,Qe=0;for(this[S]=255&T;++De<Z&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De-1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeIntBE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=Z-1,Oe=1,Qe=0;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De+1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,127,-128),T<0&&(T=255+T+1),this[S]=255&T,S+1},A.prototype.writeInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),this[S]=255&T,this[S+1]=T>>>8,this[S+2]=T>>>16,this[S+3]=T>>>24,S+4},A.prototype.writeInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigInt64LE=je(function(T,S=0){return z(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=je(function(T,S=0){return Q(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(T,S,Z){return xe(this,T,S,!0,Z)},A.prototype.writeFloatBE=function(T,S,Z){return xe(this,T,S,!1,Z)},A.prototype.writeDoubleLE=function(T,S,Z){return Ie(this,T,S,!0,Z)},A.prototype.writeDoubleBE=function(T,S,Z){return Ie(this,T,S,!1,Z)},A.prototype.copy=function(T,S,Z,le){if(!A.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!le&&0!==le&&(le=this.length),S>=T.length&&(S=T.length),S||(S=0),le>0&&le<Z&&(le=Z),le===Z||0===T.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),T.length-S<le-Z&&(le=T.length-S+Z);const De=le-Z;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,Z,le):Uint8Array.prototype.set.call(T,this.subarray(Z,le),S),De},A.prototype.fill=function(T,S,Z,le){if("string"==typeof T){if("string"==typeof S?(le=S,S=0,Z=this.length):"string"==typeof Z&&(le=Z,Z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!A.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===T.length){const Oe=T.charCodeAt(0);("utf8"===le&&Oe<128||"latin1"===le)&&(T=Oe)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(S<0||this.length<S||this.length<Z)throw new RangeError("Out of range index");if(Z<=S)return this;let De;if(S>>>=0,Z=void 0===Z?this.length:Z>>>0,T||(T=0),"number"==typeof T)for(De=S;De<Z;++De)this[De]=T;else{const Oe=A.isBuffer(T)?T:A.from(T,le),Qe=Oe.length;if(0===Qe)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(De=0;De<Z-S;++De)this[De+S]=Oe[De%Qe]}return this};const Le={};function ve($,T,S){Le[$]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,delete this.name}get code(){return $}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function ye($){let T="",S=$.length;const Z="-"===$[0]?1:0;for(;S>=Z+4;S-=3)T=`_${$.slice(S-3,S)}${T}`;return`${$.slice(0,S)}${T}`}function me($,T,S,Z,le,De){if($>S||$<T){const Oe="bigint"==typeof T?"n":"";let Qe;throw Qe=De>3?0===T||T===BigInt(0)?`>= 0${Oe} and < 2${Oe} ** ${8*(De+1)}${Oe}`:`>= -(2${Oe} ** ${8*(De+1)-1}${Oe}) and < 2 ** ${8*(De+1)-1}${Oe}`:`>= ${T}${Oe} and <= ${S}${Oe}`,new Le.ERR_OUT_OF_RANGE("value",Qe,$)}!function ke($,T,S){Ee(T,"offset"),(void 0===$[T]||void 0===$[T+S])&&fe(T,$.length-(S+1))}(Z,le,De)}function Ee($,T){if("number"!=typeof $)throw new Le.ERR_INVALID_ARG_TYPE(T,"number",$)}function fe($,T,S){throw Math.floor($)!==$?(Ee($,S),new Le.ERR_OUT_OF_RANGE(S||"offset","an integer",$)):T<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${T}`,$)}ve("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function($,T){return`The "${$}" argument must be of type number. Received type ${typeof T}`},TypeError),ve("ERR_OUT_OF_RANGE",function($,T,S){let Z=`The value of "${$}" is out of range.`,le=S;return Number.isInteger(S)&&Math.abs(S)>2**32?le=ye(String(S)):"bigint"==typeof S&&(le=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(le=ye(le)),le+="n"),Z+=` It must be ${T}. Received ${le}`,Z},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function ue($,T){let S;T=T||1/0;const Z=$.length;let le=null;const De=[];for(let Oe=0;Oe<Z;++Oe){if(S=$.charCodeAt(Oe),S>55295&&S<57344){if(!le){if(S>56319){(T-=3)>-1&&De.push(239,191,189);continue}if(Oe+1===Z){(T-=3)>-1&&De.push(239,191,189);continue}le=S;continue}if(S<56320){(T-=3)>-1&&De.push(239,191,189),le=S;continue}S=65536+(le-55296<<10|S-56320)}else le&&(T-=3)>-1&&De.push(239,191,189);if(le=null,S<128){if((T-=1)<0)break;De.push(S)}else if(S<2048){if((T-=2)<0)break;De.push(S>>6|192,63&S|128)}else if(S<65536){if((T-=3)<0)break;De.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;De.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return De}function Ue($){return g.toByteArray(function ae($){if(($=($=$.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function Ve($,T,S,Z){let le;for(le=0;le<Z&&!(le+S>=T.length||le>=$.length);++le)T[le+S]=$[le];return le}function ze($,T){return $ instanceof T||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===T.name}function It($){return $!=$}const qe=function(){const $="0123456789abcdef",T=new Array(256);for(let S=0;S<16;++S){const Z=16*S;for(let le=0;le<16;++le)T[Z+le]=$[S]+$[le]}return T}();function je($){return typeof BigInt>"u"?ut:$}function ut(){throw new Error("BigInt not supported")}},49609:(Ne,V,E)=>{var g=V;g.bignum=E(96867),g.define=E(16626).define,g.base=E(15066),g.constants=E(47740),g.decoders=E(91558),g.encoders=E(22714)},16626:(Ne,V,E)=>{var g=E(49609),w=E(71993);function X(_,R){this.name=_,this.body=R,this.decoders={},this.encoders={}}V.define=function(R,A){return new X(R,A)},X.prototype._createNamed=function(R){var A;try{A=Object(function(){var L=new Error("Cannot find module 'vm'");throw L.code="MODULE_NOT_FOUND",L}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{A=function(L){this._initNamed(L)}}return w(A,R),A.prototype._initNamed=function(L){R.call(this,L)},new A(this)},X.prototype._getDecoder=function(R){return this.decoders.hasOwnProperty(R=R||"der")||(this.decoders[R]=this._createNamed(g.decoders[R])),this.decoders[R]},X.prototype.decode=function(R,A,N){return this._getDecoder(A).decode(R,N)},X.prototype._getEncoder=function(R){return this.encoders.hasOwnProperty(R=R||"der")||(this.encoders[R]=this._createNamed(g.encoders[R])),this.encoders[R]},X.prototype.encode=function(R,A,N){return this._getEncoder(A).encode(R,N)}},97290:(Ne,V,E)=>{var g=E(71993),w=E(15066).Reporter,O=E(83838).Buffer;function X(R,A){w.call(this,A),O.isBuffer(R)?(this.base=R,this.offset=0,this.length=R.length):this.error("Input not Buffer")}function _(R,A){if(Array.isArray(R))this.length=0,this.value=R.map(function(N){return N instanceof _||(N=new _(N,A)),this.length+=N.length,N},this);else if("number"==typeof R){if(!(0<=R&&R<=255))return A.error("non-byte EncoderBuffer value");this.value=R,this.length=1}else if("string"==typeof R)this.value=R,this.length=O.byteLength(R);else{if(!O.isBuffer(R))return A.error("Unsupported type: "+typeof R);this.value=R,this.length=R.length}}g(X,w),V.t=X,X.prototype.save=function(){return{offset:this.offset,reporter:w.prototype.save.call(this)}},X.prototype.restore=function(A){var N=new X(this.base);return N.offset=A.offset,N.length=this.offset,this.offset=A.offset,w.prototype.restore.call(this,A.reporter),N},X.prototype.isEmpty=function(){return this.offset===this.length},X.prototype.readUInt8=function(A){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(A||"DecoderBuffer overrun")},X.prototype.skip=function(A,N){if(!(this.offset+A<=this.length))return this.error(N||"DecoderBuffer overrun");var L=new X(this.base);return L._reporterState=this._reporterState,L.offset=this.offset,L.length=this.offset+A,this.offset+=A,L},X.prototype.raw=function(A){return this.base.slice(A?A.offset:this.offset,this.length)},V.d=_,_.prototype.join=function(A,N){return A||(A=new O(this.length)),N||(N=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(L){L.join(A,N),N+=L.length}):("number"==typeof this.value?A[N]=this.value:"string"==typeof this.value?A.write(this.value,N):O.isBuffer(this.value)&&this.value.copy(A,N),N+=this.length)),A}},15066:(Ne,V,E)=>{var g=V;g.Reporter=E(85697).a,g.DecoderBuffer=E(97290).t,g.EncoderBuffer=E(97290).d,g.Node=E(34320)},34320:(Ne,V,E)=>{var g=E(15066).Reporter,w=E(15066).EncoderBuffer,O=E(15066).DecoderBuffer,X=E(39210),_=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],R=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(_);function N(F,C){var Y={};this._baseState=Y,Y.enc=F,Y.parent=C||null,Y.children=null,Y.tag=null,Y.args=null,Y.reverseArgs=null,Y.choice=null,Y.optional=!1,Y.any=!1,Y.obj=!1,Y.use=null,Y.useDecoder=null,Y.key=null,Y.default=null,Y.explicit=null,Y.implicit=null,Y.contains=null,Y.parent||(Y.children=[],this._wrap())}Ne.exports=N;var L=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];N.prototype.clone=function(){var C=this._baseState,Y={};L.forEach(function(G){Y[G]=C[G]});var j=new this.constructor(Y.parent);return j._baseState=Y,j},N.prototype._wrap=function(){var C=this._baseState;R.forEach(function(Y){this[Y]=function(){var G=new this.constructor(this);return C.children.push(G),G[Y].apply(G,arguments)}},this)},N.prototype._init=function(C){var Y=this._baseState;X(null===Y.parent),C.call(this),Y.children=Y.children.filter(function(j){return j._baseState.parent===this},this),X.equal(Y.children.length,1,"Root node can have only one child")},N.prototype._useArgs=function(C){var Y=this._baseState,j=C.filter(function(G){return G instanceof this.constructor},this);C=C.filter(function(G){return!(G instanceof this.constructor)},this),0!==j.length&&(X(null===Y.children),Y.children=j,j.forEach(function(G){G._baseState.parent=this},this)),0!==C.length&&(X(null===Y.args),Y.args=C,Y.reverseArgs=C.map(function(G){if("object"!=typeof G||G.constructor!==Object)return G;var te={};return Object.keys(G).forEach(function(ee){ee==(0|ee)&&(ee|=0),te[G[ee]]=ee}),te}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(F){N.prototype[F]=function(){throw new Error(F+" not implemented for encoding: "+this._baseState.enc)}}),_.forEach(function(F){N.prototype[F]=function(){var Y=this._baseState,j=Array.prototype.slice.call(arguments);return X(null===Y.tag),Y.tag=F,this._useArgs(j),this}}),N.prototype.use=function(C){X(C);var Y=this._baseState;return X(null===Y.use),Y.use=C,this},N.prototype.optional=function(){return this._baseState.optional=!0,this},N.prototype.def=function(C){var Y=this._baseState;return X(null===Y.default),Y.default=C,Y.optional=!0,this},N.prototype.explicit=function(C){var Y=this._baseState;return X(null===Y.explicit&&null===Y.implicit),Y.explicit=C,this},N.prototype.implicit=function(C){var Y=this._baseState;return X(null===Y.explicit&&null===Y.implicit),Y.implicit=C,this},N.prototype.obj=function(){var C=this._baseState,Y=Array.prototype.slice.call(arguments);return C.obj=!0,0!==Y.length&&this._useArgs(Y),this},N.prototype.key=function(C){var Y=this._baseState;return X(null===Y.key),Y.key=C,this},N.prototype.any=function(){return this._baseState.any=!0,this},N.prototype.choice=function(C){var Y=this._baseState;return X(null===Y.choice),Y.choice=C,this._useArgs(Object.keys(C).map(function(j){return C[j]})),this},N.prototype.contains=function(C){var Y=this._baseState;return X(null===Y.use),Y.contains=C,this},N.prototype._decode=function(C,Y){var j=this._baseState;if(null===j.parent)return C.wrapResult(j.children[0]._decode(C,Y));var ne,G=j.default,te=!0,ee=null;if(null!==j.key&&(ee=C.enterKey(j.key)),j.optional){var q=null;if(null!==j.explicit?q=j.explicit:null!==j.implicit?q=j.implicit:null!==j.tag&&(q=j.tag),null!==q||j.any){if(te=this._peekTag(C,q,j.any),C.isError(te))return te}else{var J=C.save();try{null===j.choice?this._decodeGeneric(j.tag,C,Y):this._decodeChoice(C,Y),te=!0}catch{te=!1}C.restore(J)}}if(j.obj&&te&&(ne=C.enterObject()),te){if(null!==j.explicit){var ie=this._decodeTag(C,j.explicit);if(C.isError(ie))return ie;C=ie}var re=C.offset;if(null===j.use&&null===j.choice){j.any&&(J=C.save());var ce=this._decodeTag(C,null!==j.implicit?j.implicit:j.tag,j.any);if(C.isError(ce))return ce;j.any?G=C.raw(J):C=ce}if(Y&&Y.track&&null!==j.tag&&Y.track(C.path(),re,C.length,"tagged"),Y&&Y.track&&null!==j.tag&&Y.track(C.path(),C.offset,C.length,"content"),j.any||(G=null===j.choice?this._decodeGeneric(j.tag,C,Y):this._decodeChoice(C,Y)),C.isError(G))return G;if(!j.any&&null===j.choice&&null!==j.children&&j.children.forEach(function(we){we._decode(C,Y)}),j.contains&&("octstr"===j.tag||"bitstr"===j.tag)){var se=new O(G);G=this._getUse(j.contains,C._reporterState.obj)._decode(se,Y)}}return j.obj&&te&&(G=C.leaveObject(ne)),null===j.key||null===G&&!0!==te?null!==ee&&C.exitKey(ee):C.leaveKey(ee,j.key,G),G},N.prototype._decodeGeneric=function(C,Y,j){var G=this._baseState;return"seq"===C||"set"===C?null:"seqof"===C||"setof"===C?this._decodeList(Y,C,G.args[0],j):/str$/.test(C)?this._decodeStr(Y,C,j):"objid"===C&&G.args?this._decodeObjid(Y,G.args[0],G.args[1],j):"objid"===C?this._decodeObjid(Y,null,null,j):"gentime"===C||"utctime"===C?this._decodeTime(Y,C,j):"null_"===C?this._decodeNull(Y,j):"bool"===C?this._decodeBool(Y,j):"objDesc"===C?this._decodeStr(Y,C,j):"int"===C||"enum"===C?this._decodeInt(Y,G.args&&G.args[0],j):null!==G.use?this._getUse(G.use,Y._reporterState.obj)._decode(Y,j):Y.error("unknown tag: "+C)},N.prototype._getUse=function(C,Y){var j=this._baseState;return j.useDecoder=this._use(C,Y),X(null===j.useDecoder._baseState.parent),j.useDecoder=j.useDecoder._baseState.children[0],j.implicit!==j.useDecoder._baseState.implicit&&(j.useDecoder=j.useDecoder.clone(),j.useDecoder._baseState.implicit=j.implicit),j.useDecoder},N.prototype._decodeChoice=function(C,Y){var j=this._baseState,G=null,te=!1;return Object.keys(j.choice).some(function(ee){var q=C.save(),J=j.choice[ee];try{var ne=J._decode(C,Y);if(C.isError(ne))return!1;G={type:ee,value:ne},te=!0}catch{return C.restore(q),!1}return!0},this),te?G:C.error("Choice not matched")},N.prototype._createEncoderBuffer=function(C){return new w(C,this.reporter)},N.prototype._encode=function(C,Y,j){var G=this._baseState;if(null===G.default||G.default!==C){var te=this._encodeValue(C,Y,j);if(void 0!==te&&!this._skipDefault(te,Y,j))return te}},N.prototype._encodeValue=function(C,Y,j){var G=this._baseState;if(null===G.parent)return G.children[0]._encode(C,Y||new g);var J=null;if(this.reporter=Y,G.optional&&void 0===C){if(null===G.default)return;C=G.default}var te=null,ee=!1;if(G.any)J=this._createEncoderBuffer(C);else if(G.choice)J=this._encodeChoice(C,Y);else if(G.contains)te=this._getUse(G.contains,j)._encode(C,Y),ee=!0;else if(G.children)te=G.children.map(function(re){if("null_"===re._baseState.tag)return re._encode(null,Y,C);if(null===re._baseState.key)return Y.error("Child should have a key");var ce=Y.enterKey(re._baseState.key);if("object"!=typeof C)return Y.error("Child expected, but input is not object");var se=re._encode(C[re._baseState.key],Y,C);return Y.leaveKey(ce),se},this).filter(function(re){return re}),te=this._createEncoderBuffer(te);else if("seqof"===G.tag||"setof"===G.tag){if(!G.args||1!==G.args.length)return Y.error("Too many args for : "+G.tag);if(!Array.isArray(C))return Y.error("seqof/setof, but data is not Array");var q=this.clone();q._baseState.implicit=null,te=this._createEncoderBuffer(C.map(function(re){return this._getUse(this._baseState.args[0],C)._encode(re,Y)},q))}else null!==G.use?J=this._getUse(G.use,j)._encode(C,Y):(te=this._encodePrimitive(G.tag,C),ee=!0);if(!G.any&&null===G.choice){var ne=null!==G.implicit?G.implicit:G.tag,ie=null===G.implicit?"universal":"context";null===ne?null===G.use&&Y.error("Tag could be omitted only for .use()"):null===G.use&&(J=this._encodeComposite(ne,ee,ie,te))}return null!==G.explicit&&(J=this._encodeComposite(G.explicit,!1,"context",J)),J},N.prototype._encodeChoice=function(C,Y){var j=this._baseState,G=j.choice[C.type];return G||X(!1,C.type+" not found in "+JSON.stringify(Object.keys(j.choice))),G._encode(C.value,Y)},N.prototype._encodePrimitive=function(C,Y){var j=this._baseState;if(/str$/.test(C))return this._encodeStr(Y,C);if("objid"===C&&j.args)return this._encodeObjid(Y,j.reverseArgs[0],j.args[1]);if("objid"===C)return this._encodeObjid(Y,null,null);if("gentime"===C||"utctime"===C)return this._encodeTime(Y,C);if("null_"===C)return this._encodeNull();if("int"===C||"enum"===C)return this._encodeInt(Y,j.args&&j.reverseArgs[0]);if("bool"===C)return this._encodeBool(Y);if("objDesc"===C)return this._encodeStr(Y,C);throw new Error("Unsupported tag: "+C)},N.prototype._isNumstr=function(C){return/^[0-9 ]*$/.test(C)},N.prototype._isPrintstr=function(C){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(C)}},85697:(Ne,V,E)=>{var g=E(71993);function w(X){this._reporterState={obj:null,path:[],options:X||{},errors:[]}}function O(X,_){this.path=X,this.rethrow(_)}V.a=w,w.prototype.isError=function(_){return _ instanceof O},w.prototype.save=function(){var _=this._reporterState;return{obj:_.obj,pathLen:_.path.length}},w.prototype.restore=function(_){var R=this._reporterState;R.obj=_.obj,R.path=R.path.slice(0,_.pathLen)},w.prototype.enterKey=function(_){return this._reporterState.path.push(_)},w.prototype.exitKey=function(_){var R=this._reporterState;R.path=R.path.slice(0,_-1)},w.prototype.leaveKey=function(_,R,A){var N=this._reporterState;this.exitKey(_),null!==N.obj&&(N.obj[R]=A)},w.prototype.path=function(){return this._reporterState.path.join("/")},w.prototype.enterObject=function(){var _=this._reporterState,R=_.obj;return _.obj={},R},w.prototype.leaveObject=function(_){var R=this._reporterState,A=R.obj;return R.obj=_,A},w.prototype.error=function(_){var R,A=this._reporterState,N=_ instanceof O;if(R=N?_:new O(A.path.map(function(L){return"["+JSON.stringify(L)+"]"}).join(""),_.message||_,_.stack),!A.options.partial)throw R;return N||A.errors.push(R),R},w.prototype.wrapResult=function(_){var R=this._reporterState;return R.options.partial?{result:this.isError(_)?null:_,errors:R.errors}:_},g(O,Error),O.prototype.rethrow=function(_){if(this.message=_+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,O),!this.stack)try{throw new Error(this.message)}catch(R){this.stack=R.stack}return this}},36283:(Ne,V,E)=>{var g=E(47740);V.tagClass={0:"universal",1:"application",2:"context",3:"private"},V.tagClassByName=g._reverse(V.tagClass),V.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},V.tagByName=g._reverse(V.tag)},47740:(Ne,V,E)=>{var g=V;g._reverse=function(O){var X={};return Object.keys(O).forEach(function(_){(0|_)==_&&(_|=0),X[O[_]]=_}),X},g.der=E(36283)},55941:(Ne,V,E)=>{var g=E(71993),w=E(49609),O=w.base,X=w.bignum,_=w.constants.der;function R(F){this.enc="der",this.name=F.name,this.entity=F,this.tree=new A,this.tree._init(F.body)}function A(F){O.Node.call(this,"der",F)}function N(F,C){var Y=F.readUInt8(C);if(F.isError(Y))return Y;var j=_.tagClass[Y>>6],G=!(32&Y);if(31&~Y)Y&=31;else{var te=Y;for(Y=0;!(128&~te);){if(te=F.readUInt8(C),F.isError(te))return te;Y<<=7,Y|=127&te}}return{cls:j,primitive:G,tag:Y,tagStr:_.tag[Y]}}function L(F,C,Y){var j=F.readUInt8(Y);if(F.isError(j))return j;if(!C&&128===j)return null;if(!(128&j))return j;var G=127&j;if(G>4)return F.error("length octect is too long");j=0;for(var te=0;te<G;te++){j<<=8;var ee=F.readUInt8(Y);if(F.isError(ee))return ee;j|=ee}return j}Ne.exports=R,R.prototype.decode=function(C,Y){return C instanceof O.DecoderBuffer||(C=new O.DecoderBuffer(C,Y)),this.tree._decode(C,Y)},g(A,O.Node),A.prototype._peekTag=function(C,Y,j){if(C.isEmpty())return!1;var G=C.save(),te=N(C,'Failed to peek tag: "'+Y+'"');return C.isError(te)?te:(C.restore(G),te.tag===Y||te.tagStr===Y||te.tagStr+"of"===Y||j)},A.prototype._decodeTag=function(C,Y,j){var G=N(C,'Failed to decode tag of "'+Y+'"');if(C.isError(G))return G;var te=L(C,G.primitive,'Failed to get length of "'+Y+'"');if(C.isError(te))return te;if(!j&&G.tag!==Y&&G.tagStr!==Y&&G.tagStr+"of"!==Y)return C.error('Failed to match tag: "'+Y+'"');if(G.primitive||null!==te)return C.skip(te,'Failed to match body of: "'+Y+'"');var ee=C.save(),q=this._skipUntilEnd(C,'Failed to skip indefinite length body: "'+this.tag+'"');return C.isError(q)?q:(te=C.offset-ee.offset,C.restore(ee),C.skip(te,'Failed to match body of: "'+Y+'"'))},A.prototype._skipUntilEnd=function(C,Y){for(;;){var j=N(C,Y);if(C.isError(j))return j;var te,G=L(C,j.primitive,Y);if(C.isError(G))return G;if(te=j.primitive||null!==G?C.skip(G):this._skipUntilEnd(C,Y),C.isError(te))return te;if("end"===j.tagStr)break}},A.prototype._decodeList=function(C,Y,j,G){for(var te=[];!C.isEmpty();){var ee=this._peekTag(C,"end");if(C.isError(ee))return ee;var q=j.decode(C,"der",G);if(C.isError(q)&&ee)break;te.push(q)}return te},A.prototype._decodeStr=function(C,Y){if("bitstr"===Y){var j=C.readUInt8();return C.isError(j)?j:{unused:j,data:C.raw()}}if("bmpstr"===Y){var G=C.raw();if(G.length%2==1)return C.error("Decoding of string type: bmpstr length mismatch");for(var te="",ee=0;ee<G.length/2;ee++)te+=String.fromCharCode(G.readUInt16BE(2*ee));return te}if("numstr"===Y){var q=C.raw().toString("ascii");return this._isNumstr(q)?q:C.error("Decoding of string type: numstr unsupported characters")}if("octstr"===Y)return C.raw();if("objDesc"===Y)return C.raw();if("printstr"===Y){var J=C.raw().toString("ascii");return this._isPrintstr(J)?J:C.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(Y)?C.raw().toString():C.error("Decoding of string type: "+Y+" unsupported")},A.prototype._decodeObjid=function(C,Y,j){for(var G,te=[],ee=0;!C.isEmpty();){var q=C.readUInt8();ee<<=7,ee|=127&q,128&q||(te.push(ee),ee=0)}if(128&q&&te.push(ee),G=j?te:[te[0]/40|0,te[0]%40].concat(te.slice(1)),Y){var ie=Y[G.join(" ")];void 0===ie&&(ie=Y[G.join(".")]),void 0!==ie&&(G=ie)}return G},A.prototype._decodeTime=function(C,Y){var j=C.raw().toString();if("gentime"===Y)var G=0|j.slice(0,4),te=0|j.slice(4,6),ee=0|j.slice(6,8),q=0|j.slice(8,10),J=0|j.slice(10,12),ne=0|j.slice(12,14);else{if("utctime"!==Y)return C.error("Decoding "+Y+" time is not supported yet");G=0|j.slice(0,2),te=0|j.slice(2,4),ee=0|j.slice(4,6),q=0|j.slice(6,8),J=0|j.slice(8,10),ne=0|j.slice(10,12),G=G<70?2e3+G:1900+G}return Date.UTC(G,te-1,ee,q,J,ne,0)},A.prototype._decodeNull=function(C){return null},A.prototype._decodeBool=function(C){var Y=C.readUInt8();return C.isError(Y)?Y:0!==Y},A.prototype._decodeInt=function(C,Y){var j=C.raw(),G=new X(j);return Y&&(G=Y[G.toString(10)]||G),G},A.prototype._use=function(C,Y){return"function"==typeof C&&(C=C(Y)),C._getDecoder("der").tree}},91558:(Ne,V,E)=>{var g=V;g.der=E(55941),g.pem=E(59316)},59316:(Ne,V,E)=>{var g=E(71993),w=E(83838).Buffer,O=E(55941);function X(_){O.call(this,_),this.enc="pem"}g(X,O),Ne.exports=X,X.prototype.decode=function(R,A){for(var N=R.toString().split(/[\r\n]+/g),L=A.label.toUpperCase(),F=/^-----(BEGIN|END) ([^-]+)-----$/,C=-1,Y=-1,j=0;j<N.length;j++){var G=N[j].match(F);if(null!==G&&G[2]===L){if(-1!==C){if("END"!==G[1])break;Y=j;break}if("BEGIN"!==G[1])break;C=j}}if(-1===C||-1===Y)throw new Error("PEM section not found for: "+L);var te=N.slice(C+1,Y).join("");te.replace(/[^a-z0-9\+\/=]+/gi,"");var ee=new w(te,"base64");return O.prototype.decode.call(this,ee,A)}},72193:(Ne,V,E)=>{var g=E(71993),w=E(83838).Buffer,O=E(49609),X=O.base,_=O.constants.der;function R(F){this.enc="der",this.name=F.name,this.entity=F,this.tree=new A,this.tree._init(F.body)}function A(F){X.Node.call(this,"der",F)}function N(F){return F<10?"0"+F:F}Ne.exports=R,R.prototype.encode=function(C,Y){return this.tree._encode(C,Y).join()},g(A,X.Node),A.prototype._encodeComposite=function(C,Y,j,G){var J,te=function L(F,C,Y,j){var G;if("seqof"===F?F="seq":"setof"===F&&(F="set"),_.tagByName.hasOwnProperty(F))G=_.tagByName[F];else{if("number"!=typeof F||(0|F)!==F)return j.error("Unknown tag: "+F);G=F}return G>=31?j.error("Multi-octet tag encoding unsupported"):(C||(G|=32),G|=_.tagClassByName[Y||"universal"]<<6)}(C,Y,j,this.reporter);if(G.length<128)return(J=new w(2))[0]=te,J[1]=G.length,this._createEncoderBuffer([J,G]);for(var ee=1,q=G.length;q>=256;q>>=8)ee++;(J=new w(2+ee))[0]=te,J[1]=128|ee,q=1+ee;for(var ne=G.length;ne>0;q--,ne>>=8)J[q]=255&ne;return this._createEncoderBuffer([J,G])},A.prototype._encodeStr=function(C,Y){if("bitstr"===Y)return this._createEncoderBuffer([0|C.unused,C.data]);if("bmpstr"===Y){for(var j=new w(2*C.length),G=0;G<C.length;G++)j.writeUInt16BE(C.charCodeAt(G),2*G);return this._createEncoderBuffer(j)}return"numstr"===Y?this._isNumstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===Y?this._isPrintstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Y)||"objDesc"===Y?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: "+Y+" unsupported")},A.prototype._encodeObjid=function(C,Y,j){if("string"==typeof C){if(!Y)return this.reporter.error("string objid given, but no values map found");if(!Y.hasOwnProperty(C))return this.reporter.error("objid not found in values map");C=Y[C].split(/[\s\.]+/g);for(var G=0;G<C.length;G++)C[G]|=0}else if(Array.isArray(C))for(C=C.slice(),G=0;G<C.length;G++)C[G]|=0;if(!Array.isArray(C))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(C));if(!j){if(C[1]>=40)return this.reporter.error("Second objid identifier OOB");C.splice(0,2,40*C[0]+C[1])}var te=0;for(G=0;G<C.length;G++){var ee=C[G];for(te++;ee>=128;ee>>=7)te++}var q=new w(te),J=q.length-1;for(G=C.length-1;G>=0;G--)for(q[J--]=127&(ee=C[G]);(ee>>=7)>0;)q[J--]=128|127&ee;return this._createEncoderBuffer(q)},A.prototype._encodeTime=function(C,Y){var j,G=new Date(C);return"gentime"===Y?j=[N(G.getFullYear()),N(G.getUTCMonth()+1),N(G.getUTCDate()),N(G.getUTCHours()),N(G.getUTCMinutes()),N(G.getUTCSeconds()),"Z"].join(""):"utctime"===Y?j=[N(G.getFullYear()%100),N(G.getUTCMonth()+1),N(G.getUTCDate()),N(G.getUTCHours()),N(G.getUTCMinutes()),N(G.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Y+" time is not supported yet"),this._encodeStr(j,"octstr")},A.prototype._encodeNull=function(){return this._createEncoderBuffer("")},A.prototype._encodeInt=function(C,Y){if("string"==typeof C){if(!Y)return this.reporter.error("String int or enum given, but no values map");if(!Y.hasOwnProperty(C))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(C));C=Y[C]}if("number"!=typeof C&&!w.isBuffer(C)){var j=C.toArray();!C.sign&&128&j[0]&&j.unshift(0),C=new w(j)}if(w.isBuffer(C)){var G=C.length;0===C.length&&G++;var ee=new w(G);return C.copy(ee),0===C.length&&(ee[0]=0),this._createEncoderBuffer(ee)}if(C<128)return this._createEncoderBuffer(C);if(C<256)return this._createEncoderBuffer([0,C]);G=1;for(var te=C;te>=256;te>>=8)G++;for(te=(ee=new Array(G)).length-1;te>=0;te--)ee[te]=255&C,C>>=8;return 128&ee[0]&&ee.unshift(0),this._createEncoderBuffer(new w(ee))},A.prototype._encodeBool=function(C){return this._createEncoderBuffer(C?255:0)},A.prototype._use=function(C,Y){return"function"==typeof C&&(C=C(Y)),C._getEncoder("der").tree},A.prototype._skipDefault=function(C,Y,j){var te,G=this._baseState;if(null===G.default)return!1;var ee=C.join();if(void 0===G.defaultBuffer&&(G.defaultBuffer=this._encodeValue(G.default,Y,j).join()),ee.length!==G.defaultBuffer.length)return!1;for(te=0;te<ee.length;te++)if(ee[te]!==G.defaultBuffer[te])return!1;return!0}},22714:(Ne,V,E)=>{var g=V;g.der=E(72193),g.pem=E(24816)},24816:(Ne,V,E)=>{var g=E(71993),w=E(72193);function O(X){w.call(this,X),this.enc="pem"}g(O,w),Ne.exports=O,O.prototype.encode=function(_,R){for(var N=w.prototype.encode.call(this,_).toString("base64"),L=["-----BEGIN "+R.label+"-----"],F=0;F<N.length;F+=64)L.push(N.slice(F,F+64));return L.push("-----END "+R.label+"-----"),L.join("\n")}},96867:function(Ne,V,E){!function(g,w){"use strict";function O(k,l){if(!k)throw new Error(l||"Assertion failed")}function X(k,l){k.super_=l;var h=function(){};h.prototype=l.prototype,k.prototype=new h,k.prototype.constructor=k}function _(k,l,h){if(_.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===l||"be"===l)&&(h=l,l=10),this._init(k||0,l||10,h||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(78982).Buffer}catch{}function A(k,l){var h=k.charCodeAt(l);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,l,h){var m=A(k,h);return h-1>=l&&(m|=A(k,h-1)<<4),m}function L(k,l,h,m){for(var p=0,x=Math.min(k.length,h),D=l;D<x;D++){var B=k.charCodeAt(D)-48;p*=m,p+=B>=49?B-49+10:B>=17?B-17+10:B}return p}_.isBN=function(l){return l instanceof _||null!==l&&"object"==typeof l&&l.constructor.wordSize===_.wordSize&&Array.isArray(l.words)},_.max=function(l,h){return l.cmp(h)>0?l:h},_.min=function(l,h){return l.cmp(h)<0?l:h},_.prototype._init=function(l,h,m){if("number"==typeof l)return this._initNumber(l,h,m);if("object"==typeof l)return this._initArray(l,h,m);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var p=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<l.length&&(16===h?this._parseHex(l,p,m):(this._parseBase(l,h,p),"le"===m&&this._initArray(this.toArray(),h,m)))},_.prototype._initNumber=function(l,h,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(O(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),h,m)},_.prototype._initArray=function(l,h,m){if(O("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,D,B=0;if("be"===m)for(p=l.length-1,x=0;p>=0;p-=3)this.words[x]|=(D=l[p]|l[p-1]<<8|l[p-2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);else if("le"===m)for(p=0,x=0;p<l.length;p+=3)this.words[x]|=(D=l[p]|l[p+1]<<8|l[p+2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);return this.strip()},_.prototype._parseHex=function(l,h,m){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var B,x=0,D=0;if("be"===m)for(p=l.length-1;p>=h;p-=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;else for(p=(l.length-h)%2==0?h+1:h;p<l.length;p+=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;this.strip()},_.prototype._parseBase=function(l,h,m){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=h)p++;p--,x=x/h|0;for(var D=l.length-m,B=D%p,M=Math.min(D,D-B)+m,d=0,v=m;v<M;v+=p)d=L(l,v,v+p,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==B){var W=1;for(d=L(l,v,l.length,h),v=0;v<B;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},_.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red},_.prototype.clone=function(){var l=new _(null);return this.copy(l),l},_.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},_.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},_.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(k,l,h){h.negative=l.negative^k.negative;var m=k.length+l.length|0;h.length=m,m=m-1|0;var p=0|k.words[0],x=0|l.words[0],D=p*x,M=D/67108864|0;h.words[0]=67108863&D;for(var d=1;d<m;d++){for(var v=M>>>26,W=67108863&M,z=Math.min(d,l.length-1),Q=Math.max(0,d-k.length+1);Q<=z;Q++)v+=(D=(p=0|k.words[d-Q|0])*(x=0|l.words[Q])+W)/67108864|0,W=67108863&D;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}_.prototype.toString=function(l,h){var m;if(h=0|h||1,16===(l=l||10)||"hex"===l){m="";for(var p=0,x=0,D=0;D<this.length;D++){var B=this.words[D],M=(16777215&(B<<p|x)).toString(16);m=0!=(x=B>>>24-p&16777215)||D!==this.length-1?F[6-M.length]+M+m:M+m,(p+=2)>=26&&(p-=26,D--)}for(0!==x&&(m=x.toString(16)+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(l===(0|l)&&l>=2&&l<=36){var d=C[l],v=Y[l];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var z=W.modn(v).toString(l);m=(W=W.idivn(v)).isZero()?z+m:F[d-z.length]+z+m}for(this.isZero()&&(m="0"+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},_.prototype.toJSON=function(){return this.toString(16)},_.prototype.toBuffer=function(l,h){return O(typeof R<"u"),this.toArrayLike(R,l,h)},_.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)},_.prototype.toArrayLike=function(l,h,m){var p=this.byteLength(),x=m||Math.max(1,p);O(p<=x,"byte array longer than desired length"),O(x>0,"Requested array length <= 0"),this.strip();var M,d,D="le"===h,B=new l(x),v=this.clone();if(D){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[d]=M;for(;d<x;d++)B[d]=0}else{for(d=0;d<x-p;d++)B[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[x-d-1]=M}return B},_.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var h=l,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},_.prototype._zeroBits=function(l){if(0===l)return 26;var h=l,m=0;return 8191&h||(m+=13,h>>>=13),127&h||(m+=7,h>>>=7),15&h||(m+=4,h>>>=4),3&h||(m+=2,h>>>=2),1&h||m++,m},_.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(l+=m,26!==m)break}return l},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},_.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this.strip()},_.prototype.ior=function(l){return O(!(this.negative|l.negative)),this.iuor(l)},_.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},_.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},_.prototype.iuand=function(l){var h;h=this.length>l.length?l:this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=h.length,this.strip()},_.prototype.iand=function(l){return O(!(this.negative|l.negative)),this.iuand(l)},_.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},_.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},_.prototype.iuxor=function(l){var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var p=0;p<m.length;p++)this.words[p]=h.words[p]^m.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},_.prototype.ixor=function(l){return O(!(this.negative|l.negative)),this.iuxor(l)},_.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},_.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},_.prototype.inotn=function(l){O("number"==typeof l&&l>=0);var h=0|Math.ceil(l/26),m=l%26;this._expand(h),m>0&&h--;for(var p=0;p<h;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},_.prototype.notn=function(l){return this.clone().inotn(l)},_.prototype.setn=function(l,h){O("number"==typeof l&&l>=0);var m=l/26|0,p=l%26;return this._expand(m+1),this.words[m]=h?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},_.prototype.iadd=function(l){var h,m,p;if(0!==this.negative&&0===l.negative)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();this.length>l.length?(m=this,p=l):(m=l,p=this);for(var x=0,D=0;D<p.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+(0|p.words[D])+x),x=h>>>26;for(;0!==x&&D<m.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+x),x=h>>>26;if(this.length=m.length,0!==x)this.words[this.length]=x,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},_.prototype.add=function(l){var h;return 0!==l.negative&&0===this.negative?(l.negative=0,h=this.sub(l),l.negative^=1,h):0===l.negative&&0!==this.negative?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},_.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p,x,m=this.cmp(l);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,x=l):(p=l,x=this);for(var D=0,B=0;B<x.length;B++)D=(h=(0|p.words[B])-(0|x.words[B])+D)>>26,this.words[B]=67108863&h;for(;0!==D&&B<p.length;B++)D=(h=(0|p.words[B])+D)>>26,this.words[B]=67108863&h;if(0===D&&B<p.length&&p!==this)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=Math.max(this.length,B),p!==this&&(this.negative=1),this.strip()},_.prototype.sub=function(l){return this.clone().isub(l)};var te=function(l,h,m){var M,d,v,p=l.words,x=h.words,D=m.words,B=0,W=0|p[0],z=8191&W,Q=W>>>13,de=0|p[1],xe=8191&de,Ie=de>>>13,Le=0|p[2],ve=8191&Le,ye=Le>>>13,ke=0|p[3],me=8191&ke,Ee=ke>>>13,fe=0|p[4],he=8191&fe,ae=fe>>>13,ue=0|p[5],ge=8191&ue,Ae=ue>>>13,Ue=0|p[6],Ve=8191&Ue,ze=Ue>>>13,It=0|p[7],qe=8191&It,je=It>>>13,ut=0|p[8],$=8191&ut,T=ut>>>13,S=0|p[9],Z=8191&S,le=S>>>13,De=0|x[0],Oe=8191&De,Qe=De>>>13,Nt=0|x[1],ft=8191&Nt,St=Nt>>>13,Lt=0|x[2],Gt=8191&Lt,Vt=Lt>>>13,zn=0|x[3],cn=8191&zn,Bt=zn>>>13,Dt=0|x[4],nt=8191&Dt,Ye=Dt>>>13,At=0|x[5],kt=8191&At,$t=At>>>13,Bn=0|x[6],et=8191&Bn,it=Bn>>>13,ot=0|x[7],He=8191&ot,ht=ot>>>13,sn=0|x[8],Kt=8191&sn,rn=sn>>>13,ir=0|x[9],pn=8191&ir,un=ir>>>13;m.negative=l.negative^h.negative,m.length=19;var ur=(B+(M=Math.imul(z,Oe))|0)+((8191&(d=(d=Math.imul(z,Qe))+Math.imul(Q,Oe)|0))<<13)|0;B=((v=Math.imul(Q,Qe))+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,M=Math.imul(xe,Oe),d=(d=Math.imul(xe,Qe))+Math.imul(Ie,Oe)|0,v=Math.imul(Ie,Qe);var Hn=(B+(M=M+Math.imul(z,ft)|0)|0)+((8191&(d=(d=d+Math.imul(z,St)|0)+Math.imul(Q,ft)|0))<<13)|0;B=((v=v+Math.imul(Q,St)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(ve,Oe),d=(d=Math.imul(ve,Qe))+Math.imul(ye,Oe)|0,v=Math.imul(ye,Qe),M=M+Math.imul(xe,ft)|0,d=(d=d+Math.imul(xe,St)|0)+Math.imul(Ie,ft)|0,v=v+Math.imul(Ie,St)|0;var Pn=(B+(M=M+Math.imul(z,Gt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Vt)|0)+Math.imul(Q,Gt)|0))<<13)|0;B=((v=v+Math.imul(Q,Vt)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(me,Oe),d=(d=Math.imul(me,Qe))+Math.imul(Ee,Oe)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(ve,ft)|0,d=(d=d+Math.imul(ve,St)|0)+Math.imul(ye,ft)|0,v=v+Math.imul(ye,St)|0,M=M+Math.imul(xe,Gt)|0,d=(d=d+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0,v=v+Math.imul(Ie,Vt)|0;var Dn=(B+(M=M+Math.imul(z,cn)|0)|0)+((8191&(d=(d=d+Math.imul(z,Bt)|0)+Math.imul(Q,cn)|0))<<13)|0;B=((v=v+Math.imul(Q,Bt)|0)+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,M=Math.imul(he,Oe),d=(d=Math.imul(he,Qe))+Math.imul(ae,Oe)|0,v=Math.imul(ae,Qe),M=M+Math.imul(me,ft)|0,d=(d=d+Math.imul(me,St)|0)+Math.imul(Ee,ft)|0,v=v+Math.imul(Ee,St)|0,M=M+Math.imul(ve,Gt)|0,d=(d=d+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,v=v+Math.imul(ye,Vt)|0,M=M+Math.imul(xe,cn)|0,d=(d=d+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0,v=v+Math.imul(Ie,Bt)|0;var qt=(B+(M=M+Math.imul(z,nt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Ye)|0)+Math.imul(Q,nt)|0))<<13)|0;B=((v=v+Math.imul(Q,Ye)|0)+(d>>>13)|0)+(qt>>>26)|0,qt&=67108863,M=Math.imul(ge,Oe),d=(d=Math.imul(ge,Qe))+Math.imul(Ae,Oe)|0,v=Math.imul(Ae,Qe),M=M+Math.imul(he,ft)|0,d=(d=d+Math.imul(he,St)|0)+Math.imul(ae,ft)|0,v=v+Math.imul(ae,St)|0,M=M+Math.imul(me,Gt)|0,d=(d=d+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,v=v+Math.imul(Ee,Vt)|0,M=M+Math.imul(ve,cn)|0,d=(d=d+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,v=v+Math.imul(ye,Bt)|0,M=M+Math.imul(xe,nt)|0,d=(d=d+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0,v=v+Math.imul(Ie,Ye)|0;var Yt=(B+(M=M+Math.imul(z,kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,$t)|0)+Math.imul(Q,kt)|0))<<13)|0;B=((v=v+Math.imul(Q,$t)|0)+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(Ve,Oe),d=(d=Math.imul(Ve,Qe))+Math.imul(ze,Oe)|0,v=Math.imul(ze,Qe),M=M+Math.imul(ge,ft)|0,d=(d=d+Math.imul(ge,St)|0)+Math.imul(Ae,ft)|0,v=v+Math.imul(Ae,St)|0,M=M+Math.imul(he,Gt)|0,d=(d=d+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,v=v+Math.imul(ae,Vt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,v=v+Math.imul(Ee,Bt)|0,M=M+Math.imul(ve,nt)|0,d=(d=d+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,v=v+Math.imul(ye,Ye)|0,M=M+Math.imul(xe,kt)|0,d=(d=d+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0,v=v+Math.imul(Ie,$t)|0;var Xn=(B+(M=M+Math.imul(z,et)|0)|0)+((8191&(d=(d=d+Math.imul(z,it)|0)+Math.imul(Q,et)|0))<<13)|0;B=((v=v+Math.imul(Q,it)|0)+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,M=Math.imul(qe,Oe),d=(d=Math.imul(qe,Qe))+Math.imul(je,Oe)|0,v=Math.imul(je,Qe),M=M+Math.imul(Ve,ft)|0,d=(d=d+Math.imul(Ve,St)|0)+Math.imul(ze,ft)|0,v=v+Math.imul(ze,St)|0,M=M+Math.imul(ge,Gt)|0,d=(d=d+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,v=v+Math.imul(Ae,Vt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,v=v+Math.imul(ae,Bt)|0,M=M+Math.imul(me,nt)|0,d=(d=d+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,v=v+Math.imul(Ee,Ye)|0,M=M+Math.imul(ve,kt)|0,d=(d=d+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,v=v+Math.imul(ye,$t)|0,M=M+Math.imul(xe,et)|0,d=(d=d+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0,v=v+Math.imul(Ie,it)|0;var $n=(B+(M=M+Math.imul(z,He)|0)|0)+((8191&(d=(d=d+Math.imul(z,ht)|0)+Math.imul(Q,He)|0))<<13)|0;B=((v=v+Math.imul(Q,ht)|0)+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul($,Oe),d=(d=Math.imul($,Qe))+Math.imul(T,Oe)|0,v=Math.imul(T,Qe),M=M+Math.imul(qe,ft)|0,d=(d=d+Math.imul(qe,St)|0)+Math.imul(je,ft)|0,v=v+Math.imul(je,St)|0,M=M+Math.imul(Ve,Gt)|0,d=(d=d+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,v=v+Math.imul(ze,Vt)|0,M=M+Math.imul(ge,cn)|0,d=(d=d+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,v=v+Math.imul(Ae,Bt)|0,M=M+Math.imul(he,nt)|0,d=(d=d+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,v=v+Math.imul(ae,Ye)|0,M=M+Math.imul(me,kt)|0,d=(d=d+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,$t)|0,M=M+Math.imul(ve,et)|0,d=(d=d+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,v=v+Math.imul(ye,it)|0,M=M+Math.imul(xe,He)|0,d=(d=d+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0,v=v+Math.imul(Ie,ht)|0;var yr=(B+(M=M+Math.imul(z,Kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,rn)|0)+Math.imul(Q,Kt)|0))<<13)|0;B=((v=v+Math.imul(Q,rn)|0)+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(Z,Oe),d=(d=Math.imul(Z,Qe))+Math.imul(le,Oe)|0,v=Math.imul(le,Qe),M=M+Math.imul($,ft)|0,d=(d=d+Math.imul($,St)|0)+Math.imul(T,ft)|0,v=v+Math.imul(T,St)|0,M=M+Math.imul(qe,Gt)|0,d=(d=d+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,v=v+Math.imul(je,Vt)|0,M=M+Math.imul(Ve,cn)|0,d=(d=d+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,v=v+Math.imul(ze,Bt)|0,M=M+Math.imul(ge,nt)|0,d=(d=d+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,v=v+Math.imul(Ae,Ye)|0,M=M+Math.imul(he,kt)|0,d=(d=d+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,v=v+Math.imul(ae,$t)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,v=v+Math.imul(Ee,it)|0,M=M+Math.imul(ve,He)|0,d=(d=d+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,v=v+Math.imul(ye,ht)|0,M=M+Math.imul(xe,Kt)|0,d=(d=d+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0,v=v+Math.imul(Ie,rn)|0;var hr=(B+(M=M+Math.imul(z,pn)|0)|0)+((8191&(d=(d=d+Math.imul(z,un)|0)+Math.imul(Q,pn)|0))<<13)|0;B=((v=v+Math.imul(Q,un)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(Z,ft),d=(d=Math.imul(Z,St))+Math.imul(le,ft)|0,v=Math.imul(le,St),M=M+Math.imul($,Gt)|0,d=(d=d+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,v=v+Math.imul(T,Vt)|0,M=M+Math.imul(qe,cn)|0,d=(d=d+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,v=v+Math.imul(je,Bt)|0,M=M+Math.imul(Ve,nt)|0,d=(d=d+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,v=v+Math.imul(ze,Ye)|0,M=M+Math.imul(ge,kt)|0,d=(d=d+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,v=v+Math.imul(Ae,$t)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(ae,et)|0,v=v+Math.imul(ae,it)|0,M=M+Math.imul(me,He)|0,d=(d=d+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(ve,Kt)|0,d=(d=d+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,v=v+Math.imul(ye,rn)|0;var vr=(B+(M=M+Math.imul(xe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;B=((v=v+Math.imul(Ie,un)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(Z,Gt),d=(d=Math.imul(Z,Vt))+Math.imul(le,Gt)|0,v=Math.imul(le,Vt),M=M+Math.imul($,cn)|0,d=(d=d+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,v=v+Math.imul(T,Bt)|0,M=M+Math.imul(qe,nt)|0,d=(d=d+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,v=v+Math.imul(je,Ye)|0,M=M+Math.imul(Ve,kt)|0,d=(d=d+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,v=v+Math.imul(ze,$t)|0,M=M+Math.imul(ge,et)|0,d=(d=d+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,v=v+Math.imul(Ae,it)|0,M=M+Math.imul(he,He)|0,d=(d=d+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,v=v+Math.imul(ae,ht)|0,M=M+Math.imul(me,Kt)|0,d=(d=d+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,v=v+Math.imul(Ee,rn)|0;var sr=(B+(M=M+Math.imul(ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0))<<13)|0;B=((v=v+Math.imul(ye,un)|0)+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,M=Math.imul(Z,cn),d=(d=Math.imul(Z,Bt))+Math.imul(le,cn)|0,v=Math.imul(le,Bt),M=M+Math.imul($,nt)|0,d=(d=d+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,v=v+Math.imul(T,Ye)|0,M=M+Math.imul(qe,kt)|0,d=(d=d+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,v=v+Math.imul(je,$t)|0,M=M+Math.imul(Ve,et)|0,d=(d=d+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,v=v+Math.imul(ze,it)|0,M=M+Math.imul(ge,He)|0,d=(d=d+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,v=v+Math.imul(Ae,ht)|0,M=M+Math.imul(he,Kt)|0,d=(d=d+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,v=v+Math.imul(ae,rn)|0;var pr=(B+(M=M+Math.imul(me,pn)|0)|0)+((8191&(d=(d=d+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0))<<13)|0;B=((v=v+Math.imul(Ee,un)|0)+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(Z,nt),d=(d=Math.imul(Z,Ye))+Math.imul(le,nt)|0,v=Math.imul(le,Ye),M=M+Math.imul($,kt)|0,d=(d=d+Math.imul($,$t)|0)+Math.imul(T,kt)|0,v=v+Math.imul(T,$t)|0,M=M+Math.imul(qe,et)|0,d=(d=d+Math.imul(qe,it)|0)+Math.imul(je,et)|0,v=v+Math.imul(je,it)|0,M=M+Math.imul(Ve,He)|0,d=(d=d+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,v=v+Math.imul(ze,ht)|0,M=M+Math.imul(ge,Kt)|0,d=(d=d+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,v=v+Math.imul(Ae,rn)|0;var kr=(B+(M=M+Math.imul(he,pn)|0)|0)+((8191&(d=(d=d+Math.imul(he,un)|0)+Math.imul(ae,pn)|0))<<13)|0;B=((v=v+Math.imul(ae,un)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(Z,kt),d=(d=Math.imul(Z,$t))+Math.imul(le,kt)|0,v=Math.imul(le,$t),M=M+Math.imul($,et)|0,d=(d=d+Math.imul($,it)|0)+Math.imul(T,et)|0,v=v+Math.imul(T,it)|0,M=M+Math.imul(qe,He)|0,d=(d=d+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,v=v+Math.imul(je,ht)|0,M=M+Math.imul(Ve,Kt)|0,d=(d=d+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,v=v+Math.imul(ze,rn)|0;var Tr=(B+(M=M+Math.imul(ge,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0))<<13)|0;B=((v=v+Math.imul(Ae,un)|0)+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,et),d=(d=Math.imul(Z,it))+Math.imul(le,et)|0,v=Math.imul(le,it),M=M+Math.imul($,He)|0,d=(d=d+Math.imul($,ht)|0)+Math.imul(T,He)|0,v=v+Math.imul(T,ht)|0,M=M+Math.imul(qe,Kt)|0,d=(d=d+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,v=v+Math.imul(je,rn)|0;var jr=(B+(M=M+Math.imul(Ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0))<<13)|0;B=((v=v+Math.imul(ze,un)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(Z,He),d=(d=Math.imul(Z,ht))+Math.imul(le,He)|0,v=Math.imul(le,ht),M=M+Math.imul($,Kt)|0,d=(d=d+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,v=v+Math.imul(T,rn)|0;var Ir=(B+(M=M+Math.imul(qe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(qe,un)|0)+Math.imul(je,pn)|0))<<13)|0;B=((v=v+Math.imul(je,un)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,M=Math.imul(Z,Kt),d=(d=Math.imul(Z,rn))+Math.imul(le,Kt)|0,v=Math.imul(le,rn);var Ot=(B+(M=M+Math.imul($,pn)|0)|0)+((8191&(d=(d=d+Math.imul($,un)|0)+Math.imul(T,pn)|0))<<13)|0;B=((v=v+Math.imul(T,un)|0)+(d>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Wt=(B+(M=Math.imul(Z,pn))|0)+((8191&(d=(d=Math.imul(Z,un))+Math.imul(le,pn)|0))<<13)|0;return B=((v=Math.imul(le,un))+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D[0]=ur,D[1]=Hn,D[2]=Pn,D[3]=Dn,D[4]=qt,D[5]=Yt,D[6]=Xn,D[7]=$n,D[8]=yr,D[9]=hr,D[10]=vr,D[11]=sr,D[12]=pr,D[13]=kr,D[14]=Tr,D[15]=jr,D[16]=Ir,D[17]=Ot,D[18]=Wt,0!==B&&(D[19]=B,m.length++),m};function q(k,l,h){return(new J).mulp(k,l,h)}function J(k,l){this.x=k,this.y=l}Math.imul||(te=G),_.prototype.mulTo=function(l,h){var m,p=this.length+l.length;return m=10===this.length&&10===l.length?te(this,l,h):p<63?G(this,l,h):p<1024?function ee(k,l,h){h.negative=l.negative^k.negative,h.length=k.length+l.length;for(var m=0,p=0,x=0;x<h.length-1;x++){var D=p;p=0;for(var B=67108863&m,M=Math.min(x,l.length-1),d=Math.max(0,x-k.length+1);d<=M;d++){var Q=(0|k.words[x-d])*(0|l.words[d]),de=67108863&Q;B=67108863&(de=de+B|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}h.words[x]=B,m=D,D=p}return 0!==m?h.words[x]=m:h.length--,h.strip()}(this,l,h):q(this,l,h),m},J.prototype.makeRBT=function(l){for(var h=new Array(l),m=_.prototype._countBits(l)-1,p=0;p<l;p++)h[p]=this.revBin(p,m,l);return h},J.prototype.revBin=function(l,h,m){if(0===l||l===m-1)return l;for(var p=0,x=0;x<h;x++)p|=(1&l)<<h-x-1,l>>=1;return p},J.prototype.permute=function(l,h,m,p,x,D){for(var B=0;B<D;B++)p[B]=h[l[B]],x[B]=m[l[B]]},J.prototype.transform=function(l,h,m,p,x,D){this.permute(D,l,h,m,p,x);for(var B=1;B<x;B<<=1)for(var M=B<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<x;W+=M)for(var z=d,Q=v,de=0;de<B;de++){var xe=m[W+de],Ie=p[W+de],Le=m[W+de+B],ve=p[W+de+B],ye=z*Le-Q*ve;ve=z*ve+Q*Le,m[W+de]=xe+(Le=ye),p[W+de]=Ie+ve,m[W+de+B]=xe-Le,p[W+de+B]=Ie-ve,de!==M&&(ye=d*z-v*Q,Q=d*Q+v*z,z=ye)}},J.prototype.guessLen13b=function(l,h){var m=1|Math.max(h,l),p=1&m,x=0;for(m=m/2|0;m;m>>>=1)x++;return 1<<x+1+p},J.prototype.conjugate=function(l,h,m){if(!(m<=1))for(var p=0;p<m/2;p++){var x=l[p];l[p]=l[m-p-1],l[m-p-1]=x,x=h[p],h[p]=-h[m-p-1],h[m-p-1]=-x}},J.prototype.normalize13b=function(l,h){for(var m=0,p=0;p<h/2;p++){var x=8192*Math.round(l[2*p+1]/h)+Math.round(l[2*p]/h)+m;l[p]=67108863&x,m=x<67108864?0:x/67108864|0}return l},J.prototype.convert13b=function(l,h,m,p){for(var x=0,D=0;D<h;D++)m[2*D]=8191&(x+=0|l[D]),m[2*D+1]=8191&(x>>>=13),x>>>=13;for(D=2*h;D<p;++D)m[D]=0;O(0===x),O(!(-8192&x))},J.prototype.stub=function(l){for(var h=new Array(l),m=0;m<l;m++)h[m]=0;return h},J.prototype.mulp=function(l,h,m){var p=2*this.guessLen13b(l.length,h.length),x=this.makeRBT(p),D=this.stub(p),B=new Array(p),M=new Array(p),d=new Array(p),v=new Array(p),W=new Array(p),z=new Array(p),Q=m.words;Q.length=p,this.convert13b(l.words,l.length,B,p),this.convert13b(h.words,h.length,v,p),this.transform(B,D,M,d,p,x),this.transform(v,D,W,z,p,x);for(var de=0;de<p;de++){var xe=M[de]*W[de]-d[de]*z[de];d[de]=M[de]*z[de]+d[de]*W[de],M[de]=xe}return this.conjugate(M,d,p),this.transform(M,d,Q,D,p,x),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=l.negative^h.negative,m.length=l.length+h.length,m.strip()},_.prototype.mul=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},_.prototype.mulf=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),q(this,l,h)},_.prototype.imul=function(l){return this.clone().mulTo(l,this)},_.prototype.imuln=function(l){O("number"==typeof l),O(l<67108864);for(var h=0,m=0;m<this.length;m++){var p=(0|this.words[m])*l,x=(67108863&p)+(67108863&h);h>>=26,h+=p/67108864|0,h+=x>>>26,this.words[m]=67108863&x}return 0!==h&&(this.words[m]=h,this.length++),this},_.prototype.muln=function(l){return this.clone().imuln(l)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(l){var h=function j(k){for(var l=new Array(k.bitLength()),h=0;h<l.length;h++){var p=h%26;l[h]=(k.words[h/26|0]&1<<p)>>>p}return l}(l);if(0===h.length)return new _(1);for(var m=this,p=0;p<h.length&&0===h[p];p++,m=m.sqr());if(++p<h.length)for(var x=m.sqr();p<h.length;p++,x=x.sqr())0!==h[p]&&(m=m.mul(x));return m},_.prototype.iushln=function(l){O("number"==typeof l&&l>=0);var x,h=l%26,m=(l-h)/26,p=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(x=0;x<this.length;x++){var B=this.words[x]&p;this.words[x]=(0|this.words[x])-B<<h|D,D=B>>>26-h}D&&(this.words[x]=D,this.length++)}if(0!==m){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},_.prototype.ishln=function(l){return O(0===this.negative),this.iushln(l)},_.prototype.iushrn=function(l,h,m){var p;O("number"==typeof l&&l>=0),p=h?(h-h%26)/26:0;var x=l%26,D=Math.min((l-x)/26,this.length),B=67108863^67108863>>>x<<x,M=m;if(p-=D,p=Math.max(0,p),M){for(var d=0;d<D;d++)M.words[d]=this.words[d];M.length=D}if(0!==D)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=p);d--){var W=0|this.words[d];this.words[d]=v<<26-x|W>>>x,v=W&B}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},_.prototype.ishrn=function(l,h,m){return O(0===this.negative),this.iushrn(l,h,m)},_.prototype.shln=function(l){return this.clone().ishln(l)},_.prototype.ushln=function(l){return this.clone().iushln(l)},_.prototype.shrn=function(l){return this.clone().ishrn(l)},_.prototype.ushrn=function(l){return this.clone().iushrn(l)},_.prototype.testn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return!(this.length<=m||!(this.words[m]&1<<h))},_.prototype.imaskn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==h&&m++,this.length=Math.min(m,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},_.prototype.maskn=function(l){return this.clone().imaskn(l)},_.prototype.iaddn=function(l){return O("number"==typeof l),O(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},_.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},_.prototype.isubn=function(l){if(O("number"==typeof l),O(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},_.prototype.addn=function(l){return this.clone().iaddn(l)},_.prototype.subn=function(l){return this.clone().isubn(l)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(l,h,m){var x;this._expand(l.length+m);var D,B=0;for(x=0;x<l.length;x++){D=(0|this.words[x+m])+B;var M=(0|l.words[x])*h;B=((D-=67108863&M)>>26)-(M/67108864|0),this.words[x+m]=67108863&D}for(;x<this.length-m;x++)B=(D=(0|this.words[x+m])+B)>>26,this.words[x+m]=67108863&D;if(0===B)return this.strip();for(O(-1===B),B=0,x=0;x<this.length;x++)B=(D=-(0|this.words[x])+B)>>26,this.words[x]=67108863&D;return this.negative=1,this.strip()},_.prototype._wordDiv=function(l,h){var m,p=this.clone(),x=l,D=0|x.words[x.length-1];0!=(m=26-this._countBits(D))&&(x=x.ushln(m),p.iushln(m),D=0|x.words[x.length-1]);var d,M=p.length-x.length;if("mod"!==h){(d=new _(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=p.clone()._ishlnsubmul(x,1,M);0===W.negative&&(p=W,d&&(d.words[M]=1));for(var z=M-1;z>=0;z--){var Q=67108864*(0|p.words[x.length+z])+(0|p.words[x.length+z-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(x,Q,z);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(x,1,z),p.isZero()||(p.negative^=1);d&&(d.words[z]=Q)}return d&&d.strip(),p.strip(),"div"!==h&&0!==m&&p.iushrn(m),{div:d||null,mod:p}},_.prototype.divmod=function(l,h,m){return O(!l.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===l.negative?(D=this.neg().divmod(l,h),"mod"!==h&&(p=D.div.neg()),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.iadd(l)),{div:p,mod:x}):0===this.negative&&0!==l.negative?(D=this.divmod(l.neg(),h),"mod"!==h&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),h),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.isub(l)),{div:D.div,mod:x}):l.length>this.length||this.cmp(l)<0?{div:new _(0),mod:this}:1===l.length?"div"===h?{div:this.divn(l.words[0]),mod:null}:"mod"===h?{div:null,mod:new _(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new _(this.modn(l.words[0]))}:this._wordDiv(l,h);var p,x,D},_.prototype.div=function(l){return this.divmod(l,"div",!1).div},_.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},_.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},_.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var m=0!==h.div.negative?h.mod.isub(l):h.mod,p=l.ushrn(1),x=l.andln(1),D=m.cmp(p);return D<0||1===x&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},_.prototype.modn=function(l){O(l<=67108863);for(var h=(1<<26)%l,m=0,p=this.length-1;p>=0;p--)m=(h*m+(0|this.words[p]))%l;return m},_.prototype.idivn=function(l){O(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*h;this.words[m]=p/l|0,h=p%l}return this.strip()},_.prototype.divn=function(l){return this.clone().idivn(l)},_.prototype.egcd=function(l){O(0===l.negative),O(!l.isZero());var h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=new _(0),B=new _(1),M=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++M;for(var d=m.clone(),v=h.clone();!h.isZero();){for(var W=0,z=1;!(h.words[0]&z)&&W<26;++W,z<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(d),x.isub(v)),p.iushrn(1),x.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||B.isOdd())&&(D.iadd(d),B.isub(v)),D.iushrn(1),B.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(D),x.isub(B)):(m.isub(h),D.isub(p),B.isub(x))}return{a:D,b:B,gcd:m.iushln(M)}},_.prototype._invmp=function(l){O(0===l.negative),O(!l.isZero());var W,h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var B=0,M=1;!(h.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(h.iushrn(B);B-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var d=0,v=1;!(m.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(x)):(m.isub(h),x.isub(p))}return(W=0===h.cmpn(1)?p:x).cmpn(0)<0&&W.iadd(l),W},_.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),m=l.clone();h.negative=0,m.negative=0;for(var p=0;h.isEven()&&m.isEven();p++)h.iushrn(1),m.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var D=h;h=m,m=D}else if(0===x||0===m.cmpn(1))break;h.isub(m)}return m.iushln(p)},_.prototype.invm=function(l){return this.egcd(l).a.umod(l)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(l){return this.words[0]&l},_.prototype.bincn=function(l){O("number"==typeof l);var h=l%26,m=(l-h)/26,p=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var x=p,D=m;0!==x&&D<this.length;D++){var B=0|this.words[D];x=(B+=x)>>>26,this.words[D]=B&=67108863}return 0!==x&&(this.words[D]=x,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(l){var m,h=l<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)m=1;else{h&&(l=-l),O(l<=67108863,"Number is too big");var p=0|this.words[0];m=p===l?0:p<l?-1:1}return 0!==this.negative?0|-m:m},_.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var h=this.ucmp(l);return 0!==this.negative?0|-h:h},_.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],x=0|l.words[m];if(p!==x){p<x?h=-1:p>x&&(h=1);break}}return h},_.prototype.gtn=function(l){return 1===this.cmpn(l)},_.prototype.gt=function(l){return 1===this.cmp(l)},_.prototype.gten=function(l){return this.cmpn(l)>=0},_.prototype.gte=function(l){return this.cmp(l)>=0},_.prototype.ltn=function(l){return-1===this.cmpn(l)},_.prototype.lt=function(l){return-1===this.cmp(l)},_.prototype.lten=function(l){return this.cmpn(l)<=0},_.prototype.lte=function(l){return this.cmp(l)<=0},_.prototype.eqn=function(l){return 0===this.cmpn(l)},_.prototype.eq=function(l){return 0===this.cmp(l)},_.red=function(l){return new we(l)},_.prototype.toRed=function(l){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(l){return this.red=l,this},_.prototype.forceRed=function(l){return O(!this.red,"Already a number in reduction context"),this._forceRed(l)},_.prototype.redAdd=function(l){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},_.prototype.redIAdd=function(l){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},_.prototype.redSub=function(l){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},_.prototype.redISub=function(l){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},_.prototype.redShl=function(l){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},_.prototype.redMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},_.prototype.redIMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(l){return O(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ne={k256:null,p224:null,p192:null,p25519:null};function ie(k,l){this.name=k,this.p=new _(l,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function re(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ce(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var l=_._prime(k);this.m=l.p,this.prime=l}else O(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function Me(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var l=new _(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m,h=l;do{this.split(h,this.tmp),m=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:h.ucmp(this.p);return 0===p?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},ie.prototype.split=function(l,h){l.iushrn(this.n,0,h)},ie.prototype.imulK=function(l){return l.imul(this.k)},X(re,ie),re.prototype.split=function(l,h){for(var m=4194303,p=Math.min(l.length,9),x=0;x<p;x++)h.words[x]=l.words[x];if(h.length=p,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(h.words[h.length++]=D&m,x=10;x<l.length;x++){var B=0|l.words[x];l.words[x-10]=(B&m)<<4|D>>>22,D=B}l.words[x-10]=D>>>=22,l.length-=0===D&&l.length>10?10:9},re.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,m=0;m<l.length;m++){var p=0|l.words[m];l.words[m]=67108863&(h+=977*p),h=64*p+(h/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},X(ce,ie),X(se,ie),X(pe,ie),pe.prototype.imulK=function(l){for(var h=0,m=0;m<l.length;m++){var p=19*(0|l.words[m])+h,x=67108863&p;p>>>=26,l.words[m]=x,h=p}return 0!==h&&(l.words[l.length++]=h),l},_._prime=function(l){if(ne[l])return ne[l];var h;if("k256"===l)h=new re;else if("p224"===l)h=new ce;else if("p192"===l)h=new se;else{if("p25519"!==l)throw new Error("Unknown prime "+l);h=new pe}return ne[l]=h,h},we.prototype._verify1=function(l){O(0===l.negative,"red works only with positives"),O(l.red,"red works only with red numbers")},we.prototype._verify2=function(l,h){O(!(l.negative|h.negative),"red works only with positives"),O(l.red&&l.red===h.red,"red works only with red numbers")},we.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},we.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},we.prototype.add=function(l,h){this._verify2(l,h);var m=l.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},we.prototype.iadd=function(l,h){this._verify2(l,h);var m=l.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},we.prototype.sub=function(l,h){this._verify2(l,h);var m=l.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},we.prototype.isub=function(l,h){this._verify2(l,h);var m=l.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},we.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},we.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},we.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},we.prototype.isqr=function(l){return this.imul(l,l.clone())},we.prototype.sqr=function(l){return this.mul(l,l)},we.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var m=this.m.add(new _(1)).iushrn(2);return this.pow(l,m)}for(var p=this.m.subn(1),x=0;!p.isZero()&&0===p.andln(1);)x++,p.iushrn(1);O(!p.isZero());var D=new _(1).toRed(this),B=D.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new _(2*d*d).toRed(this);0!==this.pow(d,M).cmp(B);)d.redIAdd(B);for(var v=this.pow(d,p),W=this.pow(l,p.addn(1).iushrn(1)),z=this.pow(l,p),Q=x;0!==z.cmp(D);){for(var de=z,xe=0;0!==de.cmp(D);xe++)de=de.redSqr();O(xe<Q);var Ie=this.pow(v,new _(1).iushln(Q-xe-1));W=W.redMul(Ie),v=Ie.redSqr(),z=z.redMul(v),Q=xe}return W},we.prototype.invm=function(l){var h=l._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(l,h){if(h.isZero())return new _(1).toRed(this);if(0===h.cmpn(1))return l.clone();var p=new Array(16);p[0]=new _(1).toRed(this),p[1]=l;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],l);var D=p[0],B=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),x=h.length-1;x>=0;x--){for(var v=h.words[x],W=d-1;W>=0;W--){var z=v>>W&1;D!==p[0]&&(D=this.sqr(D)),0!==z||0!==B?(B<<=1,B|=z,(4==++M||0===x&&0===W)&&(D=this.mul(D,p[B]),M=0,B=0)):M=0}d=26}return D},we.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},we.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},_.mont=function(l){return new Me(l)},X(Me,we),Me.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Me.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},Me.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new _(0)._forceRed(this);var m=l.mul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},13981:(Ne,V)=>{"use strict";V.byteLength=function A(j){var G=R(j),ee=G[1];return 3*(G[0]+ee)/4-ee},V.toByteArray=function L(j){var G,re,te=R(j),ee=te[0],q=te[1],J=new w(function N(j,G,te){return 3*(G+te)/4-te}(0,ee,q)),ne=0,ie=q>0?ee-4:ee;for(re=0;re<ie;re+=4)G=g[j.charCodeAt(re)]<<18|g[j.charCodeAt(re+1)]<<12|g[j.charCodeAt(re+2)]<<6|g[j.charCodeAt(re+3)],J[ne++]=G>>16&255,J[ne++]=G>>8&255,J[ne++]=255&G;return 2===q&&(G=g[j.charCodeAt(re)]<<2|g[j.charCodeAt(re+1)]>>4,J[ne++]=255&G),1===q&&(G=g[j.charCodeAt(re)]<<10|g[j.charCodeAt(re+1)]<<4|g[j.charCodeAt(re+2)]>>2,J[ne++]=G>>8&255,J[ne++]=255&G),J},V.fromByteArray=function Y(j){for(var G,te=j.length,ee=te%3,q=[],J=16383,ne=0,ie=te-ee;ne<ie;ne+=J)q.push(C(j,ne,ne+J>ie?ie:ne+J));return 1===ee?q.push(E[(G=j[te-1])>>2]+E[G<<4&63]+"=="):2===ee&&q.push(E[(G=(j[te-2]<<8)+j[te-1])>>10]+E[G>>4&63]+E[G<<2&63]+"="),q.join("")};for(var E=[],g=[],w=typeof Uint8Array<"u"?Uint8Array:Array,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=0;X<64;++X)E[X]=O[X],g[O.charCodeAt(X)]=X;function R(j){var G=j.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var te=j.indexOf("=");return-1===te&&(te=G),[te,te===G?0:4-te%4]}function F(j){return E[j>>18&63]+E[j>>12&63]+E[j>>6&63]+E[63&j]}function C(j,G,te){for(var q=[],J=G;J<te;J+=3)q.push(F((j[J]<<16&16711680)+(j[J+1]<<8&65280)+(255&j[J+2])));return q.join("")}g[45]=62,g[95]=63},917:function(Ne,V,E){!function(g,w){"use strict";function O(m,p){if(!m)throw new Error(p||"Assertion failed")}function X(m,p){m.super_=p;var x=function(){};x.prototype=p.prototype,m.prototype=new x,m.prototype.constructor=m}function _(m,p,x){if(_.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,null!==m&&(("le"===p||"be"===p)&&(x=p,p=10),this._init(m||0,p||10,x||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(47790).Buffer}catch{}function A(m,p){var x=m.charCodeAt(p);return x>=48&&x<=57?x-48:x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:void O(!1,"Invalid character in "+m)}function N(m,p,x){var D=A(m,x);return x-1>=p&&(D|=A(m,x-1)<<4),D}function L(m,p,x,D){for(var B=0,M=0,d=Math.min(m.length,x),v=p;v<d;v++){var W=m.charCodeAt(v)-48;B*=D,M=W>=49?W-49+10:W>=17?W-17+10:W,O(W>=0&&M<D,"Invalid character"),B+=M}return B}function F(m,p){m.words=p.words,m.length=p.length,m.negative=p.negative,m.red=p.red}if(_.isBN=function(p){return p instanceof _||null!==p&&"object"==typeof p&&p.constructor.wordSize===_.wordSize&&Array.isArray(p.words)},_.max=function(p,x){return p.cmp(x)>0?p:x},_.min=function(p,x){return p.cmp(x)<0?p:x},_.prototype._init=function(p,x,D){if("number"==typeof p)return this._initNumber(p,x,D);if("object"==typeof p)return this._initArray(p,x,D);"hex"===x&&(x=16),O(x===(0|x)&&x>=2&&x<=36);var B=0;"-"===(p=p.toString().replace(/\s+/g,""))[0]&&(B++,this.negative=1),B<p.length&&(16===x?this._parseHex(p,B,D):(this._parseBase(p,x,B),"le"===D&&this._initArray(this.toArray(),x,D)))},_.prototype._initNumber=function(p,x,D){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[67108863&p],this.length=1):p<4503599627370496?(this.words=[67108863&p,p/67108864&67108863],this.length=2):(O(p<9007199254740992),this.words=[67108863&p,p/67108864&67108863,1],this.length=3),"le"===D&&this._initArray(this.toArray(),x,D)},_.prototype._initArray=function(p,x,D){if(O("number"==typeof p.length),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var M,d,v=0;if("be"===D)for(B=p.length-1,M=0;B>=0;B-=3)this.words[M]|=(d=p[B]|p[B-1]<<8|p[B-2]<<16)<<v&67108863,this.words[M+1]=d>>>26-v&67108863,(v+=24)>=26&&(v-=26,M++);else if("le"===D)for(B=0,M=0;B<p.length;B+=3)this.words[M]|=(d=p[B]|p[B+1]<<8|p[B+2]<<16)<<v&67108863,this.words[M+1]=d>>>26-v&67108863,(v+=24)>=26&&(v-=26,M++);return this._strip()},_.prototype._parseHex=function(p,x,D){this.length=Math.ceil((p.length-x)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var v,M=0,d=0;if("be"===D)for(B=p.length-1;B>=x;B-=2)v=N(p,x,B)<<M,this.words[d]|=67108863&v,M>=18?(M-=18,this.words[d+=1]|=v>>>26):M+=8;else for(B=(p.length-x)%2==0?x+1:x;B<p.length;B+=2)v=N(p,x,B)<<M,this.words[d]|=67108863&v,M>=18?(M-=18,this.words[d+=1]|=v>>>26):M+=8;this._strip()},_.prototype._parseBase=function(p,x,D){this.words=[0],this.length=1;for(var B=0,M=1;M<=67108863;M*=x)B++;B--,M=M/x|0;for(var d=p.length-D,v=d%B,W=Math.min(d,d-v)+D,z=0,Q=D;Q<W;Q+=B)z=L(p,Q,Q+B,x),this.imuln(M),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(0!==v){var de=1;for(z=L(p,Q,p.length,x),Q=0;Q<v;Q++)de*=x;this.imuln(de),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},_.prototype.copy=function(p){p.words=new Array(this.length);for(var x=0;x<this.length;x++)p.words[x]=this.words[x];p.length=this.length,p.negative=this.negative,p.red=this.red},_.prototype._move=function(p){F(p,this)},_.prototype.clone=function(){var p=new _(null);return this.copy(p),p},_.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},_.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{_.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{_.prototype.inspect=C}else _.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function q(m,p,x){x.negative=p.negative^m.negative;var D=m.length+p.length|0;x.length=D,D=D-1|0;var B=0|m.words[0],M=0|p.words[0],d=B*M,W=d/67108864|0;x.words[0]=67108863&d;for(var z=1;z<D;z++){for(var Q=W>>>26,de=67108863&W,xe=Math.min(z,p.length-1),Ie=Math.max(0,z-m.length+1);Ie<=xe;Ie++)Q+=(d=(B=0|m.words[z-Ie|0])*(M=0|p.words[Ie])+de)/67108864|0,de=67108863&d;x.words[z]=0|de,W=0|Q}return 0!==W?x.words[z]=0|W:x.length--,x._strip()}_.prototype.toString=function(p,x){var D;if(x=0|x||1,16===(p=p||10)||"hex"===p){D="";for(var B=0,M=0,d=0;d<this.length;d++){var v=this.words[d],W=(16777215&(v<<B|M)).toString(16);M=v>>>24-B&16777215,(B+=2)>=26&&(B-=26,d--),D=0!==M||d!==this.length-1?Y[6-W.length]+W+D:W+D}for(0!==M&&(D=M.toString(16)+D);D.length%x!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}if(p===(0|p)&&p>=2&&p<=36){var z=j[p],Q=G[p];D="";var de=this.clone();for(de.negative=0;!de.isZero();){var xe=de.modrn(Q).toString(p);D=(de=de.idivn(Q)).isZero()?xe+D:Y[z-xe.length]+xe+D}for(this.isZero()&&(D="0"+D);D.length%x!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var p=this.words[0];return 2===this.length?p+=67108864*this.words[1]:3===this.length&&1===this.words[2]?p+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-p:p},_.prototype.toJSON=function(){return this.toString(16,2)},R&&(_.prototype.toBuffer=function(p,x){return this.toArrayLike(R,p,x)}),_.prototype.toArray=function(p,x){return this.toArrayLike(Array,p,x)},_.prototype.toArrayLike=function(p,x,D){this._strip();var B=this.byteLength(),M=D||Math.max(1,B);O(B<=M,"byte array longer than desired length"),O(M>0,"Requested array length <= 0");var d=function(p,x){return p.allocUnsafe?p.allocUnsafe(x):new p(x)}(p,M);return this["_toArrayLike"+("le"===x?"LE":"BE")](d,B),d},_.prototype._toArrayLikeLE=function(p,x){for(var D=0,B=0,M=0,d=0;M<this.length;M++){var v=this.words[M]<<d|B;p[D++]=255&v,D<p.length&&(p[D++]=v>>8&255),D<p.length&&(p[D++]=v>>16&255),6===d?(D<p.length&&(p[D++]=v>>24&255),B=0,d=0):(B=v>>>24,d+=2)}if(D<p.length)for(p[D++]=B;D<p.length;)p[D++]=0},_.prototype._toArrayLikeBE=function(p,x){for(var D=p.length-1,B=0,M=0,d=0;M<this.length;M++){var v=this.words[M]<<d|B;p[D--]=255&v,D>=0&&(p[D--]=v>>8&255),D>=0&&(p[D--]=v>>16&255),6===d?(D>=0&&(p[D--]=v>>24&255),B=0,d=0):(B=v>>>24,d+=2)}if(D>=0)for(p[D--]=B;D>=0;)p[D--]=0},_.prototype._countBits=Math.clz32?function(p){return 32-Math.clz32(p)}:function(p){var x=p,D=0;return x>=4096&&(D+=13,x>>>=13),x>=64&&(D+=7,x>>>=7),x>=8&&(D+=4,x>>>=4),x>=2&&(D+=2,x>>>=2),D+x},_.prototype._zeroBits=function(p){if(0===p)return 26;var x=p,D=0;return 8191&x||(D+=13,x>>>=13),127&x||(D+=7,x>>>=7),15&x||(D+=4,x>>>=4),3&x||(D+=2,x>>>=2),1&x||D++,D},_.prototype.bitLength=function(){var x=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+x},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,x=0;x<this.length;x++){var D=this._zeroBits(this.words[x]);if(p+=D,26!==D)break}return p},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(p){return 0!==this.negative?this.abs().inotn(p).iaddn(1):this.clone()},_.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var x=0;x<p.length;x++)this.words[x]=this.words[x]|p.words[x];return this._strip()},_.prototype.ior=function(p){return O(!(this.negative|p.negative)),this.iuor(p)},_.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},_.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},_.prototype.iuand=function(p){var x;x=this.length>p.length?p:this;for(var D=0;D<x.length;D++)this.words[D]=this.words[D]&p.words[D];return this.length=x.length,this._strip()},_.prototype.iand=function(p){return O(!(this.negative|p.negative)),this.iuand(p)},_.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},_.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},_.prototype.iuxor=function(p){var x,D;this.length>p.length?(x=this,D=p):(x=p,D=this);for(var B=0;B<D.length;B++)this.words[B]=x.words[B]^D.words[B];if(this!==x)for(;B<x.length;B++)this.words[B]=x.words[B];return this.length=x.length,this._strip()},_.prototype.ixor=function(p){return O(!(this.negative|p.negative)),this.iuxor(p)},_.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},_.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},_.prototype.inotn=function(p){O("number"==typeof p&&p>=0);var x=0|Math.ceil(p/26),D=p%26;this._expand(x),D>0&&x--;for(var B=0;B<x;B++)this.words[B]=67108863&~this.words[B];return D>0&&(this.words[B]=~this.words[B]&67108863>>26-D),this._strip()},_.prototype.notn=function(p){return this.clone().inotn(p)},_.prototype.setn=function(p,x){O("number"==typeof p&&p>=0);var D=p/26|0,B=p%26;return this._expand(D+1),this.words[D]=x?this.words[D]|1<<B:this.words[D]&~(1<<B),this._strip()},_.prototype.iadd=function(p){var x,D,B;if(0!==this.negative&&0===p.negative)return this.negative=0,x=this.isub(p),this.negative^=1,this._normSign();if(0===this.negative&&0!==p.negative)return p.negative=0,x=this.isub(p),p.negative=1,x._normSign();this.length>p.length?(D=this,B=p):(D=p,B=this);for(var M=0,d=0;d<B.length;d++)this.words[d]=67108863&(x=(0|D.words[d])+(0|B.words[d])+M),M=x>>>26;for(;0!==M&&d<D.length;d++)this.words[d]=67108863&(x=(0|D.words[d])+M),M=x>>>26;if(this.length=D.length,0!==M)this.words[this.length]=M,this.length++;else if(D!==this)for(;d<D.length;d++)this.words[d]=D.words[d];return this},_.prototype.add=function(p){var x;return 0!==p.negative&&0===this.negative?(p.negative=0,x=this.sub(p),p.negative^=1,x):0===p.negative&&0!==this.negative?(this.negative=0,x=p.sub(this),this.negative=1,x):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},_.prototype.isub=function(p){if(0!==p.negative){p.negative=0;var x=this.iadd(p);return p.negative=1,x._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var B,M,D=this.cmp(p);if(0===D)return this.negative=0,this.length=1,this.words[0]=0,this;D>0?(B=this,M=p):(B=p,M=this);for(var d=0,v=0;v<M.length;v++)d=(x=(0|B.words[v])-(0|M.words[v])+d)>>26,this.words[v]=67108863&x;for(;0!==d&&v<B.length;v++)d=(x=(0|B.words[v])+d)>>26,this.words[v]=67108863&x;if(0===d&&v<B.length&&B!==this)for(;v<B.length;v++)this.words[v]=B.words[v];return this.length=Math.max(this.length,v),B!==this&&(this.negative=1),this._strip()},_.prototype.sub=function(p){return this.clone().isub(p)};var J=function(p,x,D){var W,z,Q,B=p.words,M=x.words,d=D.words,v=0,de=0|B[0],xe=8191&de,Ie=de>>>13,Le=0|B[1],ve=8191&Le,ye=Le>>>13,ke=0|B[2],me=8191&ke,Ee=ke>>>13,fe=0|B[3],he=8191&fe,ae=fe>>>13,ue=0|B[4],ge=8191&ue,Ae=ue>>>13,Ue=0|B[5],Ve=8191&Ue,ze=Ue>>>13,It=0|B[6],qe=8191&It,je=It>>>13,ut=0|B[7],$=8191&ut,T=ut>>>13,S=0|B[8],Z=8191&S,le=S>>>13,De=0|B[9],Oe=8191&De,Qe=De>>>13,Nt=0|M[0],ft=8191&Nt,St=Nt>>>13,Lt=0|M[1],Gt=8191&Lt,Vt=Lt>>>13,zn=0|M[2],cn=8191&zn,Bt=zn>>>13,Dt=0|M[3],nt=8191&Dt,Ye=Dt>>>13,At=0|M[4],kt=8191&At,$t=At>>>13,Bn=0|M[5],et=8191&Bn,it=Bn>>>13,ot=0|M[6],He=8191&ot,ht=ot>>>13,sn=0|M[7],Kt=8191&sn,rn=sn>>>13,ir=0|M[8],pn=8191&ir,un=ir>>>13,ur=0|M[9],Hn=8191&ur,Pn=ur>>>13;D.negative=p.negative^x.negative,D.length=19;var Dn=(v+(W=Math.imul(xe,ft))|0)+((8191&(z=(z=Math.imul(xe,St))+Math.imul(Ie,ft)|0))<<13)|0;v=((Q=Math.imul(Ie,St))+(z>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,W=Math.imul(ve,ft),z=(z=Math.imul(ve,St))+Math.imul(ye,ft)|0,Q=Math.imul(ye,St);var qt=(v+(W=W+Math.imul(xe,Gt)|0)|0)+((8191&(z=(z=z+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,Vt)|0)+(z>>>13)|0)+(qt>>>26)|0,qt&=67108863,W=Math.imul(me,ft),z=(z=Math.imul(me,St))+Math.imul(Ee,ft)|0,Q=Math.imul(Ee,St),W=W+Math.imul(ve,Gt)|0,z=(z=z+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,Q=Q+Math.imul(ye,Vt)|0;var Yt=(v+(W=W+Math.imul(xe,cn)|0)|0)+((8191&(z=(z=z+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,Bt)|0)+(z>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,W=Math.imul(he,ft),z=(z=Math.imul(he,St))+Math.imul(ae,ft)|0,Q=Math.imul(ae,St),W=W+Math.imul(me,Gt)|0,z=(z=z+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,Q=Q+Math.imul(Ee,Vt)|0,W=W+Math.imul(ve,cn)|0,z=(z=z+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,Q=Q+Math.imul(ye,Bt)|0;var Xn=(v+(W=W+Math.imul(xe,nt)|0)|0)+((8191&(z=(z=z+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,Ye)|0)+(z>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,W=Math.imul(ge,ft),z=(z=Math.imul(ge,St))+Math.imul(Ae,ft)|0,Q=Math.imul(Ae,St),W=W+Math.imul(he,Gt)|0,z=(z=z+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,Q=Q+Math.imul(ae,Vt)|0,W=W+Math.imul(me,cn)|0,z=(z=z+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,Q=Q+Math.imul(Ee,Bt)|0,W=W+Math.imul(ve,nt)|0,z=(z=z+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,Q=Q+Math.imul(ye,Ye)|0;var $n=(v+(W=W+Math.imul(xe,kt)|0)|0)+((8191&(z=(z=z+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,$t)|0)+(z>>>13)|0)+($n>>>26)|0,$n&=67108863,W=Math.imul(Ve,ft),z=(z=Math.imul(Ve,St))+Math.imul(ze,ft)|0,Q=Math.imul(ze,St),W=W+Math.imul(ge,Gt)|0,z=(z=z+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,Q=Q+Math.imul(Ae,Vt)|0,W=W+Math.imul(he,cn)|0,z=(z=z+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,Q=Q+Math.imul(ae,Bt)|0,W=W+Math.imul(me,nt)|0,z=(z=z+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,Q=Q+Math.imul(Ee,Ye)|0,W=W+Math.imul(ve,kt)|0,z=(z=z+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,Q=Q+Math.imul(ye,$t)|0;var yr=(v+(W=W+Math.imul(xe,et)|0)|0)+((8191&(z=(z=z+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,it)|0)+(z>>>13)|0)+(yr>>>26)|0,yr&=67108863,W=Math.imul(qe,ft),z=(z=Math.imul(qe,St))+Math.imul(je,ft)|0,Q=Math.imul(je,St),W=W+Math.imul(Ve,Gt)|0,z=(z=z+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,Q=Q+Math.imul(ze,Vt)|0,W=W+Math.imul(ge,cn)|0,z=(z=z+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,Q=Q+Math.imul(Ae,Bt)|0,W=W+Math.imul(he,nt)|0,z=(z=z+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,Q=Q+Math.imul(ae,Ye)|0,W=W+Math.imul(me,kt)|0,z=(z=z+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,Q=Q+Math.imul(Ee,$t)|0,W=W+Math.imul(ve,et)|0,z=(z=z+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,Q=Q+Math.imul(ye,it)|0;var hr=(v+(W=W+Math.imul(xe,He)|0)|0)+((8191&(z=(z=z+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,ht)|0)+(z>>>13)|0)+(hr>>>26)|0,hr&=67108863,W=Math.imul($,ft),z=(z=Math.imul($,St))+Math.imul(T,ft)|0,Q=Math.imul(T,St),W=W+Math.imul(qe,Gt)|0,z=(z=z+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,Q=Q+Math.imul(je,Vt)|0,W=W+Math.imul(Ve,cn)|0,z=(z=z+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,Q=Q+Math.imul(ze,Bt)|0,W=W+Math.imul(ge,nt)|0,z=(z=z+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,Q=Q+Math.imul(Ae,Ye)|0,W=W+Math.imul(he,kt)|0,z=(z=z+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,Q=Q+Math.imul(ae,$t)|0,W=W+Math.imul(me,et)|0,z=(z=z+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,Q=Q+Math.imul(Ee,it)|0,W=W+Math.imul(ve,He)|0,z=(z=z+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,Q=Q+Math.imul(ye,ht)|0;var vr=(v+(W=W+Math.imul(xe,Kt)|0)|0)+((8191&(z=(z=z+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,rn)|0)+(z>>>13)|0)+(vr>>>26)|0,vr&=67108863,W=Math.imul(Z,ft),z=(z=Math.imul(Z,St))+Math.imul(le,ft)|0,Q=Math.imul(le,St),W=W+Math.imul($,Gt)|0,z=(z=z+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,Q=Q+Math.imul(T,Vt)|0,W=W+Math.imul(qe,cn)|0,z=(z=z+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,Q=Q+Math.imul(je,Bt)|0,W=W+Math.imul(Ve,nt)|0,z=(z=z+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,Q=Q+Math.imul(ze,Ye)|0,W=W+Math.imul(ge,kt)|0,z=(z=z+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,Q=Q+Math.imul(Ae,$t)|0,W=W+Math.imul(he,et)|0,z=(z=z+Math.imul(he,it)|0)+Math.imul(ae,et)|0,Q=Q+Math.imul(ae,it)|0,W=W+Math.imul(me,He)|0,z=(z=z+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,Q=Q+Math.imul(Ee,ht)|0,W=W+Math.imul(ve,Kt)|0,z=(z=z+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,Q=Q+Math.imul(ye,rn)|0;var sr=(v+(W=W+Math.imul(xe,pn)|0)|0)+((8191&(z=(z=z+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,un)|0)+(z>>>13)|0)+(sr>>>26)|0,sr&=67108863,W=Math.imul(Oe,ft),z=(z=Math.imul(Oe,St))+Math.imul(Qe,ft)|0,Q=Math.imul(Qe,St),W=W+Math.imul(Z,Gt)|0,z=(z=z+Math.imul(Z,Vt)|0)+Math.imul(le,Gt)|0,Q=Q+Math.imul(le,Vt)|0,W=W+Math.imul($,cn)|0,z=(z=z+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,Q=Q+Math.imul(T,Bt)|0,W=W+Math.imul(qe,nt)|0,z=(z=z+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,Q=Q+Math.imul(je,Ye)|0,W=W+Math.imul(Ve,kt)|0,z=(z=z+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,Q=Q+Math.imul(ze,$t)|0,W=W+Math.imul(ge,et)|0,z=(z=z+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,Q=Q+Math.imul(Ae,it)|0,W=W+Math.imul(he,He)|0,z=(z=z+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,Q=Q+Math.imul(ae,ht)|0,W=W+Math.imul(me,Kt)|0,z=(z=z+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,Q=Q+Math.imul(Ee,rn)|0,W=W+Math.imul(ve,pn)|0,z=(z=z+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0,Q=Q+Math.imul(ye,un)|0;var pr=(v+(W=W+Math.imul(xe,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(xe,Pn)|0)+Math.imul(Ie,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(Ie,Pn)|0)+(z>>>13)|0)+(pr>>>26)|0,pr&=67108863,W=Math.imul(Oe,Gt),z=(z=Math.imul(Oe,Vt))+Math.imul(Qe,Gt)|0,Q=Math.imul(Qe,Vt),W=W+Math.imul(Z,cn)|0,z=(z=z+Math.imul(Z,Bt)|0)+Math.imul(le,cn)|0,Q=Q+Math.imul(le,Bt)|0,W=W+Math.imul($,nt)|0,z=(z=z+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,Q=Q+Math.imul(T,Ye)|0,W=W+Math.imul(qe,kt)|0,z=(z=z+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,Q=Q+Math.imul(je,$t)|0,W=W+Math.imul(Ve,et)|0,z=(z=z+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,Q=Q+Math.imul(ze,it)|0,W=W+Math.imul(ge,He)|0,z=(z=z+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,Q=Q+Math.imul(Ae,ht)|0,W=W+Math.imul(he,Kt)|0,z=(z=z+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,Q=Q+Math.imul(ae,rn)|0,W=W+Math.imul(me,pn)|0,z=(z=z+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0,Q=Q+Math.imul(Ee,un)|0;var kr=(v+(W=W+Math.imul(ve,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(ve,Pn)|0)+Math.imul(ye,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(ye,Pn)|0)+(z>>>13)|0)+(kr>>>26)|0,kr&=67108863,W=Math.imul(Oe,cn),z=(z=Math.imul(Oe,Bt))+Math.imul(Qe,cn)|0,Q=Math.imul(Qe,Bt),W=W+Math.imul(Z,nt)|0,z=(z=z+Math.imul(Z,Ye)|0)+Math.imul(le,nt)|0,Q=Q+Math.imul(le,Ye)|0,W=W+Math.imul($,kt)|0,z=(z=z+Math.imul($,$t)|0)+Math.imul(T,kt)|0,Q=Q+Math.imul(T,$t)|0,W=W+Math.imul(qe,et)|0,z=(z=z+Math.imul(qe,it)|0)+Math.imul(je,et)|0,Q=Q+Math.imul(je,it)|0,W=W+Math.imul(Ve,He)|0,z=(z=z+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,Q=Q+Math.imul(ze,ht)|0,W=W+Math.imul(ge,Kt)|0,z=(z=z+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,Q=Q+Math.imul(Ae,rn)|0,W=W+Math.imul(he,pn)|0,z=(z=z+Math.imul(he,un)|0)+Math.imul(ae,pn)|0,Q=Q+Math.imul(ae,un)|0;var Tr=(v+(W=W+Math.imul(me,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(me,Pn)|0)+Math.imul(Ee,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(Ee,Pn)|0)+(z>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,W=Math.imul(Oe,nt),z=(z=Math.imul(Oe,Ye))+Math.imul(Qe,nt)|0,Q=Math.imul(Qe,Ye),W=W+Math.imul(Z,kt)|0,z=(z=z+Math.imul(Z,$t)|0)+Math.imul(le,kt)|0,Q=Q+Math.imul(le,$t)|0,W=W+Math.imul($,et)|0,z=(z=z+Math.imul($,it)|0)+Math.imul(T,et)|0,Q=Q+Math.imul(T,it)|0,W=W+Math.imul(qe,He)|0,z=(z=z+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,Q=Q+Math.imul(je,ht)|0,W=W+Math.imul(Ve,Kt)|0,z=(z=z+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,Q=Q+Math.imul(ze,rn)|0,W=W+Math.imul(ge,pn)|0,z=(z=z+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0,Q=Q+Math.imul(Ae,un)|0;var jr=(v+(W=W+Math.imul(he,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(he,Pn)|0)+Math.imul(ae,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(ae,Pn)|0)+(z>>>13)|0)+(jr>>>26)|0,jr&=67108863,W=Math.imul(Oe,kt),z=(z=Math.imul(Oe,$t))+Math.imul(Qe,kt)|0,Q=Math.imul(Qe,$t),W=W+Math.imul(Z,et)|0,z=(z=z+Math.imul(Z,it)|0)+Math.imul(le,et)|0,Q=Q+Math.imul(le,it)|0,W=W+Math.imul($,He)|0,z=(z=z+Math.imul($,ht)|0)+Math.imul(T,He)|0,Q=Q+Math.imul(T,ht)|0,W=W+Math.imul(qe,Kt)|0,z=(z=z+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,Q=Q+Math.imul(je,rn)|0,W=W+Math.imul(Ve,pn)|0,z=(z=z+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0,Q=Q+Math.imul(ze,un)|0;var Ir=(v+(W=W+Math.imul(ge,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(ge,Pn)|0)+Math.imul(Ae,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(Ae,Pn)|0)+(z>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,W=Math.imul(Oe,et),z=(z=Math.imul(Oe,it))+Math.imul(Qe,et)|0,Q=Math.imul(Qe,it),W=W+Math.imul(Z,He)|0,z=(z=z+Math.imul(Z,ht)|0)+Math.imul(le,He)|0,Q=Q+Math.imul(le,ht)|0,W=W+Math.imul($,Kt)|0,z=(z=z+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,Q=Q+Math.imul(T,rn)|0,W=W+Math.imul(qe,pn)|0,z=(z=z+Math.imul(qe,un)|0)+Math.imul(je,pn)|0,Q=Q+Math.imul(je,un)|0;var Ot=(v+(W=W+Math.imul(Ve,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(Ve,Pn)|0)+Math.imul(ze,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(ze,Pn)|0)+(z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W=Math.imul(Oe,He),z=(z=Math.imul(Oe,ht))+Math.imul(Qe,He)|0,Q=Math.imul(Qe,ht),W=W+Math.imul(Z,Kt)|0,z=(z=z+Math.imul(Z,rn)|0)+Math.imul(le,Kt)|0,Q=Q+Math.imul(le,rn)|0,W=W+Math.imul($,pn)|0,z=(z=z+Math.imul($,un)|0)+Math.imul(T,pn)|0,Q=Q+Math.imul(T,un)|0;var Wt=(v+(W=W+Math.imul(qe,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(qe,Pn)|0)+Math.imul(je,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(je,Pn)|0)+(z>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,W=Math.imul(Oe,Kt),z=(z=Math.imul(Oe,rn))+Math.imul(Qe,Kt)|0,Q=Math.imul(Qe,rn),W=W+Math.imul(Z,pn)|0,z=(z=z+Math.imul(Z,un)|0)+Math.imul(le,pn)|0,Q=Q+Math.imul(le,un)|0;var en=(v+(W=W+Math.imul($,Hn)|0)|0)+((8191&(z=(z=z+Math.imul($,Pn)|0)+Math.imul(T,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(T,Pn)|0)+(z>>>13)|0)+(en>>>26)|0,en&=67108863,W=Math.imul(Oe,pn),z=(z=Math.imul(Oe,un))+Math.imul(Qe,pn)|0,Q=Math.imul(Qe,un);var Sn=(v+(W=W+Math.imul(Z,Hn)|0)|0)+((8191&(z=(z=z+Math.imul(Z,Pn)|0)+Math.imul(le,Hn)|0))<<13)|0;v=((Q=Q+Math.imul(le,Pn)|0)+(z>>>13)|0)+(Sn>>>26)|0,Sn&=67108863;var xn=(v+(W=Math.imul(Oe,Hn))|0)+((8191&(z=(z=Math.imul(Oe,Pn))+Math.imul(Qe,Hn)|0))<<13)|0;return v=((Q=Math.imul(Qe,Pn))+(z>>>13)|0)+(xn>>>26)|0,xn&=67108863,d[0]=Dn,d[1]=qt,d[2]=Yt,d[3]=Xn,d[4]=$n,d[5]=yr,d[6]=hr,d[7]=vr,d[8]=sr,d[9]=pr,d[10]=kr,d[11]=Tr,d[12]=jr,d[13]=Ir,d[14]=Ot,d[15]=Wt,d[16]=en,d[17]=Sn,d[18]=xn,0!==v&&(d[19]=v,D.length++),D};function ne(m,p,x){x.negative=p.negative^m.negative,x.length=m.length+p.length;for(var D=0,B=0,M=0;M<x.length-1;M++){var d=B;B=0;for(var v=67108863&D,W=Math.min(M,p.length-1),z=Math.max(0,M-m.length+1);z<=W;z++){var Ie=(0|m.words[M-z])*(0|p.words[z]),Le=67108863&Ie;v=67108863&(Le=Le+v|0),B+=(d=(d=d+(Ie/67108864|0)|0)+(Le>>>26)|0)>>>26,d&=67108863}x.words[M]=v,D=d,d=B}return 0!==D?x.words[M]=D:x.length--,x._strip()}function ie(m,p,x){return ne(m,p,x)}function re(m,p){this.x=m,this.y=p}Math.imul||(J=q),_.prototype.mulTo=function(p,x){var B=this.length+p.length;return 10===this.length&&10===p.length?J(this,p,x):B<63?q(this,p,x):B<1024?ne(this,p,x):ie(this,p,x)},re.prototype.makeRBT=function(p){for(var x=new Array(p),D=_.prototype._countBits(p)-1,B=0;B<p;B++)x[B]=this.revBin(B,D,p);return x},re.prototype.revBin=function(p,x,D){if(0===p||p===D-1)return p;for(var B=0,M=0;M<x;M++)B|=(1&p)<<x-M-1,p>>=1;return B},re.prototype.permute=function(p,x,D,B,M,d){for(var v=0;v<d;v++)B[v]=x[p[v]],M[v]=D[p[v]]},re.prototype.transform=function(p,x,D,B,M,d){this.permute(d,p,x,D,B,M);for(var v=1;v<M;v<<=1)for(var W=v<<1,z=Math.cos(2*Math.PI/W),Q=Math.sin(2*Math.PI/W),de=0;de<M;de+=W)for(var xe=z,Ie=Q,Le=0;Le<v;Le++){var ve=D[de+Le],ye=B[de+Le],ke=D[de+Le+v],me=B[de+Le+v],Ee=xe*ke-Ie*me;me=xe*me+Ie*ke,D[de+Le]=ve+(ke=Ee),B[de+Le]=ye+me,D[de+Le+v]=ve-ke,B[de+Le+v]=ye-me,Le!==W&&(Ee=z*xe-Q*Ie,Ie=z*Ie+Q*xe,xe=Ee)}},re.prototype.guessLen13b=function(p,x){var D=1|Math.max(x,p),B=1&D,M=0;for(D=D/2|0;D;D>>>=1)M++;return 1<<M+1+B},re.prototype.conjugate=function(p,x,D){if(!(D<=1))for(var B=0;B<D/2;B++){var M=p[B];p[B]=p[D-B-1],p[D-B-1]=M,M=x[B],x[B]=-x[D-B-1],x[D-B-1]=-M}},re.prototype.normalize13b=function(p,x){for(var D=0,B=0;B<x/2;B++){var M=8192*Math.round(p[2*B+1]/x)+Math.round(p[2*B]/x)+D;p[B]=67108863&M,D=M<67108864?0:M/67108864|0}return p},re.prototype.convert13b=function(p,x,D,B){for(var M=0,d=0;d<x;d++)D[2*d]=8191&(M+=0|p[d]),D[2*d+1]=8191&(M>>>=13),M>>>=13;for(d=2*x;d<B;++d)D[d]=0;O(0===M),O(!(-8192&M))},re.prototype.stub=function(p){for(var x=new Array(p),D=0;D<p;D++)x[D]=0;return x},re.prototype.mulp=function(p,x,D){var B=2*this.guessLen13b(p.length,x.length),M=this.makeRBT(B),d=this.stub(B),v=new Array(B),W=new Array(B),z=new Array(B),Q=new Array(B),de=new Array(B),xe=new Array(B),Ie=D.words;Ie.length=B,this.convert13b(p.words,p.length,v,B),this.convert13b(x.words,x.length,Q,B),this.transform(v,d,W,z,B,M),this.transform(Q,d,de,xe,B,M);for(var Le=0;Le<B;Le++){var ve=W[Le]*de[Le]-z[Le]*xe[Le];z[Le]=W[Le]*xe[Le]+z[Le]*de[Le],W[Le]=ve}return this.conjugate(W,z,B),this.transform(W,z,Ie,d,B,M),this.conjugate(Ie,d,B),this.normalize13b(Ie,B),D.negative=p.negative^x.negative,D.length=p.length+x.length,D._strip()},_.prototype.mul=function(p){var x=new _(null);return x.words=new Array(this.length+p.length),this.mulTo(p,x)},_.prototype.mulf=function(p){var x=new _(null);return x.words=new Array(this.length+p.length),ie(this,p,x)},_.prototype.imul=function(p){return this.clone().mulTo(p,this)},_.prototype.imuln=function(p){var x=p<0;x&&(p=-p),O("number"==typeof p),O(p<67108864);for(var D=0,B=0;B<this.length;B++){var M=(0|this.words[B])*p,d=(67108863&M)+(67108863&D);D>>=26,D+=M/67108864|0,D+=d>>>26,this.words[B]=67108863&d}return 0!==D&&(this.words[B]=D,this.length++),x?this.ineg():this},_.prototype.muln=function(p){return this.clone().imuln(p)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(p){var x=function ee(m){for(var p=new Array(m.bitLength()),x=0;x<p.length;x++)p[x]=m.words[x/26|0]>>>x%26&1;return p}(p);if(0===x.length)return new _(1);for(var D=this,B=0;B<x.length&&0===x[B];B++,D=D.sqr());if(++B<x.length)for(var M=D.sqr();B<x.length;B++,M=M.sqr())0!==x[B]&&(D=D.mul(M));return D},_.prototype.iushln=function(p){O("number"==typeof p&&p>=0);var M,x=p%26,D=(p-x)/26,B=67108863>>>26-x<<26-x;if(0!==x){var d=0;for(M=0;M<this.length;M++){var v=this.words[M]&B;this.words[M]=(0|this.words[M])-v<<x|d,d=v>>>26-x}d&&(this.words[M]=d,this.length++)}if(0!==D){for(M=this.length-1;M>=0;M--)this.words[M+D]=this.words[M];for(M=0;M<D;M++)this.words[M]=0;this.length+=D}return this._strip()},_.prototype.ishln=function(p){return O(0===this.negative),this.iushln(p)},_.prototype.iushrn=function(p,x,D){var B;O("number"==typeof p&&p>=0),B=x?(x-x%26)/26:0;var M=p%26,d=Math.min((p-M)/26,this.length),v=67108863^67108863>>>M<<M,W=D;if(B-=d,B=Math.max(0,B),W){for(var z=0;z<d;z++)W.words[z]=this.words[z];W.length=d}if(0!==d)if(this.length>d)for(this.length-=d,z=0;z<this.length;z++)this.words[z]=this.words[z+d];else this.words[0]=0,this.length=1;var Q=0;for(z=this.length-1;z>=0&&(0!==Q||z>=B);z--){var de=0|this.words[z];this.words[z]=Q<<26-M|de>>>M,Q=de&v}return W&&0!==Q&&(W.words[W.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},_.prototype.ishrn=function(p,x,D){return O(0===this.negative),this.iushrn(p,x,D)},_.prototype.shln=function(p){return this.clone().ishln(p)},_.prototype.ushln=function(p){return this.clone().iushln(p)},_.prototype.shrn=function(p){return this.clone().ishrn(p)},_.prototype.ushrn=function(p){return this.clone().iushrn(p)},_.prototype.testn=function(p){O("number"==typeof p&&p>=0);var x=p%26,D=(p-x)/26;return!(this.length<=D||!(this.words[D]&1<<x))},_.prototype.imaskn=function(p){O("number"==typeof p&&p>=0);var x=p%26,D=(p-x)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=D?this:(0!==x&&D++,this.length=Math.min(D,this.length),0!==x&&(this.words[this.length-1]&=67108863^67108863>>>x<<x),this._strip())},_.prototype.maskn=function(p){return this.clone().imaskn(p)},_.prototype.iaddn=function(p){return O("number"==typeof p),O(p<67108864),p<0?this.isubn(-p):0!==this.negative?1===this.length&&(0|this.words[0])<=p?(this.words[0]=p-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},_.prototype._iaddn=function(p){this.words[0]+=p;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},_.prototype.isubn=function(p){if(O("number"==typeof p),O(p<67108864),p<0)return this.iaddn(-p);if(0!==this.negative)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},_.prototype.addn=function(p){return this.clone().iaddn(p)},_.prototype.subn=function(p){return this.clone().isubn(p)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(p,x,D){var M;this._expand(p.length+D);var d,v=0;for(M=0;M<p.length;M++){d=(0|this.words[M+D])+v;var W=(0|p.words[M])*x;v=((d-=67108863&W)>>26)-(W/67108864|0),this.words[M+D]=67108863&d}for(;M<this.length-D;M++)v=(d=(0|this.words[M+D])+v)>>26,this.words[M+D]=67108863&d;if(0===v)return this._strip();for(O(-1===v),v=0,M=0;M<this.length;M++)v=(d=-(0|this.words[M])+v)>>26,this.words[M]=67108863&d;return this.negative=1,this._strip()},_.prototype._wordDiv=function(p,x){var D,B=this.clone(),M=p,d=0|M.words[M.length-1];0!=(D=26-this._countBits(d))&&(M=M.ushln(D),B.iushln(D),d=0|M.words[M.length-1]);var z,W=B.length-M.length;if("mod"!==x){(z=new _(null)).length=W+1,z.words=new Array(z.length);for(var Q=0;Q<z.length;Q++)z.words[Q]=0}var de=B.clone()._ishlnsubmul(M,1,W);0===de.negative&&(B=de,z&&(z.words[W]=1));for(var xe=W-1;xe>=0;xe--){var Ie=67108864*(0|B.words[M.length+xe])+(0|B.words[M.length+xe-1]);for(Ie=Math.min(Ie/d|0,67108863),B._ishlnsubmul(M,Ie,xe);0!==B.negative;)Ie--,B.negative=0,B._ishlnsubmul(M,1,xe),B.isZero()||(B.negative^=1);z&&(z.words[xe]=Ie)}return z&&z._strip(),B._strip(),"div"!==x&&0!==D&&B.iushrn(D),{div:z||null,mod:B}},_.prototype.divmod=function(p,x,D){return O(!p.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===p.negative?(d=this.neg().divmod(p,x),"mod"!==x&&(B=d.div.neg()),"div"!==x&&(M=d.mod.neg(),D&&0!==M.negative&&M.iadd(p)),{div:B,mod:M}):0===this.negative&&0!==p.negative?(d=this.divmod(p.neg(),x),"mod"!==x&&(B=d.div.neg()),{div:B,mod:d.mod}):this.negative&p.negative?(d=this.neg().divmod(p.neg(),x),"div"!==x&&(M=d.mod.neg(),D&&0!==M.negative&&M.isub(p)),{div:d.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new _(0),mod:this}:1===p.length?"div"===x?{div:this.divn(p.words[0]),mod:null}:"mod"===x?{div:null,mod:new _(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new _(this.modrn(p.words[0]))}:this._wordDiv(p,x);var B,M,d},_.prototype.div=function(p){return this.divmod(p,"div",!1).div},_.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},_.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},_.prototype.divRound=function(p){var x=this.divmod(p);if(x.mod.isZero())return x.div;var D=0!==x.div.negative?x.mod.isub(p):x.mod,B=p.ushrn(1),M=p.andln(1),d=D.cmp(B);return d<0||1===M&&0===d?x.div:0!==x.div.negative?x.div.isubn(1):x.div.iaddn(1)},_.prototype.modrn=function(p){var x=p<0;x&&(p=-p),O(p<=67108863);for(var D=(1<<26)%p,B=0,M=this.length-1;M>=0;M--)B=(D*B+(0|this.words[M]))%p;return x?-B:B},_.prototype.modn=function(p){return this.modrn(p)},_.prototype.idivn=function(p){var x=p<0;x&&(p=-p),O(p<=67108863);for(var D=0,B=this.length-1;B>=0;B--){var M=(0|this.words[B])+67108864*D;this.words[B]=M/p|0,D=M%p}return this._strip(),x?this.ineg():this},_.prototype.divn=function(p){return this.clone().idivn(p)},_.prototype.egcd=function(p){O(0===p.negative),O(!p.isZero());var x=this,D=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var B=new _(1),M=new _(0),d=new _(0),v=new _(1),W=0;x.isEven()&&D.isEven();)x.iushrn(1),D.iushrn(1),++W;for(var z=D.clone(),Q=x.clone();!x.isZero();){for(var de=0,xe=1;!(x.words[0]&xe)&&de<26;++de,xe<<=1);if(de>0)for(x.iushrn(de);de-- >0;)(B.isOdd()||M.isOdd())&&(B.iadd(z),M.isub(Q)),B.iushrn(1),M.iushrn(1);for(var Ie=0,Le=1;!(D.words[0]&Le)&&Ie<26;++Ie,Le<<=1);if(Ie>0)for(D.iushrn(Ie);Ie-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(z),v.isub(Q)),d.iushrn(1),v.iushrn(1);x.cmp(D)>=0?(x.isub(D),B.isub(d),M.isub(v)):(D.isub(x),d.isub(B),v.isub(M))}return{a:d,b:v,gcd:D.iushln(W)}},_.prototype._invmp=function(p){O(0===p.negative),O(!p.isZero());var de,x=this,D=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var B=new _(1),M=new _(0),d=D.clone();x.cmpn(1)>0&&D.cmpn(1)>0;){for(var v=0,W=1;!(x.words[0]&W)&&v<26;++v,W<<=1);if(v>0)for(x.iushrn(v);v-- >0;)B.isOdd()&&B.iadd(d),B.iushrn(1);for(var z=0,Q=1;!(D.words[0]&Q)&&z<26;++z,Q<<=1);if(z>0)for(D.iushrn(z);z-- >0;)M.isOdd()&&M.iadd(d),M.iushrn(1);x.cmp(D)>=0?(x.isub(D),B.isub(M)):(D.isub(x),M.isub(B))}return(de=0===x.cmpn(1)?B:M).cmpn(0)<0&&de.iadd(p),de},_.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var x=this.clone(),D=p.clone();x.negative=0,D.negative=0;for(var B=0;x.isEven()&&D.isEven();B++)x.iushrn(1),D.iushrn(1);for(;;){for(;x.isEven();)x.iushrn(1);for(;D.isEven();)D.iushrn(1);var M=x.cmp(D);if(M<0){var d=x;x=D,D=d}else if(0===M||0===D.cmpn(1))break;x.isub(D)}return D.iushln(B)},_.prototype.invm=function(p){return this.egcd(p).a.umod(p)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(p){return this.words[0]&p},_.prototype.bincn=function(p){O("number"==typeof p);var x=p%26,D=(p-x)/26,B=1<<x;if(this.length<=D)return this._expand(D+1),this.words[D]|=B,this;for(var M=B,d=D;0!==M&&d<this.length;d++){var v=0|this.words[d];M=(v+=M)>>>26,this.words[d]=v&=67108863}return 0!==M&&(this.words[d]=M,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(p){var D,x=p<0;if(0!==this.negative&&!x)return-1;if(0===this.negative&&x)return 1;if(this._strip(),this.length>1)D=1;else{x&&(p=-p),O(p<=67108863,"Number is too big");var B=0|this.words[0];D=B===p?0:B<p?-1:1}return 0!==this.negative?0|-D:D},_.prototype.cmp=function(p){if(0!==this.negative&&0===p.negative)return-1;if(0===this.negative&&0!==p.negative)return 1;var x=this.ucmp(p);return 0!==this.negative?0|-x:x},_.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var x=0,D=this.length-1;D>=0;D--){var B=0|this.words[D],M=0|p.words[D];if(B!==M){B<M?x=-1:B>M&&(x=1);break}}return x},_.prototype.gtn=function(p){return 1===this.cmpn(p)},_.prototype.gt=function(p){return 1===this.cmp(p)},_.prototype.gten=function(p){return this.cmpn(p)>=0},_.prototype.gte=function(p){return this.cmp(p)>=0},_.prototype.ltn=function(p){return-1===this.cmpn(p)},_.prototype.lt=function(p){return-1===this.cmp(p)},_.prototype.lten=function(p){return this.cmpn(p)<=0},_.prototype.lte=function(p){return this.cmp(p)<=0},_.prototype.eqn=function(p){return 0===this.cmpn(p)},_.prototype.eq=function(p){return 0===this.cmp(p)},_.red=function(p){return new l(p)},_.prototype.toRed=function(p){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),p.convertTo(this)._forceRed(p)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(p){return this.red=p,this},_.prototype.forceRed=function(p){return O(!this.red,"Already a number in reduction context"),this._forceRed(p)},_.prototype.redAdd=function(p){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},_.prototype.redIAdd=function(p){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},_.prototype.redSub=function(p){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},_.prototype.redISub=function(p){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},_.prototype.redShl=function(p){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},_.prototype.redMul=function(p){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},_.prototype.redIMul=function(p){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(p){return O(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var ce={k256:null,p224:null,p192:null,p25519:null};function se(m,p){this.name=m,this.p=new _(p,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function pe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function we(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Me(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function l(m){if("string"==typeof m){var p=_._prime(m);this.m=p.p,this.prime=p}else O(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function h(m){l.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var p=new _(null);return p.words=new Array(Math.ceil(this.n/13)),p},se.prototype.ireduce=function(p){var D,x=p;do{this.split(x,this.tmp),D=(x=(x=this.imulK(x)).iadd(this.tmp)).bitLength()}while(D>this.n);var B=D<this.n?-1:x.ucmp(this.p);return 0===B?(x.words[0]=0,x.length=1):B>0?x.isub(this.p):void 0!==x.strip?x.strip():x._strip(),x},se.prototype.split=function(p,x){p.iushrn(this.n,0,x)},se.prototype.imulK=function(p){return p.imul(this.k)},X(pe,se),pe.prototype.split=function(p,x){for(var D=4194303,B=Math.min(p.length,9),M=0;M<B;M++)x.words[M]=p.words[M];if(x.length=B,p.length<=9)return p.words[0]=0,void(p.length=1);var d=p.words[9];for(x.words[x.length++]=d&D,M=10;M<p.length;M++){var v=0|p.words[M];p.words[M-10]=(v&D)<<4|d>>>22,d=v}p.words[M-10]=d>>>=22,p.length-=0===d&&p.length>10?10:9},pe.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var x=0,D=0;D<p.length;D++){var B=0|p.words[D];p.words[D]=67108863&(x+=977*B),x=64*B+(x/67108864|0)}return 0===p.words[p.length-1]&&(p.length--,0===p.words[p.length-1]&&p.length--),p},X(we,se),X(Me,se),X(k,se),k.prototype.imulK=function(p){for(var x=0,D=0;D<p.length;D++){var B=19*(0|p.words[D])+x,M=67108863&B;B>>>=26,p.words[D]=M,x=B}return 0!==x&&(p.words[p.length++]=x),p},_._prime=function(p){if(ce[p])return ce[p];var x;if("k256"===p)x=new pe;else if("p224"===p)x=new we;else if("p192"===p)x=new Me;else{if("p25519"!==p)throw new Error("Unknown prime "+p);x=new k}return ce[p]=x,x},l.prototype._verify1=function(p){O(0===p.negative,"red works only with positives"),O(p.red,"red works only with red numbers")},l.prototype._verify2=function(p,x){O(!(p.negative|x.negative),"red works only with positives"),O(p.red&&p.red===x.red,"red works only with red numbers")},l.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(F(p,p.umod(this.m)._forceRed(this)),p)},l.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},l.prototype.add=function(p,x){this._verify2(p,x);var D=p.add(x);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},l.prototype.iadd=function(p,x){this._verify2(p,x);var D=p.iadd(x);return D.cmp(this.m)>=0&&D.isub(this.m),D},l.prototype.sub=function(p,x){this._verify2(p,x);var D=p.sub(x);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},l.prototype.isub=function(p,x){this._verify2(p,x);var D=p.isub(x);return D.cmpn(0)<0&&D.iadd(this.m),D},l.prototype.shl=function(p,x){return this._verify1(p),this.imod(p.ushln(x))},l.prototype.imul=function(p,x){return this._verify2(p,x),this.imod(p.imul(x))},l.prototype.mul=function(p,x){return this._verify2(p,x),this.imod(p.mul(x))},l.prototype.isqr=function(p){return this.imul(p,p.clone())},l.prototype.sqr=function(p){return this.mul(p,p)},l.prototype.sqrt=function(p){if(p.isZero())return p.clone();var x=this.m.andln(3);if(O(x%2==1),3===x){var D=this.m.add(new _(1)).iushrn(2);return this.pow(p,D)}for(var B=this.m.subn(1),M=0;!B.isZero()&&0===B.andln(1);)M++,B.iushrn(1);O(!B.isZero());var d=new _(1).toRed(this),v=d.redNeg(),W=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new _(2*z*z).toRed(this);0!==this.pow(z,W).cmp(v);)z.redIAdd(v);for(var Q=this.pow(z,B),de=this.pow(p,B.addn(1).iushrn(1)),xe=this.pow(p,B),Ie=M;0!==xe.cmp(d);){for(var Le=xe,ve=0;0!==Le.cmp(d);ve++)Le=Le.redSqr();O(ve<Ie);var ye=this.pow(Q,new _(1).iushln(Ie-ve-1));de=de.redMul(ye),Q=ye.redSqr(),xe=xe.redMul(Q),Ie=ve}return de},l.prototype.invm=function(p){var x=p._invmp(this.m);return 0!==x.negative?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},l.prototype.pow=function(p,x){if(x.isZero())return new _(1).toRed(this);if(0===x.cmpn(1))return p.clone();var B=new Array(16);B[0]=new _(1).toRed(this),B[1]=p;for(var M=2;M<B.length;M++)B[M]=this.mul(B[M-1],p);var d=B[0],v=0,W=0,z=x.bitLength()%26;for(0===z&&(z=26),M=x.length-1;M>=0;M--){for(var Q=x.words[M],de=z-1;de>=0;de--){var xe=Q>>de&1;d!==B[0]&&(d=this.sqr(d)),0!==xe||0!==v?(v<<=1,v|=xe,(4==++W||0===M&&0===de)&&(d=this.mul(d,B[v]),W=0,v=0)):W=0}z=26}return d},l.prototype.convertTo=function(p){var x=p.umod(this.m);return x===p?x.clone():x},l.prototype.convertFrom=function(p){var x=p.clone();return x.red=null,x},_.mont=function(p){return new h(p)},X(h,l),h.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},h.prototype.convertFrom=function(p){var x=this.imod(p.mul(this.rinv));return x.red=null,x},h.prototype.imul=function(p,x){if(p.isZero()||x.isZero())return p.words[0]=0,p.length=1,p;var D=p.imul(x),B=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=D.isub(B).iushrn(this.shift),d=M;return M.cmp(this.m)>=0?d=M.isub(this.m):M.cmpn(0)<0&&(d=M.iadd(this.m)),d._forceRed(this)},h.prototype.mul=function(p,x){if(p.isZero()||x.isZero())return new _(0)._forceRed(this);var D=p.mul(x),B=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=D.isub(B).iushrn(this.shift),d=M;return M.cmp(this.m)>=0?d=M.isub(this.m):M.cmpn(0)<0&&(d=M.iadd(this.m)),d._forceRed(this)},h.prototype.invm=function(p){return this.imod(p._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},35294:(Ne,V,E)=>{var g;function w(X){this.rand=X}if(Ne.exports=function(_){return g||(g=new w(null)),g.generate(_)},Ne.exports.Rand=w,w.prototype.generate=function(_){return this._rand(_)},w.prototype._rand=function(_){if(this.rand.getBytes)return this.rand.getBytes(_);for(var R=new Uint8Array(_),A=0;A<R.length;A++)R[A]=this.rand.getByte();return R},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?w.prototype._rand=function(_){var R=new Uint8Array(_);return self.crypto.getRandomValues(R),R}:self.msCrypto&&self.msCrypto.getRandomValues?w.prototype._rand=function(_){var R=new Uint8Array(_);return self.msCrypto.getRandomValues(R),R}:"object"==typeof window&&(w.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var O=E(91426);if("function"!=typeof O.randomBytes)throw new Error("Not supported");w.prototype._rand=function(_){return O.randomBytes(_)}}catch{}},23963:(Ne,V,E)=>{"use strict";const{AbstractLevel:g}=E(75929),w=E(61747),O=E(81725),{fromCallback:X}=E(42381),{Iterator:_}=E(18229),R=E(97899),A=E(19857),N=E(57059),L="level-js-",F=Symbol("idb"),C=Symbol("namePrefix"),Y=Symbol("location"),j=Symbol("version"),G=Symbol("store"),te=Symbol("onComplete"),ee=Symbol("promise");V.BrowserLevel=(()=>{class J extends g{constructor(ie,re,ce){if("function"==typeof re||"function"==typeof ce)throw new w("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:se,version:pe,...we}=re||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},we),"string"!=typeof ie)throw new Error("constructor requires a location string argument");this[Y]=ie,this[C]=se??L,this[j]=parseInt(pe||1,10),this[F]=null}get location(){return this[Y]}get namePrefix(){return this[C]}get version(){return this[j]}get db(){return this[F]}get type(){return"browser-level"}_open(ie,re){const ce=indexedDB.open(this[C]+this[Y],this[j]);ce.onerror=function(){re(ce.error||new Error("unknown error"))},ce.onsuccess=()=>{this[F]=ce.result,re()},ce.onupgradeneeded=se=>{const pe=se.target.result;pe.objectStoreNames.contains(this[Y])||pe.createObjectStore(this[Y])}}[G](ie){return this[F].transaction([this[Y]],ie).objectStore(this[Y])}[te](ie,re){const ce=ie.transaction;ce.onabort=function(){re(ce.error||new Error("aborted by user"))},ce.oncomplete=function(){re(null,ie.result)}}_get(ie,re,ce){const se=this[G]("readonly");let pe;try{pe=se.get(ie)}catch(we){return this.nextTick(ce,we)}this[te](pe,function(we,Me){return we?ce(we):void 0===Me?ce(new w("Entry not found",{code:"LEVEL_NOT_FOUND"})):void ce(null,R(Me))})}_getMany(ie,re,ce){const se=this[G]("readonly"),pe=ie.map(we=>Me=>{let k;try{k=se.get(we)}catch(l){return Me(l)}k.onsuccess=()=>{const l=k.result;Me(null,void 0===l?l:R(l))},k.onerror=l=>{l.stopPropagation(),Me(k.error)}});O(pe,16,ce)}_del(ie,re,ce){const se=this[G]("readwrite");let pe;try{pe=se.delete(ie)}catch(we){return this.nextTick(ce,we)}this[te](pe,ce)}_put(ie,re,ce,se){const pe=this[G]("readwrite");let we;try{we=pe.put(re,ie)}catch(Me){return this.nextTick(se,Me)}this[te](we,se)}_iterator(ie){return new _(this,this[Y],ie)}_batch(ie,re,ce){const se=this[G]("readwrite"),pe=se.transaction;let Me,we=0;pe.onabort=function(){ce(Me||pe.error||new Error("aborted by user"))},pe.oncomplete=function(){ce()},function k(){const l=ie[we++],h=l.key;let m;try{m="del"===l.type?se.delete(h):se.put(l.value,h)}catch(p){return Me=p,void pe.abort()}we<ie.length?m.onsuccess=k:"function"==typeof pe.commit&&pe.commit()}()}_clear(ie,re){let ce,se;try{ce=N(ie)}catch{return this.nextTick(re)}if(ie.limit>=0)return A(this,this[Y],ce,ie,re);try{const pe=this[G]("readwrite");se=ce?pe.delete(ce):pe.clear()}catch(pe){return this.nextTick(re,pe)}this[te](se,re)}_close(ie){this[F].close(),this.nextTick(ie)}}return J.destroy=function(ne,ie,re){"function"==typeof ie&&(re=ie,ie=L),re=X(re,ee);const ce=indexedDB.deleteDatabase(ie+ne);return ce.onsuccess=function(){re()},ce.onerror=function(se){re(se)},re[ee]},J})()},18229:(Ne,V,E)=>{"use strict";const{AbstractIterator:g}=E(75929),w=E(57059),O=E(97899),X=Symbol("cache"),_=Symbol("finished"),R=Symbol("options"),A=Symbol("currentOptions"),N=Symbol("position"),L=Symbol("location"),F=Symbol("first"),C={};function j(G){"function"==typeof G.commit&&G.commit()}V.Iterator=class Y extends g{constructor(te,ee,q){super(te,q),this[X]=[],this[_]=0===this.limit,this[R]=q,this[A]={...q},this[N]=void 0,this[L]=ee,this[F]=!0}_nextv(te,ee,q){if(this[F]=!1,this[_])return this.nextTick(q,null,[]);if(this[X].length>0)return te=Math.min(te,this[X].length),this.nextTick(q,null,this[X].splice(0,te));let J;void 0!==this[N]&&(this[R].reverse?(this[A].lt=this[N],this[A].lte=void 0):(this[A].gt=this[N],this[A].gte=void 0));try{J=w(this[A])}catch{return this[_]=!0,this.nextTick(q,null,[])}const ne=this.db.db.transaction([this[L]],"readonly"),ie=ne.objectStore(this[L]),re=[];if(this[R].reverse)ie[!this[R].values&&ie.openKeyCursor?"openKeyCursor":"openCursor"](J,"prev").onsuccess=se=>{const pe=se.target.result;if(pe){const{key:we,value:Me}=pe;this[N]=we,re.push([this[R].keys&&void 0!==we?O(we):void 0,this[R].values&&void 0!==Me?O(Me):void 0]),re.length<te?pe.continue():j(ne)}else this[_]=!0};else{let ce,se;const pe=()=>{if(void 0===ce||void 0===se)return;const we=Math.max(ce.length,se.length);0===we||te===1/0?this[_]=!0:this[N]=ce[we-1],re.length=we;for(let Me=0;Me<we;Me++){const k=ce[Me],l=se[Me];re[Me]=[this[R].keys&&void 0!==k?O(k):void 0,this[R].values&&void 0!==l?O(l):void 0]}j(ne)};this[R].keys||te<1/0?ie.getAllKeys(J,te<1/0?te:void 0).onsuccess=we=>{ce=we.target.result,pe()}:(ce=[],this.nextTick(pe)),this[R].values?ie.getAll(J,te<1/0?te:void 0).onsuccess=we=>{se=we.target.result,pe()}:(se=[],this.nextTick(pe))}ne.onabort=()=>{q(ne.error||new Error("aborted by user")),q=null},ne.oncomplete=()=>{q(null,re),q=null}}_next(te){if(this[X].length>0){const[ee,q]=this[X].shift();this.nextTick(te,null,ee,q)}else if(this[_])this.nextTick(te);else{let ee=Math.min(100,this.limit-this.count);this[F]&&(this[F]=!1,ee=1),this._nextv(ee,C,(q,J)=>{if(q)return te(q);this[X]=J,this._next(te)})}}_all(te,ee){this[F]=!1;const q=this[X].splice(0,this[X].length),J=this.limit-this.count-q.length;if(J<=0)return this.nextTick(ee,null,q);this._nextv(J,C,(ne,ie)=>{if(ne)return ee(ne);q.length>0&&(ie=q.concat(ie)),ee(null,ie)})}_seek(te,ee){let q;this[F]=!0,this[X]=[],this[_]=!1,this[N]=void 0,this[A]={...this[R]};try{q=w(this[R])}catch{return void(this[_]=!0)}null===q||q.includes(te)?this[R].reverse?this[A].lte=te:this[A].gte=te:this[_]=!0}}},19857:Ne=>{"use strict";Ne.exports=function(E,g,w,O,X){if(0===O.limit)return E.nextTick(X);const _=E.db.transaction([g],"readwrite"),R=_.objectStore(g);let A=0;_.oncomplete=function(){X()},_.onabort=function(){X(_.error||new Error("aborted by user"))},R[R.openKeyCursor?"openKeyCursor":"openCursor"](w,O.reverse?"prev":"next").onsuccess=function(F){const C=F.target.result;C&&(R.delete(C.key).onsuccess=function(){(O.limit<=0||++A<O.limit)&&C.continue()})}}},97899:Ne=>{"use strict";const V=new TextEncoder;Ne.exports=function(E){return E instanceof Uint8Array?E:E instanceof ArrayBuffer?new Uint8Array(E):V.encode(E)}},57059:Ne=>{"use strict";Ne.exports=function(E){const g=void 0!==E.gte?E.gte:void 0!==E.gt?E.gt:void 0,w=void 0!==E.lte?E.lte:void 0!==E.lt?E.lt:void 0,O=void 0===E.gte,X=void 0===E.lte;return void 0!==g&&void 0!==w?IDBKeyRange.bound(g,w,O,X):void 0!==g?IDBKeyRange.lowerBound(g,O):void 0!==w?IDBKeyRange.upperBound(w,X):null}},12375:(Ne,V,E)=>{var g=E(27054).Buffer;function w(N){g.isBuffer(N)||(N=g.from(N));for(var L=N.length/4|0,F=new Array(L),C=0;C<L;C++)F[C]=N.readUInt32BE(4*C);return F}function O(N){for(;0<N.length;N++)N[0]=0}function X(N,L,F,C,Y){for(var re,ce,se,pe,j=F[0],G=F[1],te=F[2],ee=F[3],q=N[0]^L[0],J=N[1]^L[1],ne=N[2]^L[2],ie=N[3]^L[3],we=4,Me=1;Me<Y;Me++)re=j[q>>>24]^G[J>>>16&255]^te[ne>>>8&255]^ee[255&ie]^L[we++],ce=j[J>>>24]^G[ne>>>16&255]^te[ie>>>8&255]^ee[255&q]^L[we++],se=j[ne>>>24]^G[ie>>>16&255]^te[q>>>8&255]^ee[255&J]^L[we++],pe=j[ie>>>24]^G[q>>>16&255]^te[J>>>8&255]^ee[255&ne]^L[we++],q=re,J=ce,ne=se,ie=pe;return re=(C[q>>>24]<<24|C[J>>>16&255]<<16|C[ne>>>8&255]<<8|C[255&ie])^L[we++],ce=(C[J>>>24]<<24|C[ne>>>16&255]<<16|C[ie>>>8&255]<<8|C[255&q])^L[we++],se=(C[ne>>>24]<<24|C[ie>>>16&255]<<16|C[q>>>8&255]<<8|C[255&J])^L[we++],pe=(C[ie>>>24]<<24|C[q>>>16&255]<<16|C[J>>>8&255]<<8|C[255&ne])^L[we++],[re>>>=0,ce>>>=0,se>>>=0,pe>>>=0]}var _=[0,1,2,4,8,16,32,64,128,27,54],R=function(){for(var N=new Array(256),L=0;L<256;L++)N[L]=L<128?L<<1:L<<1^283;for(var F=[],C=[],Y=[[],[],[],[]],j=[[],[],[],[]],G=0,te=0,ee=0;ee<256;++ee){var q=te^te<<1^te<<2^te<<3^te<<4;F[G]=q=q>>>8^255&q^99,C[q]=G;var J=N[G],ne=N[J],ie=N[ne],re=257*N[q]^16843008*q;Y[0][G]=re<<24|re>>>8,Y[1][G]=re<<16|re>>>16,Y[2][G]=re<<8|re>>>24,Y[3][G]=re,j[0][q]=(re=16843009*ie^65537*ne^257*J^16843008*G)<<24|re>>>8,j[1][q]=re<<16|re>>>16,j[2][q]=re<<8|re>>>24,j[3][q]=re,0===G?G=te=1:(G=J^N[N[N[ie^J]]],te^=N[N[te]])}return{SBOX:F,INV_SBOX:C,SUB_MIX:Y,INV_SUB_MIX:j}}();function A(N){this._key=w(N),this._reset()}A.blockSize=16,A.keySize=32,A.prototype.blockSize=A.blockSize,A.prototype.keySize=A.keySize,A.prototype._reset=function(){for(var N=this._key,L=N.length,F=L+6,C=4*(F+1),Y=[],j=0;j<L;j++)Y[j]=N[j];for(j=L;j<C;j++){var G=Y[j-1];j%L==0?(G=R.SBOX[(G=G<<8|G>>>24)>>>24]<<24|R.SBOX[G>>>16&255]<<16|R.SBOX[G>>>8&255]<<8|R.SBOX[255&G],G^=_[j/L|0]<<24):L>6&&j%L==4&&(G=R.SBOX[G>>>24]<<24|R.SBOX[G>>>16&255]<<16|R.SBOX[G>>>8&255]<<8|R.SBOX[255&G]),Y[j]=Y[j-L]^G}for(var te=[],ee=0;ee<C;ee++){var q=C-ee,J=Y[q-(ee%4?0:4)];te[ee]=ee<4||q<=4?J:R.INV_SUB_MIX[0][R.SBOX[J>>>24]]^R.INV_SUB_MIX[1][R.SBOX[J>>>16&255]]^R.INV_SUB_MIX[2][R.SBOX[J>>>8&255]]^R.INV_SUB_MIX[3][R.SBOX[255&J]]}this._nRounds=F,this._keySchedule=Y,this._invKeySchedule=te},A.prototype.encryptBlockRaw=function(N){return X(N=w(N),this._keySchedule,R.SUB_MIX,R.SBOX,this._nRounds)},A.prototype.encryptBlock=function(N){var L=this.encryptBlockRaw(N),F=g.allocUnsafe(16);return F.writeUInt32BE(L[0],0),F.writeUInt32BE(L[1],4),F.writeUInt32BE(L[2],8),F.writeUInt32BE(L[3],12),F},A.prototype.decryptBlock=function(N){var L=(N=w(N))[1];N[1]=N[3],N[3]=L;var F=X(N,this._invKeySchedule,R.INV_SUB_MIX,R.INV_SBOX,this._nRounds),C=g.allocUnsafe(16);return C.writeUInt32BE(F[0],0),C.writeUInt32BE(F[3],4),C.writeUInt32BE(F[2],8),C.writeUInt32BE(F[1],12),C},A.prototype.scrub=function(){O(this._keySchedule),O(this._invKeySchedule),O(this._key)},Ne.exports.AES=A},19307:(Ne,V,E)=>{var g=E(12375),w=E(27054).Buffer,O=E(3247),X=E(71993),_=E(85917),R=E(13546),A=E(95725);function F(C,Y,j,G){O.call(this);var te=w.alloc(4,0);this._cipher=new g.AES(Y);var ee=this._cipher.encryptBlock(te);this._ghash=new _(ee),j=function L(C,Y,j){if(12===Y.length)return C._finID=w.concat([Y,w.from([0,0,0,1])]),w.concat([Y,w.from([0,0,0,2])]);var G=new _(j),te=Y.length,ee=te%16;G.update(Y),ee&&G.update(w.alloc(ee=16-ee,0)),G.update(w.alloc(8,0));var q=8*te,J=w.alloc(8);J.writeUIntBE(q,0,8),G.update(J),C._finID=G.state;var ne=w.from(C._finID);return A(ne),ne}(this,j,ee),this._prev=w.from(j),this._cache=w.allocUnsafe(0),this._secCache=w.allocUnsafe(0),this._decrypt=G,this._alen=0,this._len=0,this._mode=C,this._authTag=null,this._called=!1}X(F,O),F.prototype._update=function(C){if(!this._called&&this._alen){var Y=16-this._alen%16;Y<16&&(Y=w.alloc(Y,0),this._ghash.update(Y))}this._called=!0;var j=this._mode.encrypt(this,C);return this._ghash.update(this._decrypt?C:j),this._len+=C.length,j},F.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var C=R(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function N(C,Y){var j=0;C.length!==Y.length&&j++;for(var G=Math.min(C.length,Y.length),te=0;te<G;++te)j+=C[te]^Y[te];return j}(C,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=C,this._cipher.scrub()},F.prototype.getAuthTag=function(){if(this._decrypt||!w.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},F.prototype.setAuthTag=function(Y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Y},F.prototype.setAAD=function(Y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Y),this._alen+=Y.length},Ne.exports=F},43388:(Ne,V,E)=>{var g=E(350),w=E(60102),O=E(3219);V.createCipher=V.Cipher=g.createCipher,V.createCipheriv=V.Cipheriv=g.createCipheriv,V.createDecipher=V.Decipher=w.createDecipher,V.createDecipheriv=V.Decipheriv=w.createDecipheriv,V.listCiphers=V.getCiphers=function X(){return Object.keys(O)}},60102:(Ne,V,E)=>{var g=E(19307),w=E(27054).Buffer,O=E(60503),X=E(91821),_=E(3247),R=E(12375),A=E(18211);function L(G,te,ee){_.call(this),this._cache=new F,this._last=void 0,this._cipher=new R.AES(te),this._prev=w.from(ee),this._mode=G,this._autopadding=!0}function F(){this.cache=w.allocUnsafe(0)}function Y(G,te,ee){var q=O[G.toLowerCase()];if(!q)throw new TypeError("invalid suite type");if("string"==typeof ee&&(ee=w.from(ee)),"GCM"!==q.mode&&ee.length!==q.iv)throw new TypeError("invalid iv length "+ee.length);if("string"==typeof te&&(te=w.from(te)),te.length!==q.key/8)throw new TypeError("invalid key length "+te.length);return"stream"===q.type?new X(q.module,te,ee,!0):"auth"===q.type?new g(q.module,te,ee,!0):new L(q.module,te,ee)}E(71993)(L,_),L.prototype._update=function(G){this._cache.add(G);for(var te,ee,q=[];te=this._cache.get(this._autopadding);)ee=this._mode.decrypt(this,te),q.push(ee);return w.concat(q)},L.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return function C(G){var te=G[15];if(te<1||te>16)throw new Error("unable to decrypt data");for(var ee=-1;++ee<te;)if(G[ee+(16-te)]!==te)throw new Error("unable to decrypt data");if(16!==te)return G.slice(0,16-te)}(this._mode.decrypt(this,G));if(G)throw new Error("data not multiple of block length")},L.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},F.prototype.add=function(G){this.cache=w.concat([this.cache,G])},F.prototype.get=function(G){var te;if(G){if(this.cache.length>16)return te=this.cache.slice(0,16),this.cache=this.cache.slice(16),te}else if(this.cache.length>=16)return te=this.cache.slice(0,16),this.cache=this.cache.slice(16),te;return null},F.prototype.flush=function(){if(this.cache.length)return this.cache},V.createDecipher=function j(G,te){var ee=O[G.toLowerCase()];if(!ee)throw new TypeError("invalid suite type");var q=A(te,!1,ee.key,ee.iv);return Y(G,q.key,q.iv)},V.createDecipheriv=Y},350:(Ne,V,E)=>{var g=E(60503),w=E(19307),O=E(27054).Buffer,X=E(91821),_=E(3247),R=E(12375),A=E(18211);function L(G,te,ee){_.call(this),this._cache=new C,this._cipher=new R.AES(te),this._prev=O.from(ee),this._mode=G,this._autopadding=!0}E(71993)(L,_),L.prototype._update=function(G){this._cache.add(G);for(var te,ee,q=[];te=this._cache.get();)ee=this._mode.encrypt(this,te),q.push(ee);return O.concat(q)};var F=O.alloc(16,16);function C(){this.cache=O.allocUnsafe(0)}function Y(G,te,ee){var q=g[G.toLowerCase()];if(!q)throw new TypeError("invalid suite type");if("string"==typeof te&&(te=O.from(te)),te.length!==q.key/8)throw new TypeError("invalid key length "+te.length);if("string"==typeof ee&&(ee=O.from(ee)),"GCM"!==q.mode&&ee.length!==q.iv)throw new TypeError("invalid iv length "+ee.length);return"stream"===q.type?new X(q.module,te,ee):"auth"===q.type?new w(q.module,te,ee):new L(q.module,te,ee)}L.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return G=this._mode.encrypt(this,G),this._cipher.scrub(),G;if(!G.equals(F))throw this._cipher.scrub(),new Error("data not multiple of block length")},L.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},C.prototype.add=function(G){this.cache=O.concat([this.cache,G])},C.prototype.get=function(){if(this.cache.length>15){var G=this.cache.slice(0,16);return this.cache=this.cache.slice(16),G}return null},C.prototype.flush=function(){for(var G=16-this.cache.length,te=O.allocUnsafe(G),ee=-1;++ee<G;)te.writeUInt8(G,ee);return O.concat([this.cache,te])},V.createCipheriv=Y,V.createCipher=function j(G,te){var ee=g[G.toLowerCase()];if(!ee)throw new TypeError("invalid suite type");var q=A(te,!1,ee.key,ee.iv);return Y(G,q.key,q.iv)}},85917:(Ne,V,E)=>{var g=E(27054).Buffer,w=g.alloc(16,0);function X(R){var A=g.allocUnsafe(16);return A.writeUInt32BE(R[0]>>>0,0),A.writeUInt32BE(R[1]>>>0,4),A.writeUInt32BE(R[2]>>>0,8),A.writeUInt32BE(R[3]>>>0,12),A}function _(R){this.h=R,this.state=g.alloc(16,0),this.cache=g.allocUnsafe(0)}_.prototype.ghash=function(R){for(var A=-1;++A<R.length;)this.state[A]^=R[A];this._multiply()},_.prototype._multiply=function(){for(var N,F,R=function O(R){return[R.readUInt32BE(0),R.readUInt32BE(4),R.readUInt32BE(8),R.readUInt32BE(12)]}(this.h),A=[0,0,0,0],C=-1;++C<128;){for(!!(this.state[~~(C/8)]&1<<7-C%8)&&(A[0]^=R[0],A[1]^=R[1],A[2]^=R[2],A[3]^=R[3]),F=!!(1&R[3]),N=3;N>0;N--)R[N]=R[N]>>>1|(1&R[N-1])<<31;R[0]=R[0]>>>1,F&&(R[0]=R[0]^225<<24)}this.state=X(A)},_.prototype.update=function(R){this.cache=g.concat([this.cache,R]);for(var A;this.cache.length>=16;)A=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(A)},_.prototype.final=function(R,A){return this.cache.length&&this.ghash(g.concat([this.cache,w],16)),this.ghash(X([0,R,0,A])),this.state},Ne.exports=_},95725:Ne=>{Ne.exports=function V(E){for(var w,g=E.length;g--;){if(255!==(w=E.readUInt8(g))){w++,E.writeUInt8(w,g);break}E.writeUInt8(0,g)}}},34133:(Ne,V,E)=>{var g=E(13546);V.encrypt=function(w,O){var X=g(O,w._prev);return w._prev=w._cipher.encryptBlock(X),w._prev},V.decrypt=function(w,O){var X=w._prev;w._prev=O;var _=w._cipher.decryptBlock(O);return g(_,X)}},17090:(Ne,V,E)=>{var g=E(27054).Buffer,w=E(13546);function O(X,_,R){var A=_.length,N=w(_,X._cache);return X._cache=X._cache.slice(A),X._prev=g.concat([X._prev,R?_:N]),N}V.encrypt=function(X,_,R){for(var N,A=g.allocUnsafe(0);_.length;){if(0===X._cache.length&&(X._cache=X._cipher.encryptBlock(X._prev),X._prev=g.allocUnsafe(0)),!(X._cache.length<=_.length)){A=g.concat([A,O(X,_,R)]);break}A=g.concat([A,O(X,_.slice(0,N=X._cache.length),R)]),_=_.slice(N)}return A}},71039:(Ne,V,E)=>{var g=E(27054).Buffer;function w(X,_,R){for(var C,Y,N=-1,F=0;++N<8;)F+=(128&(Y=X._cipher.encryptBlock(X._prev)[0]^(C=_&1<<7-N?128:0)))>>N%8,X._prev=O(X._prev,R?C:Y);return F}function O(X,_){var R=X.length,A=-1,N=g.allocUnsafe(X.length);for(X=g.concat([X,g.from([_])]);++A<R;)N[A]=X[A]<<1|X[A+1]>>7;return N}V.encrypt=function(X,_,R){for(var A=_.length,N=g.allocUnsafe(A),L=-1;++L<A;)N[L]=w(X,_[L],R);return N}},72576:(Ne,V,E)=>{var g=E(27054).Buffer;function w(O,X,_){var A=O._cipher.encryptBlock(O._prev)[0]^X;return O._prev=g.concat([O._prev.slice(1),g.from([_?X:A])]),A}V.encrypt=function(O,X,_){for(var R=X.length,A=g.allocUnsafe(R),N=-1;++N<R;)A[N]=w(O,X[N],_);return A}},70336:(Ne,V,E)=>{var g=E(13546),w=E(27054).Buffer,O=E(95725);function X(R){var A=R._cipher.encryptBlockRaw(R._prev);return O(R._prev),A}V.encrypt=function(R,A){var N=Math.ceil(A.length/16),L=R._cache.length;R._cache=w.concat([R._cache,w.allocUnsafe(16*N)]);for(var F=0;F<N;F++){var C=X(R),Y=L+16*F;R._cache.writeUInt32BE(C[0],Y+0),R._cache.writeUInt32BE(C[1],Y+4),R._cache.writeUInt32BE(C[2],Y+8),R._cache.writeUInt32BE(C[3],Y+12)}var j=R._cache.slice(0,A.length);return R._cache=R._cache.slice(A.length),g(A,j)}},37513:(Ne,V)=>{V.encrypt=function(E,g){return E._cipher.encryptBlock(g)},V.decrypt=function(E,g){return E._cipher.decryptBlock(g)}},60503:(Ne,V,E)=>{var g={ECB:E(37513),CBC:E(34133),CFB:E(17090),CFB8:E(72576),CFB1:E(71039),OFB:E(46854),CTR:E(70336),GCM:E(70336)},w=E(3219);for(var O in w)w[O].module=g[w[O].mode];Ne.exports=w},46854:(Ne,V,E)=>{var g=E(13546);function w(O){return O._prev=O._cipher.encryptBlock(O._prev),O._prev}V.encrypt=function(O,X){for(;O._cache.length<X.length;)O._cache=Buffer.concat([O._cache,w(O)]);var _=O._cache.slice(0,X.length);return O._cache=O._cache.slice(X.length),g(X,_)}},91821:(Ne,V,E)=>{var g=E(12375),w=E(27054).Buffer,O=E(3247);function _(R,A,N,L){O.call(this),this._cipher=new g.AES(A),this._prev=w.from(N),this._cache=w.allocUnsafe(0),this._secCache=w.allocUnsafe(0),this._decrypt=L,this._mode=R}E(71993)(_,O),_.prototype._update=function(R){return this._mode.encrypt(this,R,this._decrypt)},_.prototype._final=function(){this._cipher.scrub()},Ne.exports=_},88862:(Ne,V,E)=>{var g=E(39799),w=E(43388),O=E(60503),X=E(59571),_=E(18211);function N(C,Y,j){if(C=C.toLowerCase(),O[C])return w.createCipheriv(C,Y,j);if(X[C])return new g({key:Y,iv:j,mode:C});throw new TypeError("invalid suite type")}function L(C,Y,j){if(C=C.toLowerCase(),O[C])return w.createDecipheriv(C,Y,j);if(X[C])return new g({key:Y,iv:j,mode:C,decrypt:!0});throw new TypeError("invalid suite type")}V.createCipher=V.Cipher=function R(C,Y){var j,G;if(C=C.toLowerCase(),O[C])j=O[C].key,G=O[C].iv;else{if(!X[C])throw new TypeError("invalid suite type");j=8*X[C].key,G=X[C].iv}var te=_(Y,!1,j,G);return N(C,te.key,te.iv)},V.createCipheriv=V.Cipheriv=N,V.createDecipher=V.Decipher=function A(C,Y){var j,G;if(C=C.toLowerCase(),O[C])j=O[C].key,G=O[C].iv;else{if(!X[C])throw new TypeError("invalid suite type");j=8*X[C].key,G=X[C].iv}var te=_(Y,!1,j,G);return L(C,te.key,te.iv)},V.createDecipheriv=V.Decipheriv=L,V.listCiphers=V.getCiphers=function F(){return Object.keys(X).concat(w.getCiphers())}},39799:(Ne,V,E)=>{var g=E(3247),w=E(71549),O=E(71993),X=E(27054).Buffer,_={"des-ede3-cbc":w.CBC.instantiate(w.EDE),"des-ede3":w.EDE,"des-ede-cbc":w.CBC.instantiate(w.EDE),"des-ede":w.EDE,"des-cbc":w.CBC.instantiate(w.DES),"des-ecb":w.DES};function R(A){g.call(this);var F,N=A.mode.toLowerCase(),L=_[N];F=A.decrypt?"decrypt":"encrypt";var C=A.key;X.isBuffer(C)||(C=X.from(C)),("des-ede"===N||"des-ede-cbc"===N)&&(C=X.concat([C,C.slice(0,8)]));var Y=A.iv;X.isBuffer(Y)||(Y=X.from(Y)),this._des=L.create({key:C,iv:Y,type:F})}_.des=_["des-cbc"],_.des3=_["des-ede3-cbc"],Ne.exports=R,O(R,g),R.prototype._update=function(A){return X.from(this._des.update(A))},R.prototype._final=function(){return X.from(this._des.final())}},59571:(Ne,V)=>{V["des-ecb"]={key:8,iv:0},V["des-cbc"]=V.des={key:8,iv:8},V["des-ede3-cbc"]=V.des3={key:24,iv:8},V["des-ede3"]={key:24,iv:0},V["des-ede-cbc"]={key:16,iv:8},V["des-ede"]={key:16,iv:0}},14105:(Ne,V,E)=>{var g=E(917),w=E(3342);function X(R){var N,A=R.modulus.byteLength();do{N=new g(w(A))}while(N.cmp(R.modulus)>=0||!N.umod(R.prime1)||!N.umod(R.prime2));return N}function _(R,A){var N=function O(R){var A=X(R);return{blinder:A.toRed(g.mont(R.modulus)).redPow(new g(R.publicExponent)).fromRed(),unblinder:A.invm(R.modulus)}}(A),L=A.modulus.byteLength(),F=new g(R).mul(N.blinder).umod(A.modulus),C=F.toRed(g.mont(A.prime1)),Y=F.toRed(g.mont(A.prime2)),j=A.coefficient,G=A.prime1,te=A.prime2,ee=C.redPow(A.exponent1).fromRed(),q=Y.redPow(A.exponent2).fromRed(),J=ee.isub(q).imul(j).umod(G).imul(te);return q.iadd(J).imul(N.unblinder).umod(A.modulus).toArrayLike(Buffer,"be",L)}_.getr=X,Ne.exports=_},99560:(Ne,V,E)=>{"use strict";Ne.exports=E(62951)},79143:(Ne,V,E)=>{"use strict";var g=E(27054).Buffer,w=E(67211),O=E(64670),X=E(71993),_=E(43150),R=E(74754),A=E(62951);function N(Y){O.Writable.call(this);var j=A[Y];if(!j)throw new Error("Unknown message digest");this._hashType=j.hash,this._hash=w(j.hash),this._tag=j.id,this._signType=j.sign}function L(Y){O.Writable.call(this);var j=A[Y];if(!j)throw new Error("Unknown message digest");this._hash=w(j.hash),this._tag=j.id,this._signType=j.sign}function F(Y){return new N(Y)}function C(Y){return new L(Y)}Object.keys(A).forEach(function(Y){A[Y].id=g.from(A[Y].id,"hex"),A[Y.toLowerCase()]=A[Y]}),X(N,O.Writable),N.prototype._write=function(j,G,te){this._hash.update(j),te()},N.prototype.update=function(j,G){return this._hash.update("string"==typeof j?g.from(j,G):j),this},N.prototype.sign=function(j,G){this.end();var te=this._hash.digest(),ee=_(te,j,this._hashType,this._signType,this._tag);return G?ee.toString(G):ee},X(L,O.Writable),L.prototype._write=function(j,G,te){this._hash.update(j),te()},L.prototype.update=function(j,G){return this._hash.update("string"==typeof j?g.from(j,G):j),this},L.prototype.verify=function(j,G,te){var ee="string"==typeof G?g.from(G,te):G;this.end();var q=this._hash.digest();return R(ee,q,j,this._signType,this._tag)},Ne.exports={Sign:F,Verify:C,createSign:F,createVerify:C}},43150:(Ne,V,E)=>{"use strict";var g=E(27054).Buffer,w=E(56432),O=E(14105),X=E(90518).ec,_=E(917),R=E(65667),A=E(64589);function j(J,ne,ie,re){if((J=g.from(J.toArray())).length<ne.byteLength()){var ce=g.alloc(ne.byteLength()-J.length);J=g.concat([ce,J])}var se=ie.length,pe=function te(J,ne){J=(J=G(J,ne)).mod(ne);var ie=g.from(J.toArray());if(ie.length<ne.byteLength()){var re=g.alloc(ne.byteLength()-ie.length);ie=g.concat([re,ie])}return ie}(ie,ne),we=g.alloc(se);we.fill(1);var Me=g.alloc(se);return Me=w(re,Me).update(we).update(g.from([0])).update(J).update(pe).digest(),we=w(re,Me).update(we).digest(),{k:Me=w(re,Me).update(we).update(g.from([1])).update(J).update(pe).digest(),v:we=w(re,Me).update(we).digest()}}function G(J,ne){var ie=new _(J),re=(J.length<<3)-ne.bitLength();return re>0&&ie.ishrn(re),ie}function ee(J,ne,ie){var re,ce;do{for(re=g.alloc(0);8*re.length<J.bitLength();)ne.v=w(ie,ne.k).update(ne.v).digest(),re=g.concat([re,ne.v]);ce=G(re,J),ne.k=w(ie,ne.k).update(ne.v).update(g.from([0])).digest(),ne.v=w(ie,ne.k).update(ne.v).digest()}while(-1!==ce.cmp(J));return ce}function q(J,ne,ie,re){return J.toRed(_.mont(ie)).redPow(ne).fromRed().mod(re)}Ne.exports=function L(J,ne,ie,re,ce){var se=R(ne);if(se.curve){if("ecdsa"!==re&&"ecdsa/rsa"!==re)throw new Error("wrong private key type");return function F(J,ne){var ie=A[ne.curve.join(".")];if(!ie)throw new Error("unknown curve "+ne.curve.join("."));var se=new X(ie).keyFromPrivate(ne.privateKey).sign(J);return g.from(se.toDER())}(J,se)}if("dsa"===se.type){if("dsa"!==re)throw new Error("wrong private key type");return function C(J,ne,ie){for(var Me,re=ne.params.priv_key,ce=ne.params.p,se=ne.params.q,pe=ne.params.g,we=new _(0),k=G(J,se).mod(se),l=!1,h=j(re,se,J,ie);!1===l;)we=q(pe,Me=ee(se,h,ie),ce,se),0===(l=Me.invm(se).imul(k.add(re.mul(we))).mod(se)).cmpn(0)&&(l=!1,we=new _(0));return function Y(J,ne){J=J.toArray(),ne=ne.toArray(),128&J[0]&&(J=[0].concat(J)),128&ne[0]&&(ne=[0].concat(ne));var re=[48,J.length+ne.length+4,2,J.length];return re=re.concat(J,[2,ne.length],ne),g.from(re)}(we,l)}(J,se,ie)}if("rsa"!==re&&"ecdsa/rsa"!==re)throw new Error("wrong private key type");if(void 0!==ne.padding&&1!==ne.padding)throw new Error("illegal or unsupported padding mode");J=g.concat([ce,J]);for(var pe=se.modulus.byteLength(),we=[0,1];J.length+we.length+1<pe;)we.push(255);we.push(0);for(var Me=-1;++Me<J.length;)we.push(J[Me]);return O(we,se)},Ne.exports.getKey=j,Ne.exports.makeKey=ee},74754:(Ne,V,E)=>{"use strict";var g=E(27054).Buffer,w=E(917),O=E(90518).ec,X=E(65667),_=E(64589);function L(F,C){if(F.cmpn(0)<=0)throw new Error("invalid sig");if(F.cmp(C)>=0)throw new Error("invalid sig")}Ne.exports=function R(F,C,Y,j,G){var te=X(Y);if("ec"===te.type){if("ecdsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");return function A(F,C,Y){var j=_[Y.data.algorithm.curve.join(".")];if(!j)throw new Error("unknown curve "+Y.data.algorithm.curve.join("."));return new O(j).verify(C,F,Y.data.subjectPrivateKey.data)}(F,C,te)}if("dsa"===te.type){if("dsa"!==j)throw new Error("wrong public key type");return function N(F,C,Y){var j=Y.data.p,G=Y.data.q,te=Y.data.g,ee=Y.data.pub_key,q=X.signature.decode(F,"der"),J=q.s,ne=q.r;L(J,G),L(ne,G);var ie=w.mont(j),re=J.invm(G);return 0===te.toRed(ie).redPow(new w(C).mul(re).mod(G)).fromRed().mul(ee.toRed(ie).redPow(ne.mul(re).mod(G)).fromRed()).mod(j).mod(G).cmp(ne)}(F,C,te)}if("rsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");C=g.concat([G,C]);for(var ee=te.modulus.byteLength(),q=[1],J=0;C.length+q.length+2<ee;)q.push(255),J+=1;q.push(0);for(var ne=-1;++ne<C.length;)q.push(C[ne]);q=g.from(q);var ie=w.mont(te.modulus);F=(F=new w(F).toRed(ie)).redPow(new w(te.publicExponent)),F=g.from(F.fromRed().toArray());var re=J<8?1:0;for(ee=Math.min(F.length,q.length),F.length!==q.length&&(re=1),ne=-1;++ne<ee;)re|=F[ne]^q[ne];return 0===re}},23827:(Ne,V,E)=>{"use strict";var g=E(9656),w=Object.keys||function(Y){var j=[];for(var G in Y)j.push(G);return j};Ne.exports=L;var O=Object.create(E(27637));O.inherits=E(71993);var X=E(81217),_=E(14817);O.inherits(L,X);for(var R=w(_.prototype),A=0;A<R.length;A++){var N=R[A];L.prototype[N]||(L.prototype[N]=_.prototype[N])}function L(Y){if(!(this instanceof L))return new L(Y);X.call(this,Y),_.call(this,Y),Y&&!1===Y.readable&&(this.readable=!1),Y&&!1===Y.writable&&(this.writable=!1),this.allowHalfOpen=!0,Y&&!1===Y.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",F)}function F(){this.allowHalfOpen||this._writableState.ended||g.nextTick(C,this)}function C(Y){Y.end()}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Y){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=Y,this._writableState.destroyed=Y)}}),L.prototype._destroy=function(Y,j){this.push(null),this.end(),g.nextTick(j,Y)}},75519:(Ne,V,E)=>{"use strict";Ne.exports=O;var g=E(93045),w=Object.create(E(27637));function O(X){if(!(this instanceof O))return new O(X);g.call(this,X)}w.inherits=E(71993),w.inherits(O,g),O.prototype._transform=function(X,_,R){R(null,X)}},81217:(Ne,V,E)=>{"use strict";var g=E(40573),w=E(9656);Ne.exports=re;var X,O=E(20053);re.ReadableState=ie,E(44356);var R=function(ye,ke){return ye.listeners(ke).length},A=E(62078),N=E(29783).Buffer,L=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},Y=Object.create(E(27637));Y.inherits=E(71993);var j=E(92668),G=void 0;G=j&&j.debuglog?j.debuglog("stream"):function(){};var q,te=E(10793),ee=E(43357);Y.inherits(re,A);var J=["error","close","destroy","pause","resume"];function ie(ye,ke){var me=ke instanceof(X=X||E(23827));this.objectMode=!!(ye=ye||{}).objectMode,me&&(this.objectMode=this.objectMode||!!ye.readableObjectMode);var Ee=ye.highWaterMark,fe=ye.readableHighWaterMark;this.highWaterMark=Ee||0===Ee?Ee:me&&(fe||0===fe)?fe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new te,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ye.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ye.encoding&&(q||(q=E(49937).I),this.decoder=new q(ye.encoding),this.encoding=ye.encoding)}function re(ye){if(X=X||E(23827),!(this instanceof re))return new re(ye);this._readableState=new ie(ye,this),this.readable=!0,ye&&("function"==typeof ye.read&&(this._read=ye.read),"function"==typeof ye.destroy&&(this._destroy=ye.destroy)),A.call(this)}function ce(ye,ke,me,Ee,fe){var ae,he=ye._readableState;return null===ke?(he.reading=!1,function h(ye,ke){if(!ke.ended){if(ke.decoder){var me=ke.decoder.end();me&&me.length&&(ke.buffer.push(me),ke.length+=ke.objectMode?1:me.length)}ke.ended=!0,m(ye)}}(ye,he)):(fe||(ae=function pe(ye,ke){var me;return!function C(ye){return N.isBuffer(ye)||ye instanceof L}(ke)&&"string"!=typeof ke&&void 0!==ke&&!ye.objectMode&&(me=new TypeError("Invalid non-string/buffer chunk")),me}(he,ke)),ae?ye.emit("error",ae):he.objectMode||ke&&ke.length>0?("string"!=typeof ke&&!he.objectMode&&Object.getPrototypeOf(ke)!==N.prototype&&(ke=function F(ye){return N.from(ye)}(ke)),Ee?he.endEmitted?ye.emit("error",new Error("stream.unshift() after end event")):se(ye,he,ke,!0):he.ended?ye.emit("error",new Error("stream.push() after EOF")):(he.reading=!1,he.decoder&&!me?(ke=he.decoder.write(ke),he.objectMode||0!==ke.length?se(ye,he,ke,!1):x(ye,he)):se(ye,he,ke,!1))):Ee||(he.reading=!1)),function we(ye){return!ye.ended&&(ye.needReadable||ye.length<ye.highWaterMark||0===ye.length)}(he)}function se(ye,ke,me,Ee){ke.flowing&&0===ke.length&&!ke.sync?(ye.emit("data",me),ye.read(0)):(ke.length+=ke.objectMode?1:me.length,Ee?ke.buffer.unshift(me):ke.buffer.push(me),ke.needReadable&&m(ye)),x(ye,ke)}Object.defineProperty(re.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ye){this._readableState&&(this._readableState.destroyed=ye)}}),re.prototype.destroy=ee.destroy,re.prototype._undestroy=ee.undestroy,re.prototype._destroy=function(ye,ke){this.push(null),ke(ye)},re.prototype.push=function(ye,ke){var Ee,me=this._readableState;return me.objectMode?Ee=!0:"string"==typeof ye&&((ke=ke||me.defaultEncoding)!==me.encoding&&(ye=N.from(ye,ke),ke=""),Ee=!0),ce(this,ye,ke,!1,Ee)},re.prototype.unshift=function(ye){return ce(this,ye,null,!0,!1)},re.prototype.isPaused=function(){return!1===this._readableState.flowing},re.prototype.setEncoding=function(ye){return q||(q=E(49937).I),this._readableState.decoder=new q(ye),this._readableState.encoding=ye,this};function l(ye,ke){return ye<=0||0===ke.length&&ke.ended?0:ke.objectMode?1:ye!=ye?ke.flowing&&ke.length?ke.buffer.head.data.length:ke.length:(ye>ke.highWaterMark&&(ke.highWaterMark=function k(ye){return ye>=8388608?ye=8388608:(ye--,ye|=ye>>>1,ye|=ye>>>2,ye|=ye>>>4,ye|=ye>>>8,ye|=ye>>>16,ye++),ye}(ye)),ye<=ke.length?ye:ke.ended?ke.length:(ke.needReadable=!0,0))}function m(ye){var ke=ye._readableState;ke.needReadable=!1,ke.emittedReadable||(G("emitReadable",ke.flowing),ke.emittedReadable=!0,ke.sync?w.nextTick(p,ye):p(ye))}function p(ye){G("emit readable"),ye.emit("readable"),W(ye)}function x(ye,ke){ke.readingMore||(ke.readingMore=!0,w.nextTick(D,ye,ke))}function D(ye,ke){for(var me=ke.length;!ke.reading&&!ke.flowing&&!ke.ended&&ke.length<ke.highWaterMark&&(G("maybeReadMore read 0"),ye.read(0),me!==ke.length);)me=ke.length;ke.readingMore=!1}function M(ye){G("readable nexttick read 0"),ye.read(0)}function v(ye,ke){ke.reading||(G("resume read 0"),ye.read(0)),ke.resumeScheduled=!1,ke.awaitDrain=0,ye.emit("resume"),W(ye),ke.flowing&&!ke.reading&&ye.read(0)}function W(ye){var ke=ye._readableState;for(G("flow",ke.flowing);ke.flowing&&null!==ye.read(););}function z(ye,ke){return 0===ke.length?null:(ke.objectMode?me=ke.buffer.shift():!ye||ye>=ke.length?(me=ke.decoder?ke.buffer.join(""):1===ke.buffer.length?ke.buffer.head.data:ke.buffer.concat(ke.length),ke.buffer.clear()):me=function Q(ye,ke,me){var Ee;return ye<ke.head.data.length?(Ee=ke.head.data.slice(0,ye),ke.head.data=ke.head.data.slice(ye)):Ee=ye===ke.head.data.length?ke.shift():me?function de(ye,ke){var me=ke.head,Ee=1,fe=me.data;for(ye-=fe.length;me=me.next;){var he=me.data,ae=ye>he.length?he.length:ye;if(fe+=ae===he.length?he:he.slice(0,ye),0==(ye-=ae)){ae===he.length?(++Ee,ke.head=me.next?me.next:ke.tail=null):(ke.head=me,me.data=he.slice(ae));break}++Ee}return ke.length-=Ee,fe}(ye,ke):function xe(ye,ke){var me=N.allocUnsafe(ye),Ee=ke.head,fe=1;for(Ee.data.copy(me),ye-=Ee.data.length;Ee=Ee.next;){var he=Ee.data,ae=ye>he.length?he.length:ye;if(he.copy(me,me.length-ye,0,ae),0==(ye-=ae)){ae===he.length?(++fe,ke.head=Ee.next?Ee.next:ke.tail=null):(ke.head=Ee,Ee.data=he.slice(ae));break}++fe}return ke.length-=fe,me}(ye,ke),Ee}(ye,ke.buffer,ke.decoder),me);var me}function Ie(ye){var ke=ye._readableState;if(ke.length>0)throw new Error('"endReadable()" called on non-empty stream');ke.endEmitted||(ke.ended=!0,w.nextTick(Le,ke,ye))}function Le(ye,ke){!ye.endEmitted&&0===ye.length&&(ye.endEmitted=!0,ke.readable=!1,ke.emit("end"))}function ve(ye,ke){for(var me=0,Ee=ye.length;me<Ee;me++)if(ye[me]===ke)return me;return-1}re.prototype.read=function(ye){G("read",ye),ye=parseInt(ye,10);var ke=this._readableState,me=ye;if(0!==ye&&(ke.emittedReadable=!1),0===ye&&ke.needReadable&&(ke.length>=ke.highWaterMark||ke.ended))return G("read: emitReadable",ke.length,ke.ended),0===ke.length&&ke.ended?Ie(this):m(this),null;if(0===(ye=l(ye,ke))&&ke.ended)return 0===ke.length&&Ie(this),null;var fe,Ee=ke.needReadable;return G("need readable",Ee),(0===ke.length||ke.length-ye<ke.highWaterMark)&&G("length less than watermark",Ee=!0),ke.ended||ke.reading?G("reading or ended",Ee=!1):Ee&&(G("do read"),ke.reading=!0,ke.sync=!0,0===ke.length&&(ke.needReadable=!0),this._read(ke.highWaterMark),ke.sync=!1,ke.reading||(ye=l(me,ke))),null===(fe=ye>0?z(ye,ke):null)?(ke.needReadable=!0,ye=0):ke.length-=ye,0===ke.length&&(ke.ended||(ke.needReadable=!0),me!==ye&&ke.ended&&Ie(this)),null!==fe&&this.emit("data",fe),fe},re.prototype._read=function(ye){this.emit("error",new Error("_read() is not implemented"))},re.prototype.pipe=function(ye,ke){var me=this,Ee=this._readableState;switch(Ee.pipesCount){case 0:Ee.pipes=ye;break;case 1:Ee.pipes=[Ee.pipes,ye];break;default:Ee.pipes.push(ye)}Ee.pipesCount+=1,G("pipe count=%d opts=%j",Ee.pipesCount,ke);var he=ke&&!1===ke.end||ye===g.stdout||ye===g.stderr?ut:ue;function ue(){G("onend"),ye.end()}Ee.endEmitted?w.nextTick(he):me.once("end",he),ye.on("unpipe",function ae($,T){G("onunpipe"),$===me&&T&&!1===T.hasUnpiped&&(T.hasUnpiped=!0,function Ue(){G("cleanup"),ye.removeListener("close",qe),ye.removeListener("finish",je),ye.removeListener("drain",ge),ye.removeListener("error",It),ye.removeListener("unpipe",ae),me.removeListener("end",ue),me.removeListener("end",ut),me.removeListener("data",ze),Ae=!0,Ee.awaitDrain&&(!ye._writableState||ye._writableState.needDrain)&&ge()}())});var ge=function B(ye){return function(){var ke=ye._readableState;G("pipeOnDrain",ke.awaitDrain),ke.awaitDrain&&ke.awaitDrain--,0===ke.awaitDrain&&R(ye,"data")&&(ke.flowing=!0,W(ye))}}(me);ye.on("drain",ge);var Ae=!1,Ve=!1;function ze($){G("ondata"),Ve=!1,!1===ye.write($)&&!Ve&&((1===Ee.pipesCount&&Ee.pipes===ye||Ee.pipesCount>1&&-1!==ve(Ee.pipes,ye))&&!Ae&&(G("false write response, pause",Ee.awaitDrain),Ee.awaitDrain++,Ve=!0),me.pause())}function It($){G("onerror",$),ut(),ye.removeListener("error",It),0===R(ye,"error")&&ye.emit("error",$)}function qe(){ye.removeListener("finish",je),ut()}function je(){G("onfinish"),ye.removeListener("close",qe),ut()}function ut(){G("unpipe"),me.unpipe(ye)}return me.on("data",ze),function ne(ye,ke,me){if("function"==typeof ye.prependListener)return ye.prependListener(ke,me);ye._events&&ye._events[ke]?O(ye._events[ke])?ye._events[ke].unshift(me):ye._events[ke]=[me,ye._events[ke]]:ye.on(ke,me)}(ye,"error",It),ye.once("close",qe),ye.once("finish",je),ye.emit("pipe",me),Ee.flowing||(G("pipe resume"),me.resume()),ye},re.prototype.unpipe=function(ye){var ke=this._readableState,me={hasUnpiped:!1};if(0===ke.pipesCount)return this;if(1===ke.pipesCount)return ye&&ye!==ke.pipes||(ye||(ye=ke.pipes),ke.pipes=null,ke.pipesCount=0,ke.flowing=!1,ye&&ye.emit("unpipe",this,me)),this;if(!ye){var Ee=ke.pipes,fe=ke.pipesCount;ke.pipes=null,ke.pipesCount=0,ke.flowing=!1;for(var he=0;he<fe;he++)Ee[he].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=ve(ke.pipes,ye);return-1===ae||(ke.pipes.splice(ae,1),ke.pipesCount-=1,1===ke.pipesCount&&(ke.pipes=ke.pipes[0]),ye.emit("unpipe",this,me)),this},re.prototype.addListener=re.prototype.on=function(ye,ke){var me=A.prototype.on.call(this,ye,ke);if("data"===ye)!1!==this._readableState.flowing&&this.resume();else if("readable"===ye){var Ee=this._readableState;!Ee.endEmitted&&!Ee.readableListening&&(Ee.readableListening=Ee.needReadable=!0,Ee.emittedReadable=!1,Ee.reading?Ee.length&&m(this):w.nextTick(M,this))}return me},re.prototype.resume=function(){var ye=this._readableState;return ye.flowing||(G("resume"),ye.flowing=!0,function d(ye,ke){ke.resumeScheduled||(ke.resumeScheduled=!0,w.nextTick(v,ye,ke))}(this,ye)),this},re.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},re.prototype.wrap=function(ye){var ke=this,me=this._readableState,Ee=!1;for(var fe in ye.on("end",function(){if(G("wrapped end"),me.decoder&&!me.ended){var ae=me.decoder.end();ae&&ae.length&&ke.push(ae)}ke.push(null)}),ye.on("data",function(ae){G("wrapped data"),me.decoder&&(ae=me.decoder.write(ae)),me.objectMode&&null==ae||!(me.objectMode||ae&&ae.length)||ke.push(ae)||(Ee=!0,ye.pause())}),ye)void 0===this[fe]&&"function"==typeof ye[fe]&&(this[fe]=function(ae){return function(){return ye[ae].apply(ye,arguments)}}(fe));for(var he=0;he<J.length;he++)ye.on(J[he],this.emit.bind(this,J[he]));return this._read=function(ae){G("wrapped _read",ae),Ee&&(Ee=!1,ye.resume())},this},Object.defineProperty(re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),re._fromList=z},93045:(Ne,V,E)=>{"use strict";Ne.exports=X;var g=E(23827),w=Object.create(E(27637));function O(A,N){var L=this._transformState;L.transforming=!1;var F=L.writecb;if(!F)return this.emit("error",new Error("write callback called multiple times"));L.writechunk=null,L.writecb=null,null!=N&&this.push(N),F(A);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function X(A){if(!(this instanceof X))return new X(A);g.call(this,A),this._transformState={afterTransform:O.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",_)}function _(){var A=this;"function"==typeof this._flush?this._flush(function(N,L){R(A,N,L)}):R(this,null,null)}function R(A,N,L){if(N)return A.emit("error",N);if(null!=L&&A.push(L),A._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(A._transformState.transforming)throw new Error("Calling transform done when still transforming");return A.push(null)}w.inherits=E(71993),w.inherits(X,g),X.prototype.push=function(A,N){return this._transformState.needTransform=!1,g.prototype.push.call(this,A,N)},X.prototype._transform=function(A,N,L){throw new Error("_transform() is not implemented")},X.prototype._write=function(A,N,L){var F=this._transformState;if(F.writecb=L,F.writechunk=A,F.writeencoding=N,!F.transforming){var C=this._readableState;(F.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},X.prototype._read=function(A){var N=this._transformState;null!==N.writechunk&&N.writecb&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},X.prototype._destroy=function(A,N){var L=this;g.prototype._destroy.call(this,A,function(F){N(F),L.emit("close")})}},14817:(Ne,V,E)=>{"use strict";var g=E(40573),w=E(9656);function X(d){var v=this;this.next=null,this.entry=null,this.finish=function(){!function M(d,v,W){var z=d.entry;for(d.entry=null;z;){var Q=z.callback;v.pendingcb--,Q(W),z=z.next}v.corkedRequestsFree.next=d}(v,d)}}Ne.exports=J;var R,_=!g.browser&&["v0.10","v0.9."].indexOf(g.version.slice(0,5))>-1?setImmediate:w.nextTick;J.WritableState=ee;var A=Object.create(E(27637));A.inherits=E(71993);var q,N={deprecate:E(3398)},L=E(62078),F=E(29783).Buffer,C=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=E(43357);function te(){}function ee(d,v){R=R||E(23827);var W=v instanceof R;this.objectMode=!!(d=d||{}).objectMode,W&&(this.objectMode=this.objectMode||!!d.writableObjectMode);var z=d.highWaterMark,Q=d.writableHighWaterMark;this.highWaterMark=z||0===z?z:W&&(Q||0===Q)?Q:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===d.decodeStrings),this.defaultEncoding=d.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){!function Me(d,v){var W=d._writableState,z=W.sync,Q=W.writecb;if(function we(d){d.writing=!1,d.writecb=null,d.length-=d.writelen,d.writelen=0}(W),v)!function pe(d,v,W,z,Q){--v.pendingcb,W?(w.nextTick(Q,z),w.nextTick(D,d,v),d._writableState.errorEmitted=!0,d.emit("error",z)):(Q(z),d._writableState.errorEmitted=!0,d.emit("error",z),D(d,v))}(d,W,z,v,Q);else{var de=m(W);!de&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&h(d,W),z?_(k,d,W,de,Q):k(d,W,de,Q)}}(v,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new X(this)}function J(d){if(R=R||E(23827),!(q.call(J,this)||this instanceof R))return new J(d);this._writableState=new ee(d,this),this.writable=!0,d&&("function"==typeof d.write&&(this._write=d.write),"function"==typeof d.writev&&(this._writev=d.writev),"function"==typeof d.destroy&&(this._destroy=d.destroy),"function"==typeof d.final&&(this._final=d.final)),L.call(this)}function se(d,v,W,z,Q,de,xe){v.writelen=z,v.writecb=xe,v.writing=!0,v.sync=!0,W?d._writev(Q,v.onwrite):d._write(Q,de,v.onwrite),v.sync=!1}function k(d,v,W,z){W||function l(d,v){0===v.length&&v.needDrain&&(v.needDrain=!1,d.emit("drain"))}(d,v),v.pendingcb--,z(),D(d,v)}function h(d,v){v.bufferProcessing=!0;var W=v.bufferedRequest;if(d._writev&&W&&W.next){var Q=new Array(v.bufferedRequestCount),de=v.corkedRequestsFree;de.entry=W;for(var xe=0,Ie=!0;W;)Q[xe]=W,W.isBuf||(Ie=!1),W=W.next,xe+=1;Q.allBuffers=Ie,se(d,v,!0,v.length,Q,"",de.finish),v.pendingcb++,v.lastBufferedRequest=null,de.next?(v.corkedRequestsFree=de.next,de.next=null):v.corkedRequestsFree=new X(v),v.bufferedRequestCount=0}else{for(;W;){var Le=W.chunk;if(se(d,v,!1,v.objectMode?1:Le.length,Le,W.encoding,W.callback),W=W.next,v.bufferedRequestCount--,v.writing)break}null===W&&(v.lastBufferedRequest=null)}v.bufferedRequest=W,v.bufferProcessing=!1}function m(d){return d.ending&&0===d.length&&null===d.bufferedRequest&&!d.finished&&!d.writing}function p(d,v){d._final(function(W){v.pendingcb--,W&&d.emit("error",W),v.prefinished=!0,d.emit("prefinish"),D(d,v)})}function D(d,v){var W=m(v);return W&&(function x(d,v){!v.prefinished&&!v.finalCalled&&("function"==typeof d._final?(v.pendingcb++,v.finalCalled=!0,w.nextTick(p,d,v)):(v.prefinished=!0,d.emit("prefinish")))}(d,v),0===v.pendingcb&&(v.finished=!0,d.emit("finish"))),W}A.inherits(J,L),ee.prototype.getBuffer=function(){for(var v=this.bufferedRequest,W=[];v;)W.push(v),v=v.next;return W},function(){try{Object.defineProperty(ee.prototype,"buffer",{get:N.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(d){return!!q.call(this,d)||this===J&&d&&d._writableState instanceof ee}})):q=function(d){return d instanceof this},J.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},J.prototype.write=function(d,v,W){var z=this._writableState,Q=!1,de=!z.objectMode&&function j(d){return F.isBuffer(d)||d instanceof C}(d);return de&&!F.isBuffer(d)&&(d=function Y(d){return F.from(d)}(d)),"function"==typeof v&&(W=v,v=null),de?v="buffer":v||(v=z.defaultEncoding),"function"!=typeof W&&(W=te),z.ended?function ne(d,v){var W=new Error("write after end");d.emit("error",W),w.nextTick(v,W)}(this,W):(de||function ie(d,v,W,z){var Q=!0,de=!1;return null===W?de=new TypeError("May not write null values to stream"):"string"!=typeof W&&void 0!==W&&!v.objectMode&&(de=new TypeError("Invalid non-string/buffer chunk")),de&&(d.emit("error",de),w.nextTick(z,de),Q=!1),Q}(this,z,d,W))&&(z.pendingcb++,Q=function ce(d,v,W,z,Q,de){if(!W){var xe=function re(d,v,W){return!d.objectMode&&!1!==d.decodeStrings&&"string"==typeof v&&(v=F.from(v,W)),v}(v,z,Q);z!==xe&&(W=!0,Q="buffer",z=xe)}var Ie=v.objectMode?1:z.length;v.length+=Ie;var Le=v.length<v.highWaterMark;if(Le||(v.needDrain=!0),v.writing||v.corked){var ve=v.lastBufferedRequest;v.lastBufferedRequest={chunk:z,encoding:Q,isBuf:W,callback:de,next:null},ve?ve.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else se(d,v,!1,Ie,z,Q,de);return Le}(this,z,de,d,v,W)),Q},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var d=this._writableState;d.corked&&(d.corked--,!d.writing&&!d.corked&&!d.bufferProcessing&&d.bufferedRequest&&h(this,d))},J.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),J.prototype._write=function(d,v,W){W(new Error("_write() is not implemented"))},J.prototype._writev=null,J.prototype.end=function(d,v,W){var z=this._writableState;"function"==typeof d?(W=d,d=null,v=null):"function"==typeof v&&(W=v,v=null),null!=d&&this.write(d,v),z.corked&&(z.corked=1,this.uncork()),z.ending||function B(d,v,W){v.ending=!0,D(d,v),W&&(v.finished?w.nextTick(W):d.once("finish",W)),v.ended=!0,d.writable=!1}(this,z,W)},Object.defineProperty(J.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(d){this._writableState&&(this._writableState.destroyed=d)}}),J.prototype.destroy=G.destroy,J.prototype._undestroy=G.undestroy,J.prototype._destroy=function(d,v){this.end(),v(d)}},10793:(Ne,V,E)=>{"use strict";var w=E(29783).Buffer,O=E(21638);function X(_,R,A){_.copy(R,A)}Ne.exports=function(){function _(){(function g(_,R){if(!(_ instanceof R))throw new TypeError("Cannot call a class as a function")})(this,_),this.head=null,this.tail=null,this.length=0}return _.prototype.push=function(A){var N={data:A,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length},_.prototype.unshift=function(A){var N={data:A,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length},_.prototype.shift=function(){if(0!==this.length){var A=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,A}},_.prototype.clear=function(){this.head=this.tail=null,this.length=0},_.prototype.join=function(A){if(0===this.length)return"";for(var N=this.head,L=""+N.data;N=N.next;)L+=A+N.data;return L},_.prototype.concat=function(A){if(0===this.length)return w.alloc(0);for(var N=w.allocUnsafe(A>>>0),L=this.head,F=0;L;)X(L.data,N,F),F+=L.data.length,L=L.next;return N},_}(),O&&O.inspect&&O.inspect.custom&&(Ne.exports.prototype[O.inspect.custom]=function(){var _=O.inspect({length:this.length});return this.constructor.name+" "+_})},43357:(Ne,V,E)=>{"use strict";var g=E(9656);function X(_,R){_.emit("error",R)}Ne.exports={destroy:function w(_,R){var A=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(X,this,_)):g.nextTick(X,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(F){!R&&F?A._writableState?A._writableState.errorEmitted||(A._writableState.errorEmitted=!0,g.nextTick(X,A,F)):g.nextTick(X,A,F):R&&R(F)}),this)},undestroy:function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(Ne,V,E)=>{Ne.exports=E(44356).EventEmitter},29783:(Ne,V,E)=>{var g=E(83838),w=g.Buffer;function O(_,R){for(var A in _)R[A]=_[A]}function X(_,R,A){return w(_,R,A)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?Ne.exports=g:(O(g,V),V.Buffer=X),O(w,X),X.from=function(_,R,A){if("number"==typeof _)throw new TypeError("Argument must not be a number");return w(_,R,A)},X.alloc=function(_,R,A){if("number"!=typeof _)throw new TypeError("Argument must be a number");var N=w(_);return void 0!==R?"string"==typeof A?N.fill(R,A):N.fill(R):N.fill(0),N},X.allocUnsafe=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return w(_)},X.allocUnsafeSlow=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return g.SlowBuffer(_)}},64670:(Ne,V,E)=>{(V=Ne.exports=E(81217)).Stream=V,V.Readable=V,V.Writable=E(14817),V.Duplex=E(23827),V.Transform=E(93045),V.PassThrough=E(75519)},49937:(Ne,V,E)=>{"use strict";var g=E(37656).Buffer,w=g.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _(J){var ne;switch(this.encoding=function X(J){var ne=function O(J){if(!J)return"utf8";for(var ne;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(ne)return;J=(""+J).toLowerCase(),ne=!0}}(J);if("string"!=typeof ne&&(g.isEncoding===w||!w(J)))throw new Error("Unknown encoding: "+J);return ne||J}(J),this.encoding){case"utf16le":this.text=Y,this.end=j,ne=4;break;case"utf8":this.fillLast=L,ne=4;break;case"base64":this.text=G,this.end=te,ne=3;break;default:return this.write=ee,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(ne)}function R(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function L(J){var ne=this.lastTotal-this.lastNeed,ie=function N(J,ne,ie){if(128!=(192&ne[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&ne.length>1){if(128!=(192&ne[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&ne.length>2&&128!=(192&ne[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==ie?ie:this.lastNeed<=J.length?(J.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,ne,0,J.length),void(this.lastNeed-=J.length))}function Y(J,ne){if((J.length-ne)%2==0){var ie=J.toString("utf16le",ne);if(ie){var re=ie.charCodeAt(ie.length-1);if(re>=55296&&re<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",ne,J.length-1)}function j(J){var ne=J&&J.length?this.write(J):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function G(J,ne){var ie=(J.length-ne)%3;return 0===ie?J.toString("base64",ne):(this.lastNeed=3-ie,this.lastTotal=3,1===ie?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",ne,J.length-ie))}function te(J){var ne=J&&J.length?this.write(J):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function ee(J){return J.toString(this.encoding)}function q(J){return J&&J.length?this.write(J):""}V.I=_,_.prototype.write=function(J){if(0===J.length)return"";var ne,ie;if(this.lastNeed){if(void 0===(ne=this.fillLast(J)))return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<J.length?ne?ne+this.text(J,ie):this.text(J,ie):ne||""},_.prototype.end=function C(J){var ne=J&&J.length?this.write(J):"";return this.lastNeed?ne+"\ufffd":ne},_.prototype.text=function F(J,ne){var ie=function A(J,ne,ie){var re=ne.length-1;if(re<ie)return 0;var ce=R(ne[re]);return ce>=0?(ce>0&&(J.lastNeed=ce-1),ce):--re<ie||-2===ce?0:(ce=R(ne[re]))>=0?(ce>0&&(J.lastNeed=ce-2),ce):--re<ie||-2===ce?0:(ce=R(ne[re]))>=0?(ce>0&&(2===ce?ce=0:J.lastNeed=ce-3),ce):0}(this,J,ne);if(!this.lastNeed)return J.toString("utf8",ne);this.lastTotal=ie;var re=J.length-(ie-this.lastNeed);return J.copy(this.lastChar,0,re),J.toString("utf8",ne,re)},_.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},37656:(Ne,V,E)=>{var g=E(83838),w=g.Buffer;function O(_,R){for(var A in _)R[A]=_[A]}function X(_,R,A){return w(_,R,A)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?Ne.exports=g:(O(g,V),V.Buffer=X),O(w,X),X.from=function(_,R,A){if("number"==typeof _)throw new TypeError("Argument must not be a number");return w(_,R,A)},X.alloc=function(_,R,A){if("number"!=typeof _)throw new TypeError("Argument must be a number");var N=w(_);return void 0!==R?"string"==typeof A?N.fill(R,A):N.fill(R):N.fill(0),N},X.allocUnsafe=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return w(_)},X.allocUnsafeSlow=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return g.SlowBuffer(_)}},13546:Ne=>{Ne.exports=function(E,g){for(var w=Math.min(E.length,g.length),O=new Buffer(w),X=0;X<w;++X)O[X]=E[X]^g[X];return O}},83838:(Ne,V,E)=>{"use strict";var g=E(13981),w=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=A,V.SlowBuffer=function J(ae){return+ae!=ae&&(ae=0),A.alloc(+ae)},V.INSPECT_MAX_BYTES=50;var X=2147483647;function R(ae){if(ae>X)throw new RangeError('The value "'+ae+'" is invalid for option "size"');var ue=new Uint8Array(ae);return Object.setPrototypeOf(ue,A.prototype),ue}function A(ae,ue,ge){if("number"==typeof ae){if("string"==typeof ue)throw new TypeError('The "string" argument must be of type string. Received type number');return C(ae)}return N(ae,ue,ge)}function N(ae,ue,ge){if("string"==typeof ae)return function Y(ae,ue){if(("string"!=typeof ue||""===ue)&&(ue="utf8"),!A.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var ge=0|ne(ae,ue),Ae=R(ge),Ue=Ae.write(ae,ue);return Ue!==ge&&(Ae=Ae.slice(0,Ue)),Ae}(ae,ue);if(ArrayBuffer.isView(ae))return function G(ae){if(Ee(ae,Uint8Array)){var ue=new Uint8Array(ae);return te(ue.buffer,ue.byteOffset,ue.byteLength)}return j(ae)}(ae);if(null==ae)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(Ee(ae,ArrayBuffer)||ae&&Ee(ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(ae,SharedArrayBuffer)||ae&&Ee(ae.buffer,SharedArrayBuffer)))return te(ae,ue,ge);if("number"==typeof ae)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ae=ae.valueOf&&ae.valueOf();if(null!=Ae&&Ae!==ae)return A.from(Ae,ue,ge);var Ue=function ee(ae){if(A.isBuffer(ae)){var ue=0|q(ae.length),ge=R(ue);return 0===ge.length||ae.copy(ge,0,0,ue),ge}return void 0!==ae.length?"number"!=typeof ae.length||fe(ae.length)?R(0):j(ae):"Buffer"===ae.type&&Array.isArray(ae.data)?j(ae.data):void 0}(ae);if(Ue)return Ue;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ae[Symbol.toPrimitive])return A.from(ae[Symbol.toPrimitive]("string"),ue,ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}function L(ae){if("number"!=typeof ae)throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function C(ae){return L(ae),R(ae<0?0:0|q(ae))}function j(ae){for(var ue=ae.length<0?0:0|q(ae.length),ge=R(ue),Ae=0;Ae<ue;Ae+=1)ge[Ae]=255&ae[Ae];return ge}function te(ae,ue,ge){if(ue<0||ae.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<ue+(ge||0))throw new RangeError('"length" is outside of buffer bounds');var Ae;return Ae=void 0===ue&&void 0===ge?new Uint8Array(ae):void 0===ge?new Uint8Array(ae,ue):new Uint8Array(ae,ue,ge),Object.setPrototypeOf(Ae,A.prototype),Ae}function q(ae){if(ae>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|ae}function ne(ae,ue){if(A.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||Ee(ae,ArrayBuffer))return ae.byteLength;if("string"!=typeof ae)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);var ge=ae.length,Ae=arguments.length>2&&!0===arguments[2];if(!Ae&&0===ge)return 0;for(var Ue=!1;;)switch(ue){case"ascii":case"latin1":case"binary":return ge;case"utf8":case"utf-8":return Le(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ge;case"hex":return ge>>>1;case"base64":return ke(ae).length;default:if(Ue)return Ae?-1:Le(ae).length;ue=(""+ue).toLowerCase(),Ue=!0}}function ie(ae,ue,ge){var Ae=!1;if((void 0===ue||ue<0)&&(ue=0),ue>this.length||((void 0===ge||ge>this.length)&&(ge=this.length),ge<=0)||(ge>>>=0)<=(ue>>>=0))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return M(this,ue,ge);case"utf8":case"utf-8":return m(this,ue,ge);case"ascii":return D(this,ue,ge);case"latin1":case"binary":return B(this,ue,ge);case"base64":return h(this,ue,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,ue,ge);default:if(Ae)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),Ae=!0}}function re(ae,ue,ge){var Ae=ae[ue];ae[ue]=ae[ge],ae[ge]=Ae}function ce(ae,ue,ge,Ae,Ue){if(0===ae.length)return-1;if("string"==typeof ge?(Ae=ge,ge=0):ge>2147483647?ge=2147483647:ge<-2147483648&&(ge=-2147483648),fe(ge=+ge)&&(ge=Ue?0:ae.length-1),ge<0&&(ge=ae.length+ge),ge>=ae.length){if(Ue)return-1;ge=ae.length-1}else if(ge<0){if(!Ue)return-1;ge=0}if("string"==typeof ue&&(ue=A.from(ue,Ae)),A.isBuffer(ue))return 0===ue.length?-1:se(ae,ue,ge,Ae,Ue);if("number"==typeof ue)return ue&=255,"function"==typeof Uint8Array.prototype.indexOf?Ue?Uint8Array.prototype.indexOf.call(ae,ue,ge):Uint8Array.prototype.lastIndexOf.call(ae,ue,ge):se(ae,[ue],ge,Ae,Ue);throw new TypeError("val must be string, number or Buffer")}function se(ae,ue,ge,Ae,Ue){var je,Ve=1,ze=ae.length,It=ue.length;if(void 0!==Ae&&("ucs2"===(Ae=String(Ae).toLowerCase())||"ucs-2"===Ae||"utf16le"===Ae||"utf-16le"===Ae)){if(ae.length<2||ue.length<2)return-1;Ve=2,ze/=2,It/=2,ge/=2}function qe(S,Z){return 1===Ve?S[Z]:S.readUInt16BE(Z*Ve)}if(Ue){var ut=-1;for(je=ge;je<ze;je++)if(qe(ae,je)===qe(ue,-1===ut?0:je-ut)){if(-1===ut&&(ut=je),je-ut+1===It)return ut*Ve}else-1!==ut&&(je-=je-ut),ut=-1}else for(ge+It>ze&&(ge=ze-It),je=ge;je>=0;je--){for(var $=!0,T=0;T<It;T++)if(qe(ae,je+T)!==qe(ue,T)){$=!1;break}if($)return je}return-1}function pe(ae,ue,ge,Ae){ge=Number(ge)||0;var Ue=ae.length-ge;Ae?(Ae=Number(Ae))>Ue&&(Ae=Ue):Ae=Ue;var Ve=ue.length;Ae>Ve/2&&(Ae=Ve/2);for(var ze=0;ze<Ae;++ze){var It=parseInt(ue.substr(2*ze,2),16);if(fe(It))return ze;ae[ge+ze]=It}return ze}function we(ae,ue,ge,Ae){return me(Le(ue,ae.length-ge),ae,ge,Ae)}function Me(ae,ue,ge,Ae){return me(function ve(ae){for(var ue=[],ge=0;ge<ae.length;++ge)ue.push(255&ae.charCodeAt(ge));return ue}(ue),ae,ge,Ae)}function k(ae,ue,ge,Ae){return me(ke(ue),ae,ge,Ae)}function l(ae,ue,ge,Ae){return me(function ye(ae,ue){for(var ge,Ae,Ve=[],ze=0;ze<ae.length&&!((ue-=2)<0);++ze)Ae=(ge=ae.charCodeAt(ze))>>8,Ve.push(ge%256),Ve.push(Ae);return Ve}(ue,ae.length-ge),ae,ge,Ae)}function h(ae,ue,ge){return g.fromByteArray(0===ue&&ge===ae.length?ae:ae.slice(ue,ge))}function m(ae,ue,ge){ge=Math.min(ae.length,ge);for(var Ae=[],Ue=ue;Ue<ge;){var qe,je,ut,$,Ve=ae[Ue],ze=null,It=Ve>239?4:Ve>223?3:Ve>191?2:1;if(Ue+It<=ge)switch(It){case 1:Ve<128&&(ze=Ve);break;case 2:128==(192&(qe=ae[Ue+1]))&&($=(31&Ve)<<6|63&qe)>127&&(ze=$);break;case 3:je=ae[Ue+2],128==(192&(qe=ae[Ue+1]))&&128==(192&je)&&($=(15&Ve)<<12|(63&qe)<<6|63&je)>2047&&($<55296||$>57343)&&(ze=$);break;case 4:je=ae[Ue+2],ut=ae[Ue+3],128==(192&(qe=ae[Ue+1]))&&128==(192&je)&&128==(192&ut)&&($=(15&Ve)<<18|(63&qe)<<12|(63&je)<<6|63&ut)>65535&&$<1114112&&(ze=$)}null===ze?(ze=65533,It=1):ze>65535&&(Ae.push((ze-=65536)>>>10&1023|55296),ze=56320|1023&ze),Ae.push(ze),Ue+=It}return function x(ae){var ue=ae.length;if(ue<=p)return String.fromCharCode.apply(String,ae);for(var ge="",Ae=0;Ae<ue;)ge+=String.fromCharCode.apply(String,ae.slice(Ae,Ae+=p));return ge}(Ae)}V.kMaxLength=X,!(A.TYPED_ARRAY_SUPPORT=function _(){try{var ae=new Uint8Array(1),ue={foo:function(){return 42}};return Object.setPrototypeOf(ue,Uint8Array.prototype),Object.setPrototypeOf(ae,ue),42===ae.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(ae,ue,ge){return N(ae,ue,ge)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(ae,ue,ge){return function F(ae,ue,ge){return L(ae),ae<=0?R(ae):void 0!==ue?"string"==typeof ge?R(ae).fill(ue,ge):R(ae).fill(ue):R(ae)}(ae,ue,ge)},A.allocUnsafe=function(ae){return C(ae)},A.allocUnsafeSlow=function(ae){return C(ae)},A.isBuffer=function(ue){return null!=ue&&!0===ue._isBuffer&&ue!==A.prototype},A.compare=function(ue,ge){if(Ee(ue,Uint8Array)&&(ue=A.from(ue,ue.offset,ue.byteLength)),Ee(ge,Uint8Array)&&(ge=A.from(ge,ge.offset,ge.byteLength)),!A.isBuffer(ue)||!A.isBuffer(ge))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ue===ge)return 0;for(var Ae=ue.length,Ue=ge.length,Ve=0,ze=Math.min(Ae,Ue);Ve<ze;++Ve)if(ue[Ve]!==ge[Ve]){Ae=ue[Ve],Ue=ge[Ve];break}return Ae<Ue?-1:Ue<Ae?1:0},A.isEncoding=function(ue){switch(String(ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(ue,ge){if(!Array.isArray(ue))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ue.length)return A.alloc(0);var Ae;if(void 0===ge)for(ge=0,Ae=0;Ae<ue.length;++Ae)ge+=ue[Ae].length;var Ue=A.allocUnsafe(ge),Ve=0;for(Ae=0;Ae<ue.length;++Ae){var ze=ue[Ae];if(Ee(ze,Uint8Array))Ve+ze.length>Ue.length?A.from(ze).copy(Ue,Ve):Uint8Array.prototype.set.call(Ue,ze,Ve);else{if(!A.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Ue,Ve)}Ve+=ze.length}return Ue},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var ue=this.length;if(ue%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ge=0;ge<ue;ge+=2)re(this,ge,ge+1);return this},A.prototype.swap32=function(){var ue=this.length;if(ue%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ge=0;ge<ue;ge+=4)re(this,ge,ge+3),re(this,ge+1,ge+2);return this},A.prototype.swap64=function(){var ue=this.length;if(ue%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ge=0;ge<ue;ge+=8)re(this,ge,ge+7),re(this,ge+1,ge+6),re(this,ge+2,ge+5),re(this,ge+3,ge+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){var ue=this.length;return 0===ue?"":0===arguments.length?m(this,0,ue):ie.apply(this,arguments)},A.prototype.equals=function(ue){if(!A.isBuffer(ue))throw new TypeError("Argument must be a Buffer");return this===ue||0===A.compare(this,ue)},A.prototype.inspect=function(){var ue="",ge=V.INSPECT_MAX_BYTES;return ue=this.toString("hex",0,ge).replace(/(.{2})/g,"$1 ").trim(),this.length>ge&&(ue+=" ... "),"<Buffer "+ue+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(ue,ge,Ae,Ue,Ve){if(Ee(ue,Uint8Array)&&(ue=A.from(ue,ue.offset,ue.byteLength)),!A.isBuffer(ue))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ue);if(void 0===ge&&(ge=0),void 0===Ae&&(Ae=ue?ue.length:0),void 0===Ue&&(Ue=0),void 0===Ve&&(Ve=this.length),ge<0||Ae>ue.length||Ue<0||Ve>this.length)throw new RangeError("out of range index");if(Ue>=Ve&&ge>=Ae)return 0;if(Ue>=Ve)return-1;if(ge>=Ae)return 1;if(this===ue)return 0;for(var ze=(Ve>>>=0)-(Ue>>>=0),It=(Ae>>>=0)-(ge>>>=0),qe=Math.min(ze,It),je=this.slice(Ue,Ve),ut=ue.slice(ge,Ae),$=0;$<qe;++$)if(je[$]!==ut[$]){ze=je[$],It=ut[$];break}return ze<It?-1:It<ze?1:0},A.prototype.includes=function(ue,ge,Ae){return-1!==this.indexOf(ue,ge,Ae)},A.prototype.indexOf=function(ue,ge,Ae){return ce(this,ue,ge,Ae,!0)},A.prototype.lastIndexOf=function(ue,ge,Ae){return ce(this,ue,ge,Ae,!1)},A.prototype.write=function(ue,ge,Ae,Ue){if(void 0===ge)Ue="utf8",Ae=this.length,ge=0;else if(void 0===Ae&&"string"==typeof ge)Ue=ge,Ae=this.length,ge=0;else{if(!isFinite(ge))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ge>>>=0,isFinite(Ae)?(Ae>>>=0,void 0===Ue&&(Ue="utf8")):(Ue=Ae,Ae=void 0)}var Ve=this.length-ge;if((void 0===Ae||Ae>Ve)&&(Ae=Ve),ue.length>0&&(Ae<0||ge<0)||ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var ze=!1;;)switch(Ue){case"hex":return pe(this,ue,ge,Ae);case"utf8":case"utf-8":return we(this,ue,ge,Ae);case"ascii":case"latin1":case"binary":return Me(this,ue,ge,Ae);case"base64":return k(this,ue,ge,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,ue,ge,Ae);default:if(ze)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),ze=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var p=4096;function D(ae,ue,ge){var Ae="";ge=Math.min(ae.length,ge);for(var Ue=ue;Ue<ge;++Ue)Ae+=String.fromCharCode(127&ae[Ue]);return Ae}function B(ae,ue,ge){var Ae="";ge=Math.min(ae.length,ge);for(var Ue=ue;Ue<ge;++Ue)Ae+=String.fromCharCode(ae[Ue]);return Ae}function M(ae,ue,ge){var Ae=ae.length;(!ue||ue<0)&&(ue=0),(!ge||ge<0||ge>Ae)&&(ge=Ae);for(var Ue="",Ve=ue;Ve<ge;++Ve)Ue+=he[ae[Ve]];return Ue}function d(ae,ue,ge){for(var Ae=ae.slice(ue,ge),Ue="",Ve=0;Ve<Ae.length-1;Ve+=2)Ue+=String.fromCharCode(Ae[Ve]+256*Ae[Ve+1]);return Ue}function v(ae,ue,ge){if(ae%1!=0||ae<0)throw new RangeError("offset is not uint");if(ae+ue>ge)throw new RangeError("Trying to access beyond buffer length")}function W(ae,ue,ge,Ae,Ue,Ve){if(!A.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue>Ue||ue<Ve)throw new RangeError('"value" argument is out of bounds');if(ge+Ae>ae.length)throw new RangeError("Index out of range")}function z(ae,ue,ge,Ae,Ue,Ve){if(ge+Ae>ae.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("Index out of range")}function Q(ae,ue,ge,Ae,Ue){return ue=+ue,ge>>>=0,Ue||z(ae,0,ge,4),w.write(ae,ue,ge,Ae,23,4),ge+4}function de(ae,ue,ge,Ae,Ue){return ue=+ue,ge>>>=0,Ue||z(ae,0,ge,8),w.write(ae,ue,ge,Ae,52,8),ge+8}A.prototype.slice=function(ue,ge){var Ae=this.length;(ue=~~ue)<0?(ue+=Ae)<0&&(ue=0):ue>Ae&&(ue=Ae),(ge=void 0===ge?Ae:~~ge)<0?(ge+=Ae)<0&&(ge=0):ge>Ae&&(ge=Ae),ge<ue&&(ge=ue);var Ue=this.subarray(ue,ge);return Object.setPrototypeOf(Ue,A.prototype),Ue},A.prototype.readUintLE=A.prototype.readUIntLE=function(ue,ge,Ae){ue>>>=0,ge>>>=0,Ae||v(ue,ge,this.length);for(var Ue=this[ue],Ve=1,ze=0;++ze<ge&&(Ve*=256);)Ue+=this[ue+ze]*Ve;return Ue},A.prototype.readUintBE=A.prototype.readUIntBE=function(ue,ge,Ae){ue>>>=0,ge>>>=0,Ae||v(ue,ge,this.length);for(var Ue=this[ue+--ge],Ve=1;ge>0&&(Ve*=256);)Ue+=this[ue+--ge]*Ve;return Ue},A.prototype.readUint8=A.prototype.readUInt8=function(ue,ge){return ue>>>=0,ge||v(ue,1,this.length),this[ue]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(ue,ge){return ue>>>=0,ge||v(ue,2,this.length),this[ue]|this[ue+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(ue,ge){return ue>>>=0,ge||v(ue,2,this.length),this[ue]<<8|this[ue+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(ue,ge){return ue>>>=0,ge||v(ue,4,this.length),(this[ue]|this[ue+1]<<8|this[ue+2]<<16)+16777216*this[ue+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(ue,ge){return ue>>>=0,ge||v(ue,4,this.length),16777216*this[ue]+(this[ue+1]<<16|this[ue+2]<<8|this[ue+3])},A.prototype.readIntLE=function(ue,ge,Ae){ue>>>=0,ge>>>=0,Ae||v(ue,ge,this.length);for(var Ue=this[ue],Ve=1,ze=0;++ze<ge&&(Ve*=256);)Ue+=this[ue+ze]*Ve;return Ue>=(Ve*=128)&&(Ue-=Math.pow(2,8*ge)),Ue},A.prototype.readIntBE=function(ue,ge,Ae){ue>>>=0,ge>>>=0,Ae||v(ue,ge,this.length);for(var Ue=ge,Ve=1,ze=this[ue+--Ue];Ue>0&&(Ve*=256);)ze+=this[ue+--Ue]*Ve;return ze>=(Ve*=128)&&(ze-=Math.pow(2,8*ge)),ze},A.prototype.readInt8=function(ue,ge){return ue>>>=0,ge||v(ue,1,this.length),128&this[ue]?-1*(255-this[ue]+1):this[ue]},A.prototype.readInt16LE=function(ue,ge){ue>>>=0,ge||v(ue,2,this.length);var Ae=this[ue]|this[ue+1]<<8;return 32768&Ae?4294901760|Ae:Ae},A.prototype.readInt16BE=function(ue,ge){ue>>>=0,ge||v(ue,2,this.length);var Ae=this[ue+1]|this[ue]<<8;return 32768&Ae?4294901760|Ae:Ae},A.prototype.readInt32LE=function(ue,ge){return ue>>>=0,ge||v(ue,4,this.length),this[ue]|this[ue+1]<<8|this[ue+2]<<16|this[ue+3]<<24},A.prototype.readInt32BE=function(ue,ge){return ue>>>=0,ge||v(ue,4,this.length),this[ue]<<24|this[ue+1]<<16|this[ue+2]<<8|this[ue+3]},A.prototype.readFloatLE=function(ue,ge){return ue>>>=0,ge||v(ue,4,this.length),w.read(this,ue,!0,23,4)},A.prototype.readFloatBE=function(ue,ge){return ue>>>=0,ge||v(ue,4,this.length),w.read(this,ue,!1,23,4)},A.prototype.readDoubleLE=function(ue,ge){return ue>>>=0,ge||v(ue,8,this.length),w.read(this,ue,!0,52,8)},A.prototype.readDoubleBE=function(ue,ge){return ue>>>=0,ge||v(ue,8,this.length),w.read(this,ue,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(ue,ge,Ae,Ue){ue=+ue,ge>>>=0,Ae>>>=0,Ue||W(this,ue,ge,Ae,Math.pow(2,8*Ae)-1,0);var ze=1,It=0;for(this[ge]=255&ue;++It<Ae&&(ze*=256);)this[ge+It]=ue/ze&255;return ge+Ae},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(ue,ge,Ae,Ue){ue=+ue,ge>>>=0,Ae>>>=0,Ue||W(this,ue,ge,Ae,Math.pow(2,8*Ae)-1,0);var ze=Ae-1,It=1;for(this[ge+ze]=255&ue;--ze>=0&&(It*=256);)this[ge+ze]=ue/It&255;return ge+Ae},A.prototype.writeUint8=A.prototype.writeUInt8=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,1,255,0),this[ge]=255&ue,ge+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,2,65535,0),this[ge]=255&ue,this[ge+1]=ue>>>8,ge+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,2,65535,0),this[ge]=ue>>>8,this[ge+1]=255&ue,ge+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,4,4294967295,0),this[ge+3]=ue>>>24,this[ge+2]=ue>>>16,this[ge+1]=ue>>>8,this[ge]=255&ue,ge+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,4,4294967295,0),this[ge]=ue>>>24,this[ge+1]=ue>>>16,this[ge+2]=ue>>>8,this[ge+3]=255&ue,ge+4},A.prototype.writeIntLE=function(ue,ge,Ae,Ue){if(ue=+ue,ge>>>=0,!Ue){var Ve=Math.pow(2,8*Ae-1);W(this,ue,ge,Ae,Ve-1,-Ve)}var ze=0,It=1,qe=0;for(this[ge]=255&ue;++ze<Ae&&(It*=256);)ue<0&&0===qe&&0!==this[ge+ze-1]&&(qe=1),this[ge+ze]=(ue/It|0)-qe&255;return ge+Ae},A.prototype.writeIntBE=function(ue,ge,Ae,Ue){if(ue=+ue,ge>>>=0,!Ue){var Ve=Math.pow(2,8*Ae-1);W(this,ue,ge,Ae,Ve-1,-Ve)}var ze=Ae-1,It=1,qe=0;for(this[ge+ze]=255&ue;--ze>=0&&(It*=256);)ue<0&&0===qe&&0!==this[ge+ze+1]&&(qe=1),this[ge+ze]=(ue/It|0)-qe&255;return ge+Ae},A.prototype.writeInt8=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,1,127,-128),ue<0&&(ue=255+ue+1),this[ge]=255&ue,ge+1},A.prototype.writeInt16LE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,2,32767,-32768),this[ge]=255&ue,this[ge+1]=ue>>>8,ge+2},A.prototype.writeInt16BE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,2,32767,-32768),this[ge]=ue>>>8,this[ge+1]=255&ue,ge+2},A.prototype.writeInt32LE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,4,2147483647,-2147483648),this[ge]=255&ue,this[ge+1]=ue>>>8,this[ge+2]=ue>>>16,this[ge+3]=ue>>>24,ge+4},A.prototype.writeInt32BE=function(ue,ge,Ae){return ue=+ue,ge>>>=0,Ae||W(this,ue,ge,4,2147483647,-2147483648),ue<0&&(ue=4294967295+ue+1),this[ge]=ue>>>24,this[ge+1]=ue>>>16,this[ge+2]=ue>>>8,this[ge+3]=255&ue,ge+4},A.prototype.writeFloatLE=function(ue,ge,Ae){return Q(this,ue,ge,!0,Ae)},A.prototype.writeFloatBE=function(ue,ge,Ae){return Q(this,ue,ge,!1,Ae)},A.prototype.writeDoubleLE=function(ue,ge,Ae){return de(this,ue,ge,!0,Ae)},A.prototype.writeDoubleBE=function(ue,ge,Ae){return de(this,ue,ge,!1,Ae)},A.prototype.copy=function(ue,ge,Ae,Ue){if(!A.isBuffer(ue))throw new TypeError("argument should be a Buffer");if(Ae||(Ae=0),!Ue&&0!==Ue&&(Ue=this.length),ge>=ue.length&&(ge=ue.length),ge||(ge=0),Ue>0&&Ue<Ae&&(Ue=Ae),Ue===Ae||0===ue.length||0===this.length)return 0;if(ge<0)throw new RangeError("targetStart out of bounds");if(Ae<0||Ae>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),ue.length-ge<Ue-Ae&&(Ue=ue.length-ge+Ae);var Ve=Ue-Ae;return this===ue&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ge,Ae,Ue):Uint8Array.prototype.set.call(ue,this.subarray(Ae,Ue),ge),Ve},A.prototype.fill=function(ue,ge,Ae,Ue){if("string"==typeof ue){if("string"==typeof ge?(Ue=ge,ge=0,Ae=this.length):"string"==typeof Ae&&(Ue=Ae,Ae=this.length),void 0!==Ue&&"string"!=typeof Ue)throw new TypeError("encoding must be a string");if("string"==typeof Ue&&!A.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(1===ue.length){var Ve=ue.charCodeAt(0);("utf8"===Ue&&Ve<128||"latin1"===Ue)&&(ue=Ve)}}else"number"==typeof ue?ue&=255:"boolean"==typeof ue&&(ue=Number(ue));if(ge<0||this.length<ge||this.length<Ae)throw new RangeError("Out of range index");if(Ae<=ge)return this;var ze;if(ge>>>=0,Ae=void 0===Ae?this.length:Ae>>>0,ue||(ue=0),"number"==typeof ue)for(ze=ge;ze<Ae;++ze)this[ze]=ue;else{var It=A.isBuffer(ue)?ue:A.from(ue,Ue),qe=It.length;if(0===qe)throw new TypeError('The value "'+ue+'" is invalid for argument "value"');for(ze=0;ze<Ae-ge;++ze)this[ze+ge]=It[ze%qe]}return this};var xe=/[^+/0-9A-Za-z-_]/g;function Le(ae,ue){ue=ue||1/0;for(var ge,Ae=ae.length,Ue=null,Ve=[],ze=0;ze<Ae;++ze){if((ge=ae.charCodeAt(ze))>55295&&ge<57344){if(!Ue){if(ge>56319){(ue-=3)>-1&&Ve.push(239,191,189);continue}if(ze+1===Ae){(ue-=3)>-1&&Ve.push(239,191,189);continue}Ue=ge;continue}if(ge<56320){(ue-=3)>-1&&Ve.push(239,191,189),Ue=ge;continue}ge=65536+(Ue-55296<<10|ge-56320)}else Ue&&(ue-=3)>-1&&Ve.push(239,191,189);if(Ue=null,ge<128){if((ue-=1)<0)break;Ve.push(ge)}else if(ge<2048){if((ue-=2)<0)break;Ve.push(ge>>6|192,63&ge|128)}else if(ge<65536){if((ue-=3)<0)break;Ve.push(ge>>12|224,ge>>6&63|128,63&ge|128)}else{if(!(ge<1114112))throw new Error("Invalid code point");if((ue-=4)<0)break;Ve.push(ge>>18|240,ge>>12&63|128,ge>>6&63|128,63&ge|128)}}return Ve}function ke(ae){return g.toByteArray(function Ie(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(xe,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(ae))}function me(ae,ue,ge,Ae){for(var Ue=0;Ue<Ae&&!(Ue+ge>=ue.length||Ue>=ae.length);++Ue)ue[Ue+ge]=ae[Ue];return Ue}function Ee(ae,ue){return ae instanceof ue||null!=ae&&null!=ae.constructor&&null!=ae.constructor.name&&ae.constructor.name===ue.name}function fe(ae){return ae!=ae}var he=function(){for(var ae="0123456789abcdef",ue=new Array(256),ge=0;ge<16;++ge)for(var Ae=16*ge,Ue=0;Ue<16;++Ue)ue[Ae+Ue]=ae[ge]+ae[Ue];return ue}()},28846:Ne=>{"use strict";Ne.exports=function V(E){if("number"==typeof E&&isNaN(E))throw new Error("NaN is not allowed");if("number"==typeof E&&!isFinite(E))throw new Error("Infinity is not allowed");return null===E||"object"!=typeof E?JSON.stringify(E):E.toJSON instanceof Function?V(E.toJSON()):Array.isArray(E)?`[${E.reduce((O,X,_)=>`${O}${0===_?"":","}${V(void 0===X||"symbol"==typeof X?null:X)}`,"")}]`:`{${Object.keys(E).sort().reduce((w,O)=>void 0===E[O]||"symbol"==typeof E[O]?w:`${w}${0===w.length?"":","}${V(O)}:${V(E[O])}`,"")}}`}},42381:(Ne,V,E)=>{"use strict";var g=E(78341);V.fromCallback=function(w,O){if(void 0===w){var X=new Promise(function(_,R){w=function(A,N){A?R(A):_(N)}});w[void 0!==O?O:"promise"]=X}else if("function"!=typeof w)throw new TypeError("Callback must be a function");return w},V.fromPromise=function(w,O){if(void 0===O)return w;w.then(function(X){g(()=>O(null,X))}).catch(function(X){g(()=>O(X))})}},78341:Ne=>{Ne.exports="function"==typeof queueMicrotask?queueMicrotask:V=>Promise.resolve().then(V)},3247:(Ne,V,E)=>{var g=E(27054).Buffer,w=E(7045).Transform,O=E(78454).StringDecoder;function _(R){w.call(this),this.hashMode="string"==typeof R,this.hashMode?this[R]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E(71993)(_,w),_.prototype.update=function(R,A,N){"string"==typeof R&&(R=g.from(R,A));var L=this._update(R);return this.hashMode?this:(N&&(L=this._toString(L,N)),L)},_.prototype.setAutoPadding=function(){},_.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},_.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},_.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},_.prototype._transform=function(R,A,N){var L;try{this.hashMode?this._update(R):this.push(this._update(R))}catch(F){L=F}finally{N(L)}},_.prototype._flush=function(R){var A;try{this.push(this.__final())}catch(N){A=N}R(A)},_.prototype._finalOrDigest=function(R){var A=this.__final()||g.alloc(0);return R&&(A=this._toString(A,R,!0)),A},_.prototype._toString=function(R,A,N){if(this._decoder||(this._decoder=new O(A),this._encoding=A),this._encoding!==A)throw new Error("can't switch encodings");var L=this._decoder.write(R);return N&&(L+=this._decoder.end()),L},Ne.exports=_},27637:(Ne,V,E)=>{function te(ee){return Object.prototype.toString.call(ee)}V.isArray=function g(ee){return Array.isArray?Array.isArray(ee):"[object Array]"===te(ee)},V.isBoolean=function w(ee){return"boolean"==typeof ee},V.isNull=function O(ee){return null===ee},V.isNullOrUndefined=function X(ee){return null==ee},V.isNumber=function _(ee){return"number"==typeof ee},V.isString=function R(ee){return"string"==typeof ee},V.isSymbol=function A(ee){return"symbol"==typeof ee},V.isUndefined=function N(ee){return void 0===ee},V.isRegExp=function L(ee){return"[object RegExp]"===te(ee)},V.isObject=function F(ee){return"object"==typeof ee&&null!==ee},V.isDate=function C(ee){return"[object Date]"===te(ee)},V.isError=function Y(ee){return"[object Error]"===te(ee)||ee instanceof Error},V.isFunction=function j(ee){return"function"==typeof ee},V.isPrimitive=function G(ee){return null===ee||"boolean"==typeof ee||"number"==typeof ee||"string"==typeof ee||"symbol"==typeof ee||typeof ee>"u"},V.isBuffer=E(83838).Buffer.isBuffer},87303:(Ne,V,E)=>{var g=E(90518),w=E(89606);Ne.exports=function(A){return new X(A)};var O={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function X(R){this.curveType=O[R],this.curveType||(this.curveType={name:R}),this.curve=new g.ec(this.curveType.name),this.keys=void 0}function _(R,A,N){Array.isArray(R)||(R=R.toArray());var L=new Buffer(R);if(N&&L.length<N){var F=new Buffer(N-L.length);F.fill(0),L=Buffer.concat([F,L])}return A?L.toString(A):L}O.p224=O.secp224r1,O.p256=O.secp256r1=O.prime256v1,O.p192=O.secp192r1=O.prime192v1,O.p384=O.secp384r1,O.p521=O.secp521r1,X.prototype.generateKeys=function(R,A){return this.keys=this.curve.genKeyPair(),this.getPublicKey(R,A)},X.prototype.computeSecret=function(R,A,N){return A=A||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,A)),_(this.curve.keyFromPublic(R).getPublic().mul(this.keys.getPrivate()).getX(),N,this.curveType.byteLength)},X.prototype.getPublicKey=function(R,A){var N=this.keys.getPublic("compressed"===A,!0);return"hybrid"===A&&(N[0]=N[N.length-1]%2?7:6),_(N,R)},X.prototype.getPrivateKey=function(R){return _(this.keys.getPrivate(),R)},X.prototype.setPublicKey=function(R,A){return A=A||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,A)),this.keys._importPublic(R),this},X.prototype.setPrivateKey=function(R,A){A=A||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,A));var N=new w(R);return N=N.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(N),this}},89606:function(Ne,V,E){!function(g,w){"use strict";function O(k,l){if(!k)throw new Error(l||"Assertion failed")}function X(k,l){k.super_=l;var h=function(){};h.prototype=l.prototype,k.prototype=new h,k.prototype.constructor=k}function _(k,l,h){if(_.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===l||"be"===l)&&(h=l,l=10),this._init(k||0,l||10,h||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(77965).Buffer}catch{}function A(k,l){var h=k.charCodeAt(l);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,l,h){var m=A(k,h);return h-1>=l&&(m|=A(k,h-1)<<4),m}function L(k,l,h,m){for(var p=0,x=Math.min(k.length,h),D=l;D<x;D++){var B=k.charCodeAt(D)-48;p*=m,p+=B>=49?B-49+10:B>=17?B-17+10:B}return p}_.isBN=function(l){return l instanceof _||null!==l&&"object"==typeof l&&l.constructor.wordSize===_.wordSize&&Array.isArray(l.words)},_.max=function(l,h){return l.cmp(h)>0?l:h},_.min=function(l,h){return l.cmp(h)<0?l:h},_.prototype._init=function(l,h,m){if("number"==typeof l)return this._initNumber(l,h,m);if("object"==typeof l)return this._initArray(l,h,m);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var p=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<l.length&&(16===h?this._parseHex(l,p,m):(this._parseBase(l,h,p),"le"===m&&this._initArray(this.toArray(),h,m)))},_.prototype._initNumber=function(l,h,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(O(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),h,m)},_.prototype._initArray=function(l,h,m){if(O("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,D,B=0;if("be"===m)for(p=l.length-1,x=0;p>=0;p-=3)this.words[x]|=(D=l[p]|l[p-1]<<8|l[p-2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);else if("le"===m)for(p=0,x=0;p<l.length;p+=3)this.words[x]|=(D=l[p]|l[p+1]<<8|l[p+2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);return this.strip()},_.prototype._parseHex=function(l,h,m){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var B,x=0,D=0;if("be"===m)for(p=l.length-1;p>=h;p-=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;else for(p=(l.length-h)%2==0?h+1:h;p<l.length;p+=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;this.strip()},_.prototype._parseBase=function(l,h,m){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=h)p++;p--,x=x/h|0;for(var D=l.length-m,B=D%p,M=Math.min(D,D-B)+m,d=0,v=m;v<M;v+=p)d=L(l,v,v+p,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==B){var W=1;for(d=L(l,v,l.length,h),v=0;v<B;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},_.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red},_.prototype.clone=function(){var l=new _(null);return this.copy(l),l},_.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},_.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},_.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(k,l,h){h.negative=l.negative^k.negative;var m=k.length+l.length|0;h.length=m,m=m-1|0;var p=0|k.words[0],x=0|l.words[0],D=p*x,M=D/67108864|0;h.words[0]=67108863&D;for(var d=1;d<m;d++){for(var v=M>>>26,W=67108863&M,z=Math.min(d,l.length-1),Q=Math.max(0,d-k.length+1);Q<=z;Q++)v+=(D=(p=0|k.words[d-Q|0])*(x=0|l.words[Q])+W)/67108864|0,W=67108863&D;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}_.prototype.toString=function(l,h){var m;if(h=0|h||1,16===(l=l||10)||"hex"===l){m="";for(var p=0,x=0,D=0;D<this.length;D++){var B=this.words[D],M=(16777215&(B<<p|x)).toString(16);m=0!=(x=B>>>24-p&16777215)||D!==this.length-1?F[6-M.length]+M+m:M+m,(p+=2)>=26&&(p-=26,D--)}for(0!==x&&(m=x.toString(16)+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(l===(0|l)&&l>=2&&l<=36){var d=C[l],v=Y[l];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var z=W.modn(v).toString(l);m=(W=W.idivn(v)).isZero()?z+m:F[d-z.length]+z+m}for(this.isZero()&&(m="0"+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},_.prototype.toJSON=function(){return this.toString(16)},_.prototype.toBuffer=function(l,h){return O(typeof R<"u"),this.toArrayLike(R,l,h)},_.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)},_.prototype.toArrayLike=function(l,h,m){var p=this.byteLength(),x=m||Math.max(1,p);O(p<=x,"byte array longer than desired length"),O(x>0,"Requested array length <= 0"),this.strip();var M,d,D="le"===h,B=new l(x),v=this.clone();if(D){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[d]=M;for(;d<x;d++)B[d]=0}else{for(d=0;d<x-p;d++)B[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[x-d-1]=M}return B},_.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var h=l,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},_.prototype._zeroBits=function(l){if(0===l)return 26;var h=l,m=0;return 8191&h||(m+=13,h>>>=13),127&h||(m+=7,h>>>=7),15&h||(m+=4,h>>>=4),3&h||(m+=2,h>>>=2),1&h||m++,m},_.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(l+=m,26!==m)break}return l},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},_.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this.strip()},_.prototype.ior=function(l){return O(!(this.negative|l.negative)),this.iuor(l)},_.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},_.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},_.prototype.iuand=function(l){var h;h=this.length>l.length?l:this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=h.length,this.strip()},_.prototype.iand=function(l){return O(!(this.negative|l.negative)),this.iuand(l)},_.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},_.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},_.prototype.iuxor=function(l){var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var p=0;p<m.length;p++)this.words[p]=h.words[p]^m.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},_.prototype.ixor=function(l){return O(!(this.negative|l.negative)),this.iuxor(l)},_.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},_.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},_.prototype.inotn=function(l){O("number"==typeof l&&l>=0);var h=0|Math.ceil(l/26),m=l%26;this._expand(h),m>0&&h--;for(var p=0;p<h;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},_.prototype.notn=function(l){return this.clone().inotn(l)},_.prototype.setn=function(l,h){O("number"==typeof l&&l>=0);var m=l/26|0,p=l%26;return this._expand(m+1),this.words[m]=h?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},_.prototype.iadd=function(l){var h,m,p;if(0!==this.negative&&0===l.negative)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();this.length>l.length?(m=this,p=l):(m=l,p=this);for(var x=0,D=0;D<p.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+(0|p.words[D])+x),x=h>>>26;for(;0!==x&&D<m.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+x),x=h>>>26;if(this.length=m.length,0!==x)this.words[this.length]=x,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},_.prototype.add=function(l){var h;return 0!==l.negative&&0===this.negative?(l.negative=0,h=this.sub(l),l.negative^=1,h):0===l.negative&&0!==this.negative?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},_.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p,x,m=this.cmp(l);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,x=l):(p=l,x=this);for(var D=0,B=0;B<x.length;B++)D=(h=(0|p.words[B])-(0|x.words[B])+D)>>26,this.words[B]=67108863&h;for(;0!==D&&B<p.length;B++)D=(h=(0|p.words[B])+D)>>26,this.words[B]=67108863&h;if(0===D&&B<p.length&&p!==this)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=Math.max(this.length,B),p!==this&&(this.negative=1),this.strip()},_.prototype.sub=function(l){return this.clone().isub(l)};var te=function(l,h,m){var M,d,v,p=l.words,x=h.words,D=m.words,B=0,W=0|p[0],z=8191&W,Q=W>>>13,de=0|p[1],xe=8191&de,Ie=de>>>13,Le=0|p[2],ve=8191&Le,ye=Le>>>13,ke=0|p[3],me=8191&ke,Ee=ke>>>13,fe=0|p[4],he=8191&fe,ae=fe>>>13,ue=0|p[5],ge=8191&ue,Ae=ue>>>13,Ue=0|p[6],Ve=8191&Ue,ze=Ue>>>13,It=0|p[7],qe=8191&It,je=It>>>13,ut=0|p[8],$=8191&ut,T=ut>>>13,S=0|p[9],Z=8191&S,le=S>>>13,De=0|x[0],Oe=8191&De,Qe=De>>>13,Nt=0|x[1],ft=8191&Nt,St=Nt>>>13,Lt=0|x[2],Gt=8191&Lt,Vt=Lt>>>13,zn=0|x[3],cn=8191&zn,Bt=zn>>>13,Dt=0|x[4],nt=8191&Dt,Ye=Dt>>>13,At=0|x[5],kt=8191&At,$t=At>>>13,Bn=0|x[6],et=8191&Bn,it=Bn>>>13,ot=0|x[7],He=8191&ot,ht=ot>>>13,sn=0|x[8],Kt=8191&sn,rn=sn>>>13,ir=0|x[9],pn=8191&ir,un=ir>>>13;m.negative=l.negative^h.negative,m.length=19;var ur=(B+(M=Math.imul(z,Oe))|0)+((8191&(d=(d=Math.imul(z,Qe))+Math.imul(Q,Oe)|0))<<13)|0;B=((v=Math.imul(Q,Qe))+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,M=Math.imul(xe,Oe),d=(d=Math.imul(xe,Qe))+Math.imul(Ie,Oe)|0,v=Math.imul(Ie,Qe);var Hn=(B+(M=M+Math.imul(z,ft)|0)|0)+((8191&(d=(d=d+Math.imul(z,St)|0)+Math.imul(Q,ft)|0))<<13)|0;B=((v=v+Math.imul(Q,St)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(ve,Oe),d=(d=Math.imul(ve,Qe))+Math.imul(ye,Oe)|0,v=Math.imul(ye,Qe),M=M+Math.imul(xe,ft)|0,d=(d=d+Math.imul(xe,St)|0)+Math.imul(Ie,ft)|0,v=v+Math.imul(Ie,St)|0;var Pn=(B+(M=M+Math.imul(z,Gt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Vt)|0)+Math.imul(Q,Gt)|0))<<13)|0;B=((v=v+Math.imul(Q,Vt)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(me,Oe),d=(d=Math.imul(me,Qe))+Math.imul(Ee,Oe)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(ve,ft)|0,d=(d=d+Math.imul(ve,St)|0)+Math.imul(ye,ft)|0,v=v+Math.imul(ye,St)|0,M=M+Math.imul(xe,Gt)|0,d=(d=d+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0,v=v+Math.imul(Ie,Vt)|0;var Dn=(B+(M=M+Math.imul(z,cn)|0)|0)+((8191&(d=(d=d+Math.imul(z,Bt)|0)+Math.imul(Q,cn)|0))<<13)|0;B=((v=v+Math.imul(Q,Bt)|0)+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,M=Math.imul(he,Oe),d=(d=Math.imul(he,Qe))+Math.imul(ae,Oe)|0,v=Math.imul(ae,Qe),M=M+Math.imul(me,ft)|0,d=(d=d+Math.imul(me,St)|0)+Math.imul(Ee,ft)|0,v=v+Math.imul(Ee,St)|0,M=M+Math.imul(ve,Gt)|0,d=(d=d+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,v=v+Math.imul(ye,Vt)|0,M=M+Math.imul(xe,cn)|0,d=(d=d+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0,v=v+Math.imul(Ie,Bt)|0;var qt=(B+(M=M+Math.imul(z,nt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Ye)|0)+Math.imul(Q,nt)|0))<<13)|0;B=((v=v+Math.imul(Q,Ye)|0)+(d>>>13)|0)+(qt>>>26)|0,qt&=67108863,M=Math.imul(ge,Oe),d=(d=Math.imul(ge,Qe))+Math.imul(Ae,Oe)|0,v=Math.imul(Ae,Qe),M=M+Math.imul(he,ft)|0,d=(d=d+Math.imul(he,St)|0)+Math.imul(ae,ft)|0,v=v+Math.imul(ae,St)|0,M=M+Math.imul(me,Gt)|0,d=(d=d+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,v=v+Math.imul(Ee,Vt)|0,M=M+Math.imul(ve,cn)|0,d=(d=d+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,v=v+Math.imul(ye,Bt)|0,M=M+Math.imul(xe,nt)|0,d=(d=d+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0,v=v+Math.imul(Ie,Ye)|0;var Yt=(B+(M=M+Math.imul(z,kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,$t)|0)+Math.imul(Q,kt)|0))<<13)|0;B=((v=v+Math.imul(Q,$t)|0)+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(Ve,Oe),d=(d=Math.imul(Ve,Qe))+Math.imul(ze,Oe)|0,v=Math.imul(ze,Qe),M=M+Math.imul(ge,ft)|0,d=(d=d+Math.imul(ge,St)|0)+Math.imul(Ae,ft)|0,v=v+Math.imul(Ae,St)|0,M=M+Math.imul(he,Gt)|0,d=(d=d+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,v=v+Math.imul(ae,Vt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,v=v+Math.imul(Ee,Bt)|0,M=M+Math.imul(ve,nt)|0,d=(d=d+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,v=v+Math.imul(ye,Ye)|0,M=M+Math.imul(xe,kt)|0,d=(d=d+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0,v=v+Math.imul(Ie,$t)|0;var Xn=(B+(M=M+Math.imul(z,et)|0)|0)+((8191&(d=(d=d+Math.imul(z,it)|0)+Math.imul(Q,et)|0))<<13)|0;B=((v=v+Math.imul(Q,it)|0)+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,M=Math.imul(qe,Oe),d=(d=Math.imul(qe,Qe))+Math.imul(je,Oe)|0,v=Math.imul(je,Qe),M=M+Math.imul(Ve,ft)|0,d=(d=d+Math.imul(Ve,St)|0)+Math.imul(ze,ft)|0,v=v+Math.imul(ze,St)|0,M=M+Math.imul(ge,Gt)|0,d=(d=d+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,v=v+Math.imul(Ae,Vt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,v=v+Math.imul(ae,Bt)|0,M=M+Math.imul(me,nt)|0,d=(d=d+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,v=v+Math.imul(Ee,Ye)|0,M=M+Math.imul(ve,kt)|0,d=(d=d+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,v=v+Math.imul(ye,$t)|0,M=M+Math.imul(xe,et)|0,d=(d=d+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0,v=v+Math.imul(Ie,it)|0;var $n=(B+(M=M+Math.imul(z,He)|0)|0)+((8191&(d=(d=d+Math.imul(z,ht)|0)+Math.imul(Q,He)|0))<<13)|0;B=((v=v+Math.imul(Q,ht)|0)+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul($,Oe),d=(d=Math.imul($,Qe))+Math.imul(T,Oe)|0,v=Math.imul(T,Qe),M=M+Math.imul(qe,ft)|0,d=(d=d+Math.imul(qe,St)|0)+Math.imul(je,ft)|0,v=v+Math.imul(je,St)|0,M=M+Math.imul(Ve,Gt)|0,d=(d=d+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,v=v+Math.imul(ze,Vt)|0,M=M+Math.imul(ge,cn)|0,d=(d=d+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,v=v+Math.imul(Ae,Bt)|0,M=M+Math.imul(he,nt)|0,d=(d=d+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,v=v+Math.imul(ae,Ye)|0,M=M+Math.imul(me,kt)|0,d=(d=d+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,$t)|0,M=M+Math.imul(ve,et)|0,d=(d=d+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,v=v+Math.imul(ye,it)|0,M=M+Math.imul(xe,He)|0,d=(d=d+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0,v=v+Math.imul(Ie,ht)|0;var yr=(B+(M=M+Math.imul(z,Kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,rn)|0)+Math.imul(Q,Kt)|0))<<13)|0;B=((v=v+Math.imul(Q,rn)|0)+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(Z,Oe),d=(d=Math.imul(Z,Qe))+Math.imul(le,Oe)|0,v=Math.imul(le,Qe),M=M+Math.imul($,ft)|0,d=(d=d+Math.imul($,St)|0)+Math.imul(T,ft)|0,v=v+Math.imul(T,St)|0,M=M+Math.imul(qe,Gt)|0,d=(d=d+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,v=v+Math.imul(je,Vt)|0,M=M+Math.imul(Ve,cn)|0,d=(d=d+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,v=v+Math.imul(ze,Bt)|0,M=M+Math.imul(ge,nt)|0,d=(d=d+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,v=v+Math.imul(Ae,Ye)|0,M=M+Math.imul(he,kt)|0,d=(d=d+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,v=v+Math.imul(ae,$t)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,v=v+Math.imul(Ee,it)|0,M=M+Math.imul(ve,He)|0,d=(d=d+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,v=v+Math.imul(ye,ht)|0,M=M+Math.imul(xe,Kt)|0,d=(d=d+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0,v=v+Math.imul(Ie,rn)|0;var hr=(B+(M=M+Math.imul(z,pn)|0)|0)+((8191&(d=(d=d+Math.imul(z,un)|0)+Math.imul(Q,pn)|0))<<13)|0;B=((v=v+Math.imul(Q,un)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(Z,ft),d=(d=Math.imul(Z,St))+Math.imul(le,ft)|0,v=Math.imul(le,St),M=M+Math.imul($,Gt)|0,d=(d=d+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,v=v+Math.imul(T,Vt)|0,M=M+Math.imul(qe,cn)|0,d=(d=d+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,v=v+Math.imul(je,Bt)|0,M=M+Math.imul(Ve,nt)|0,d=(d=d+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,v=v+Math.imul(ze,Ye)|0,M=M+Math.imul(ge,kt)|0,d=(d=d+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,v=v+Math.imul(Ae,$t)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(ae,et)|0,v=v+Math.imul(ae,it)|0,M=M+Math.imul(me,He)|0,d=(d=d+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(ve,Kt)|0,d=(d=d+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,v=v+Math.imul(ye,rn)|0;var vr=(B+(M=M+Math.imul(xe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;B=((v=v+Math.imul(Ie,un)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(Z,Gt),d=(d=Math.imul(Z,Vt))+Math.imul(le,Gt)|0,v=Math.imul(le,Vt),M=M+Math.imul($,cn)|0,d=(d=d+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,v=v+Math.imul(T,Bt)|0,M=M+Math.imul(qe,nt)|0,d=(d=d+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,v=v+Math.imul(je,Ye)|0,M=M+Math.imul(Ve,kt)|0,d=(d=d+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,v=v+Math.imul(ze,$t)|0,M=M+Math.imul(ge,et)|0,d=(d=d+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,v=v+Math.imul(Ae,it)|0,M=M+Math.imul(he,He)|0,d=(d=d+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,v=v+Math.imul(ae,ht)|0,M=M+Math.imul(me,Kt)|0,d=(d=d+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,v=v+Math.imul(Ee,rn)|0;var sr=(B+(M=M+Math.imul(ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0))<<13)|0;B=((v=v+Math.imul(ye,un)|0)+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,M=Math.imul(Z,cn),d=(d=Math.imul(Z,Bt))+Math.imul(le,cn)|0,v=Math.imul(le,Bt),M=M+Math.imul($,nt)|0,d=(d=d+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,v=v+Math.imul(T,Ye)|0,M=M+Math.imul(qe,kt)|0,d=(d=d+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,v=v+Math.imul(je,$t)|0,M=M+Math.imul(Ve,et)|0,d=(d=d+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,v=v+Math.imul(ze,it)|0,M=M+Math.imul(ge,He)|0,d=(d=d+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,v=v+Math.imul(Ae,ht)|0,M=M+Math.imul(he,Kt)|0,d=(d=d+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,v=v+Math.imul(ae,rn)|0;var pr=(B+(M=M+Math.imul(me,pn)|0)|0)+((8191&(d=(d=d+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0))<<13)|0;B=((v=v+Math.imul(Ee,un)|0)+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(Z,nt),d=(d=Math.imul(Z,Ye))+Math.imul(le,nt)|0,v=Math.imul(le,Ye),M=M+Math.imul($,kt)|0,d=(d=d+Math.imul($,$t)|0)+Math.imul(T,kt)|0,v=v+Math.imul(T,$t)|0,M=M+Math.imul(qe,et)|0,d=(d=d+Math.imul(qe,it)|0)+Math.imul(je,et)|0,v=v+Math.imul(je,it)|0,M=M+Math.imul(Ve,He)|0,d=(d=d+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,v=v+Math.imul(ze,ht)|0,M=M+Math.imul(ge,Kt)|0,d=(d=d+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,v=v+Math.imul(Ae,rn)|0;var kr=(B+(M=M+Math.imul(he,pn)|0)|0)+((8191&(d=(d=d+Math.imul(he,un)|0)+Math.imul(ae,pn)|0))<<13)|0;B=((v=v+Math.imul(ae,un)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(Z,kt),d=(d=Math.imul(Z,$t))+Math.imul(le,kt)|0,v=Math.imul(le,$t),M=M+Math.imul($,et)|0,d=(d=d+Math.imul($,it)|0)+Math.imul(T,et)|0,v=v+Math.imul(T,it)|0,M=M+Math.imul(qe,He)|0,d=(d=d+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,v=v+Math.imul(je,ht)|0,M=M+Math.imul(Ve,Kt)|0,d=(d=d+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,v=v+Math.imul(ze,rn)|0;var Tr=(B+(M=M+Math.imul(ge,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0))<<13)|0;B=((v=v+Math.imul(Ae,un)|0)+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,et),d=(d=Math.imul(Z,it))+Math.imul(le,et)|0,v=Math.imul(le,it),M=M+Math.imul($,He)|0,d=(d=d+Math.imul($,ht)|0)+Math.imul(T,He)|0,v=v+Math.imul(T,ht)|0,M=M+Math.imul(qe,Kt)|0,d=(d=d+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,v=v+Math.imul(je,rn)|0;var jr=(B+(M=M+Math.imul(Ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0))<<13)|0;B=((v=v+Math.imul(ze,un)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(Z,He),d=(d=Math.imul(Z,ht))+Math.imul(le,He)|0,v=Math.imul(le,ht),M=M+Math.imul($,Kt)|0,d=(d=d+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,v=v+Math.imul(T,rn)|0;var Ir=(B+(M=M+Math.imul(qe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(qe,un)|0)+Math.imul(je,pn)|0))<<13)|0;B=((v=v+Math.imul(je,un)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,M=Math.imul(Z,Kt),d=(d=Math.imul(Z,rn))+Math.imul(le,Kt)|0,v=Math.imul(le,rn);var Ot=(B+(M=M+Math.imul($,pn)|0)|0)+((8191&(d=(d=d+Math.imul($,un)|0)+Math.imul(T,pn)|0))<<13)|0;B=((v=v+Math.imul(T,un)|0)+(d>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Wt=(B+(M=Math.imul(Z,pn))|0)+((8191&(d=(d=Math.imul(Z,un))+Math.imul(le,pn)|0))<<13)|0;return B=((v=Math.imul(le,un))+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D[0]=ur,D[1]=Hn,D[2]=Pn,D[3]=Dn,D[4]=qt,D[5]=Yt,D[6]=Xn,D[7]=$n,D[8]=yr,D[9]=hr,D[10]=vr,D[11]=sr,D[12]=pr,D[13]=kr,D[14]=Tr,D[15]=jr,D[16]=Ir,D[17]=Ot,D[18]=Wt,0!==B&&(D[19]=B,m.length++),m};function q(k,l,h){return(new J).mulp(k,l,h)}function J(k,l){this.x=k,this.y=l}Math.imul||(te=G),_.prototype.mulTo=function(l,h){var m,p=this.length+l.length;return m=10===this.length&&10===l.length?te(this,l,h):p<63?G(this,l,h):p<1024?function ee(k,l,h){h.negative=l.negative^k.negative,h.length=k.length+l.length;for(var m=0,p=0,x=0;x<h.length-1;x++){var D=p;p=0;for(var B=67108863&m,M=Math.min(x,l.length-1),d=Math.max(0,x-k.length+1);d<=M;d++){var Q=(0|k.words[x-d])*(0|l.words[d]),de=67108863&Q;B=67108863&(de=de+B|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}h.words[x]=B,m=D,D=p}return 0!==m?h.words[x]=m:h.length--,h.strip()}(this,l,h):q(this,l,h),m},J.prototype.makeRBT=function(l){for(var h=new Array(l),m=_.prototype._countBits(l)-1,p=0;p<l;p++)h[p]=this.revBin(p,m,l);return h},J.prototype.revBin=function(l,h,m){if(0===l||l===m-1)return l;for(var p=0,x=0;x<h;x++)p|=(1&l)<<h-x-1,l>>=1;return p},J.prototype.permute=function(l,h,m,p,x,D){for(var B=0;B<D;B++)p[B]=h[l[B]],x[B]=m[l[B]]},J.prototype.transform=function(l,h,m,p,x,D){this.permute(D,l,h,m,p,x);for(var B=1;B<x;B<<=1)for(var M=B<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<x;W+=M)for(var z=d,Q=v,de=0;de<B;de++){var xe=m[W+de],Ie=p[W+de],Le=m[W+de+B],ve=p[W+de+B],ye=z*Le-Q*ve;ve=z*ve+Q*Le,m[W+de]=xe+(Le=ye),p[W+de]=Ie+ve,m[W+de+B]=xe-Le,p[W+de+B]=Ie-ve,de!==M&&(ye=d*z-v*Q,Q=d*Q+v*z,z=ye)}},J.prototype.guessLen13b=function(l,h){var m=1|Math.max(h,l),p=1&m,x=0;for(m=m/2|0;m;m>>>=1)x++;return 1<<x+1+p},J.prototype.conjugate=function(l,h,m){if(!(m<=1))for(var p=0;p<m/2;p++){var x=l[p];l[p]=l[m-p-1],l[m-p-1]=x,x=h[p],h[p]=-h[m-p-1],h[m-p-1]=-x}},J.prototype.normalize13b=function(l,h){for(var m=0,p=0;p<h/2;p++){var x=8192*Math.round(l[2*p+1]/h)+Math.round(l[2*p]/h)+m;l[p]=67108863&x,m=x<67108864?0:x/67108864|0}return l},J.prototype.convert13b=function(l,h,m,p){for(var x=0,D=0;D<h;D++)m[2*D]=8191&(x+=0|l[D]),m[2*D+1]=8191&(x>>>=13),x>>>=13;for(D=2*h;D<p;++D)m[D]=0;O(0===x),O(!(-8192&x))},J.prototype.stub=function(l){for(var h=new Array(l),m=0;m<l;m++)h[m]=0;return h},J.prototype.mulp=function(l,h,m){var p=2*this.guessLen13b(l.length,h.length),x=this.makeRBT(p),D=this.stub(p),B=new Array(p),M=new Array(p),d=new Array(p),v=new Array(p),W=new Array(p),z=new Array(p),Q=m.words;Q.length=p,this.convert13b(l.words,l.length,B,p),this.convert13b(h.words,h.length,v,p),this.transform(B,D,M,d,p,x),this.transform(v,D,W,z,p,x);for(var de=0;de<p;de++){var xe=M[de]*W[de]-d[de]*z[de];d[de]=M[de]*z[de]+d[de]*W[de],M[de]=xe}return this.conjugate(M,d,p),this.transform(M,d,Q,D,p,x),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=l.negative^h.negative,m.length=l.length+h.length,m.strip()},_.prototype.mul=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},_.prototype.mulf=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),q(this,l,h)},_.prototype.imul=function(l){return this.clone().mulTo(l,this)},_.prototype.imuln=function(l){O("number"==typeof l),O(l<67108864);for(var h=0,m=0;m<this.length;m++){var p=(0|this.words[m])*l,x=(67108863&p)+(67108863&h);h>>=26,h+=p/67108864|0,h+=x>>>26,this.words[m]=67108863&x}return 0!==h&&(this.words[m]=h,this.length++),this},_.prototype.muln=function(l){return this.clone().imuln(l)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(l){var h=function j(k){for(var l=new Array(k.bitLength()),h=0;h<l.length;h++){var p=h%26;l[h]=(k.words[h/26|0]&1<<p)>>>p}return l}(l);if(0===h.length)return new _(1);for(var m=this,p=0;p<h.length&&0===h[p];p++,m=m.sqr());if(++p<h.length)for(var x=m.sqr();p<h.length;p++,x=x.sqr())0!==h[p]&&(m=m.mul(x));return m},_.prototype.iushln=function(l){O("number"==typeof l&&l>=0);var x,h=l%26,m=(l-h)/26,p=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(x=0;x<this.length;x++){var B=this.words[x]&p;this.words[x]=(0|this.words[x])-B<<h|D,D=B>>>26-h}D&&(this.words[x]=D,this.length++)}if(0!==m){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},_.prototype.ishln=function(l){return O(0===this.negative),this.iushln(l)},_.prototype.iushrn=function(l,h,m){var p;O("number"==typeof l&&l>=0),p=h?(h-h%26)/26:0;var x=l%26,D=Math.min((l-x)/26,this.length),B=67108863^67108863>>>x<<x,M=m;if(p-=D,p=Math.max(0,p),M){for(var d=0;d<D;d++)M.words[d]=this.words[d];M.length=D}if(0!==D)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=p);d--){var W=0|this.words[d];this.words[d]=v<<26-x|W>>>x,v=W&B}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},_.prototype.ishrn=function(l,h,m){return O(0===this.negative),this.iushrn(l,h,m)},_.prototype.shln=function(l){return this.clone().ishln(l)},_.prototype.ushln=function(l){return this.clone().iushln(l)},_.prototype.shrn=function(l){return this.clone().ishrn(l)},_.prototype.ushrn=function(l){return this.clone().iushrn(l)},_.prototype.testn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return!(this.length<=m||!(this.words[m]&1<<h))},_.prototype.imaskn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==h&&m++,this.length=Math.min(m,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},_.prototype.maskn=function(l){return this.clone().imaskn(l)},_.prototype.iaddn=function(l){return O("number"==typeof l),O(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},_.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},_.prototype.isubn=function(l){if(O("number"==typeof l),O(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},_.prototype.addn=function(l){return this.clone().iaddn(l)},_.prototype.subn=function(l){return this.clone().isubn(l)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(l,h,m){var x;this._expand(l.length+m);var D,B=0;for(x=0;x<l.length;x++){D=(0|this.words[x+m])+B;var M=(0|l.words[x])*h;B=((D-=67108863&M)>>26)-(M/67108864|0),this.words[x+m]=67108863&D}for(;x<this.length-m;x++)B=(D=(0|this.words[x+m])+B)>>26,this.words[x+m]=67108863&D;if(0===B)return this.strip();for(O(-1===B),B=0,x=0;x<this.length;x++)B=(D=-(0|this.words[x])+B)>>26,this.words[x]=67108863&D;return this.negative=1,this.strip()},_.prototype._wordDiv=function(l,h){var m,p=this.clone(),x=l,D=0|x.words[x.length-1];0!=(m=26-this._countBits(D))&&(x=x.ushln(m),p.iushln(m),D=0|x.words[x.length-1]);var d,M=p.length-x.length;if("mod"!==h){(d=new _(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=p.clone()._ishlnsubmul(x,1,M);0===W.negative&&(p=W,d&&(d.words[M]=1));for(var z=M-1;z>=0;z--){var Q=67108864*(0|p.words[x.length+z])+(0|p.words[x.length+z-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(x,Q,z);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(x,1,z),p.isZero()||(p.negative^=1);d&&(d.words[z]=Q)}return d&&d.strip(),p.strip(),"div"!==h&&0!==m&&p.iushrn(m),{div:d||null,mod:p}},_.prototype.divmod=function(l,h,m){return O(!l.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===l.negative?(D=this.neg().divmod(l,h),"mod"!==h&&(p=D.div.neg()),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.iadd(l)),{div:p,mod:x}):0===this.negative&&0!==l.negative?(D=this.divmod(l.neg(),h),"mod"!==h&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),h),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.isub(l)),{div:D.div,mod:x}):l.length>this.length||this.cmp(l)<0?{div:new _(0),mod:this}:1===l.length?"div"===h?{div:this.divn(l.words[0]),mod:null}:"mod"===h?{div:null,mod:new _(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new _(this.modn(l.words[0]))}:this._wordDiv(l,h);var p,x,D},_.prototype.div=function(l){return this.divmod(l,"div",!1).div},_.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},_.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},_.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var m=0!==h.div.negative?h.mod.isub(l):h.mod,p=l.ushrn(1),x=l.andln(1),D=m.cmp(p);return D<0||1===x&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},_.prototype.modn=function(l){O(l<=67108863);for(var h=(1<<26)%l,m=0,p=this.length-1;p>=0;p--)m=(h*m+(0|this.words[p]))%l;return m},_.prototype.idivn=function(l){O(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*h;this.words[m]=p/l|0,h=p%l}return this.strip()},_.prototype.divn=function(l){return this.clone().idivn(l)},_.prototype.egcd=function(l){O(0===l.negative),O(!l.isZero());var h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=new _(0),B=new _(1),M=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++M;for(var d=m.clone(),v=h.clone();!h.isZero();){for(var W=0,z=1;!(h.words[0]&z)&&W<26;++W,z<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(d),x.isub(v)),p.iushrn(1),x.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||B.isOdd())&&(D.iadd(d),B.isub(v)),D.iushrn(1),B.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(D),x.isub(B)):(m.isub(h),D.isub(p),B.isub(x))}return{a:D,b:B,gcd:m.iushln(M)}},_.prototype._invmp=function(l){O(0===l.negative),O(!l.isZero());var W,h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var B=0,M=1;!(h.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(h.iushrn(B);B-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var d=0,v=1;!(m.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(x)):(m.isub(h),x.isub(p))}return(W=0===h.cmpn(1)?p:x).cmpn(0)<0&&W.iadd(l),W},_.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),m=l.clone();h.negative=0,m.negative=0;for(var p=0;h.isEven()&&m.isEven();p++)h.iushrn(1),m.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var D=h;h=m,m=D}else if(0===x||0===m.cmpn(1))break;h.isub(m)}return m.iushln(p)},_.prototype.invm=function(l){return this.egcd(l).a.umod(l)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(l){return this.words[0]&l},_.prototype.bincn=function(l){O("number"==typeof l);var h=l%26,m=(l-h)/26,p=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var x=p,D=m;0!==x&&D<this.length;D++){var B=0|this.words[D];x=(B+=x)>>>26,this.words[D]=B&=67108863}return 0!==x&&(this.words[D]=x,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(l){var m,h=l<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)m=1;else{h&&(l=-l),O(l<=67108863,"Number is too big");var p=0|this.words[0];m=p===l?0:p<l?-1:1}return 0!==this.negative?0|-m:m},_.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var h=this.ucmp(l);return 0!==this.negative?0|-h:h},_.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],x=0|l.words[m];if(p!==x){p<x?h=-1:p>x&&(h=1);break}}return h},_.prototype.gtn=function(l){return 1===this.cmpn(l)},_.prototype.gt=function(l){return 1===this.cmp(l)},_.prototype.gten=function(l){return this.cmpn(l)>=0},_.prototype.gte=function(l){return this.cmp(l)>=0},_.prototype.ltn=function(l){return-1===this.cmpn(l)},_.prototype.lt=function(l){return-1===this.cmp(l)},_.prototype.lten=function(l){return this.cmpn(l)<=0},_.prototype.lte=function(l){return this.cmp(l)<=0},_.prototype.eqn=function(l){return 0===this.cmpn(l)},_.prototype.eq=function(l){return 0===this.cmp(l)},_.red=function(l){return new we(l)},_.prototype.toRed=function(l){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(l){return this.red=l,this},_.prototype.forceRed=function(l){return O(!this.red,"Already a number in reduction context"),this._forceRed(l)},_.prototype.redAdd=function(l){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},_.prototype.redIAdd=function(l){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},_.prototype.redSub=function(l){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},_.prototype.redISub=function(l){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},_.prototype.redShl=function(l){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},_.prototype.redMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},_.prototype.redIMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(l){return O(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ne={k256:null,p224:null,p192:null,p25519:null};function ie(k,l){this.name=k,this.p=new _(l,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function re(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ce(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var l=_._prime(k);this.m=l.p,this.prime=l}else O(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function Me(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var l=new _(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m,h=l;do{this.split(h,this.tmp),m=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:h.ucmp(this.p);return 0===p?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},ie.prototype.split=function(l,h){l.iushrn(this.n,0,h)},ie.prototype.imulK=function(l){return l.imul(this.k)},X(re,ie),re.prototype.split=function(l,h){for(var m=4194303,p=Math.min(l.length,9),x=0;x<p;x++)h.words[x]=l.words[x];if(h.length=p,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(h.words[h.length++]=D&m,x=10;x<l.length;x++){var B=0|l.words[x];l.words[x-10]=(B&m)<<4|D>>>22,D=B}l.words[x-10]=D>>>=22,l.length-=0===D&&l.length>10?10:9},re.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,m=0;m<l.length;m++){var p=0|l.words[m];l.words[m]=67108863&(h+=977*p),h=64*p+(h/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},X(ce,ie),X(se,ie),X(pe,ie),pe.prototype.imulK=function(l){for(var h=0,m=0;m<l.length;m++){var p=19*(0|l.words[m])+h,x=67108863&p;p>>>=26,l.words[m]=x,h=p}return 0!==h&&(l.words[l.length++]=h),l},_._prime=function(l){if(ne[l])return ne[l];var h;if("k256"===l)h=new re;else if("p224"===l)h=new ce;else if("p192"===l)h=new se;else{if("p25519"!==l)throw new Error("Unknown prime "+l);h=new pe}return ne[l]=h,h},we.prototype._verify1=function(l){O(0===l.negative,"red works only with positives"),O(l.red,"red works only with red numbers")},we.prototype._verify2=function(l,h){O(!(l.negative|h.negative),"red works only with positives"),O(l.red&&l.red===h.red,"red works only with red numbers")},we.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},we.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},we.prototype.add=function(l,h){this._verify2(l,h);var m=l.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},we.prototype.iadd=function(l,h){this._verify2(l,h);var m=l.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},we.prototype.sub=function(l,h){this._verify2(l,h);var m=l.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},we.prototype.isub=function(l,h){this._verify2(l,h);var m=l.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},we.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},we.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},we.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},we.prototype.isqr=function(l){return this.imul(l,l.clone())},we.prototype.sqr=function(l){return this.mul(l,l)},we.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var m=this.m.add(new _(1)).iushrn(2);return this.pow(l,m)}for(var p=this.m.subn(1),x=0;!p.isZero()&&0===p.andln(1);)x++,p.iushrn(1);O(!p.isZero());var D=new _(1).toRed(this),B=D.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new _(2*d*d).toRed(this);0!==this.pow(d,M).cmp(B);)d.redIAdd(B);for(var v=this.pow(d,p),W=this.pow(l,p.addn(1).iushrn(1)),z=this.pow(l,p),Q=x;0!==z.cmp(D);){for(var de=z,xe=0;0!==de.cmp(D);xe++)de=de.redSqr();O(xe<Q);var Ie=this.pow(v,new _(1).iushln(Q-xe-1));W=W.redMul(Ie),v=Ie.redSqr(),z=z.redMul(v),Q=xe}return W},we.prototype.invm=function(l){var h=l._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(l,h){if(h.isZero())return new _(1).toRed(this);if(0===h.cmpn(1))return l.clone();var p=new Array(16);p[0]=new _(1).toRed(this),p[1]=l;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],l);var D=p[0],B=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),x=h.length-1;x>=0;x--){for(var v=h.words[x],W=d-1;W>=0;W--){var z=v>>W&1;D!==p[0]&&(D=this.sqr(D)),0!==z||0!==B?(B<<=1,B|=z,(4==++M||0===x&&0===W)&&(D=this.mul(D,p[B]),M=0,B=0)):M=0}d=26}return D},we.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},we.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},_.mont=function(l){return new Me(l)},X(Me,we),Me.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Me.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},Me.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new _(0)._forceRed(this);var m=l.mul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},67211:(Ne,V,E)=>{"use strict";var g=E(71993),w=E(34725),O=E(36636),X=E(25443),_=E(3247);function R(A){_.call(this,"digest"),this._hash=A}g(R,_),R.prototype._update=function(A){this._hash.update(A)},R.prototype._final=function(){return this._hash.digest()},Ne.exports=function(N){return"md5"===(N=N.toLowerCase())?new w:"rmd160"===N||"ripemd160"===N?new O:new R(X(N))}},83407:(Ne,V,E)=>{var g=E(34725);Ne.exports=function(w){return(new g).update(w).digest()}},56432:(Ne,V,E)=>{"use strict";var g=E(71993),w=E(90509),O=E(3247),X=E(27054).Buffer,_=E(83407),R=E(36636),A=E(25443),N=X.alloc(128);function L(F,C){O.call(this,"digest"),"string"==typeof C&&(C=X.from(C));var Y="sha512"===F||"sha384"===F?128:64;this._alg=F,this._key=C,C.length>Y?C=("rmd160"===F?new R:A(F)).update(C).digest():C.length<Y&&(C=X.concat([C,N],Y));for(var G=this._ipad=X.allocUnsafe(Y),te=this._opad=X.allocUnsafe(Y),ee=0;ee<Y;ee++)G[ee]=54^C[ee],te[ee]=92^C[ee];this._hash="rmd160"===F?new R:A(F),this._hash.update(G)}g(L,O),L.prototype._update=function(F){this._hash.update(F)},L.prototype._final=function(){var F=this._hash.digest();return("rmd160"===this._alg?new R:A(this._alg)).update(this._opad).update(F).digest()},Ne.exports=function(C,Y){return"rmd160"===(C=C.toLowerCase())||"ripemd160"===C?new L("rmd160",Y):"md5"===C?new w(_,Y):new L(C,Y)}},90509:(Ne,V,E)=>{"use strict";var g=E(71993),w=E(27054).Buffer,O=E(3247),X=w.alloc(128),_=64;function R(A,N){O.call(this,"digest"),"string"==typeof N&&(N=w.from(N)),this._alg=A,this._key=N,N.length>_?N=A(N):N.length<_&&(N=w.concat([N,X],_));for(var L=this._ipad=w.allocUnsafe(_),F=this._opad=w.allocUnsafe(_),C=0;C<_;C++)L[C]=54^N[C],F[C]=92^N[C];this._hash=[L]}g(R,O),R.prototype._update=function(A){this._hash.push(A)},R.prototype._final=function(){var A=this._alg(w.concat(this._hash));return this._alg(w.concat([this._opad,A]))},Ne.exports=R},91426:(Ne,V,E)=>{"use strict";V.randomBytes=V.rng=V.pseudoRandomBytes=V.prng=E(3342),V.createHash=V.Hash=E(67211),V.createHmac=V.Hmac=E(56432);var g=E(99560),w=Object.keys(g),O=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(w);V.getHashes=function(){return O};var X=E(93397);V.pbkdf2=X.pbkdf2,V.pbkdf2Sync=X.pbkdf2Sync;var _=E(88862);V.Cipher=_.Cipher,V.createCipher=_.createCipher,V.Cipheriv=_.Cipheriv,V.createCipheriv=_.createCipheriv,V.Decipher=_.Decipher,V.createDecipher=_.createDecipher,V.Decipheriv=_.Decipheriv,V.createDecipheriv=_.createDecipheriv,V.getCiphers=_.getCiphers,V.listCiphers=_.listCiphers;var R=E(4377);V.DiffieHellmanGroup=R.DiffieHellmanGroup,V.createDiffieHellmanGroup=R.createDiffieHellmanGroup,V.getDiffieHellman=R.getDiffieHellman,V.createDiffieHellman=R.createDiffieHellman,V.DiffieHellman=R.DiffieHellman;var A=E(79143);V.createSign=A.createSign,V.Sign=A.Sign,V.createVerify=A.createVerify,V.Verify=A.Verify,V.createECDH=E(87303);var N=E(52965);V.publicEncrypt=N.publicEncrypt,V.privateEncrypt=N.privateEncrypt,V.publicDecrypt=N.publicDecrypt,V.privateDecrypt=N.privateDecrypt;var L=E(9682);V.randomFill=L.randomFill,V.randomFillSync=L.randomFillSync,V.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},V.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(Ne,V,E)=>{"use strict";V.utils=E(85671),V.Cipher=E(10219),V.DES=E(64166),V.CBC=E(88800),V.EDE=E(62122)},88800:(Ne,V,E)=>{"use strict";var g=E(39210),w=E(71993),O={};function X(R){g.equal(R.length,8,"Invalid IV length"),this.iv=new Array(8);for(var A=0;A<this.iv.length;A++)this.iv[A]=R[A]}V.instantiate=function _(R){function A(C){R.call(this,C),this._cbcInit()}w(A,R);for(var N=Object.keys(O),L=0;L<N.length;L++){var F=N[L];A.prototype[F]=O[F]}return A.create=function(Y){return new A(Y)},A},O._cbcInit=function(){var A=new X(this.options.iv);this._cbcState=A},O._update=function(A,N,L,F){var Y=this.constructor.super_.prototype,j=this._cbcState.iv;if("encrypt"===this.type){for(var G=0;G<this.blockSize;G++)j[G]^=A[N+G];for(Y._update.call(this,j,0,L,F),G=0;G<this.blockSize;G++)j[G]=L[F+G]}else{for(Y._update.call(this,A,N,L,F),G=0;G<this.blockSize;G++)L[F+G]^=j[G];for(G=0;G<this.blockSize;G++)j[G]=A[N+G]}}},10219:(Ne,V,E)=>{"use strict";var g=E(39210);function w(O){this.options=O,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==O.padding}Ne.exports=w,w.prototype._init=function(){},w.prototype.update=function(X){return 0===X.length?[]:"decrypt"===this.type?this._updateDecrypt(X):this._updateEncrypt(X)},w.prototype._buffer=function(X,_){for(var R=Math.min(this.buffer.length-this.bufferOff,X.length-_),A=0;A<R;A++)this.buffer[this.bufferOff+A]=X[_+A];return this.bufferOff+=R,R},w.prototype._flushBuffer=function(X,_){return this._update(this.buffer,0,X,_),this.bufferOff=0,this.blockSize},w.prototype._updateEncrypt=function(X){var _=0,R=0,N=new Array(((this.bufferOff+X.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(_+=this._buffer(X,_),this.bufferOff===this.buffer.length&&(R+=this._flushBuffer(N,R)));for(var L=X.length-(X.length-_)%this.blockSize;_<L;_+=this.blockSize)this._update(X,_,N,R),R+=this.blockSize;for(;_<X.length;_++,this.bufferOff++)this.buffer[this.bufferOff]=X[_];return N},w.prototype._updateDecrypt=function(X){for(var _=0,R=0,A=Math.ceil((this.bufferOff+X.length)/this.blockSize)-1,N=new Array(A*this.blockSize);A>0;A--)_+=this._buffer(X,_),R+=this._flushBuffer(N,R);return _+=this._buffer(X,_),N},w.prototype.final=function(X){var _,R;return X&&(_=this.update(X)),R="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),_?_.concat(R):R},w.prototype._pad=function(X,_){if(0===_)return!1;for(;_<X.length;)X[_++]=0;return!0},w.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var X=new Array(this.blockSize);return this._update(this.buffer,0,X,0),X},w.prototype._unpad=function(X){return X},w.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var X=new Array(this.blockSize);return this._flushBuffer(X,0),this._unpad(X)}},64166:(Ne,V,E)=>{"use strict";var g=E(39210),w=E(71993),O=E(85671),X=E(10219);function _(){this.tmp=new Array(2),this.keys=null}function R(N){X.call(this,N);var L=new _;this._desState=L,this.deriveKeys(L,N.key)}w(R,X),Ne.exports=R,R.create=function(L){return new R(L)};var A=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];R.prototype.deriveKeys=function(L,F){L.keys=new Array(32),g.equal(F.length,this.blockSize,"Invalid key length");var C=O.readUInt32BE(F,0),Y=O.readUInt32BE(F,4);O.pc1(C,Y,L.tmp,0),C=L.tmp[0],Y=L.tmp[1];for(var j=0;j<L.keys.length;j+=2){var G=A[j>>>1];C=O.r28shl(C,G),Y=O.r28shl(Y,G),O.pc2(C,Y,L.keys,j)}},R.prototype._update=function(L,F,C,Y){var j=this._desState,G=O.readUInt32BE(L,F),te=O.readUInt32BE(L,F+4);O.ip(G,te,j.tmp,0),G=j.tmp[0],te=j.tmp[1],"encrypt"===this.type?this._encrypt(j,G,te,j.tmp,0):this._decrypt(j,G,te,j.tmp,0),te=j.tmp[1],O.writeUInt32BE(C,G=j.tmp[0],Y),O.writeUInt32BE(C,te,Y+4)},R.prototype._pad=function(L,F){if(!1===this.padding)return!1;for(var C=L.length-F,Y=F;Y<L.length;Y++)L[Y]=C;return!0},R.prototype._unpad=function(L){if(!1===this.padding)return L;for(var F=L[L.length-1],C=L.length-F;C<L.length;C++)g.equal(L[C],F);return L.slice(0,L.length-F)},R.prototype._encrypt=function(L,F,C,Y,j){for(var G=F,te=C,ee=0;ee<L.keys.length;ee+=2){var q=L.keys[ee],J=L.keys[ee+1];O.expand(te,L.tmp,0);var ne=O.substitute(q^=L.tmp[0],J^=L.tmp[1]),re=te;te=(G^O.permute(ne))>>>0,G=re}O.rip(te,G,Y,j)},R.prototype._decrypt=function(L,F,C,Y,j){for(var G=C,te=F,ee=L.keys.length-2;ee>=0;ee-=2){var q=L.keys[ee],J=L.keys[ee+1];O.expand(G,L.tmp,0);var ne=O.substitute(q^=L.tmp[0],J^=L.tmp[1]),re=G;G=(te^O.permute(ne))>>>0,te=re}O.rip(G,te,Y,j)}},62122:(Ne,V,E)=>{"use strict";var g=E(39210),w=E(71993),O=E(10219),X=E(64166);function _(A,N){g.equal(N.length,24,"Invalid key length");var L=N.slice(0,8),F=N.slice(8,16),C=N.slice(16,24);this.ciphers="encrypt"===A?[X.create({type:"encrypt",key:L}),X.create({type:"decrypt",key:F}),X.create({type:"encrypt",key:C})]:[X.create({type:"decrypt",key:C}),X.create({type:"encrypt",key:F}),X.create({type:"decrypt",key:L})]}function R(A){O.call(this,A);var N=new _(this.type,this.options.key);this._edeState=N}w(R,O),Ne.exports=R,R.create=function(N){return new R(N)},R.prototype._update=function(N,L,F,C){var Y=this._edeState;Y.ciphers[0]._update(N,L,F,C),Y.ciphers[1]._update(F,C,F,C),Y.ciphers[2]._update(F,C,F,C)},R.prototype._pad=X.prototype._pad,R.prototype._unpad=X.prototype._unpad},85671:(Ne,V)=>{"use strict";V.readUInt32BE=function(X,_){return(X[0+_]<<24|X[1+_]<<16|X[2+_]<<8|X[3+_])>>>0},V.writeUInt32BE=function(X,_,R){X[0+R]=_>>>24,X[1+R]=_>>>16&255,X[2+R]=_>>>8&255,X[3+R]=255&_},V.ip=function(X,_,R,A){for(var N=0,L=0,F=6;F>=0;F-=2){for(var C=0;C<=24;C+=8)N<<=1,N|=_>>>C+F&1;for(C=0;C<=24;C+=8)N<<=1,N|=X>>>C+F&1}for(F=6;F>=0;F-=2){for(C=1;C<=25;C+=8)L<<=1,L|=_>>>C+F&1;for(C=1;C<=25;C+=8)L<<=1,L|=X>>>C+F&1}R[A+0]=N>>>0,R[A+1]=L>>>0},V.rip=function(X,_,R,A){for(var N=0,L=0,F=0;F<4;F++)for(var C=24;C>=0;C-=8)N<<=1,N|=_>>>C+F&1,N<<=1,N|=X>>>C+F&1;for(F=4;F<8;F++)for(C=24;C>=0;C-=8)L<<=1,L|=_>>>C+F&1,L<<=1,L|=X>>>C+F&1;R[A+0]=N>>>0,R[A+1]=L>>>0},V.pc1=function(X,_,R,A){for(var N=0,L=0,F=7;F>=5;F--){for(var C=0;C<=24;C+=8)N<<=1,N|=_>>C+F&1;for(C=0;C<=24;C+=8)N<<=1,N|=X>>C+F&1}for(C=0;C<=24;C+=8)N<<=1,N|=_>>C+F&1;for(F=1;F<=3;F++){for(C=0;C<=24;C+=8)L<<=1,L|=_>>C+F&1;for(C=0;C<=24;C+=8)L<<=1,L|=X>>C+F&1}for(C=0;C<=24;C+=8)L<<=1,L|=X>>C+F&1;R[A+0]=N>>>0,R[A+1]=L>>>0},V.r28shl=function(X,_){return X<<_&268435455|X>>>28-_};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];V.pc2=function(X,_,R,A){for(var N=0,L=0,F=E.length>>>1,C=0;C<F;C++)N<<=1,N|=X>>>E[C]&1;for(C=F;C<E.length;C++)L<<=1,L|=_>>>E[C]&1;R[A+0]=N>>>0,R[A+1]=L>>>0},V.expand=function(X,_,R){var A=0,N=0;A=(1&X)<<5|X>>>27;for(var L=23;L>=15;L-=4)A<<=6,A|=X>>>L&63;for(L=11;L>=3;L-=4)N|=X>>>L&63,N<<=6;N|=(31&X)<<1|X>>>31,_[R+0]=A>>>0,_[R+1]=N>>>0};var g=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];V.substitute=function(X,_){for(var R=0,A=0;A<4;A++)R<<=4,R|=g[64*A+(X>>>18-6*A&63)];for(A=0;A<4;A++)R<<=4,R|=g[256+64*A+(_>>>18-6*A&63)];return R>>>0};var w=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];V.permute=function(X){for(var _=0,R=0;R<w.length;R++)_<<=1,_|=X>>>w[R]&1;return _>>>0},V.padSplit=function(X,_,R){for(var A=X.toString(2);A.length<_;)A="0"+A;for(var N=[],L=0;L<_;L+=R)N.push(A.slice(L,L+R));return N.join(" ")}},4377:(Ne,V,E)=>{var g=E(12727),w=E(23241),O=E(94593),_={binary:!0,hex:!0,base64:!0};V.DiffieHellmanGroup=V.createDiffieHellmanGroup=V.getDiffieHellman=function X(A){var N=new Buffer(w[A].prime,"hex"),L=new Buffer(w[A].gen,"hex");return new O(N,L)},V.createDiffieHellman=V.DiffieHellman=function R(A,N,L,F){return Buffer.isBuffer(N)||void 0===_[N]?R(A,"binary",N,L):(N=N||"binary",F=F||"binary",L=L||new Buffer([2]),Buffer.isBuffer(L)||(L=new Buffer(L,F)),"number"==typeof A?new O(g(A,L),L,!0):(Buffer.isBuffer(A)||(A=new Buffer(A,N)),new O(A,L,!0)))}},94593:(Ne,V,E)=>{var g=E(38280),O=new(E(53459)),X=new g(24),_=new g(11),R=new g(10),A=new g(3),N=new g(7),L=E(12727),F=E(3342);function C(q,J){return J=J||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,J)),this._pub=new g(q),this}function Y(q,J){return J=J||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,J)),this._priv=new g(q),this}Ne.exports=te;var j={};function te(q,J,ne){this.setGenerator(J),this.__prime=new g(q),this._prime=g.mont(this.__prime),this._primeLen=q.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ne?(this.setPublicKey=C,this.setPrivateKey=Y):this._primeCode=8}function ee(q,J){var ne=new Buffer(q.toArray());return J?ne.toString(J):ne}Object.defineProperty(te.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function G(q,J){var ne=J.toString("hex"),ie=[ne,q.toString(16)].join("_");if(ie in j)return j[ie];var ce,re=0;if(q.isEven()||!L.simpleSieve||!L.fermatTest(q)||!O.test(q))return re+=1,j[ie]=re+="02"===ne||"05"===ne?8:4,re;switch(O.test(q.shrn(1))||(re+=2),ne){case"02":q.mod(X).cmp(_)&&(re+=8);break;case"05":(ce=q.mod(R)).cmp(A)&&ce.cmp(N)&&(re+=8);break;default:re+=4}return j[ie]=re,re}(this.__prime,this.__gen)),this._primeCode}}),te.prototype.generateKeys=function(){return this._priv||(this._priv=new g(F(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},te.prototype.computeSecret=function(q){var J=(q=(q=new g(q)).toRed(this._prime)).redPow(this._priv).fromRed(),ne=new Buffer(J.toArray()),ie=this.getPrime();if(ne.length<ie.length){var re=new Buffer(ie.length-ne.length);re.fill(0),ne=Buffer.concat([re,ne])}return ne},te.prototype.getPublicKey=function(J){return ee(this._pub,J)},te.prototype.getPrivateKey=function(J){return ee(this._priv,J)},te.prototype.getPrime=function(q){return ee(this.__prime,q)},te.prototype.getGenerator=function(q){return ee(this._gen,q)},te.prototype.setGenerator=function(q,J){return J=J||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,J)),this.__gen=q,this._gen=new g(q),this}},12727:(Ne,V,E)=>{var g=E(3342);Ne.exports=re,re.simpleSieve=ne,re.fermatTest=ie;var w=E(38280),O=new w(24),_=new(E(53459)),R=new w(1),A=new w(2),N=new w(5),C=(new w(16),new w(8),new w(10)),Y=new w(3),G=(new w(7),new w(11)),te=new w(4),q=(new w(12),null);function ne(ce){for(var se=function J(){if(null!==q)return q;var se=[];se[0]=2;for(var pe=1,we=3;we<1048576;we+=2){for(var Me=Math.ceil(Math.sqrt(we)),k=0;k<pe&&se[k]<=Me&&we%se[k]!=0;k++);pe!==k&&se[k]<=Me||(se[pe++]=we)}return q=se,se}(),pe=0;pe<se.length;pe++)if(0===ce.modn(se[pe]))return 0===ce.cmpn(se[pe]);return!0}function ie(ce){var se=w.mont(ce);return 0===A.toRed(se).redPow(ce.subn(1)).fromRed().cmpn(1)}function re(ce,se){if(ce<16)return new w(2===se||5===se?[140,123]:[140,39]);se=new w(se);for(var pe,we;;){for(pe=new w(g(Math.ceil(ce/8)));pe.bitLength()>ce;)pe.ishrn(1);if(pe.isEven()&&pe.iadd(R),pe.testn(1)||pe.iadd(A),se.cmp(A)){if(!se.cmp(N))for(;pe.mod(C).cmp(Y);)pe.iadd(te)}else for(;pe.mod(O).cmp(G);)pe.iadd(te);if(ne(we=pe.shrn(1))&&ne(pe)&&ie(we)&&ie(pe)&&_.test(we)&&_.test(pe))return pe}}},38280:function(Ne,V,E){!function(g,w){"use strict";function O(k,l){if(!k)throw new Error(l||"Assertion failed")}function X(k,l){k.super_=l;var h=function(){};h.prototype=l.prototype,k.prototype=new h,k.prototype.constructor=k}function _(k,l,h){if(_.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===l||"be"===l)&&(h=l,l=10),this._init(k||0,l||10,h||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(66089).Buffer}catch{}function A(k,l){var h=k.charCodeAt(l);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,l,h){var m=A(k,h);return h-1>=l&&(m|=A(k,h-1)<<4),m}function L(k,l,h,m){for(var p=0,x=Math.min(k.length,h),D=l;D<x;D++){var B=k.charCodeAt(D)-48;p*=m,p+=B>=49?B-49+10:B>=17?B-17+10:B}return p}_.isBN=function(l){return l instanceof _||null!==l&&"object"==typeof l&&l.constructor.wordSize===_.wordSize&&Array.isArray(l.words)},_.max=function(l,h){return l.cmp(h)>0?l:h},_.min=function(l,h){return l.cmp(h)<0?l:h},_.prototype._init=function(l,h,m){if("number"==typeof l)return this._initNumber(l,h,m);if("object"==typeof l)return this._initArray(l,h,m);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var p=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<l.length&&(16===h?this._parseHex(l,p,m):(this._parseBase(l,h,p),"le"===m&&this._initArray(this.toArray(),h,m)))},_.prototype._initNumber=function(l,h,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(O(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),h,m)},_.prototype._initArray=function(l,h,m){if(O("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,D,B=0;if("be"===m)for(p=l.length-1,x=0;p>=0;p-=3)this.words[x]|=(D=l[p]|l[p-1]<<8|l[p-2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);else if("le"===m)for(p=0,x=0;p<l.length;p+=3)this.words[x]|=(D=l[p]|l[p+1]<<8|l[p+2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);return this.strip()},_.prototype._parseHex=function(l,h,m){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var B,x=0,D=0;if("be"===m)for(p=l.length-1;p>=h;p-=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;else for(p=(l.length-h)%2==0?h+1:h;p<l.length;p+=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;this.strip()},_.prototype._parseBase=function(l,h,m){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=h)p++;p--,x=x/h|0;for(var D=l.length-m,B=D%p,M=Math.min(D,D-B)+m,d=0,v=m;v<M;v+=p)d=L(l,v,v+p,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==B){var W=1;for(d=L(l,v,l.length,h),v=0;v<B;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},_.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red},_.prototype.clone=function(){var l=new _(null);return this.copy(l),l},_.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},_.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},_.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(k,l,h){h.negative=l.negative^k.negative;var m=k.length+l.length|0;h.length=m,m=m-1|0;var p=0|k.words[0],x=0|l.words[0],D=p*x,M=D/67108864|0;h.words[0]=67108863&D;for(var d=1;d<m;d++){for(var v=M>>>26,W=67108863&M,z=Math.min(d,l.length-1),Q=Math.max(0,d-k.length+1);Q<=z;Q++)v+=(D=(p=0|k.words[d-Q|0])*(x=0|l.words[Q])+W)/67108864|0,W=67108863&D;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}_.prototype.toString=function(l,h){var m;if(h=0|h||1,16===(l=l||10)||"hex"===l){m="";for(var p=0,x=0,D=0;D<this.length;D++){var B=this.words[D],M=(16777215&(B<<p|x)).toString(16);m=0!=(x=B>>>24-p&16777215)||D!==this.length-1?F[6-M.length]+M+m:M+m,(p+=2)>=26&&(p-=26,D--)}for(0!==x&&(m=x.toString(16)+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(l===(0|l)&&l>=2&&l<=36){var d=C[l],v=Y[l];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var z=W.modn(v).toString(l);m=(W=W.idivn(v)).isZero()?z+m:F[d-z.length]+z+m}for(this.isZero()&&(m="0"+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},_.prototype.toJSON=function(){return this.toString(16)},_.prototype.toBuffer=function(l,h){return O(typeof R<"u"),this.toArrayLike(R,l,h)},_.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)},_.prototype.toArrayLike=function(l,h,m){var p=this.byteLength(),x=m||Math.max(1,p);O(p<=x,"byte array longer than desired length"),O(x>0,"Requested array length <= 0"),this.strip();var M,d,D="le"===h,B=new l(x),v=this.clone();if(D){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[d]=M;for(;d<x;d++)B[d]=0}else{for(d=0;d<x-p;d++)B[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[x-d-1]=M}return B},_.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var h=l,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},_.prototype._zeroBits=function(l){if(0===l)return 26;var h=l,m=0;return 8191&h||(m+=13,h>>>=13),127&h||(m+=7,h>>>=7),15&h||(m+=4,h>>>=4),3&h||(m+=2,h>>>=2),1&h||m++,m},_.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(l+=m,26!==m)break}return l},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},_.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this.strip()},_.prototype.ior=function(l){return O(!(this.negative|l.negative)),this.iuor(l)},_.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},_.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},_.prototype.iuand=function(l){var h;h=this.length>l.length?l:this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=h.length,this.strip()},_.prototype.iand=function(l){return O(!(this.negative|l.negative)),this.iuand(l)},_.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},_.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},_.prototype.iuxor=function(l){var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var p=0;p<m.length;p++)this.words[p]=h.words[p]^m.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},_.prototype.ixor=function(l){return O(!(this.negative|l.negative)),this.iuxor(l)},_.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},_.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},_.prototype.inotn=function(l){O("number"==typeof l&&l>=0);var h=0|Math.ceil(l/26),m=l%26;this._expand(h),m>0&&h--;for(var p=0;p<h;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},_.prototype.notn=function(l){return this.clone().inotn(l)},_.prototype.setn=function(l,h){O("number"==typeof l&&l>=0);var m=l/26|0,p=l%26;return this._expand(m+1),this.words[m]=h?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},_.prototype.iadd=function(l){var h,m,p;if(0!==this.negative&&0===l.negative)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();this.length>l.length?(m=this,p=l):(m=l,p=this);for(var x=0,D=0;D<p.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+(0|p.words[D])+x),x=h>>>26;for(;0!==x&&D<m.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+x),x=h>>>26;if(this.length=m.length,0!==x)this.words[this.length]=x,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},_.prototype.add=function(l){var h;return 0!==l.negative&&0===this.negative?(l.negative=0,h=this.sub(l),l.negative^=1,h):0===l.negative&&0!==this.negative?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},_.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p,x,m=this.cmp(l);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,x=l):(p=l,x=this);for(var D=0,B=0;B<x.length;B++)D=(h=(0|p.words[B])-(0|x.words[B])+D)>>26,this.words[B]=67108863&h;for(;0!==D&&B<p.length;B++)D=(h=(0|p.words[B])+D)>>26,this.words[B]=67108863&h;if(0===D&&B<p.length&&p!==this)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=Math.max(this.length,B),p!==this&&(this.negative=1),this.strip()},_.prototype.sub=function(l){return this.clone().isub(l)};var te=function(l,h,m){var M,d,v,p=l.words,x=h.words,D=m.words,B=0,W=0|p[0],z=8191&W,Q=W>>>13,de=0|p[1],xe=8191&de,Ie=de>>>13,Le=0|p[2],ve=8191&Le,ye=Le>>>13,ke=0|p[3],me=8191&ke,Ee=ke>>>13,fe=0|p[4],he=8191&fe,ae=fe>>>13,ue=0|p[5],ge=8191&ue,Ae=ue>>>13,Ue=0|p[6],Ve=8191&Ue,ze=Ue>>>13,It=0|p[7],qe=8191&It,je=It>>>13,ut=0|p[8],$=8191&ut,T=ut>>>13,S=0|p[9],Z=8191&S,le=S>>>13,De=0|x[0],Oe=8191&De,Qe=De>>>13,Nt=0|x[1],ft=8191&Nt,St=Nt>>>13,Lt=0|x[2],Gt=8191&Lt,Vt=Lt>>>13,zn=0|x[3],cn=8191&zn,Bt=zn>>>13,Dt=0|x[4],nt=8191&Dt,Ye=Dt>>>13,At=0|x[5],kt=8191&At,$t=At>>>13,Bn=0|x[6],et=8191&Bn,it=Bn>>>13,ot=0|x[7],He=8191&ot,ht=ot>>>13,sn=0|x[8],Kt=8191&sn,rn=sn>>>13,ir=0|x[9],pn=8191&ir,un=ir>>>13;m.negative=l.negative^h.negative,m.length=19;var ur=(B+(M=Math.imul(z,Oe))|0)+((8191&(d=(d=Math.imul(z,Qe))+Math.imul(Q,Oe)|0))<<13)|0;B=((v=Math.imul(Q,Qe))+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,M=Math.imul(xe,Oe),d=(d=Math.imul(xe,Qe))+Math.imul(Ie,Oe)|0,v=Math.imul(Ie,Qe);var Hn=(B+(M=M+Math.imul(z,ft)|0)|0)+((8191&(d=(d=d+Math.imul(z,St)|0)+Math.imul(Q,ft)|0))<<13)|0;B=((v=v+Math.imul(Q,St)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(ve,Oe),d=(d=Math.imul(ve,Qe))+Math.imul(ye,Oe)|0,v=Math.imul(ye,Qe),M=M+Math.imul(xe,ft)|0,d=(d=d+Math.imul(xe,St)|0)+Math.imul(Ie,ft)|0,v=v+Math.imul(Ie,St)|0;var Pn=(B+(M=M+Math.imul(z,Gt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Vt)|0)+Math.imul(Q,Gt)|0))<<13)|0;B=((v=v+Math.imul(Q,Vt)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(me,Oe),d=(d=Math.imul(me,Qe))+Math.imul(Ee,Oe)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(ve,ft)|0,d=(d=d+Math.imul(ve,St)|0)+Math.imul(ye,ft)|0,v=v+Math.imul(ye,St)|0,M=M+Math.imul(xe,Gt)|0,d=(d=d+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0,v=v+Math.imul(Ie,Vt)|0;var Dn=(B+(M=M+Math.imul(z,cn)|0)|0)+((8191&(d=(d=d+Math.imul(z,Bt)|0)+Math.imul(Q,cn)|0))<<13)|0;B=((v=v+Math.imul(Q,Bt)|0)+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,M=Math.imul(he,Oe),d=(d=Math.imul(he,Qe))+Math.imul(ae,Oe)|0,v=Math.imul(ae,Qe),M=M+Math.imul(me,ft)|0,d=(d=d+Math.imul(me,St)|0)+Math.imul(Ee,ft)|0,v=v+Math.imul(Ee,St)|0,M=M+Math.imul(ve,Gt)|0,d=(d=d+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,v=v+Math.imul(ye,Vt)|0,M=M+Math.imul(xe,cn)|0,d=(d=d+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0,v=v+Math.imul(Ie,Bt)|0;var qt=(B+(M=M+Math.imul(z,nt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Ye)|0)+Math.imul(Q,nt)|0))<<13)|0;B=((v=v+Math.imul(Q,Ye)|0)+(d>>>13)|0)+(qt>>>26)|0,qt&=67108863,M=Math.imul(ge,Oe),d=(d=Math.imul(ge,Qe))+Math.imul(Ae,Oe)|0,v=Math.imul(Ae,Qe),M=M+Math.imul(he,ft)|0,d=(d=d+Math.imul(he,St)|0)+Math.imul(ae,ft)|0,v=v+Math.imul(ae,St)|0,M=M+Math.imul(me,Gt)|0,d=(d=d+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,v=v+Math.imul(Ee,Vt)|0,M=M+Math.imul(ve,cn)|0,d=(d=d+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,v=v+Math.imul(ye,Bt)|0,M=M+Math.imul(xe,nt)|0,d=(d=d+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0,v=v+Math.imul(Ie,Ye)|0;var Yt=(B+(M=M+Math.imul(z,kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,$t)|0)+Math.imul(Q,kt)|0))<<13)|0;B=((v=v+Math.imul(Q,$t)|0)+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(Ve,Oe),d=(d=Math.imul(Ve,Qe))+Math.imul(ze,Oe)|0,v=Math.imul(ze,Qe),M=M+Math.imul(ge,ft)|0,d=(d=d+Math.imul(ge,St)|0)+Math.imul(Ae,ft)|0,v=v+Math.imul(Ae,St)|0,M=M+Math.imul(he,Gt)|0,d=(d=d+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,v=v+Math.imul(ae,Vt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,v=v+Math.imul(Ee,Bt)|0,M=M+Math.imul(ve,nt)|0,d=(d=d+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,v=v+Math.imul(ye,Ye)|0,M=M+Math.imul(xe,kt)|0,d=(d=d+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0,v=v+Math.imul(Ie,$t)|0;var Xn=(B+(M=M+Math.imul(z,et)|0)|0)+((8191&(d=(d=d+Math.imul(z,it)|0)+Math.imul(Q,et)|0))<<13)|0;B=((v=v+Math.imul(Q,it)|0)+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,M=Math.imul(qe,Oe),d=(d=Math.imul(qe,Qe))+Math.imul(je,Oe)|0,v=Math.imul(je,Qe),M=M+Math.imul(Ve,ft)|0,d=(d=d+Math.imul(Ve,St)|0)+Math.imul(ze,ft)|0,v=v+Math.imul(ze,St)|0,M=M+Math.imul(ge,Gt)|0,d=(d=d+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,v=v+Math.imul(Ae,Vt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,v=v+Math.imul(ae,Bt)|0,M=M+Math.imul(me,nt)|0,d=(d=d+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,v=v+Math.imul(Ee,Ye)|0,M=M+Math.imul(ve,kt)|0,d=(d=d+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,v=v+Math.imul(ye,$t)|0,M=M+Math.imul(xe,et)|0,d=(d=d+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0,v=v+Math.imul(Ie,it)|0;var $n=(B+(M=M+Math.imul(z,He)|0)|0)+((8191&(d=(d=d+Math.imul(z,ht)|0)+Math.imul(Q,He)|0))<<13)|0;B=((v=v+Math.imul(Q,ht)|0)+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul($,Oe),d=(d=Math.imul($,Qe))+Math.imul(T,Oe)|0,v=Math.imul(T,Qe),M=M+Math.imul(qe,ft)|0,d=(d=d+Math.imul(qe,St)|0)+Math.imul(je,ft)|0,v=v+Math.imul(je,St)|0,M=M+Math.imul(Ve,Gt)|0,d=(d=d+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,v=v+Math.imul(ze,Vt)|0,M=M+Math.imul(ge,cn)|0,d=(d=d+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,v=v+Math.imul(Ae,Bt)|0,M=M+Math.imul(he,nt)|0,d=(d=d+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,v=v+Math.imul(ae,Ye)|0,M=M+Math.imul(me,kt)|0,d=(d=d+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,$t)|0,M=M+Math.imul(ve,et)|0,d=(d=d+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,v=v+Math.imul(ye,it)|0,M=M+Math.imul(xe,He)|0,d=(d=d+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0,v=v+Math.imul(Ie,ht)|0;var yr=(B+(M=M+Math.imul(z,Kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,rn)|0)+Math.imul(Q,Kt)|0))<<13)|0;B=((v=v+Math.imul(Q,rn)|0)+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(Z,Oe),d=(d=Math.imul(Z,Qe))+Math.imul(le,Oe)|0,v=Math.imul(le,Qe),M=M+Math.imul($,ft)|0,d=(d=d+Math.imul($,St)|0)+Math.imul(T,ft)|0,v=v+Math.imul(T,St)|0,M=M+Math.imul(qe,Gt)|0,d=(d=d+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,v=v+Math.imul(je,Vt)|0,M=M+Math.imul(Ve,cn)|0,d=(d=d+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,v=v+Math.imul(ze,Bt)|0,M=M+Math.imul(ge,nt)|0,d=(d=d+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,v=v+Math.imul(Ae,Ye)|0,M=M+Math.imul(he,kt)|0,d=(d=d+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,v=v+Math.imul(ae,$t)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,v=v+Math.imul(Ee,it)|0,M=M+Math.imul(ve,He)|0,d=(d=d+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,v=v+Math.imul(ye,ht)|0,M=M+Math.imul(xe,Kt)|0,d=(d=d+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0,v=v+Math.imul(Ie,rn)|0;var hr=(B+(M=M+Math.imul(z,pn)|0)|0)+((8191&(d=(d=d+Math.imul(z,un)|0)+Math.imul(Q,pn)|0))<<13)|0;B=((v=v+Math.imul(Q,un)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(Z,ft),d=(d=Math.imul(Z,St))+Math.imul(le,ft)|0,v=Math.imul(le,St),M=M+Math.imul($,Gt)|0,d=(d=d+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,v=v+Math.imul(T,Vt)|0,M=M+Math.imul(qe,cn)|0,d=(d=d+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,v=v+Math.imul(je,Bt)|0,M=M+Math.imul(Ve,nt)|0,d=(d=d+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,v=v+Math.imul(ze,Ye)|0,M=M+Math.imul(ge,kt)|0,d=(d=d+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,v=v+Math.imul(Ae,$t)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(ae,et)|0,v=v+Math.imul(ae,it)|0,M=M+Math.imul(me,He)|0,d=(d=d+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(ve,Kt)|0,d=(d=d+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,v=v+Math.imul(ye,rn)|0;var vr=(B+(M=M+Math.imul(xe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;B=((v=v+Math.imul(Ie,un)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(Z,Gt),d=(d=Math.imul(Z,Vt))+Math.imul(le,Gt)|0,v=Math.imul(le,Vt),M=M+Math.imul($,cn)|0,d=(d=d+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,v=v+Math.imul(T,Bt)|0,M=M+Math.imul(qe,nt)|0,d=(d=d+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,v=v+Math.imul(je,Ye)|0,M=M+Math.imul(Ve,kt)|0,d=(d=d+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,v=v+Math.imul(ze,$t)|0,M=M+Math.imul(ge,et)|0,d=(d=d+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,v=v+Math.imul(Ae,it)|0,M=M+Math.imul(he,He)|0,d=(d=d+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,v=v+Math.imul(ae,ht)|0,M=M+Math.imul(me,Kt)|0,d=(d=d+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,v=v+Math.imul(Ee,rn)|0;var sr=(B+(M=M+Math.imul(ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0))<<13)|0;B=((v=v+Math.imul(ye,un)|0)+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,M=Math.imul(Z,cn),d=(d=Math.imul(Z,Bt))+Math.imul(le,cn)|0,v=Math.imul(le,Bt),M=M+Math.imul($,nt)|0,d=(d=d+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,v=v+Math.imul(T,Ye)|0,M=M+Math.imul(qe,kt)|0,d=(d=d+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,v=v+Math.imul(je,$t)|0,M=M+Math.imul(Ve,et)|0,d=(d=d+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,v=v+Math.imul(ze,it)|0,M=M+Math.imul(ge,He)|0,d=(d=d+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,v=v+Math.imul(Ae,ht)|0,M=M+Math.imul(he,Kt)|0,d=(d=d+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,v=v+Math.imul(ae,rn)|0;var pr=(B+(M=M+Math.imul(me,pn)|0)|0)+((8191&(d=(d=d+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0))<<13)|0;B=((v=v+Math.imul(Ee,un)|0)+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(Z,nt),d=(d=Math.imul(Z,Ye))+Math.imul(le,nt)|0,v=Math.imul(le,Ye),M=M+Math.imul($,kt)|0,d=(d=d+Math.imul($,$t)|0)+Math.imul(T,kt)|0,v=v+Math.imul(T,$t)|0,M=M+Math.imul(qe,et)|0,d=(d=d+Math.imul(qe,it)|0)+Math.imul(je,et)|0,v=v+Math.imul(je,it)|0,M=M+Math.imul(Ve,He)|0,d=(d=d+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,v=v+Math.imul(ze,ht)|0,M=M+Math.imul(ge,Kt)|0,d=(d=d+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,v=v+Math.imul(Ae,rn)|0;var kr=(B+(M=M+Math.imul(he,pn)|0)|0)+((8191&(d=(d=d+Math.imul(he,un)|0)+Math.imul(ae,pn)|0))<<13)|0;B=((v=v+Math.imul(ae,un)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(Z,kt),d=(d=Math.imul(Z,$t))+Math.imul(le,kt)|0,v=Math.imul(le,$t),M=M+Math.imul($,et)|0,d=(d=d+Math.imul($,it)|0)+Math.imul(T,et)|0,v=v+Math.imul(T,it)|0,M=M+Math.imul(qe,He)|0,d=(d=d+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,v=v+Math.imul(je,ht)|0,M=M+Math.imul(Ve,Kt)|0,d=(d=d+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,v=v+Math.imul(ze,rn)|0;var Tr=(B+(M=M+Math.imul(ge,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0))<<13)|0;B=((v=v+Math.imul(Ae,un)|0)+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,et),d=(d=Math.imul(Z,it))+Math.imul(le,et)|0,v=Math.imul(le,it),M=M+Math.imul($,He)|0,d=(d=d+Math.imul($,ht)|0)+Math.imul(T,He)|0,v=v+Math.imul(T,ht)|0,M=M+Math.imul(qe,Kt)|0,d=(d=d+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,v=v+Math.imul(je,rn)|0;var jr=(B+(M=M+Math.imul(Ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0))<<13)|0;B=((v=v+Math.imul(ze,un)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(Z,He),d=(d=Math.imul(Z,ht))+Math.imul(le,He)|0,v=Math.imul(le,ht),M=M+Math.imul($,Kt)|0,d=(d=d+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,v=v+Math.imul(T,rn)|0;var Ir=(B+(M=M+Math.imul(qe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(qe,un)|0)+Math.imul(je,pn)|0))<<13)|0;B=((v=v+Math.imul(je,un)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,M=Math.imul(Z,Kt),d=(d=Math.imul(Z,rn))+Math.imul(le,Kt)|0,v=Math.imul(le,rn);var Ot=(B+(M=M+Math.imul($,pn)|0)|0)+((8191&(d=(d=d+Math.imul($,un)|0)+Math.imul(T,pn)|0))<<13)|0;B=((v=v+Math.imul(T,un)|0)+(d>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Wt=(B+(M=Math.imul(Z,pn))|0)+((8191&(d=(d=Math.imul(Z,un))+Math.imul(le,pn)|0))<<13)|0;return B=((v=Math.imul(le,un))+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D[0]=ur,D[1]=Hn,D[2]=Pn,D[3]=Dn,D[4]=qt,D[5]=Yt,D[6]=Xn,D[7]=$n,D[8]=yr,D[9]=hr,D[10]=vr,D[11]=sr,D[12]=pr,D[13]=kr,D[14]=Tr,D[15]=jr,D[16]=Ir,D[17]=Ot,D[18]=Wt,0!==B&&(D[19]=B,m.length++),m};function q(k,l,h){return(new J).mulp(k,l,h)}function J(k,l){this.x=k,this.y=l}Math.imul||(te=G),_.prototype.mulTo=function(l,h){var m,p=this.length+l.length;return m=10===this.length&&10===l.length?te(this,l,h):p<63?G(this,l,h):p<1024?function ee(k,l,h){h.negative=l.negative^k.negative,h.length=k.length+l.length;for(var m=0,p=0,x=0;x<h.length-1;x++){var D=p;p=0;for(var B=67108863&m,M=Math.min(x,l.length-1),d=Math.max(0,x-k.length+1);d<=M;d++){var Q=(0|k.words[x-d])*(0|l.words[d]),de=67108863&Q;B=67108863&(de=de+B|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}h.words[x]=B,m=D,D=p}return 0!==m?h.words[x]=m:h.length--,h.strip()}(this,l,h):q(this,l,h),m},J.prototype.makeRBT=function(l){for(var h=new Array(l),m=_.prototype._countBits(l)-1,p=0;p<l;p++)h[p]=this.revBin(p,m,l);return h},J.prototype.revBin=function(l,h,m){if(0===l||l===m-1)return l;for(var p=0,x=0;x<h;x++)p|=(1&l)<<h-x-1,l>>=1;return p},J.prototype.permute=function(l,h,m,p,x,D){for(var B=0;B<D;B++)p[B]=h[l[B]],x[B]=m[l[B]]},J.prototype.transform=function(l,h,m,p,x,D){this.permute(D,l,h,m,p,x);for(var B=1;B<x;B<<=1)for(var M=B<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<x;W+=M)for(var z=d,Q=v,de=0;de<B;de++){var xe=m[W+de],Ie=p[W+de],Le=m[W+de+B],ve=p[W+de+B],ye=z*Le-Q*ve;ve=z*ve+Q*Le,m[W+de]=xe+(Le=ye),p[W+de]=Ie+ve,m[W+de+B]=xe-Le,p[W+de+B]=Ie-ve,de!==M&&(ye=d*z-v*Q,Q=d*Q+v*z,z=ye)}},J.prototype.guessLen13b=function(l,h){var m=1|Math.max(h,l),p=1&m,x=0;for(m=m/2|0;m;m>>>=1)x++;return 1<<x+1+p},J.prototype.conjugate=function(l,h,m){if(!(m<=1))for(var p=0;p<m/2;p++){var x=l[p];l[p]=l[m-p-1],l[m-p-1]=x,x=h[p],h[p]=-h[m-p-1],h[m-p-1]=-x}},J.prototype.normalize13b=function(l,h){for(var m=0,p=0;p<h/2;p++){var x=8192*Math.round(l[2*p+1]/h)+Math.round(l[2*p]/h)+m;l[p]=67108863&x,m=x<67108864?0:x/67108864|0}return l},J.prototype.convert13b=function(l,h,m,p){for(var x=0,D=0;D<h;D++)m[2*D]=8191&(x+=0|l[D]),m[2*D+1]=8191&(x>>>=13),x>>>=13;for(D=2*h;D<p;++D)m[D]=0;O(0===x),O(!(-8192&x))},J.prototype.stub=function(l){for(var h=new Array(l),m=0;m<l;m++)h[m]=0;return h},J.prototype.mulp=function(l,h,m){var p=2*this.guessLen13b(l.length,h.length),x=this.makeRBT(p),D=this.stub(p),B=new Array(p),M=new Array(p),d=new Array(p),v=new Array(p),W=new Array(p),z=new Array(p),Q=m.words;Q.length=p,this.convert13b(l.words,l.length,B,p),this.convert13b(h.words,h.length,v,p),this.transform(B,D,M,d,p,x),this.transform(v,D,W,z,p,x);for(var de=0;de<p;de++){var xe=M[de]*W[de]-d[de]*z[de];d[de]=M[de]*z[de]+d[de]*W[de],M[de]=xe}return this.conjugate(M,d,p),this.transform(M,d,Q,D,p,x),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=l.negative^h.negative,m.length=l.length+h.length,m.strip()},_.prototype.mul=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},_.prototype.mulf=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),q(this,l,h)},_.prototype.imul=function(l){return this.clone().mulTo(l,this)},_.prototype.imuln=function(l){O("number"==typeof l),O(l<67108864);for(var h=0,m=0;m<this.length;m++){var p=(0|this.words[m])*l,x=(67108863&p)+(67108863&h);h>>=26,h+=p/67108864|0,h+=x>>>26,this.words[m]=67108863&x}return 0!==h&&(this.words[m]=h,this.length++),this},_.prototype.muln=function(l){return this.clone().imuln(l)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(l){var h=function j(k){for(var l=new Array(k.bitLength()),h=0;h<l.length;h++){var p=h%26;l[h]=(k.words[h/26|0]&1<<p)>>>p}return l}(l);if(0===h.length)return new _(1);for(var m=this,p=0;p<h.length&&0===h[p];p++,m=m.sqr());if(++p<h.length)for(var x=m.sqr();p<h.length;p++,x=x.sqr())0!==h[p]&&(m=m.mul(x));return m},_.prototype.iushln=function(l){O("number"==typeof l&&l>=0);var x,h=l%26,m=(l-h)/26,p=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(x=0;x<this.length;x++){var B=this.words[x]&p;this.words[x]=(0|this.words[x])-B<<h|D,D=B>>>26-h}D&&(this.words[x]=D,this.length++)}if(0!==m){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},_.prototype.ishln=function(l){return O(0===this.negative),this.iushln(l)},_.prototype.iushrn=function(l,h,m){var p;O("number"==typeof l&&l>=0),p=h?(h-h%26)/26:0;var x=l%26,D=Math.min((l-x)/26,this.length),B=67108863^67108863>>>x<<x,M=m;if(p-=D,p=Math.max(0,p),M){for(var d=0;d<D;d++)M.words[d]=this.words[d];M.length=D}if(0!==D)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=p);d--){var W=0|this.words[d];this.words[d]=v<<26-x|W>>>x,v=W&B}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},_.prototype.ishrn=function(l,h,m){return O(0===this.negative),this.iushrn(l,h,m)},_.prototype.shln=function(l){return this.clone().ishln(l)},_.prototype.ushln=function(l){return this.clone().iushln(l)},_.prototype.shrn=function(l){return this.clone().ishrn(l)},_.prototype.ushrn=function(l){return this.clone().iushrn(l)},_.prototype.testn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return!(this.length<=m||!(this.words[m]&1<<h))},_.prototype.imaskn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==h&&m++,this.length=Math.min(m,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},_.prototype.maskn=function(l){return this.clone().imaskn(l)},_.prototype.iaddn=function(l){return O("number"==typeof l),O(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},_.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},_.prototype.isubn=function(l){if(O("number"==typeof l),O(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},_.prototype.addn=function(l){return this.clone().iaddn(l)},_.prototype.subn=function(l){return this.clone().isubn(l)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(l,h,m){var x;this._expand(l.length+m);var D,B=0;for(x=0;x<l.length;x++){D=(0|this.words[x+m])+B;var M=(0|l.words[x])*h;B=((D-=67108863&M)>>26)-(M/67108864|0),this.words[x+m]=67108863&D}for(;x<this.length-m;x++)B=(D=(0|this.words[x+m])+B)>>26,this.words[x+m]=67108863&D;if(0===B)return this.strip();for(O(-1===B),B=0,x=0;x<this.length;x++)B=(D=-(0|this.words[x])+B)>>26,this.words[x]=67108863&D;return this.negative=1,this.strip()},_.prototype._wordDiv=function(l,h){var m,p=this.clone(),x=l,D=0|x.words[x.length-1];0!=(m=26-this._countBits(D))&&(x=x.ushln(m),p.iushln(m),D=0|x.words[x.length-1]);var d,M=p.length-x.length;if("mod"!==h){(d=new _(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=p.clone()._ishlnsubmul(x,1,M);0===W.negative&&(p=W,d&&(d.words[M]=1));for(var z=M-1;z>=0;z--){var Q=67108864*(0|p.words[x.length+z])+(0|p.words[x.length+z-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(x,Q,z);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(x,1,z),p.isZero()||(p.negative^=1);d&&(d.words[z]=Q)}return d&&d.strip(),p.strip(),"div"!==h&&0!==m&&p.iushrn(m),{div:d||null,mod:p}},_.prototype.divmod=function(l,h,m){return O(!l.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===l.negative?(D=this.neg().divmod(l,h),"mod"!==h&&(p=D.div.neg()),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.iadd(l)),{div:p,mod:x}):0===this.negative&&0!==l.negative?(D=this.divmod(l.neg(),h),"mod"!==h&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),h),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.isub(l)),{div:D.div,mod:x}):l.length>this.length||this.cmp(l)<0?{div:new _(0),mod:this}:1===l.length?"div"===h?{div:this.divn(l.words[0]),mod:null}:"mod"===h?{div:null,mod:new _(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new _(this.modn(l.words[0]))}:this._wordDiv(l,h);var p,x,D},_.prototype.div=function(l){return this.divmod(l,"div",!1).div},_.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},_.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},_.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var m=0!==h.div.negative?h.mod.isub(l):h.mod,p=l.ushrn(1),x=l.andln(1),D=m.cmp(p);return D<0||1===x&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},_.prototype.modn=function(l){O(l<=67108863);for(var h=(1<<26)%l,m=0,p=this.length-1;p>=0;p--)m=(h*m+(0|this.words[p]))%l;return m},_.prototype.idivn=function(l){O(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*h;this.words[m]=p/l|0,h=p%l}return this.strip()},_.prototype.divn=function(l){return this.clone().idivn(l)},_.prototype.egcd=function(l){O(0===l.negative),O(!l.isZero());var h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=new _(0),B=new _(1),M=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++M;for(var d=m.clone(),v=h.clone();!h.isZero();){for(var W=0,z=1;!(h.words[0]&z)&&W<26;++W,z<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(d),x.isub(v)),p.iushrn(1),x.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||B.isOdd())&&(D.iadd(d),B.isub(v)),D.iushrn(1),B.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(D),x.isub(B)):(m.isub(h),D.isub(p),B.isub(x))}return{a:D,b:B,gcd:m.iushln(M)}},_.prototype._invmp=function(l){O(0===l.negative),O(!l.isZero());var W,h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var B=0,M=1;!(h.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(h.iushrn(B);B-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var d=0,v=1;!(m.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(x)):(m.isub(h),x.isub(p))}return(W=0===h.cmpn(1)?p:x).cmpn(0)<0&&W.iadd(l),W},_.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),m=l.clone();h.negative=0,m.negative=0;for(var p=0;h.isEven()&&m.isEven();p++)h.iushrn(1),m.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var D=h;h=m,m=D}else if(0===x||0===m.cmpn(1))break;h.isub(m)}return m.iushln(p)},_.prototype.invm=function(l){return this.egcd(l).a.umod(l)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(l){return this.words[0]&l},_.prototype.bincn=function(l){O("number"==typeof l);var h=l%26,m=(l-h)/26,p=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var x=p,D=m;0!==x&&D<this.length;D++){var B=0|this.words[D];x=(B+=x)>>>26,this.words[D]=B&=67108863}return 0!==x&&(this.words[D]=x,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(l){var m,h=l<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)m=1;else{h&&(l=-l),O(l<=67108863,"Number is too big");var p=0|this.words[0];m=p===l?0:p<l?-1:1}return 0!==this.negative?0|-m:m},_.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var h=this.ucmp(l);return 0!==this.negative?0|-h:h},_.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],x=0|l.words[m];if(p!==x){p<x?h=-1:p>x&&(h=1);break}}return h},_.prototype.gtn=function(l){return 1===this.cmpn(l)},_.prototype.gt=function(l){return 1===this.cmp(l)},_.prototype.gten=function(l){return this.cmpn(l)>=0},_.prototype.gte=function(l){return this.cmp(l)>=0},_.prototype.ltn=function(l){return-1===this.cmpn(l)},_.prototype.lt=function(l){return-1===this.cmp(l)},_.prototype.lten=function(l){return this.cmpn(l)<=0},_.prototype.lte=function(l){return this.cmp(l)<=0},_.prototype.eqn=function(l){return 0===this.cmpn(l)},_.prototype.eq=function(l){return 0===this.cmp(l)},_.red=function(l){return new we(l)},_.prototype.toRed=function(l){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(l){return this.red=l,this},_.prototype.forceRed=function(l){return O(!this.red,"Already a number in reduction context"),this._forceRed(l)},_.prototype.redAdd=function(l){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},_.prototype.redIAdd=function(l){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},_.prototype.redSub=function(l){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},_.prototype.redISub=function(l){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},_.prototype.redShl=function(l){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},_.prototype.redMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},_.prototype.redIMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(l){return O(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ne={k256:null,p224:null,p192:null,p25519:null};function ie(k,l){this.name=k,this.p=new _(l,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function re(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ce(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var l=_._prime(k);this.m=l.p,this.prime=l}else O(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function Me(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var l=new _(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m,h=l;do{this.split(h,this.tmp),m=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:h.ucmp(this.p);return 0===p?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},ie.prototype.split=function(l,h){l.iushrn(this.n,0,h)},ie.prototype.imulK=function(l){return l.imul(this.k)},X(re,ie),re.prototype.split=function(l,h){for(var m=4194303,p=Math.min(l.length,9),x=0;x<p;x++)h.words[x]=l.words[x];if(h.length=p,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(h.words[h.length++]=D&m,x=10;x<l.length;x++){var B=0|l.words[x];l.words[x-10]=(B&m)<<4|D>>>22,D=B}l.words[x-10]=D>>>=22,l.length-=0===D&&l.length>10?10:9},re.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,m=0;m<l.length;m++){var p=0|l.words[m];l.words[m]=67108863&(h+=977*p),h=64*p+(h/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},X(ce,ie),X(se,ie),X(pe,ie),pe.prototype.imulK=function(l){for(var h=0,m=0;m<l.length;m++){var p=19*(0|l.words[m])+h,x=67108863&p;p>>>=26,l.words[m]=x,h=p}return 0!==h&&(l.words[l.length++]=h),l},_._prime=function(l){if(ne[l])return ne[l];var h;if("k256"===l)h=new re;else if("p224"===l)h=new ce;else if("p192"===l)h=new se;else{if("p25519"!==l)throw new Error("Unknown prime "+l);h=new pe}return ne[l]=h,h},we.prototype._verify1=function(l){O(0===l.negative,"red works only with positives"),O(l.red,"red works only with red numbers")},we.prototype._verify2=function(l,h){O(!(l.negative|h.negative),"red works only with positives"),O(l.red&&l.red===h.red,"red works only with red numbers")},we.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},we.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},we.prototype.add=function(l,h){this._verify2(l,h);var m=l.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},we.prototype.iadd=function(l,h){this._verify2(l,h);var m=l.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},we.prototype.sub=function(l,h){this._verify2(l,h);var m=l.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},we.prototype.isub=function(l,h){this._verify2(l,h);var m=l.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},we.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},we.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},we.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},we.prototype.isqr=function(l){return this.imul(l,l.clone())},we.prototype.sqr=function(l){return this.mul(l,l)},we.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var m=this.m.add(new _(1)).iushrn(2);return this.pow(l,m)}for(var p=this.m.subn(1),x=0;!p.isZero()&&0===p.andln(1);)x++,p.iushrn(1);O(!p.isZero());var D=new _(1).toRed(this),B=D.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new _(2*d*d).toRed(this);0!==this.pow(d,M).cmp(B);)d.redIAdd(B);for(var v=this.pow(d,p),W=this.pow(l,p.addn(1).iushrn(1)),z=this.pow(l,p),Q=x;0!==z.cmp(D);){for(var de=z,xe=0;0!==de.cmp(D);xe++)de=de.redSqr();O(xe<Q);var Ie=this.pow(v,new _(1).iushln(Q-xe-1));W=W.redMul(Ie),v=Ie.redSqr(),z=z.redMul(v),Q=xe}return W},we.prototype.invm=function(l){var h=l._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(l,h){if(h.isZero())return new _(1).toRed(this);if(0===h.cmpn(1))return l.clone();var p=new Array(16);p[0]=new _(1).toRed(this),p[1]=l;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],l);var D=p[0],B=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),x=h.length-1;x>=0;x--){for(var v=h.words[x],W=d-1;W>=0;W--){var z=v>>W&1;D!==p[0]&&(D=this.sqr(D)),0!==z||0!==B?(B<<=1,B|=z,(4==++M||0===x&&0===W)&&(D=this.mul(D,p[B]),M=0,B=0)):M=0}d=26}return D},we.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},we.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},_.mont=function(l){return new Me(l)},X(Me,we),Me.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Me.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},Me.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new _(0)._forceRed(this);var m=l.mul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},48967:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ephemeralKeySize=V.symmetricNonceLength=V.symmetricAlgorithm=V.isHkdfKeyCompressed=V.isEphemeralKeyCompressed=V.ellipticCurve=V.ECIES_CONFIG=void 0;var g=E(29277);V.ECIES_CONFIG=new(function(){return function L(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),V.ellipticCurve=function(){return V.ECIES_CONFIG.ellipticCurve},V.isEphemeralKeyCompressed=function(){return V.ECIES_CONFIG.isEphemeralKeyCompressed},V.isHkdfKeyCompressed=function(){return V.ECIES_CONFIG.isHkdfKeyCompressed},V.symmetricAlgorithm=function(){return V.ECIES_CONFIG.symmetricAlgorithm},V.symmetricNonceLength=function(){return V.ECIES_CONFIG.symmetricNonceLength},V.ephemeralKeySize=function(){var L={secp256k1:V.ECIES_CONFIG.isEphemeralKeyCompressed?g.COMPRESSED_PUBLIC_KEY_SIZE:g.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:g.CURVE25519_PUBLIC_KEY_SIZE,ed25519:g.CURVE25519_PUBLIC_KEY_SIZE};if(V.ECIES_CONFIG.ellipticCurve in L)return L[V.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.AEAD_TAG_LENGTH=V.XCHACHA20_NONCE_LENGTH=V.CURVE25519_PUBLIC_KEY_SIZE=V.ETH_PUBLIC_KEY_SIZE=V.UNCOMPRESSED_PUBLIC_KEY_SIZE=V.COMPRESSED_PUBLIC_KEY_SIZE=V.SECRET_KEY_LENGTH=void 0,V.SECRET_KEY_LENGTH=32,V.COMPRESSED_PUBLIC_KEY_SIZE=33,V.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,V.ETH_PUBLIC_KEY_SIZE=64,V.CURVE25519_PUBLIC_KEY_SIZE=32,V.XCHACHA20_NONCE_LENGTH=24,V.AEAD_TAG_LENGTH=16},63397:(Ne,V,E)=>{"use strict";V.VV=V.Yc=V.w=void 0;var w=E(23790),O=E(48967),X=E(40774),_=E(77399);V.w=function R(F,C){var ee,Y=new X.PrivateKey,j=F instanceof Uint8Array?new X.PublicKey(F):X.PublicKey.fromHex(F),G=Y.encapsulate(j),te=(0,_.aesEncrypt)(G,C);return ee=(0,O.isEphemeralKeyCompressed)()?Y.publicKey.compressed:Y.publicKey.uncompressed,Buffer.from((0,w.concatBytes)(ee,te))},V.Yc=function A(F,C){var Y=F instanceof Uint8Array?new X.PrivateKey(F):X.PrivateKey.fromHex(F),j=(0,O.ephemeralKeySize)(),G=new X.PublicKey(C.subarray(0,j)),te=C.subarray(j),ee=G.decapsulate(Y);return Buffer.from((0,_.aesDecrypt)(ee,te))};var N=E(48967);Object.defineProperty(V,"VV",{enumerable:!0,get:function(){return N.ECIES_CONFIG}});E(40774)},1210:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PrivateKey=void 0;var g=E(23790),w=E(48967),O=E(77399),X=E(40762),_=function(){function R(A){var N=void 0===A?(0,O.getValidSecret)():A;if(!(0,O.isValidPrivateKey)(N))throw new Error("Invalid private key");this.data=N,this.publicKey=new X.PublicKey((0,O.getPublicKey)(N))}return R.fromHex=function(A){return new R((0,O.decodeHex)(A))},Object.defineProperty(R.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),R.prototype.toHex=function(){return(0,g.bytesToHex)(this.data)},R.prototype.encapsulate=function(A){var N,L;return(0,w.isHkdfKeyCompressed)()?(N=this.publicKey.compressed,L=this.multiply(A,!0)):(N=this.publicKey.uncompressed,L=this.multiply(A,!1)),(0,O.getSharedKey)(N,L)},R.prototype.multiply=function(A,N){return void 0===N&&(N=!1),(0,O.getSharedPoint)(this.data,A.compressed,N)},R.prototype.equals=function(A){return(0,g.equalBytes)(this.data,A.data)},R}();V.PrivateKey=_},40762:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PublicKey=void 0;var g=E(23790),w=E(48967),O=E(77399),X=function(){function _(R){this.data=(0,O.convertPublicKeyFormat)(R,!0)}return _.fromHex=function(R){return new _((0,O.hexToPublicKey)(R))},Object.defineProperty(_.prototype,"uncompressed",{get:function(){return Buffer.from((0,O.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),_.prototype.toHex=function(R){return void 0===R&&(R=!0),(0,g.bytesToHex)(R?this.data:this.uncompressed)},_.prototype.decapsulate=function(R){var A,N;return(0,w.isHkdfKeyCompressed)()?(A=this.data,N=R.multiply(this,!0)):(A=this.uncompressed,N=R.multiply(this,!1)),(0,O.getSharedKey)(A,N)},_.prototype.equals=function(R){return(0,g.equalBytes)(this.data,R.data)},_}();V.PublicKey=X},40774:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PublicKey=V.PrivateKey=void 0;var g=E(1210);Object.defineProperty(V,"PrivateKey",{enumerable:!0,get:function(){return g.PrivateKey}});var w=E(40762);Object.defineProperty(V,"PublicKey",{enumerable:!0,get:function(){return w.PublicKey}})},1849:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.aes256gcm=void 0;var g=E(23790),w=E(91426),O=E(29277);V.aes256gcm=function X(_,R,A){return{tagLength:O.AEAD_TAG_LENGTH,encrypt:function(F){var C=(0,w.createCipheriv)("aes-256-gcm",_,R);A&&C.setAAD(A);var Y=C.update(F),j=C.final();return(0,g.concatBytes)(Y,j,C.getAuthTag())},decrypt:function(F){var C=F.subarray(0,F.length-O.AEAD_TAG_LENGTH),Y=F.subarray(-O.AEAD_TAG_LENGTH),j=(0,w.createDecipheriv)("aes-256-gcm",_,R);A&&j.setAAD(A),j.setAuthTag(Y);var G=j.update(C),te=j.final();return(0,g.concatBytes)(G,te)}}}},77553:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.hexToPublicKey=V.convertPublicKeyFormat=V.getSharedPoint=V.getSharedKey=V.getPublicKey=V.isValidPrivateKey=V.getValidSecret=void 0;var g=E(23790),w=E(42098),O=E(57340),X=E(91717),_=E(48967),R=E(29277),A=E(99666),N=E(63364);function F(q){return ee(function(J){return J.utils.isValidPrivateKey(q)},function(){return!0},function(){return!0})}function ee(q,J,ne){if("secp256k1"===(0,_.ellipticCurve)())return q(X.secp256k1);if("x25519"===(0,_.ellipticCurve)())return J(O.x25519);if("ed25519"===(0,_.ellipticCurve)())return ne(O.ed25519);throw new Error("Not implemented")}V.getValidSecret=function L(){var q;do{q=(0,w.randomBytes)(R.SECRET_KEY_LENGTH)}while(!F(q));return q},V.isValidPrivateKey=F,V.getPublicKey=function C(q){return ee(function(J){return J.getPublicKey(q)},function(J){return J.getPublicKey(q)},function(J){return J.getPublicKey(q)})},V.getSharedKey=function Y(q,J){return(0,N.deriveKey)((0,g.concatBytes)(q,J))},V.getSharedPoint=function j(q,J,ne){return ee(function(ie){return ie.getSharedSecret(q,J,ne)},function(ie){return ie.getSharedSecret(q,J)},function(ie){var re=ie.utils.getExtendedPublicKey(q).scalar;return ie.ExtendedPoint.fromHex(J).multiply(re).toRawBytes()})},V.convertPublicKeyFormat=function G(q,J){return ee(function(ne){return ne.getSharedSecret(BigInt(1),q,J)},function(){return q},function(){return q})},V.hexToPublicKey=function te(q){var J=(0,A.decodeHex)(q);return ee(function(){if(J.length===R.ETH_PUBLIC_KEY_SIZE){var ne=new Uint8Array(1+J.length);return ne.set([4]),ne.set(J,1),ne}return J},function(){return J},function(){return J})}},99666:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.decodeHex=V.remove0x=void 0;var g=E(23790);function w(X){return X.startsWith("0x")||X.startsWith("0X")?X.slice(2):X}V.remove0x=w,V.decodeHex=function O(X){return(0,g.hexToBytes)(w(X))}},77399:function(Ne,V,E){"use strict";var g=this&&this.__createBinding||(Object.create?function(O,X,_,R){void 0===R&&(R=_);var A=Object.getOwnPropertyDescriptor(X,_);(!A||("get"in A?!X.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return X[_]}}),Object.defineProperty(O,R,A)}:function(O,X,_,R){void 0===R&&(R=_),O[R]=X[_]}),w=this&&this.__exportStar||function(O,X){for(var _ in O)"default"!==_&&!Object.prototype.hasOwnProperty.call(X,_)&&g(X,O,_)};Object.defineProperty(V,"__esModule",{value:!0}),w(E(77553),V),w(E(99666),V),w(E(63364),V)},63364:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.deriveKey=V.aesDecrypt=V.aesEncrypt=void 0;var g=E(59219),w=E(23790),O=E(42098),X=E(57334),_=E(1806),R=E(48967),A=E(29277),N=E(1849);function Y(te,ee,q){var J=(0,R.symmetricAlgorithm)(),ne=te?j:G;if("aes-256-gcm"===J)return ne(N.aes256gcm,ee,q,(0,R.symmetricNonceLength)());if("xchacha20"===J)return ne(g.xchacha20poly1305,ee,q,A.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function j(te,ee,q,J){var ne=(0,O.randomBytes)(J),re=te(ee,ne).encrypt(q),ce=re.subarray(0,re.length-A.AEAD_TAG_LENGTH),se=re.subarray(-A.AEAD_TAG_LENGTH);return(0,w.concatBytes)(ne,se,ce)}function G(te,ee,q,J){var ne=J+A.AEAD_TAG_LENGTH,ie=q.subarray(0,J),re=q.subarray(J,ne),ce=q.subarray(ne),se=te(ee,Uint8Array.from(ie)),pe=(0,w.concatBytes)(ce,re);return se.decrypt(pe)}V.aesEncrypt=function L(te,ee){return Y(!0,te,ee)},V.aesDecrypt=function F(te,ee){return Y(!1,te,ee)},V.deriveKey=function C(te){return(0,X.hkdf)(_.sha256,te,void 0,void 0,32)}},32856:(Ne,V)=>{"use strict";function E(A){if(!Number.isSafeInteger(A)||A<0)throw new Error(`Wrong positive integer: ${A}`)}function g(A){if("boolean"!=typeof A)throw new Error(`Expected boolean, not ${A}`)}function w(A,...N){if(!(A instanceof Uint8Array))throw new Error("Expected Uint8Array");if(N.length>0&&!N.includes(A.length))throw new Error(`Expected Uint8Array of length ${N}, not of length=${A.length}`)}function O(A){if("function"!=typeof A||"function"!=typeof A.create)throw new Error("hash must be wrapped by utils.wrapConstructor");E(A.outputLen),E(A.blockLen)}function X(A,N=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(N&&A.finished)throw new Error("Hash#digest() has already been called")}function _(A,N){w(A);const L=N.outputLen;if(A.length<L)throw new Error(`digestInto() expects output buffer of length at least ${L}`)}Object.defineProperty(V,"__esModule",{value:!0}),V.output=V.exists=V.hash=V.bytes=V.bool=V.number=void 0,V.number=E,V.bool=g,V.bytes=w,V.hash=O,V.exists=X,V.output=_,V.default={number:E,bool:g,bytes:w,hash:O,exists:X,output:_}},17035:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.poly1305=V.wrapConstructorWithKey=void 0;const g=E(23790),w=E(32856),O=(R,A)=>255&R[A++]|(255&R[A++])<<8;class X{constructor(A){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,A=(0,g.toBytes)(A),(0,g.ensureBytes)(A,32);const N=O(A,0),L=O(A,2),F=O(A,4),C=O(A,6),Y=O(A,8),j=O(A,10),G=O(A,12),te=O(A,14);this.r[0]=8191&N,this.r[1]=8191&(N>>>13|L<<3),this.r[2]=7939&(L>>>10|F<<6),this.r[3]=8191&(F>>>7|C<<9),this.r[4]=255&(C>>>4|Y<<12),this.r[5]=Y>>>1&8190,this.r[6]=8191&(Y>>>14|j<<2),this.r[7]=8065&(j>>>11|G<<5),this.r[8]=8191&(G>>>8|te<<8),this.r[9]=te>>>5&127;for(let ee=0;ee<8;ee++)this.pad[ee]=O(A,16+2*ee)}process(A,N,L=!1){const F=L?0:2048,{h:C,r:Y}=this,j=Y[0],G=Y[1],te=Y[2],ee=Y[3],q=Y[4],J=Y[5],ne=Y[6],ie=Y[7],re=Y[8],ce=Y[9],se=O(A,N+0),pe=O(A,N+2),we=O(A,N+4),Me=O(A,N+6),k=O(A,N+8),l=O(A,N+10),h=O(A,N+12),m=O(A,N+14);let p=C[0]+(8191&se),x=C[1]+(8191&(se>>>13|pe<<3)),D=C[2]+(8191&(pe>>>10|we<<6)),B=C[3]+(8191&(we>>>7|Me<<9)),M=C[4]+(8191&(Me>>>4|k<<12)),d=C[5]+(k>>>1&8191),v=C[6]+(8191&(k>>>14|l<<2)),W=C[7]+(8191&(l>>>11|h<<5)),z=C[8]+(8191&(h>>>8|m<<8)),Q=C[9]+(m>>>5|F),de=0,xe=de+p*j+x*(5*ce)+D*(5*re)+B*(5*ie)+M*(5*ne);de=xe>>>13,xe&=8191,xe+=d*(5*J)+v*(5*q)+W*(5*ee)+z*(5*te)+Q*(5*G),de+=xe>>>13,xe&=8191;let Ie=de+p*G+x*j+D*(5*ce)+B*(5*re)+M*(5*ie);de=Ie>>>13,Ie&=8191,Ie+=d*(5*ne)+v*(5*J)+W*(5*q)+z*(5*ee)+Q*(5*te),de+=Ie>>>13,Ie&=8191;let Le=de+p*te+x*G+D*j+B*(5*ce)+M*(5*re);de=Le>>>13,Le&=8191,Le+=d*(5*ie)+v*(5*ne)+W*(5*J)+z*(5*q)+Q*(5*ee),de+=Le>>>13,Le&=8191;let ve=de+p*ee+x*te+D*G+B*j+M*(5*ce);de=ve>>>13,ve&=8191,ve+=d*(5*re)+v*(5*ie)+W*(5*ne)+z*(5*J)+Q*(5*q),de+=ve>>>13,ve&=8191;let ye=de+p*q+x*ee+D*te+B*G+M*j;de=ye>>>13,ye&=8191,ye+=d*(5*ce)+v*(5*re)+W*(5*ie)+z*(5*ne)+Q*(5*J),de+=ye>>>13,ye&=8191;let ke=de+p*J+x*q+D*ee+B*te+M*G;de=ke>>>13,ke&=8191,ke+=d*j+v*(5*ce)+W*(5*re)+z*(5*ie)+Q*(5*ne),de+=ke>>>13,ke&=8191;let me=de+p*ne+x*J+D*q+B*ee+M*te;de=me>>>13,me&=8191,me+=d*G+v*j+W*(5*ce)+z*(5*re)+Q*(5*ie),de+=me>>>13,me&=8191;let Ee=de+p*ie+x*ne+D*J+B*q+M*ee;de=Ee>>>13,Ee&=8191,Ee+=d*te+v*G+W*j+z*(5*ce)+Q*(5*re),de+=Ee>>>13,Ee&=8191;let fe=de+p*re+x*ie+D*ne+B*J+M*q;de=fe>>>13,fe&=8191,fe+=d*ee+v*te+W*G+z*j+Q*(5*ce),de+=fe>>>13,fe&=8191;let he=de+p*ce+x*re+D*ie+B*ne+M*J;de=he>>>13,he&=8191,he+=d*q+v*ee+W*te+z*G+Q*j,de+=he>>>13,he&=8191,de=(de<<2)+de|0,de=de+xe|0,xe=8191&de,de>>>=13,Ie+=de,C[0]=xe,C[1]=Ie,C[2]=Le,C[3]=ve,C[4]=ye,C[5]=ke,C[6]=me,C[7]=Ee,C[8]=fe,C[9]=he}finalize(){const{h:A,pad:N}=this,L=new Uint16Array(10);let F=A[1]>>>13;A[1]&=8191;for(let j=2;j<10;j++)A[j]+=F,F=A[j]>>>13,A[j]&=8191;A[0]+=5*F,F=A[0]>>>13,A[0]&=8191,A[1]+=F,F=A[1]>>>13,A[1]&=8191,A[2]+=F,L[0]=A[0]+5,F=L[0]>>>13,L[0]&=8191;for(let j=1;j<10;j++)L[j]=A[j]+F,F=L[j]>>>13,L[j]&=8191;L[9]-=8192;let C=(1^F)-1;for(let j=0;j<10;j++)L[j]&=C;C=~C;for(let j=0;j<10;j++)A[j]=A[j]&C|L[j];A[0]=65535&(A[0]|A[1]<<13),A[1]=65535&(A[1]>>>3|A[2]<<10),A[2]=65535&(A[2]>>>6|A[3]<<7),A[3]=65535&(A[3]>>>9|A[4]<<4),A[4]=65535&(A[4]>>>12|A[5]<<1|A[6]<<14),A[5]=65535&(A[6]>>>2|A[7]<<11),A[6]=65535&(A[7]>>>5|A[8]<<8),A[7]=65535&(A[8]>>>8|A[9]<<5);let Y=A[0]+N[0];A[0]=65535&Y;for(let j=1;j<8;j++)Y=(A[j]+N[j]|0)+(Y>>>16)|0,A[j]=65535&Y}update(A){w.default.exists(this);const{buffer:N,blockLen:L}=this,F=(A=(0,g.toBytes)(A)).length;for(let C=0;C<F;){const Y=Math.min(L-this.pos,F-C);if(Y!==L)N.set(A.subarray(C,C+Y),this.pos),this.pos+=Y,C+=Y,this.pos===L&&(this.process(N,0,!1),this.pos=0);else for(;L<=F-C;C+=L)this.process(A,C)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(A){w.default.exists(this),w.default.output(A,this),this.finished=!0;const{buffer:N,h:L}=this;let{pos:F}=this;if(F){for(N[F++]=1;F<16;F++)N[F]=0;this.process(N,0,!0)}this.finalize();let C=0;for(let Y=0;Y<8;Y++)A[C++]=L[Y]>>>0,A[C++]=L[Y]>>>8;return A}digest(){const{buffer:A,outputLen:N}=this;this.digestInto(A);const L=A.slice(0,N);return this.destroy(),L}}function _(R){const A=(L,F)=>R(F).update((0,g.toBytes)(L)).digest(),N=R(new Uint8Array(32));return A.outputLen=N.outputLen,A.blockLen=N.blockLen,A.create=L=>R(L),A}V.wrapConstructorWithKey=_,V.poly1305=_(R=>new X(R))},70580:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.salsaBasic=void 0;const g=E(32856),w=E(23790),O=(0,w.utf8ToBytes)("expand 16-byte k"),X=(0,w.utf8ToBytes)("expand 32-byte k"),_=(0,w.u32)(O),R=(0,w.u32)(X),A=L=>!(L.byteOffset%4);V.salsaBasic=L=>{const{core:F,rounds:C,counterRight:Y,counterLen:j,allow128bitKeys:G,extendNonceFn:te,blockLen:ee}=(0,w.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},L);g.default.number(j),g.default.number(C),g.default.number(ee),g.default.bool(Y),g.default.bool(G);const q=ee/4;if(ee%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(J,ne,ie,re,ce=0)=>{if(g.default.bytes(J),g.default.bytes(ne),g.default.bytes(ie),re||(re=new Uint8Array(ie.length)),g.default.bytes(re),g.default.number(ce),ce<0||ce>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(re.length<ie.length)throw new Error(`Salsa/ChaCha: output (${re.length}) is shorter than data (${ie.length})`);const se=[];let pe,we;if(32===J.length)A(J)?pe=J:(pe=J.slice(),se.push(pe)),we=R;else{if(16!==J.length||!G)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${J.length}`);pe=new Uint8Array(32),pe.set(J),pe.set(J,16),we=_,se.push(pe)}if(A(ne)||(ne=ne.slice(),se.push(ne)),te){if(ne.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");pe=te(we,pe,ne.subarray(0,16),new Uint8Array(32)),se.push(pe),ne=ne.subarray(16)}const Me=16-j;if(ne.length!==Me)throw new Error(`Salsa/ChaCha: nonce must be ${Me} or 16 bytes`);if(12!==Me){const B=new Uint8Array(12);B.set(ne,Y?0:12-ne.length),se.push(ne=B)}const k=new Uint8Array(ee),l=(0,w.u32)(k),h=(0,w.u32)(pe),m=(0,w.u32)(ne),p=A(ie)&&(0,w.u32)(ie),x=A(re)&&(0,w.u32)(re);se.push(l);const D=ie.length;for(let B=0,M=ce;B<D;M++){if(F(we,h,m,l,M,C),M>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const d=Math.min(ee,D-B);if(d===ee&&x&&p){const v=B/4;if(B%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let W=0;W<q;W++)x[v+W]=p[v+W]^l[W];B+=ee}else{for(let v=0;v<d;v++)re[B+v]=ie[B+v]^k[v];B+=d}}for(let B=0;B<se.length;B++)se[B].fill(0);return re}}},59219:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.xchacha20poly1305=V.chacha20poly1305=V._poly1305_aead=V.chacha12=V.chacha8=V.xchacha20=V.chacha20=V.chacha20orig=V.hchacha=void 0;const g=E(23790),w=E(17035),O=E(70580),X=(C,Y)=>C<<Y|C>>>32-Y;function _(C,Y,j,G,te,ee=20){let q=C[0],J=C[1],ne=C[2],ie=C[3],re=Y[0],ce=Y[1],se=Y[2],pe=Y[3],we=Y[4],Me=Y[5],k=Y[6],l=Y[7],h=te,m=j[0],p=j[1],x=j[2],D=q,B=J,M=ne,d=ie,v=re,W=ce,z=se,Q=pe,de=we,xe=Me,Ie=k,Le=l,ve=h,ye=m,ke=p,me=x;for(let fe=0;fe<ee;fe+=2)D=D+v|0,ve=X(ve^D,16),de=de+ve|0,v=X(v^de,12),D=D+v|0,ve=X(ve^D,8),de=de+ve|0,v=X(v^de,7),B=B+W|0,ye=X(ye^B,16),xe=xe+ye|0,W=X(W^xe,12),B=B+W|0,ye=X(ye^B,8),xe=xe+ye|0,W=X(W^xe,7),M=M+z|0,ke=X(ke^M,16),Ie=Ie+ke|0,z=X(z^Ie,12),M=M+z|0,ke=X(ke^M,8),Ie=Ie+ke|0,z=X(z^Ie,7),d=d+Q|0,me=X(me^d,16),Le=Le+me|0,Q=X(Q^Le,12),d=d+Q|0,me=X(me^d,8),Le=Le+me|0,Q=X(Q^Le,7),D=D+W|0,me=X(me^D,16),Ie=Ie+me|0,W=X(W^Ie,12),D=D+W|0,me=X(me^D,8),Ie=Ie+me|0,W=X(W^Ie,7),B=B+z|0,ve=X(ve^B,16),Le=Le+ve|0,z=X(z^Le,12),B=B+z|0,ve=X(ve^B,8),Le=Le+ve|0,z=X(z^Le,7),M=M+Q|0,ye=X(ye^M,16),de=de+ye|0,Q=X(Q^de,12),M=M+Q|0,ye=X(ye^M,8),de=de+ye|0,Q=X(Q^de,7),d=d+v|0,ke=X(ke^d,16),xe=xe+ke|0,v=X(v^xe,12),d=d+v|0,ke=X(ke^d,8),xe=xe+ke|0,v=X(v^xe,7);let Ee=0;G[Ee++]=q+D|0,G[Ee++]=J+B|0,G[Ee++]=ne+M|0,G[Ee++]=ie+d|0,G[Ee++]=re+v|0,G[Ee++]=ce+W|0,G[Ee++]=se+z|0,G[Ee++]=pe+Q|0,G[Ee++]=we+de|0,G[Ee++]=Me+xe|0,G[Ee++]=k+Ie|0,G[Ee++]=l+Le|0,G[Ee++]=h+ve|0,G[Ee++]=m+ye|0,G[Ee++]=p+ke|0,G[Ee++]=x+me|0}function R(C,Y,j,G){const te=(0,g.u32)(Y),ee=(0,g.u32)(j),q=(0,g.u32)(G);let J=C[0],ne=C[1],ie=C[2],re=C[3],ce=te[0],se=te[1],pe=te[2],we=te[3],Me=te[4],k=te[5],l=te[6],h=te[7],m=ee[0],p=ee[1],x=ee[2],D=ee[3];for(let B=0;B<20;B+=2)J=J+ce|0,m=X(m^J,16),Me=Me+m|0,ce=X(ce^Me,12),J=J+ce|0,m=X(m^J,8),Me=Me+m|0,ce=X(ce^Me,7),ne=ne+se|0,p=X(p^ne,16),k=k+p|0,se=X(se^k,12),ne=ne+se|0,p=X(p^ne,8),k=k+p|0,se=X(se^k,7),ie=ie+pe|0,x=X(x^ie,16),l=l+x|0,pe=X(pe^l,12),ie=ie+pe|0,x=X(x^ie,8),l=l+x|0,pe=X(pe^l,7),re=re+we|0,D=X(D^re,16),h=h+D|0,we=X(we^h,12),re=re+we|0,D=X(D^re,8),h=h+D|0,we=X(we^h,7),J=J+se|0,D=X(D^J,16),l=l+D|0,se=X(se^l,12),J=J+se|0,D=X(D^J,8),l=l+D|0,se=X(se^l,7),ne=ne+pe|0,m=X(m^ne,16),h=h+m|0,pe=X(pe^h,12),ne=ne+pe|0,m=X(m^ne,8),h=h+m|0,pe=X(pe^h,7),ie=ie+we|0,p=X(p^ie,16),Me=Me+p|0,we=X(we^Me,12),ie=ie+we|0,p=X(p^ie,8),Me=Me+p|0,we=X(we^Me,7),re=re+ce|0,x=X(x^re,16),k=k+x|0,ce=X(ce^k,12),re=re+ce|0,x=X(x^re,8),k=k+x|0,ce=X(ce^k,7);return q[0]=J,q[1]=ne,q[2]=ie,q[3]=re,q[4]=m,q[5]=p,q[6]=x,q[7]=D,G}V.hchacha=R,V.chacha20orig=(0,O.salsaBasic)({core:_,counterRight:!1,counterLen:8}),V.chacha20=(0,O.salsaBasic)({core:_,counterRight:!1,counterLen:4,allow128bitKeys:!1}),V.xchacha20=(0,O.salsaBasic)({core:_,counterRight:!1,counterLen:8,extendNonceFn:R,allow128bitKeys:!1}),V.chacha8=(0,O.salsaBasic)({core:_,counterRight:!1,counterLen:4,rounds:8}),V.chacha12=(0,O.salsaBasic)({core:_,counterRight:!1,counterLen:4,rounds:12});const A=new Uint8Array(16),N=(C,Y)=>{C.update(Y);const j=Y.length%16;j&&C.update(A.subarray(j))},L=(C,Y,j,G,te)=>{const ee=C(Y,j,new Uint8Array(32)),q=w.poly1305.create(ee);te&&N(q,te),N(q,G);const J=new Uint8Array(16),ne=(0,g.createView)(J);(0,g.setBigUint64)(ne,0,BigInt(te?te.length:0),!0),(0,g.setBigUint64)(ne,8,BigInt(G.length),!0),q.update(J);const ie=q.digest();return ee.fill(0),ie};V._poly1305_aead=C=>(Y,j,G)=>((0,g.ensureBytes)(Y,32),(0,g.ensureBytes)(j),{tagLength:16,encrypt:(ee,q)=>{const J=ee.length,ne=J+16;q?(0,g.ensureBytes)(q,ne):q=new Uint8Array(ne),C(Y,j,ee,q,1);const ie=L(C,Y,j,q.subarray(0,-16),G);return q.set(ie,J),q},decrypt:(ee,q)=>{const J=ee.length,ne=J-16;if(J<16)throw new Error("encrypted data must be at least 16 bytes");q?(0,g.ensureBytes)(q,ne):q=new Uint8Array(ne);const ie=ee.subarray(0,-16),re=ee.subarray(-16),ce=L(C,Y,j,ie,G);if(!(0,g.equalBytes)(re,ce))throw new Error("invalid tag");return C(Y,j,ie,q,1),q}}),V.chacha20poly1305=(0,V._poly1305_aead)(V.chacha20),V.xchacha20poly1305=(0,V._poly1305_aead)(V.xchacha20)},23790:(Ne,V,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(V,"__esModule",{value:!0}),V.setBigUint64=V.Hash=V.equalBytes=V.ensureBytes=V.checkOpts=V.concatBytes=V.toBytes=V.bytesToUtf8=V.utf8ToBytes=V.asyncLoop=V.nextTick=V.hexToBytes=V.bytesToHex=V.isLE=V.createView=V.u32=V.u16=V.u8=void 0;const w=se=>se instanceof Uint8Array;if(V.u8=se=>new Uint8Array(se.buffer,se.byteOffset,se.byteLength),V.u16=se=>new Uint16Array(se.buffer,se.byteOffset,Math.floor(se.byteLength/2)),V.u32=se=>new Uint32Array(se.buffer,se.byteOffset,Math.floor(se.byteLength/4)),V.createView=se=>new DataView(se.buffer,se.byteOffset,se.byteLength),V.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!V.isLE)throw new Error("Non little-endian hardware is not supported");const A=Array.from({length:256},(se,pe)=>pe.toString(16).padStart(2,"0"));function Y(){return(Y=g(function*(se,pe,we){let Me=Date.now();for(let k=0;k<se;k++){we(k);const l=Date.now()-Me;l>=0&&l<pe||(yield(0,V.nextTick)(),Me+=l)}})).apply(this,arguments)}function j(se){if("string"!=typeof se)throw new Error("utf8ToBytes expected string, got "+typeof se);return new Uint8Array((new TextEncoder).encode(se))}V.bytesToHex=function N(se){if(!w(se))throw new Error("Uint8Array expected");let pe="";for(let we=0;we<se.length;we++)pe+=A[se[we]];return pe},V.hexToBytes=function L(se){if("string"!=typeof se)throw new Error("hex string expected, got "+typeof se);const pe=se.length;if(pe%2)throw new Error("padded hex string expected, got unpadded hex of length "+pe);const we=new Uint8Array(pe/2);for(let Me=0;Me<we.length;Me++){const k=2*Me,l=se.slice(k,k+2),h=Number.parseInt(l,16);if(Number.isNaN(h)||h<0)throw new Error("Invalid byte sequence");we[Me]=h}return we},V.nextTick=function(){var se=g(function*(){});return function(){return se.apply(this,arguments)}}(),V.asyncLoop=function C(se,pe,we){return Y.apply(this,arguments)},V.utf8ToBytes=j,V.bytesToUtf8=function G(se){return(new TextDecoder).decode(se)},V.toBytes=function te(se){if("string"==typeof se&&(se=j(se)),!w(se))throw new Error("expected Uint8Array, got "+typeof se);return se},V.concatBytes=function ee(...se){const pe=new Uint8Array(se.reduce((Me,k)=>Me+k.length,0));let we=0;return se.forEach(Me=>{if(!w(Me))throw new Error("Uint8Array expected");pe.set(Me,we),we+=Me.length}),pe},V.checkOpts=function J(se,pe){if(void 0!==pe&&("object"!=typeof pe||!(se=>"[object Object]"===Object.prototype.toString.call(se)&&se.constructor===Object)(pe)))throw new Error("options must be object or undefined");return Object.assign(se,pe)},V.ensureBytes=function ne(se,pe){if(!(se instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof pe&&se.length!==pe)throw new Error(`Uint8Array length ${pe} expected`)},V.equalBytes=function ie(se,pe){if(se.length!==pe.length)throw new Error("equalBytes: Different size of Uint8Arrays");let we=!0;for(let Me=0;Me<se.length;Me++)we&&(we=se[Me]===pe[Me]);return we},V.Hash=class re{},V.setBigUint64=function ce(se,pe,we,Me){if("function"==typeof se.setBigUint64)return se.setBigUint64(pe,we,Me);const k=BigInt(32),l=BigInt(4294967295),h=Number(we>>k&l),m=Number(we&l),x=Me?0:4;se.setUint32(pe+(Me?4:0),h,Me),se.setUint32(pe+x,m,Me)}},89742:(Ne,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.crypto=void 0,V.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(Ne,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getWebcryptoSubtle=V.randomBytes=void 0;const g=E(89742);V.randomBytes=function w(X=32){if(g.crypto&&"function"==typeof g.crypto.getRandomValues)return g.crypto.getRandomValues(new Uint8Array(X));throw new Error("crypto.getRandomValues must be defined")},V.getWebcryptoSubtle=function O(){if(g.crypto&&"object"==typeof g.crypto.subtle&&null!=g.crypto.subtle)return g.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(Ne,V,E)=>{"use strict";var g=V;g.version=E(1636).rE,g.utils=E(3136),g.rand=E(35294),g.curve=E(8729),g.curves=E(23401),g.ec=E(29042),g.eddsa=E(83045)},98828:(Ne,V,E)=>{"use strict";var g=E(88723),w=E(3136),O=w.getNAF,X=w.getJSF,_=w.assert;function R(N,L){this.type=N,this.p=new g(L.p,16),this.red=L.prime?g.red(L.prime):g.mont(this.p),this.zero=new g(0).toRed(this.red),this.one=new g(1).toRed(this.red),this.two=new g(2).toRed(this.red),this.n=L.n&&new g(L.n,16),this.g=L.g&&this.pointFromJSON(L.g,L.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var F=this.n&&this.p.div(this.n);!F||F.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function A(N,L){this.curve=N,this.type=L,this.precomputed=null}Ne.exports=R,R.prototype.point=function(){throw new Error("Not implemented")},R.prototype.validate=function(){throw new Error("Not implemented")},R.prototype._fixedNafMul=function(L,F){_(L.precomputed);var C=L._getDoubles(),Y=O(F,1,this._bitLength),j=(1<<C.step+1)-(C.step%2==0?2:1);j/=3;var te,ee,G=[];for(te=0;te<Y.length;te+=C.step){ee=0;for(var q=te+C.step-1;q>=te;q--)ee=(ee<<1)+Y[q];G.push(ee)}for(var J=this.jpoint(null,null,null),ne=this.jpoint(null,null,null),ie=j;ie>0;ie--){for(te=0;te<G.length;te++)(ee=G[te])===ie?ne=ne.mixedAdd(C.points[te]):ee===-ie&&(ne=ne.mixedAdd(C.points[te].neg()));J=J.add(ne)}return J.toP()},R.prototype._wnafMul=function(L,F){for(var C=4,Y=L._getNAFPoints(C),j=Y.points,G=O(F,C=Y.wnd,this._bitLength),te=this.jpoint(null,null,null),ee=G.length-1;ee>=0;ee--){for(var q=0;ee>=0&&0===G[ee];ee--)q++;if(ee>=0&&q++,te=te.dblp(q),ee<0)break;var J=G[ee];_(0!==J),te="affine"===L.type?te.mixedAdd(J>0?j[J-1>>1]:j[-J-1>>1].neg()):te.add(J>0?j[J-1>>1]:j[-J-1>>1].neg())}return"affine"===L.type?te.toP():te},R.prototype._wnafMulAdd=function(L,F,C,Y,j){var J,ne,ie,G=this._wnafT1,te=this._wnafT2,ee=this._wnafT3,q=0;for(J=0;J<Y;J++){var re=(ie=F[J])._getNAFPoints(L);G[J]=re.wnd,te[J]=re.points}for(J=Y-1;J>=1;J-=2){var ce=J-1,se=J;if(1===G[ce]&&1===G[se]){var pe=[F[ce],null,null,F[se]];0===F[ce].y.cmp(F[se].y)?(pe[1]=F[ce].add(F[se]),pe[2]=F[ce].toJ().mixedAdd(F[se].neg())):0===F[ce].y.cmp(F[se].y.redNeg())?(pe[1]=F[ce].toJ().mixedAdd(F[se]),pe[2]=F[ce].add(F[se].neg())):(pe[1]=F[ce].toJ().mixedAdd(F[se]),pe[2]=F[ce].toJ().mixedAdd(F[se].neg()));var we=[-3,-1,-5,-7,0,7,5,1,3],Me=X(C[ce],C[se]);for(q=Math.max(Me[0].length,q),ee[ce]=new Array(q),ee[se]=new Array(q),ne=0;ne<q;ne++)ee[ce][ne]=we[3*(1+(0|Me[0][ne]))+(1+(0|Me[1][ne]))],ee[se][ne]=0,te[ce]=pe}else ee[ce]=O(C[ce],G[ce],this._bitLength),ee[se]=O(C[se],G[se],this._bitLength),q=Math.max(ee[ce].length,q),q=Math.max(ee[se].length,q)}var h=this.jpoint(null,null,null),m=this._wnafT4;for(J=q;J>=0;J--){for(var p=0;J>=0;){var x=!0;for(ne=0;ne<Y;ne++)m[ne]=0|ee[ne][J],0!==m[ne]&&(x=!1);if(!x)break;p++,J--}if(J>=0&&p++,h=h.dblp(p),J<0)break;for(ne=0;ne<Y;ne++){var D=m[ne];0!==D&&(D>0?ie=te[ne][D-1>>1]:D<0&&(ie=te[ne][-D-1>>1].neg()),h="affine"===ie.type?h.mixedAdd(ie):h.add(ie))}}for(J=0;J<Y;J++)te[J]=null;return j?h:h.toP()},R.BasePoint=A,A.prototype.eq=function(){throw new Error("Not implemented")},A.prototype.validate=function(){return this.curve.validate(this)},R.prototype.decodePoint=function(L,F){L=w.toArray(L,F);var C=this.p.byteLength();if((4===L[0]||6===L[0]||7===L[0])&&L.length-1==2*C)return 6===L[0]?_(L[L.length-1]%2==0):7===L[0]&&_(L[L.length-1]%2==1),this.point(L.slice(1,1+C),L.slice(1+C,1+2*C));if((2===L[0]||3===L[0])&&L.length-1===C)return this.pointFromX(L.slice(1,1+C),3===L[0]);throw new Error("Unknown point format")},A.prototype.encodeCompressed=function(L){return this.encode(L,!0)},A.prototype._encode=function(L){var F=this.curve.p.byteLength(),C=this.getX().toArray("be",F);return L?[this.getY().isEven()?2:3].concat(C):[4].concat(C,this.getY().toArray("be",F))},A.prototype.encode=function(L,F){return w.encode(this._encode(F),L)},A.prototype.precompute=function(L){if(this.precomputed)return this;var F={doubles:null,naf:null,beta:null};return F.naf=this._getNAFPoints(8),F.doubles=this._getDoubles(4,L),F.beta=this._getBeta(),this.precomputed=F,this},A.prototype._hasDoubles=function(L){if(!this.precomputed)return!1;var F=this.precomputed.doubles;return!!F&&F.points.length>=Math.ceil((L.bitLength()+1)/F.step)},A.prototype._getDoubles=function(L,F){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var C=[this],Y=this,j=0;j<F;j+=L){for(var G=0;G<L;G++)Y=Y.dbl();C.push(Y)}return{step:L,points:C}},A.prototype._getNAFPoints=function(L){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var F=[this],C=(1<<L)-1,Y=1===C?null:this.dbl(),j=1;j<C;j++)F[j]=F[j-1].add(Y);return{wnd:L,points:F}},A.prototype._getBeta=function(){return null},A.prototype.dblp=function(L){for(var F=this,C=0;C<L;C++)F=F.dbl();return F}},55537:(Ne,V,E)=>{"use strict";var g=E(3136),w=E(88723),O=E(71993),X=E(98828),_=g.assert;function R(N){this.twisted=1!=(0|N.a),this.mOneA=this.twisted&&-1==(0|N.a),this.extended=this.mOneA,X.call(this,"edwards",N),this.a=new w(N.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new w(N.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new w(N.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|N.c)}function A(N,L,F,C,Y){X.BasePoint.call(this,N,"projective"),null===L&&null===F&&null===C?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new w(L,16),this.y=new w(F,16),this.z=C?new w(C,16):this.curve.one,this.t=Y&&new w(Y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}O(R,X),Ne.exports=R,R.prototype._mulA=function(L){return this.mOneA?L.redNeg():this.a.redMul(L)},R.prototype._mulC=function(L){return this.oneC?L:this.c.redMul(L)},R.prototype.jpoint=function(L,F,C,Y){return this.point(L,F,C,Y)},R.prototype.pointFromX=function(L,F){(L=new w(L,16)).red||(L=L.toRed(this.red));var C=L.redSqr(),Y=this.c2.redSub(this.a.redMul(C)),j=this.one.redSub(this.c2.redMul(this.d).redMul(C)),G=Y.redMul(j.redInvm()),te=G.redSqrt();if(0!==te.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");var ee=te.fromRed().isOdd();return(F&&!ee||!F&&ee)&&(te=te.redNeg()),this.point(L,te)},R.prototype.pointFromY=function(L,F){(L=new w(L,16)).red||(L=L.toRed(this.red));var C=L.redSqr(),Y=C.redSub(this.c2),j=C.redMul(this.d).redMul(this.c2).redSub(this.a),G=Y.redMul(j.redInvm());if(0===G.cmp(this.zero)){if(F)throw new Error("invalid point");return this.point(this.zero,L)}var te=G.redSqrt();if(0!==te.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");return te.fromRed().isOdd()!==F&&(te=te.redNeg()),this.point(te,L)},R.prototype.validate=function(L){if(L.isInfinity())return!0;L.normalize();var F=L.x.redSqr(),C=L.y.redSqr(),Y=F.redMul(this.a).redAdd(C),j=this.c2.redMul(this.one.redAdd(this.d.redMul(F).redMul(C)));return 0===Y.cmp(j)},O(A,X.BasePoint),R.prototype.pointFromJSON=function(L){return A.fromJSON(this,L)},R.prototype.point=function(L,F,C,Y){return new A(this,L,F,C,Y)},A.fromJSON=function(L,F){return new A(L,F[0],F[1],F[2])},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},A.prototype._extDbl=function(){var L=this.x.redSqr(),F=this.y.redSqr(),C=this.z.redSqr();C=C.redIAdd(C);var Y=this.curve._mulA(L),j=this.x.redAdd(this.y).redSqr().redISub(L).redISub(F),G=Y.redAdd(F),te=G.redSub(C),ee=Y.redSub(F),q=j.redMul(te),J=G.redMul(ee),ne=j.redMul(ee),ie=te.redMul(G);return this.curve.point(q,J,ie,ne)},A.prototype._projDbl=function(){var Y,j,G,te,ee,q,L=this.x.redAdd(this.y).redSqr(),F=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var J=(te=this.curve._mulA(F)).redAdd(C);this.zOne?(Y=L.redSub(F).redSub(C).redMul(J.redSub(this.curve.two)),j=J.redMul(te.redSub(C)),G=J.redSqr().redSub(J).redSub(J)):(ee=this.z.redSqr(),q=J.redSub(ee).redISub(ee),Y=L.redSub(F).redISub(C).redMul(q),j=J.redMul(te.redSub(C)),G=J.redMul(q))}else te=F.redAdd(C),ee=this.curve._mulC(this.z).redSqr(),q=te.redSub(ee).redSub(ee),Y=this.curve._mulC(L.redISub(te)).redMul(q),j=this.curve._mulC(te).redMul(F.redISub(C)),G=te.redMul(q);return this.curve.point(Y,j,G)},A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},A.prototype._extAdd=function(L){var F=this.y.redSub(this.x).redMul(L.y.redSub(L.x)),C=this.y.redAdd(this.x).redMul(L.y.redAdd(L.x)),Y=this.t.redMul(this.curve.dd).redMul(L.t),j=this.z.redMul(L.z.redAdd(L.z)),G=C.redSub(F),te=j.redSub(Y),ee=j.redAdd(Y),q=C.redAdd(F),J=G.redMul(te),ne=ee.redMul(q),ie=G.redMul(q),re=te.redMul(ee);return this.curve.point(J,ne,re,ie)},A.prototype._projAdd=function(L){var ne,ie,F=this.z.redMul(L.z),C=F.redSqr(),Y=this.x.redMul(L.x),j=this.y.redMul(L.y),G=this.curve.d.redMul(Y).redMul(j),te=C.redSub(G),ee=C.redAdd(G),q=this.x.redAdd(this.y).redMul(L.x.redAdd(L.y)).redISub(Y).redISub(j),J=F.redMul(te).redMul(q);return this.curve.twisted?(ne=F.redMul(ee).redMul(j.redSub(this.curve._mulA(Y))),ie=te.redMul(ee)):(ne=F.redMul(ee).redMul(j.redSub(Y)),ie=this.curve._mulC(te).redMul(ee)),this.curve.point(J,ne,ie)},A.prototype.add=function(L){return this.isInfinity()?L:L.isInfinity()?this:this.curve.extended?this._extAdd(L):this._projAdd(L)},A.prototype.mul=function(L){return this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve._wnafMul(this,L)},A.prototype.mulAdd=function(L,F,C){return this.curve._wnafMulAdd(1,[this,F],[L,C],2,!1)},A.prototype.jmulAdd=function(L,F,C){return this.curve._wnafMulAdd(1,[this,F],[L,C],2,!0)},A.prototype.normalize=function(){if(this.zOne)return this;var L=this.z.redInvm();return this.x=this.x.redMul(L),this.y=this.y.redMul(L),this.t&&(this.t=this.t.redMul(L)),this.z=this.curve.one,this.zOne=!0,this},A.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},A.prototype.getX=function(){return this.normalize(),this.x.fromRed()},A.prototype.getY=function(){return this.normalize(),this.y.fromRed()},A.prototype.eq=function(L){return this===L||0===this.getX().cmp(L.getX())&&0===this.getY().cmp(L.getY())},A.prototype.eqXToP=function(L){var F=L.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(F))return!0;for(var C=L.clone(),Y=this.curve.redN.redMul(this.z);;){if(C.iadd(this.curve.n),C.cmp(this.curve.p)>=0)return!1;if(F.redIAdd(Y),0===this.x.cmp(F))return!0}},A.prototype.toP=A.prototype.normalize,A.prototype.mixedAdd=A.prototype.add},8729:(Ne,V,E)=>{"use strict";var g=V;g.base=E(98828),g.short=E(68075),g.mont=E(64947),g.edwards=E(55537)},64947:(Ne,V,E)=>{"use strict";var g=E(88723),w=E(71993),O=E(98828),X=E(3136);function _(A){O.call(this,"mont",A),this.a=new g(A.a,16).toRed(this.red),this.b=new g(A.b,16).toRed(this.red),this.i4=new g(4).toRed(this.red).redInvm(),this.two=new g(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function R(A,N,L){O.BasePoint.call(this,A,"projective"),null===N&&null===L?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new g(N,16),this.z=new g(L,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}w(_,O),Ne.exports=_,_.prototype.validate=function(N){var L=N.normalize().x,F=L.redSqr(),C=F.redMul(L).redAdd(F.redMul(this.a)).redAdd(L);return 0===C.redSqrt().redSqr().cmp(C)},w(R,O.BasePoint),_.prototype.decodePoint=function(N,L){return this.point(X.toArray(N,L),1)},_.prototype.point=function(N,L){return new R(this,N,L)},_.prototype.pointFromJSON=function(N){return R.fromJSON(this,N)},R.prototype.precompute=function(){},R.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},R.fromJSON=function(N,L){return new R(N,L[0],L[1]||N.one)},R.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},R.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},R.prototype.dbl=function(){var L=this.x.redAdd(this.z).redSqr(),C=this.x.redSub(this.z).redSqr(),Y=L.redSub(C),j=L.redMul(C),G=Y.redMul(C.redAdd(this.curve.a24.redMul(Y)));return this.curve.point(j,G)},R.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.diffAdd=function(N,L){var F=this.x.redAdd(this.z),C=this.x.redSub(this.z),Y=N.x.redAdd(N.z),G=N.x.redSub(N.z).redMul(F),te=Y.redMul(C),ee=L.z.redMul(G.redAdd(te).redSqr()),q=L.x.redMul(G.redISub(te).redSqr());return this.curve.point(ee,q)},R.prototype.mul=function(N){for(var L=N.clone(),F=this,C=this.curve.point(null,null),j=[];0!==L.cmpn(0);L.iushrn(1))j.push(L.andln(1));for(var G=j.length-1;G>=0;G--)0===j[G]?(F=F.diffAdd(C,this),C=C.dbl()):(C=F.diffAdd(C,this),F=F.dbl());return C},R.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.eq=function(N){return 0===this.getX().cmp(N.getX())},R.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},R.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(Ne,V,E)=>{"use strict";var g=E(3136),w=E(88723),O=E(71993),X=E(98828),_=g.assert;function R(L){X.call(this,"short",L),this.a=new w(L.a,16).toRed(this.red),this.b=new w(L.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(L),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function A(L,F,C,Y){X.BasePoint.call(this,L,"affine"),null===F&&null===C?(this.x=null,this.y=null,this.inf=!0):(this.x=new w(F,16),this.y=new w(C,16),Y&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function N(L,F,C,Y){X.BasePoint.call(this,L,"jacobian"),null===F&&null===C&&null===Y?(this.x=this.curve.one,this.y=this.curve.one,this.z=new w(0)):(this.x=new w(F,16),this.y=new w(C,16),this.z=new w(Y,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}O(R,X),Ne.exports=R,R.prototype._getEndomorphism=function(F){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var C,Y;if(F.beta)C=new w(F.beta,16).toRed(this.red);else{var j=this._getEndoRoots(this.p);C=(C=j[0].cmp(j[1])<0?j[0]:j[1]).toRed(this.red)}if(F.lambda)Y=new w(F.lambda,16);else{var G=this._getEndoRoots(this.n);0===this.g.mul(G[0]).x.cmp(this.g.x.redMul(C))?Y=G[0]:_(0===this.g.mul(Y=G[1]).x.cmp(this.g.x.redMul(C)))}return{beta:C,lambda:Y,basis:F.basis?F.basis.map(function(ee){return{a:new w(ee.a,16),b:new w(ee.b,16)}}):this._getEndoBasis(Y)}}},R.prototype._getEndoRoots=function(F){var C=F===this.p?this.red:w.mont(F),Y=new w(2).toRed(C).redInvm(),j=Y.redNeg(),G=new w(3).toRed(C).redNeg().redSqrt().redMul(Y);return[j.redAdd(G).fromRed(),j.redSub(G).fromRed()]},R.prototype._getEndoBasis=function(F){for(var J,ne,ie,re,ce,se,pe,Me,k,C=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Y=F,j=this.n.clone(),G=new w(1),te=new w(0),ee=new w(0),q=new w(1),we=0;0!==Y.cmpn(0);){var l=j.div(Y);Me=j.sub(l.mul(Y)),k=ee.sub(l.mul(G));var h=q.sub(l.mul(te));if(!ie&&Me.cmp(C)<0)J=pe.neg(),ne=G,ie=Me.neg(),re=k;else if(ie&&2==++we)break;pe=Me,j=Y,Y=Me,ee=G,G=k,q=te,te=h}ce=Me.neg(),se=k;var m=ie.sqr().add(re.sqr());return ce.sqr().add(se.sqr()).cmp(m)>=0&&(ce=J,se=ne),ie.negative&&(ie=ie.neg(),re=re.neg()),ce.negative&&(ce=ce.neg(),se=se.neg()),[{a:ie,b:re},{a:ce,b:se}]},R.prototype._endoSplit=function(F){var C=this.endo.basis,Y=C[0],j=C[1],G=j.b.mul(F).divRound(this.n),te=Y.b.neg().mul(F).divRound(this.n),ee=G.mul(Y.a),q=te.mul(j.a),J=G.mul(Y.b),ne=te.mul(j.b);return{k1:F.sub(ee).sub(q),k2:J.add(ne).neg()}},R.prototype.pointFromX=function(F,C){(F=new w(F,16)).red||(F=F.toRed(this.red));var Y=F.redSqr().redMul(F).redIAdd(F.redMul(this.a)).redIAdd(this.b),j=Y.redSqrt();if(0!==j.redSqr().redSub(Y).cmp(this.zero))throw new Error("invalid point");var G=j.fromRed().isOdd();return(C&&!G||!C&&G)&&(j=j.redNeg()),this.point(F,j)},R.prototype.validate=function(F){if(F.inf)return!0;var C=F.x,Y=F.y,j=this.a.redMul(C),G=C.redSqr().redMul(C).redIAdd(j).redIAdd(this.b);return 0===Y.redSqr().redISub(G).cmpn(0)},R.prototype._endoWnafMulAdd=function(F,C,Y){for(var j=this._endoWnafT1,G=this._endoWnafT2,te=0;te<F.length;te++){var ee=this._endoSplit(C[te]),q=F[te],J=q._getBeta();ee.k1.negative&&(ee.k1.ineg(),q=q.neg(!0)),ee.k2.negative&&(ee.k2.ineg(),J=J.neg(!0)),j[2*te]=q,j[2*te+1]=J,G[2*te]=ee.k1,G[2*te+1]=ee.k2}for(var ne=this._wnafMulAdd(1,j,G,2*te,Y),ie=0;ie<2*te;ie++)j[ie]=null,G[ie]=null;return ne},O(A,X.BasePoint),R.prototype.point=function(F,C,Y){return new A(this,F,C,Y)},R.prototype.pointFromJSON=function(F,C){return A.fromJSON(this,F,C)},A.prototype._getBeta=function(){if(this.curve.endo){var F=this.precomputed;if(F&&F.beta)return F.beta;var C=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(F){var Y=this.curve,j=function(G){return Y.point(G.x.redMul(Y.endo.beta),G.y)};F.beta=C,C.precomputed={beta:null,naf:F.naf&&{wnd:F.naf.wnd,points:F.naf.points.map(j)},doubles:F.doubles&&{step:F.doubles.step,points:F.doubles.points.map(j)}}}return C}},A.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},A.fromJSON=function(F,C,Y){"string"==typeof C&&(C=JSON.parse(C));var j=F.point(C[0],C[1],Y);if(!C[2])return j;function G(ee){return F.point(ee[0],ee[1],Y)}var te=C[2];return j.precomputed={beta:null,doubles:te.doubles&&{step:te.doubles.step,points:[j].concat(te.doubles.points.map(G))},naf:te.naf&&{wnd:te.naf.wnd,points:[j].concat(te.naf.points.map(G))}},j},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return this.inf},A.prototype.add=function(F){if(this.inf)return F;if(F.inf)return this;if(this.eq(F))return this.dbl();if(this.neg().eq(F))return this.curve.point(null,null);if(0===this.x.cmp(F.x))return this.curve.point(null,null);var C=this.y.redSub(F.y);0!==C.cmpn(0)&&(C=C.redMul(this.x.redSub(F.x).redInvm()));var Y=C.redSqr().redISub(this.x).redISub(F.x),j=C.redMul(this.x.redSub(Y)).redISub(this.y);return this.curve.point(Y,j)},A.prototype.dbl=function(){if(this.inf)return this;var F=this.y.redAdd(this.y);if(0===F.cmpn(0))return this.curve.point(null,null);var C=this.curve.a,Y=this.x.redSqr(),j=F.redInvm(),G=Y.redAdd(Y).redIAdd(Y).redIAdd(C).redMul(j),te=G.redSqr().redISub(this.x.redAdd(this.x)),ee=G.redMul(this.x.redSub(te)).redISub(this.y);return this.curve.point(te,ee)},A.prototype.getX=function(){return this.x.fromRed()},A.prototype.getY=function(){return this.y.fromRed()},A.prototype.mul=function(F){return F=new w(F,16),this.isInfinity()?this:this._hasDoubles(F)?this.curve._fixedNafMul(this,F):this.curve.endo?this.curve._endoWnafMulAdd([this],[F]):this.curve._wnafMul(this,F)},A.prototype.mulAdd=function(F,C,Y){var j=[this,C],G=[F,Y];return this.curve.endo?this.curve._endoWnafMulAdd(j,G):this.curve._wnafMulAdd(1,j,G,2)},A.prototype.jmulAdd=function(F,C,Y){var j=[this,C],G=[F,Y];return this.curve.endo?this.curve._endoWnafMulAdd(j,G,!0):this.curve._wnafMulAdd(1,j,G,2,!0)},A.prototype.eq=function(F){return this===F||this.inf===F.inf&&(this.inf||0===this.x.cmp(F.x)&&0===this.y.cmp(F.y))},A.prototype.neg=function(F){if(this.inf)return this;var C=this.curve.point(this.x,this.y.redNeg());if(F&&this.precomputed){var Y=this.precomputed,j=function(G){return G.neg()};C.precomputed={naf:Y.naf&&{wnd:Y.naf.wnd,points:Y.naf.points.map(j)},doubles:Y.doubles&&{step:Y.doubles.step,points:Y.doubles.points.map(j)}}}return C},A.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},O(N,X.BasePoint),R.prototype.jpoint=function(F,C,Y){return new N(this,F,C,Y)},N.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var F=this.z.redInvm(),C=F.redSqr(),Y=this.x.redMul(C),j=this.y.redMul(C).redMul(F);return this.curve.point(Y,j)},N.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},N.prototype.add=function(F){if(this.isInfinity())return F;if(F.isInfinity())return this;var C=F.z.redSqr(),Y=this.z.redSqr(),j=this.x.redMul(C),G=F.x.redMul(Y),te=this.y.redMul(C.redMul(F.z)),ee=F.y.redMul(Y.redMul(this.z)),q=j.redSub(G),J=te.redSub(ee);if(0===q.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ne=q.redSqr(),ie=ne.redMul(q),re=j.redMul(ne),ce=J.redSqr().redIAdd(ie).redISub(re).redISub(re),se=J.redMul(re.redISub(ce)).redISub(te.redMul(ie)),pe=this.z.redMul(F.z).redMul(q);return this.curve.jpoint(ce,se,pe)},N.prototype.mixedAdd=function(F){if(this.isInfinity())return F.toJ();if(F.isInfinity())return this;var C=this.z.redSqr(),Y=this.x,j=F.x.redMul(C),G=this.y,te=F.y.redMul(C).redMul(this.z),ee=Y.redSub(j),q=G.redSub(te);if(0===ee.cmpn(0))return 0!==q.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var J=ee.redSqr(),ne=J.redMul(ee),ie=Y.redMul(J),re=q.redSqr().redIAdd(ne).redISub(ie).redISub(ie),ce=q.redMul(ie.redISub(re)).redISub(G.redMul(ne)),se=this.z.redMul(ee);return this.curve.jpoint(re,ce,se)},N.prototype.dblp=function(F){if(0===F)return this;if(this.isInfinity())return this;if(!F)return this.dbl();var C;if(this.curve.zeroA||this.curve.threeA){var Y=this;for(C=0;C<F;C++)Y=Y.dbl();return Y}var j=this.curve.a,G=this.curve.tinv,te=this.x,ee=this.y,q=this.z,J=q.redSqr().redSqr(),ne=ee.redAdd(ee);for(C=0;C<F;C++){var ie=te.redSqr(),re=ne.redSqr(),ce=re.redSqr(),se=ie.redAdd(ie).redIAdd(ie).redIAdd(j.redMul(J)),pe=te.redMul(re),we=se.redSqr().redISub(pe.redAdd(pe)),Me=pe.redISub(we),k=se.redMul(Me);k=k.redIAdd(k).redISub(ce);var l=ne.redMul(q);C+1<F&&(J=J.redMul(ce)),te=we,q=l,ne=k}return this.curve.jpoint(te,ne.redMul(G),q)},N.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},N.prototype._zeroDbl=function(){var F,C,Y;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),te=G.redSqr(),ee=this.x.redAdd(G).redSqr().redISub(j).redISub(te);ee=ee.redIAdd(ee);var q=j.redAdd(j).redIAdd(j),J=q.redSqr().redISub(ee).redISub(ee),ne=te.redIAdd(te);ne=(ne=ne.redIAdd(ne)).redIAdd(ne),F=J,C=q.redMul(ee.redISub(J)).redISub(ne),Y=this.y.redAdd(this.y)}else{var ie=this.x.redSqr(),re=this.y.redSqr(),ce=re.redSqr(),se=this.x.redAdd(re).redSqr().redISub(ie).redISub(ce);se=se.redIAdd(se);var pe=ie.redAdd(ie).redIAdd(ie),we=pe.redSqr(),Me=ce.redIAdd(ce);Me=(Me=Me.redIAdd(Me)).redIAdd(Me),F=we.redISub(se).redISub(se),C=pe.redMul(se.redISub(F)).redISub(Me),Y=(Y=this.y.redMul(this.z)).redIAdd(Y)}return this.curve.jpoint(F,C,Y)},N.prototype._threeDbl=function(){var F,C,Y;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),te=G.redSqr(),ee=this.x.redAdd(G).redSqr().redISub(j).redISub(te);ee=ee.redIAdd(ee);var q=j.redAdd(j).redIAdd(j).redIAdd(this.curve.a),J=q.redSqr().redISub(ee).redISub(ee);F=J;var ne=te.redIAdd(te);ne=(ne=ne.redIAdd(ne)).redIAdd(ne),C=q.redMul(ee.redISub(J)).redISub(ne),Y=this.y.redAdd(this.y)}else{var ie=this.z.redSqr(),re=this.y.redSqr(),ce=this.x.redMul(re),se=this.x.redSub(ie).redMul(this.x.redAdd(ie));se=se.redAdd(se).redIAdd(se);var pe=ce.redIAdd(ce),we=(pe=pe.redIAdd(pe)).redAdd(pe);F=se.redSqr().redISub(we),Y=this.y.redAdd(this.z).redSqr().redISub(re).redISub(ie);var Me=re.redSqr();Me=(Me=(Me=Me.redIAdd(Me)).redIAdd(Me)).redIAdd(Me),C=se.redMul(pe.redISub(F)).redISub(Me)}return this.curve.jpoint(F,C,Y)},N.prototype._dbl=function(){var F=this.curve.a,C=this.x,Y=this.y,j=this.z,G=j.redSqr().redSqr(),te=C.redSqr(),ee=Y.redSqr(),q=te.redAdd(te).redIAdd(te).redIAdd(F.redMul(G)),J=C.redAdd(C),ne=(J=J.redIAdd(J)).redMul(ee),ie=q.redSqr().redISub(ne.redAdd(ne)),re=ne.redISub(ie),ce=ee.redSqr();ce=(ce=(ce=ce.redIAdd(ce)).redIAdd(ce)).redIAdd(ce);var se=q.redMul(re).redISub(ce),pe=Y.redAdd(Y).redMul(j);return this.curve.jpoint(ie,se,pe)},N.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var F=this.x.redSqr(),C=this.y.redSqr(),Y=this.z.redSqr(),j=C.redSqr(),G=F.redAdd(F).redIAdd(F),te=G.redSqr(),ee=this.x.redAdd(C).redSqr().redISub(F).redISub(j),q=(ee=(ee=(ee=ee.redIAdd(ee)).redAdd(ee).redIAdd(ee)).redISub(te)).redSqr(),J=j.redIAdd(j);J=(J=(J=J.redIAdd(J)).redIAdd(J)).redIAdd(J);var ne=G.redIAdd(ee).redSqr().redISub(te).redISub(q).redISub(J),ie=C.redMul(ne);ie=(ie=ie.redIAdd(ie)).redIAdd(ie);var re=this.x.redMul(q).redISub(ie);re=(re=re.redIAdd(re)).redIAdd(re);var ce=this.y.redMul(ne.redMul(J.redISub(ne)).redISub(ee.redMul(q)));ce=(ce=(ce=ce.redIAdd(ce)).redIAdd(ce)).redIAdd(ce);var se=this.z.redAdd(ee).redSqr().redISub(Y).redISub(q);return this.curve.jpoint(re,ce,se)},N.prototype.mul=function(F,C){return F=new w(F,C),this.curve._wnafMul(this,F)},N.prototype.eq=function(F){if("affine"===F.type)return this.eq(F.toJ());if(this===F)return!0;var C=this.z.redSqr(),Y=F.z.redSqr();if(0!==this.x.redMul(Y).redISub(F.x.redMul(C)).cmpn(0))return!1;var j=C.redMul(this.z),G=Y.redMul(F.z);return 0===this.y.redMul(G).redISub(F.y.redMul(j)).cmpn(0)},N.prototype.eqXToP=function(F){var C=this.z.redSqr(),Y=F.toRed(this.curve.red).redMul(C);if(0===this.x.cmp(Y))return!0;for(var j=F.clone(),G=this.curve.redN.redMul(C);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if(Y.redIAdd(G),0===this.x.cmp(Y))return!0}},N.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},N.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(Ne,V,E)=>{"use strict";var N,g=V,w=E(52529),O=E(8729),_=E(3136).assert;function R(L){this.curve="short"===L.type?new O.short(L):"edwards"===L.type?new O.edwards(L):new O.mont(L),this.g=this.curve.g,this.n=this.curve.n,this.hash=L.hash,_(this.g.validate(),"Invalid curve"),_(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function A(L,F){Object.defineProperty(g,L,{configurable:!0,enumerable:!0,get:function(){var C=new R(F);return Object.defineProperty(g,L,{configurable:!0,enumerable:!0,value:C}),C}})}g.PresetCurve=R,A("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:w.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),A("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:w.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),A("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:w.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),A("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:w.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),A("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:w.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),A("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:w.sha256,gRed:!1,g:["9"]}),A("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:w.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{N=E(51416)}catch{N=void 0}A("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:w.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",N]})},29042:(Ne,V,E)=>{"use strict";var g=E(88723),w=E(33556),O=E(3136),X=E(23401),_=E(35294),R=O.assert,A=E(60541),N=E(40484);function L(F){if(!(this instanceof L))return new L(F);"string"==typeof F&&(R(Object.prototype.hasOwnProperty.call(X,F),"Unknown curve "+F),F=X[F]),F instanceof X.PresetCurve&&(F={curve:F}),this.curve=F.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=F.curve.g,this.g.precompute(F.curve.n.bitLength()+1),this.hash=F.hash||F.curve.hash}Ne.exports=L,L.prototype.keyPair=function(C){return new A(this,C)},L.prototype.keyFromPrivate=function(C,Y){return A.fromPrivate(this,C,Y)},L.prototype.keyFromPublic=function(C,Y){return A.fromPublic(this,C,Y)},L.prototype.genKeyPair=function(C){C||(C={});for(var Y=new w({hash:this.hash,pers:C.pers,persEnc:C.persEnc||"utf8",entropy:C.entropy||_(this.hash.hmacStrength),entropyEnc:C.entropy&&C.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),G=this.n.sub(new g(2));;){var te=new g(Y.generate(j));if(!(te.cmp(G)>0))return te.iaddn(1),this.keyFromPrivate(te)}},L.prototype._truncateToN=function(C,Y){var j=8*C.byteLength()-this.n.bitLength();return j>0&&(C=C.ushrn(j)),!Y&&C.cmp(this.n)>=0?C.sub(this.n):C},L.prototype.sign=function(C,Y,j,G){"object"==typeof j&&(G=j,j=null),G||(G={}),Y=this.keyFromPrivate(Y,j),C=this._truncateToN(new g(C,16));for(var te=this.n.byteLength(),ee=Y.getPrivate().toArray("be",te),q=C.toArray("be",te),J=new w({hash:this.hash,entropy:ee,nonce:q,pers:G.pers,persEnc:G.persEnc||"utf8"}),ne=this.n.sub(new g(1)),ie=0;;ie++){var re=G.k?G.k(ie):new g(J.generate(this.n.byteLength()));if(!((re=this._truncateToN(re,!0)).cmpn(1)<=0||re.cmp(ne)>=0)){var ce=this.g.mul(re);if(!ce.isInfinity()){var se=ce.getX(),pe=se.umod(this.n);if(0!==pe.cmpn(0)){var we=re.invm(this.n).mul(pe.mul(Y.getPrivate()).iadd(C));if(0!==(we=we.umod(this.n)).cmpn(0)){var Me=(ce.getY().isOdd()?1:0)|(0!==se.cmp(pe)?2:0);return G.canonical&&we.cmp(this.nh)>0&&(we=this.n.sub(we),Me^=1),new N({r:pe,s:we,recoveryParam:Me})}}}}}},L.prototype.verify=function(C,Y,j,G){C=this._truncateToN(new g(C,16)),j=this.keyFromPublic(j,G);var te=(Y=new N(Y,"hex")).r,ee=Y.s;if(te.cmpn(1)<0||te.cmp(this.n)>=0||ee.cmpn(1)<0||ee.cmp(this.n)>=0)return!1;var ie,q=ee.invm(this.n),J=q.mul(C).umod(this.n),ne=q.mul(te).umod(this.n);return this.curve._maxwellTrick?!(ie=this.g.jmulAdd(J,j.getPublic(),ne)).isInfinity()&&ie.eqXToP(te):!(ie=this.g.mulAdd(J,j.getPublic(),ne)).isInfinity()&&0===ie.getX().umod(this.n).cmp(te)},L.prototype.recoverPubKey=function(F,C,Y,j){R((3&Y)===Y,"The recovery param is more than two bits"),C=new N(C,j);var G=this.n,te=new g(F),ee=C.r,q=C.s,J=1&Y,ne=Y>>1;if(ee.cmp(this.curve.p.umod(this.curve.n))>=0&&ne)throw new Error("Unable to find sencond key candinate");ee=this.curve.pointFromX(ne?ee.add(this.curve.n):ee,J);var ie=C.r.invm(G),re=G.sub(te).mul(ie).umod(G),ce=q.mul(ie).umod(G);return this.g.mulAdd(re,ee,ce)},L.prototype.getKeyRecoveryParam=function(F,C,Y,j){if(null!==(C=new N(C,j)).recoveryParam)return C.recoveryParam;for(var G=0;G<4;G++){var te;try{te=this.recoverPubKey(F,C,G)}catch{continue}if(te.eq(Y))return G}throw new Error("Unable to find valid recovery factor")}},60541:(Ne,V,E)=>{"use strict";var g=E(88723),O=E(3136).assert;function X(_,R){this.ec=_,this.priv=null,this.pub=null,R.priv&&this._importPrivate(R.priv,R.privEnc),R.pub&&this._importPublic(R.pub,R.pubEnc)}Ne.exports=X,X.fromPublic=function(R,A,N){return A instanceof X?A:new X(R,{pub:A,pubEnc:N})},X.fromPrivate=function(R,A,N){return A instanceof X?A:new X(R,{priv:A,privEnc:N})},X.prototype.validate=function(){var R=this.getPublic();return R.isInfinity()?{result:!1,reason:"Invalid public key"}:R.validate()?R.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},X.prototype.getPublic=function(R,A){return"string"==typeof R&&(A=R,R=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),A?this.pub.encode(A,R):this.pub},X.prototype.getPrivate=function(R){return"hex"===R?this.priv.toString(16,2):this.priv},X.prototype._importPrivate=function(R,A){this.priv=new g(R,A||16),this.priv=this.priv.umod(this.ec.curve.n)},X.prototype._importPublic=function(R,A){if(R.x||R.y)return"mont"===this.ec.curve.type?O(R.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&O(R.x&&R.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(R.x,R.y));this.pub=this.ec.curve.decodePoint(R,A)},X.prototype.derive=function(R){return R.validate()||O(R.validate(),"public point not validated"),R.mul(this.priv).getX()},X.prototype.sign=function(R,A,N){return this.ec.sign(R,this,A,N)},X.prototype.verify=function(R,A){return this.ec.verify(R,A,this)},X.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(Ne,V,E)=>{"use strict";var g=E(88723),w=E(3136),O=w.assert;function X(L,F){if(L instanceof X)return L;this._importDER(L,F)||(O(L.r&&L.s,"Signature without r or s"),this.r=new g(L.r,16),this.s=new g(L.s,16),this.recoveryParam=void 0===L.recoveryParam?null:L.recoveryParam)}function _(){this.place=0}function R(L,F){var C=L[F.place++];if(!(128&C))return C;var Y=15&C;if(0===Y||Y>4)return!1;for(var j=0,G=0,te=F.place;G<Y;G++,te++)j<<=8,j|=L[te],j>>>=0;return!(j<=127)&&(F.place=te,j)}function A(L){for(var F=0,C=L.length-1;!L[F]&&!(128&L[F+1])&&F<C;)F++;return 0===F?L:L.slice(F)}function N(L,F){if(F<128)L.push(F);else{var C=1+(Math.log(F)/Math.LN2>>>3);for(L.push(128|C);--C;)L.push(F>>>(C<<3)&255);L.push(F)}}Ne.exports=X,X.prototype._importDER=function(F,C){F=w.toArray(F,C);var Y=new _;if(48!==F[Y.place++])return!1;var j=R(F,Y);if(!1===j||j+Y.place!==F.length||2!==F[Y.place++])return!1;var G=R(F,Y);if(!1===G)return!1;var te=F.slice(Y.place,G+Y.place);if(Y.place+=G,2!==F[Y.place++])return!1;var ee=R(F,Y);if(!1===ee||F.length!==ee+Y.place)return!1;var q=F.slice(Y.place,ee+Y.place);if(0===te[0]){if(!(128&te[1]))return!1;te=te.slice(1)}if(0===q[0]){if(!(128&q[1]))return!1;q=q.slice(1)}return this.r=new g(te),this.s=new g(q),this.recoveryParam=null,!0},X.prototype.toDER=function(F){var C=this.r.toArray(),Y=this.s.toArray();for(128&C[0]&&(C=[0].concat(C)),128&Y[0]&&(Y=[0].concat(Y)),C=A(C),Y=A(Y);!(Y[0]||128&Y[1]);)Y=Y.slice(1);var j=[2];N(j,C.length),(j=j.concat(C)).push(2),N(j,Y.length);var G=j.concat(Y),te=[48];return N(te,G.length),te=te.concat(G),w.encode(te,F)}},83045:(Ne,V,E)=>{"use strict";var g=E(52529),w=E(23401),O=E(3136),X=O.assert,_=O.parseBytes,R=E(87222),A=E(5451);function N(L){if(X("ed25519"===L,"only tested with ed25519 so far"),!(this instanceof N))return new N(L);this.curve=L=w[L].curve,this.g=L.g,this.g.precompute(L.n.bitLength()+1),this.pointClass=L.point().constructor,this.encodingLength=Math.ceil(L.n.bitLength()/8),this.hash=g.sha512}Ne.exports=N,N.prototype.sign=function(F,C){F=_(F);var Y=this.keyFromSecret(C),j=this.hashInt(Y.messagePrefix(),F),G=this.g.mul(j),te=this.encodePoint(G),ee=this.hashInt(te,Y.pubBytes(),F).mul(Y.priv()),q=j.add(ee).umod(this.curve.n);return this.makeSignature({R:G,S:q,Rencoded:te})},N.prototype.verify=function(F,C,Y){F=_(F),C=this.makeSignature(C);var j=this.keyFromPublic(Y),G=this.hashInt(C.Rencoded(),j.pubBytes(),F),te=this.g.mul(C.S());return C.R().add(j.pub().mul(G)).eq(te)},N.prototype.hashInt=function(){for(var F=this.hash(),C=0;C<arguments.length;C++)F.update(arguments[C]);return O.intFromLE(F.digest()).umod(this.curve.n)},N.prototype.keyFromPublic=function(F){return R.fromPublic(this,F)},N.prototype.keyFromSecret=function(F){return R.fromSecret(this,F)},N.prototype.makeSignature=function(F){return F instanceof A?F:new A(this,F)},N.prototype.encodePoint=function(F){var C=F.getY().toArray("le",this.encodingLength);return C[this.encodingLength-1]|=F.getX().isOdd()?128:0,C},N.prototype.decodePoint=function(F){var C=(F=O.parseBytes(F)).length-1,Y=F.slice(0,C).concat(-129&F[C]),j=!!(128&F[C]),G=O.intFromLE(Y);return this.curve.pointFromY(G,j)},N.prototype.encodeInt=function(F){return F.toArray("le",this.encodingLength)},N.prototype.decodeInt=function(F){return O.intFromLE(F)},N.prototype.isPoint=function(F){return F instanceof this.pointClass}},87222:(Ne,V,E)=>{"use strict";var g=E(3136),w=g.assert,O=g.parseBytes,X=g.cachedProperty;function _(R,A){this.eddsa=R,this._secret=O(A.secret),R.isPoint(A.pub)?this._pub=A.pub:this._pubBytes=O(A.pub)}_.fromPublic=function(A,N){return N instanceof _?N:new _(A,{pub:N})},_.fromSecret=function(A,N){return N instanceof _?N:new _(A,{secret:N})},_.prototype.secret=function(){return this._secret},X(_,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),X(_,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),X(_,"privBytes",function(){var A=this.eddsa,N=this.hash(),L=A.encodingLength-1,F=N.slice(0,A.encodingLength);return F[0]&=248,F[L]&=127,F[L]|=64,F}),X(_,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),X(_,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),X(_,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),_.prototype.sign=function(A){return w(this._secret,"KeyPair can only verify"),this.eddsa.sign(A,this)},_.prototype.verify=function(A,N){return this.eddsa.verify(A,N,this)},_.prototype.getSecret=function(A){return w(this._secret,"KeyPair is public only"),g.encode(this.secret(),A)},_.prototype.getPublic=function(A){return g.encode(this.pubBytes(),A)},Ne.exports=_},5451:(Ne,V,E)=>{"use strict";var g=E(88723),w=E(3136),O=w.assert,X=w.cachedProperty,_=w.parseBytes;function R(A,N){this.eddsa=A,"object"!=typeof N&&(N=_(N)),Array.isArray(N)&&(N={R:N.slice(0,A.encodingLength),S:N.slice(A.encodingLength)}),O(N.R&&N.S,"Signature without R or S"),A.isPoint(N.R)&&(this._R=N.R),N.S instanceof g&&(this._S=N.S),this._Rencoded=Array.isArray(N.R)?N.R:N.Rencoded,this._Sencoded=Array.isArray(N.S)?N.S:N.Sencoded}X(R,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),X(R,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),X(R,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),X(R,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),R.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},R.prototype.toHex=function(){return w.encode(this.toBytes(),"hex").toUpperCase()},Ne.exports=R},51416:Ne=>{Ne.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(Ne,V,E)=>{"use strict";var g=V,w=E(88723),O=E(39210),X=E(21832);g.assert=O,g.toArray=X.toArray,g.zero2=X.zero2,g.toHex=X.toHex,g.encode=X.encode,g.getNAF=function _(F,C,Y){var G,j=new Array(Math.max(F.bitLength(),Y)+1);for(G=0;G<j.length;G+=1)j[G]=0;var te=1<<C+1,ee=F.clone();for(G=0;G<j.length;G++){var q,J=ee.andln(te-1);ee.isOdd()?ee.isubn(q=J>(te>>1)-1?(te>>1)-J:J):q=0,j[G]=q,ee.iushrn(1)}return j},g.getJSF=function R(F,C){var Y=[[],[]];F=F.clone(),C=C.clone();for(var te,j=0,G=0;F.cmpn(-j)>0||C.cmpn(-G)>0;){var J,ne,ee=F.andln(3)+j&3,q=C.andln(3)+G&3;3===ee&&(ee=-1),3===q&&(q=-1),J=1&ee?3!=(te=F.andln(7)+j&7)&&5!==te||2!==q?ee:-ee:0,Y[0].push(J),ne=1&q?3!=(te=C.andln(7)+G&7)&&5!==te||2!==ee?q:-q:0,Y[1].push(ne),2*j===J+1&&(j=1-j),2*G===ne+1&&(G=1-G),F.iushrn(1),C.iushrn(1)}return Y},g.cachedProperty=function A(F,C,Y){var j="_"+C;F.prototype[C]=function(){return void 0!==this[j]?this[j]:this[j]=Y.call(this)}},g.parseBytes=function N(F){return"string"==typeof F?g.toArray(F,"hex"):F},g.intFromLE=function L(F){return new w(F,"hex","le")}},88723:function(Ne,V,E){!function(g,w){"use strict";function O(k,l){if(!k)throw new Error(l||"Assertion failed")}function X(k,l){k.super_=l;var h=function(){};h.prototype=l.prototype,k.prototype=new h,k.prototype.constructor=k}function _(k,l,h){if(_.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===l||"be"===l)&&(h=l,l=10),this._init(k||0,l||10,h||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(79368).Buffer}catch{}function A(k,l){var h=k.charCodeAt(l);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,l,h){var m=A(k,h);return h-1>=l&&(m|=A(k,h-1)<<4),m}function L(k,l,h,m){for(var p=0,x=Math.min(k.length,h),D=l;D<x;D++){var B=k.charCodeAt(D)-48;p*=m,p+=B>=49?B-49+10:B>=17?B-17+10:B}return p}_.isBN=function(l){return l instanceof _||null!==l&&"object"==typeof l&&l.constructor.wordSize===_.wordSize&&Array.isArray(l.words)},_.max=function(l,h){return l.cmp(h)>0?l:h},_.min=function(l,h){return l.cmp(h)<0?l:h},_.prototype._init=function(l,h,m){if("number"==typeof l)return this._initNumber(l,h,m);if("object"==typeof l)return this._initArray(l,h,m);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var p=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<l.length&&(16===h?this._parseHex(l,p,m):(this._parseBase(l,h,p),"le"===m&&this._initArray(this.toArray(),h,m)))},_.prototype._initNumber=function(l,h,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(O(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),h,m)},_.prototype._initArray=function(l,h,m){if(O("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,D,B=0;if("be"===m)for(p=l.length-1,x=0;p>=0;p-=3)this.words[x]|=(D=l[p]|l[p-1]<<8|l[p-2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);else if("le"===m)for(p=0,x=0;p<l.length;p+=3)this.words[x]|=(D=l[p]|l[p+1]<<8|l[p+2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);return this.strip()},_.prototype._parseHex=function(l,h,m){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var B,x=0,D=0;if("be"===m)for(p=l.length-1;p>=h;p-=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;else for(p=(l.length-h)%2==0?h+1:h;p<l.length;p+=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;this.strip()},_.prototype._parseBase=function(l,h,m){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=h)p++;p--,x=x/h|0;for(var D=l.length-m,B=D%p,M=Math.min(D,D-B)+m,d=0,v=m;v<M;v+=p)d=L(l,v,v+p,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==B){var W=1;for(d=L(l,v,l.length,h),v=0;v<B;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},_.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red},_.prototype.clone=function(){var l=new _(null);return this.copy(l),l},_.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},_.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},_.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(k,l,h){h.negative=l.negative^k.negative;var m=k.length+l.length|0;h.length=m,m=m-1|0;var p=0|k.words[0],x=0|l.words[0],D=p*x,M=D/67108864|0;h.words[0]=67108863&D;for(var d=1;d<m;d++){for(var v=M>>>26,W=67108863&M,z=Math.min(d,l.length-1),Q=Math.max(0,d-k.length+1);Q<=z;Q++)v+=(D=(p=0|k.words[d-Q|0])*(x=0|l.words[Q])+W)/67108864|0,W=67108863&D;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}_.prototype.toString=function(l,h){var m;if(h=0|h||1,16===(l=l||10)||"hex"===l){m="";for(var p=0,x=0,D=0;D<this.length;D++){var B=this.words[D],M=(16777215&(B<<p|x)).toString(16);m=0!=(x=B>>>24-p&16777215)||D!==this.length-1?F[6-M.length]+M+m:M+m,(p+=2)>=26&&(p-=26,D--)}for(0!==x&&(m=x.toString(16)+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(l===(0|l)&&l>=2&&l<=36){var d=C[l],v=Y[l];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var z=W.modn(v).toString(l);m=(W=W.idivn(v)).isZero()?z+m:F[d-z.length]+z+m}for(this.isZero()&&(m="0"+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},_.prototype.toJSON=function(){return this.toString(16)},_.prototype.toBuffer=function(l,h){return O(typeof R<"u"),this.toArrayLike(R,l,h)},_.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)},_.prototype.toArrayLike=function(l,h,m){var p=this.byteLength(),x=m||Math.max(1,p);O(p<=x,"byte array longer than desired length"),O(x>0,"Requested array length <= 0"),this.strip();var M,d,D="le"===h,B=new l(x),v=this.clone();if(D){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[d]=M;for(;d<x;d++)B[d]=0}else{for(d=0;d<x-p;d++)B[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[x-d-1]=M}return B},_.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var h=l,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},_.prototype._zeroBits=function(l){if(0===l)return 26;var h=l,m=0;return 8191&h||(m+=13,h>>>=13),127&h||(m+=7,h>>>=7),15&h||(m+=4,h>>>=4),3&h||(m+=2,h>>>=2),1&h||m++,m},_.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(l+=m,26!==m)break}return l},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},_.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this.strip()},_.prototype.ior=function(l){return O(!(this.negative|l.negative)),this.iuor(l)},_.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},_.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},_.prototype.iuand=function(l){var h;h=this.length>l.length?l:this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=h.length,this.strip()},_.prototype.iand=function(l){return O(!(this.negative|l.negative)),this.iuand(l)},_.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},_.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},_.prototype.iuxor=function(l){var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var p=0;p<m.length;p++)this.words[p]=h.words[p]^m.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},_.prototype.ixor=function(l){return O(!(this.negative|l.negative)),this.iuxor(l)},_.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},_.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},_.prototype.inotn=function(l){O("number"==typeof l&&l>=0);var h=0|Math.ceil(l/26),m=l%26;this._expand(h),m>0&&h--;for(var p=0;p<h;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},_.prototype.notn=function(l){return this.clone().inotn(l)},_.prototype.setn=function(l,h){O("number"==typeof l&&l>=0);var m=l/26|0,p=l%26;return this._expand(m+1),this.words[m]=h?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},_.prototype.iadd=function(l){var h,m,p;if(0!==this.negative&&0===l.negative)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();this.length>l.length?(m=this,p=l):(m=l,p=this);for(var x=0,D=0;D<p.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+(0|p.words[D])+x),x=h>>>26;for(;0!==x&&D<m.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+x),x=h>>>26;if(this.length=m.length,0!==x)this.words[this.length]=x,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},_.prototype.add=function(l){var h;return 0!==l.negative&&0===this.negative?(l.negative=0,h=this.sub(l),l.negative^=1,h):0===l.negative&&0!==this.negative?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},_.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p,x,m=this.cmp(l);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,x=l):(p=l,x=this);for(var D=0,B=0;B<x.length;B++)D=(h=(0|p.words[B])-(0|x.words[B])+D)>>26,this.words[B]=67108863&h;for(;0!==D&&B<p.length;B++)D=(h=(0|p.words[B])+D)>>26,this.words[B]=67108863&h;if(0===D&&B<p.length&&p!==this)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=Math.max(this.length,B),p!==this&&(this.negative=1),this.strip()},_.prototype.sub=function(l){return this.clone().isub(l)};var te=function(l,h,m){var M,d,v,p=l.words,x=h.words,D=m.words,B=0,W=0|p[0],z=8191&W,Q=W>>>13,de=0|p[1],xe=8191&de,Ie=de>>>13,Le=0|p[2],ve=8191&Le,ye=Le>>>13,ke=0|p[3],me=8191&ke,Ee=ke>>>13,fe=0|p[4],he=8191&fe,ae=fe>>>13,ue=0|p[5],ge=8191&ue,Ae=ue>>>13,Ue=0|p[6],Ve=8191&Ue,ze=Ue>>>13,It=0|p[7],qe=8191&It,je=It>>>13,ut=0|p[8],$=8191&ut,T=ut>>>13,S=0|p[9],Z=8191&S,le=S>>>13,De=0|x[0],Oe=8191&De,Qe=De>>>13,Nt=0|x[1],ft=8191&Nt,St=Nt>>>13,Lt=0|x[2],Gt=8191&Lt,Vt=Lt>>>13,zn=0|x[3],cn=8191&zn,Bt=zn>>>13,Dt=0|x[4],nt=8191&Dt,Ye=Dt>>>13,At=0|x[5],kt=8191&At,$t=At>>>13,Bn=0|x[6],et=8191&Bn,it=Bn>>>13,ot=0|x[7],He=8191&ot,ht=ot>>>13,sn=0|x[8],Kt=8191&sn,rn=sn>>>13,ir=0|x[9],pn=8191&ir,un=ir>>>13;m.negative=l.negative^h.negative,m.length=19;var ur=(B+(M=Math.imul(z,Oe))|0)+((8191&(d=(d=Math.imul(z,Qe))+Math.imul(Q,Oe)|0))<<13)|0;B=((v=Math.imul(Q,Qe))+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,M=Math.imul(xe,Oe),d=(d=Math.imul(xe,Qe))+Math.imul(Ie,Oe)|0,v=Math.imul(Ie,Qe);var Hn=(B+(M=M+Math.imul(z,ft)|0)|0)+((8191&(d=(d=d+Math.imul(z,St)|0)+Math.imul(Q,ft)|0))<<13)|0;B=((v=v+Math.imul(Q,St)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(ve,Oe),d=(d=Math.imul(ve,Qe))+Math.imul(ye,Oe)|0,v=Math.imul(ye,Qe),M=M+Math.imul(xe,ft)|0,d=(d=d+Math.imul(xe,St)|0)+Math.imul(Ie,ft)|0,v=v+Math.imul(Ie,St)|0;var Pn=(B+(M=M+Math.imul(z,Gt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Vt)|0)+Math.imul(Q,Gt)|0))<<13)|0;B=((v=v+Math.imul(Q,Vt)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(me,Oe),d=(d=Math.imul(me,Qe))+Math.imul(Ee,Oe)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(ve,ft)|0,d=(d=d+Math.imul(ve,St)|0)+Math.imul(ye,ft)|0,v=v+Math.imul(ye,St)|0,M=M+Math.imul(xe,Gt)|0,d=(d=d+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0,v=v+Math.imul(Ie,Vt)|0;var Dn=(B+(M=M+Math.imul(z,cn)|0)|0)+((8191&(d=(d=d+Math.imul(z,Bt)|0)+Math.imul(Q,cn)|0))<<13)|0;B=((v=v+Math.imul(Q,Bt)|0)+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,M=Math.imul(he,Oe),d=(d=Math.imul(he,Qe))+Math.imul(ae,Oe)|0,v=Math.imul(ae,Qe),M=M+Math.imul(me,ft)|0,d=(d=d+Math.imul(me,St)|0)+Math.imul(Ee,ft)|0,v=v+Math.imul(Ee,St)|0,M=M+Math.imul(ve,Gt)|0,d=(d=d+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,v=v+Math.imul(ye,Vt)|0,M=M+Math.imul(xe,cn)|0,d=(d=d+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0,v=v+Math.imul(Ie,Bt)|0;var qt=(B+(M=M+Math.imul(z,nt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Ye)|0)+Math.imul(Q,nt)|0))<<13)|0;B=((v=v+Math.imul(Q,Ye)|0)+(d>>>13)|0)+(qt>>>26)|0,qt&=67108863,M=Math.imul(ge,Oe),d=(d=Math.imul(ge,Qe))+Math.imul(Ae,Oe)|0,v=Math.imul(Ae,Qe),M=M+Math.imul(he,ft)|0,d=(d=d+Math.imul(he,St)|0)+Math.imul(ae,ft)|0,v=v+Math.imul(ae,St)|0,M=M+Math.imul(me,Gt)|0,d=(d=d+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,v=v+Math.imul(Ee,Vt)|0,M=M+Math.imul(ve,cn)|0,d=(d=d+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,v=v+Math.imul(ye,Bt)|0,M=M+Math.imul(xe,nt)|0,d=(d=d+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0,v=v+Math.imul(Ie,Ye)|0;var Yt=(B+(M=M+Math.imul(z,kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,$t)|0)+Math.imul(Q,kt)|0))<<13)|0;B=((v=v+Math.imul(Q,$t)|0)+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(Ve,Oe),d=(d=Math.imul(Ve,Qe))+Math.imul(ze,Oe)|0,v=Math.imul(ze,Qe),M=M+Math.imul(ge,ft)|0,d=(d=d+Math.imul(ge,St)|0)+Math.imul(Ae,ft)|0,v=v+Math.imul(Ae,St)|0,M=M+Math.imul(he,Gt)|0,d=(d=d+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,v=v+Math.imul(ae,Vt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,v=v+Math.imul(Ee,Bt)|0,M=M+Math.imul(ve,nt)|0,d=(d=d+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,v=v+Math.imul(ye,Ye)|0,M=M+Math.imul(xe,kt)|0,d=(d=d+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0,v=v+Math.imul(Ie,$t)|0;var Xn=(B+(M=M+Math.imul(z,et)|0)|0)+((8191&(d=(d=d+Math.imul(z,it)|0)+Math.imul(Q,et)|0))<<13)|0;B=((v=v+Math.imul(Q,it)|0)+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,M=Math.imul(qe,Oe),d=(d=Math.imul(qe,Qe))+Math.imul(je,Oe)|0,v=Math.imul(je,Qe),M=M+Math.imul(Ve,ft)|0,d=(d=d+Math.imul(Ve,St)|0)+Math.imul(ze,ft)|0,v=v+Math.imul(ze,St)|0,M=M+Math.imul(ge,Gt)|0,d=(d=d+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,v=v+Math.imul(Ae,Vt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,v=v+Math.imul(ae,Bt)|0,M=M+Math.imul(me,nt)|0,d=(d=d+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,v=v+Math.imul(Ee,Ye)|0,M=M+Math.imul(ve,kt)|0,d=(d=d+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,v=v+Math.imul(ye,$t)|0,M=M+Math.imul(xe,et)|0,d=(d=d+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0,v=v+Math.imul(Ie,it)|0;var $n=(B+(M=M+Math.imul(z,He)|0)|0)+((8191&(d=(d=d+Math.imul(z,ht)|0)+Math.imul(Q,He)|0))<<13)|0;B=((v=v+Math.imul(Q,ht)|0)+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul($,Oe),d=(d=Math.imul($,Qe))+Math.imul(T,Oe)|0,v=Math.imul(T,Qe),M=M+Math.imul(qe,ft)|0,d=(d=d+Math.imul(qe,St)|0)+Math.imul(je,ft)|0,v=v+Math.imul(je,St)|0,M=M+Math.imul(Ve,Gt)|0,d=(d=d+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,v=v+Math.imul(ze,Vt)|0,M=M+Math.imul(ge,cn)|0,d=(d=d+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,v=v+Math.imul(Ae,Bt)|0,M=M+Math.imul(he,nt)|0,d=(d=d+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,v=v+Math.imul(ae,Ye)|0,M=M+Math.imul(me,kt)|0,d=(d=d+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,$t)|0,M=M+Math.imul(ve,et)|0,d=(d=d+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,v=v+Math.imul(ye,it)|0,M=M+Math.imul(xe,He)|0,d=(d=d+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0,v=v+Math.imul(Ie,ht)|0;var yr=(B+(M=M+Math.imul(z,Kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,rn)|0)+Math.imul(Q,Kt)|0))<<13)|0;B=((v=v+Math.imul(Q,rn)|0)+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(Z,Oe),d=(d=Math.imul(Z,Qe))+Math.imul(le,Oe)|0,v=Math.imul(le,Qe),M=M+Math.imul($,ft)|0,d=(d=d+Math.imul($,St)|0)+Math.imul(T,ft)|0,v=v+Math.imul(T,St)|0,M=M+Math.imul(qe,Gt)|0,d=(d=d+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,v=v+Math.imul(je,Vt)|0,M=M+Math.imul(Ve,cn)|0,d=(d=d+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,v=v+Math.imul(ze,Bt)|0,M=M+Math.imul(ge,nt)|0,d=(d=d+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,v=v+Math.imul(Ae,Ye)|0,M=M+Math.imul(he,kt)|0,d=(d=d+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,v=v+Math.imul(ae,$t)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,v=v+Math.imul(Ee,it)|0,M=M+Math.imul(ve,He)|0,d=(d=d+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,v=v+Math.imul(ye,ht)|0,M=M+Math.imul(xe,Kt)|0,d=(d=d+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0,v=v+Math.imul(Ie,rn)|0;var hr=(B+(M=M+Math.imul(z,pn)|0)|0)+((8191&(d=(d=d+Math.imul(z,un)|0)+Math.imul(Q,pn)|0))<<13)|0;B=((v=v+Math.imul(Q,un)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(Z,ft),d=(d=Math.imul(Z,St))+Math.imul(le,ft)|0,v=Math.imul(le,St),M=M+Math.imul($,Gt)|0,d=(d=d+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,v=v+Math.imul(T,Vt)|0,M=M+Math.imul(qe,cn)|0,d=(d=d+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,v=v+Math.imul(je,Bt)|0,M=M+Math.imul(Ve,nt)|0,d=(d=d+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,v=v+Math.imul(ze,Ye)|0,M=M+Math.imul(ge,kt)|0,d=(d=d+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,v=v+Math.imul(Ae,$t)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(ae,et)|0,v=v+Math.imul(ae,it)|0,M=M+Math.imul(me,He)|0,d=(d=d+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(ve,Kt)|0,d=(d=d+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,v=v+Math.imul(ye,rn)|0;var vr=(B+(M=M+Math.imul(xe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;B=((v=v+Math.imul(Ie,un)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(Z,Gt),d=(d=Math.imul(Z,Vt))+Math.imul(le,Gt)|0,v=Math.imul(le,Vt),M=M+Math.imul($,cn)|0,d=(d=d+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,v=v+Math.imul(T,Bt)|0,M=M+Math.imul(qe,nt)|0,d=(d=d+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,v=v+Math.imul(je,Ye)|0,M=M+Math.imul(Ve,kt)|0,d=(d=d+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,v=v+Math.imul(ze,$t)|0,M=M+Math.imul(ge,et)|0,d=(d=d+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,v=v+Math.imul(Ae,it)|0,M=M+Math.imul(he,He)|0,d=(d=d+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,v=v+Math.imul(ae,ht)|0,M=M+Math.imul(me,Kt)|0,d=(d=d+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,v=v+Math.imul(Ee,rn)|0;var sr=(B+(M=M+Math.imul(ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0))<<13)|0;B=((v=v+Math.imul(ye,un)|0)+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,M=Math.imul(Z,cn),d=(d=Math.imul(Z,Bt))+Math.imul(le,cn)|0,v=Math.imul(le,Bt),M=M+Math.imul($,nt)|0,d=(d=d+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,v=v+Math.imul(T,Ye)|0,M=M+Math.imul(qe,kt)|0,d=(d=d+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,v=v+Math.imul(je,$t)|0,M=M+Math.imul(Ve,et)|0,d=(d=d+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,v=v+Math.imul(ze,it)|0,M=M+Math.imul(ge,He)|0,d=(d=d+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,v=v+Math.imul(Ae,ht)|0,M=M+Math.imul(he,Kt)|0,d=(d=d+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,v=v+Math.imul(ae,rn)|0;var pr=(B+(M=M+Math.imul(me,pn)|0)|0)+((8191&(d=(d=d+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0))<<13)|0;B=((v=v+Math.imul(Ee,un)|0)+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(Z,nt),d=(d=Math.imul(Z,Ye))+Math.imul(le,nt)|0,v=Math.imul(le,Ye),M=M+Math.imul($,kt)|0,d=(d=d+Math.imul($,$t)|0)+Math.imul(T,kt)|0,v=v+Math.imul(T,$t)|0,M=M+Math.imul(qe,et)|0,d=(d=d+Math.imul(qe,it)|0)+Math.imul(je,et)|0,v=v+Math.imul(je,it)|0,M=M+Math.imul(Ve,He)|0,d=(d=d+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,v=v+Math.imul(ze,ht)|0,M=M+Math.imul(ge,Kt)|0,d=(d=d+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,v=v+Math.imul(Ae,rn)|0;var kr=(B+(M=M+Math.imul(he,pn)|0)|0)+((8191&(d=(d=d+Math.imul(he,un)|0)+Math.imul(ae,pn)|0))<<13)|0;B=((v=v+Math.imul(ae,un)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(Z,kt),d=(d=Math.imul(Z,$t))+Math.imul(le,kt)|0,v=Math.imul(le,$t),M=M+Math.imul($,et)|0,d=(d=d+Math.imul($,it)|0)+Math.imul(T,et)|0,v=v+Math.imul(T,it)|0,M=M+Math.imul(qe,He)|0,d=(d=d+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,v=v+Math.imul(je,ht)|0,M=M+Math.imul(Ve,Kt)|0,d=(d=d+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,v=v+Math.imul(ze,rn)|0;var Tr=(B+(M=M+Math.imul(ge,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0))<<13)|0;B=((v=v+Math.imul(Ae,un)|0)+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,et),d=(d=Math.imul(Z,it))+Math.imul(le,et)|0,v=Math.imul(le,it),M=M+Math.imul($,He)|0,d=(d=d+Math.imul($,ht)|0)+Math.imul(T,He)|0,v=v+Math.imul(T,ht)|0,M=M+Math.imul(qe,Kt)|0,d=(d=d+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,v=v+Math.imul(je,rn)|0;var jr=(B+(M=M+Math.imul(Ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0))<<13)|0;B=((v=v+Math.imul(ze,un)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(Z,He),d=(d=Math.imul(Z,ht))+Math.imul(le,He)|0,v=Math.imul(le,ht),M=M+Math.imul($,Kt)|0,d=(d=d+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,v=v+Math.imul(T,rn)|0;var Ir=(B+(M=M+Math.imul(qe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(qe,un)|0)+Math.imul(je,pn)|0))<<13)|0;B=((v=v+Math.imul(je,un)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,M=Math.imul(Z,Kt),d=(d=Math.imul(Z,rn))+Math.imul(le,Kt)|0,v=Math.imul(le,rn);var Ot=(B+(M=M+Math.imul($,pn)|0)|0)+((8191&(d=(d=d+Math.imul($,un)|0)+Math.imul(T,pn)|0))<<13)|0;B=((v=v+Math.imul(T,un)|0)+(d>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Wt=(B+(M=Math.imul(Z,pn))|0)+((8191&(d=(d=Math.imul(Z,un))+Math.imul(le,pn)|0))<<13)|0;return B=((v=Math.imul(le,un))+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D[0]=ur,D[1]=Hn,D[2]=Pn,D[3]=Dn,D[4]=qt,D[5]=Yt,D[6]=Xn,D[7]=$n,D[8]=yr,D[9]=hr,D[10]=vr,D[11]=sr,D[12]=pr,D[13]=kr,D[14]=Tr,D[15]=jr,D[16]=Ir,D[17]=Ot,D[18]=Wt,0!==B&&(D[19]=B,m.length++),m};function q(k,l,h){return(new J).mulp(k,l,h)}function J(k,l){this.x=k,this.y=l}Math.imul||(te=G),_.prototype.mulTo=function(l,h){var m,p=this.length+l.length;return m=10===this.length&&10===l.length?te(this,l,h):p<63?G(this,l,h):p<1024?function ee(k,l,h){h.negative=l.negative^k.negative,h.length=k.length+l.length;for(var m=0,p=0,x=0;x<h.length-1;x++){var D=p;p=0;for(var B=67108863&m,M=Math.min(x,l.length-1),d=Math.max(0,x-k.length+1);d<=M;d++){var Q=(0|k.words[x-d])*(0|l.words[d]),de=67108863&Q;B=67108863&(de=de+B|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}h.words[x]=B,m=D,D=p}return 0!==m?h.words[x]=m:h.length--,h.strip()}(this,l,h):q(this,l,h),m},J.prototype.makeRBT=function(l){for(var h=new Array(l),m=_.prototype._countBits(l)-1,p=0;p<l;p++)h[p]=this.revBin(p,m,l);return h},J.prototype.revBin=function(l,h,m){if(0===l||l===m-1)return l;for(var p=0,x=0;x<h;x++)p|=(1&l)<<h-x-1,l>>=1;return p},J.prototype.permute=function(l,h,m,p,x,D){for(var B=0;B<D;B++)p[B]=h[l[B]],x[B]=m[l[B]]},J.prototype.transform=function(l,h,m,p,x,D){this.permute(D,l,h,m,p,x);for(var B=1;B<x;B<<=1)for(var M=B<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<x;W+=M)for(var z=d,Q=v,de=0;de<B;de++){var xe=m[W+de],Ie=p[W+de],Le=m[W+de+B],ve=p[W+de+B],ye=z*Le-Q*ve;ve=z*ve+Q*Le,m[W+de]=xe+(Le=ye),p[W+de]=Ie+ve,m[W+de+B]=xe-Le,p[W+de+B]=Ie-ve,de!==M&&(ye=d*z-v*Q,Q=d*Q+v*z,z=ye)}},J.prototype.guessLen13b=function(l,h){var m=1|Math.max(h,l),p=1&m,x=0;for(m=m/2|0;m;m>>>=1)x++;return 1<<x+1+p},J.prototype.conjugate=function(l,h,m){if(!(m<=1))for(var p=0;p<m/2;p++){var x=l[p];l[p]=l[m-p-1],l[m-p-1]=x,x=h[p],h[p]=-h[m-p-1],h[m-p-1]=-x}},J.prototype.normalize13b=function(l,h){for(var m=0,p=0;p<h/2;p++){var x=8192*Math.round(l[2*p+1]/h)+Math.round(l[2*p]/h)+m;l[p]=67108863&x,m=x<67108864?0:x/67108864|0}return l},J.prototype.convert13b=function(l,h,m,p){for(var x=0,D=0;D<h;D++)m[2*D]=8191&(x+=0|l[D]),m[2*D+1]=8191&(x>>>=13),x>>>=13;for(D=2*h;D<p;++D)m[D]=0;O(0===x),O(!(-8192&x))},J.prototype.stub=function(l){for(var h=new Array(l),m=0;m<l;m++)h[m]=0;return h},J.prototype.mulp=function(l,h,m){var p=2*this.guessLen13b(l.length,h.length),x=this.makeRBT(p),D=this.stub(p),B=new Array(p),M=new Array(p),d=new Array(p),v=new Array(p),W=new Array(p),z=new Array(p),Q=m.words;Q.length=p,this.convert13b(l.words,l.length,B,p),this.convert13b(h.words,h.length,v,p),this.transform(B,D,M,d,p,x),this.transform(v,D,W,z,p,x);for(var de=0;de<p;de++){var xe=M[de]*W[de]-d[de]*z[de];d[de]=M[de]*z[de]+d[de]*W[de],M[de]=xe}return this.conjugate(M,d,p),this.transform(M,d,Q,D,p,x),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=l.negative^h.negative,m.length=l.length+h.length,m.strip()},_.prototype.mul=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},_.prototype.mulf=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),q(this,l,h)},_.prototype.imul=function(l){return this.clone().mulTo(l,this)},_.prototype.imuln=function(l){O("number"==typeof l),O(l<67108864);for(var h=0,m=0;m<this.length;m++){var p=(0|this.words[m])*l,x=(67108863&p)+(67108863&h);h>>=26,h+=p/67108864|0,h+=x>>>26,this.words[m]=67108863&x}return 0!==h&&(this.words[m]=h,this.length++),this},_.prototype.muln=function(l){return this.clone().imuln(l)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(l){var h=function j(k){for(var l=new Array(k.bitLength()),h=0;h<l.length;h++){var p=h%26;l[h]=(k.words[h/26|0]&1<<p)>>>p}return l}(l);if(0===h.length)return new _(1);for(var m=this,p=0;p<h.length&&0===h[p];p++,m=m.sqr());if(++p<h.length)for(var x=m.sqr();p<h.length;p++,x=x.sqr())0!==h[p]&&(m=m.mul(x));return m},_.prototype.iushln=function(l){O("number"==typeof l&&l>=0);var x,h=l%26,m=(l-h)/26,p=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(x=0;x<this.length;x++){var B=this.words[x]&p;this.words[x]=(0|this.words[x])-B<<h|D,D=B>>>26-h}D&&(this.words[x]=D,this.length++)}if(0!==m){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},_.prototype.ishln=function(l){return O(0===this.negative),this.iushln(l)},_.prototype.iushrn=function(l,h,m){var p;O("number"==typeof l&&l>=0),p=h?(h-h%26)/26:0;var x=l%26,D=Math.min((l-x)/26,this.length),B=67108863^67108863>>>x<<x,M=m;if(p-=D,p=Math.max(0,p),M){for(var d=0;d<D;d++)M.words[d]=this.words[d];M.length=D}if(0!==D)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=p);d--){var W=0|this.words[d];this.words[d]=v<<26-x|W>>>x,v=W&B}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},_.prototype.ishrn=function(l,h,m){return O(0===this.negative),this.iushrn(l,h,m)},_.prototype.shln=function(l){return this.clone().ishln(l)},_.prototype.ushln=function(l){return this.clone().iushln(l)},_.prototype.shrn=function(l){return this.clone().ishrn(l)},_.prototype.ushrn=function(l){return this.clone().iushrn(l)},_.prototype.testn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return!(this.length<=m||!(this.words[m]&1<<h))},_.prototype.imaskn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==h&&m++,this.length=Math.min(m,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},_.prototype.maskn=function(l){return this.clone().imaskn(l)},_.prototype.iaddn=function(l){return O("number"==typeof l),O(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},_.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},_.prototype.isubn=function(l){if(O("number"==typeof l),O(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},_.prototype.addn=function(l){return this.clone().iaddn(l)},_.prototype.subn=function(l){return this.clone().isubn(l)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(l,h,m){var x;this._expand(l.length+m);var D,B=0;for(x=0;x<l.length;x++){D=(0|this.words[x+m])+B;var M=(0|l.words[x])*h;B=((D-=67108863&M)>>26)-(M/67108864|0),this.words[x+m]=67108863&D}for(;x<this.length-m;x++)B=(D=(0|this.words[x+m])+B)>>26,this.words[x+m]=67108863&D;if(0===B)return this.strip();for(O(-1===B),B=0,x=0;x<this.length;x++)B=(D=-(0|this.words[x])+B)>>26,this.words[x]=67108863&D;return this.negative=1,this.strip()},_.prototype._wordDiv=function(l,h){var m,p=this.clone(),x=l,D=0|x.words[x.length-1];0!=(m=26-this._countBits(D))&&(x=x.ushln(m),p.iushln(m),D=0|x.words[x.length-1]);var d,M=p.length-x.length;if("mod"!==h){(d=new _(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=p.clone()._ishlnsubmul(x,1,M);0===W.negative&&(p=W,d&&(d.words[M]=1));for(var z=M-1;z>=0;z--){var Q=67108864*(0|p.words[x.length+z])+(0|p.words[x.length+z-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(x,Q,z);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(x,1,z),p.isZero()||(p.negative^=1);d&&(d.words[z]=Q)}return d&&d.strip(),p.strip(),"div"!==h&&0!==m&&p.iushrn(m),{div:d||null,mod:p}},_.prototype.divmod=function(l,h,m){return O(!l.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===l.negative?(D=this.neg().divmod(l,h),"mod"!==h&&(p=D.div.neg()),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.iadd(l)),{div:p,mod:x}):0===this.negative&&0!==l.negative?(D=this.divmod(l.neg(),h),"mod"!==h&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),h),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.isub(l)),{div:D.div,mod:x}):l.length>this.length||this.cmp(l)<0?{div:new _(0),mod:this}:1===l.length?"div"===h?{div:this.divn(l.words[0]),mod:null}:"mod"===h?{div:null,mod:new _(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new _(this.modn(l.words[0]))}:this._wordDiv(l,h);var p,x,D},_.prototype.div=function(l){return this.divmod(l,"div",!1).div},_.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},_.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},_.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var m=0!==h.div.negative?h.mod.isub(l):h.mod,p=l.ushrn(1),x=l.andln(1),D=m.cmp(p);return D<0||1===x&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},_.prototype.modn=function(l){O(l<=67108863);for(var h=(1<<26)%l,m=0,p=this.length-1;p>=0;p--)m=(h*m+(0|this.words[p]))%l;return m},_.prototype.idivn=function(l){O(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*h;this.words[m]=p/l|0,h=p%l}return this.strip()},_.prototype.divn=function(l){return this.clone().idivn(l)},_.prototype.egcd=function(l){O(0===l.negative),O(!l.isZero());var h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=new _(0),B=new _(1),M=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++M;for(var d=m.clone(),v=h.clone();!h.isZero();){for(var W=0,z=1;!(h.words[0]&z)&&W<26;++W,z<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(d),x.isub(v)),p.iushrn(1),x.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||B.isOdd())&&(D.iadd(d),B.isub(v)),D.iushrn(1),B.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(D),x.isub(B)):(m.isub(h),D.isub(p),B.isub(x))}return{a:D,b:B,gcd:m.iushln(M)}},_.prototype._invmp=function(l){O(0===l.negative),O(!l.isZero());var W,h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var B=0,M=1;!(h.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(h.iushrn(B);B-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var d=0,v=1;!(m.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(x)):(m.isub(h),x.isub(p))}return(W=0===h.cmpn(1)?p:x).cmpn(0)<0&&W.iadd(l),W},_.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),m=l.clone();h.negative=0,m.negative=0;for(var p=0;h.isEven()&&m.isEven();p++)h.iushrn(1),m.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var D=h;h=m,m=D}else if(0===x||0===m.cmpn(1))break;h.isub(m)}return m.iushln(p)},_.prototype.invm=function(l){return this.egcd(l).a.umod(l)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(l){return this.words[0]&l},_.prototype.bincn=function(l){O("number"==typeof l);var h=l%26,m=(l-h)/26,p=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var x=p,D=m;0!==x&&D<this.length;D++){var B=0|this.words[D];x=(B+=x)>>>26,this.words[D]=B&=67108863}return 0!==x&&(this.words[D]=x,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(l){var m,h=l<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)m=1;else{h&&(l=-l),O(l<=67108863,"Number is too big");var p=0|this.words[0];m=p===l?0:p<l?-1:1}return 0!==this.negative?0|-m:m},_.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var h=this.ucmp(l);return 0!==this.negative?0|-h:h},_.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],x=0|l.words[m];if(p!==x){p<x?h=-1:p>x&&(h=1);break}}return h},_.prototype.gtn=function(l){return 1===this.cmpn(l)},_.prototype.gt=function(l){return 1===this.cmp(l)},_.prototype.gten=function(l){return this.cmpn(l)>=0},_.prototype.gte=function(l){return this.cmp(l)>=0},_.prototype.ltn=function(l){return-1===this.cmpn(l)},_.prototype.lt=function(l){return-1===this.cmp(l)},_.prototype.lten=function(l){return this.cmpn(l)<=0},_.prototype.lte=function(l){return this.cmp(l)<=0},_.prototype.eqn=function(l){return 0===this.cmpn(l)},_.prototype.eq=function(l){return 0===this.cmp(l)},_.red=function(l){return new we(l)},_.prototype.toRed=function(l){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(l){return this.red=l,this},_.prototype.forceRed=function(l){return O(!this.red,"Already a number in reduction context"),this._forceRed(l)},_.prototype.redAdd=function(l){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},_.prototype.redIAdd=function(l){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},_.prototype.redSub=function(l){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},_.prototype.redISub=function(l){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},_.prototype.redShl=function(l){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},_.prototype.redMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},_.prototype.redIMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(l){return O(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ne={k256:null,p224:null,p192:null,p25519:null};function ie(k,l){this.name=k,this.p=new _(l,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function re(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ce(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var l=_._prime(k);this.m=l.p,this.prime=l}else O(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function Me(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var l=new _(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m,h=l;do{this.split(h,this.tmp),m=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:h.ucmp(this.p);return 0===p?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},ie.prototype.split=function(l,h){l.iushrn(this.n,0,h)},ie.prototype.imulK=function(l){return l.imul(this.k)},X(re,ie),re.prototype.split=function(l,h){for(var m=4194303,p=Math.min(l.length,9),x=0;x<p;x++)h.words[x]=l.words[x];if(h.length=p,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(h.words[h.length++]=D&m,x=10;x<l.length;x++){var B=0|l.words[x];l.words[x-10]=(B&m)<<4|D>>>22,D=B}l.words[x-10]=D>>>=22,l.length-=0===D&&l.length>10?10:9},re.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,m=0;m<l.length;m++){var p=0|l.words[m];l.words[m]=67108863&(h+=977*p),h=64*p+(h/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},X(ce,ie),X(se,ie),X(pe,ie),pe.prototype.imulK=function(l){for(var h=0,m=0;m<l.length;m++){var p=19*(0|l.words[m])+h,x=67108863&p;p>>>=26,l.words[m]=x,h=p}return 0!==h&&(l.words[l.length++]=h),l},_._prime=function(l){if(ne[l])return ne[l];var h;if("k256"===l)h=new re;else if("p224"===l)h=new ce;else if("p192"===l)h=new se;else{if("p25519"!==l)throw new Error("Unknown prime "+l);h=new pe}return ne[l]=h,h},we.prototype._verify1=function(l){O(0===l.negative,"red works only with positives"),O(l.red,"red works only with red numbers")},we.prototype._verify2=function(l,h){O(!(l.negative|h.negative),"red works only with positives"),O(l.red&&l.red===h.red,"red works only with red numbers")},we.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},we.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},we.prototype.add=function(l,h){this._verify2(l,h);var m=l.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},we.prototype.iadd=function(l,h){this._verify2(l,h);var m=l.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},we.prototype.sub=function(l,h){this._verify2(l,h);var m=l.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},we.prototype.isub=function(l,h){this._verify2(l,h);var m=l.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},we.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},we.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},we.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},we.prototype.isqr=function(l){return this.imul(l,l.clone())},we.prototype.sqr=function(l){return this.mul(l,l)},we.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var m=this.m.add(new _(1)).iushrn(2);return this.pow(l,m)}for(var p=this.m.subn(1),x=0;!p.isZero()&&0===p.andln(1);)x++,p.iushrn(1);O(!p.isZero());var D=new _(1).toRed(this),B=D.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new _(2*d*d).toRed(this);0!==this.pow(d,M).cmp(B);)d.redIAdd(B);for(var v=this.pow(d,p),W=this.pow(l,p.addn(1).iushrn(1)),z=this.pow(l,p),Q=x;0!==z.cmp(D);){for(var de=z,xe=0;0!==de.cmp(D);xe++)de=de.redSqr();O(xe<Q);var Ie=this.pow(v,new _(1).iushln(Q-xe-1));W=W.redMul(Ie),v=Ie.redSqr(),z=z.redMul(v),Q=xe}return W},we.prototype.invm=function(l){var h=l._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(l,h){if(h.isZero())return new _(1).toRed(this);if(0===h.cmpn(1))return l.clone();var p=new Array(16);p[0]=new _(1).toRed(this),p[1]=l;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],l);var D=p[0],B=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),x=h.length-1;x>=0;x--){for(var v=h.words[x],W=d-1;W>=0;W--){var z=v>>W&1;D!==p[0]&&(D=this.sqr(D)),0!==z||0!==B?(B<<=1,B|=z,(4==++M||0===x&&0===W)&&(D=this.mul(D,p[B]),M=0,B=0)):M=0}d=26}return D},we.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},we.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},_.mont=function(l){return new Me(l)},X(Me,we),Me.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Me.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},Me.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new _(0)._forceRed(this);var m=l.mul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},44356:Ne=>{"use strict";var g,V="object"==typeof Reflect?Reflect:null,E=V&&"function"==typeof V.apply?V.apply:function(ie,re,ce){return Function.prototype.apply.call(ie,re,ce)};g=V&&"function"==typeof V.ownKeys?V.ownKeys:Object.getOwnPropertySymbols?function(ie){return Object.getOwnPropertyNames(ie).concat(Object.getOwnPropertySymbols(ie))}:function(ie){return Object.getOwnPropertyNames(ie)};var O=Number.isNaN||function(ie){return ie!=ie};function X(){X.init.call(this)}Ne.exports=X,Ne.exports.once=function ee(ne,ie){return new Promise(function(re,ce){function se(we){ne.removeListener(ie,pe),ce(we)}function pe(){"function"==typeof ne.removeListener&&ne.removeListener("error",se),re([].slice.call(arguments))}J(ne,ie,pe,{once:!0}),"error"!==ie&&function q(ne,ie,re){"function"==typeof ne.on&&J(ne,"error",ie,re)}(ne,se,{once:!0})})},X.EventEmitter=X,X.prototype._events=void 0,X.prototype._eventsCount=0,X.prototype._maxListeners=void 0;var _=10;function R(ne){if("function"!=typeof ne)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ne)}function A(ne){return void 0===ne._maxListeners?X.defaultMaxListeners:ne._maxListeners}function N(ne,ie,re,ce){var se,pe,we;if(R(re),void 0===(pe=ne._events)?(pe=ne._events=Object.create(null),ne._eventsCount=0):(void 0!==pe.newListener&&(ne.emit("newListener",ie,re.listener?re.listener:re),pe=ne._events),we=pe[ie]),void 0===we)we=pe[ie]=re,++ne._eventsCount;else if("function"==typeof we?we=pe[ie]=ce?[re,we]:[we,re]:ce?we.unshift(re):we.push(re),(se=A(ne))>0&&we.length>se&&!we.warned){we.warned=!0;var Me=new Error("Possible EventEmitter memory leak detected. "+we.length+" "+String(ie)+" listeners added. Use emitter.setMaxListeners() to increase limit");Me.name="MaxListenersExceededWarning",Me.emitter=ne,Me.type=ie,Me.count=we.length,function w(ne){console&&console.warn&&console.warn(ne)}(Me)}return ne}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F(ne,ie,re){var ce={fired:!1,wrapFn:void 0,target:ne,type:ie,listener:re},se=L.bind(ce);return se.listener=re,ce.wrapFn=se,se}function C(ne,ie,re){var ce=ne._events;if(void 0===ce)return[];var se=ce[ie];return void 0===se?[]:"function"==typeof se?re?[se.listener||se]:[se]:re?function te(ne){for(var ie=new Array(ne.length),re=0;re<ie.length;++re)ie[re]=ne[re].listener||ne[re];return ie}(se):j(se,se.length)}function Y(ne){var ie=this._events;if(void 0!==ie){var re=ie[ne];if("function"==typeof re)return 1;if(void 0!==re)return re.length}return 0}function j(ne,ie){for(var re=new Array(ie),ce=0;ce<ie;++ce)re[ce]=ne[ce];return re}function J(ne,ie,re,ce){if("function"==typeof ne.on)ce.once?ne.once(ie,re):ne.on(ie,re);else{if("function"!=typeof ne.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ne);ne.addEventListener(ie,function se(pe){ce.once&&ne.removeEventListener(ie,se),re(pe)})}}Object.defineProperty(X,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(ne){if("number"!=typeof ne||ne<0||O(ne))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ne+".");_=ne}}),X.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},X.prototype.setMaxListeners=function(ie){if("number"!=typeof ie||ie<0||O(ie))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ie+".");return this._maxListeners=ie,this},X.prototype.getMaxListeners=function(){return A(this)},X.prototype.emit=function(ie){for(var re=[],ce=1;ce<arguments.length;ce++)re.push(arguments[ce]);var se="error"===ie,pe=this._events;if(void 0!==pe)se=se&&void 0===pe.error;else if(!se)return!1;if(se){var we;if(re.length>0&&(we=re[0]),we instanceof Error)throw we;var Me=new Error("Unhandled error."+(we?" ("+we.message+")":""));throw Me.context=we,Me}var k=pe[ie];if(void 0===k)return!1;if("function"==typeof k)E(k,this,re);else{var l=k.length,h=j(k,l);for(ce=0;ce<l;++ce)E(h[ce],this,re)}return!0},X.prototype.on=X.prototype.addListener=function(ie,re){return N(this,ie,re,!1)},X.prototype.prependListener=function(ie,re){return N(this,ie,re,!0)},X.prototype.once=function(ie,re){return R(re),this.on(ie,F(this,ie,re)),this},X.prototype.prependOnceListener=function(ie,re){return R(re),this.prependListener(ie,F(this,ie,re)),this},X.prototype.off=X.prototype.removeListener=function(ie,re){var ce,se,pe,we,Me;if(R(re),void 0===(se=this._events))return this;if(void 0===(ce=se[ie]))return this;if(ce===re||ce.listener===re)0==--this._eventsCount?this._events=Object.create(null):(delete se[ie],se.removeListener&&this.emit("removeListener",ie,ce.listener||re));else if("function"!=typeof ce){for(pe=-1,we=ce.length-1;we>=0;we--)if(ce[we]===re||ce[we].listener===re){Me=ce[we].listener,pe=we;break}if(pe<0)return this;0===pe?ce.shift():function G(ne,ie){for(;ie+1<ne.length;ie++)ne[ie]=ne[ie+1];ne.pop()}(ce,pe),1===ce.length&&(se[ie]=ce[0]),void 0!==se.removeListener&&this.emit("removeListener",ie,Me||re)}return this},X.prototype.removeAllListeners=function(ie){var re,ce,se;if(void 0===(ce=this._events))return this;if(void 0===ce.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ce[ie]&&(0==--this._eventsCount?this._events=Object.create(null):delete ce[ie]),this;if(0===arguments.length){var we,pe=Object.keys(ce);for(se=0;se<pe.length;++se)"removeListener"!==(we=pe[se])&&this.removeAllListeners(we);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(re=ce[ie]))this.removeListener(ie,re);else if(void 0!==re)for(se=re.length-1;se>=0;se--)this.removeListener(ie,re[se]);return this},X.prototype.listeners=function(ie){return C(this,ie,!0)},X.prototype.rawListeners=function(ie){return C(this,ie,!1)},X.listenerCount=function(ne,ie){return"function"==typeof ne.listenerCount?ne.listenerCount(ie):Y.call(ne,ie)},X.prototype.listenerCount=Y,X.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},18211:(Ne,V,E)=>{var g=E(27054).Buffer,w=E(34725);Ne.exports=function O(X,_,R,A){if(g.isBuffer(X)||(X=g.from(X,"binary")),_&&(g.isBuffer(_)||(_=g.from(_,"binary")),8!==_.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var N=R/8,L=g.alloc(N),F=g.alloc(A||0),C=g.alloc(0);N>0||A>0;){var Y=new w;Y.update(C),Y.update(X),_&&Y.update(_),C=Y.digest();var j=0;if(N>0){var G=L.length-N;j=Math.min(N,C.length),C.copy(L,G,0,j),N-=j}if(j<C.length&&A>0){var te=F.length-A,ee=Math.min(A,C.length-j);C.copy(F,te,j,j+ee),A-=ee}}return C.fill(0),{key:L,iv:F}}},40362:Ne=>{"use strict";Ne.exports=function V(E,g){if(E===g)return!0;if(E&&g&&"object"==typeof E&&"object"==typeof g){if(E.constructor!==g.constructor)return!1;var w,O,X;if(Array.isArray(E)){if((w=E.length)!=g.length)return!1;for(O=w;0!=O--;)if(!V(E[O],g[O]))return!1;return!0}if(E.constructor===RegExp)return E.source===g.source&&E.flags===g.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===g.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===g.toString();if((w=(X=Object.keys(E)).length)!==Object.keys(g).length)return!1;for(O=w;0!=O--;)if(!Object.prototype.hasOwnProperty.call(g,X[O]))return!1;for(O=w;0!=O--;){var _=X[O];if(!V(E[_],g[_]))return!1}return!0}return E!=E&&g!=g}},13686:(Ne,V,E)=>{"use strict";var g=E(27054).Buffer,w=E(7045).Transform;function _(R){w.call(this),this._block=g.allocUnsafe(R),this._blockSize=R,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(71993)(_,w),_.prototype._transform=function(R,A,N){var L=null;try{this.update(R,A)}catch(F){L=F}N(L)},_.prototype._flush=function(R){var A=null;try{this.push(this.digest())}catch(N){A=N}R(A)},_.prototype.update=function(R,A){if(function X(R,A){if(!g.isBuffer(R)&&"string"!=typeof R)throw new TypeError(A+" must be a string or a buffer")}(R,"Data"),this._finalized)throw new Error("Digest already called");g.isBuffer(R)||(R=g.from(R,A));for(var N=this._block,L=0;this._blockOffset+R.length-L>=this._blockSize;){for(var F=this._blockOffset;F<this._blockSize;)N[F++]=R[L++];this._update(),this._blockOffset=0}for(;L<R.length;)N[this._blockOffset++]=R[L++];for(var C=0,Y=8*R.length;Y>0;++C)this._length[C]+=Y,(Y=this._length[C]/4294967296|0)>0&&(this._length[C]-=4294967296*Y);return this},_.prototype._update=function(){throw new Error("_update is not implemented")},_.prototype.digest=function(R){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var A=this._digest();void 0!==R&&(A=A.toString(R)),this._block.fill(0),this._blockOffset=0;for(var N=0;N<4;++N)this._length[N]=0;return A},_.prototype._digest=function(){throw new Error("_digest is not implemented")},Ne.exports=_},52529:(Ne,V,E)=>{var g=V;g.utils=E(68283),g.common=E(12901),g.sha=E(78528),g.ripemd=E(15283),g.hmac=E(37163),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},12901:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(39210);function O(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}V.BlockHash=O,O.prototype.update=function(_,R){if(_=g.toArray(_,R),this.pending=this.pending?this.pending.concat(_):_,this.pendingTotal+=_.length,this.pending.length>=this._delta8){var A=(_=this.pending).length%this._delta8;this.pending=_.slice(_.length-A,_.length),0===this.pending.length&&(this.pending=null),_=g.join32(_,0,_.length-A,this.endian);for(var N=0;N<_.length;N+=this._delta32)this._update(_,N,N+this._delta32)}return this},O.prototype.digest=function(_){return this.update(this._pad()),w(null===this.pending),this._digest(_)},O.prototype._pad=function(){var _=this.pendingTotal,R=this._delta8,A=R-(_+this.padLength)%R,N=new Array(A+this.padLength);N[0]=128;for(var L=1;L<A;L++)N[L]=0;if(_<<=3,"big"===this.endian){for(var F=8;F<this.padLength;F++)N[L++]=0;N[L++]=0,N[L++]=0,N[L++]=0,N[L++]=0,N[L++]=_>>>24&255,N[L++]=_>>>16&255,N[L++]=_>>>8&255,N[L++]=255&_}else for(N[L++]=255&_,N[L++]=_>>>8&255,N[L++]=_>>>16&255,N[L++]=_>>>24&255,N[L++]=0,N[L++]=0,N[L++]=0,N[L++]=0,F=8;F<this.padLength;F++)N[L++]=0;return N}},37163:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(39210);function O(X,_,R){if(!(this instanceof O))return new O(X,_,R);this.Hash=X,this.blockSize=X.blockSize/8,this.outSize=X.outSize/8,this.inner=null,this.outer=null,this._init(g.toArray(_,R))}Ne.exports=O,O.prototype._init=function(_){_.length>this.blockSize&&(_=(new this.Hash).update(_).digest()),w(_.length<=this.blockSize);for(var R=_.length;R<this.blockSize;R++)_.push(0);for(R=0;R<_.length;R++)_[R]^=54;for(this.inner=(new this.Hash).update(_),R=0;R<_.length;R++)_[R]^=106;this.outer=(new this.Hash).update(_)},O.prototype.update=function(_,R){return this.inner.update(_,R),this},O.prototype.digest=function(_){return this.outer.update(this.inner.digest()),this.outer.digest(_)}},15283:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(12901),O=g.rotl32,X=g.sum32,_=g.sum32_3,R=g.sum32_4,A=w.BlockHash;function N(){if(!(this instanceof N))return new N;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function L(ee,q,J,ne){return ee<=15?q^J^ne:ee<=31?q&J|~q&ne:ee<=47?(q|~J)^ne:ee<=63?q&ne|J&~ne:q^(J|~ne)}function C(ee){return ee<=15?1352829926:ee<=31?1548603684:ee<=47?1836072691:ee<=63?2053994217:0}g.inherits(N,A),V.ripemd160=N,N.blockSize=512,N.outSize=160,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(q,J){for(var ne=this.h[0],ie=this.h[1],re=this.h[2],ce=this.h[3],se=this.h[4],pe=ne,we=ie,Me=re,k=ce,l=se,h=0;h<80;h++){var m=X(O(R(ne,L(h,ie,re,ce),q[Y[h]+J],(ee=h)<=15?0:ee<=31?1518500249:ee<=47?1859775393:ee<=63?2400959708:2840853838),G[h]),se);ne=se,se=ce,ce=O(re,10),re=ie,ie=m,m=X(O(R(pe,L(79-h,we,Me,k),q[j[h]+J],C(h)),te[h]),l),pe=l,l=k,k=O(Me,10),Me=we,we=m}var ee;m=_(this.h[1],re,k),this.h[1]=_(this.h[2],ce,l),this.h[2]=_(this.h[3],se,pe),this.h[3]=_(this.h[4],ne,we),this.h[4]=_(this.h[0],ie,Me),this.h[0]=m},N.prototype._digest=function(q){return"hex"===q?g.toHex32(this.h,"little"):g.split32(this.h,"little")};var Y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],G=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],te=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(Ne,V,E)=>{"use strict";V.sha1=E(33468),V.sha224=E(5563),V.sha256=E(27138),V.sha384=E(93898),V.sha512=E(10827)},33468:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(12901),O=E(95542),X=g.rotl32,_=g.sum32,R=g.sum32_5,A=O.ft_1,N=w.BlockHash,L=[1518500249,1859775393,2400959708,3395469782];function F(){if(!(this instanceof F))return new F;N.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}g.inherits(F,N),Ne.exports=F,F.blockSize=512,F.outSize=160,F.hmacStrength=80,F.padLength=64,F.prototype._update=function(Y,j){for(var G=this.W,te=0;te<16;te++)G[te]=Y[j+te];for(;te<G.length;te++)G[te]=X(G[te-3]^G[te-8]^G[te-14]^G[te-16],1);var ee=this.h[0],q=this.h[1],J=this.h[2],ne=this.h[3],ie=this.h[4];for(te=0;te<G.length;te++){var re=~~(te/20),ce=R(X(ee,5),A(re,q,J,ne),ie,G[te],L[re]);ie=ne,ne=J,J=X(q,30),q=ee,ee=ce}this.h[0]=_(this.h[0],ee),this.h[1]=_(this.h[1],q),this.h[2]=_(this.h[2],J),this.h[3]=_(this.h[3],ne),this.h[4]=_(this.h[4],ie)},F.prototype._digest=function(Y){return"hex"===Y?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},5563:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(27138);function O(){if(!(this instanceof O))return new O;w.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}g.inherits(O,w),Ne.exports=O,O.blockSize=512,O.outSize=224,O.hmacStrength=192,O.padLength=64,O.prototype._digest=function(_){return"hex"===_?g.toHex32(this.h.slice(0,7),"big"):g.split32(this.h.slice(0,7),"big")}},27138:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(12901),O=E(95542),X=E(39210),_=g.sum32,R=g.sum32_4,A=g.sum32_5,N=O.ch32,L=O.maj32,F=O.s0_256,C=O.s1_256,Y=O.g0_256,j=O.g1_256,G=w.BlockHash,te=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ee(){if(!(this instanceof ee))return new ee;G.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=te,this.W=new Array(64)}g.inherits(ee,G),Ne.exports=ee,ee.blockSize=512,ee.outSize=256,ee.hmacStrength=192,ee.padLength=64,ee.prototype._update=function(J,ne){for(var ie=this.W,re=0;re<16;re++)ie[re]=J[ne+re];for(;re<ie.length;re++)ie[re]=R(j(ie[re-2]),ie[re-7],Y(ie[re-15]),ie[re-16]);var ce=this.h[0],se=this.h[1],pe=this.h[2],we=this.h[3],Me=this.h[4],k=this.h[5],l=this.h[6],h=this.h[7];for(X(this.k.length===ie.length),re=0;re<ie.length;re++){var m=A(h,C(Me),N(Me,k,l),this.k[re],ie[re]),p=_(F(ce),L(ce,se,pe));h=l,l=k,k=Me,Me=_(we,m),we=pe,pe=se,se=ce,ce=_(m,p)}this.h[0]=_(this.h[0],ce),this.h[1]=_(this.h[1],se),this.h[2]=_(this.h[2],pe),this.h[3]=_(this.h[3],we),this.h[4]=_(this.h[4],Me),this.h[5]=_(this.h[5],k),this.h[6]=_(this.h[6],l),this.h[7]=_(this.h[7],h)},ee.prototype._digest=function(J){return"hex"===J?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},93898:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(10827);function O(){if(!(this instanceof O))return new O;w.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}g.inherits(O,w),Ne.exports=O,O.blockSize=1024,O.outSize=384,O.hmacStrength=192,O.padLength=128,O.prototype._digest=function(_){return"hex"===_?g.toHex32(this.h.slice(0,12),"big"):g.split32(this.h.slice(0,12),"big")}},10827:(Ne,V,E)=>{"use strict";var g=E(68283),w=E(12901),O=E(39210),X=g.rotr64_hi,_=g.rotr64_lo,R=g.shr64_hi,A=g.shr64_lo,N=g.sum64,L=g.sum64_hi,F=g.sum64_lo,C=g.sum64_4_hi,Y=g.sum64_4_lo,j=g.sum64_5_hi,G=g.sum64_5_lo,te=w.BlockHash,ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function q(){if(!(this instanceof q))return new q;te.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ee,this.W=new Array(160)}function J(m,p,x,D,B){var M=m&x^~m&B;return M<0&&(M+=4294967296),M}function ne(m,p,x,D,B,M){var d=p&D^~p&M;return d<0&&(d+=4294967296),d}function ie(m,p,x,D,B){var M=m&x^m&B^x&B;return M<0&&(M+=4294967296),M}function re(m,p,x,D,B,M){var d=p&D^p&M^D&M;return d<0&&(d+=4294967296),d}function ce(m,p){var M=X(m,p,28)^X(p,m,2)^X(p,m,7);return M<0&&(M+=4294967296),M}function se(m,p){var M=_(m,p,28)^_(p,m,2)^_(p,m,7);return M<0&&(M+=4294967296),M}function pe(m,p){var M=X(m,p,14)^X(m,p,18)^X(p,m,9);return M<0&&(M+=4294967296),M}function we(m,p){var M=_(m,p,14)^_(m,p,18)^_(p,m,9);return M<0&&(M+=4294967296),M}function Me(m,p){var M=X(m,p,1)^X(m,p,8)^R(m,p,7);return M<0&&(M+=4294967296),M}function k(m,p){var M=_(m,p,1)^_(m,p,8)^A(m,p,7);return M<0&&(M+=4294967296),M}function l(m,p){var M=X(m,p,19)^X(p,m,29)^R(m,p,6);return M<0&&(M+=4294967296),M}function h(m,p){var M=_(m,p,19)^_(p,m,29)^A(m,p,6);return M<0&&(M+=4294967296),M}g.inherits(q,te),Ne.exports=q,q.blockSize=1024,q.outSize=512,q.hmacStrength=192,q.padLength=128,q.prototype._prepareBlock=function(p,x){for(var D=this.W,B=0;B<32;B++)D[B]=p[x+B];for(;B<D.length;B+=2){var M=l(D[B-4],D[B-3]),d=h(D[B-4],D[B-3]),v=D[B-14],W=D[B-13],z=Me(D[B-30],D[B-29]),Q=k(D[B-30],D[B-29]),de=D[B-32],xe=D[B-31];D[B]=C(M,d,v,W,z,Q,de,xe),D[B+1]=Y(M,d,v,W,z,Q,de,xe)}},q.prototype._update=function(p,x){this._prepareBlock(p,x);var D=this.W,B=this.h[0],M=this.h[1],d=this.h[2],v=this.h[3],W=this.h[4],z=this.h[5],Q=this.h[6],de=this.h[7],xe=this.h[8],Ie=this.h[9],Le=this.h[10],ve=this.h[11],ye=this.h[12],ke=this.h[13],me=this.h[14],Ee=this.h[15];O(this.k.length===D.length);for(var fe=0;fe<D.length;fe+=2){var he=me,ae=Ee,ue=pe(xe,Ie),ge=we(xe,Ie),Ae=J(xe,0,Le,0,ye),Ue=ne(0,Ie,0,ve,0,ke),Ve=this.k[fe],ze=this.k[fe+1],It=D[fe],qe=D[fe+1],je=j(he,ae,ue,ge,Ae,Ue,Ve,ze,It,qe),ut=G(he,ae,ue,ge,Ae,Ue,Ve,ze,It,qe);he=ce(B,M),ae=se(B,M),ue=ie(B,0,d,0,W),ge=re(0,M,0,v,0,z);var $=L(he,ae,ue,ge),T=F(he,ae,ue,ge);me=ye,Ee=ke,ye=Le,ke=ve,Le=xe,ve=Ie,xe=L(Q,de,je,ut),Ie=F(de,de,je,ut),Q=W,de=z,W=d,z=v,d=B,v=M,B=L(je,ut,$,T),M=F(je,ut,$,T)}N(this.h,0,B,M),N(this.h,2,d,v),N(this.h,4,W,z),N(this.h,6,Q,de),N(this.h,8,xe,Ie),N(this.h,10,Le,ve),N(this.h,12,ye,ke),N(this.h,14,me,Ee)},q.prototype._digest=function(p){return"hex"===p?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},95542:(Ne,V,E)=>{"use strict";var w=E(68283).rotr32;function X(C,Y,j){return C&Y^~C&j}function _(C,Y,j){return C&Y^C&j^Y&j}function R(C,Y,j){return C^Y^j}V.ft_1=function O(C,Y,j,G){return 0===C?X(Y,j,G):1===C||3===C?R(Y,j,G):2===C?_(Y,j,G):void 0},V.ch32=X,V.maj32=_,V.p32=R,V.s0_256=function A(C){return w(C,2)^w(C,13)^w(C,22)},V.s1_256=function N(C){return w(C,6)^w(C,11)^w(C,25)},V.g0_256=function L(C){return w(C,7)^w(C,18)^C>>>3},V.g1_256=function F(C){return w(C,17)^w(C,19)^C>>>10}},68283:(Ne,V,E)=>{"use strict";var g=E(39210),w=E(71993);function O(h,m){return!(55296!=(64512&h.charCodeAt(m))||m<0||m+1>=h.length)&&56320==(64512&h.charCodeAt(m+1))}function R(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function N(h){return 1===h.length?"0"+h:h}function L(h){return 7===h.length?"0"+h:6===h.length?"00"+h:5===h.length?"000"+h:4===h.length?"0000"+h:3===h.length?"00000"+h:2===h.length?"000000"+h:1===h.length?"0000000"+h:h}V.inherits=w,V.toArray=function X(h,m){if(Array.isArray(h))return h.slice();if(!h)return[];var p=[];if("string"==typeof h)if(m){if("hex"===m)for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),D=0;D<h.length;D+=2)p.push(parseInt(h[D]+h[D+1],16))}else for(var x=0,D=0;D<h.length;D++){var B=h.charCodeAt(D);B<128?p[x++]=B:B<2048?(p[x++]=B>>6|192,p[x++]=63&B|128):O(h,D)?(B=65536+((1023&B)<<10)+(1023&h.charCodeAt(++D)),p[x++]=B>>18|240,p[x++]=B>>12&63|128,p[x++]=B>>6&63|128,p[x++]=63&B|128):(p[x++]=B>>12|224,p[x++]=B>>6&63|128,p[x++]=63&B|128)}else for(D=0;D<h.length;D++)p[D]=0|h[D];return p},V.toHex=function _(h){for(var m="",p=0;p<h.length;p++)m+=N(h[p].toString(16));return m},V.htonl=R,V.toHex32=function A(h,m){for(var p="",x=0;x<h.length;x++){var D=h[x];"little"===m&&(D=R(D)),p+=L(D.toString(16))}return p},V.zero2=N,V.zero8=L,V.join32=function F(h,m,p,x){var D=p-m;g(D%4==0);for(var B=new Array(D/4),M=0,d=m;M<B.length;M++,d+=4)B[M]=("big"===x?h[d]<<24|h[d+1]<<16|h[d+2]<<8|h[d+3]:h[d+3]<<24|h[d+2]<<16|h[d+1]<<8|h[d])>>>0;return B},V.split32=function C(h,m){for(var p=new Array(4*h.length),x=0,D=0;x<h.length;x++,D+=4){var B=h[x];"big"===m?(p[D]=B>>>24,p[D+1]=B>>>16&255,p[D+2]=B>>>8&255,p[D+3]=255&B):(p[D+3]=B>>>24,p[D+2]=B>>>16&255,p[D+1]=B>>>8&255,p[D]=255&B)}return p},V.rotr32=function Y(h,m){return h>>>m|h<<32-m},V.rotl32=function j(h,m){return h<<m|h>>>32-m},V.sum32=function G(h,m){return h+m>>>0},V.sum32_3=function te(h,m,p){return h+m+p>>>0},V.sum32_4=function ee(h,m,p,x){return h+m+p+x>>>0},V.sum32_5=function q(h,m,p,x,D){return h+m+p+x+D>>>0},V.sum64=function J(h,m,p,x){var M=x+h[m+1]>>>0;h[m]=(M<x?1:0)+p+h[m]>>>0,h[m+1]=M},V.sum64_hi=function ne(h,m,p,x){return(m+x>>>0<m?1:0)+h+p>>>0},V.sum64_lo=function ie(h,m,p,x){return m+x>>>0},V.sum64_4_hi=function re(h,m,p,x,D,B,M,d){var v=0,W=m;return v+=(W=W+x>>>0)<m?1:0,v+=(W=W+B>>>0)<B?1:0,h+p+D+M+(v+=(W=W+d>>>0)<d?1:0)>>>0},V.sum64_4_lo=function ce(h,m,p,x,D,B,M,d){return m+x+B+d>>>0},V.sum64_5_hi=function se(h,m,p,x,D,B,M,d,v,W){var z=0,Q=m;return z+=(Q=Q+x>>>0)<m?1:0,z+=(Q=Q+B>>>0)<B?1:0,z+=(Q=Q+d>>>0)<d?1:0,h+p+D+M+v+(z+=(Q=Q+W>>>0)<W?1:0)>>>0},V.sum64_5_lo=function pe(h,m,p,x,D,B,M,d,v,W){return m+x+B+d+W>>>0},V.rotr64_hi=function we(h,m,p){return(m<<32-p|h>>>p)>>>0},V.rotr64_lo=function Me(h,m,p){return(h<<32-p|m>>>p)>>>0},V.shr64_hi=function k(h,m,p){return h>>>p},V.shr64_lo=function l(h,m,p){return(h<<32-p|m>>>p)>>>0}},33556:(Ne,V,E)=>{"use strict";var g=E(52529),w=E(21832),O=E(39210);function X(_){if(!(this instanceof X))return new X(_);this.hash=_.hash,this.predResist=!!_.predResist,this.outLen=this.hash.outSize,this.minEntropy=_.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var R=w.toArray(_.entropy,_.entropyEnc||"hex"),A=w.toArray(_.nonce,_.nonceEnc||"hex"),N=w.toArray(_.pers,_.persEnc||"hex");O(R.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(R,A,N)}Ne.exports=X,X.prototype._init=function(R,A,N){var L=R.concat(A).concat(N);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var F=0;F<this.V.length;F++)this.K[F]=0,this.V[F]=1;this._update(L),this._reseed=1,this.reseedInterval=281474976710656},X.prototype._hmac=function(){return new g.hmac(this.hash,this.K)},X.prototype._update=function(R){var A=this._hmac().update(this.V).update([0]);R&&(A=A.update(R)),this.K=A.digest(),this.V=this._hmac().update(this.V).digest(),R&&(this.K=this._hmac().update(this.V).update([1]).update(R).digest(),this.V=this._hmac().update(this.V).digest())},X.prototype.reseed=function(R,A,N,L){"string"!=typeof A&&(L=N,N=A,A=null),R=w.toArray(R,A),N=w.toArray(N,L),O(R.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(R.concat(N||[])),this._reseed=1},X.prototype.generate=function(R,A,N,L){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof A&&(L=N,N=A,A=null),N&&(N=w.toArray(N,L||"hex"),this._update(N));for(var F=[];F.length<R;)this.V=this._hmac().update(this.V).digest(),F=F.concat(this.V);var C=F.slice(0,R);return this._update(N),this._reseed++,w.encode(C,A)}},22020:(Ne,V)=>{V.read=function(E,g,w,O,X){var _,R,A=8*X-O-1,N=(1<<A)-1,L=N>>1,F=-7,C=w?X-1:0,Y=w?-1:1,j=E[g+C];for(C+=Y,_=j&(1<<-F)-1,j>>=-F,F+=A;F>0;_=256*_+E[g+C],C+=Y,F-=8);for(R=_&(1<<-F)-1,_>>=-F,F+=O;F>0;R=256*R+E[g+C],C+=Y,F-=8);if(0===_)_=1-L;else{if(_===N)return R?NaN:1/0*(j?-1:1);R+=Math.pow(2,O),_-=L}return(j?-1:1)*R*Math.pow(2,_-O)},V.write=function(E,g,w,O,X,_){var R,A,N,L=8*_-X-1,F=(1<<L)-1,C=F>>1,Y=23===X?Math.pow(2,-24)-Math.pow(2,-77):0,j=O?0:_-1,G=O?1:-1,te=g<0||0===g&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(A=isNaN(g)?1:0,R=F):(R=Math.floor(Math.log(g)/Math.LN2),g*(N=Math.pow(2,-R))<1&&(R--,N*=2),(g+=R+C>=1?Y/N:Y*Math.pow(2,1-C))*N>=2&&(R++,N/=2),R+C>=F?(A=0,R=F):R+C>=1?(A=(g*N-1)*Math.pow(2,X),R+=C):(A=g*Math.pow(2,C-1)*Math.pow(2,X),R=0));X>=8;E[w+j]=255&A,j+=G,A/=256,X-=8);for(R=R<<X|A,L+=X;L>0;E[w+j]=255&R,j+=G,R/=256,L-=8);E[w+j-G]|=128*te}},71993:Ne=>{Ne.exports="function"==typeof Object.create?function(E,g){g&&(E.super_=g,E.prototype=Object.create(g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,g){if(g){E.super_=g;var w=function(){};w.prototype=g.prototype,E.prototype=new w,E.prototype.constructor=E}}},42853:Ne=>{"use strict";function V(g,w){for(const O in w)Object.defineProperty(g,O,{value:w[O],enumerable:!0,configurable:!0});return g}Ne.exports=function E(g,w,O){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");O||(O={}),"object"==typeof w&&(O=w,w=""),w&&(O.code=w);try{return V(g,O)}catch{O.message=g.message,O.stack=g.stack;const _=function(){};return _.prototype=Object.create(Object.getPrototypeOf(g)),V(new _,O)}}},5014:Ne=>{"use strict";function V(g,w){for(const O in w)Object.defineProperty(g,O,{value:w[O],enumerable:!0,configurable:!0});return g}Ne.exports=function E(g,w,O){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");O||(O={}),"object"==typeof w&&(O=w,w=""),w&&(O.code=w);try{return V(g,O)}catch{O.message=g.message,O.stack=g.stack;const _=function(){};return _.prototype=Object.create(Object.getPrototypeOf(g)),V(new _,O)}}},3087:Ne=>{"use strict";function V(g,w){for(const O in w)Object.defineProperty(g,O,{value:w[O],enumerable:!0,configurable:!0});return g}Ne.exports=function E(g,w,O){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");O||(O={}),"object"==typeof w&&(O=w,w=""),w&&(O.code=w);try{return V(g,O)}catch{O.message=g.message,O.stack=g.stack;const _=function(){};return _.prototype=Object.create(Object.getPrototypeOf(g)),V(new _,O)}}},20053:Ne=>{var V={}.toString;Ne.exports=Array.isArray||function(E){return"[object Array]"==V.call(E)}},89994:function(Ne){Ne.exports=function(){"use strict";var V=Math.imul,E=Math.clz32;function g(se){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(se)}function O(se,pe){for(var we,Me=0;Me<pe.length;Me++)(we=pe[Me]).enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(se,we.key,we)}function R(se){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(se)}function A(se,pe){return(A=Object.setPrototypeOf||function(we,Me){return we.__proto__=Me,we})(se,pe)}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(){return(L=N()?Reflect.construct:function(se,pe,we){var Me=[null];Me.push.apply(Me,pe);var l=new(Function.bind.apply(se,Me));return we&&A(l,we.prototype),l}).apply(null,arguments)}function C(se){var pe="function"==typeof Map?new Map:void 0;return C=function(we){function Me(){return L(we,arguments,R(this).constructor)}if(null===we||!function F(se){return-1!==Function.toString.call(se).indexOf("[native code]")}(we))return we;if("function"!=typeof we)throw new TypeError("Super expression must either be null or a function");if(typeof pe<"u"){if(pe.has(we))return pe.get(we);pe.set(we,Me)}return Me.prototype=Object.create(we.prototype,{constructor:{value:Me,enumerable:!1,writable:!0,configurable:!0}}),A(Me,we)},C(se)}function Y(se){if(void 0===se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function G(se){var pe=N();return function(){var we,Me=R(se);if(pe){var k=R(this).constructor;we=Reflect.construct(Me,arguments,k)}else we=Me.apply(this,arguments);return function j(se,pe){if(pe&&("object"==typeof pe||"function"==typeof pe))return pe;if(void 0!==pe)throw new TypeError("Derived constructors may only return object or undefined");return Y(se)}(this,we)}}function te(se,pe){return function ee(se){if(Array.isArray(se))return se}(se)||function q(se,pe){var we=null==se?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(null!=we){var Me,k,l=[],h=!0,m=!1;try{for(we=we.call(se);!(h=(Me=we.next()).done)&&(l.push(Me.value),!pe||l.length!==pe);h=!0);}catch(p){m=!0,k=p}finally{try{h||null==we.return||we.return()}finally{if(m)throw k}}return l}}(se,pe)||J(se,pe)||function ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(se,pe){if(se){if("string"==typeof se)return ne(se,pe);var we=Object.prototype.toString.call(se).slice(8,-1);return"Object"===we&&se.constructor&&(we=se.constructor.name),"Map"===we||"Set"===we?Array.from(se):"Arguments"===we||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we)?ne(se,pe):void 0}}function ne(se,pe){(null==pe||pe>se.length)&&(pe=se.length);for(var we=0,Me=Array(pe);we<pe;we++)Me[we]=se[we];return Me}var ce=function(se){var pe=Math.abs,we=Math.max,Me=Math.floor;function k(h,m){var p;if(function w(se,pe){if(!(se instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,k),(p=l.call(this,h)).sign=m,Object.setPrototypeOf(Y(p),k.prototype),h>k.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return p}!function _(se,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(pe&&pe.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),pe&&A(se,pe)}(k,se);var l=G(k);return function X(se,pe,we){return pe&&O(se.prototype,pe),we&&O(se,we),Object.defineProperty(se,"prototype",{writable:!1}),se}(k,[{key:"toDebugString",value:function(){var h,m=["BigInt["],p=function re(se,pe){var we=typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(!we){if(Array.isArray(se)||(we=J(se))||pe&&se&&"number"==typeof se.length){we&&(se=we);var Me=0,k=function(){};return{s:k,n:function(){return Me>=se.length?{done:!0}:{done:!1,value:se[Me++]}},e:function(p){throw p},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,h=!0,m=!1;return{s:function(){we=we.call(se)},n:function(){var p=we.next();return h=p.done,p},e:function(p){m=!0,l=p},f:function(){try{h||null==we.return||we.return()}finally{if(m)throw l}}}}(this);try{for(p.s();!(h=p.n()).done;){var x=h.value;m.push((x&&(x>>>0).toString(16))+", ")}}catch(D){p.e(D)}finally{p.f()}return m.push("]"),m.join("")}},{key:"toString",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>h||36<h)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":h&h-1?k.__toStringGeneric(this,h,!1):k.__toStringBasePowerOfTwo(this,h)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var h=new k(this.length,this.sign),m=0;m<this.length;m++)h[m]=this[m];return h}},{key:"__trim",value:function(){for(var h=this.length,m=this[h-1];0===m;)m=this[--h-1],this.pop();return 0===h&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var h=0;h<this.length;h++)this[h]=0}},{key:"__clzmsd",value:function(){return k.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(h,m,p){p>this.length&&(p=this.length);for(var x=32767&h,D=h>>>15,B=0,M=m,d=0;d<p;d++){var v=this.__digit(d),W=32767&v,z=v>>>15,Q=k.__imul(W,x),de=k.__imul(W,D),xe=k.__imul(z,x),Le=M+Q+B;B=Le>>>30,Le&=1073741823,B+=(Le+=((32767&de)<<15)+((32767&xe)<<15))>>>30,M=k.__imul(z,D)+(de>>>15)+(xe>>>15),this.__setDigit(d,1073741823&Le)}if(0!==B||0!==M)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(h,m,p){for(var x,D=0,B=0;B<p;B++)D=(x=this.__halfDigit(m+B)+h.__halfDigit(B)+D)>>>15,this.__setHalfDigit(m+B,32767&x);return D}},{key:"__inplaceSub",value:function(h,m,p){var x=0;if(1&m){for(var D=this.__digit(m>>=1),B=32767&D,M=0;M<p-1>>>1;M++){var d=h.__digit(M),v=(D>>>15)-(32767&d)-x;x=1&v>>>15,this.__setDigit(m+M,(32767&v)<<15|32767&B),x=1&(B=(32767&(D=this.__digit(m+M+1)))-(d>>>15)-x)>>>15}var W=h.__digit(M),z=(D>>>15)-(32767&W)-x;if(x=1&z>>>15,this.__setDigit(m+M,(32767&z)<<15|32767&B),m+M+1>=this.length)throw new RangeError("out of bounds");!(1&p)&&(x=1&(B=(32767&(D=this.__digit(m+M+1)))-(W>>>15)-x)>>>15,this.__setDigit(m+h.length,1073709056&D|32767&B))}else{m>>=1;for(var Q=0;Q<h.length-1;Q++){var de=this.__digit(m+Q),xe=h.__digit(Q),Ie=(32767&de)-(32767&xe)-x,Le=(de>>>15)-(xe>>>15)-(x=1&Ie>>>15);x=1&Le>>>15,this.__setDigit(m+Q,(32767&Le)<<15|32767&Ie)}var ve=this.__digit(m+Q),ye=h.__digit(Q),ke=(32767&ve)-(32767&ye)-x;x=1&ke>>>15;var me=0;!(1&p)&&(x=1&(me=(ve>>>15)-(ye>>>15)-x)>>>15),this.__setDigit(m+Q,(32767&me)<<15|32767&ke)}return x}},{key:"__inplaceRightShift",value:function(h){if(0!==h){for(var m,p=this.__digit(0)>>>h,x=this.length-1,D=0;D<x;D++)m=this.__digit(D+1),this.__setDigit(D,1073741823&m<<30-h|p),p=m>>>h;this.__setDigit(x,p)}}},{key:"__digit",value:function(h){return this[h]}},{key:"__unsignedDigit",value:function(h){return this[h]>>>0}},{key:"__setDigit",value:function(h,m){this[h]=0|m}},{key:"__setDigitGrow",value:function(h,m){this[h]=0|m}},{key:"__halfDigitLength",value:function(){var h=this.length;return 32767>=this.__unsignedDigit(h-1)?2*h-1:2*h}},{key:"__halfDigit",value:function(h){return 32767&this[h>>>1]>>>15*(1&h)}},{key:"__setHalfDigit",value:function(h,m){var p=h>>>1,x=this.__digit(p);this.__setDigit(p,1&h?32767&x|m<<15:1073709056&x|32767&m)}}],[{key:"BigInt",value:function(h){var m=Number.isFinite;if("number"==typeof h){if(0===h)return k.__zero();if(k.__isOneDigitInt(h))return 0>h?k.__oneDigit(-h,!0):k.__oneDigit(h,!1);if(!m(h)||Me(h)!==h)throw new RangeError("The number "+h+" cannot be converted to BigInt because it is not an integer");return k.__fromDouble(h)}if("string"==typeof h){var p=k.__fromString(h);if(null===p)throw new SyntaxError("Cannot convert "+h+" to a BigInt");return p}if("boolean"==typeof h)return!0===h?k.__oneDigit(1,!1):k.__zero();if("object"===g(h)){if(h.constructor===k)return h;var x=k.__toPrimitive(h);return k.BigInt(x)}throw new TypeError("Cannot convert "+h+" to a BigInt")}},{key:"toNumber",value:function(h){var m=h.length;if(0===m)return 0;if(1===m){var p=h.__unsignedDigit(0);return h.sign?-p:p}var x=h.__digit(m-1),D=k.__clz30(x),B=30*m-D;if(1024<B)return h.sign?-1/0:1/0;var M=B-1,d=x,v=m-1,W=D+3,z=32===W?0:d<<W;z>>>=12;var Q=W-12,de=12<=W?0:d<<20+W,xe=20+W;for(0<Q&&0<v&&(v--,z|=(d=h.__digit(v))>>>30-Q,de=d<<Q+2,xe=Q+2);0<xe&&0<v;)v--,d=h.__digit(v),de|=30<=xe?d<<xe-30:d>>>30-xe,xe-=30;var Ie=k.__decideRounding(h,xe,v,d);return 1!==Ie&&(0!==Ie||1&~de)||0!=(de=de+1>>>0)||!(++z>>>20!=0&&(z=0,1023<++M))?(k.__kBitConversionInts[1]=(h.sign?-2147483648:0)|(M=M+1023<<20)|z,k.__kBitConversionInts[0]=de,k.__kBitConversionDouble[0]):h.sign?-1/0:1/0}},{key:"unaryMinus",value:function(h){if(0===h.length)return h;var m=h.__copy();return m.sign=!h.sign,m}},{key:"bitwiseNot",value:function(h){return h.sign?k.__absoluteSubOne(h).__trim():k.__absoluteAddOne(h,!0)}},{key:"exponentiate",value:function(h,m){if(m.sign)throw new RangeError("Exponent must be positive");if(0===m.length)return k.__oneDigit(1,!1);if(0===h.length)return h;if(1===h.length&&1===h.__digit(0))return!h.sign||1&m.__digit(0)?h:k.unaryMinus(h);if(1<m.length)throw new RangeError("BigInt too big");var p=m.__unsignedDigit(0);if(1===p)return h;if(p>=k.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===h.length&&2===h.__digit(0)){var x=1+(0|p/30),B=new k(x,h.sign&&!!(1&p));return B.__initializeDigits(),B.__setDigit(x-1,1<<p%30),B}var d=null,v=h;for(1&p&&(d=h),p>>=1;0!==p;p>>=1)v=k.multiply(v,v),1&p&&(d=null===d?v:k.multiply(d,v));return d}},{key:"multiply",value:function(h,m){if(0===h.length)return h;if(0===m.length)return m;var p=h.length+m.length;30<=h.__clzmsd()+m.__clzmsd()&&p--;var x=new k(p,h.sign!==m.sign);x.__initializeDigits();for(var D=0;D<h.length;D++)k.__multiplyAccumulate(m,h.__digit(D),x,D);return x.__trim()}},{key:"divide",value:function(h,m){if(0===m.length)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(h,m))return k.__zero();var p,x=h.sign!==m.sign,D=m.__unsignedDigit(0);if(1===m.length&&32767>=D){if(1===D)return x===h.sign?h:k.unaryMinus(h);p=k.__absoluteDivSmall(h,D,null)}else p=k.__absoluteDivLarge(h,m,!0,!1);return p.sign=x,p.__trim()}},{key:"remainder",value:function(m,p){if(0===p.length)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(m,p))return m;var x=p.__unsignedDigit(0);if(1===p.length&&32767>=x){if(1===x)return k.__zero();var D=k.__absoluteModSmall(m,x);return 0===D?k.__zero():k.__oneDigit(D,m.sign)}var B=k.__absoluteDivLarge(m,p,!1,!0);return B.sign=m.sign,B.__trim()}},{key:"add",value:function(h,m){var p=h.sign;return p===m.sign?k.__absoluteAdd(h,m,p):0<=k.__absoluteCompare(h,m)?k.__absoluteSub(h,m,p):k.__absoluteSub(m,h,!p)}},{key:"subtract",value:function(h,m){var p=h.sign;return p===m.sign?0<=k.__absoluteCompare(h,m)?k.__absoluteSub(h,m,p):k.__absoluteSub(m,h,!p):k.__absoluteAdd(h,m,p)}},{key:"leftShift",value:function(h,m){return 0===m.length||0===h.length?h:m.sign?k.__rightShiftByAbsolute(h,m):k.__leftShiftByAbsolute(h,m)}},{key:"signedRightShift",value:function(h,m){return 0===m.length||0===h.length?h:m.sign?k.__leftShiftByAbsolute(h,m):k.__rightShiftByAbsolute(h,m)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(h,m){return 0>k.__compareToBigInt(h,m)}},{key:"lessThanOrEqual",value:function(h,m){return 0>=k.__compareToBigInt(h,m)}},{key:"greaterThan",value:function(h,m){return 0<k.__compareToBigInt(h,m)}},{key:"greaterThanOrEqual",value:function(h,m){return 0<=k.__compareToBigInt(h,m)}},{key:"equal",value:function(h,m){if(h.sign!==m.sign||h.length!==m.length)return!1;for(var p=0;p<h.length;p++)if(h.__digit(p)!==m.__digit(p))return!1;return!0}},{key:"notEqual",value:function(h,m){return!k.equal(h,m)}},{key:"bitwiseAnd",value:function(h,m){if(!h.sign&&!m.sign)return k.__absoluteAnd(h,m).__trim();if(h.sign&&m.sign){var p=we(h.length,m.length)+1,x=k.__absoluteSubOne(h,p),D=k.__absoluteSubOne(m);return x=k.__absoluteOr(x,D,x),k.__absoluteAddOne(x,!0,x).__trim()}if(h.sign){var B=[m,h];h=B[0],m=B[1]}return k.__absoluteAndNot(h,k.__absoluteSubOne(m)).__trim()}},{key:"bitwiseXor",value:function(h,m){if(!h.sign&&!m.sign)return k.__absoluteXor(h,m).__trim();if(h.sign&&m.sign){var p=we(h.length,m.length),x=k.__absoluteSubOne(h,p),D=k.__absoluteSubOne(m);return k.__absoluteXor(x,D,x).__trim()}var B=we(h.length,m.length)+1;if(h.sign){var M=[m,h];h=M[0],m=M[1]}var d=k.__absoluteSubOne(m,B);return d=k.__absoluteXor(d,h,d),k.__absoluteAddOne(d,!0,d).__trim()}},{key:"bitwiseOr",value:function(h,m){var p=we(h.length,m.length);if(!h.sign&&!m.sign)return k.__absoluteOr(h,m).__trim();if(h.sign&&m.sign){var x=k.__absoluteSubOne(h,p),D=k.__absoluteSubOne(m);return x=k.__absoluteAnd(x,D,x),k.__absoluteAddOne(x,!0,x).__trim()}if(h.sign){var B=[m,h];h=B[0],m=B[1]}var M=k.__absoluteSubOne(m,p);return M=k.__absoluteAndNot(M,h,M),k.__absoluteAddOne(M,!0,M).__trim()}},{key:"asIntN",value:function(h,m){if(0===m.length)return m;if(0>(h=Me(h)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===h)return k.__zero();if(h>=k.__kMaxLengthBits)return m;var p=0|(h+29)/30;if(m.length<p)return m;var x=m.__unsignedDigit(p-1),D=1<<(h-1)%30;if(m.length===p&&x<D)return m;if((x&D)!==D)return k.__truncateToNBits(h,m);if(!m.sign)return k.__truncateAndSubFromPowerOfTwo(h,m,!0);if(!(x&D-1)){for(var B=p-2;0<=B;B--)if(0!==m.__digit(B))return k.__truncateAndSubFromPowerOfTwo(h,m,!1);return m.length===p&&x===D?m:k.__truncateToNBits(h,m)}return k.__truncateAndSubFromPowerOfTwo(h,m,!1)}},{key:"asUintN",value:function(h,m){if(0===m.length)return m;if(0>(h=Me(h)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===h)return k.__zero();if(m.sign){if(h>k.__kMaxLengthBits)throw new RangeError("BigInt too big");return k.__truncateAndSubFromPowerOfTwo(h,m,!1)}if(h>=k.__kMaxLengthBits)return m;var p=0|(h+29)/30;if(m.length<p)return m;var x=h%30;if(m.length==p){if(0===x)return m;if(!(m.__digit(p-1)>>>x))return m}return k.__truncateToNBits(h,m)}},{key:"ADD",value:function(h,m){if(h=k.__toPrimitive(h),m=k.__toPrimitive(m),"string"==typeof h)return"string"!=typeof m&&(m=m.toString()),h+m;if("string"==typeof m)return h.toString()+m;if(h=k.__toNumeric(h),m=k.__toNumeric(m),k.__isBigInt(h)&&k.__isBigInt(m))return k.add(h,m);if("number"==typeof h&&"number"==typeof m)return h+m;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(h,m){return k.__compare(h,m,0)}},{key:"LE",value:function(h,m){return k.__compare(h,m,1)}},{key:"GT",value:function(h,m){return k.__compare(h,m,2)}},{key:"GE",value:function(h,m){return k.__compare(h,m,3)}},{key:"EQ",value:function(h,m){for(;;){if(k.__isBigInt(h))return k.__isBigInt(m)?k.equal(h,m):k.EQ(m,h);if("number"==typeof h){if(k.__isBigInt(m))return k.__equalToNumber(m,h);if("object"!==g(m))return h==m;m=k.__toPrimitive(m)}else if("string"==typeof h){if(k.__isBigInt(m))return null!==(h=k.__fromString(h))&&k.equal(h,m);if("object"!==g(m))return h==m;m=k.__toPrimitive(m)}else if("boolean"==typeof h){if(k.__isBigInt(m))return k.__equalToNumber(m,+h);if("object"!==g(m))return h==m;m=k.__toPrimitive(m)}else if("symbol"===g(h)){if(k.__isBigInt(m))return!1;if("object"!==g(m))return h==m;m=k.__toPrimitive(m)}else{if("object"!==g(h))return h==m;if("object"===g(m)&&m.constructor!==k)return h==m;h=k.__toPrimitive(h)}}}},{key:"NE",value:function(h,m){return!k.EQ(h,m)}},{key:"DataViewGetBigInt64",value:function(h,m){return k.asIntN(64,k.DataViewGetBigUint64(h,m,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]&&arguments[2],D=te(p?[4,0]:[0,4],2),M=D[1],d=h.getUint32(m+D[0],p),v=h.getUint32(m+M,p),W=new k(3,!1);return W.__setDigit(0,1073741823&v),W.__setDigit(1,(268435455&d)<<2|v>>>30),W.__setDigit(2,d>>>28),W.__trim()}},{key:"DataViewSetBigInt64",value:function(h,m,p){k.DataViewSetBigUint64(h,m,p,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(h,m,p){var x=3<arguments.length&&void 0!==arguments[3]&&arguments[3],D=0,B=0;if(0<(p=k.asUintN(64,p)).length&&(B=p.__digit(0),1<p.length)){var M=p.__digit(1);B|=M<<30,D=M>>>2,2<p.length&&(D|=p.__digit(2)<<28)}var v=te(x?[4,0]:[0,4],2),z=v[1];h.setUint32(m+v[0],D,x),h.setUint32(m+z,B,x)}},{key:"__zero",value:function(){return new k(0,!1)}},{key:"__oneDigit",value:function(h,m){var p=new k(1,m);return p.__setDigit(0,h),p}},{key:"__decideRounding",value:function(h,m,p,x){if(0<m)return-1;var D;if(0>m)D=-m-1;else{if(0===p)return-1;p--,x=h.__digit(p),D=29}var B=1<<D;if(!(x&B))return-1;if(x&(B-=1))return 1;for(;0<p;)if(p--,0!==h.__digit(p))return 1;return 0}},{key:"__fromDouble",value:function(h){k.__kBitConversionDouble[0]=h;var m,x=(2047&k.__kBitConversionInts[1]>>>20)-1023,D=1+(0|x/30),B=new k(D,0>h),M=1048575&k.__kBitConversionInts[1]|1048576,d=k.__kBitConversionInts[0],W=x%30,z=0;if(W<20){var Q=20-W;z=Q+32,m=M>>>Q,M=M<<32-Q|d>>>Q,d<<=32-Q}else if(20===W)z=32,m=M,M=d,d=0;else{var de=W-20;z=32-de,m=M<<de|d>>>32-de,M=d<<de,d=0}B.__setDigit(D-1,m);for(var xe=D-2;0<=xe;xe--)0<z?(z-=30,m=M>>>2,M=M<<30|d>>>2,d<<=30):m=0,B.__setDigit(xe,m);return B.__trim()}},{key:"__isWhitespace",value:function(h){return 13>=h&&9<=h||(159>=h?32==h:131071>=h?160==h||5760==h:196607>=h?10>=(h&=131071)||40==h||41==h||47==h||95==h||4096==h:65279==h)}},{key:"__fromString",value:function(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,p=0,x=h.length,D=0;if(D===x)return k.__zero();for(var B=h.charCodeAt(D);k.__isWhitespace(B);){if(++D===x)return k.__zero();B=h.charCodeAt(D)}if(43===B){if(++D===x)return null;B=h.charCodeAt(D),p=1}else if(45===B){if(++D===x)return null;B=h.charCodeAt(D),p=-1}if(0===m){if(m=10,48===B){if(++D===x)return k.__zero();if(88===(B=h.charCodeAt(D))||120===B){if(m=16,++D===x)return null;B=h.charCodeAt(D)}else if(79===B||111===B){if(m=8,++D===x)return null;B=h.charCodeAt(D)}else if(66===B||98===B){if(m=2,++D===x)return null;B=h.charCodeAt(D)}}}else if(16===m&&48===B){if(++D===x)return k.__zero();if(88===(B=h.charCodeAt(D))||120===B){if(++D===x)return null;B=h.charCodeAt(D)}}if(0!==p&&10!==m)return null;for(;48===B;){if(++D===x)return k.__zero();B=h.charCodeAt(D)}var M=x-D,d=k.__kMaxBitsPerChar[m],v=k.__kBitsPerCharTableMultiplier-1;if(M>1073741824/d)return null;var z=new k(0|(29+(d*M+v>>>k.__kBitsPerCharTableShift))/30,!1),Q=10>m?m:10,de=10<m?m-10:0;if(m&m-1){z.__initializeDigits();var me=!1,Ee=0;do{for(var fe,he=0,ae=1;;){if(fe=void 0,B-48>>>0<Q)fe=B-48;else{if(!((32|B)-97>>>0<de)){me=!0;break}fe=(32|B)-87}var ue=ae*m;if(1073741823<ue)break;if(ae=ue,he=he*m+fe,Ee++,++D===x){me=!0;break}B=h.charCodeAt(D)}z.__inplaceMultiplyAdd(ae,he,0|(d*Ee+(v=30*k.__kBitsPerCharTableMultiplier-1)>>>k.__kBitsPerCharTableShift)/30)}while(!me)}else{d>>=k.__kBitsPerCharTableShift;var xe=[],Ie=[],Le=!1;do{for(var ve,ye=0,ke=0;;){if(ve=void 0,B-48>>>0<Q)ve=B-48;else{if(!((32|B)-97>>>0<de)){Le=!0;break}ve=(32|B)-87}if(ke+=d,ye=ye<<d|ve,++D===x){Le=!0;break}if(B=h.charCodeAt(D),30<ke+d)break}xe.push(ye),Ie.push(ke)}while(!Le);k.__fillFromParts(z,xe,Ie)}if(D!==x){if(!k.__isWhitespace(B))return null;for(D++;D<x;D++)if(B=h.charCodeAt(D),!k.__isWhitespace(B))return null}return z.sign=-1===p,z.__trim()}},{key:"__fillFromParts",value:function(h,m,p){for(var x=0,D=0,B=0,M=m.length-1;0<=M;M--){var d=m[M],v=p[M];D|=d<<B,30===(B+=v)?(h.__setDigit(x++,D),B=0,D=0):30<B&&(h.__setDigit(x++,1073741823&D),D=d>>>v-(B-=30))}if(0!==D){if(x>=h.length)throw new Error("implementation bug");h.__setDigit(x++,D)}for(;x<h.length;x++)h.__setDigit(x,0)}},{key:"__toStringBasePowerOfTwo",value:function(h,m){var p=h.length,x=m-1,D=x=(15&(x=(51&(x=(85&x>>>1)+(85&x))>>>2)+(51&x))>>>4)+(15&x),B=m-1,M=h.__digit(p-1),v=0|(30*p-k.__clz30(M)+D-1)/D;if(h.sign&&v++,268435456<v)throw new Error("string too long");for(var W=Array(v),z=v-1,Q=0,de=0,xe=0;xe<p-1;xe++){var Ie=h.__digit(xe);W[z--]=k.__kConversionChars[(Q|Ie<<de)&B];var ve=D-de;for(Q=Ie>>>ve,de=30-ve;de>=D;)W[z--]=k.__kConversionChars[Q&B],Q>>>=D,de-=D}for(W[z--]=k.__kConversionChars[(Q|M<<de)&B],Q=M>>>D-de;0!==Q;)W[z--]=k.__kConversionChars[Q&B],Q>>>=D;if(h.sign&&(W[z--]="-"),-1!==z)throw new Error("implementation bug");return W.join("")}},{key:"__toStringGeneric",value:function(h,m,p){var x=h.length;if(0===x)return"";if(1===x){var D=h.__unsignedDigit(0).toString(m);return!1===p&&h.sign&&(D="-"+D),D}var W,z,B=30*x-k.__clz30(h.__digit(x-1)),d=k.__kMaxBitsPerChar[m]-1,v=B*k.__kBitsPerCharTableMultiplier,Q=1+(v=0|(v+=d-1)/d)>>1,de=k.exponentiate(k.__oneDigit(m,!1),k.__oneDigit(Q,!1)),xe=de.__unsignedDigit(0);if(1===de.length&&32767>=xe){(W=new k(h.length,!1)).__initializeDigits();for(var Ie,Le=0,ve=2*h.length-1;0<=ve;ve--)Ie=Le<<15|h.__halfDigit(ve),W.__setHalfDigit(ve,0|Ie/xe),Le=0|Ie%xe;z=Le.toString(m)}else{var ye=k.__absoluteDivLarge(h,de,!0,!0);W=ye.quotient;var ke=ye.remainder.__trim();z=k.__toStringGeneric(ke,m,!0)}W.__trim();for(var me=k.__toStringGeneric(W,m,!0);z.length<Q;)z="0"+z;return!1===p&&h.sign&&(me="-"+me),me+z}},{key:"__unequalSign",value:function(h){return h?-1:1}},{key:"__absoluteGreater",value:function(h){return h?-1:1}},{key:"__absoluteLess",value:function(h){return h?1:-1}},{key:"__compareToBigInt",value:function(h,m){var p=h.sign;if(p!==m.sign)return k.__unequalSign(p);var x=k.__absoluteCompare(h,m);return 0<x?k.__absoluteGreater(p):0>x?k.__absoluteLess(p):0}},{key:"__compareToNumber",value:function(h,m){if(k.__isOneDigitInt(m)){var p=h.sign,x=0>m;if(p!==x)return k.__unequalSign(p);if(0===h.length){if(x)throw new Error("implementation bug");return 0===m?0:-1}if(1<h.length)return k.__absoluteGreater(p);var D=pe(m),B=h.__unsignedDigit(0);return B>D?k.__absoluteGreater(p):B<D?k.__absoluteLess(p):0}return k.__compareToDouble(h,m)}},{key:"__compareToDouble",value:function(h,m){if(m!=m)return m;if(m===1/0)return-1;if(m===-1/0)return 1;var p=h.sign;if(p!==0>m)return k.__unequalSign(p);if(0===m)throw new Error("implementation bug: should be handled elsewhere");if(0===h.length)return-1;k.__kBitConversionDouble[0]=m;var x=2047&k.__kBitConversionInts[1]>>>20;if(2047==x)throw new Error("implementation bug: handled elsewhere");var D=x-1023;if(0>D)return k.__absoluteGreater(p);var B=h.length,M=h.__digit(B-1),d=k.__clz30(M),v=30*B-d,W=D+1;if(v<W)return k.__absoluteLess(p);if(v>W)return k.__absoluteGreater(p);var z=1048576|1048575&k.__kBitConversionInts[1],Q=k.__kBitConversionInts[0],xe=29-d;if(xe!==(0|(v-1)%30))throw new Error("implementation bug");var Ie,Le=0;if(xe<20){var ve=20-xe;Le=ve+32,Ie=z>>>ve,z=z<<32-ve|Q>>>ve,Q<<=32-ve}else if(20===xe)Le=32,Ie=z,z=Q,Q=0;else{var ye=xe-20;Le=32-ye,Ie=z<<ye|Q>>>32-ye,z=Q<<ye,Q=0}if((M>>>=0)>(Ie>>>=0))return k.__absoluteGreater(p);if(M<Ie)return k.__absoluteLess(p);for(var ke=B-2;0<=ke;ke--){0<Le?(Le-=30,Ie=z>>>2,z=z<<30|Q>>>2,Q<<=30):Ie=0;var me=h.__unsignedDigit(ke);if(me>Ie)return k.__absoluteGreater(p);if(me<Ie)return k.__absoluteLess(p)}if(0!==z||0!==Q){if(0===Le)throw new Error("implementation bug");return k.__absoluteLess(p)}return 0}},{key:"__equalToNumber",value:function(h,m){return k.__isOneDigitInt(m)?0===m?0===h.length:1===h.length&&h.sign===0>m&&h.__unsignedDigit(0)===pe(m):0===k.__compareToDouble(h,m)}},{key:"__comparisonResultToBool",value:function(h,m){return 0===m?0>h:1===m?0>=h:2===m?0<h:3===m?0<=h:void 0}},{key:"__compare",value:function(h,m,p){if(h=k.__toPrimitive(h),m=k.__toPrimitive(m),"string"==typeof h&&"string"==typeof m)switch(p){case 0:return h<m;case 1:return h<=m;case 2:return h>m;case 3:return h>=m}if(k.__isBigInt(h)&&"string"==typeof m)return null!==(m=k.__fromString(m))&&k.__comparisonResultToBool(k.__compareToBigInt(h,m),p);if("string"==typeof h&&k.__isBigInt(m))return null!==(h=k.__fromString(h))&&k.__comparisonResultToBool(k.__compareToBigInt(h,m),p);if(h=k.__toNumeric(h),m=k.__toNumeric(m),k.__isBigInt(h)){if(k.__isBigInt(m))return k.__comparisonResultToBool(k.__compareToBigInt(h,m),p);if("number"!=typeof m)throw new Error("implementation bug");return k.__comparisonResultToBool(k.__compareToNumber(h,m),p)}if("number"!=typeof h)throw new Error("implementation bug");if(k.__isBigInt(m))return k.__comparisonResultToBool(k.__compareToNumber(m,h),2^p);if("number"!=typeof m)throw new Error("implementation bug");return 0===p?h<m:1===p?h<=m:2===p?h>m:3===p?h>=m:void 0}},{key:"__absoluteAdd",value:function(h,m,p){if(h.length<m.length)return k.__absoluteAdd(m,h,p);if(0===h.length)return h;if(0===m.length)return h.sign===p?h:k.unaryMinus(h);var x=h.length;(0===h.__clzmsd()||m.length===h.length&&0===m.__clzmsd())&&x++;for(var D,B=new k(x,p),M=0,d=0;d<m.length;d++)M=(D=h.__digit(d)+m.__digit(d)+M)>>>30,B.__setDigit(d,1073741823&D);for(;d<h.length;d++){var v=h.__digit(d)+M;M=v>>>30,B.__setDigit(d,1073741823&v)}return d<B.length&&B.__setDigit(d,M),B.__trim()}},{key:"__absoluteSub",value:function(h,m,p){if(0===h.length)return h;if(0===m.length)return h.sign===p?h:k.unaryMinus(h);for(var x,D=new k(h.length,p),B=0,M=0;M<m.length;M++)B=1&(x=h.__digit(M)-m.__digit(M)-B)>>>30,D.__setDigit(M,1073741823&x);for(;M<h.length;M++){var d=h.__digit(M)-B;B=1&d>>>30,D.__setDigit(M,1073741823&d)}return D.__trim()}},{key:"__absoluteAddOne",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,x=h.length;null===p?p=new k(x,m):p.sign=m;for(var D,B=1,M=0;M<x;M++)B=(D=h.__digit(M)+B)>>>30,p.__setDigit(M,1073741823&D);return 0!==B&&p.__setDigitGrow(x,1),p}},{key:"__absoluteSubOne",value:function(h,m){for(var x,p=h.length,D=new k(m=m||p,!1),B=1,M=0;M<p;M++)B=1&(x=h.__digit(M)-B)>>>30,D.__setDigit(M,1073741823&x);if(0!==B)throw new Error("implementation bug");for(var d=p;d<m;d++)D.__setDigit(d,0);return D}},{key:"__absoluteAnd",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,x=h.length,D=m.length,B=D;if(x<D){B=x;var M=h,d=x;h=m,x=D,m=M,D=d}var v=B;null===p?p=new k(v,!1):v=p.length;for(var W=0;W<B;W++)p.__setDigit(W,h.__digit(W)&m.__digit(W));for(;W<v;W++)p.__setDigit(W,0);return p}},{key:"__absoluteAndNot",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,x=h.length,D=m.length,B=D;x<D&&(B=x);var M=x;null===p?p=new k(M,!1):M=p.length;for(var d=0;d<B;d++)p.__setDigit(d,h.__digit(d)&~m.__digit(d));for(;d<x;d++)p.__setDigit(d,h.__digit(d));for(;d<M;d++)p.__setDigit(d,0);return p}},{key:"__absoluteOr",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,x=h.length,D=m.length,B=D;if(x<D){B=x;var M=h,d=x;h=m,x=D,m=M,D=d}var v=x;null===p?p=new k(v,!1):v=p.length;for(var W=0;W<B;W++)p.__setDigit(W,h.__digit(W)|m.__digit(W));for(;W<x;W++)p.__setDigit(W,h.__digit(W));for(;W<v;W++)p.__setDigit(W,0);return p}},{key:"__absoluteXor",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,x=h.length,D=m.length,B=D;if(x<D){B=x;var M=h,d=x;h=m,x=D,m=M,D=d}var v=x;null===p?p=new k(v,!1):v=p.length;for(var W=0;W<B;W++)p.__setDigit(W,h.__digit(W)^m.__digit(W));for(;W<x;W++)p.__setDigit(W,h.__digit(W));for(;W<v;W++)p.__setDigit(W,0);return p}},{key:"__absoluteCompare",value:function(h,m){var p=h.length-m.length;if(0!=p)return p;for(var x=h.length-1;0<=x&&h.__digit(x)===m.__digit(x);)x--;return 0>x?0:h.__unsignedDigit(x)>m.__unsignedDigit(x)?1:-1}},{key:"__multiplyAccumulate",value:function(h,m,p,x){if(0!==m){for(var D=32767&m,B=m>>>15,M=0,d=0,v=0;v<h.length;v++,x++){var W=p.__digit(x),z=h.__digit(v),Q=32767&z,de=z>>>15,xe=k.__imul(Q,D),Ie=k.__imul(Q,B),Le=k.__imul(de,D);M=(W+=d+xe+M)>>>30,W&=1073741823,M+=(W+=((32767&Ie)<<15)+((32767&Le)<<15))>>>30,d=k.__imul(de,B)+(Ie>>>15)+(Le>>>15),p.__setDigit(x,1073741823&W)}for(;0!==M||0!==d;x++){var ye=p.__digit(x);ye+=M+d,d=0,M=ye>>>30,p.__setDigit(x,1073741823&ye)}}}},{key:"__internalMultiplyAdd",value:function(h,m,p,x,D){for(var B=p,M=0,d=0;d<x;d++){var v=h.__digit(d),W=k.__imul(32767&v,m),z=k.__imul(v>>>15,m),Q=W+((32767&z)<<15)+M+B;B=Q>>>30,M=z>>>15,D.__setDigit(d,1073741823&Q)}if(D.length>x)for(D.__setDigit(x++,B+M);x<D.length;)D.__setDigit(x++,0);else if(B+M!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(h,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===p&&(p=new k(h.length,!1));for(var x=0,D=2*h.length-1;0<=D;D-=2){var B=(x<<15|h.__halfDigit(D))>>>0,M=0|B/m;x=0|(B=((x=0|B%m)<<15|h.__halfDigit(D-1))>>>0)%m,p.__setDigit(D>>>1,M<<15|B/m)}return p}},{key:"__absoluteModSmall",value:function(h,m){for(var x=0,D=2*h.length-1;0<=D;D--)x=0|((x<<15|h.__halfDigit(D))>>>0)%m;return x}},{key:"__absoluteDivLarge",value:function(h,m,p,x){var D=m.__halfDigitLength(),B=m.length,M=h.__halfDigitLength()-D,d=null;p&&(d=new k(M+2>>>1,!1)).__initializeDigits();var v=new k(D+2>>>1,!1);v.__initializeDigits();var W=k.__clz15(m.__halfDigit(D-1));0<W&&(m=k.__specialLeftShift(m,W,0));for(var z=k.__specialLeftShift(h,W,1),Q=m.__halfDigit(D-1),de=0,xe=M;0<=xe;xe--){var Ie=32767,Le=z.__halfDigit(xe+D);if(Le!==Q){var ve=(Le<<15|z.__halfDigit(xe+D-1))>>>0;Ie=0|ve/Q;for(var ye=0|ve%Q,ke=m.__halfDigit(D-2),me=z.__halfDigit(xe+D-2);k.__imul(Ie,ke)>>>0>(ye<<16|me)>>>0&&(Ie--,!(32767<(ye+=Q))););}k.__internalMultiplyAdd(m,Ie,0,B,v);var Ee=z.__inplaceSub(v,xe,D+1);0!==Ee&&(Ee=z.__inplaceAdd(m,xe,D),z.__setHalfDigit(xe+D,32767&z.__halfDigit(xe+D)+Ee),Ie--),p&&(1&xe?de=Ie<<15:d.__setDigit(xe>>>1,de|Ie))}if(x)return z.__inplaceRightShift(W),p?{quotient:d,remainder:z}:z;if(p)return d;throw new Error("unreachable")}},{key:"__clz15",value:function(h){return k.__clz30(h)-15}},{key:"__specialLeftShift",value:function(h,m,p){var x=h.length,D=new k(x+p,!1);if(0===m){for(var B=0;B<x;B++)D.__setDigit(B,h.__digit(B));return 0<p&&D.__setDigit(x,0),D}for(var M,d=0,v=0;v<x;v++)M=h.__digit(v),D.__setDigit(v,1073741823&M<<m|d),d=M>>>30-m;return 0<p&&D.__setDigit(x,d),D}},{key:"__leftShiftByAbsolute",value:function(h,m){var p=k.__toShiftAmount(m);if(0>p)throw new RangeError("BigInt too big");var x=0|p/30,D=p%30,B=h.length,M=0!==D&&h.__digit(B-1)>>>30-D!=0,d=B+x+(M?1:0),v=new k(d,h.sign);if(0===D){for(var W=0;W<x;W++)v.__setDigit(W,0);for(;W<d;W++)v.__setDigit(W,h.__digit(W-x))}else{for(var z=0,Q=0;Q<x;Q++)v.__setDigit(Q,0);for(var de,xe=0;xe<B;xe++)de=h.__digit(xe),v.__setDigit(xe+x,1073741823&de<<D|z),z=de>>>30-D;if(M)v.__setDigit(B+x,z);else if(0!==z)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(h,m){var p=h.length,x=h.sign,D=k.__toShiftAmount(m);if(0>D)return k.__rightShiftByMaximum(x);var B=0|D/30,M=D%30,d=p-B;if(0>=d)return k.__rightShiftByMaximum(x);var v=!1;if(x)if(h.__digit(B)&(1<<M)-1)v=!0;else for(var W=0;W<B;W++)if(0!==h.__digit(W)){v=!0;break}v&&0===M&&!~h.__digit(p-1)&&d++;var Q=new k(d,x);if(0===M){Q.__setDigit(d-1,0);for(var de=B;de<p;de++)Q.__setDigit(de-B,h.__digit(de))}else{for(var xe,Ie=h.__digit(B)>>>M,Le=p-B-1,ve=0;ve<Le;ve++)xe=h.__digit(ve+B+1),Q.__setDigit(ve,1073741823&xe<<30-M|Ie),Ie=xe>>>M;Q.__setDigit(Le,Ie)}return v&&(Q=k.__absoluteAddOne(Q,!0,Q)),Q.__trim()}},{key:"__rightShiftByMaximum",value:function(h){return h?k.__oneDigit(1,!0):k.__zero()}},{key:"__toShiftAmount",value:function(h){if(1<h.length)return-1;var m=h.__unsignedDigit(0);return m>k.__kMaxLengthBits?-1:m}},{key:"__toPrimitive",value:function(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==g(h)||h.constructor===k)return h;if(typeof Symbol<"u"&&"symbol"===g(Symbol.toPrimitive)){var p=h[Symbol.toPrimitive];if(p){var x=p(m);if("object"!==g(x))return x;throw new TypeError("Cannot convert object to primitive value")}}var D=h.valueOf;if(D){var B=D.call(h);if("object"!==g(B))return B}var M=h.toString;if(M){var d=M.call(h);if("object"!==g(d))return d}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(h){return k.__isBigInt(h)?h:+h}},{key:"__isBigInt",value:function(h){return"object"===g(h)&&null!==h&&h.constructor===k}},{key:"__truncateToNBits",value:function(h,m){for(var p=0|(h+29)/30,x=new k(p,m.sign),D=p-1,B=0;B<D;B++)x.__setDigit(B,m.__digit(B));var M=m.__digit(D);if(h%30!=0){var d=32-h%30;M=M<<d>>>d}return x.__setDigit(D,M),x.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(h,m,p){for(var D,x=Math.min,B=0|(h+29)/30,M=new k(B,p),d=0,v=B-1,W=0,z=x(v,m.length);d<z;d++)W=1&(D=0-m.__digit(d)-W)>>>30,M.__setDigit(d,1073741823&D);for(;d<v;d++)M.__setDigit(d,1073741823&-W);var Q,de=v<m.length?m.__digit(v):0,xe=h%30;if(0===xe)Q=0-de-W,Q&=1073741823;else{var Ie=32-xe,Le=1<<32-Ie;Q=Le-(de=de<<Ie>>>Ie)-W,Q&=Le-1}return M.__setDigit(v,Q),M.__trim()}},{key:"__digitPow",value:function(h,m){for(var p=1;0<m;)1&m&&(p*=h),m>>>=1,h*=h;return p}},{key:"__isOneDigitInt",value:function(h){return(1073741823&h)===h}}]),k}(C(Array));return ce.__kMaxLength=33554432,ce.__kMaxLengthBits=ce.__kMaxLength<<5,ce.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ce.__kBitsPerCharTableShift=5,ce.__kBitsPerCharTableMultiplier=1<<ce.__kBitsPerCharTableShift,ce.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ce.__kBitConversionBuffer=new ArrayBuffer(8),ce.__kBitConversionDouble=new Float64Array(ce.__kBitConversionBuffer),ce.__kBitConversionInts=new Int32Array(ce.__kBitConversionBuffer),ce.__clz30=E?function(se){return E(se)-2}:function(se){var pe=Math.LN2,we=Math.log;return 0===se?30:0|29-(0|we(se>>>0)/pe)},ce.__imul=V||function(se,pe){return 0|se*pe},ce}()},44331:Ne=>{"use strict";var V=Ne.exports=function(w,O,X){"function"==typeof O&&(X=O,O={}),E(O,"function"==typeof(X=O.cb||X)?X:X.pre||function(){},X.post||function(){},w,"",w)};function E(w,O,X,_,R,A,N,L,F,C){if(_&&"object"==typeof _&&!Array.isArray(_)){for(var Y in O(_,R,A,N,L,F,C),_){var j=_[Y];if(Array.isArray(j)){if(Y in V.arrayKeywords)for(var G=0;G<j.length;G++)E(w,O,X,j[G],R+"/"+Y+"/"+G,A,R,Y,_,G)}else if(Y in V.propsKeywords){if(j&&"object"==typeof j)for(var te in j)E(w,O,X,j[te],R+"/"+Y+"/"+g(te),A,R,Y,_,te)}else(Y in V.keywords||w.allKeys&&!(Y in V.skipKeywords))&&E(w,O,X,j,R+"/"+Y,A,R,Y,_)}X(_,R,A,N,L,F,C)}}function g(w){return w.replace(/~/g,"~0").replace(/\//g,"~1")}V.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},V.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},V.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},V.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(Ne,V)=>{"use strict";V.supports=function(...g){const w=g.reduce((O,X)=>Object.assign(O,X),{});return Object.assign(w,{snapshots:w.snapshots||!1,permanence:w.permanence||!1,seek:w.seek||!1,clear:w.clear||!1,getMany:w.getMany||!1,keyIterator:w.keyIterator||!1,valueIterator:w.valueIterator||!1,iteratorNextv:w.iteratorNextv||!1,iteratorAll:w.iteratorAll||!1,status:w.status||!1,createIfMissing:w.createIfMissing||!1,errorIfExists:w.errorIfExists||!1,deferredOpen:w.deferredOpen||!1,promises:w.promises||!1,streams:w.streams||!1,encodings:Object.assign({},w.encodings),events:Object.assign({},w.events),additionalMethods:Object.assign({},w.additionalMethods)})}},25006:(Ne,V,E)=>{"use strict";const g=E(61747),w=E(40080),{Encoding:O}=E(15045),{BufferFormat:X,ViewFormat:_,UTF8Format:R}=E(48262),A=Symbol("formats"),N=Symbol("encodings"),L=new Set(["buffer","view","utf8"]);V.Transcoder=class F{constructor(q){if(!Array.isArray(q))throw new TypeError("The first argument 'formats' must be an array");if(!q.every(J=>L.has(J)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[N]=new Map,this[A]=new Set(q);for(const J in w)try{this.encoding(J)}catch(ne){if("LEVEL_ENCODING_NOT_SUPPORTED"!==ne.code)throw ne}}encodings(){return Array.from(new Set(this[N].values()))}encoding(q){let J=this[N].get(q);if(void 0===J){if("string"==typeof q&&""!==q){if(J=G[q],!J)throw new g(`Encoding '${q}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof q||null===q)throw new TypeError("First argument 'encoding' must be a string or object");J=function C(ee){if(ee instanceof O)return ee;const J=ee.name||("type"in ee&&"string"==typeof ee.type?ee.type:void 0)||"anonymous-"+te++;switch(function Y(ee){return"format"in ee&&void 0!==ee.format?ee.format:"buffer"in ee&&"boolean"==typeof ee.buffer?ee.buffer?"buffer":"utf8":"code"in ee&&Number.isInteger(ee.code)?"view":"buffer"}(ee)){case"view":return new _({...ee,name:J});case"utf8":return new R({...ee,name:J});case"buffer":return new X({...ee,name:J});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(q)}const{name:ne,format:ie}=J;if(!this[A].has(ie))if(this[A].has("view"))J=J.createViewTranscoder();else if(this[A].has("buffer"))J=J.createBufferTranscoder();else{if(!this[A].has("utf8"))throw new g(`Encoding '${ne}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});J=J.createUTF8Transcoder()}for(const re of[q,ne,J.name,J.commonName])this[N].set(re,J)}return J}};const j={binary:w.buffer,"utf-8":w.utf8},G={...w,...j};let te=0},15045:(Ne,V,E)=>{"use strict";const g=E(61747),w=new Set(["buffer","view","utf8"]);V.Encoding=class O{constructor(_){if(this.encode=_.encode||this.encode,this.decode=_.decode||this.decode,this.name=_.name||this.name,this.format=_.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!w.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");_.createViewTranscoder&&(this.createViewTranscoder=_.createViewTranscoder),_.createBufferTranscoder&&(this.createBufferTranscoder=_.createBufferTranscoder),_.createUTF8Transcoder&&(this.createUTF8Transcoder=_.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(Ne,V,E)=>{"use strict";const{Buffer:g}=E(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:w,textDecoder:O}=E(33619)(),{BufferFormat:X,ViewFormat:_,UTF8Format:R}=E(48262),A=N=>N;V.utf8=new R({encode:function(N){return g.isBuffer(N)?N.toString("utf8"):ArrayBuffer.isView(N)?O.decode(N):String(N)},decode:A,name:"utf8",createViewTranscoder(){return new _({encode:function(N){return ArrayBuffer.isView(N)?N:w.encode(N)},decode:function(N){return O.decode(N)},name:`${this.name}+view`})},createBufferTranscoder(){return new X({encode:function(N){return g.isBuffer(N)?N:ArrayBuffer.isView(N)?g.from(N.buffer,N.byteOffset,N.byteLength):g.from(String(N),"utf8")},decode:function(N){return N.toString("utf8")},name:`${this.name}+buffer`})}}),V.json=new R({encode:JSON.stringify,decode:JSON.parse,name:"json"}),V.buffer=new X({encode:function(N){return g.isBuffer(N)?N:ArrayBuffer.isView(N)?g.from(N.buffer,N.byteOffset,N.byteLength):g.from(String(N),"utf8")},decode:A,name:"buffer",createViewTranscoder(){return new _({encode:function(N){return ArrayBuffer.isView(N)?N:g.from(String(N),"utf8")},decode:function(N){return g.from(N.buffer,N.byteOffset,N.byteLength)},name:`${this.name}+view`})}}),V.view=new _({encode:function(N){return ArrayBuffer.isView(N)?N:w.encode(N)},decode:A,name:"view",createBufferTranscoder(){return new X({encode:function(N){return g.isBuffer(N)?N:ArrayBuffer.isView(N)?g.from(N.buffer,N.byteOffset,N.byteLength):g.from(String(N),"utf8")},decode:A,name:`${this.name}+buffer`})}}),V.hex=new X({encode:function(N){return g.isBuffer(N)?N:g.from(String(N),"hex")},decode:function(N){return N.toString("hex")},name:"hex"}),V.base64=new X({encode:function(N){return g.isBuffer(N)?N:g.from(String(N),"base64")},decode:function(N){return N.toString("base64")},name:"base64"})},48262:(Ne,V,E)=>{"use strict";const{Buffer:g}=E(484)||{},{Encoding:w}=E(15045),O=E(33619);class X extends w{constructor(N){super({...N,format:"buffer"})}createViewTranscoder(){return new _({encode:this.encode,decode:N=>this.decode(g.from(N.buffer,N.byteOffset,N.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class _ extends w{constructor(N){super({...N,format:"view"})}createBufferTranscoder(){return new X({encode:N=>{const L=this.encode(N);return g.from(L.buffer,L.byteOffset,L.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}V.BufferFormat=X,V.ViewFormat=_,V.UTF8Format=class R extends w{constructor(N){super({...N,format:"utf8"})}createBufferTranscoder(){return new X({encode:N=>g.from(this.encode(N),"utf8"),decode:N=>this.decode(N.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:N,textDecoder:L}=O();return new _({encode:F=>N.encode(this.encode(F)),decode:F=>this.decode(L.decode(F)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:Ne=>{"use strict";let V=null;Ne.exports=function(){return null===V&&(V={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),V}},484:(Ne,V,E)=>{"use strict";const g=E(13981),w=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=A,V.SlowBuffer=function J($){return+$!=$&&($=0),A.alloc(+$)},V.INSPECT_MAX_BYTES=50;const X=2147483647;function R($){if($>X)throw new RangeError('The value "'+$+'" is invalid for option "size"');const T=new Uint8Array($);return Object.setPrototypeOf(T,A.prototype),T}function A($,T,S){if("number"==typeof $){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return C($)}return N($,T,S)}function N($,T,S){if("string"==typeof $)return function Y($,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!A.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const S=0|ne($,T);let Z=R(S);const le=Z.write($,T);return le!==S&&(Z=Z.slice(0,le)),Z}($,T);if(ArrayBuffer.isView($))return function G($){if(ze($,Uint8Array)){const T=new Uint8Array($);return te(T.buffer,T.byteOffset,T.byteLength)}return j($)}($);if(null==$)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(ze($,ArrayBuffer)||$&&ze($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze($,SharedArrayBuffer)||$&&ze($.buffer,SharedArrayBuffer)))return te($,T,S);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=$.valueOf&&$.valueOf();if(null!=Z&&Z!==$)return A.from(Z,T,S);const le=function ee($){if(A.isBuffer($)){const T=0|q($.length),S=R(T);return 0===S.length||$.copy(S,0,0,T),S}return void 0!==$.length?"number"!=typeof $.length||It($.length)?R(0):j($):"Buffer"===$.type&&Array.isArray($.data)?j($.data):void 0}($);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return A.from($[Symbol.toPrimitive]("string"),T,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function L($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function C($){return L($),R($<0?0:0|q($))}function j($){const T=$.length<0?0:0|q($.length),S=R(T);for(let Z=0;Z<T;Z+=1)S[Z]=255&$[Z];return S}function te($,T,S){if(T<0||$.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<T+(S||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return Z=void 0===T&&void 0===S?new Uint8Array($):void 0===S?new Uint8Array($,T):new Uint8Array($,T,S),Object.setPrototypeOf(Z,A.prototype),Z}function q($){if($>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|$}function ne($,T){if(A.isBuffer($))return $.length;if(ArrayBuffer.isView($)||ze($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const S=$.length,Z=arguments.length>2&&!0===arguments[2];if(!Z&&0===S)return 0;let le=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return ue($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return Ue($).length;default:if(le)return Z?-1:ue($).length;T=(""+T).toLowerCase(),le=!0}}function ie($,T,S){let Z=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(T>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return M(this,T,S);case"utf8":case"utf-8":return m(this,T,S);case"ascii":return D(this,T,S);case"latin1":case"binary":return B(this,T,S);case"base64":return h(this,T,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,T,S);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}function re($,T,S){const Z=$[T];$[T]=$[S],$[S]=Z}function ce($,T,S,Z,le){if(0===$.length)return-1;if("string"==typeof S?(Z=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),It(S=+S)&&(S=le?0:$.length-1),S<0&&(S=$.length+S),S>=$.length){if(le)return-1;S=$.length-1}else if(S<0){if(!le)return-1;S=0}if("string"==typeof T&&(T=A.from(T,Z)),A.isBuffer(T))return 0===T.length?-1:se($,T,S,Z,le);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call($,T,S):Uint8Array.prototype.lastIndexOf.call($,T,S):se($,[T],S,Z,le);throw new TypeError("val must be string, number or Buffer")}function se($,T,S,Z,le){let ft,De=1,Oe=$.length,Qe=T.length;if(void 0!==Z&&("ucs2"===(Z=String(Z).toLowerCase())||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if($.length<2||T.length<2)return-1;De=2,Oe/=2,Qe/=2,S/=2}function Nt(St,Lt){return 1===De?St[Lt]:St.readUInt16BE(Lt*De)}if(le){let St=-1;for(ft=S;ft<Oe;ft++)if(Nt($,ft)===Nt(T,-1===St?0:ft-St)){if(-1===St&&(St=ft),ft-St+1===Qe)return St*De}else-1!==St&&(ft-=ft-St),St=-1}else for(S+Qe>Oe&&(S=Oe-Qe),ft=S;ft>=0;ft--){let St=!0;for(let Lt=0;Lt<Qe;Lt++)if(Nt($,ft+Lt)!==Nt(T,Lt)){St=!1;break}if(St)return ft}return-1}function pe($,T,S,Z){S=Number(S)||0;const le=$.length-S;Z?(Z=Number(Z))>le&&(Z=le):Z=le;const De=T.length;let Oe;for(Z>De/2&&(Z=De/2),Oe=0;Oe<Z;++Oe){const Qe=parseInt(T.substr(2*Oe,2),16);if(It(Qe))return Oe;$[S+Oe]=Qe}return Oe}function we($,T,S,Z){return Ve(ue(T,$.length-S),$,S,Z)}function Me($,T,S,Z){return Ve(function ge($){const T=[];for(let S=0;S<$.length;++S)T.push(255&$.charCodeAt(S));return T}(T),$,S,Z)}function k($,T,S,Z){return Ve(Ue(T),$,S,Z)}function l($,T,S,Z){return Ve(function Ae($,T){let S,Z,le;const De=[];for(let Oe=0;Oe<$.length&&!((T-=2)<0);++Oe)S=$.charCodeAt(Oe),Z=S>>8,le=S%256,De.push(le),De.push(Z);return De}(T,$.length-S),$,S,Z)}function h($,T,S){return g.fromByteArray(0===T&&S===$.length?$:$.slice(T,S))}function m($,T,S){S=Math.min($.length,S);const Z=[];let le=T;for(;le<S;){const De=$[le];let Oe=null,Qe=De>239?4:De>223?3:De>191?2:1;if(le+Qe<=S){let Nt,ft,St,Lt;switch(Qe){case 1:De<128&&(Oe=De);break;case 2:Nt=$[le+1],128==(192&Nt)&&(Lt=(31&De)<<6|63&Nt,Lt>127&&(Oe=Lt));break;case 3:Nt=$[le+1],ft=$[le+2],128==(192&Nt)&&128==(192&ft)&&(Lt=(15&De)<<12|(63&Nt)<<6|63&ft,Lt>2047&&(Lt<55296||Lt>57343)&&(Oe=Lt));break;case 4:Nt=$[le+1],ft=$[le+2],St=$[le+3],128==(192&Nt)&&128==(192&ft)&&128==(192&St)&&(Lt=(15&De)<<18|(63&Nt)<<12|(63&ft)<<6|63&St,Lt>65535&&Lt<1114112&&(Oe=Lt))}}null===Oe?(Oe=65533,Qe=1):Oe>65535&&(Oe-=65536,Z.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),Z.push(Oe),le+=Qe}return function x($){const T=$.length;if(T<=p)return String.fromCharCode.apply(String,$);let S="",Z=0;for(;Z<T;)S+=String.fromCharCode.apply(String,$.slice(Z,Z+=p));return S}(Z)}V.kMaxLength=X,!(A.TYPED_ARRAY_SUPPORT=function _(){try{const $=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf($,T),42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function($,T,S){return N($,T,S)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function($,T,S){return function F($,T,S){return L($),$<=0?R($):void 0!==T?"string"==typeof S?R($).fill(T,S):R($).fill(T):R($)}($,T,S)},A.allocUnsafe=function($){return C($)},A.allocUnsafeSlow=function($){return C($)},A.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==A.prototype},A.compare=function(T,S){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),ze(S,Uint8Array)&&(S=A.from(S,S.offset,S.byteLength)),!A.isBuffer(T)||!A.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===S)return 0;let Z=T.length,le=S.length;for(let De=0,Oe=Math.min(Z,le);De<Oe;++De)if(T[De]!==S[De]){Z=T[De],le=S[De];break}return Z<le?-1:le<Z?1:0},A.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(T,S){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return A.alloc(0);let Z;if(void 0===S)for(S=0,Z=0;Z<T.length;++Z)S+=T[Z].length;const le=A.allocUnsafe(S);let De=0;for(Z=0;Z<T.length;++Z){let Oe=T[Z];if(ze(Oe,Uint8Array))De+Oe.length>le.length?(A.isBuffer(Oe)||(Oe=A.from(Oe)),Oe.copy(le,De)):Uint8Array.prototype.set.call(le,Oe,De);else{if(!A.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(le,De)}De+=Oe.length}return le},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<T;S+=2)re(this,S,S+1);return this},A.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<T;S+=4)re(this,S,S+3),re(this,S+1,S+2);return this},A.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<T;S+=8)re(this,S,S+7),re(this,S+1,S+6),re(this,S+2,S+5),re(this,S+3,S+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ie.apply(this,arguments)},A.prototype.equals=function(T){if(!A.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===A.compare(this,T)},A.prototype.inspect=function(){let T="";const S=V.INSPECT_MAX_BYTES;return T=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(T+=" ... "),"<Buffer "+T+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(T,S,Z,le,De){if(ze(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),!A.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===S&&(S=0),void 0===Z&&(Z=T?T.length:0),void 0===le&&(le=0),void 0===De&&(De=this.length),S<0||Z>T.length||le<0||De>this.length)throw new RangeError("out of range index");if(le>=De&&S>=Z)return 0;if(le>=De)return-1;if(S>=Z)return 1;if(this===T)return 0;let Oe=(De>>>=0)-(le>>>=0),Qe=(Z>>>=0)-(S>>>=0);const Nt=Math.min(Oe,Qe),ft=this.slice(le,De),St=T.slice(S,Z);for(let Lt=0;Lt<Nt;++Lt)if(ft[Lt]!==St[Lt]){Oe=ft[Lt],Qe=St[Lt];break}return Oe<Qe?-1:Qe<Oe?1:0},A.prototype.includes=function(T,S,Z){return-1!==this.indexOf(T,S,Z)},A.prototype.indexOf=function(T,S,Z){return ce(this,T,S,Z,!0)},A.prototype.lastIndexOf=function(T,S,Z){return ce(this,T,S,Z,!1)},A.prototype.write=function(T,S,Z,le){if(void 0===S)le="utf8",Z=this.length,S=0;else if(void 0===Z&&"string"==typeof S)le=S,Z=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(Z)?(Z>>>=0,void 0===le&&(le="utf8")):(le=Z,Z=void 0)}const De=this.length-S;if((void 0===Z||Z>De)&&(Z=De),T.length>0&&(Z<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Oe=!1;for(;;)switch(le){case"hex":return pe(this,T,S,Z);case"utf8":case"utf-8":return we(this,T,S,Z);case"ascii":case"latin1":case"binary":return Me(this,T,S,Z);case"base64":return k(this,T,S,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,T,S,Z);default:if(Oe)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Oe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode(127&$[le]);return Z}function B($,T,S){let Z="";S=Math.min($.length,S);for(let le=T;le<S;++le)Z+=String.fromCharCode($[le]);return Z}function M($,T,S){const Z=$.length;(!T||T<0)&&(T=0),(!S||S<0||S>Z)&&(S=Z);let le="";for(let De=T;De<S;++De)le+=qe[$[De]];return le}function d($,T,S){const Z=$.slice(T,S);let le="";for(let De=0;De<Z.length-1;De+=2)le+=String.fromCharCode(Z[De]+256*Z[De+1]);return le}function v($,T,S){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+T>S)throw new RangeError("Trying to access beyond buffer length")}function W($,T,S,Z,le,De){if(!A.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>le||T<De)throw new RangeError('"value" argument is out of bounds');if(S+Z>$.length)throw new RangeError("Index out of range")}function z($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De,De>>=8,$[S++]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,Oe>>=8,$[S++]=Oe,S}function Q($,T,S,Z,le){me(T,Z,le,$,S,7);let De=Number(T&BigInt(4294967295));$[S+7]=De,De>>=8,$[S+6]=De,De>>=8,$[S+5]=De,De>>=8,$[S+4]=De;let Oe=Number(T>>BigInt(32)&BigInt(4294967295));return $[S+3]=Oe,Oe>>=8,$[S+2]=Oe,Oe>>=8,$[S+1]=Oe,Oe>>=8,$[S]=Oe,S+8}function de($,T,S,Z,le,De){if(S+Z>$.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function xe($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,4),w.write($,T,S,Z,23,4),S+4}function Ie($,T,S,Z,le){return T=+T,S>>>=0,le||de($,0,S,8),w.write($,T,S,Z,52,8),S+8}A.prototype.slice=function(T,S){const Z=this.length;(T=~~T)<0?(T+=Z)<0&&(T=0):T>Z&&(T=Z),(S=void 0===S?Z:~~S)<0?(S+=Z)<0&&(S=0):S>Z&&(S=Z),S<T&&(S=T);const le=this.subarray(T,S);return Object.setPrototypeOf(le,A.prototype),le},A.prototype.readUintLE=A.prototype.readUIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return le},A.prototype.readUintBE=A.prototype.readUIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T+--S],De=1;for(;S>0&&(De*=256);)le+=this[T+--S]*De;return le},A.prototype.readUint8=A.prototype.readUInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),this[T]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]|this[T+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(T,S){return T>>>=0,S||v(T,2,this.length),this[T]<<8|this[T+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},A.prototype.readBigUInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S+256*this[++T]+65536*this[++T]+this[++T]*2**24,De=this[++T]+256*this[++T]+65536*this[++T]+Z*2**24;return BigInt(le)+(BigInt(De)<<BigInt(32))}),A.prototype.readBigUInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=S*2**24+65536*this[++T]+256*this[++T]+this[++T],De=this[++T]*2**24+65536*this[++T]+256*this[++T]+Z;return(BigInt(le)<<BigInt(32))+BigInt(De)}),A.prototype.readIntLE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=this[T],De=1,Oe=0;for(;++Oe<S&&(De*=256);)le+=this[T+Oe]*De;return De*=128,le>=De&&(le-=Math.pow(2,8*S)),le},A.prototype.readIntBE=function(T,S,Z){T>>>=0,S>>>=0,Z||v(T,S,this.length);let le=S,De=1,Oe=this[T+--le];for(;le>0&&(De*=256);)Oe+=this[T+--le]*De;return De*=128,Oe>=De&&(Oe-=Math.pow(2,8*S)),Oe},A.prototype.readInt8=function(T,S){return T>>>=0,S||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},A.prototype.readInt16LE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T]|this[T+1]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt16BE=function(T,S){T>>>=0,S||v(T,2,this.length);const Z=this[T+1]|this[T]<<8;return 32768&Z?4294901760|Z:Z},A.prototype.readInt32LE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},A.prototype.readInt32BE=function(T,S){return T>>>=0,S||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},A.prototype.readBigInt64LE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];return(void 0===S||void 0===Z)&&fe(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Z<<24))<<BigInt(32))+BigInt(S+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),A.prototype.readBigInt64BE=je(function(T){Ee(T>>>=0,"offset");const S=this[T],Z=this[T+7];(void 0===S||void 0===Z)&&fe(T,this.length-8);const le=(S<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(le)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Z)}),A.prototype.readFloatLE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!0,23,4)},A.prototype.readFloatBE=function(T,S){return T>>>=0,S||v(T,4,this.length),w.read(this,T,!1,23,4)},A.prototype.readDoubleLE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!0,52,8)},A.prototype.readDoubleBE=function(T,S){return T>>>=0,S||v(T,8,this.length),w.read(this,T,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=1,Oe=0;for(this[S]=255&T;++Oe<Z&&(De*=256);)this[S+Oe]=T/De&255;return S+Z},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(T,S,Z,le){T=+T,S>>>=0,Z>>>=0,le||W(this,T,S,Z,Math.pow(2,8*Z)-1,0);let De=Z-1,Oe=1;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)this[S+De]=T/Oe&255;return S+Z},A.prototype.writeUint8=A.prototype.writeUInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,255,0),this[S]=255&T,S+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,65535,0),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S+3]=T>>>24,this[S+2]=T>>>16,this[S+1]=T>>>8,this[S]=255&T,S+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,4294967295,0),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigUInt64LE=je(function(T,S=0){return z(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=je(function(T,S=0){return Q(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=0,Oe=1,Qe=0;for(this[S]=255&T;++De<Z&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De-1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeIntBE=function(T,S,Z,le){if(T=+T,S>>>=0,!le){const Nt=Math.pow(2,8*Z-1);W(this,T,S,Z,Nt-1,-Nt)}let De=Z-1,Oe=1,Qe=0;for(this[S+De]=255&T;--De>=0&&(Oe*=256);)T<0&&0===Qe&&0!==this[S+De+1]&&(Qe=1),this[S+De]=(T/Oe|0)-Qe&255;return S+Z},A.prototype.writeInt8=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,1,127,-128),T<0&&(T=255+T+1),this[S]=255&T,S+1},A.prototype.writeInt16LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=255&T,this[S+1]=T>>>8,S+2},A.prototype.writeInt16BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,2,32767,-32768),this[S]=T>>>8,this[S+1]=255&T,S+2},A.prototype.writeInt32LE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),this[S]=255&T,this[S+1]=T>>>8,this[S+2]=T>>>16,this[S+3]=T>>>24,S+4},A.prototype.writeInt32BE=function(T,S,Z){return T=+T,S>>>=0,Z||W(this,T,S,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=255&T,S+4},A.prototype.writeBigInt64LE=je(function(T,S=0){return z(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=je(function(T,S=0){return Q(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(T,S,Z){return xe(this,T,S,!0,Z)},A.prototype.writeFloatBE=function(T,S,Z){return xe(this,T,S,!1,Z)},A.prototype.writeDoubleLE=function(T,S,Z){return Ie(this,T,S,!0,Z)},A.prototype.writeDoubleBE=function(T,S,Z){return Ie(this,T,S,!1,Z)},A.prototype.copy=function(T,S,Z,le){if(!A.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!le&&0!==le&&(le=this.length),S>=T.length&&(S=T.length),S||(S=0),le>0&&le<Z&&(le=Z),le===Z||0===T.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),T.length-S<le-Z&&(le=T.length-S+Z);const De=le-Z;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,Z,le):Uint8Array.prototype.set.call(T,this.subarray(Z,le),S),De},A.prototype.fill=function(T,S,Z,le){if("string"==typeof T){if("string"==typeof S?(le=S,S=0,Z=this.length):"string"==typeof Z&&(le=Z,Z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!A.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===T.length){const Oe=T.charCodeAt(0);("utf8"===le&&Oe<128||"latin1"===le)&&(T=Oe)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(S<0||this.length<S||this.length<Z)throw new RangeError("Out of range index");if(Z<=S)return this;let De;if(S>>>=0,Z=void 0===Z?this.length:Z>>>0,T||(T=0),"number"==typeof T)for(De=S;De<Z;++De)this[De]=T;else{const Oe=A.isBuffer(T)?T:A.from(T,le),Qe=Oe.length;if(0===Qe)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(De=0;De<Z-S;++De)this[De+S]=Oe[De%Qe]}return this};const Le={};function ve($,T,S){Le[$]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,delete this.name}get code(){return $}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function ye($){let T="",S=$.length;const Z="-"===$[0]?1:0;for(;S>=Z+4;S-=3)T=`_${$.slice(S-3,S)}${T}`;return`${$.slice(0,S)}${T}`}function me($,T,S,Z,le,De){if($>S||$<T){const Oe="bigint"==typeof T?"n":"";let Qe;throw Qe=De>3?0===T||T===BigInt(0)?`>= 0${Oe} and < 2${Oe} ** ${8*(De+1)}${Oe}`:`>= -(2${Oe} ** ${8*(De+1)-1}${Oe}) and < 2 ** ${8*(De+1)-1}${Oe}`:`>= ${T}${Oe} and <= ${S}${Oe}`,new Le.ERR_OUT_OF_RANGE("value",Qe,$)}!function ke($,T,S){Ee(T,"offset"),(void 0===$[T]||void 0===$[T+S])&&fe(T,$.length-(S+1))}(Z,le,De)}function Ee($,T){if("number"!=typeof $)throw new Le.ERR_INVALID_ARG_TYPE(T,"number",$)}function fe($,T,S){throw Math.floor($)!==$?(Ee($,S),new Le.ERR_OUT_OF_RANGE(S||"offset","an integer",$)):T<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${T}`,$)}ve("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function($,T){return`The "${$}" argument must be of type number. Received type ${typeof T}`},TypeError),ve("ERR_OUT_OF_RANGE",function($,T,S){let Z=`The value of "${$}" is out of range.`,le=S;return Number.isInteger(S)&&Math.abs(S)>2**32?le=ye(String(S)):"bigint"==typeof S&&(le=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(le=ye(le)),le+="n"),Z+=` It must be ${T}. Received ${le}`,Z},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function ue($,T){let S;T=T||1/0;const Z=$.length;let le=null;const De=[];for(let Oe=0;Oe<Z;++Oe){if(S=$.charCodeAt(Oe),S>55295&&S<57344){if(!le){if(S>56319){(T-=3)>-1&&De.push(239,191,189);continue}if(Oe+1===Z){(T-=3)>-1&&De.push(239,191,189);continue}le=S;continue}if(S<56320){(T-=3)>-1&&De.push(239,191,189),le=S;continue}S=65536+(le-55296<<10|S-56320)}else le&&(T-=3)>-1&&De.push(239,191,189);if(le=null,S<128){if((T-=1)<0)break;De.push(S)}else if(S<2048){if((T-=2)<0)break;De.push(S>>6|192,63&S|128)}else if(S<65536){if((T-=3)<0)break;De.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;De.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return De}function Ue($){return g.toByteArray(function ae($){if(($=($=$.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function Ve($,T,S,Z){let le;for(le=0;le<Z&&!(le+S>=T.length||le>=$.length);++le)T[le+S]=$[le];return le}function ze($,T){return $ instanceof T||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===T.name}function It($){return $!=$}const qe=function(){const $="0123456789abcdef",T=new Array(256);for(let S=0;S<16;++S){const Z=16*S;for(let le=0;le<16;++le)T[Z+le]=$[S]+$[le]}return T}();function je($){return typeof BigInt>"u"?ut:$}function ut(){throw new Error("BigInt not supported")}},54626:(Ne,V,E)=>{V.Level=E(23963).BrowserLevel},8516:(Ne,V,E)=>{var g=E(81464);Ne.exports=g.Symbol},61057:(Ne,V,E)=>{var g=E(8516),w=E(8488),O=E(53327),R=g?g.toStringTag:void 0;Ne.exports=function A(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":R&&R in Object(N)?w(N):O(N)}},78657:Ne=>{var V="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;Ne.exports=V},46902:(Ne,V,E)=>{var w=E(72852)(Object.getPrototypeOf,Object);Ne.exports=w},8488:(Ne,V,E)=>{var g=E(8516),w=Object.prototype,O=w.hasOwnProperty,X=w.toString,_=g?g.toStringTag:void 0;Ne.exports=function R(A){var N=O.call(A,_),L=A[_];try{A[_]=void 0;var F=!0}catch{}var C=X.call(A);return F&&(N?A[_]=L:delete A[_]),C}},53327:Ne=>{var E=Object.prototype.toString;Ne.exports=function g(w){return E.call(w)}},72852:Ne=>{Ne.exports=function V(E,g){return function(w){return E(g(w))}}},81464:(Ne,V,E)=>{var g=E(78657),w="object"==typeof self&&self&&self.Object===Object&&self,O=g||w||Function("return this")();Ne.exports=O},57433:Ne=>{Ne.exports=function V(E){return null!=E&&"object"==typeof E}},49970:(Ne,V,E)=>{var g=E(61057),w=E(46902),O=E(57433),A=Function.prototype.toString,N=Object.prototype.hasOwnProperty,L=A.call(Object);Ne.exports=function F(C){if(!O(C)||"[object Object]"!=g(C))return!1;var Y=w(C);if(null===Y)return!0;var j=N.call(Y,"constructor")&&Y.constructor;return"function"==typeof j&&j instanceof j&&A.call(j)==L}},34725:(Ne,V,E)=>{"use strict";var g=E(71993),w=E(13686),O=E(27054).Buffer,X=new Array(16);function _(){w.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function R(C,Y){return C<<Y|C>>>32-Y}function A(C,Y,j,G,te,ee,q){return R(C+(Y&j|~Y&G)+te+ee|0,q)+Y|0}function N(C,Y,j,G,te,ee,q){return R(C+(Y&G|j&~G)+te+ee|0,q)+Y|0}function L(C,Y,j,G,te,ee,q){return R(C+(Y^j^G)+te+ee|0,q)+Y|0}function F(C,Y,j,G,te,ee,q){return R(C+(j^(Y|~G))+te+ee|0,q)+Y|0}g(_,w),_.prototype._update=function(){for(var C=X,Y=0;Y<16;++Y)C[Y]=this._block.readInt32LE(4*Y);var j=this._a,G=this._b,te=this._c,ee=this._d;j=A(j,G,te,ee,C[0],3614090360,7),ee=A(ee,j,G,te,C[1],3905402710,12),te=A(te,ee,j,G,C[2],606105819,17),G=A(G,te,ee,j,C[3],3250441966,22),j=A(j,G,te,ee,C[4],4118548399,7),ee=A(ee,j,G,te,C[5],1200080426,12),te=A(te,ee,j,G,C[6],2821735955,17),G=A(G,te,ee,j,C[7],4249261313,22),j=A(j,G,te,ee,C[8],1770035416,7),ee=A(ee,j,G,te,C[9],2336552879,12),te=A(te,ee,j,G,C[10],4294925233,17),G=A(G,te,ee,j,C[11],2304563134,22),j=A(j,G,te,ee,C[12],1804603682,7),ee=A(ee,j,G,te,C[13],4254626195,12),te=A(te,ee,j,G,C[14],2792965006,17),j=N(j,G=A(G,te,ee,j,C[15],1236535329,22),te,ee,C[1],4129170786,5),ee=N(ee,j,G,te,C[6],3225465664,9),te=N(te,ee,j,G,C[11],643717713,14),G=N(G,te,ee,j,C[0],3921069994,20),j=N(j,G,te,ee,C[5],3593408605,5),ee=N(ee,j,G,te,C[10],38016083,9),te=N(te,ee,j,G,C[15],3634488961,14),G=N(G,te,ee,j,C[4],3889429448,20),j=N(j,G,te,ee,C[9],568446438,5),ee=N(ee,j,G,te,C[14],3275163606,9),te=N(te,ee,j,G,C[3],4107603335,14),G=N(G,te,ee,j,C[8],1163531501,20),j=N(j,G,te,ee,C[13],2850285829,5),ee=N(ee,j,G,te,C[2],4243563512,9),te=N(te,ee,j,G,C[7],1735328473,14),j=L(j,G=N(G,te,ee,j,C[12],2368359562,20),te,ee,C[5],4294588738,4),ee=L(ee,j,G,te,C[8],2272392833,11),te=L(te,ee,j,G,C[11],1839030562,16),G=L(G,te,ee,j,C[14],4259657740,23),j=L(j,G,te,ee,C[1],2763975236,4),ee=L(ee,j,G,te,C[4],1272893353,11),te=L(te,ee,j,G,C[7],4139469664,16),G=L(G,te,ee,j,C[10],3200236656,23),j=L(j,G,te,ee,C[13],681279174,4),ee=L(ee,j,G,te,C[0],3936430074,11),te=L(te,ee,j,G,C[3],3572445317,16),G=L(G,te,ee,j,C[6],76029189,23),j=L(j,G,te,ee,C[9],3654602809,4),ee=L(ee,j,G,te,C[12],3873151461,11),te=L(te,ee,j,G,C[15],530742520,16),j=F(j,G=L(G,te,ee,j,C[2],3299628645,23),te,ee,C[0],4096336452,6),ee=F(ee,j,G,te,C[7],1126891415,10),te=F(te,ee,j,G,C[14],2878612391,15),G=F(G,te,ee,j,C[5],4237533241,21),j=F(j,G,te,ee,C[12],1700485571,6),ee=F(ee,j,G,te,C[3],2399980690,10),te=F(te,ee,j,G,C[10],4293915773,15),G=F(G,te,ee,j,C[1],2240044497,21),j=F(j,G,te,ee,C[8],1873313359,6),ee=F(ee,j,G,te,C[15],4264355552,10),te=F(te,ee,j,G,C[6],2734768916,15),G=F(G,te,ee,j,C[13],1309151649,21),j=F(j,G,te,ee,C[4],4149444226,6),ee=F(ee,j,G,te,C[11],3174756917,10),te=F(te,ee,j,G,C[2],718787259,15),G=F(G,te,ee,j,C[9],3951481745,21),this._a=this._a+j|0,this._b=this._b+G|0,this._c=this._c+te|0,this._d=this._d+ee|0},_.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=O.allocUnsafe(16);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C},Ne.exports=_},53459:(Ne,V,E)=>{var g=E(57223),w=E(35294);function O(X){this.rand=X||new w.Rand}Ne.exports=O,O.create=function(_){return new O(_)},O.prototype._randbelow=function(_){var R=_.bitLength(),A=Math.ceil(R/8);do{var N=new g(this.rand.generate(A))}while(N.cmp(_)>=0);return N},O.prototype._randrange=function(_,R){var A=R.sub(_);return _.add(this._randbelow(A))},O.prototype.test=function(_,R,A){var N=_.bitLength(),L=g.mont(_),F=new g(1).toRed(L);R||(R=Math.max(1,N/48|0));for(var C=_.subn(1),Y=0;!C.testn(Y);Y++);for(var j=_.shrn(Y),G=C.toRed(L);R>0;R--){var ee=this._randrange(new g(2),C);A&&A(ee);var q=ee.toRed(L).redPow(j);if(0!==q.cmp(F)&&0!==q.cmp(G)){for(var J=1;J<Y;J++){if(0===(q=q.redSqr()).cmp(F))return!1;if(0===q.cmp(G))break}if(J===Y)return!1}}return!0},O.prototype.getDivisor=function(_,R){var A=_.bitLength(),N=g.mont(_),L=new g(1).toRed(N);R||(R=Math.max(1,A/48|0));for(var F=_.subn(1),C=0;!F.testn(C);C++);for(var Y=_.shrn(C),j=F.toRed(N);R>0;R--){var G=this._randrange(new g(2),F),te=_.gcd(G);if(0!==te.cmpn(1))return te;var ee=G.toRed(N).redPow(Y);if(0!==ee.cmp(L)&&0!==ee.cmp(j)){for(var q=1;q<C;q++){if(0===(ee=ee.redSqr()).cmp(L))return ee.fromRed().subn(1).gcd(_);if(0===ee.cmp(j))break}if(q===C)return(ee=ee.redSqr()).fromRed().subn(1).gcd(_)}}return!1}},57223:function(Ne,V,E){!function(g,w){"use strict";function O(k,l){if(!k)throw new Error(l||"Assertion failed")}function X(k,l){k.super_=l;var h=function(){};h.prototype=l.prototype,k.prototype=new h,k.prototype.constructor=k}function _(k,l,h){if(_.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===l||"be"===l)&&(h=l,l=10),this._init(k||0,l||10,h||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(64688).Buffer}catch{}function A(k,l){var h=k.charCodeAt(l);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,l,h){var m=A(k,h);return h-1>=l&&(m|=A(k,h-1)<<4),m}function L(k,l,h,m){for(var p=0,x=Math.min(k.length,h),D=l;D<x;D++){var B=k.charCodeAt(D)-48;p*=m,p+=B>=49?B-49+10:B>=17?B-17+10:B}return p}_.isBN=function(l){return l instanceof _||null!==l&&"object"==typeof l&&l.constructor.wordSize===_.wordSize&&Array.isArray(l.words)},_.max=function(l,h){return l.cmp(h)>0?l:h},_.min=function(l,h){return l.cmp(h)<0?l:h},_.prototype._init=function(l,h,m){if("number"==typeof l)return this._initNumber(l,h,m);if("object"==typeof l)return this._initArray(l,h,m);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var p=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<l.length&&(16===h?this._parseHex(l,p,m):(this._parseBase(l,h,p),"le"===m&&this._initArray(this.toArray(),h,m)))},_.prototype._initNumber=function(l,h,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(O(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),h,m)},_.prototype._initArray=function(l,h,m){if(O("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,D,B=0;if("be"===m)for(p=l.length-1,x=0;p>=0;p-=3)this.words[x]|=(D=l[p]|l[p-1]<<8|l[p-2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);else if("le"===m)for(p=0,x=0;p<l.length;p+=3)this.words[x]|=(D=l[p]|l[p+1]<<8|l[p+2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);return this.strip()},_.prototype._parseHex=function(l,h,m){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var B,x=0,D=0;if("be"===m)for(p=l.length-1;p>=h;p-=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;else for(p=(l.length-h)%2==0?h+1:h;p<l.length;p+=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;this.strip()},_.prototype._parseBase=function(l,h,m){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=h)p++;p--,x=x/h|0;for(var D=l.length-m,B=D%p,M=Math.min(D,D-B)+m,d=0,v=m;v<M;v+=p)d=L(l,v,v+p,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==B){var W=1;for(d=L(l,v,l.length,h),v=0;v<B;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},_.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red},_.prototype.clone=function(){var l=new _(null);return this.copy(l),l},_.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},_.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},_.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(k,l,h){h.negative=l.negative^k.negative;var m=k.length+l.length|0;h.length=m,m=m-1|0;var p=0|k.words[0],x=0|l.words[0],D=p*x,M=D/67108864|0;h.words[0]=67108863&D;for(var d=1;d<m;d++){for(var v=M>>>26,W=67108863&M,z=Math.min(d,l.length-1),Q=Math.max(0,d-k.length+1);Q<=z;Q++)v+=(D=(p=0|k.words[d-Q|0])*(x=0|l.words[Q])+W)/67108864|0,W=67108863&D;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}_.prototype.toString=function(l,h){var m;if(h=0|h||1,16===(l=l||10)||"hex"===l){m="";for(var p=0,x=0,D=0;D<this.length;D++){var B=this.words[D],M=(16777215&(B<<p|x)).toString(16);m=0!=(x=B>>>24-p&16777215)||D!==this.length-1?F[6-M.length]+M+m:M+m,(p+=2)>=26&&(p-=26,D--)}for(0!==x&&(m=x.toString(16)+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(l===(0|l)&&l>=2&&l<=36){var d=C[l],v=Y[l];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var z=W.modn(v).toString(l);m=(W=W.idivn(v)).isZero()?z+m:F[d-z.length]+z+m}for(this.isZero()&&(m="0"+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},_.prototype.toJSON=function(){return this.toString(16)},_.prototype.toBuffer=function(l,h){return O(typeof R<"u"),this.toArrayLike(R,l,h)},_.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)},_.prototype.toArrayLike=function(l,h,m){var p=this.byteLength(),x=m||Math.max(1,p);O(p<=x,"byte array longer than desired length"),O(x>0,"Requested array length <= 0"),this.strip();var M,d,D="le"===h,B=new l(x),v=this.clone();if(D){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[d]=M;for(;d<x;d++)B[d]=0}else{for(d=0;d<x-p;d++)B[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[x-d-1]=M}return B},_.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var h=l,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},_.prototype._zeroBits=function(l){if(0===l)return 26;var h=l,m=0;return 8191&h||(m+=13,h>>>=13),127&h||(m+=7,h>>>=7),15&h||(m+=4,h>>>=4),3&h||(m+=2,h>>>=2),1&h||m++,m},_.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(l+=m,26!==m)break}return l},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},_.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this.strip()},_.prototype.ior=function(l){return O(!(this.negative|l.negative)),this.iuor(l)},_.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},_.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},_.prototype.iuand=function(l){var h;h=this.length>l.length?l:this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=h.length,this.strip()},_.prototype.iand=function(l){return O(!(this.negative|l.negative)),this.iuand(l)},_.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},_.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},_.prototype.iuxor=function(l){var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var p=0;p<m.length;p++)this.words[p]=h.words[p]^m.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},_.prototype.ixor=function(l){return O(!(this.negative|l.negative)),this.iuxor(l)},_.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},_.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},_.prototype.inotn=function(l){O("number"==typeof l&&l>=0);var h=0|Math.ceil(l/26),m=l%26;this._expand(h),m>0&&h--;for(var p=0;p<h;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},_.prototype.notn=function(l){return this.clone().inotn(l)},_.prototype.setn=function(l,h){O("number"==typeof l&&l>=0);var m=l/26|0,p=l%26;return this._expand(m+1),this.words[m]=h?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},_.prototype.iadd=function(l){var h,m,p;if(0!==this.negative&&0===l.negative)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();this.length>l.length?(m=this,p=l):(m=l,p=this);for(var x=0,D=0;D<p.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+(0|p.words[D])+x),x=h>>>26;for(;0!==x&&D<m.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+x),x=h>>>26;if(this.length=m.length,0!==x)this.words[this.length]=x,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},_.prototype.add=function(l){var h;return 0!==l.negative&&0===this.negative?(l.negative=0,h=this.sub(l),l.negative^=1,h):0===l.negative&&0!==this.negative?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},_.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p,x,m=this.cmp(l);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,x=l):(p=l,x=this);for(var D=0,B=0;B<x.length;B++)D=(h=(0|p.words[B])-(0|x.words[B])+D)>>26,this.words[B]=67108863&h;for(;0!==D&&B<p.length;B++)D=(h=(0|p.words[B])+D)>>26,this.words[B]=67108863&h;if(0===D&&B<p.length&&p!==this)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=Math.max(this.length,B),p!==this&&(this.negative=1),this.strip()},_.prototype.sub=function(l){return this.clone().isub(l)};var te=function(l,h,m){var M,d,v,p=l.words,x=h.words,D=m.words,B=0,W=0|p[0],z=8191&W,Q=W>>>13,de=0|p[1],xe=8191&de,Ie=de>>>13,Le=0|p[2],ve=8191&Le,ye=Le>>>13,ke=0|p[3],me=8191&ke,Ee=ke>>>13,fe=0|p[4],he=8191&fe,ae=fe>>>13,ue=0|p[5],ge=8191&ue,Ae=ue>>>13,Ue=0|p[6],Ve=8191&Ue,ze=Ue>>>13,It=0|p[7],qe=8191&It,je=It>>>13,ut=0|p[8],$=8191&ut,T=ut>>>13,S=0|p[9],Z=8191&S,le=S>>>13,De=0|x[0],Oe=8191&De,Qe=De>>>13,Nt=0|x[1],ft=8191&Nt,St=Nt>>>13,Lt=0|x[2],Gt=8191&Lt,Vt=Lt>>>13,zn=0|x[3],cn=8191&zn,Bt=zn>>>13,Dt=0|x[4],nt=8191&Dt,Ye=Dt>>>13,At=0|x[5],kt=8191&At,$t=At>>>13,Bn=0|x[6],et=8191&Bn,it=Bn>>>13,ot=0|x[7],He=8191&ot,ht=ot>>>13,sn=0|x[8],Kt=8191&sn,rn=sn>>>13,ir=0|x[9],pn=8191&ir,un=ir>>>13;m.negative=l.negative^h.negative,m.length=19;var ur=(B+(M=Math.imul(z,Oe))|0)+((8191&(d=(d=Math.imul(z,Qe))+Math.imul(Q,Oe)|0))<<13)|0;B=((v=Math.imul(Q,Qe))+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,M=Math.imul(xe,Oe),d=(d=Math.imul(xe,Qe))+Math.imul(Ie,Oe)|0,v=Math.imul(Ie,Qe);var Hn=(B+(M=M+Math.imul(z,ft)|0)|0)+((8191&(d=(d=d+Math.imul(z,St)|0)+Math.imul(Q,ft)|0))<<13)|0;B=((v=v+Math.imul(Q,St)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(ve,Oe),d=(d=Math.imul(ve,Qe))+Math.imul(ye,Oe)|0,v=Math.imul(ye,Qe),M=M+Math.imul(xe,ft)|0,d=(d=d+Math.imul(xe,St)|0)+Math.imul(Ie,ft)|0,v=v+Math.imul(Ie,St)|0;var Pn=(B+(M=M+Math.imul(z,Gt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Vt)|0)+Math.imul(Q,Gt)|0))<<13)|0;B=((v=v+Math.imul(Q,Vt)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(me,Oe),d=(d=Math.imul(me,Qe))+Math.imul(Ee,Oe)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(ve,ft)|0,d=(d=d+Math.imul(ve,St)|0)+Math.imul(ye,ft)|0,v=v+Math.imul(ye,St)|0,M=M+Math.imul(xe,Gt)|0,d=(d=d+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0,v=v+Math.imul(Ie,Vt)|0;var Dn=(B+(M=M+Math.imul(z,cn)|0)|0)+((8191&(d=(d=d+Math.imul(z,Bt)|0)+Math.imul(Q,cn)|0))<<13)|0;B=((v=v+Math.imul(Q,Bt)|0)+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,M=Math.imul(he,Oe),d=(d=Math.imul(he,Qe))+Math.imul(ae,Oe)|0,v=Math.imul(ae,Qe),M=M+Math.imul(me,ft)|0,d=(d=d+Math.imul(me,St)|0)+Math.imul(Ee,ft)|0,v=v+Math.imul(Ee,St)|0,M=M+Math.imul(ve,Gt)|0,d=(d=d+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,v=v+Math.imul(ye,Vt)|0,M=M+Math.imul(xe,cn)|0,d=(d=d+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0,v=v+Math.imul(Ie,Bt)|0;var qt=(B+(M=M+Math.imul(z,nt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Ye)|0)+Math.imul(Q,nt)|0))<<13)|0;B=((v=v+Math.imul(Q,Ye)|0)+(d>>>13)|0)+(qt>>>26)|0,qt&=67108863,M=Math.imul(ge,Oe),d=(d=Math.imul(ge,Qe))+Math.imul(Ae,Oe)|0,v=Math.imul(Ae,Qe),M=M+Math.imul(he,ft)|0,d=(d=d+Math.imul(he,St)|0)+Math.imul(ae,ft)|0,v=v+Math.imul(ae,St)|0,M=M+Math.imul(me,Gt)|0,d=(d=d+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,v=v+Math.imul(Ee,Vt)|0,M=M+Math.imul(ve,cn)|0,d=(d=d+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,v=v+Math.imul(ye,Bt)|0,M=M+Math.imul(xe,nt)|0,d=(d=d+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0,v=v+Math.imul(Ie,Ye)|0;var Yt=(B+(M=M+Math.imul(z,kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,$t)|0)+Math.imul(Q,kt)|0))<<13)|0;B=((v=v+Math.imul(Q,$t)|0)+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(Ve,Oe),d=(d=Math.imul(Ve,Qe))+Math.imul(ze,Oe)|0,v=Math.imul(ze,Qe),M=M+Math.imul(ge,ft)|0,d=(d=d+Math.imul(ge,St)|0)+Math.imul(Ae,ft)|0,v=v+Math.imul(Ae,St)|0,M=M+Math.imul(he,Gt)|0,d=(d=d+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,v=v+Math.imul(ae,Vt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,v=v+Math.imul(Ee,Bt)|0,M=M+Math.imul(ve,nt)|0,d=(d=d+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,v=v+Math.imul(ye,Ye)|0,M=M+Math.imul(xe,kt)|0,d=(d=d+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0,v=v+Math.imul(Ie,$t)|0;var Xn=(B+(M=M+Math.imul(z,et)|0)|0)+((8191&(d=(d=d+Math.imul(z,it)|0)+Math.imul(Q,et)|0))<<13)|0;B=((v=v+Math.imul(Q,it)|0)+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,M=Math.imul(qe,Oe),d=(d=Math.imul(qe,Qe))+Math.imul(je,Oe)|0,v=Math.imul(je,Qe),M=M+Math.imul(Ve,ft)|0,d=(d=d+Math.imul(Ve,St)|0)+Math.imul(ze,ft)|0,v=v+Math.imul(ze,St)|0,M=M+Math.imul(ge,Gt)|0,d=(d=d+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,v=v+Math.imul(Ae,Vt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,v=v+Math.imul(ae,Bt)|0,M=M+Math.imul(me,nt)|0,d=(d=d+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,v=v+Math.imul(Ee,Ye)|0,M=M+Math.imul(ve,kt)|0,d=(d=d+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,v=v+Math.imul(ye,$t)|0,M=M+Math.imul(xe,et)|0,d=(d=d+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0,v=v+Math.imul(Ie,it)|0;var $n=(B+(M=M+Math.imul(z,He)|0)|0)+((8191&(d=(d=d+Math.imul(z,ht)|0)+Math.imul(Q,He)|0))<<13)|0;B=((v=v+Math.imul(Q,ht)|0)+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul($,Oe),d=(d=Math.imul($,Qe))+Math.imul(T,Oe)|0,v=Math.imul(T,Qe),M=M+Math.imul(qe,ft)|0,d=(d=d+Math.imul(qe,St)|0)+Math.imul(je,ft)|0,v=v+Math.imul(je,St)|0,M=M+Math.imul(Ve,Gt)|0,d=(d=d+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,v=v+Math.imul(ze,Vt)|0,M=M+Math.imul(ge,cn)|0,d=(d=d+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,v=v+Math.imul(Ae,Bt)|0,M=M+Math.imul(he,nt)|0,d=(d=d+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,v=v+Math.imul(ae,Ye)|0,M=M+Math.imul(me,kt)|0,d=(d=d+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,$t)|0,M=M+Math.imul(ve,et)|0,d=(d=d+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,v=v+Math.imul(ye,it)|0,M=M+Math.imul(xe,He)|0,d=(d=d+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0,v=v+Math.imul(Ie,ht)|0;var yr=(B+(M=M+Math.imul(z,Kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,rn)|0)+Math.imul(Q,Kt)|0))<<13)|0;B=((v=v+Math.imul(Q,rn)|0)+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(Z,Oe),d=(d=Math.imul(Z,Qe))+Math.imul(le,Oe)|0,v=Math.imul(le,Qe),M=M+Math.imul($,ft)|0,d=(d=d+Math.imul($,St)|0)+Math.imul(T,ft)|0,v=v+Math.imul(T,St)|0,M=M+Math.imul(qe,Gt)|0,d=(d=d+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,v=v+Math.imul(je,Vt)|0,M=M+Math.imul(Ve,cn)|0,d=(d=d+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,v=v+Math.imul(ze,Bt)|0,M=M+Math.imul(ge,nt)|0,d=(d=d+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,v=v+Math.imul(Ae,Ye)|0,M=M+Math.imul(he,kt)|0,d=(d=d+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,v=v+Math.imul(ae,$t)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,v=v+Math.imul(Ee,it)|0,M=M+Math.imul(ve,He)|0,d=(d=d+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,v=v+Math.imul(ye,ht)|0,M=M+Math.imul(xe,Kt)|0,d=(d=d+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0,v=v+Math.imul(Ie,rn)|0;var hr=(B+(M=M+Math.imul(z,pn)|0)|0)+((8191&(d=(d=d+Math.imul(z,un)|0)+Math.imul(Q,pn)|0))<<13)|0;B=((v=v+Math.imul(Q,un)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(Z,ft),d=(d=Math.imul(Z,St))+Math.imul(le,ft)|0,v=Math.imul(le,St),M=M+Math.imul($,Gt)|0,d=(d=d+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,v=v+Math.imul(T,Vt)|0,M=M+Math.imul(qe,cn)|0,d=(d=d+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,v=v+Math.imul(je,Bt)|0,M=M+Math.imul(Ve,nt)|0,d=(d=d+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,v=v+Math.imul(ze,Ye)|0,M=M+Math.imul(ge,kt)|0,d=(d=d+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,v=v+Math.imul(Ae,$t)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(ae,et)|0,v=v+Math.imul(ae,it)|0,M=M+Math.imul(me,He)|0,d=(d=d+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(ve,Kt)|0,d=(d=d+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,v=v+Math.imul(ye,rn)|0;var vr=(B+(M=M+Math.imul(xe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;B=((v=v+Math.imul(Ie,un)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(Z,Gt),d=(d=Math.imul(Z,Vt))+Math.imul(le,Gt)|0,v=Math.imul(le,Vt),M=M+Math.imul($,cn)|0,d=(d=d+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,v=v+Math.imul(T,Bt)|0,M=M+Math.imul(qe,nt)|0,d=(d=d+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,v=v+Math.imul(je,Ye)|0,M=M+Math.imul(Ve,kt)|0,d=(d=d+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,v=v+Math.imul(ze,$t)|0,M=M+Math.imul(ge,et)|0,d=(d=d+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,v=v+Math.imul(Ae,it)|0,M=M+Math.imul(he,He)|0,d=(d=d+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,v=v+Math.imul(ae,ht)|0,M=M+Math.imul(me,Kt)|0,d=(d=d+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,v=v+Math.imul(Ee,rn)|0;var sr=(B+(M=M+Math.imul(ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0))<<13)|0;B=((v=v+Math.imul(ye,un)|0)+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,M=Math.imul(Z,cn),d=(d=Math.imul(Z,Bt))+Math.imul(le,cn)|0,v=Math.imul(le,Bt),M=M+Math.imul($,nt)|0,d=(d=d+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,v=v+Math.imul(T,Ye)|0,M=M+Math.imul(qe,kt)|0,d=(d=d+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,v=v+Math.imul(je,$t)|0,M=M+Math.imul(Ve,et)|0,d=(d=d+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,v=v+Math.imul(ze,it)|0,M=M+Math.imul(ge,He)|0,d=(d=d+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,v=v+Math.imul(Ae,ht)|0,M=M+Math.imul(he,Kt)|0,d=(d=d+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,v=v+Math.imul(ae,rn)|0;var pr=(B+(M=M+Math.imul(me,pn)|0)|0)+((8191&(d=(d=d+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0))<<13)|0;B=((v=v+Math.imul(Ee,un)|0)+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(Z,nt),d=(d=Math.imul(Z,Ye))+Math.imul(le,nt)|0,v=Math.imul(le,Ye),M=M+Math.imul($,kt)|0,d=(d=d+Math.imul($,$t)|0)+Math.imul(T,kt)|0,v=v+Math.imul(T,$t)|0,M=M+Math.imul(qe,et)|0,d=(d=d+Math.imul(qe,it)|0)+Math.imul(je,et)|0,v=v+Math.imul(je,it)|0,M=M+Math.imul(Ve,He)|0,d=(d=d+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,v=v+Math.imul(ze,ht)|0,M=M+Math.imul(ge,Kt)|0,d=(d=d+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,v=v+Math.imul(Ae,rn)|0;var kr=(B+(M=M+Math.imul(he,pn)|0)|0)+((8191&(d=(d=d+Math.imul(he,un)|0)+Math.imul(ae,pn)|0))<<13)|0;B=((v=v+Math.imul(ae,un)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(Z,kt),d=(d=Math.imul(Z,$t))+Math.imul(le,kt)|0,v=Math.imul(le,$t),M=M+Math.imul($,et)|0,d=(d=d+Math.imul($,it)|0)+Math.imul(T,et)|0,v=v+Math.imul(T,it)|0,M=M+Math.imul(qe,He)|0,d=(d=d+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,v=v+Math.imul(je,ht)|0,M=M+Math.imul(Ve,Kt)|0,d=(d=d+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,v=v+Math.imul(ze,rn)|0;var Tr=(B+(M=M+Math.imul(ge,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0))<<13)|0;B=((v=v+Math.imul(Ae,un)|0)+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,et),d=(d=Math.imul(Z,it))+Math.imul(le,et)|0,v=Math.imul(le,it),M=M+Math.imul($,He)|0,d=(d=d+Math.imul($,ht)|0)+Math.imul(T,He)|0,v=v+Math.imul(T,ht)|0,M=M+Math.imul(qe,Kt)|0,d=(d=d+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,v=v+Math.imul(je,rn)|0;var jr=(B+(M=M+Math.imul(Ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0))<<13)|0;B=((v=v+Math.imul(ze,un)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(Z,He),d=(d=Math.imul(Z,ht))+Math.imul(le,He)|0,v=Math.imul(le,ht),M=M+Math.imul($,Kt)|0,d=(d=d+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,v=v+Math.imul(T,rn)|0;var Ir=(B+(M=M+Math.imul(qe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(qe,un)|0)+Math.imul(je,pn)|0))<<13)|0;B=((v=v+Math.imul(je,un)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,M=Math.imul(Z,Kt),d=(d=Math.imul(Z,rn))+Math.imul(le,Kt)|0,v=Math.imul(le,rn);var Ot=(B+(M=M+Math.imul($,pn)|0)|0)+((8191&(d=(d=d+Math.imul($,un)|0)+Math.imul(T,pn)|0))<<13)|0;B=((v=v+Math.imul(T,un)|0)+(d>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Wt=(B+(M=Math.imul(Z,pn))|0)+((8191&(d=(d=Math.imul(Z,un))+Math.imul(le,pn)|0))<<13)|0;return B=((v=Math.imul(le,un))+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D[0]=ur,D[1]=Hn,D[2]=Pn,D[3]=Dn,D[4]=qt,D[5]=Yt,D[6]=Xn,D[7]=$n,D[8]=yr,D[9]=hr,D[10]=vr,D[11]=sr,D[12]=pr,D[13]=kr,D[14]=Tr,D[15]=jr,D[16]=Ir,D[17]=Ot,D[18]=Wt,0!==B&&(D[19]=B,m.length++),m};function q(k,l,h){return(new J).mulp(k,l,h)}function J(k,l){this.x=k,this.y=l}Math.imul||(te=G),_.prototype.mulTo=function(l,h){var m,p=this.length+l.length;return m=10===this.length&&10===l.length?te(this,l,h):p<63?G(this,l,h):p<1024?function ee(k,l,h){h.negative=l.negative^k.negative,h.length=k.length+l.length;for(var m=0,p=0,x=0;x<h.length-1;x++){var D=p;p=0;for(var B=67108863&m,M=Math.min(x,l.length-1),d=Math.max(0,x-k.length+1);d<=M;d++){var Q=(0|k.words[x-d])*(0|l.words[d]),de=67108863&Q;B=67108863&(de=de+B|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}h.words[x]=B,m=D,D=p}return 0!==m?h.words[x]=m:h.length--,h.strip()}(this,l,h):q(this,l,h),m},J.prototype.makeRBT=function(l){for(var h=new Array(l),m=_.prototype._countBits(l)-1,p=0;p<l;p++)h[p]=this.revBin(p,m,l);return h},J.prototype.revBin=function(l,h,m){if(0===l||l===m-1)return l;for(var p=0,x=0;x<h;x++)p|=(1&l)<<h-x-1,l>>=1;return p},J.prototype.permute=function(l,h,m,p,x,D){for(var B=0;B<D;B++)p[B]=h[l[B]],x[B]=m[l[B]]},J.prototype.transform=function(l,h,m,p,x,D){this.permute(D,l,h,m,p,x);for(var B=1;B<x;B<<=1)for(var M=B<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<x;W+=M)for(var z=d,Q=v,de=0;de<B;de++){var xe=m[W+de],Ie=p[W+de],Le=m[W+de+B],ve=p[W+de+B],ye=z*Le-Q*ve;ve=z*ve+Q*Le,m[W+de]=xe+(Le=ye),p[W+de]=Ie+ve,m[W+de+B]=xe-Le,p[W+de+B]=Ie-ve,de!==M&&(ye=d*z-v*Q,Q=d*Q+v*z,z=ye)}},J.prototype.guessLen13b=function(l,h){var m=1|Math.max(h,l),p=1&m,x=0;for(m=m/2|0;m;m>>>=1)x++;return 1<<x+1+p},J.prototype.conjugate=function(l,h,m){if(!(m<=1))for(var p=0;p<m/2;p++){var x=l[p];l[p]=l[m-p-1],l[m-p-1]=x,x=h[p],h[p]=-h[m-p-1],h[m-p-1]=-x}},J.prototype.normalize13b=function(l,h){for(var m=0,p=0;p<h/2;p++){var x=8192*Math.round(l[2*p+1]/h)+Math.round(l[2*p]/h)+m;l[p]=67108863&x,m=x<67108864?0:x/67108864|0}return l},J.prototype.convert13b=function(l,h,m,p){for(var x=0,D=0;D<h;D++)m[2*D]=8191&(x+=0|l[D]),m[2*D+1]=8191&(x>>>=13),x>>>=13;for(D=2*h;D<p;++D)m[D]=0;O(0===x),O(!(-8192&x))},J.prototype.stub=function(l){for(var h=new Array(l),m=0;m<l;m++)h[m]=0;return h},J.prototype.mulp=function(l,h,m){var p=2*this.guessLen13b(l.length,h.length),x=this.makeRBT(p),D=this.stub(p),B=new Array(p),M=new Array(p),d=new Array(p),v=new Array(p),W=new Array(p),z=new Array(p),Q=m.words;Q.length=p,this.convert13b(l.words,l.length,B,p),this.convert13b(h.words,h.length,v,p),this.transform(B,D,M,d,p,x),this.transform(v,D,W,z,p,x);for(var de=0;de<p;de++){var xe=M[de]*W[de]-d[de]*z[de];d[de]=M[de]*z[de]+d[de]*W[de],M[de]=xe}return this.conjugate(M,d,p),this.transform(M,d,Q,D,p,x),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=l.negative^h.negative,m.length=l.length+h.length,m.strip()},_.prototype.mul=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},_.prototype.mulf=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),q(this,l,h)},_.prototype.imul=function(l){return this.clone().mulTo(l,this)},_.prototype.imuln=function(l){O("number"==typeof l),O(l<67108864);for(var h=0,m=0;m<this.length;m++){var p=(0|this.words[m])*l,x=(67108863&p)+(67108863&h);h>>=26,h+=p/67108864|0,h+=x>>>26,this.words[m]=67108863&x}return 0!==h&&(this.words[m]=h,this.length++),this},_.prototype.muln=function(l){return this.clone().imuln(l)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(l){var h=function j(k){for(var l=new Array(k.bitLength()),h=0;h<l.length;h++){var p=h%26;l[h]=(k.words[h/26|0]&1<<p)>>>p}return l}(l);if(0===h.length)return new _(1);for(var m=this,p=0;p<h.length&&0===h[p];p++,m=m.sqr());if(++p<h.length)for(var x=m.sqr();p<h.length;p++,x=x.sqr())0!==h[p]&&(m=m.mul(x));return m},_.prototype.iushln=function(l){O("number"==typeof l&&l>=0);var x,h=l%26,m=(l-h)/26,p=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(x=0;x<this.length;x++){var B=this.words[x]&p;this.words[x]=(0|this.words[x])-B<<h|D,D=B>>>26-h}D&&(this.words[x]=D,this.length++)}if(0!==m){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},_.prototype.ishln=function(l){return O(0===this.negative),this.iushln(l)},_.prototype.iushrn=function(l,h,m){var p;O("number"==typeof l&&l>=0),p=h?(h-h%26)/26:0;var x=l%26,D=Math.min((l-x)/26,this.length),B=67108863^67108863>>>x<<x,M=m;if(p-=D,p=Math.max(0,p),M){for(var d=0;d<D;d++)M.words[d]=this.words[d];M.length=D}if(0!==D)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=p);d--){var W=0|this.words[d];this.words[d]=v<<26-x|W>>>x,v=W&B}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},_.prototype.ishrn=function(l,h,m){return O(0===this.negative),this.iushrn(l,h,m)},_.prototype.shln=function(l){return this.clone().ishln(l)},_.prototype.ushln=function(l){return this.clone().iushln(l)},_.prototype.shrn=function(l){return this.clone().ishrn(l)},_.prototype.ushrn=function(l){return this.clone().iushrn(l)},_.prototype.testn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return!(this.length<=m||!(this.words[m]&1<<h))},_.prototype.imaskn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==h&&m++,this.length=Math.min(m,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},_.prototype.maskn=function(l){return this.clone().imaskn(l)},_.prototype.iaddn=function(l){return O("number"==typeof l),O(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},_.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},_.prototype.isubn=function(l){if(O("number"==typeof l),O(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},_.prototype.addn=function(l){return this.clone().iaddn(l)},_.prototype.subn=function(l){return this.clone().isubn(l)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(l,h,m){var x;this._expand(l.length+m);var D,B=0;for(x=0;x<l.length;x++){D=(0|this.words[x+m])+B;var M=(0|l.words[x])*h;B=((D-=67108863&M)>>26)-(M/67108864|0),this.words[x+m]=67108863&D}for(;x<this.length-m;x++)B=(D=(0|this.words[x+m])+B)>>26,this.words[x+m]=67108863&D;if(0===B)return this.strip();for(O(-1===B),B=0,x=0;x<this.length;x++)B=(D=-(0|this.words[x])+B)>>26,this.words[x]=67108863&D;return this.negative=1,this.strip()},_.prototype._wordDiv=function(l,h){var m,p=this.clone(),x=l,D=0|x.words[x.length-1];0!=(m=26-this._countBits(D))&&(x=x.ushln(m),p.iushln(m),D=0|x.words[x.length-1]);var d,M=p.length-x.length;if("mod"!==h){(d=new _(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=p.clone()._ishlnsubmul(x,1,M);0===W.negative&&(p=W,d&&(d.words[M]=1));for(var z=M-1;z>=0;z--){var Q=67108864*(0|p.words[x.length+z])+(0|p.words[x.length+z-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(x,Q,z);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(x,1,z),p.isZero()||(p.negative^=1);d&&(d.words[z]=Q)}return d&&d.strip(),p.strip(),"div"!==h&&0!==m&&p.iushrn(m),{div:d||null,mod:p}},_.prototype.divmod=function(l,h,m){return O(!l.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===l.negative?(D=this.neg().divmod(l,h),"mod"!==h&&(p=D.div.neg()),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.iadd(l)),{div:p,mod:x}):0===this.negative&&0!==l.negative?(D=this.divmod(l.neg(),h),"mod"!==h&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),h),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.isub(l)),{div:D.div,mod:x}):l.length>this.length||this.cmp(l)<0?{div:new _(0),mod:this}:1===l.length?"div"===h?{div:this.divn(l.words[0]),mod:null}:"mod"===h?{div:null,mod:new _(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new _(this.modn(l.words[0]))}:this._wordDiv(l,h);var p,x,D},_.prototype.div=function(l){return this.divmod(l,"div",!1).div},_.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},_.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},_.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var m=0!==h.div.negative?h.mod.isub(l):h.mod,p=l.ushrn(1),x=l.andln(1),D=m.cmp(p);return D<0||1===x&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},_.prototype.modn=function(l){O(l<=67108863);for(var h=(1<<26)%l,m=0,p=this.length-1;p>=0;p--)m=(h*m+(0|this.words[p]))%l;return m},_.prototype.idivn=function(l){O(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*h;this.words[m]=p/l|0,h=p%l}return this.strip()},_.prototype.divn=function(l){return this.clone().idivn(l)},_.prototype.egcd=function(l){O(0===l.negative),O(!l.isZero());var h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=new _(0),B=new _(1),M=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++M;for(var d=m.clone(),v=h.clone();!h.isZero();){for(var W=0,z=1;!(h.words[0]&z)&&W<26;++W,z<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(d),x.isub(v)),p.iushrn(1),x.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||B.isOdd())&&(D.iadd(d),B.isub(v)),D.iushrn(1),B.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(D),x.isub(B)):(m.isub(h),D.isub(p),B.isub(x))}return{a:D,b:B,gcd:m.iushln(M)}},_.prototype._invmp=function(l){O(0===l.negative),O(!l.isZero());var W,h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var B=0,M=1;!(h.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(h.iushrn(B);B-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var d=0,v=1;!(m.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(x)):(m.isub(h),x.isub(p))}return(W=0===h.cmpn(1)?p:x).cmpn(0)<0&&W.iadd(l),W},_.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),m=l.clone();h.negative=0,m.negative=0;for(var p=0;h.isEven()&&m.isEven();p++)h.iushrn(1),m.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var D=h;h=m,m=D}else if(0===x||0===m.cmpn(1))break;h.isub(m)}return m.iushln(p)},_.prototype.invm=function(l){return this.egcd(l).a.umod(l)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(l){return this.words[0]&l},_.prototype.bincn=function(l){O("number"==typeof l);var h=l%26,m=(l-h)/26,p=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var x=p,D=m;0!==x&&D<this.length;D++){var B=0|this.words[D];x=(B+=x)>>>26,this.words[D]=B&=67108863}return 0!==x&&(this.words[D]=x,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(l){var m,h=l<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)m=1;else{h&&(l=-l),O(l<=67108863,"Number is too big");var p=0|this.words[0];m=p===l?0:p<l?-1:1}return 0!==this.negative?0|-m:m},_.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var h=this.ucmp(l);return 0!==this.negative?0|-h:h},_.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],x=0|l.words[m];if(p!==x){p<x?h=-1:p>x&&(h=1);break}}return h},_.prototype.gtn=function(l){return 1===this.cmpn(l)},_.prototype.gt=function(l){return 1===this.cmp(l)},_.prototype.gten=function(l){return this.cmpn(l)>=0},_.prototype.gte=function(l){return this.cmp(l)>=0},_.prototype.ltn=function(l){return-1===this.cmpn(l)},_.prototype.lt=function(l){return-1===this.cmp(l)},_.prototype.lten=function(l){return this.cmpn(l)<=0},_.prototype.lte=function(l){return this.cmp(l)<=0},_.prototype.eqn=function(l){return 0===this.cmpn(l)},_.prototype.eq=function(l){return 0===this.cmp(l)},_.red=function(l){return new we(l)},_.prototype.toRed=function(l){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(l){return this.red=l,this},_.prototype.forceRed=function(l){return O(!this.red,"Already a number in reduction context"),this._forceRed(l)},_.prototype.redAdd=function(l){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},_.prototype.redIAdd=function(l){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},_.prototype.redSub=function(l){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},_.prototype.redISub=function(l){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},_.prototype.redShl=function(l){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},_.prototype.redMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},_.prototype.redIMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(l){return O(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ne={k256:null,p224:null,p192:null,p25519:null};function ie(k,l){this.name=k,this.p=new _(l,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function re(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ce(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var l=_._prime(k);this.m=l.p,this.prime=l}else O(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function Me(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var l=new _(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m,h=l;do{this.split(h,this.tmp),m=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:h.ucmp(this.p);return 0===p?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},ie.prototype.split=function(l,h){l.iushrn(this.n,0,h)},ie.prototype.imulK=function(l){return l.imul(this.k)},X(re,ie),re.prototype.split=function(l,h){for(var m=4194303,p=Math.min(l.length,9),x=0;x<p;x++)h.words[x]=l.words[x];if(h.length=p,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(h.words[h.length++]=D&m,x=10;x<l.length;x++){var B=0|l.words[x];l.words[x-10]=(B&m)<<4|D>>>22,D=B}l.words[x-10]=D>>>=22,l.length-=0===D&&l.length>10?10:9},re.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,m=0;m<l.length;m++){var p=0|l.words[m];l.words[m]=67108863&(h+=977*p),h=64*p+(h/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},X(ce,ie),X(se,ie),X(pe,ie),pe.prototype.imulK=function(l){for(var h=0,m=0;m<l.length;m++){var p=19*(0|l.words[m])+h,x=67108863&p;p>>>=26,l.words[m]=x,h=p}return 0!==h&&(l.words[l.length++]=h),l},_._prime=function(l){if(ne[l])return ne[l];var h;if("k256"===l)h=new re;else if("p224"===l)h=new ce;else if("p192"===l)h=new se;else{if("p25519"!==l)throw new Error("Unknown prime "+l);h=new pe}return ne[l]=h,h},we.prototype._verify1=function(l){O(0===l.negative,"red works only with positives"),O(l.red,"red works only with red numbers")},we.prototype._verify2=function(l,h){O(!(l.negative|h.negative),"red works only with positives"),O(l.red&&l.red===h.red,"red works only with red numbers")},we.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},we.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},we.prototype.add=function(l,h){this._verify2(l,h);var m=l.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},we.prototype.iadd=function(l,h){this._verify2(l,h);var m=l.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},we.prototype.sub=function(l,h){this._verify2(l,h);var m=l.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},we.prototype.isub=function(l,h){this._verify2(l,h);var m=l.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},we.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},we.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},we.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},we.prototype.isqr=function(l){return this.imul(l,l.clone())},we.prototype.sqr=function(l){return this.mul(l,l)},we.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var m=this.m.add(new _(1)).iushrn(2);return this.pow(l,m)}for(var p=this.m.subn(1),x=0;!p.isZero()&&0===p.andln(1);)x++,p.iushrn(1);O(!p.isZero());var D=new _(1).toRed(this),B=D.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new _(2*d*d).toRed(this);0!==this.pow(d,M).cmp(B);)d.redIAdd(B);for(var v=this.pow(d,p),W=this.pow(l,p.addn(1).iushrn(1)),z=this.pow(l,p),Q=x;0!==z.cmp(D);){for(var de=z,xe=0;0!==de.cmp(D);xe++)de=de.redSqr();O(xe<Q);var Ie=this.pow(v,new _(1).iushln(Q-xe-1));W=W.redMul(Ie),v=Ie.redSqr(),z=z.redMul(v),Q=xe}return W},we.prototype.invm=function(l){var h=l._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(l,h){if(h.isZero())return new _(1).toRed(this);if(0===h.cmpn(1))return l.clone();var p=new Array(16);p[0]=new _(1).toRed(this),p[1]=l;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],l);var D=p[0],B=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),x=h.length-1;x>=0;x--){for(var v=h.words[x],W=d-1;W>=0;W--){var z=v>>W&1;D!==p[0]&&(D=this.sqr(D)),0!==z||0!==B?(B<<=1,B|=z,(4==++M||0===x&&0===W)&&(D=this.mul(D,p[B]),M=0,B=0)):M=0}d=26}return D},we.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},we.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},_.mont=function(l){return new Me(l)},X(Me,we),Me.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Me.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},Me.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new _(0)._forceRed(this);var m=l.mul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},39210:Ne=>{function V(E,g){if(!E)throw new Error(g||"Assertion failed")}Ne.exports=V,V.equal=function(g,w,O){if(g!=w)throw new Error(O||"Assertion failed: "+g+" != "+w)}},21832:(Ne,V)=>{"use strict";var E=V;function w(X){return 1===X.length?"0"+X:X}function O(X){for(var _="",R=0;R<X.length;R++)_+=w(X[R].toString(16));return _}E.toArray=function g(X,_){if(Array.isArray(X))return X.slice();if(!X)return[];var R=[];if("string"!=typeof X){for(var A=0;A<X.length;A++)R[A]=0|X[A];return R}if("hex"===_)for((X=X.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(X="0"+X),A=0;A<X.length;A+=2)R.push(parseInt(X[A]+X[A+1],16));else for(A=0;A<X.length;A++){var N=X.charCodeAt(A),L=N>>8,F=255&N;L?R.push(L,F):R.push(F)}return R},E.zero2=w,E.toHex=O,E.encode=function(_,R){return"hex"===R?O(_):_}},61747:Ne=>{"use strict";Ne.exports=class extends Error{constructor(E,g){super(E||""),"object"==typeof g&&null!==g&&(g.code&&(this.code=String(g.code)),g.expected&&(this.expected=!0),g.transient&&(this.transient=!0),g.cause&&(this.cause=g.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(Ne,V,E)=>{Ne.exports=E(3116)},3116:function(Ne,V){!function(E,g){"use strict";var w={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function O(j){if(!Array.isArray(j)&&!ArrayBuffer.isView(j))return!1;for(var G=0;G<j.length;G++)if(!Number.isInteger(j[G])||j[G]<0||j[G]>255)return!1;return!0}function X(j,G){return(65535&j)*G+(((j>>>16)*G&65535)<<16)}function _(j,G){return j<<G|j>>>32-G}function R(j){return j=X(j^=j>>>16,2246822507),(j=X(j^=j>>>13,3266489909))^j>>>16}function A(j,G){var te=[0,0,0,0];return te[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]+(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],te[2]+=te[3]>>>16,te[3]&=65535,te[2]+=j[2]+G[2],te[1]+=te[2]>>>16,te[2]&=65535,te[1]+=j[1]+G[1],te[0]+=te[1]>>>16,te[1]&=65535,te[0]+=j[0]+G[0],te[0]&=65535,[te[0]<<16|te[1],te[2]<<16|te[3]]}function N(j,G){var te=[0,0,0,0];return te[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]*(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],te[2]+=te[3]>>>16,te[3]&=65535,te[2]+=j[2]*G[3],te[1]+=te[2]>>>16,te[2]&=65535,te[2]+=j[3]*G[2],te[1]+=te[2]>>>16,te[2]&=65535,te[1]+=j[1]*G[3],te[0]+=te[1]>>>16,te[1]&=65535,te[1]+=j[2]*G[2],te[0]+=te[1]>>>16,te[1]&=65535,te[1]+=j[3]*G[1],te[0]+=te[1]>>>16,te[1]&=65535,te[0]+=j[0]*G[3]+j[1]*G[2]+j[2]*G[1]+j[3]*G[0],te[0]&=65535,[te[0]<<16|te[1],te[2]<<16|te[3]]}function L(j,G){return 32==(G%=64)?[j[1],j[0]]:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G|j[0]>>>32-G]:[j[1]<<(G-=32)|j[0]>>>32-G,j[0]<<G|j[1]>>>32-G]}function F(j,G){return 0==(G%=64)?j:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G]:[j[1]<<G-32,0]}function C(j,G){return[j[0]^G[0],j[1]^G[1]]}function Y(j){return j=C(j,[0,j[0]>>>1]),j=C(j=N(j,[4283543511,3981806797]),[0,j[0]>>>1]),C(j=N(j,[3301882366,444984403]),[0,j[0]>>>1])}w.x86.hash32=function(j,G){if(w.inputValidation&&!O(j))return g;for(var te=j.length%4,ee=j.length-te,q=G=G||0,J=0,ne=3432918353,ie=461845907,re=0;re<ee;re+=4)J=X(J=j[re]|j[re+1]<<8|j[re+2]<<16|j[re+3]<<24,ne),J=X(J=_(J,15),ie),q=X(q=_(q^=J,13),5)+3864292196;switch(J=0,te){case 3:J^=j[re+2]<<16;case 2:J^=j[re+1]<<8;case 1:J=X(J^=j[re],ne),q^=J=X(J=_(J,15),ie)}return(q=R(q^=j.length))>>>0},w.x86.hash128=function(j,G){if(w.inputValidation&&!O(j))return g;for(var te=j.length%16,ee=j.length-te,q=G=G||0,J=G,ne=G,ie=G,re=0,ce=0,se=0,pe=0,we=597399067,Me=2869860233,k=951274213,l=2716044179,h=0;h<ee;h+=16)ce=j[h+4]|j[h+5]<<8|j[h+6]<<16|j[h+7]<<24,se=j[h+8]|j[h+9]<<8|j[h+10]<<16|j[h+11]<<24,pe=j[h+12]|j[h+13]<<8|j[h+14]<<16|j[h+15]<<24,re=_(re=X(re=j[h]|j[h+1]<<8|j[h+2]<<16|j[h+3]<<24,we),15),q=_(q^=re=X(re,Me),19),q=X(q+=J,5)+1444728091,ce=_(ce=X(ce,Me),16),J=_(J^=ce=X(ce,k),17),J=X(J+=ne,5)+197830471,se=_(se=X(se,k),17),ne=_(ne^=se=X(se,l),15),ne=X(ne+=ie,5)+2530024501,pe=_(pe=X(pe,l),18),ie=_(ie^=pe=X(pe,we),13),ie=X(ie+=q,5)+850148119;switch(re=0,ce=0,se=0,pe=0,te){case 15:pe^=j[h+14]<<16;case 14:pe^=j[h+13]<<8;case 13:pe=X(pe^=j[h+12],l),ie^=pe=X(pe=_(pe,18),we);case 12:se^=j[h+11]<<24;case 11:se^=j[h+10]<<16;case 10:se^=j[h+9]<<8;case 9:se=X(se^=j[h+8],k),ne^=se=X(se=_(se,17),l);case 8:ce^=j[h+7]<<24;case 7:ce^=j[h+6]<<16;case 6:ce^=j[h+5]<<8;case 5:ce=X(ce^=j[h+4],Me),J^=ce=X(ce=_(ce,16),k);case 4:re^=j[h+3]<<24;case 3:re^=j[h+2]<<16;case 2:re^=j[h+1]<<8;case 1:re=X(re^=j[h],we),q^=re=X(re=_(re,15),Me)}return q^=j.length,q+=J^=j.length,q+=ne^=j.length,J+=q+=ie^=j.length,ne+=q,ie+=q,q=R(q),q+=J=R(J),q+=ne=R(ne),J+=q+=ie=R(ie),ne+=q,ie+=q,("00000000"+(q>>>0).toString(16)).slice(-8)+("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(ne>>>0).toString(16)).slice(-8)+("00000000"+(ie>>>0).toString(16)).slice(-8)},w.x64.hash128=function(j,G){if(w.inputValidation&&!O(j))return g;for(var te=j.length%16,ee=j.length-te,q=[0,G=G||0],J=[0,G],ne=[0,0],ie=[0,0],re=[2277735313,289559509],ce=[1291169091,658871167],se=0;se<ee;se+=16)ie=[j[se+12]|j[se+13]<<8|j[se+14]<<16|j[se+15]<<24,j[se+8]|j[se+9]<<8|j[se+10]<<16|j[se+11]<<24],ne=L(ne=N(ne=[j[se+4]|j[se+5]<<8|j[se+6]<<16|j[se+7]<<24,j[se]|j[se+1]<<8|j[se+2]<<16|j[se+3]<<24],re),31),q=A(q=L(q=C(q,ne=N(ne,ce)),27),J),q=A(N(q,[0,5]),[0,1390208809]),ie=L(ie=N(ie,ce),33),J=A(J=L(J=C(J,ie=N(ie,re)),31),q),J=A(N(J,[0,5]),[0,944331445]);switch(ne=[0,0],ie=[0,0],te){case 15:ie=C(ie,F([0,j[se+14]],48));case 14:ie=C(ie,F([0,j[se+13]],40));case 13:ie=C(ie,F([0,j[se+12]],32));case 12:ie=C(ie,F([0,j[se+11]],24));case 11:ie=C(ie,F([0,j[se+10]],16));case 10:ie=C(ie,F([0,j[se+9]],8));case 9:ie=N(ie=C(ie,[0,j[se+8]]),ce),J=C(J,ie=N(ie=L(ie,33),re));case 8:ne=C(ne,F([0,j[se+7]],56));case 7:ne=C(ne,F([0,j[se+6]],48));case 6:ne=C(ne,F([0,j[se+5]],40));case 5:ne=C(ne,F([0,j[se+4]],32));case 4:ne=C(ne,F([0,j[se+3]],24));case 3:ne=C(ne,F([0,j[se+2]],16));case 2:ne=C(ne,F([0,j[se+1]],8));case 1:ne=N(ne=C(ne,[0,j[se]]),re),q=C(q,ne=N(ne=L(ne,31),ce))}return q=A(q=C(q,[0,j.length]),J=C(J,[0,j.length])),J=A(J,q),q=A(q=Y(q),J=Y(J)),J=A(J,q),("00000000"+(q[0]>>>0).toString(16)).slice(-8)+("00000000"+(q[1]>>>0).toString(16)).slice(-8)+("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)},Ne.exports&&(V=Ne.exports=w),V.murmurHash3=w}()},50233:Ne=>{"use strict";var V=Object.prototype.hasOwnProperty,E="~";function g(){}function w(R,A,N){this.fn=R,this.context=A,this.once=N||!1}function O(R,A,N,L,F){if("function"!=typeof N)throw new TypeError("The listener must be a function");var C=new w(N,L||R,F),Y=E?E+A:A;return R._events[Y]?R._events[Y].fn?R._events[Y]=[R._events[Y],C]:R._events[Y].push(C):(R._events[Y]=C,R._eventsCount++),R}function X(R,A){0==--R._eventsCount?R._events=new g:delete R._events[A]}function _(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(E=!1)),_.prototype.eventNames=function(){var N,L,A=[];if(0===this._eventsCount)return A;for(L in N=this._events)V.call(N,L)&&A.push(E?L.slice(1):L);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(N)):A},_.prototype.listeners=function(A){var L=this._events[E?E+A:A];if(!L)return[];if(L.fn)return[L.fn];for(var F=0,C=L.length,Y=new Array(C);F<C;F++)Y[F]=L[F].fn;return Y},_.prototype.listenerCount=function(A){var L=this._events[E?E+A:A];return L?L.fn?1:L.length:0},_.prototype.emit=function(A,N,L,F,C,Y){var j=E?E+A:A;if(!this._events[j])return!1;var ee,q,G=this._events[j],te=arguments.length;if(G.fn){switch(G.once&&this.removeListener(A,G.fn,void 0,!0),te){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,N),!0;case 3:return G.fn.call(G.context,N,L),!0;case 4:return G.fn.call(G.context,N,L,F),!0;case 5:return G.fn.call(G.context,N,L,F,C),!0;case 6:return G.fn.call(G.context,N,L,F,C,Y),!0}for(q=1,ee=new Array(te-1);q<te;q++)ee[q-1]=arguments[q];G.fn.apply(G.context,ee)}else{var ne,J=G.length;for(q=0;q<J;q++)switch(G[q].once&&this.removeListener(A,G[q].fn,void 0,!0),te){case 1:G[q].fn.call(G[q].context);break;case 2:G[q].fn.call(G[q].context,N);break;case 3:G[q].fn.call(G[q].context,N,L);break;case 4:G[q].fn.call(G[q].context,N,L,F);break;default:if(!ee)for(ne=1,ee=new Array(te-1);ne<te;ne++)ee[ne-1]=arguments[ne];G[q].fn.apply(G[q].context,ee)}}return!0},_.prototype.on=function(A,N,L){return O(this,A,N,L,!1)},_.prototype.once=function(A,N,L){return O(this,A,N,L,!0)},_.prototype.removeListener=function(A,N,L,F){var C=E?E+A:A;if(!this._events[C])return this;if(!N)return X(this,C),this;var Y=this._events[C];if(Y.fn)Y.fn===N&&(!F||Y.once)&&(!L||Y.context===L)&&X(this,C);else{for(var j=0,G=[],te=Y.length;j<te;j++)(Y[j].fn!==N||F&&!Y[j].once||L&&Y[j].context!==L)&&G.push(Y[j]);G.length?this._events[C]=1===G.length?G[0]:G:X(this,C)}return this},_.prototype.removeAllListeners=function(A){var N;return A?this._events[N=E?E+A:A]&&X(this,N):(this._events=new g,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=E,_.EventEmitter=_,Ne.exports=_},83138:(Ne,V,E)=>{"use strict";var g=E(49609);V.certificate=E(94772);var w=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});V.RSAPrivateKey=w;var O=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});V.RSAPublicKey=O;var X=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),_=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(X),this.key("subjectPublicKey").bitstr())});V.PublicKey=_;var R=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(X),this.key("subjectPrivateKey").octstr())});V.PrivateKey=R;var A=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});V.EncryptedPrivateKey=A;var N=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});V.DSAPrivateKey=N,V.DSAparam=g.define("DSAparam",function(){this.int()});var L=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),F=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(L),this.key("publicKey").optional().explicit(1).bitstr())});V.ECPrivateKey=F,V.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(Ne,V,E)=>{"use strict";var g=E(49609),w=g.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),O=g.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),X=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),_=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(X),this.key("subjectPublicKey").bitstr())}),R=g.define("RelativeDistinguishedName",function(){this.setof(O)}),A=g.define("RDNSequence",function(){this.seqof(R)}),N=g.define("Name",function(){this.choice({rdnSequence:this.use(A)})}),L=g.define("Validity",function(){this.seq().obj(this.key("notBefore").use(w),this.key("notAfter").use(w))}),F=g.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),C=g.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(X),this.key("issuer").use(N),this.key("validity").use(L),this.key("subject").use(N),this.key("subjectPublicKeyInfo").use(_),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(F).optional())}),Y=g.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(C),this.key("signatureAlgorithm").use(X),this.key("signatureValue").bitstr())});Ne.exports=Y},89472:(Ne,V,E)=>{"use strict";var g=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,w=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,O=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,X=E(18211),_=E(43388),R=E(27054).Buffer;Ne.exports=function(A,N){var C,L=A.toString(),F=L.match(g);if(F){var j="aes"+F[1],G=R.from(F[2],"hex"),te=R.from(F[3].replace(/[\r\n]/g,""),"base64"),ee=X(N,G.slice(0,8),parseInt(F[1],10)).key,q=[],J=_.createDecipheriv(j,ee,G);q.push(J.update(te)),q.push(J.final()),C=R.concat(q)}else{var Y=L.match(O);C=R.from(Y[2].replace(/[\r\n]/g,""),"base64")}return{tag:L.match(w)[1],data:C}}},65667:(Ne,V,E)=>{"use strict";var g=E(83138),w=E(15579),O=E(89472),X=E(43388),_=E(93397),R=E(27054).Buffer;function N(L){var F;"object"==typeof L&&!R.isBuffer(L)&&(F=L.passphrase,L=L.key),"string"==typeof L&&(L=R.from(L));var G,te,C=O(L,F),Y=C.tag,j=C.data;switch(Y){case"CERTIFICATE":te=g.certificate.decode(j,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(te||(te=g.PublicKey.decode(j,"der")),G=te.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPublicKey.decode(te.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return te.subjectPrivateKey=te.subjectPublicKey,{type:"ec",data:te};case"1.2.840.10040.4.1":return te.algorithm.params.pub_key=g.DSAparam.decode(te.subjectPublicKey.data,"der"),{type:"dsa",data:te.algorithm.params};default:throw new Error("unknown key id "+G)}case"ENCRYPTED PRIVATE KEY":j=function A(L,F){var C=L.algorithm.decrypt.kde.kdeparams.salt,Y=parseInt(L.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=w[L.algorithm.decrypt.cipher.algo.join(".")],G=L.algorithm.decrypt.cipher.iv,te=L.subjectPrivateKey,ee=parseInt(j.split("-")[1],10)/8,q=_.pbkdf2Sync(F,C,Y,ee,"sha1"),J=X.createDecipheriv(j,q,G),ne=[];return ne.push(J.update(te)),ne.push(J.final()),R.concat(ne)}(j=g.EncryptedPrivateKey.decode(j,"der"),F);case"PRIVATE KEY":switch(G=(te=g.PrivateKey.decode(j,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPrivateKey.decode(te.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:te.algorithm.curve,privateKey:g.ECPrivateKey.decode(te.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return te.algorithm.params.priv_key=g.DSAparam.decode(te.subjectPrivateKey,"der"),{type:"dsa",params:te.algorithm.params};default:throw new Error("unknown key id "+G)}case"RSA PUBLIC KEY":return g.RSAPublicKey.decode(j,"der");case"RSA PRIVATE KEY":return g.RSAPrivateKey.decode(j,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:g.DSAPrivateKey.decode(j,"der")};case"EC PRIVATE KEY":return{curve:(j=g.ECPrivateKey.decode(j,"der")).parameters.value,privateKey:j.privateKey};default:throw new Error("unknown key type "+Y)}}N.signature=g.signature,Ne.exports=N},93397:(Ne,V,E)=>{V.pbkdf2=E(82685),V.pbkdf2Sync=E(59111)},82685:(Ne,V,E)=>{var R,C,g=E(27054).Buffer,w=E(86111),O=E(45392),X=E(59111),_=E(76643),A=globalThis.crypto&&globalThis.crypto.subtle,N={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},L=[];function Y(){return C||(C=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function j(te,ee,q,J,ne){return A.importKey("raw",te,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ie){return A.deriveBits({name:"PBKDF2",salt:ee,iterations:q,hash:{name:ne}},ie,J<<3)}).then(function(ie){return g.from(ie)})}Ne.exports=function(te,ee,q,J,ne,ie){"function"==typeof ne&&(ie=ne,ne=void 0);var re=N[(ne=ne||"sha1").toLowerCase()];if(re&&"function"==typeof globalThis.Promise){if(w(q,J),te=_(te,O,"Password"),ee=_(ee,O,"Salt"),"function"!=typeof ie)throw new Error("No callback provided to pbkdf2");!function G(te,ee){te.then(function(q){Y()(function(){ee(null,q)})},function(q){Y()(function(){ee(q)})})}(function F(te){if(globalThis.process&&!globalThis.process.browser||!A||!A.importKey||!A.deriveBits)return Promise.resolve(!1);if(void 0!==L[te])return L[te];var ee=j(R=R||g.alloc(8),R,10,128,te).then(function(){return!0}).catch(function(){return!1});return L[te]=ee,ee}(re).then(function(ce){return ce?j(te,ee,q,J,re):X(te,ee,q,J,ne)}),ie)}else Y()(function(){var ce;try{ce=X(te,ee,q,J,ne)}catch(se){return ie(se)}ie(null,ce)})}},45392:(Ne,V,E)=>{var w,g=E(40573);w=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(g.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Ne.exports=w},86111:Ne=>{var V=Math.pow(2,30)-1;Ne.exports=function(E,g){if("number"!=typeof E)throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(g<0||g>V||g!=g)throw new TypeError("Bad key length")}},59111:(Ne,V,E)=>{var g=E(83407),w=E(36636),O=E(25443),X=E(27054).Buffer,_=E(86111),R=E(45392),A=E(76643),N=X.alloc(128),L={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function F(j,G,te){var ee=function C(j){return"rmd160"===j||"ripemd160"===j?function te(ee){return(new w).update(ee).digest()}:"md5"===j?g:function G(ee){return O(j).update(ee).digest()}}(j),q="sha512"===j||"sha384"===j?128:64;G.length>q?G=ee(G):G.length<q&&(G=X.concat([G,N],q));for(var J=X.allocUnsafe(q+L[j]),ne=X.allocUnsafe(q+L[j]),ie=0;ie<q;ie++)J[ie]=54^G[ie],ne[ie]=92^G[ie];var re=X.allocUnsafe(q+te+4);J.copy(re,0,0,q),this.ipad1=re,this.ipad2=J,this.opad=ne,this.alg=j,this.blocksize=q,this.hash=ee,this.size=L[j]}F.prototype.run=function(j,G){return j.copy(G,this.blocksize),this.hash(G).copy(this.opad,this.blocksize),this.hash(this.opad)},Ne.exports=function Y(j,G,te,ee,q){_(te,ee);var J=new F(q=q||"sha1",j=A(j,R,"Password"),(G=A(G,R,"Salt")).length),ne=X.allocUnsafe(ee),ie=X.allocUnsafe(G.length+4);G.copy(ie,0,0,G.length);for(var re=0,ce=L[q],se=Math.ceil(ee/ce),pe=1;pe<=se;pe++){ie.writeUInt32BE(pe,G.length);for(var we=J.run(ie,J.ipad1),Me=we,k=1;k<te;k++){Me=J.run(Me,J.ipad2);for(var l=0;l<ce;l++)we[l]^=Me[l]}we.copy(ne,re),re+=ce}return ne}},76643:(Ne,V,E)=>{var g=E(27054).Buffer;Ne.exports=function(w,O,X){if(g.isBuffer(w))return w;if("string"==typeof w)return g.from(w,O);if(ArrayBuffer.isView(w))return g.from(w.buffer);throw new TypeError(X+" must be a string, a Buffer, a typed array or a DataView")}},9656:(Ne,V,E)=>{"use strict";var g=E(40573);Ne.exports=typeof g>"u"||!g.version||0===g.version.indexOf("v0.")||0===g.version.indexOf("v1.")&&0!==g.version.indexOf("v1.8.")?{nextTick:function w(O,X,_,R){if("function"!=typeof O)throw new TypeError('"callback" argument must be a function');var N,L,A=arguments.length;switch(A){case 0:case 1:return g.nextTick(O);case 2:return g.nextTick(function(){O.call(null,X)});case 3:return g.nextTick(function(){O.call(null,X,_)});case 4:return g.nextTick(function(){O.call(null,X,_,R)});default:for(N=new Array(A-1),L=0;L<N.length;)N[L++]=arguments[L];return g.nextTick(function(){O.apply(null,N)})}}}:g},40573:Ne=>{var E,g,V=Ne.exports={};function w(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function X(G){if(E===setTimeout)return setTimeout(G,0);if((E===w||!E)&&setTimeout)return E=setTimeout,setTimeout(G,0);try{return E(G,0)}catch{try{return E.call(null,G,0)}catch{return E.call(this,G,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:w}catch{E=w}try{g="function"==typeof clearTimeout?clearTimeout:O}catch{g=O}}();var N,R=[],A=!1,L=-1;function F(){!A||!N||(A=!1,N.length?R=N.concat(R):L=-1,R.length&&C())}function C(){if(!A){var G=X(F);A=!0;for(var te=R.length;te;){for(N=R,R=[];++L<te;)N&&N[L].run();L=-1,te=R.length}N=null,A=!1,function _(G){if(g===clearTimeout)return clearTimeout(G);if((g===O||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(G);try{return g(G)}catch{try{return g.call(null,G)}catch{return g.call(this,G)}}}(G)}}function Y(G,te){this.fun=G,this.array=te}function j(){}V.nextTick=function(G){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ee=1;ee<arguments.length;ee++)te[ee-1]=arguments[ee];R.push(new Y(G,te)),1===R.length&&!A&&X(C)},Y.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=j,V.addListener=j,V.once=j,V.off=j,V.removeListener=j,V.removeAllListeners=j,V.emit=j,V.prependListener=j,V.prependOnceListener=j,V.listeners=function(G){return[]},V.binding=function(G){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(G){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},52965:(Ne,V,E)=>{V.publicEncrypt=E(87267),V.privateDecrypt=E(98613),V.privateEncrypt=function(w,O){return V.publicEncrypt(w,O,!0)},V.publicDecrypt=function(w,O){return V.privateDecrypt(w,O,!0)}},30715:(Ne,V,E)=>{var g=E(67211),w=E(27054).Buffer;function O(X){var _=w.allocUnsafe(4);return _.writeUInt32BE(X,0),_}Ne.exports=function(X,_){for(var N,R=w.alloc(0),A=0;R.length<_;)N=O(A++),R=w.concat([R,g("sha1").update(X).update(N).digest()]);return R.slice(0,_)}},16508:function(Ne,V,E){!function(g,w){"use strict";function O(k,l){if(!k)throw new Error(l||"Assertion failed")}function X(k,l){k.super_=l;var h=function(){};h.prototype=l.prototype,k.prototype=new h,k.prototype.constructor=k}function _(k,l,h){if(_.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===l||"be"===l)&&(h=l,l=10),this._init(k||0,l||10,h||"be"))}var R;"object"==typeof g?g.exports=_:w.BN=_,_.BN=_,_.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(51069).Buffer}catch{}function A(k,l){var h=k.charCodeAt(l);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,l,h){var m=A(k,h);return h-1>=l&&(m|=A(k,h-1)<<4),m}function L(k,l,h,m){for(var p=0,x=Math.min(k.length,h),D=l;D<x;D++){var B=k.charCodeAt(D)-48;p*=m,p+=B>=49?B-49+10:B>=17?B-17+10:B}return p}_.isBN=function(l){return l instanceof _||null!==l&&"object"==typeof l&&l.constructor.wordSize===_.wordSize&&Array.isArray(l.words)},_.max=function(l,h){return l.cmp(h)>0?l:h},_.min=function(l,h){return l.cmp(h)<0?l:h},_.prototype._init=function(l,h,m){if("number"==typeof l)return this._initNumber(l,h,m);if("object"==typeof l)return this._initArray(l,h,m);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var p=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<l.length&&(16===h?this._parseHex(l,p,m):(this._parseBase(l,h,p),"le"===m&&this._initArray(this.toArray(),h,m)))},_.prototype._initNumber=function(l,h,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(O(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),h,m)},_.prototype._initArray=function(l,h,m){if(O("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,D,B=0;if("be"===m)for(p=l.length-1,x=0;p>=0;p-=3)this.words[x]|=(D=l[p]|l[p-1]<<8|l[p-2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);else if("le"===m)for(p=0,x=0;p<l.length;p+=3)this.words[x]|=(D=l[p]|l[p+1]<<8|l[p+2]<<16)<<B&67108863,this.words[x+1]=D>>>26-B&67108863,(B+=24)>=26&&(B-=26,x++);return this.strip()},_.prototype._parseHex=function(l,h,m){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var B,x=0,D=0;if("be"===m)for(p=l.length-1;p>=h;p-=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;else for(p=(l.length-h)%2==0?h+1:h;p<l.length;p+=2)B=N(l,h,p)<<x,this.words[D]|=67108863&B,x>=18?(x-=18,this.words[D+=1]|=B>>>26):x+=8;this.strip()},_.prototype._parseBase=function(l,h,m){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=h)p++;p--,x=x/h|0;for(var D=l.length-m,B=D%p,M=Math.min(D,D-B)+m,d=0,v=m;v<M;v+=p)d=L(l,v,v+p,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==B){var W=1;for(d=L(l,v,l.length,h),v=0;v<B;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},_.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red},_.prototype.clone=function(){var l=new _(null);return this.copy(l),l},_.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},_.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},_.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},_.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(k,l,h){h.negative=l.negative^k.negative;var m=k.length+l.length|0;h.length=m,m=m-1|0;var p=0|k.words[0],x=0|l.words[0],D=p*x,M=D/67108864|0;h.words[0]=67108863&D;for(var d=1;d<m;d++){for(var v=M>>>26,W=67108863&M,z=Math.min(d,l.length-1),Q=Math.max(0,d-k.length+1);Q<=z;Q++)v+=(D=(p=0|k.words[d-Q|0])*(x=0|l.words[Q])+W)/67108864|0,W=67108863&D;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}_.prototype.toString=function(l,h){var m;if(h=0|h||1,16===(l=l||10)||"hex"===l){m="";for(var p=0,x=0,D=0;D<this.length;D++){var B=this.words[D],M=(16777215&(B<<p|x)).toString(16);m=0!=(x=B>>>24-p&16777215)||D!==this.length-1?F[6-M.length]+M+m:M+m,(p+=2)>=26&&(p-=26,D--)}for(0!==x&&(m=x.toString(16)+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(l===(0|l)&&l>=2&&l<=36){var d=C[l],v=Y[l];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var z=W.modn(v).toString(l);m=(W=W.idivn(v)).isZero()?z+m:F[d-z.length]+z+m}for(this.isZero()&&(m="0"+m);m.length%h!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}O(!1,"Base should be between 2 and 36")},_.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},_.prototype.toJSON=function(){return this.toString(16)},_.prototype.toBuffer=function(l,h){return O(typeof R<"u"),this.toArrayLike(R,l,h)},_.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)},_.prototype.toArrayLike=function(l,h,m){var p=this.byteLength(),x=m||Math.max(1,p);O(p<=x,"byte array longer than desired length"),O(x>0,"Requested array length <= 0"),this.strip();var M,d,D="le"===h,B=new l(x),v=this.clone();if(D){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[d]=M;for(;d<x;d++)B[d]=0}else{for(d=0;d<x-p;d++)B[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),B[x-d-1]=M}return B},_.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var h=l,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},_.prototype._zeroBits=function(l){if(0===l)return 26;var h=l,m=0;return 8191&h||(m+=13,h>>>=13),127&h||(m+=7,h>>>=7),15&h||(m+=4,h>>>=4),3&h||(m+=2,h>>>=2),1&h||m++,m},_.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},_.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(l+=m,26!==m)break}return l},_.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},_.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},_.prototype.isNeg=function(){return 0!==this.negative},_.prototype.neg=function(){return this.clone().ineg()},_.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this.strip()},_.prototype.ior=function(l){return O(!(this.negative|l.negative)),this.iuor(l)},_.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},_.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},_.prototype.iuand=function(l){var h;h=this.length>l.length?l:this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=h.length,this.strip()},_.prototype.iand=function(l){return O(!(this.negative|l.negative)),this.iuand(l)},_.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},_.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},_.prototype.iuxor=function(l){var h,m;this.length>l.length?(h=this,m=l):(h=l,m=this);for(var p=0;p<m.length;p++)this.words[p]=h.words[p]^m.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},_.prototype.ixor=function(l){return O(!(this.negative|l.negative)),this.iuxor(l)},_.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},_.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},_.prototype.inotn=function(l){O("number"==typeof l&&l>=0);var h=0|Math.ceil(l/26),m=l%26;this._expand(h),m>0&&h--;for(var p=0;p<h;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},_.prototype.notn=function(l){return this.clone().inotn(l)},_.prototype.setn=function(l,h){O("number"==typeof l&&l>=0);var m=l/26|0,p=l%26;return this._expand(m+1),this.words[m]=h?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},_.prototype.iadd=function(l){var h,m,p;if(0!==this.negative&&0===l.negative)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();this.length>l.length?(m=this,p=l):(m=l,p=this);for(var x=0,D=0;D<p.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+(0|p.words[D])+x),x=h>>>26;for(;0!==x&&D<m.length;D++)this.words[D]=67108863&(h=(0|m.words[D])+x),x=h>>>26;if(this.length=m.length,0!==x)this.words[this.length]=x,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},_.prototype.add=function(l){var h;return 0!==l.negative&&0===this.negative?(l.negative=0,h=this.sub(l),l.negative^=1,h):0===l.negative&&0!==this.negative?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},_.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p,x,m=this.cmp(l);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,x=l):(p=l,x=this);for(var D=0,B=0;B<x.length;B++)D=(h=(0|p.words[B])-(0|x.words[B])+D)>>26,this.words[B]=67108863&h;for(;0!==D&&B<p.length;B++)D=(h=(0|p.words[B])+D)>>26,this.words[B]=67108863&h;if(0===D&&B<p.length&&p!==this)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=Math.max(this.length,B),p!==this&&(this.negative=1),this.strip()},_.prototype.sub=function(l){return this.clone().isub(l)};var te=function(l,h,m){var M,d,v,p=l.words,x=h.words,D=m.words,B=0,W=0|p[0],z=8191&W,Q=W>>>13,de=0|p[1],xe=8191&de,Ie=de>>>13,Le=0|p[2],ve=8191&Le,ye=Le>>>13,ke=0|p[3],me=8191&ke,Ee=ke>>>13,fe=0|p[4],he=8191&fe,ae=fe>>>13,ue=0|p[5],ge=8191&ue,Ae=ue>>>13,Ue=0|p[6],Ve=8191&Ue,ze=Ue>>>13,It=0|p[7],qe=8191&It,je=It>>>13,ut=0|p[8],$=8191&ut,T=ut>>>13,S=0|p[9],Z=8191&S,le=S>>>13,De=0|x[0],Oe=8191&De,Qe=De>>>13,Nt=0|x[1],ft=8191&Nt,St=Nt>>>13,Lt=0|x[2],Gt=8191&Lt,Vt=Lt>>>13,zn=0|x[3],cn=8191&zn,Bt=zn>>>13,Dt=0|x[4],nt=8191&Dt,Ye=Dt>>>13,At=0|x[5],kt=8191&At,$t=At>>>13,Bn=0|x[6],et=8191&Bn,it=Bn>>>13,ot=0|x[7],He=8191&ot,ht=ot>>>13,sn=0|x[8],Kt=8191&sn,rn=sn>>>13,ir=0|x[9],pn=8191&ir,un=ir>>>13;m.negative=l.negative^h.negative,m.length=19;var ur=(B+(M=Math.imul(z,Oe))|0)+((8191&(d=(d=Math.imul(z,Qe))+Math.imul(Q,Oe)|0))<<13)|0;B=((v=Math.imul(Q,Qe))+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,M=Math.imul(xe,Oe),d=(d=Math.imul(xe,Qe))+Math.imul(Ie,Oe)|0,v=Math.imul(Ie,Qe);var Hn=(B+(M=M+Math.imul(z,ft)|0)|0)+((8191&(d=(d=d+Math.imul(z,St)|0)+Math.imul(Q,ft)|0))<<13)|0;B=((v=v+Math.imul(Q,St)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(ve,Oe),d=(d=Math.imul(ve,Qe))+Math.imul(ye,Oe)|0,v=Math.imul(ye,Qe),M=M+Math.imul(xe,ft)|0,d=(d=d+Math.imul(xe,St)|0)+Math.imul(Ie,ft)|0,v=v+Math.imul(Ie,St)|0;var Pn=(B+(M=M+Math.imul(z,Gt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Vt)|0)+Math.imul(Q,Gt)|0))<<13)|0;B=((v=v+Math.imul(Q,Vt)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(me,Oe),d=(d=Math.imul(me,Qe))+Math.imul(Ee,Oe)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(ve,ft)|0,d=(d=d+Math.imul(ve,St)|0)+Math.imul(ye,ft)|0,v=v+Math.imul(ye,St)|0,M=M+Math.imul(xe,Gt)|0,d=(d=d+Math.imul(xe,Vt)|0)+Math.imul(Ie,Gt)|0,v=v+Math.imul(Ie,Vt)|0;var Dn=(B+(M=M+Math.imul(z,cn)|0)|0)+((8191&(d=(d=d+Math.imul(z,Bt)|0)+Math.imul(Q,cn)|0))<<13)|0;B=((v=v+Math.imul(Q,Bt)|0)+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,M=Math.imul(he,Oe),d=(d=Math.imul(he,Qe))+Math.imul(ae,Oe)|0,v=Math.imul(ae,Qe),M=M+Math.imul(me,ft)|0,d=(d=d+Math.imul(me,St)|0)+Math.imul(Ee,ft)|0,v=v+Math.imul(Ee,St)|0,M=M+Math.imul(ve,Gt)|0,d=(d=d+Math.imul(ve,Vt)|0)+Math.imul(ye,Gt)|0,v=v+Math.imul(ye,Vt)|0,M=M+Math.imul(xe,cn)|0,d=(d=d+Math.imul(xe,Bt)|0)+Math.imul(Ie,cn)|0,v=v+Math.imul(Ie,Bt)|0;var qt=(B+(M=M+Math.imul(z,nt)|0)|0)+((8191&(d=(d=d+Math.imul(z,Ye)|0)+Math.imul(Q,nt)|0))<<13)|0;B=((v=v+Math.imul(Q,Ye)|0)+(d>>>13)|0)+(qt>>>26)|0,qt&=67108863,M=Math.imul(ge,Oe),d=(d=Math.imul(ge,Qe))+Math.imul(Ae,Oe)|0,v=Math.imul(Ae,Qe),M=M+Math.imul(he,ft)|0,d=(d=d+Math.imul(he,St)|0)+Math.imul(ae,ft)|0,v=v+Math.imul(ae,St)|0,M=M+Math.imul(me,Gt)|0,d=(d=d+Math.imul(me,Vt)|0)+Math.imul(Ee,Gt)|0,v=v+Math.imul(Ee,Vt)|0,M=M+Math.imul(ve,cn)|0,d=(d=d+Math.imul(ve,Bt)|0)+Math.imul(ye,cn)|0,v=v+Math.imul(ye,Bt)|0,M=M+Math.imul(xe,nt)|0,d=(d=d+Math.imul(xe,Ye)|0)+Math.imul(Ie,nt)|0,v=v+Math.imul(Ie,Ye)|0;var Yt=(B+(M=M+Math.imul(z,kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,$t)|0)+Math.imul(Q,kt)|0))<<13)|0;B=((v=v+Math.imul(Q,$t)|0)+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(Ve,Oe),d=(d=Math.imul(Ve,Qe))+Math.imul(ze,Oe)|0,v=Math.imul(ze,Qe),M=M+Math.imul(ge,ft)|0,d=(d=d+Math.imul(ge,St)|0)+Math.imul(Ae,ft)|0,v=v+Math.imul(Ae,St)|0,M=M+Math.imul(he,Gt)|0,d=(d=d+Math.imul(he,Vt)|0)+Math.imul(ae,Gt)|0,v=v+Math.imul(ae,Vt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Bt)|0)+Math.imul(Ee,cn)|0,v=v+Math.imul(Ee,Bt)|0,M=M+Math.imul(ve,nt)|0,d=(d=d+Math.imul(ve,Ye)|0)+Math.imul(ye,nt)|0,v=v+Math.imul(ye,Ye)|0,M=M+Math.imul(xe,kt)|0,d=(d=d+Math.imul(xe,$t)|0)+Math.imul(Ie,kt)|0,v=v+Math.imul(Ie,$t)|0;var Xn=(B+(M=M+Math.imul(z,et)|0)|0)+((8191&(d=(d=d+Math.imul(z,it)|0)+Math.imul(Q,et)|0))<<13)|0;B=((v=v+Math.imul(Q,it)|0)+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,M=Math.imul(qe,Oe),d=(d=Math.imul(qe,Qe))+Math.imul(je,Oe)|0,v=Math.imul(je,Qe),M=M+Math.imul(Ve,ft)|0,d=(d=d+Math.imul(Ve,St)|0)+Math.imul(ze,ft)|0,v=v+Math.imul(ze,St)|0,M=M+Math.imul(ge,Gt)|0,d=(d=d+Math.imul(ge,Vt)|0)+Math.imul(Ae,Gt)|0,v=v+Math.imul(Ae,Vt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Bt)|0)+Math.imul(ae,cn)|0,v=v+Math.imul(ae,Bt)|0,M=M+Math.imul(me,nt)|0,d=(d=d+Math.imul(me,Ye)|0)+Math.imul(Ee,nt)|0,v=v+Math.imul(Ee,Ye)|0,M=M+Math.imul(ve,kt)|0,d=(d=d+Math.imul(ve,$t)|0)+Math.imul(ye,kt)|0,v=v+Math.imul(ye,$t)|0,M=M+Math.imul(xe,et)|0,d=(d=d+Math.imul(xe,it)|0)+Math.imul(Ie,et)|0,v=v+Math.imul(Ie,it)|0;var $n=(B+(M=M+Math.imul(z,He)|0)|0)+((8191&(d=(d=d+Math.imul(z,ht)|0)+Math.imul(Q,He)|0))<<13)|0;B=((v=v+Math.imul(Q,ht)|0)+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul($,Oe),d=(d=Math.imul($,Qe))+Math.imul(T,Oe)|0,v=Math.imul(T,Qe),M=M+Math.imul(qe,ft)|0,d=(d=d+Math.imul(qe,St)|0)+Math.imul(je,ft)|0,v=v+Math.imul(je,St)|0,M=M+Math.imul(Ve,Gt)|0,d=(d=d+Math.imul(Ve,Vt)|0)+Math.imul(ze,Gt)|0,v=v+Math.imul(ze,Vt)|0,M=M+Math.imul(ge,cn)|0,d=(d=d+Math.imul(ge,Bt)|0)+Math.imul(Ae,cn)|0,v=v+Math.imul(Ae,Bt)|0,M=M+Math.imul(he,nt)|0,d=(d=d+Math.imul(he,Ye)|0)+Math.imul(ae,nt)|0,v=v+Math.imul(ae,Ye)|0,M=M+Math.imul(me,kt)|0,d=(d=d+Math.imul(me,$t)|0)+Math.imul(Ee,kt)|0,v=v+Math.imul(Ee,$t)|0,M=M+Math.imul(ve,et)|0,d=(d=d+Math.imul(ve,it)|0)+Math.imul(ye,et)|0,v=v+Math.imul(ye,it)|0,M=M+Math.imul(xe,He)|0,d=(d=d+Math.imul(xe,ht)|0)+Math.imul(Ie,He)|0,v=v+Math.imul(Ie,ht)|0;var yr=(B+(M=M+Math.imul(z,Kt)|0)|0)+((8191&(d=(d=d+Math.imul(z,rn)|0)+Math.imul(Q,Kt)|0))<<13)|0;B=((v=v+Math.imul(Q,rn)|0)+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(Z,Oe),d=(d=Math.imul(Z,Qe))+Math.imul(le,Oe)|0,v=Math.imul(le,Qe),M=M+Math.imul($,ft)|0,d=(d=d+Math.imul($,St)|0)+Math.imul(T,ft)|0,v=v+Math.imul(T,St)|0,M=M+Math.imul(qe,Gt)|0,d=(d=d+Math.imul(qe,Vt)|0)+Math.imul(je,Gt)|0,v=v+Math.imul(je,Vt)|0,M=M+Math.imul(Ve,cn)|0,d=(d=d+Math.imul(Ve,Bt)|0)+Math.imul(ze,cn)|0,v=v+Math.imul(ze,Bt)|0,M=M+Math.imul(ge,nt)|0,d=(d=d+Math.imul(ge,Ye)|0)+Math.imul(Ae,nt)|0,v=v+Math.imul(Ae,Ye)|0,M=M+Math.imul(he,kt)|0,d=(d=d+Math.imul(he,$t)|0)+Math.imul(ae,kt)|0,v=v+Math.imul(ae,$t)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(Ee,et)|0,v=v+Math.imul(Ee,it)|0,M=M+Math.imul(ve,He)|0,d=(d=d+Math.imul(ve,ht)|0)+Math.imul(ye,He)|0,v=v+Math.imul(ye,ht)|0,M=M+Math.imul(xe,Kt)|0,d=(d=d+Math.imul(xe,rn)|0)+Math.imul(Ie,Kt)|0,v=v+Math.imul(Ie,rn)|0;var hr=(B+(M=M+Math.imul(z,pn)|0)|0)+((8191&(d=(d=d+Math.imul(z,un)|0)+Math.imul(Q,pn)|0))<<13)|0;B=((v=v+Math.imul(Q,un)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(Z,ft),d=(d=Math.imul(Z,St))+Math.imul(le,ft)|0,v=Math.imul(le,St),M=M+Math.imul($,Gt)|0,d=(d=d+Math.imul($,Vt)|0)+Math.imul(T,Gt)|0,v=v+Math.imul(T,Vt)|0,M=M+Math.imul(qe,cn)|0,d=(d=d+Math.imul(qe,Bt)|0)+Math.imul(je,cn)|0,v=v+Math.imul(je,Bt)|0,M=M+Math.imul(Ve,nt)|0,d=(d=d+Math.imul(Ve,Ye)|0)+Math.imul(ze,nt)|0,v=v+Math.imul(ze,Ye)|0,M=M+Math.imul(ge,kt)|0,d=(d=d+Math.imul(ge,$t)|0)+Math.imul(Ae,kt)|0,v=v+Math.imul(Ae,$t)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(ae,et)|0,v=v+Math.imul(ae,it)|0,M=M+Math.imul(me,He)|0,d=(d=d+Math.imul(me,ht)|0)+Math.imul(Ee,He)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(ve,Kt)|0,d=(d=d+Math.imul(ve,rn)|0)+Math.imul(ye,Kt)|0,v=v+Math.imul(ye,rn)|0;var vr=(B+(M=M+Math.imul(xe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(xe,un)|0)+Math.imul(Ie,pn)|0))<<13)|0;B=((v=v+Math.imul(Ie,un)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(Z,Gt),d=(d=Math.imul(Z,Vt))+Math.imul(le,Gt)|0,v=Math.imul(le,Vt),M=M+Math.imul($,cn)|0,d=(d=d+Math.imul($,Bt)|0)+Math.imul(T,cn)|0,v=v+Math.imul(T,Bt)|0,M=M+Math.imul(qe,nt)|0,d=(d=d+Math.imul(qe,Ye)|0)+Math.imul(je,nt)|0,v=v+Math.imul(je,Ye)|0,M=M+Math.imul(Ve,kt)|0,d=(d=d+Math.imul(Ve,$t)|0)+Math.imul(ze,kt)|0,v=v+Math.imul(ze,$t)|0,M=M+Math.imul(ge,et)|0,d=(d=d+Math.imul(ge,it)|0)+Math.imul(Ae,et)|0,v=v+Math.imul(Ae,it)|0,M=M+Math.imul(he,He)|0,d=(d=d+Math.imul(he,ht)|0)+Math.imul(ae,He)|0,v=v+Math.imul(ae,ht)|0,M=M+Math.imul(me,Kt)|0,d=(d=d+Math.imul(me,rn)|0)+Math.imul(Ee,Kt)|0,v=v+Math.imul(Ee,rn)|0;var sr=(B+(M=M+Math.imul(ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ve,un)|0)+Math.imul(ye,pn)|0))<<13)|0;B=((v=v+Math.imul(ye,un)|0)+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,M=Math.imul(Z,cn),d=(d=Math.imul(Z,Bt))+Math.imul(le,cn)|0,v=Math.imul(le,Bt),M=M+Math.imul($,nt)|0,d=(d=d+Math.imul($,Ye)|0)+Math.imul(T,nt)|0,v=v+Math.imul(T,Ye)|0,M=M+Math.imul(qe,kt)|0,d=(d=d+Math.imul(qe,$t)|0)+Math.imul(je,kt)|0,v=v+Math.imul(je,$t)|0,M=M+Math.imul(Ve,et)|0,d=(d=d+Math.imul(Ve,it)|0)+Math.imul(ze,et)|0,v=v+Math.imul(ze,it)|0,M=M+Math.imul(ge,He)|0,d=(d=d+Math.imul(ge,ht)|0)+Math.imul(Ae,He)|0,v=v+Math.imul(Ae,ht)|0,M=M+Math.imul(he,Kt)|0,d=(d=d+Math.imul(he,rn)|0)+Math.imul(ae,Kt)|0,v=v+Math.imul(ae,rn)|0;var pr=(B+(M=M+Math.imul(me,pn)|0)|0)+((8191&(d=(d=d+Math.imul(me,un)|0)+Math.imul(Ee,pn)|0))<<13)|0;B=((v=v+Math.imul(Ee,un)|0)+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,M=Math.imul(Z,nt),d=(d=Math.imul(Z,Ye))+Math.imul(le,nt)|0,v=Math.imul(le,Ye),M=M+Math.imul($,kt)|0,d=(d=d+Math.imul($,$t)|0)+Math.imul(T,kt)|0,v=v+Math.imul(T,$t)|0,M=M+Math.imul(qe,et)|0,d=(d=d+Math.imul(qe,it)|0)+Math.imul(je,et)|0,v=v+Math.imul(je,it)|0,M=M+Math.imul(Ve,He)|0,d=(d=d+Math.imul(Ve,ht)|0)+Math.imul(ze,He)|0,v=v+Math.imul(ze,ht)|0,M=M+Math.imul(ge,Kt)|0,d=(d=d+Math.imul(ge,rn)|0)+Math.imul(Ae,Kt)|0,v=v+Math.imul(Ae,rn)|0;var kr=(B+(M=M+Math.imul(he,pn)|0)|0)+((8191&(d=(d=d+Math.imul(he,un)|0)+Math.imul(ae,pn)|0))<<13)|0;B=((v=v+Math.imul(ae,un)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(Z,kt),d=(d=Math.imul(Z,$t))+Math.imul(le,kt)|0,v=Math.imul(le,$t),M=M+Math.imul($,et)|0,d=(d=d+Math.imul($,it)|0)+Math.imul(T,et)|0,v=v+Math.imul(T,it)|0,M=M+Math.imul(qe,He)|0,d=(d=d+Math.imul(qe,ht)|0)+Math.imul(je,He)|0,v=v+Math.imul(je,ht)|0,M=M+Math.imul(Ve,Kt)|0,d=(d=d+Math.imul(Ve,rn)|0)+Math.imul(ze,Kt)|0,v=v+Math.imul(ze,rn)|0;var Tr=(B+(M=M+Math.imul(ge,pn)|0)|0)+((8191&(d=(d=d+Math.imul(ge,un)|0)+Math.imul(Ae,pn)|0))<<13)|0;B=((v=v+Math.imul(Ae,un)|0)+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,et),d=(d=Math.imul(Z,it))+Math.imul(le,et)|0,v=Math.imul(le,it),M=M+Math.imul($,He)|0,d=(d=d+Math.imul($,ht)|0)+Math.imul(T,He)|0,v=v+Math.imul(T,ht)|0,M=M+Math.imul(qe,Kt)|0,d=(d=d+Math.imul(qe,rn)|0)+Math.imul(je,Kt)|0,v=v+Math.imul(je,rn)|0;var jr=(B+(M=M+Math.imul(Ve,pn)|0)|0)+((8191&(d=(d=d+Math.imul(Ve,un)|0)+Math.imul(ze,pn)|0))<<13)|0;B=((v=v+Math.imul(ze,un)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(Z,He),d=(d=Math.imul(Z,ht))+Math.imul(le,He)|0,v=Math.imul(le,ht),M=M+Math.imul($,Kt)|0,d=(d=d+Math.imul($,rn)|0)+Math.imul(T,Kt)|0,v=v+Math.imul(T,rn)|0;var Ir=(B+(M=M+Math.imul(qe,pn)|0)|0)+((8191&(d=(d=d+Math.imul(qe,un)|0)+Math.imul(je,pn)|0))<<13)|0;B=((v=v+Math.imul(je,un)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,M=Math.imul(Z,Kt),d=(d=Math.imul(Z,rn))+Math.imul(le,Kt)|0,v=Math.imul(le,rn);var Ot=(B+(M=M+Math.imul($,pn)|0)|0)+((8191&(d=(d=d+Math.imul($,un)|0)+Math.imul(T,pn)|0))<<13)|0;B=((v=v+Math.imul(T,un)|0)+(d>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Wt=(B+(M=Math.imul(Z,pn))|0)+((8191&(d=(d=Math.imul(Z,un))+Math.imul(le,pn)|0))<<13)|0;return B=((v=Math.imul(le,un))+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D[0]=ur,D[1]=Hn,D[2]=Pn,D[3]=Dn,D[4]=qt,D[5]=Yt,D[6]=Xn,D[7]=$n,D[8]=yr,D[9]=hr,D[10]=vr,D[11]=sr,D[12]=pr,D[13]=kr,D[14]=Tr,D[15]=jr,D[16]=Ir,D[17]=Ot,D[18]=Wt,0!==B&&(D[19]=B,m.length++),m};function q(k,l,h){return(new J).mulp(k,l,h)}function J(k,l){this.x=k,this.y=l}Math.imul||(te=G),_.prototype.mulTo=function(l,h){var m,p=this.length+l.length;return m=10===this.length&&10===l.length?te(this,l,h):p<63?G(this,l,h):p<1024?function ee(k,l,h){h.negative=l.negative^k.negative,h.length=k.length+l.length;for(var m=0,p=0,x=0;x<h.length-1;x++){var D=p;p=0;for(var B=67108863&m,M=Math.min(x,l.length-1),d=Math.max(0,x-k.length+1);d<=M;d++){var Q=(0|k.words[x-d])*(0|l.words[d]),de=67108863&Q;B=67108863&(de=de+B|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}h.words[x]=B,m=D,D=p}return 0!==m?h.words[x]=m:h.length--,h.strip()}(this,l,h):q(this,l,h),m},J.prototype.makeRBT=function(l){for(var h=new Array(l),m=_.prototype._countBits(l)-1,p=0;p<l;p++)h[p]=this.revBin(p,m,l);return h},J.prototype.revBin=function(l,h,m){if(0===l||l===m-1)return l;for(var p=0,x=0;x<h;x++)p|=(1&l)<<h-x-1,l>>=1;return p},J.prototype.permute=function(l,h,m,p,x,D){for(var B=0;B<D;B++)p[B]=h[l[B]],x[B]=m[l[B]]},J.prototype.transform=function(l,h,m,p,x,D){this.permute(D,l,h,m,p,x);for(var B=1;B<x;B<<=1)for(var M=B<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<x;W+=M)for(var z=d,Q=v,de=0;de<B;de++){var xe=m[W+de],Ie=p[W+de],Le=m[W+de+B],ve=p[W+de+B],ye=z*Le-Q*ve;ve=z*ve+Q*Le,m[W+de]=xe+(Le=ye),p[W+de]=Ie+ve,m[W+de+B]=xe-Le,p[W+de+B]=Ie-ve,de!==M&&(ye=d*z-v*Q,Q=d*Q+v*z,z=ye)}},J.prototype.guessLen13b=function(l,h){var m=1|Math.max(h,l),p=1&m,x=0;for(m=m/2|0;m;m>>>=1)x++;return 1<<x+1+p},J.prototype.conjugate=function(l,h,m){if(!(m<=1))for(var p=0;p<m/2;p++){var x=l[p];l[p]=l[m-p-1],l[m-p-1]=x,x=h[p],h[p]=-h[m-p-1],h[m-p-1]=-x}},J.prototype.normalize13b=function(l,h){for(var m=0,p=0;p<h/2;p++){var x=8192*Math.round(l[2*p+1]/h)+Math.round(l[2*p]/h)+m;l[p]=67108863&x,m=x<67108864?0:x/67108864|0}return l},J.prototype.convert13b=function(l,h,m,p){for(var x=0,D=0;D<h;D++)m[2*D]=8191&(x+=0|l[D]),m[2*D+1]=8191&(x>>>=13),x>>>=13;for(D=2*h;D<p;++D)m[D]=0;O(0===x),O(!(-8192&x))},J.prototype.stub=function(l){for(var h=new Array(l),m=0;m<l;m++)h[m]=0;return h},J.prototype.mulp=function(l,h,m){var p=2*this.guessLen13b(l.length,h.length),x=this.makeRBT(p),D=this.stub(p),B=new Array(p),M=new Array(p),d=new Array(p),v=new Array(p),W=new Array(p),z=new Array(p),Q=m.words;Q.length=p,this.convert13b(l.words,l.length,B,p),this.convert13b(h.words,h.length,v,p),this.transform(B,D,M,d,p,x),this.transform(v,D,W,z,p,x);for(var de=0;de<p;de++){var xe=M[de]*W[de]-d[de]*z[de];d[de]=M[de]*z[de]+d[de]*W[de],M[de]=xe}return this.conjugate(M,d,p),this.transform(M,d,Q,D,p,x),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=l.negative^h.negative,m.length=l.length+h.length,m.strip()},_.prototype.mul=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},_.prototype.mulf=function(l){var h=new _(null);return h.words=new Array(this.length+l.length),q(this,l,h)},_.prototype.imul=function(l){return this.clone().mulTo(l,this)},_.prototype.imuln=function(l){O("number"==typeof l),O(l<67108864);for(var h=0,m=0;m<this.length;m++){var p=(0|this.words[m])*l,x=(67108863&p)+(67108863&h);h>>=26,h+=p/67108864|0,h+=x>>>26,this.words[m]=67108863&x}return 0!==h&&(this.words[m]=h,this.length++),this},_.prototype.muln=function(l){return this.clone().imuln(l)},_.prototype.sqr=function(){return this.mul(this)},_.prototype.isqr=function(){return this.imul(this.clone())},_.prototype.pow=function(l){var h=function j(k){for(var l=new Array(k.bitLength()),h=0;h<l.length;h++){var p=h%26;l[h]=(k.words[h/26|0]&1<<p)>>>p}return l}(l);if(0===h.length)return new _(1);for(var m=this,p=0;p<h.length&&0===h[p];p++,m=m.sqr());if(++p<h.length)for(var x=m.sqr();p<h.length;p++,x=x.sqr())0!==h[p]&&(m=m.mul(x));return m},_.prototype.iushln=function(l){O("number"==typeof l&&l>=0);var x,h=l%26,m=(l-h)/26,p=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(x=0;x<this.length;x++){var B=this.words[x]&p;this.words[x]=(0|this.words[x])-B<<h|D,D=B>>>26-h}D&&(this.words[x]=D,this.length++)}if(0!==m){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this.strip()},_.prototype.ishln=function(l){return O(0===this.negative),this.iushln(l)},_.prototype.iushrn=function(l,h,m){var p;O("number"==typeof l&&l>=0),p=h?(h-h%26)/26:0;var x=l%26,D=Math.min((l-x)/26,this.length),B=67108863^67108863>>>x<<x,M=m;if(p-=D,p=Math.max(0,p),M){for(var d=0;d<D;d++)M.words[d]=this.words[d];M.length=D}if(0!==D)if(this.length>D)for(this.length-=D,d=0;d<this.length;d++)this.words[d]=this.words[d+D];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=p);d--){var W=0|this.words[d];this.words[d]=v<<26-x|W>>>x,v=W&B}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},_.prototype.ishrn=function(l,h,m){return O(0===this.negative),this.iushrn(l,h,m)},_.prototype.shln=function(l){return this.clone().ishln(l)},_.prototype.ushln=function(l){return this.clone().iushln(l)},_.prototype.shrn=function(l){return this.clone().ishrn(l)},_.prototype.ushrn=function(l){return this.clone().iushrn(l)},_.prototype.testn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return!(this.length<=m||!(this.words[m]&1<<h))},_.prototype.imaskn=function(l){O("number"==typeof l&&l>=0);var h=l%26,m=(l-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==h&&m++,this.length=Math.min(m,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},_.prototype.maskn=function(l){return this.clone().imaskn(l)},_.prototype.iaddn=function(l){return O("number"==typeof l),O(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},_.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},_.prototype.isubn=function(l){if(O("number"==typeof l),O(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},_.prototype.addn=function(l){return this.clone().iaddn(l)},_.prototype.subn=function(l){return this.clone().isubn(l)},_.prototype.iabs=function(){return this.negative=0,this},_.prototype.abs=function(){return this.clone().iabs()},_.prototype._ishlnsubmul=function(l,h,m){var x;this._expand(l.length+m);var D,B=0;for(x=0;x<l.length;x++){D=(0|this.words[x+m])+B;var M=(0|l.words[x])*h;B=((D-=67108863&M)>>26)-(M/67108864|0),this.words[x+m]=67108863&D}for(;x<this.length-m;x++)B=(D=(0|this.words[x+m])+B)>>26,this.words[x+m]=67108863&D;if(0===B)return this.strip();for(O(-1===B),B=0,x=0;x<this.length;x++)B=(D=-(0|this.words[x])+B)>>26,this.words[x]=67108863&D;return this.negative=1,this.strip()},_.prototype._wordDiv=function(l,h){var m,p=this.clone(),x=l,D=0|x.words[x.length-1];0!=(m=26-this._countBits(D))&&(x=x.ushln(m),p.iushln(m),D=0|x.words[x.length-1]);var d,M=p.length-x.length;if("mod"!==h){(d=new _(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=p.clone()._ishlnsubmul(x,1,M);0===W.negative&&(p=W,d&&(d.words[M]=1));for(var z=M-1;z>=0;z--){var Q=67108864*(0|p.words[x.length+z])+(0|p.words[x.length+z-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(x,Q,z);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(x,1,z),p.isZero()||(p.negative^=1);d&&(d.words[z]=Q)}return d&&d.strip(),p.strip(),"div"!==h&&0!==m&&p.iushrn(m),{div:d||null,mod:p}},_.prototype.divmod=function(l,h,m){return O(!l.isZero()),this.isZero()?{div:new _(0),mod:new _(0)}:0!==this.negative&&0===l.negative?(D=this.neg().divmod(l,h),"mod"!==h&&(p=D.div.neg()),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.iadd(l)),{div:p,mod:x}):0===this.negative&&0!==l.negative?(D=this.divmod(l.neg(),h),"mod"!==h&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&l.negative?(D=this.neg().divmod(l.neg(),h),"div"!==h&&(x=D.mod.neg(),m&&0!==x.negative&&x.isub(l)),{div:D.div,mod:x}):l.length>this.length||this.cmp(l)<0?{div:new _(0),mod:this}:1===l.length?"div"===h?{div:this.divn(l.words[0]),mod:null}:"mod"===h?{div:null,mod:new _(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new _(this.modn(l.words[0]))}:this._wordDiv(l,h);var p,x,D},_.prototype.div=function(l){return this.divmod(l,"div",!1).div},_.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},_.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},_.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var m=0!==h.div.negative?h.mod.isub(l):h.mod,p=l.ushrn(1),x=l.andln(1),D=m.cmp(p);return D<0||1===x&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},_.prototype.modn=function(l){O(l<=67108863);for(var h=(1<<26)%l,m=0,p=this.length-1;p>=0;p--)m=(h*m+(0|this.words[p]))%l;return m},_.prototype.idivn=function(l){O(l<=67108863);for(var h=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*h;this.words[m]=p/l|0,h=p%l}return this.strip()},_.prototype.divn=function(l){return this.clone().idivn(l)},_.prototype.egcd=function(l){O(0===l.negative),O(!l.isZero());var h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=new _(0),B=new _(1),M=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++M;for(var d=m.clone(),v=h.clone();!h.isZero();){for(var W=0,z=1;!(h.words[0]&z)&&W<26;++W,z<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(d),x.isub(v)),p.iushrn(1),x.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||B.isOdd())&&(D.iadd(d),B.isub(v)),D.iushrn(1),B.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(D),x.isub(B)):(m.isub(h),D.isub(p),B.isub(x))}return{a:D,b:B,gcd:m.iushln(M)}},_.prototype._invmp=function(l){O(0===l.negative),O(!l.isZero());var W,h=this,m=l.clone();h=0!==h.negative?h.umod(l):h.clone();for(var p=new _(1),x=new _(0),D=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var B=0,M=1;!(h.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(h.iushrn(B);B-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var d=0,v=1;!(m.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(D),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),p.isub(x)):(m.isub(h),x.isub(p))}return(W=0===h.cmpn(1)?p:x).cmpn(0)<0&&W.iadd(l),W},_.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),m=l.clone();h.negative=0,m.negative=0;for(var p=0;h.isEven()&&m.isEven();p++)h.iushrn(1),m.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var D=h;h=m,m=D}else if(0===x||0===m.cmpn(1))break;h.isub(m)}return m.iushln(p)},_.prototype.invm=function(l){return this.egcd(l).a.umod(l)},_.prototype.isEven=function(){return!(1&this.words[0])},_.prototype.isOdd=function(){return!(1&~this.words[0])},_.prototype.andln=function(l){return this.words[0]&l},_.prototype.bincn=function(l){O("number"==typeof l);var h=l%26,m=(l-h)/26,p=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var x=p,D=m;0!==x&&D<this.length;D++){var B=0|this.words[D];x=(B+=x)>>>26,this.words[D]=B&=67108863}return 0!==x&&(this.words[D]=x,this.length++),this},_.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},_.prototype.cmpn=function(l){var m,h=l<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)m=1;else{h&&(l=-l),O(l<=67108863,"Number is too big");var p=0|this.words[0];m=p===l?0:p<l?-1:1}return 0!==this.negative?0|-m:m},_.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var h=this.ucmp(l);return 0!==this.negative?0|-h:h},_.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],x=0|l.words[m];if(p!==x){p<x?h=-1:p>x&&(h=1);break}}return h},_.prototype.gtn=function(l){return 1===this.cmpn(l)},_.prototype.gt=function(l){return 1===this.cmp(l)},_.prototype.gten=function(l){return this.cmpn(l)>=0},_.prototype.gte=function(l){return this.cmp(l)>=0},_.prototype.ltn=function(l){return-1===this.cmpn(l)},_.prototype.lt=function(l){return-1===this.cmp(l)},_.prototype.lten=function(l){return this.cmpn(l)<=0},_.prototype.lte=function(l){return this.cmp(l)<=0},_.prototype.eqn=function(l){return 0===this.cmpn(l)},_.prototype.eq=function(l){return 0===this.cmp(l)},_.red=function(l){return new we(l)},_.prototype.toRed=function(l){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},_.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_.prototype._forceRed=function(l){return this.red=l,this},_.prototype.forceRed=function(l){return O(!this.red,"Already a number in reduction context"),this._forceRed(l)},_.prototype.redAdd=function(l){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},_.prototype.redIAdd=function(l){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},_.prototype.redSub=function(l){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},_.prototype.redISub=function(l){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},_.prototype.redShl=function(l){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},_.prototype.redMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},_.prototype.redIMul=function(l){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},_.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_.prototype.redPow=function(l){return O(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ne={k256:null,p224:null,p192:null,p25519:null};function ie(k,l){this.name=k,this.p=new _(l,16),this.n=this.p.bitLength(),this.k=new _(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function re(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ce(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var l=_._prime(k);this.m=l.p,this.prime=l}else O(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function Me(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var l=new _(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m,h=l;do{this.split(h,this.tmp),m=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:h.ucmp(this.p);return 0===p?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},ie.prototype.split=function(l,h){l.iushrn(this.n,0,h)},ie.prototype.imulK=function(l){return l.imul(this.k)},X(re,ie),re.prototype.split=function(l,h){for(var m=4194303,p=Math.min(l.length,9),x=0;x<p;x++)h.words[x]=l.words[x];if(h.length=p,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(h.words[h.length++]=D&m,x=10;x<l.length;x++){var B=0|l.words[x];l.words[x-10]=(B&m)<<4|D>>>22,D=B}l.words[x-10]=D>>>=22,l.length-=0===D&&l.length>10?10:9},re.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,m=0;m<l.length;m++){var p=0|l.words[m];l.words[m]=67108863&(h+=977*p),h=64*p+(h/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},X(ce,ie),X(se,ie),X(pe,ie),pe.prototype.imulK=function(l){for(var h=0,m=0;m<l.length;m++){var p=19*(0|l.words[m])+h,x=67108863&p;p>>>=26,l.words[m]=x,h=p}return 0!==h&&(l.words[l.length++]=h),l},_._prime=function(l){if(ne[l])return ne[l];var h;if("k256"===l)h=new re;else if("p224"===l)h=new ce;else if("p192"===l)h=new se;else{if("p25519"!==l)throw new Error("Unknown prime "+l);h=new pe}return ne[l]=h,h},we.prototype._verify1=function(l){O(0===l.negative,"red works only with positives"),O(l.red,"red works only with red numbers")},we.prototype._verify2=function(l,h){O(!(l.negative|h.negative),"red works only with positives"),O(l.red&&l.red===h.red,"red works only with red numbers")},we.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},we.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},we.prototype.add=function(l,h){this._verify2(l,h);var m=l.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},we.prototype.iadd=function(l,h){this._verify2(l,h);var m=l.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},we.prototype.sub=function(l,h){this._verify2(l,h);var m=l.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},we.prototype.isub=function(l,h){this._verify2(l,h);var m=l.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},we.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},we.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},we.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},we.prototype.isqr=function(l){return this.imul(l,l.clone())},we.prototype.sqr=function(l){return this.mul(l,l)},we.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var m=this.m.add(new _(1)).iushrn(2);return this.pow(l,m)}for(var p=this.m.subn(1),x=0;!p.isZero()&&0===p.andln(1);)x++,p.iushrn(1);O(!p.isZero());var D=new _(1).toRed(this),B=D.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new _(2*d*d).toRed(this);0!==this.pow(d,M).cmp(B);)d.redIAdd(B);for(var v=this.pow(d,p),W=this.pow(l,p.addn(1).iushrn(1)),z=this.pow(l,p),Q=x;0!==z.cmp(D);){for(var de=z,xe=0;0!==de.cmp(D);xe++)de=de.redSqr();O(xe<Q);var Ie=this.pow(v,new _(1).iushln(Q-xe-1));W=W.redMul(Ie),v=Ie.redSqr(),z=z.redMul(v),Q=xe}return W},we.prototype.invm=function(l){var h=l._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(l,h){if(h.isZero())return new _(1).toRed(this);if(0===h.cmpn(1))return l.clone();var p=new Array(16);p[0]=new _(1).toRed(this),p[1]=l;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],l);var D=p[0],B=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),x=h.length-1;x>=0;x--){for(var v=h.words[x],W=d-1;W>=0;W--){var z=v>>W&1;D!==p[0]&&(D=this.sqr(D)),0!==z||0!==B?(B<<=1,B|=z,(4==++M||0===x&&0===W)&&(D=this.mul(D,p[B]),M=0,B=0)):M=0}d=26}return D},we.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},we.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},_.mont=function(l){return new Me(l)},X(Me,we),Me.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Me.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},Me.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new _(0)._forceRed(this);var m=l.mul(h),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(p).iushrn(this.shift),D=x;return x.cmp(this.m)>=0?D=x.isub(this.m):x.cmpn(0)<0&&(D=x.iadd(this.m)),D._forceRed(this)},Me.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ne=E.nmd(Ne),this)},98613:(Ne,V,E)=>{var g=E(65667),w=E(30715),O=E(37196),X=E(16508),_=E(14105),R=E(67211),A=E(10568),N=E(27054).Buffer;Ne.exports=function(j,G,te){var ee;ee=j.padding?j.padding:te?1:4;var ne,q=g(j),J=q.modulus.byteLength();if(G.length>J||new X(G).cmp(q.modulus)>=0)throw new Error("decryption error");ne=te?A(new X(G),q):_(G,q);var ie=N.alloc(J-ne.length);if(ne=N.concat([ie,ne],J),4===ee)return function L(Y,j){var G=Y.modulus.byteLength(),te=R("sha1").update(N.alloc(0)).digest(),ee=te.length;if(0!==j[0])throw new Error("decryption error");var q=j.slice(1,ee+1),J=j.slice(ee+1),ne=O(q,w(J,ee)),ie=O(J,w(ne,G-ee-1));if(function C(Y,j){Y=N.from(Y),j=N.from(j);var G=0,te=Y.length;Y.length!==j.length&&(G++,te=Math.min(Y.length,j.length));for(var ee=-1;++ee<te;)G+=Y[ee]^j[ee];return G}(te,ie.slice(0,ee)))throw new Error("decryption error");for(var re=ee;0===ie[re];)re++;if(1!==ie[re++])throw new Error("decryption error");return ie.slice(re)}(q,ne);if(1===ee)return function F(Y,j,G){for(var te=j.slice(0,2),ee=2,q=0;0!==j[ee++];)if(ee>=j.length){q++;break}var J=j.slice(2,ee-1);if(("0002"!==te.toString("hex")&&!G||"0001"!==te.toString("hex")&&G)&&q++,J.length<8&&q++,q)throw new Error("decryption error");return j.slice(ee)}(0,ne,te);if(3===ee)return ne;throw new Error("unknown padding")}},87267:(Ne,V,E)=>{var g=E(65667),w=E(3342),O=E(67211),X=E(30715),_=E(37196),R=E(16508),A=E(10568),N=E(14105),L=E(27054).Buffer;Ne.exports=function(G,te,ee){var q;q=G.padding?G.padding:ee?1:4;var ne,J=g(G);if(4===q)ne=function F(j,G){var te=j.modulus.byteLength(),ee=G.length,q=O("sha1").update(L.alloc(0)).digest(),J=q.length,ne=2*J;if(ee>te-ne-2)throw new Error("message too long");var ie=L.alloc(te-ee-ne-2),re=te-J-1,ce=w(J),se=_(L.concat([q,ie,L.alloc(1,1),G],re),X(ce,re)),pe=_(ce,X(se,J));return new R(L.concat([L.alloc(1),pe,se],te))}(J,te);else if(1===q)ne=function C(j,G,te){var J,ee=G.length,q=j.modulus.byteLength();if(ee>q-11)throw new Error("message too long");return J=te?L.alloc(q-ee-3,255):function Y(j){for(var J,G=L.allocUnsafe(j),te=0,ee=w(2*j),q=0;te<j;)q===ee.length&&(ee=w(2*j),q=0),(J=ee[q++])&&(G[te++]=J);return G}(q-ee-3),new R(L.concat([L.from([0,te?1:2]),J,L.alloc(1),G],q))}(J,te,ee);else{if(3!==q)throw new Error("unknown padding");if((ne=new R(te)).cmp(J.modulus)>=0)throw new Error("data too long for modulus")}return ee?N(ne,J):A(ne,J)}},10568:(Ne,V,E)=>{var g=E(16508),w=E(27054).Buffer;Ne.exports=function O(X,_){return w.from(X.toRed(g.mont(_.modulus)).redPow(new g(_.publicExponent)).fromRed().toArray())}},37196:Ne=>{Ne.exports=function(E,g){for(var w=E.length,O=-1;++O<w;)E[O]^=g[O];return E}},24515:Ne=>{let V;Ne.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):E=>(V||(V=Promise.resolve())).then(E).catch(g=>setTimeout(()=>{throw g},0))},3342:(Ne,V,E)=>{"use strict";var g=E(40573),w=65536,_=E(27054).Buffer,R=globalThis.crypto||globalThis.msCrypto;Ne.exports=R&&R.getRandomValues?function A(N,L){if(N>4294967295)throw new RangeError("requested too many random bytes");var F=_.allocUnsafe(N);if(N>0)if(N>w)for(var C=0;C<N;C+=w)R.getRandomValues(F.slice(C,C+w));else R.getRandomValues(F);return"function"==typeof L?g.nextTick(function(){L(null,F)}):F}:function X(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(Ne,V,E)=>{"use strict";var g=E(40573);function w(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var O=E(27054),X=E(3342),_=O.Buffer,R=O.kMaxLength,A=globalThis.crypto||globalThis.msCrypto,N=Math.pow(2,32)-1;function L(G,te){if("number"!=typeof G||G!=G)throw new TypeError("offset must be a number");if(G>N||G<0)throw new TypeError("offset must be a uint32");if(G>R||G>te)throw new RangeError("offset out of range")}function F(G,te,ee){if("number"!=typeof G||G!=G)throw new TypeError("size must be a number");if(G>N||G<0)throw new TypeError("size must be a uint32");if(G+te>ee||G>R)throw new RangeError("buffer too small")}function Y(G,te,ee,q){if(g.browser){var ne=new Uint8Array(G.buffer,te,ee);return A.getRandomValues(ne),q?void g.nextTick(function(){q(null,G)}):G}if(!q)return X(ee).copy(G,te),G;X(ee,function(re,ce){if(re)return q(re);ce.copy(G,te),q(null,G)})}A&&A.getRandomValues||!g.browser?(V.randomFill=function C(G,te,ee,q){if(!(_.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof te)q=te,te=0,ee=G.length;else if("function"==typeof ee)q=ee,ee=G.length-te;else if("function"!=typeof q)throw new TypeError('"cb" argument must be a function');return L(te,G.length),F(ee,te,G.length),Y(G,te,ee,q)},V.randomFillSync=function j(G,te,ee){if(typeof te>"u"&&(te=0),!(_.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return L(te,G.length),void 0===ee&&(ee=G.length-te),F(ee,te,G.length),Y(G,te,ee)}):(V.randomFill=w,V.randomFillSync=w)},26113:Ne=>{"use strict";var E={};function g(R,A,N){N||(N=Error);var F=function(C){function Y(j,G,te){return C.call(this,function L(C,Y,j){return"string"==typeof A?A:A(C,Y,j)}(j,G,te))||this}return function V(R,A){R.prototype=Object.create(A.prototype),R.prototype.constructor=R,R.__proto__=A}(Y,C),Y}(N);F.prototype.name=N.name,F.prototype.code=R,E[R]=F}function w(R,A){if(Array.isArray(R)){var N=R.length;return R=R.map(function(L){return String(L)}),N>2?"one of ".concat(A," ").concat(R.slice(0,N-1).join(", "),", or ")+R[N-1]:2===N?"one of ".concat(A," ").concat(R[0]," or ").concat(R[1]):"of ".concat(A," ").concat(R[0])}return"of ".concat(A," ").concat(String(R))}g("ERR_INVALID_OPT_VALUE",function(R,A){return'The value "'+A+'" is invalid for option "'+R+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(R,A,N){var L,F;if("string"==typeof A&&function O(R,A,N){return R.substr(!N||N<0?0:+N,A.length)===A}(A,"not ")?(L="must not be",A=A.replace(/^not /,"")):L="must be",function X(R,A,N){return(void 0===N||N>R.length)&&(N=R.length),R.substring(N-A.length,N)===A}(R," argument"))F="The ".concat(R," ").concat(L," ").concat(w(A,"type"));else{var C=function _(R,A,N){return"number"!=typeof N&&(N=0),!(N+A.length>R.length)&&-1!==R.indexOf(A,N)}(R,".")?"property":"argument";F='The "'.concat(R,'" ').concat(C," ").concat(L," ").concat(w(A,"type"))}return F+". Received type ".concat(typeof N)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(R){return"The "+R+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(R){return"Cannot call "+R+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(R){return"Unknown encoding: "+R},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ne.exports.F=E},74075:(Ne,V,E)=>{"use strict";var g=E(40573),w=Object.keys||function(C){var Y=[];for(var j in C)Y.push(j);return Y};Ne.exports=N;var O=E(19609),X=E(47849);E(71993)(N,O);for(var _=w(X.prototype),R=0;R<_.length;R++){var A=_[R];N.prototype[A]||(N.prototype[A]=X.prototype[A])}function N(C){if(!(this instanceof N))return new N(C);O.call(this,C),X.call(this,C),this.allowHalfOpen=!0,C&&(!1===C.readable&&(this.readable=!1),!1===C.writable&&(this.writable=!1),!1===C.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",L)))}function L(){this._writableState.ended||g.nextTick(F,this)}function F(C){C.end()}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Y){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=Y,this._writableState.destroyed=Y)}})},18823:(Ne,V,E)=>{"use strict";Ne.exports=w;var g=E(2909);function w(O){if(!(this instanceof w))return new w(O);g.call(this,O)}E(71993)(w,g),w.prototype._transform=function(O,X,_){_(null,O)}},19609:(Ne,V,E)=>{"use strict";var w,g=E(40573);Ne.exports=l,l.ReadableState=k,E(44356);var C,X=function(he,ae){return he.listeners(ae).length},_=E(18342),R=E(83838).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},F=E(79838);C=F&&F.debuglog?F.debuglog("stream"):function(){};var re,ce,se,Y=E(19588),j=E(21509),te=E(42934).getHighWaterMark,ee=E(26113).F,q=ee.ERR_INVALID_ARG_TYPE,J=ee.ERR_STREAM_PUSH_AFTER_EOF,ne=ee.ERR_METHOD_NOT_IMPLEMENTED,ie=ee.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(71993)(l,_);var pe=j.errorOrDestroy,we=["error","close","destroy","pause","resume"];function k(fe,he,ae){w=w||E(74075),"boolean"!=typeof ae&&(ae=he instanceof w),this.objectMode=!!(fe=fe||{}).objectMode,ae&&(this.objectMode=this.objectMode||!!fe.readableObjectMode),this.highWaterMark=te(this,fe,"readableHighWaterMark",ae),this.buffer=new Y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==fe.emitClose,this.autoDestroy=!!fe.autoDestroy,this.destroyed=!1,this.defaultEncoding=fe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,fe.encoding&&(re||(re=E(78454).StringDecoder),this.decoder=new re(fe.encoding),this.encoding=fe.encoding)}function l(fe){if(w=w||E(74075),!(this instanceof l))return new l(fe);this._readableState=new k(fe,this,this instanceof w),this.readable=!0,fe&&("function"==typeof fe.read&&(this._read=fe.read),"function"==typeof fe.destroy&&(this._destroy=fe.destroy)),_.call(this)}function h(fe,he,ae,ue,ge){C("readableAddChunk",he);var Ue,Ae=fe._readableState;if(null===he)Ae.reading=!1,function M(fe,he){if(C("onEofChunk"),!he.ended){if(he.decoder){var ae=he.decoder.end();ae&&ae.length&&(he.buffer.push(ae),he.length+=he.objectMode?1:ae.length)}he.ended=!0,he.sync?d(fe):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,v(fe)))}}(fe,Ae);else if(ge||(Ue=function p(fe,he){var ae;return!function L(fe){return R.isBuffer(fe)||fe instanceof A}(he)&&"string"!=typeof he&&void 0!==he&&!fe.objectMode&&(ae=new q("chunk",["string","Buffer","Uint8Array"],he)),ae}(Ae,he)),Ue)pe(fe,Ue);else if(Ae.objectMode||he&&he.length>0)if("string"!=typeof he&&!Ae.objectMode&&Object.getPrototypeOf(he)!==R.prototype&&(he=function N(fe){return R.from(fe)}(he)),ue)Ae.endEmitted?pe(fe,new ie):m(fe,Ae,he,!0);else if(Ae.ended)pe(fe,new J);else{if(Ae.destroyed)return!1;Ae.reading=!1,Ae.decoder&&!ae?(he=Ae.decoder.write(he),Ae.objectMode||0!==he.length?m(fe,Ae,he,!1):W(fe,Ae)):m(fe,Ae,he,!1)}else ue||(Ae.reading=!1,W(fe,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function m(fe,he,ae,ue){he.flowing&&0===he.length&&!he.sync?(he.awaitDrain=0,fe.emit("data",ae)):(he.length+=he.objectMode?1:ae.length,ue?he.buffer.unshift(ae):he.buffer.push(ae),he.needReadable&&d(fe)),W(fe,he)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(he){this._readableState&&(this._readableState.destroyed=he)}}),l.prototype.destroy=j.destroy,l.prototype._undestroy=j.undestroy,l.prototype._destroy=function(fe,he){he(fe)},l.prototype.push=function(fe,he){var ue,ae=this._readableState;return ae.objectMode?ue=!0:"string"==typeof fe&&((he=he||ae.defaultEncoding)!==ae.encoding&&(fe=R.from(fe,he),he=""),ue=!0),h(this,fe,he,!1,ue)},l.prototype.unshift=function(fe){return h(this,fe,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(fe){re||(re=E(78454).StringDecoder);var he=new re(fe);this._readableState.decoder=he,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,ue="";null!==ae;)ue+=he.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),""!==ue&&this._readableState.buffer.push(ue),this._readableState.length=ue.length,this};var x=1073741824;function B(fe,he){return fe<=0||0===he.length&&he.ended?0:he.objectMode?1:fe!=fe?he.flowing&&he.length?he.buffer.head.data.length:he.length:(fe>he.highWaterMark&&(he.highWaterMark=function D(fe){return fe>=x?fe=x:(fe--,fe|=fe>>>1,fe|=fe>>>2,fe|=fe>>>4,fe|=fe>>>8,fe|=fe>>>16,fe++),fe}(fe)),fe<=he.length?fe:he.ended?he.length:(he.needReadable=!0,0))}function d(fe){var he=fe._readableState;C("emitReadable",he.needReadable,he.emittedReadable),he.needReadable=!1,he.emittedReadable||(C("emitReadable",he.flowing),he.emittedReadable=!0,g.nextTick(v,fe))}function v(fe){var he=fe._readableState;C("emitReadable_",he.destroyed,he.length,he.ended),!he.destroyed&&(he.length||he.ended)&&(fe.emit("readable"),he.emittedReadable=!1),he.needReadable=!he.flowing&&!he.ended&&he.length<=he.highWaterMark,ve(fe)}function W(fe,he){he.readingMore||(he.readingMore=!0,g.nextTick(z,fe,he))}function z(fe,he){for(;!he.reading&&!he.ended&&(he.length<he.highWaterMark||he.flowing&&0===he.length);){var ae=he.length;if(C("maybeReadMore read 0"),fe.read(0),ae===he.length)break}he.readingMore=!1}function de(fe){var he=fe._readableState;he.readableListening=fe.listenerCount("readable")>0,he.resumeScheduled&&!he.paused?he.flowing=!0:fe.listenerCount("data")>0&&fe.resume()}function xe(fe){C("readable nexttick read 0"),fe.read(0)}function Le(fe,he){C("resume",he.reading),he.reading||fe.read(0),he.resumeScheduled=!1,fe.emit("resume"),ve(fe),he.flowing&&!he.reading&&fe.read(0)}function ve(fe){var he=fe._readableState;for(C("flow",he.flowing);he.flowing&&null!==fe.read(););}function ye(fe,he){return 0===he.length?null:(he.objectMode?ae=he.buffer.shift():!fe||fe>=he.length?(ae=he.decoder?he.buffer.join(""):1===he.buffer.length?he.buffer.first():he.buffer.concat(he.length),he.buffer.clear()):ae=he.buffer.consume(fe,he.decoder),ae);var ae}function ke(fe){var he=fe._readableState;C("endReadable",he.endEmitted),he.endEmitted||(he.ended=!0,g.nextTick(me,he,fe))}function me(fe,he){if(C("endReadableNT",fe.endEmitted,fe.length),!fe.endEmitted&&0===fe.length&&(fe.endEmitted=!0,he.readable=!1,he.emit("end"),fe.autoDestroy)){var ae=he._writableState;(!ae||ae.autoDestroy&&ae.finished)&&he.destroy()}}function Ee(fe,he){for(var ae=0,ue=fe.length;ae<ue;ae++)if(fe[ae]===he)return ae;return-1}l.prototype.read=function(fe){C("read",fe),fe=parseInt(fe,10);var he=this._readableState,ae=fe;if(0!==fe&&(he.emittedReadable=!1),0===fe&&he.needReadable&&((0!==he.highWaterMark?he.length>=he.highWaterMark:he.length>0)||he.ended))return C("read: emitReadable",he.length,he.ended),0===he.length&&he.ended?ke(this):d(this),null;if(0===(fe=B(fe,he))&&he.ended)return 0===he.length&&ke(this),null;var ge,ue=he.needReadable;return C("need readable",ue),(0===he.length||he.length-fe<he.highWaterMark)&&C("length less than watermark",ue=!0),he.ended||he.reading?C("reading or ended",ue=!1):ue&&(C("do read"),he.reading=!0,he.sync=!0,0===he.length&&(he.needReadable=!0),this._read(he.highWaterMark),he.sync=!1,he.reading||(fe=B(ae,he))),null===(ge=fe>0?ye(fe,he):null)?(he.needReadable=he.length<=he.highWaterMark,fe=0):(he.length-=fe,he.awaitDrain=0),0===he.length&&(he.ended||(he.needReadable=!0),ae!==fe&&he.ended&&ke(this)),null!==ge&&this.emit("data",ge),ge},l.prototype._read=function(fe){pe(this,new ne("_read()"))},l.prototype.pipe=function(fe,he){var ae=this,ue=this._readableState;switch(ue.pipesCount){case 0:ue.pipes=fe;break;case 1:ue.pipes=[ue.pipes,fe];break;default:ue.pipes.push(fe)}ue.pipesCount+=1,C("pipe count=%d opts=%j",ue.pipesCount,he);var Ae=he&&!1===he.end||fe===g.stdout||fe===g.stderr?S:Ve;function Ve(){C("onend"),fe.end()}ue.endEmitted?g.nextTick(Ae):ae.once("end",Ae),fe.on("unpipe",function Ue(Z,le){C("onunpipe"),Z===ae&&le&&!1===le.hasUnpiped&&(le.hasUnpiped=!0,function qe(){C("cleanup"),fe.removeListener("close",$),fe.removeListener("finish",T),fe.removeListener("drain",ze),fe.removeListener("error",ut),fe.removeListener("unpipe",Ue),ae.removeListener("end",Ve),ae.removeListener("end",S),ae.removeListener("data",je),It=!0,ue.awaitDrain&&(!fe._writableState||fe._writableState.needDrain)&&ze()}())});var ze=function Q(fe){return function(){var ae=fe._readableState;C("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,0===ae.awaitDrain&&X(fe,"data")&&(ae.flowing=!0,ve(fe))}}(ae);fe.on("drain",ze);var It=!1;function je(Z){C("ondata");var le=fe.write(Z);C("dest.write",le),!1===le&&((1===ue.pipesCount&&ue.pipes===fe||ue.pipesCount>1&&-1!==Ee(ue.pipes,fe))&&!It&&(C("false write response, pause",ue.awaitDrain),ue.awaitDrain++),ae.pause())}function ut(Z){C("onerror",Z),S(),fe.removeListener("error",ut),0===X(fe,"error")&&pe(fe,Z)}function $(){fe.removeListener("finish",T),S()}function T(){C("onfinish"),fe.removeListener("close",$),S()}function S(){C("unpipe"),ae.unpipe(fe)}return ae.on("data",je),function Me(fe,he,ae){if("function"==typeof fe.prependListener)return fe.prependListener(he,ae);fe._events&&fe._events[he]?Array.isArray(fe._events[he])?fe._events[he].unshift(ae):fe._events[he]=[ae,fe._events[he]]:fe.on(he,ae)}(fe,"error",ut),fe.once("close",$),fe.once("finish",T),fe.emit("pipe",ae),ue.flowing||(C("pipe resume"),ae.resume()),fe},l.prototype.unpipe=function(fe){var he=this._readableState,ae={hasUnpiped:!1};if(0===he.pipesCount)return this;if(1===he.pipesCount)return fe&&fe!==he.pipes||(fe||(fe=he.pipes),he.pipes=null,he.pipesCount=0,he.flowing=!1,fe&&fe.emit("unpipe",this,ae)),this;if(!fe){var ue=he.pipes,ge=he.pipesCount;he.pipes=null,he.pipesCount=0,he.flowing=!1;for(var Ae=0;Ae<ge;Ae++)ue[Ae].emit("unpipe",this,{hasUnpiped:!1});return this}var Ue=Ee(he.pipes,fe);return-1===Ue||(he.pipes.splice(Ue,1),he.pipesCount-=1,1===he.pipesCount&&(he.pipes=he.pipes[0]),fe.emit("unpipe",this,ae)),this},l.prototype.addListener=l.prototype.on=function(fe,he){var ae=_.prototype.on.call(this,fe,he),ue=this._readableState;return"data"===fe?(ue.readableListening=this.listenerCount("readable")>0,!1!==ue.flowing&&this.resume()):"readable"===fe&&!ue.endEmitted&&!ue.readableListening&&(ue.readableListening=ue.needReadable=!0,ue.flowing=!1,ue.emittedReadable=!1,C("on readable",ue.length,ue.reading),ue.length?d(this):ue.reading||g.nextTick(xe,this)),ae},l.prototype.removeListener=function(fe,he){var ae=_.prototype.removeListener.call(this,fe,he);return"readable"===fe&&g.nextTick(de,this),ae},l.prototype.removeAllListeners=function(fe){var he=_.prototype.removeAllListeners.apply(this,arguments);return("readable"===fe||void 0===fe)&&g.nextTick(de,this),he},l.prototype.resume=function(){var fe=this._readableState;return fe.flowing||(C("resume"),fe.flowing=!fe.readableListening,function Ie(fe,he){he.resumeScheduled||(he.resumeScheduled=!0,g.nextTick(Le,fe,he))}(this,fe)),fe.paused=!1,this},l.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},l.prototype.wrap=function(fe){var he=this,ae=this._readableState,ue=!1;for(var ge in fe.on("end",function(){if(C("wrapped end"),ae.decoder&&!ae.ended){var Ue=ae.decoder.end();Ue&&Ue.length&&he.push(Ue)}he.push(null)}),fe.on("data",function(Ue){C("wrapped data"),ae.decoder&&(Ue=ae.decoder.write(Ue)),ae.objectMode&&null==Ue||!(ae.objectMode||Ue&&Ue.length)||he.push(Ue)||(ue=!0,fe.pause())}),fe)void 0===this[ge]&&"function"==typeof fe[ge]&&(this[ge]=function(Ve){return function(){return fe[Ve].apply(fe,arguments)}}(ge));for(var Ae=0;Ae<we.length;Ae++)fe.on(we[Ae],this.emit.bind(this,we[Ae]));return this._read=function(Ue){C("wrapped _read",Ue),ue&&(ue=!1,fe.resume())},this},"function"==typeof Symbol&&(l.prototype[Symbol.asyncIterator]=function(){return void 0===ce&&(ce=E(6320)),ce(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(he){this._readableState&&(this._readableState.flowing=he)}}),l._fromList=ye,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(l.from=function(fe,he){return void 0===se&&(se=E(87654)),se(l,fe,he)})},2909:(Ne,V,E)=>{"use strict";Ne.exports=N;var g=E(26113).F,w=g.ERR_METHOD_NOT_IMPLEMENTED,O=g.ERR_MULTIPLE_CALLBACK,X=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,_=g.ERR_TRANSFORM_WITH_LENGTH_0,R=E(74075);function A(C,Y){var j=this._transformState;j.transforming=!1;var G=j.writecb;if(null===G)return this.emit("error",new O);j.writechunk=null,j.writecb=null,null!=Y&&this.push(Y),G(C);var te=this._readableState;te.reading=!1,(te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}function N(C){if(!(this instanceof N))return new N(C);R.call(this,C),this._transformState={afterTransform:A.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),this.on("prefinish",L)}function L(){var C=this;"function"!=typeof this._flush||this._readableState.destroyed?F(this,null,null):this._flush(function(Y,j){F(C,Y,j)})}function F(C,Y,j){if(Y)return C.emit("error",Y);if(null!=j&&C.push(j),C._writableState.length)throw new _;if(C._transformState.transforming)throw new X;return C.push(null)}E(71993)(N,R),N.prototype.push=function(C,Y){return this._transformState.needTransform=!1,R.prototype.push.call(this,C,Y)},N.prototype._transform=function(C,Y,j){j(new w("_transform()"))},N.prototype._write=function(C,Y,j){var G=this._transformState;if(G.writecb=j,G.writechunk=C,G.writeencoding=Y,!G.transforming){var te=this._readableState;(G.needTransform||te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}},N.prototype._read=function(C){var Y=this._transformState;null===Y.writechunk||Y.transforming?Y.needTransform=!0:(Y.transforming=!0,this._transform(Y.writechunk,Y.writeencoding,Y.afterTransform))},N.prototype._destroy=function(C,Y){R.prototype._destroy.call(this,C,function(j){Y(j)})}},47849:(Ne,V,E)=>{"use strict";var X,g=E(40573);function O(ve){var ye=this;this.next=null,this.entry=null,this.finish=function(){!function Le(ve,ye,ke){var me=ve.entry;for(ve.entry=null;me;){var Ee=me.callback;ye.pendingcb--,Ee(ke),me=me.next}ye.corkedRequestsFree.next=ve}(ye,ve)}}Ne.exports=k,k.WritableState=we;var Me,_={deprecate:E(3398)},R=E(18342),A=E(83838).Buffer,N=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},C=E(21509),j=E(42934).getHighWaterMark,G=E(26113).F,te=G.ERR_INVALID_ARG_TYPE,ee=G.ERR_METHOD_NOT_IMPLEMENTED,q=G.ERR_MULTIPLE_CALLBACK,J=G.ERR_STREAM_CANNOT_PIPE,ne=G.ERR_STREAM_DESTROYED,ie=G.ERR_STREAM_NULL_VALUES,re=G.ERR_STREAM_WRITE_AFTER_END,ce=G.ERR_UNKNOWN_ENCODING,se=C.errorOrDestroy;function pe(){}function we(ve,ye,ke){X=X||E(74075),"boolean"!=typeof ke&&(ke=ye instanceof X),this.objectMode=!!(ve=ve||{}).objectMode,ke&&(this.objectMode=this.objectMode||!!ve.writableObjectMode),this.highWaterMark=j(this,ve,"writableHighWaterMark",ke),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ve.decodeStrings),this.defaultEncoding=ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){!function M(ve,ye){var ke=ve._writableState,me=ke.sync,Ee=ke.writecb;if("function"!=typeof Ee)throw new q;if(function B(ve){ve.writing=!1,ve.writecb=null,ve.length-=ve.writelen,ve.writelen=0}(ke),ye)!function D(ve,ye,ke,me,Ee){--ye.pendingcb,ke?(g.nextTick(Ee,me),g.nextTick(xe,ve,ye),ve._writableState.errorEmitted=!0,se(ve,me)):(Ee(me),ve._writableState.errorEmitted=!0,se(ve,me),xe(ve,ye))}(ve,ke,me,ye,Ee);else{var fe=z(ke)||ve.destroyed;!fe&&!ke.corked&&!ke.bufferProcessing&&ke.bufferedRequest&&W(ve,ke),me?g.nextTick(d,ve,ke,fe,Ee):d(ve,ke,fe,Ee)}}(ye,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ve.emitClose,this.autoDestroy=!!ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}function k(ve){var ye=this instanceof(X=X||E(74075));if(!ye&&!Me.call(k,this))return new k(ve);this._writableState=new we(ve,this,ye),this.writable=!0,ve&&("function"==typeof ve.write&&(this._write=ve.write),"function"==typeof ve.writev&&(this._writev=ve.writev),"function"==typeof ve.destroy&&(this._destroy=ve.destroy),"function"==typeof ve.final&&(this._final=ve.final)),R.call(this)}function x(ve,ye,ke,me,Ee,fe,he){ye.writelen=me,ye.writecb=he,ye.writing=!0,ye.sync=!0,ye.destroyed?ye.onwrite(new ne("write")):ke?ve._writev(Ee,ye.onwrite):ve._write(Ee,fe,ye.onwrite),ye.sync=!1}function d(ve,ye,ke,me){ke||function v(ve,ye){0===ye.length&&ye.needDrain&&(ye.needDrain=!1,ve.emit("drain"))}(ve,ye),ye.pendingcb--,me(),xe(ve,ye)}function W(ve,ye){ye.bufferProcessing=!0;var ke=ye.bufferedRequest;if(ve._writev&&ke&&ke.next){var Ee=new Array(ye.bufferedRequestCount),fe=ye.corkedRequestsFree;fe.entry=ke;for(var he=0,ae=!0;ke;)Ee[he]=ke,ke.isBuf||(ae=!1),ke=ke.next,he+=1;Ee.allBuffers=ae,x(ve,ye,!0,ye.length,Ee,"",fe.finish),ye.pendingcb++,ye.lastBufferedRequest=null,fe.next?(ye.corkedRequestsFree=fe.next,fe.next=null):ye.corkedRequestsFree=new O(ye),ye.bufferedRequestCount=0}else{for(;ke;){var ue=ke.chunk;if(x(ve,ye,!1,ye.objectMode?1:ue.length,ue,ke.encoding,ke.callback),ke=ke.next,ye.bufferedRequestCount--,ye.writing)break}null===ke&&(ye.lastBufferedRequest=null)}ye.bufferedRequest=ke,ye.bufferProcessing=!1}function z(ve){return ve.ending&&0===ve.length&&null===ve.bufferedRequest&&!ve.finished&&!ve.writing}function Q(ve,ye){ve._final(function(ke){ye.pendingcb--,ke&&se(ve,ke),ye.prefinished=!0,ve.emit("prefinish"),xe(ve,ye)})}function xe(ve,ye){var ke=z(ye);if(ke&&(function de(ve,ye){!ye.prefinished&&!ye.finalCalled&&("function"!=typeof ve._final||ye.destroyed?(ye.prefinished=!0,ve.emit("prefinish")):(ye.pendingcb++,ye.finalCalled=!0,g.nextTick(Q,ve,ye)))}(ve,ye),0===ye.pendingcb&&(ye.finished=!0,ve.emit("finish"),ye.autoDestroy))){var me=ve._readableState;(!me||me.autoDestroy&&me.endEmitted)&&ve.destroy()}return ke}E(71993)(k,R),we.prototype.getBuffer=function(){for(var ye=this.bufferedRequest,ke=[];ye;)ke.push(ye),ye=ye.next;return ke},function(){try{Object.defineProperty(we.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Me=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(ye){return!!Me.call(this,ye)||this===k&&ye&&ye._writableState instanceof we}})):Me=function(ye){return ye instanceof this},k.prototype.pipe=function(){se(this,new J)},k.prototype.write=function(ve,ye,ke){var me=this._writableState,Ee=!1,fe=!me.objectMode&&function F(ve){return A.isBuffer(ve)||ve instanceof N}(ve);return fe&&!A.isBuffer(ve)&&(ve=function L(ve){return A.from(ve)}(ve)),"function"==typeof ye&&(ke=ye,ye=null),fe?ye="buffer":ye||(ye=me.defaultEncoding),"function"!=typeof ke&&(ke=pe),me.ending?function l(ve,ye){var ke=new re;se(ve,ke),g.nextTick(ye,ke)}(this,ke):(fe||function h(ve,ye,ke,me){var Ee;return null===ke?Ee=new ie:"string"!=typeof ke&&!ye.objectMode&&(Ee=new te("chunk",["string","Buffer"],ke)),!Ee||(se(ve,Ee),g.nextTick(me,Ee),!1)}(this,me,ve,ke))&&(me.pendingcb++,Ee=function p(ve,ye,ke,me,Ee,fe){if(!ke){var he=function m(ve,ye,ke){return!ve.objectMode&&!1!==ve.decodeStrings&&"string"==typeof ye&&(ye=A.from(ye,ke)),ye}(ye,me,Ee);me!==he&&(ke=!0,Ee="buffer",me=he)}var ae=ye.objectMode?1:me.length;ye.length+=ae;var ue=ye.length<ye.highWaterMark;if(ue||(ye.needDrain=!0),ye.writing||ye.corked){var ge=ye.lastBufferedRequest;ye.lastBufferedRequest={chunk:me,encoding:Ee,isBuf:ke,callback:fe,next:null},ge?ge.next=ye.lastBufferedRequest:ye.bufferedRequest=ye.lastBufferedRequest,ye.bufferedRequestCount+=1}else x(ve,ye,!1,ae,me,Ee,fe);return ue}(this,me,fe,ve,ye,ke)),Ee},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var ve=this._writableState;ve.corked&&(ve.corked--,!ve.writing&&!ve.corked&&!ve.bufferProcessing&&ve.bufferedRequest&&W(this,ve))},k.prototype.setDefaultEncoding=function(ye){if("string"==typeof ye&&(ye=ye.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ye+"").toLowerCase())>-1))throw new ce(ye);return this._writableState.defaultEncoding=ye,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(ve,ye,ke){ke(new ee("_write()"))},k.prototype._writev=null,k.prototype.end=function(ve,ye,ke){var me=this._writableState;return"function"==typeof ve?(ke=ve,ve=null,ye=null):"function"==typeof ye&&(ke=ye,ye=null),null!=ve&&this.write(ve,ye),me.corked&&(me.corked=1,this.uncork()),me.ending||function Ie(ve,ye,ke){ye.ending=!0,xe(ve,ye),ke&&(ye.finished?g.nextTick(ke):ve.once("finish",ke)),ye.ended=!0,ve.writable=!1}(this,me,ke),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ye){this._writableState&&(this._writableState.destroyed=ye)}}),k.prototype.destroy=C.destroy,k.prototype._undestroy=C.undestroy,k.prototype._destroy=function(ve,ye){ye(ve)}},6320:(Ne,V,E)=>{"use strict";var w,g=E(40573);function O(re,ce,se){return ce=function X(re){var ce=function _(re,ce){if("object"!=typeof re||null===re)return re;var se=re[Symbol.toPrimitive];if(void 0!==se){var pe=se.call(re,ce||"default");if("object"!=typeof pe)return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ce?String:Number)(re)}(re,"string");return"symbol"==typeof ce?ce:String(ce)}(ce),ce in re?Object.defineProperty(re,ce,{value:se,enumerable:!0,configurable:!0,writable:!0}):re[ce]=se,re}var R=E(33139),A=Symbol("lastResolve"),N=Symbol("lastReject"),L=Symbol("error"),F=Symbol("ended"),C=Symbol("lastPromise"),Y=Symbol("handlePromise"),j=Symbol("stream");function G(re,ce){return{value:re,done:ce}}function te(re){var ce=re[A];if(null!==ce){var se=re[j].read();null!==se&&(re[C]=null,re[A]=null,re[N]=null,ce(G(se,!1)))}}function ee(re){g.nextTick(te,re)}var J=Object.getPrototypeOf(function(){}),ne=Object.setPrototypeOf((O(w={get stream(){return this[j]},next:function(){var ce=this,se=this[L];if(null!==se)return Promise.reject(se);if(this[F])return Promise.resolve(G(void 0,!0));if(this[j].destroyed)return new Promise(function(k,l){g.nextTick(function(){ce[L]?l(ce[L]):k(G(void 0,!0))})});var we,pe=this[C];if(pe)we=new Promise(function q(re,ce){return function(se,pe){re.then(function(){ce[F]?se(G(void 0,!0)):ce[Y](se,pe)},pe)}}(pe,this));else{var Me=this[j].read();if(null!==Me)return Promise.resolve(G(Me,!1));we=new Promise(this[Y])}return this[C]=we,we}},Symbol.asyncIterator,function(){return this}),O(w,"return",function(){var ce=this;return new Promise(function(se,pe){ce[j].destroy(null,function(we){we?pe(we):se(G(void 0,!0))})})}),w),J);Ne.exports=function(ce){var se,pe=Object.create(ne,(O(se={},j,{value:ce,writable:!0}),O(se,A,{value:null,writable:!0}),O(se,N,{value:null,writable:!0}),O(se,L,{value:null,writable:!0}),O(se,F,{value:ce._readableState.endEmitted,writable:!0}),O(se,Y,{value:function(Me,k){var l=pe[j].read();l?(pe[C]=null,pe[A]=null,pe[N]=null,Me(G(l,!1))):(pe[A]=Me,pe[N]=k)},writable:!0}),se));return pe[C]=null,R(ce,function(we){if(we&&"ERR_STREAM_PREMATURE_CLOSE"!==we.code){var Me=pe[N];return null!==Me&&(pe[C]=null,pe[A]=null,pe[N]=null,Me(we)),void(pe[L]=we)}var k=pe[A];null!==k&&(pe[C]=null,pe[A]=null,pe[N]=null,k(G(void 0,!0))),pe[F]=!0}),ce.on("readable",ee.bind(null,pe)),pe}},19588:(Ne,V,E)=>{"use strict";function g(te,ee){var q=Object.keys(te);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(te);ee&&(J=J.filter(function(ne){return Object.getOwnPropertyDescriptor(te,ne).enumerable})),q.push.apply(q,J)}return q}function w(te){for(var ee=1;ee<arguments.length;ee++){var q=null!=arguments[ee]?arguments[ee]:{};ee%2?g(Object(q),!0).forEach(function(J){O(te,J,q[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(q)):g(Object(q)).forEach(function(J){Object.defineProperty(te,J,Object.getOwnPropertyDescriptor(q,J))})}return te}function O(te,ee,q){return(ee=A(ee))in te?Object.defineProperty(te,ee,{value:q,enumerable:!0,configurable:!0,writable:!0}):te[ee]=q,te}function _(te,ee){for(var q=0;q<ee.length;q++){var J=ee[q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(te,A(J.key),J)}}function A(te){var ee=function N(te,ee){if("object"!=typeof te||null===te)return te;var q=te[Symbol.toPrimitive];if(void 0!==q){var J=q.call(te,ee||"default");if("object"!=typeof J)return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(te)}(te,"string");return"symbol"==typeof ee?ee:String(ee)}var F=E(83838).Buffer,Y=E(15340).inspect,j=Y&&Y.custom||"inspect";function G(te,ee,q){F.prototype.copy.call(te,ee,q)}Ne.exports=function(){function te(){(function X(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,te),this.head=null,this.tail=null,this.length=0}return function R(te,ee,q){ee&&_(te.prototype,ee),q&&_(te,q),Object.defineProperty(te,"prototype",{writable:!1})}(te,[{key:"push",value:function(q){var J={data:q,next:null};this.length>0?this.tail.next=J:this.head=J,this.tail=J,++this.length}},{key:"unshift",value:function(q){var J={data:q,next:this.head};0===this.length&&(this.tail=J),this.head=J,++this.length}},{key:"shift",value:function(){if(0!==this.length){var q=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(0===this.length)return"";for(var J=this.head,ne=""+J.data;J=J.next;)ne+=q+J.data;return ne}},{key:"concat",value:function(q){if(0===this.length)return F.alloc(0);for(var J=F.allocUnsafe(q>>>0),ne=this.head,ie=0;ne;)G(ne.data,J,ie),ie+=ne.data.length,ne=ne.next;return J}},{key:"consume",value:function(q,J){var ne;return q<this.head.data.length?(ne=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):ne=q===this.head.data.length?this.shift():J?this._getString(q):this._getBuffer(q),ne}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var J=this.head,ne=1,ie=J.data;for(q-=ie.length;J=J.next;){var re=J.data,ce=q>re.length?re.length:q;if(ie+=ce===re.length?re:re.slice(0,q),0==(q-=ce)){ce===re.length?(++ne,this.head=J.next?J.next:this.tail=null):(this.head=J,J.data=re.slice(ce));break}++ne}return this.length-=ne,ie}},{key:"_getBuffer",value:function(q){var J=F.allocUnsafe(q),ne=this.head,ie=1;for(ne.data.copy(J),q-=ne.data.length;ne=ne.next;){var re=ne.data,ce=q>re.length?re.length:q;if(re.copy(J,J.length-q,0,ce),0==(q-=ce)){ce===re.length?(++ie,this.head=ne.next?ne.next:this.tail=null):(this.head=ne,ne.data=re.slice(ce));break}++ie}return this.length-=ie,J}},{key:j,value:function(q,J){return Y(this,w(w({},J),{},{depth:0,customInspect:!1}))}}]),te}()},21509:(Ne,V,E)=>{"use strict";var g=E(40573);function O(N,L){R(N,L),X(N)}function X(N){N._writableState&&!N._writableState.emitClose||N._readableState&&!N._readableState.emitClose||N.emit("close")}function R(N,L){N.emit("error",L)}Ne.exports={destroy:function w(N,L){var F=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(N):N&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(R,this,N)):g.nextTick(R,this,N)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(N||null,function(j){!L&&j?F._writableState?F._writableState.errorEmitted?g.nextTick(X,F):(F._writableState.errorEmitted=!0,g.nextTick(O,F,j)):g.nextTick(O,F,j):L?(g.nextTick(X,F),L(j)):g.nextTick(X,F)}),this)},undestroy:function _(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function A(N,L){var F=N._readableState,C=N._writableState;F&&F.autoDestroy||C&&C.autoDestroy?N.destroy(L):N.emit("error",L)}}},33139:(Ne,V,E)=>{"use strict";var g=E(26113).F.ERR_STREAM_PREMATURE_CLOSE;function O(){}Ne.exports=function _(R,A,N){if("function"==typeof A)return _(R,null,A);A||(A={}),N=function w(R){var A=!1;return function(){if(!A){A=!0;for(var N=arguments.length,L=new Array(N),F=0;F<N;F++)L[F]=arguments[F];R.apply(this,L)}}}(N||O);var L=A.readable||!1!==A.readable&&R.readable,F=A.writable||!1!==A.writable&&R.writable,C=function(){R.writable||j()},Y=R._writableState&&R._writableState.finished,j=function(){F=!1,Y=!0,L||N.call(R)},G=R._readableState&&R._readableState.endEmitted,te=function(){L=!1,G=!0,F||N.call(R)},ee=function(ie){N.call(R,ie)},q=function(){var ie;return L&&!G?((!R._readableState||!R._readableState.ended)&&(ie=new g),N.call(R,ie)):F&&!Y?((!R._writableState||!R._writableState.ended)&&(ie=new g),N.call(R,ie)):void 0},J=function(){R.req.on("finish",j)};return function X(R){return R.setHeader&&"function"==typeof R.abort}(R)?(R.on("complete",j),R.on("abort",q),R.req?J():R.on("request",J)):F&&!R._writableState&&(R.on("end",C),R.on("close",C)),R.on("end",te),R.on("finish",j),!1!==A.error&&R.on("error",ee),R.on("close",q),function(){R.removeListener("complete",j),R.removeListener("abort",q),R.removeListener("request",J),R.req&&R.req.removeListener("finish",j),R.removeListener("end",C),R.removeListener("close",C),R.removeListener("finish",j),R.removeListener("end",te),R.removeListener("error",ee),R.removeListener("close",q)}}},87654:Ne=>{Ne.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(Ne,V,E)=>{"use strict";var g,O=E(26113).F,X=O.ERR_MISSING_ARGS,_=O.ERR_STREAM_DESTROYED;function R(j){if(j)throw j}function L(j){j()}function F(j,G){return j.pipe(G)}Ne.exports=function Y(){for(var j=arguments.length,G=new Array(j),te=0;te<j;te++)G[te]=arguments[te];var ee=function C(j){return j.length&&"function"==typeof j[j.length-1]?j.pop():R}(G);if(Array.isArray(G[0])&&(G=G[0]),G.length<2)throw new X("streams");var q,J=G.map(function(ne,ie){var re=ie<G.length-1;return function N(j,G,te,ee){ee=function w(j){var G=!1;return function(){G||(G=!0,j.apply(void 0,arguments))}}(ee);var q=!1;j.on("close",function(){q=!0}),void 0===g&&(g=E(33139)),g(j,{readable:G,writable:te},function(ne){if(ne)return ee(ne);q=!0,ee()});var J=!1;return function(ne){if(!q&&!J){if(J=!0,function A(j){return j.setHeader&&"function"==typeof j.abort}(j))return j.abort();if("function"==typeof j.destroy)return j.destroy();ee(ne||new _("pipe"))}}}(ne,re,ie>0,function(se){q||(q=se),se&&J.forEach(L),!re&&(J.forEach(L),ee(q))})});return G.reduce(F)}},42934:(Ne,V,E)=>{"use strict";var g=E(26113).F.ERR_INVALID_OPT_VALUE;Ne.exports={getHighWaterMark:function O(X,_,R,A){var N=function w(X,_,R){return null!=X.highWaterMark?X.highWaterMark:_?X[R]:null}(_,A,R);if(null!=N){if(!isFinite(N)||Math.floor(N)!==N||N<0)throw new g(A?R:"highWaterMark",N);return Math.floor(N)}return X.objectMode?16:16384}}},18342:(Ne,V,E)=>{Ne.exports=E(44356).EventEmitter},5942:(Ne,V,E)=>{(V=Ne.exports=E(19609)).Stream=V,V.Readable=V,V.Writable=E(47849),V.Duplex=E(74075),V.Transform=E(2909),V.PassThrough=E(18823),V.finished=E(33139),V.pipeline=E(96249)},85493:(Ne,V,E)=>{"use strict";var w=E(29293).default;V.s=void 0;const O=E(5942);V.s=class X extends O.Readable{constructor(R){super(),this.bytesRead=0,this.released=!1,this.reader=R.getReader()}_read(){var R=this;return w(function*(){if(R.released)return void R.push(null);R.pendingRead=R.reader.read();const A=yield R.pendingRead;delete R.pendingRead,A.done||R.released?R.push(null):(R.bytesRead+=A.value.length,R.push(A.value))})()}waitForReadToComplete(){var R=this;return w(function*(){R.pendingRead&&(yield R.pendingRead)})()}close(){var R=this;return w(function*(){yield R.syncAndRelease()})()}syncAndRelease(){var R=this;return w(function*(){R.released=!0,yield R.waitForReadToComplete(),yield R.reader.releaseLock()})()}}},36636:(Ne,V,E)=>{"use strict";var g=E(83838).Buffer,w=E(71993),O=E(13686),X=new Array(16),_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],A=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L=[0,1518500249,1859775393,2400959708,2840853838],F=[1352829926,1548603684,1836072691,2053994217,0];function C(){O.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function Y(J,ne){return J<<ne|J>>>32-ne}function j(J,ne,ie,re,ce,se,pe,we){return Y(J+(ne^ie^re)+se+pe|0,we)+ce|0}function G(J,ne,ie,re,ce,se,pe,we){return Y(J+(ne&ie|~ne&re)+se+pe|0,we)+ce|0}function te(J,ne,ie,re,ce,se,pe,we){return Y(J+((ne|~ie)^re)+se+pe|0,we)+ce|0}function ee(J,ne,ie,re,ce,se,pe,we){return Y(J+(ne&re|ie&~re)+se+pe|0,we)+ce|0}function q(J,ne,ie,re,ce,se,pe,we){return Y(J+(ne^(ie|~re))+se+pe|0,we)+ce|0}w(C,O),C.prototype._update=function(){for(var J=X,ne=0;ne<16;++ne)J[ne]=this._block.readInt32LE(4*ne);for(var ie=0|this._a,re=0|this._b,ce=0|this._c,se=0|this._d,pe=0|this._e,we=0|this._a,Me=0|this._b,k=0|this._c,l=0|this._d,h=0|this._e,m=0;m<80;m+=1){var p,x;m<16?(p=j(ie,re,ce,se,pe,J[_[m]],L[0],A[m]),x=q(we,Me,k,l,h,J[R[m]],F[0],N[m])):m<32?(p=G(ie,re,ce,se,pe,J[_[m]],L[1],A[m]),x=ee(we,Me,k,l,h,J[R[m]],F[1],N[m])):m<48?(p=te(ie,re,ce,se,pe,J[_[m]],L[2],A[m]),x=te(we,Me,k,l,h,J[R[m]],F[2],N[m])):m<64?(p=ee(ie,re,ce,se,pe,J[_[m]],L[3],A[m]),x=G(we,Me,k,l,h,J[R[m]],F[3],N[m])):(p=q(ie,re,ce,se,pe,J[_[m]],L[4],A[m]),x=j(we,Me,k,l,h,J[R[m]],F[4],N[m])),ie=pe,pe=se,se=Y(ce,10),ce=re,re=p,we=h,h=l,l=Y(k,10),k=Me,Me=x}var D=this._b+ce+l|0;this._b=this._c+se+h|0,this._c=this._d+pe+we|0,this._d=this._e+ie+Me|0,this._e=this._a+re+k|0,this._a=D},C.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var J=g.alloc?g.alloc(20):new g(20);return J.writeInt32LE(this._a,0),J.writeInt32LE(this._b,4),J.writeInt32LE(this._c,8),J.writeInt32LE(this._d,12),J.writeInt32LE(this._e,16),J},Ne.exports=C},81725:(Ne,V,E)=>{Ne.exports=function w(O,X,_){if("number"!=typeof X)throw new Error("second argument must be a Number");let R,A,N,L,F,Y,C=!0;function j(te){function ee(){_&&_(te,R),_=null}C?g(ee):ee()}function G(te,ee,q){if(R[te]=q,ee&&(F=!0),0==--N||ee)j(ee);else if(!F&&Y<A){let J;L?(J=L[Y],Y+=1,O[J](function(ne,ie){G(J,ne,ie)})):(J=Y,Y+=1,O[J](function(ne,ie){G(J,ne,ie)}))}}Array.isArray(O)?(R=[],N=A=O.length):(L=Object.keys(O),R={},N=A=L.length),Y=X,N?L?L.some(function(te,ee){return O[te](function(q,J){G(te,q,J)}),ee===X-1}):O.some(function(te,ee){return te(function(q,J){G(ee,q,J)}),ee===X-1}):j(null),C=!1};const g=E(24515)},84412:(Ne,V,E)=>{"use strict";E.d(V,{t:()=>w});var g=E(21413);class w extends g.B{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const _=super._subscribe(X);return!_.closed&&X.next(this._value),_}getValue(){const{hasError:X,thrownError:_,_value:R}=this;if(X)throw _;return this._throwIfClosed(),R}next(X){super.next(this._value=X)}}},71985:(Ne,V,E)=>{"use strict";E.d(V,{c:()=>N});var g=E(47707),w=E(18359),O=E(3494),X=E(71203),_=E(41026),R=E(98071),A=E(49786);let N=(()=>{class Y{constructor(G){G&&(this._subscribe=G)}lift(G){const te=new Y;return te.source=this,te.operator=G,te}subscribe(G,te,ee){const q=function C(Y){return Y&&Y instanceof g.vU||function F(Y){return Y&&(0,R.T)(Y.next)&&(0,R.T)(Y.error)&&(0,R.T)(Y.complete)}(Y)&&(0,w.Uv)(Y)}(G)?G:new g.Ms(G,te,ee);return(0,A.Y)(()=>{const{operator:J,source:ne}=this;q.add(J?J.call(q,ne):ne?this._subscribe(q):this._trySubscribe(q))}),q}_trySubscribe(G){try{return this._subscribe(G)}catch(te){G.error(te)}}forEach(G,te){return new(te=L(te))((ee,q)=>{const J=new g.Ms({next:ne=>{try{G(ne)}catch(ie){q(ie),J.unsubscribe()}},error:q,complete:ee});this.subscribe(J)})}_subscribe(G){var te;return null===(te=this.source)||void 0===te?void 0:te.subscribe(G)}[O.s](){return this}pipe(...G){return(0,X.m)(G)(this)}toPromise(G){return new(G=L(G))((te,ee)=>{let q;this.subscribe(J=>q=J,J=>ee(J),()=>te(q))})}}return Y.create=j=>new Y(j),Y})();function L(Y){var j;return null!==(j=Y??_.$.Promise)&&void 0!==j?j:Promise}},92771:(Ne,V,E)=>{"use strict";E.d(V,{m:()=>O});var g=E(21413),w=E(86129);class O extends g.B{constructor(_=1/0,R=1/0,A=w.U){super(),this._bufferSize=_,this._windowTime=R,this._timestampProvider=A,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=R===1/0,this._bufferSize=Math.max(1,_),this._windowTime=Math.max(1,R)}next(_){const{isStopped:R,_buffer:A,_infiniteTimeWindow:N,_timestampProvider:L,_windowTime:F}=this;R||(A.push(_),!N&&A.push(L.now()+F)),this._trimBuffer(),super.next(_)}_subscribe(_){this._throwIfClosed(),this._trimBuffer();const R=this._innerSubscribe(_),{_infiniteTimeWindow:A,_buffer:N}=this,L=N.slice();for(let F=0;F<L.length&&!_.closed;F+=A?1:2)_.next(L[F]);return this._checkFinalizedStatuses(_),R}_trimBuffer(){const{_bufferSize:_,_timestampProvider:R,_buffer:A,_infiniteTimeWindow:N}=this,L=(N?1:2)*_;if(_<1/0&&L<A.length&&A.splice(0,A.length-L),!N){const F=R.now();let C=0;for(let Y=1;Y<A.length&&A[Y]<=F;Y+=2)C=Y;C&&A.splice(0,C+1)}}}},21413:(Ne,V,E)=>{"use strict";E.d(V,{B:()=>A});var g=E(71985),w=E(18359);const X=(0,E(81853).L)(L=>function(){L(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=E(57908),R=E(49786);let A=(()=>{class L extends g.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(C){const Y=new N(this,this);return Y.operator=C,Y}_throwIfClosed(){if(this.closed)throw new X}next(C){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(C)}})}error(C){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=C;const{observers:Y}=this;for(;Y.length;)Y.shift().error(C)}})}complete(){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:C}=this;for(;C.length;)C.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var C;return(null===(C=this.observers)||void 0===C?void 0:C.length)>0}_trySubscribe(C){return this._throwIfClosed(),super._trySubscribe(C)}_subscribe(C){return this._throwIfClosed(),this._checkFinalizedStatuses(C),this._innerSubscribe(C)}_innerSubscribe(C){const{hasError:Y,isStopped:j,observers:G}=this;return Y||j?w.Kn:(this.currentObservers=null,G.push(C),new w.yU(()=>{this.currentObservers=null,(0,_.o)(G,C)}))}_checkFinalizedStatuses(C){const{hasError:Y,thrownError:j,isStopped:G}=this;Y?C.error(j):G&&C.complete()}asObservable(){const C=new g.c;return C.source=this,C}}return L.create=(F,C)=>new N(F,C),L})();class N extends A{constructor(F,C){super(),this.destination=F,this.source=C}next(F){var C,Y;null===(Y=null===(C=this.destination)||void 0===C?void 0:C.next)||void 0===Y||Y.call(C,F)}error(F){var C,Y;null===(Y=null===(C=this.destination)||void 0===C?void 0:C.error)||void 0===Y||Y.call(C,F)}complete(){var F,C;null===(C=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===C||C.call(F)}_subscribe(F){var C,Y;return null!==(Y=null===(C=this.source)||void 0===C?void 0:C.subscribe(F))&&void 0!==Y?Y:w.Kn}}},47707:(Ne,V,E)=>{"use strict";E.d(V,{Ms:()=>ee,vU:()=>Y});var g=E(98071),w=E(18359),O=E(41026),X=E(45334),_=E(85343);const R=L("C",void 0,void 0);function L(re,ce,se){return{kind:re,value:ce,error:se}}var F=E(19270),C=E(49786);class Y extends w.yU{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,w.Uv)(ce)&&ce.add(this)):this.destination=ie}static create(ce,se,pe){return new ee(ce,se,pe)}next(ce){this.isStopped?ne(function N(re){return L("N",re,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?ne(function A(re){return L("E",void 0,re)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?ne(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function G(re,ce){return j.call(re,ce)}class te{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:se}=this;if(se.next)try{se.next(ce)}catch(pe){q(pe)}}error(ce){const{partialObserver:se}=this;if(se.error)try{se.error(ce)}catch(pe){q(pe)}else q(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(se){q(se)}}}class ee extends Y{constructor(ce,se,pe){let we;if(super(),(0,g.T)(ce)||!ce)we={next:ce??void 0,error:se??void 0,complete:pe??void 0};else{let Me;this&&O.$.useDeprecatedNextContext?(Me=Object.create(ce),Me.unsubscribe=()=>this.unsubscribe(),we={next:ce.next&&G(ce.next,Me),error:ce.error&&G(ce.error,Me),complete:ce.complete&&G(ce.complete,Me)}):we=ce}this.destination=new te(we)}}function q(re){O.$.useDeprecatedSynchronousErrorHandling?(0,C.l)(re):(0,X.m)(re)}function ne(re,ce){const{onStoppedNotification:se}=O.$;se&&F.f.setTimeout(()=>se(re,ce))}const ie={closed:!0,next:_.l,error:function J(re){throw re},complete:_.l}},18359:(Ne,V,E)=>{"use strict";E.d(V,{Kn:()=>R,yU:()=>_,Uv:()=>A});var g=E(98071);const O=(0,E(81853).L)(L=>function(C){L(this),this.message=C?`${C.length} errors occurred during unsubscription:\n${C.map((Y,j)=>`${j+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=C});var X=E(57908);class _{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:C}=this;if(C)if(this._parentage=null,Array.isArray(C))for(const G of C)G.remove(this);else C.remove(this);const{initialTeardown:Y}=this;if((0,g.T)(Y))try{Y()}catch(G){F=G instanceof O?G.errors:[G]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const G of j)try{N(G)}catch(te){F=F??[],te instanceof O?F=[...F,...te.errors]:F.push(te)}}if(F)throw new O(F)}}add(F){var C;if(F&&F!==this)if(this.closed)N(F);else{if(F instanceof _){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(C=this._finalizers)&&void 0!==C?C:[]).push(F)}}_hasParent(F){const{_parentage:C}=this;return C===F||Array.isArray(C)&&C.includes(F)}_addParent(F){const{_parentage:C}=this;this._parentage=Array.isArray(C)?(C.push(F),C):C?[C,F]:F}_removeParent(F){const{_parentage:C}=this;C===F?this._parentage=null:Array.isArray(C)&&(0,X.o)(C,F)}remove(F){const{_finalizers:C}=this;C&&(0,X.o)(C,F),F instanceof _&&F._removeParent(this)}}_.EMPTY=(()=>{const L=new _;return L.closed=!0,L})();const R=_.EMPTY;function A(L){return L instanceof _||L&&"closed"in L&&(0,g.T)(L.remove)&&(0,g.T)(L.add)&&(0,g.T)(L.unsubscribe)}function N(L){(0,g.T)(L)?L():L.unsubscribe()}},41026:(Ne,V,E)=>{"use strict";E.d(V,{$:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(Ne,V,E)=>{"use strict";E.d(V,{G:()=>R});var g=E(71985),w=E(18359),O=E(99898),X=E(54360),_=E(39974);class R extends g.c{constructor(N,L){super(),this.source=N,this.subjectFactory=L,this._subject=null,this._refCount=0,this._connection=null,(0,_.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new w.yU;const L=this.getSubject();N.add(this.source.subscribe((0,X._)(L,void 0,()=>{this._teardown(),L.complete()},F=>{this._teardown(),L.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=w.yU.EMPTY)}return N}refCount(){return(0,O.B)()(this)}}},84572:(Ne,V,E)=>{"use strict";E.d(V,{z:()=>F});var g=E(71985),w=E(93073),O=E(86648),X=E(33669),_=E(6450),R=E(9326),A=E(58496),N=E(54360),L=E(45225);function F(...j){const G=(0,R.lI)(j),te=(0,R.ms)(j),{args:ee,keys:q}=(0,w.D)(j);if(0===ee.length)return(0,O.H)([],G);const J=new g.c(function C(j,G,te=X.D){return ee=>{Y(G,()=>{const{length:q}=j,J=new Array(q);let ne=q,ie=q;for(let re=0;re<q;re++)Y(G,()=>{const ce=(0,O.H)(j[re],G);let se=!1;ce.subscribe((0,N._)(ee,pe=>{J[re]=pe,se||(se=!0,ie--),ie||ee.next(te(J.slice()))},()=>{--ne||ee.complete()}))},ee)},ee)}}(ee,G,q?ne=>(0,A.e)(q,ne):X.D));return te?J.pipe((0,_.I)(te)):J}function Y(j,G,te){j?(0,L.N)(te,j,G):G()}},28793:(Ne,V,E)=>{"use strict";E.d(V,{x:()=>_});var g=E(26365),O=E(9326),X=E(86648);function _(...R){return function w(){return(0,g.U)(1)}()((0,X.H)(R,(0,O.lI)(R)))}},59030:(Ne,V,E)=>{"use strict";E.d(V,{v:()=>O});var g=E(71985),w=E(58750);function O(X){return new g.c(_=>{(0,w.Tg)(X()).subscribe(_)})}},983:(Ne,V,E)=>{"use strict";E.d(V,{w:()=>w});const w=new(E(71985).c)(_=>_.complete())},27468:(Ne,V,E)=>{"use strict";E.d(V,{p:()=>N});var g=E(71985),w=E(93073),O=E(58750),X=E(9326),_=E(54360),R=E(6450),A=E(58496);function N(...L){const F=(0,X.ms)(L),{args:C,keys:Y}=(0,w.D)(L),j=new g.c(G=>{const{length:te}=C;if(!te)return void G.complete();const ee=new Array(te);let q=te,J=te;for(let ne=0;ne<te;ne++){let ie=!1;(0,O.Tg)(C[ne]).subscribe((0,_._)(G,re=>{ie||(ie=!0,J--),ee[ne]=re},()=>q--,void 0,()=>{(!q||!ie)&&(J||G.next(Y?(0,A.e)(Y,ee):ee),G.complete())}))}});return F?j.pipe((0,R.I)(F)):j}},86648:(Ne,V,E)=>{"use strict";E.d(V,{H:()=>pe});var g=E(58750),w=E(45225),O=E(39974),X=E(54360);function _(we,Me=0){return(0,O.N)((k,l)=>{k.subscribe((0,X._)(l,h=>(0,w.N)(l,we,()=>l.next(h),Me),()=>(0,w.N)(l,we,()=>l.complete(),Me),h=>(0,w.N)(l,we,()=>l.error(h),Me)))})}function R(we,Me=0){return(0,O.N)((k,l)=>{l.add(we.schedule(()=>k.subscribe(l),Me))})}var L=E(71985),C=E(4761),Y=E(98071);function G(we,Me){if(!we)throw new Error("Iterable cannot be null");return new L.c(k=>{(0,w.N)(k,Me,()=>{const l=we[Symbol.asyncIterator]();(0,w.N)(k,Me,()=>{l.next().then(h=>{h.done?k.complete():k.next(h.value)})},0,!0)})})}var te=E(55055),ee=E(59858),q=E(47441),J=E(85397),ne=E(37953),ie=E(50591),re=E(15196);function pe(we,Me){return Me?function se(we,Me){if(null!=we){if((0,te.l)(we))return function A(we,Me){return(0,g.Tg)(we).pipe(R(Me),_(Me))}(we,Me);if((0,q.X)(we))return function F(we,Me){return new L.c(k=>{let l=0;return Me.schedule(function(){l===we.length?k.complete():(k.next(we[l++]),k.closed||this.schedule())})})}(we,Me);if((0,ee.y)(we))return function N(we,Me){return(0,g.Tg)(we).pipe(R(Me),_(Me))}(we,Me);if((0,ne.T)(we))return G(we,Me);if((0,J.x)(we))return function j(we,Me){return new L.c(k=>{let l;return(0,w.N)(k,Me,()=>{l=we[C.l](),(0,w.N)(k,Me,()=>{let h,m;try{({value:h,done:m}=l.next())}catch(p){return void k.error(p)}m?k.complete():k.next(h)},0,!0)}),()=>(0,Y.T)(l?.return)&&l.return()})}(we,Me);if((0,re.U)(we))return function ce(we,Me){return G((0,re.C)(we),Me)}(we,Me)}throw(0,ie.L)(we)}(we,Me):(0,g.Tg)(we)}},33726:(Ne,V,E)=>{"use strict";E.d(V,{R:()=>F});var g=E(58750),w=E(71985),O=E(31397),X=E(47441),_=E(98071),R=E(6450);const A=["addListener","removeListener"],N=["addEventListener","removeEventListener"],L=["on","off"];function F(te,ee,q,J){if((0,_.T)(q)&&(J=q,q=void 0),J)return F(te,ee,q).pipe((0,R.I)(J));const[ne,ie]=function G(te){return(0,_.T)(te.addEventListener)&&(0,_.T)(te.removeEventListener)}(te)?N.map(re=>ce=>te[re](ee,ce,q)):function Y(te){return(0,_.T)(te.addListener)&&(0,_.T)(te.removeListener)}(te)?A.map(C(te,ee)):function j(te){return(0,_.T)(te.on)&&(0,_.T)(te.off)}(te)?L.map(C(te,ee)):[];if(!ne&&(0,X.X)(te))return(0,O.Z)(re=>F(re,ee,q))((0,g.Tg)(te));if(!ne)throw new TypeError("Invalid event target");return new w.c(re=>{const ce=(...se)=>re.next(1<se.length?se:se[0]);return ne(ce),()=>ie(ce)})}function C(te,ee){return q=>J=>te[q](ee,J)}},58750:(Ne,V,E)=>{"use strict";E.d(V,{Tg:()=>j});var g=E(31635),w=E(47441),O=E(59858),X=E(71985),_=E(55055),R=E(37953),A=E(50591),N=E(85397),L=E(15196),F=E(98071),C=E(45334),Y=E(3494);function j(re){if(re instanceof X.c)return re;if(null!=re){if((0,_.l)(re))return function G(re){return new X.c(ce=>{const se=re[Y.s]();if((0,F.T)(se.subscribe))return se.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,w.X)(re))return function te(re){return new X.c(ce=>{for(let se=0;se<re.length&&!ce.closed;se++)ce.next(re[se]);ce.complete()})}(re);if((0,O.y)(re))return function ee(re){return new X.c(ce=>{re.then(se=>{ce.closed||(ce.next(se),ce.complete())},se=>ce.error(se)).then(null,C.m)})}(re);if((0,R.T)(re))return J(re);if((0,N.x)(re))return function q(re){return new X.c(ce=>{for(const se of re)if(ce.next(se),ce.closed)return;ce.complete()})}(re);if((0,L.U)(re))return function ne(re){return J((0,L.C)(re))}(re)}throw(0,A.L)(re)}function J(re){return new X.c(ce=>{(function ie(re,ce){var se,pe,we,Me;return(0,g.sH)(this,void 0,void 0,function*(){try{for(se=(0,g.xN)(re);!(pe=yield se.next()).done;)if(ce.next(pe.value),ce.closed)return}catch(k){we={error:k}}finally{try{pe&&!pe.done&&(Me=se.return)&&(yield Me.call(se))}finally{if(we)throw we.error}}ce.complete()})})(re,ce).catch(se=>ce.error(se))})}},40605:(Ne,V,E)=>{"use strict";E.d(V,{Y:()=>O});var g=E(43236),w=E(41584);function O(X=0,_=g.E){return X<0&&(X=0),(0,w.O)(X,X,_)}},57786:(Ne,V,E)=>{"use strict";E.d(V,{h:()=>R});var g=E(26365),w=E(58750),O=E(983),X=E(9326),_=E(86648);function R(...A){const N=(0,X.lI)(A),L=(0,X.R0)(A,1/0),F=A;return F.length?1===F.length?(0,w.Tg)(F[0]):(0,g.U)(L)((0,_.H)(F,N)):O.w}},7673:(Ne,V,E)=>{"use strict";E.d(V,{of:()=>O});var g=E(9326),w=E(86648);function O(...X){const _=(0,g.lI)(X);return(0,w.H)(X,_)}},18810:(Ne,V,E)=>{"use strict";E.d(V,{$:()=>O});var g=E(71985),w=E(98071);function O(X,_){const R=(0,w.T)(X)?X:()=>X,A=N=>N.error(R());return new g.c(_?N=>_.schedule(A,0,N):A)}},41584:(Ne,V,E)=>{"use strict";E.d(V,{O:()=>_});var g=E(71985),w=E(43236),O=E(79470);function _(R=0,A,N=w.b){let L=-1;return null!=A&&((0,O.m)(A)?N=A:L=A),new g.c(F=>{let C=function X(R){return R instanceof Date&&!isNaN(R)}(R)?+R-N.now():R;C<0&&(C=0);let Y=0;return N.schedule(function(){F.closed||(F.next(Y++),0<=L?this.schedule(void 0,L):F.complete())},C)})}},54360:(Ne,V,E)=>{"use strict";E.d(V,{_:()=>w});var g=E(47707);function w(X,_,R,A,N){return new O(X,_,R,A,N)}class O extends g.vU{constructor(_,R,A,N,L,F){super(_),this.onFinalize=L,this.shouldUnsubscribe=F,this._next=R?function(C){try{R(C)}catch(Y){_.error(Y)}}:super._next,this._error=N?function(C){try{N(C)}catch(Y){_.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=A?function(){try{A()}catch(C){_.error(C)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:R}=this;super.unsubscribe(),!R&&(null===(_=this.onFinalize)||void 0===_||_.call(this))}}}},99437:(Ne,V,E)=>{"use strict";E.d(V,{W:()=>X});var g=E(58750),w=E(54360),O=E(39974);function X(_){return(0,O.N)((R,A)=>{let F,N=null,L=!1;N=R.subscribe((0,w._)(A,void 0,void 0,C=>{F=(0,g.Tg)(_(C,X(_)(R))),N?(N.unsubscribe(),N=null,F.subscribe(A)):L=!0})),L&&(N.unsubscribe(),N=null,F.subscribe(A))})}},70274:(Ne,V,E)=>{"use strict";E.d(V,{H:()=>O});var g=E(31397),w=E(98071);function O(X,_){return(0,w.T)(_)?(0,g.Z)(X,_,1):(0,g.Z)(X,1)}},70152:(Ne,V,E)=>{"use strict";E.d(V,{B:()=>X});var g=E(43236),w=E(39974),O=E(54360);function X(_,R=g.E){return(0,w.N)((A,N)=>{let L=null,F=null,C=null;const Y=()=>{if(L){L.unsubscribe(),L=null;const G=F;F=null,N.next(G)}};function j(){const G=C+_,te=R.now();if(te<G)return L=this.schedule(void 0,G-te),void N.add(L);Y()}A.subscribe((0,O._)(N,G=>{F=G,C=R.now(),L||(L=R.schedule(j,_),N.add(L))},()=>{Y(),N.complete()},void 0,()=>{F=L=null}))})}},91986:(Ne,V,E)=>{"use strict";E.d(V,{c:()=>j});var g=E(43236),w=E(28793),O=E(96697),X=E(39974),_=E(54360),R=E(85343),N=E(73703),L=E(31397),F=E(58750);function C(G,te){return te?ee=>(0,w.x)(te.pipe((0,O.s)(1),function A(){return(0,X.N)((G,te)=>{G.subscribe((0,_._)(te,R.l))})}()),ee.pipe(C(G))):(0,L.Z)((ee,q)=>(0,F.Tg)(G(ee,q)).pipe((0,O.s)(1),(0,N.u)(ee)))}var Y=E(41584);function j(G,te=g.E){const ee=(0,Y.O)(G,te);return C(()=>ee)}},23294:(Ne,V,E)=>{"use strict";E.d(V,{F:()=>X});var g=E(33669),w=E(39974),O=E(54360);function X(R,A=g.D){return R=R??_,(0,w.N)((N,L)=>{let F,C=!0;N.subscribe((0,O._)(L,Y=>{const j=A(Y);(C||!R(F,j))&&(C=!1,F=j,L.next(Y))}))})}function _(R,A){return R===A}},5964:(Ne,V,E)=>{"use strict";E.d(V,{p:()=>O});var g=E(39974),w=E(54360);function O(X,_){return(0,g.N)((R,A)=>{let N=0;R.subscribe((0,w._)(A,L=>X.call(_,L,N++)&&A.next(L)))})}},70980:(Ne,V,E)=>{"use strict";E.d(V,{j:()=>w});var g=E(39974);function w(O){return(0,g.N)((X,_)=>{try{X.subscribe(_)}finally{_.add(O)}})}},96354:(Ne,V,E)=>{"use strict";E.d(V,{T:()=>O});var g=E(39974),w=E(54360);function O(X,_){return(0,g.N)((R,A)=>{let N=0;R.subscribe((0,w._)(A,L=>{A.next(X.call(_,L,N++))}))})}},73703:(Ne,V,E)=>{"use strict";E.d(V,{u:()=>w});var g=E(96354);function w(O){return(0,g.T)(()=>O)}},26365:(Ne,V,E)=>{"use strict";E.d(V,{U:()=>O});var g=E(31397),w=E(33669);function O(X=1/0){return(0,g.Z)(w.D,X)}},31397:(Ne,V,E)=>{"use strict";E.d(V,{Z:()=>N});var g=E(96354),w=E(58750),O=E(39974),X=E(45225),_=E(54360),A=E(98071);function N(L,F,C=1/0){return(0,A.T)(F)?N((Y,j)=>(0,g.T)((G,te)=>F(Y,G,j,te))((0,w.Tg)(L(Y,j))),C):("number"==typeof F&&(C=F),(0,O.N)((Y,j)=>function R(L,F,C,Y,j,G,te,ee){const q=[];let J=0,ne=0,ie=!1;const re=()=>{ie&&!q.length&&!J&&F.complete()},ce=pe=>J<Y?se(pe):q.push(pe),se=pe=>{G&&F.next(pe),J++;let we=!1;(0,w.Tg)(C(pe,ne++)).subscribe((0,_._)(F,Me=>{j?.(Me),G?ce(Me):F.next(Me)},()=>{we=!0},void 0,()=>{if(we)try{for(J--;q.length&&J<Y;){const Me=q.shift();te?(0,X.N)(F,te,()=>se(Me)):se(Me)}re()}catch(Me){F.error(Me)}}))};return L.subscribe((0,_._)(F,ce,()=>{ie=!0,re()})),()=>{ee?.()}}(Y,j,L,C)))}},99898:(Ne,V,E)=>{"use strict";E.d(V,{B:()=>O});var g=E(39974),w=E(54360);function O(){return(0,g.N)((X,_)=>{let R=null;X._refCount++;const A=(0,w._)(_,void 0,void 0,void 0,()=>{if(!X||X._refCount<=0||0<--X._refCount)return void(R=null);const N=X._connection,L=R;R=null,N&&(!L||N===L)&&N.unsubscribe(),_.unsubscribe()});X.subscribe(A),A.closed||(R=X.connect())})}},97647:(Ne,V,E)=>{"use strict";E.d(V,{u:()=>_});var g=E(58750),w=E(21413),O=E(47707),X=E(39974);function _(A={}){const{connector:N=(()=>new w.B),resetOnError:L=!0,resetOnComplete:F=!0,resetOnRefCountZero:C=!0}=A;return Y=>{let j,G,te,ee=0,q=!1,J=!1;const ne=()=>{G?.unsubscribe(),G=void 0},ie=()=>{ne(),j=te=void 0,q=J=!1},re=()=>{const ce=j;ie(),ce?.unsubscribe()};return(0,X.N)((ce,se)=>{ee++,!J&&!q&&ne();const pe=te=te??N();se.add(()=>{ee--,0===ee&&!J&&!q&&(G=R(re,C))}),pe.subscribe(se),!j&&ee>0&&(j=new O.Ms({next:we=>pe.next(we),error:we=>{J=!0,ne(),G=R(ie,L,we),pe.error(we)},complete:()=>{q=!0,ne(),G=R(ie,F),pe.complete()}}),(0,g.Tg)(ce).subscribe(j))})(Y)}}function R(A,N,...L){if(!0===N)return void A();if(!1===N)return;const F=new O.Ms({next:()=>{F.unsubscribe(),A()}});return(0,g.Tg)(N(...L)).subscribe(F)}},44668:(Ne,V,E)=>{"use strict";E.d(V,{t:()=>O});var g=E(92771),w=E(97647);function O(X,_,R){let A,N=!1;return X&&"object"==typeof X?({bufferSize:A=1/0,windowTime:_=1/0,refCount:N=!1,scheduler:R}=X):A=X??1/0,(0,w.u)({connector:()=>new g.m(A,_,R),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:N})}},65245:(Ne,V,E)=>{"use strict";E.d(V,{i:()=>w});var g=E(5964);function w(O){return(0,g.p)((X,_)=>O<=_)}},99172:(Ne,V,E)=>{"use strict";E.d(V,{Z:()=>X});var g=E(28793),w=E(9326),O=E(39974);function X(..._){const R=(0,w.lI)(_);return(0,O.N)((A,N)=>{(R?(0,g.x)(_,A,R):(0,g.x)(_,A)).subscribe(N)})}},25558:(Ne,V,E)=>{"use strict";E.d(V,{n:()=>X});var g=E(58750),w=E(39974),O=E(54360);function X(_,R){return(0,w.N)((A,N)=>{let L=null,F=0,C=!1;const Y=()=>C&&!L&&N.complete();A.subscribe((0,O._)(N,j=>{L?.unsubscribe();let G=0;const te=F++;(0,g.Tg)(_(j,te)).subscribe(L=(0,O._)(N,ee=>N.next(R?R(j,ee,te,G++):ee),()=>{L=null,Y()}))},()=>{C=!0,Y()}))})}},96697:(Ne,V,E)=>{"use strict";E.d(V,{s:()=>X});var g=E(983),w=E(39974),O=E(54360);function X(_){return _<=0?()=>g.w:(0,w.N)((R,A)=>{let N=0;R.subscribe((0,O._)(A,L=>{++N<=_&&(A.next(L),_<=N&&A.complete())}))})}},56977:(Ne,V,E)=>{"use strict";E.d(V,{Q:()=>_});var g=E(39974),w=E(54360),O=E(58750),X=E(85343);function _(R){return(0,g.N)((A,N)=>{(0,O.Tg)(R).subscribe((0,w._)(N,()=>N.complete(),X.l)),!N.closed&&A.subscribe(N)})}},88141:(Ne,V,E)=>{"use strict";E.d(V,{M:()=>_});var g=E(98071),w=E(39974),O=E(54360),X=E(33669);function _(R,A,N){const L=(0,g.T)(R)||A||N?{next:R,error:A,complete:N}:R;return L?(0,w.N)((F,C)=>{var Y;null===(Y=L.subscribe)||void 0===Y||Y.call(L);let j=!0;F.subscribe((0,O._)(C,G=>{var te;null===(te=L.next)||void 0===te||te.call(L,G),C.next(G)},()=>{var G;j=!1,null===(G=L.complete)||void 0===G||G.call(L),C.complete()},G=>{var te;j=!1,null===(te=L.error)||void 0===te||te.call(L,G),C.error(G)},()=>{var G,te;j&&(null===(G=L.unsubscribe)||void 0===G||G.call(L)),null===(te=L.finalize)||void 0===te||te.call(L)}))}):X.D}},96780:(Ne,V,E)=>{"use strict";E.d(V,{R:()=>_});var g=E(18359);class w extends g.yU{constructor(A,N){super()}schedule(A,N=0){return this}}const O={setInterval(R,A,...N){const{delegate:L}=O;return L?.setInterval?L.setInterval(R,A,...N):setInterval(R,A,...N)},clearInterval(R){const{delegate:A}=O;return(A?.clearInterval||clearInterval)(R)},delegate:void 0};var X=E(57908);class _ extends w{constructor(A,N){super(A,N),this.scheduler=A,this.work=N,this.pending=!1}schedule(A,N=0){var L;if(this.closed)return this;this.state=A;const F=this.id,C=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(C,F,N)),this.pending=!0,this.delay=N,this.id=null!==(L=this.id)&&void 0!==L?L:this.requestAsyncId(C,this.id,N),this}requestAsyncId(A,N,L=0){return O.setInterval(A.flush.bind(A,this),L)}recycleAsyncId(A,N,L=0){if(null!=L&&this.delay===L&&!1===this.pending)return N;null!=N&&O.clearInterval(N)}execute(A,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const L=this._execute(A,N);if(L)return L;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,N){let F,L=!1;try{this.work(A)}catch(C){L=!0,F=C||new Error("Scheduled action threw falsy error")}if(L)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:A,scheduler:N}=this,{actions:L}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.o)(L,this),null!=A&&(this.id=this.recycleAsyncId(N,A,null)),this.delay=null,super.unsubscribe()}}}},39687:(Ne,V,E)=>{"use strict";E.d(V,{q:()=>O});var g=E(86129);class w{constructor(_,R=w.now){this.schedulerActionCtor=_,this.now=R}schedule(_,R=0,A){return new this.schedulerActionCtor(this,_).schedule(A,R)}}w.now=g.U.now;class O extends w{constructor(_,R=w.now){super(_,R),this.actions=[],this._active=!1}flush(_){const{actions:R}=this;if(this._active)return void R.push(_);let A;this._active=!0;do{if(A=_.execute(_.state,_.delay))break}while(_=R.shift());if(this._active=!1,A){for(;_=R.shift();)_.unsubscribe();throw A}}}},30536:(Ne,V,E)=>{"use strict";E.d(V,{X:()=>A});var g=E(96780),w=E(18359);const O={schedule(L){let F=requestAnimationFrame,C=cancelAnimationFrame;const{delegate:Y}=O;Y&&(F=Y.requestAnimationFrame,C=Y.cancelAnimationFrame);const j=F(G=>{C=void 0,L(G)});return new w.yU(()=>C?.(j))},requestAnimationFrame(...L){const{delegate:F}=O;return(F?.requestAnimationFrame||requestAnimationFrame)(...L)},cancelAnimationFrame(...L){const{delegate:F}=O;return(F?.cancelAnimationFrame||cancelAnimationFrame)(...L)},delegate:void 0};var _=E(39687);const A=new class R extends _.q{flush(F){this._active=!0;const C=this._scheduled;this._scheduled=void 0;const{actions:Y}=this;let j;F=F||Y.shift();do{if(j=F.execute(F.state,F.delay))break}while((F=Y[0])&&F.id===C&&Y.shift());if(this._active=!1,j){for(;(F=Y[0])&&F.id===C&&Y.shift();)F.unsubscribe();throw j}}}(class X extends g.R{constructor(F,C){super(F,C),this.scheduler=F,this.work=C}requestAsyncId(F,C,Y=0){return null!==Y&&Y>0?super.requestAsyncId(F,C,Y):(F.actions.push(this),F._scheduled||(F._scheduled=O.requestAnimationFrame(()=>F.flush(void 0))))}recycleAsyncId(F,C,Y=0){var j;if(null!=Y?Y>0:this.delay>0)return super.recycleAsyncId(F,C,Y);const{actions:G}=F;null!=C&&(null===(j=G[G.length-1])||void 0===j?void 0:j.id)!==C&&(O.cancelAnimationFrame(C),F._scheduled=void 0)}})},25007:(Ne,V,E)=>{"use strict";E.d(V,{$:()=>G});var g=E(96780);let O,w=1;const X={};function _(ee){return ee in X&&(delete X[ee],!0)}const R={setImmediate(ee){const q=w++;return X[q]=!0,O||(O=Promise.resolve()),O.then(()=>_(q)&&ee()),q},clearImmediate(ee){_(ee)}},{setImmediate:N,clearImmediate:L}=R,F={setImmediate(...ee){const{delegate:q}=F;return(q?.setImmediate||N)(...ee)},clearImmediate(ee){const{delegate:q}=F;return(q?.clearImmediate||L)(ee)},delegate:void 0};var Y=E(39687);const G=new class j extends Y.q{flush(q){this._active=!0;const J=this._scheduled;this._scheduled=void 0;const{actions:ne}=this;let ie;q=q||ne.shift();do{if(ie=q.execute(q.state,q.delay))break}while((q=ne[0])&&q.id===J&&ne.shift());if(this._active=!1,ie){for(;(q=ne[0])&&q.id===J&&ne.shift();)q.unsubscribe();throw ie}}}(class C extends g.R{constructor(q,J){super(q,J),this.scheduler=q,this.work=J}requestAsyncId(q,J,ne=0){return null!==ne&&ne>0?super.requestAsyncId(q,J,ne):(q.actions.push(this),q._scheduled||(q._scheduled=F.setImmediate(q.flush.bind(q,void 0))))}recycleAsyncId(q,J,ne=0){var ie;if(null!=ne?ne>0:this.delay>0)return super.recycleAsyncId(q,J,ne);const{actions:re}=q;null!=J&&(null===(ie=re[re.length-1])||void 0===ie?void 0:ie.id)!==J&&(F.clearImmediate(J),q._scheduled===J&&(q._scheduled=void 0))}})},43236:(Ne,V,E)=>{"use strict";E.d(V,{E:()=>O,b:()=>X});var g=E(96780);const O=new(E(39687).q)(g.R),X=O},86129:(Ne,V,E)=>{"use strict";E.d(V,{U:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},19270:(Ne,V,E)=>{"use strict";E.d(V,{f:()=>g});const g={setTimeout(w,O,...X){const{delegate:_}=g;return _?.setTimeout?_.setTimeout(w,O,...X):setTimeout(w,O,...X)},clearTimeout(w){const{delegate:O}=g;return(O?.clearTimeout||clearTimeout)(w)},delegate:void 0}},4761:(Ne,V,E)=>{"use strict";E.d(V,{l:()=>w});const w=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ne,V,E)=>{"use strict";E.d(V,{s:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Ne,V,E)=>{"use strict";E.d(V,{R0:()=>R,lI:()=>_,ms:()=>X});var g=E(98071),w=E(79470);function O(A){return A[A.length-1]}function X(A){return(0,g.T)(O(A))?A.pop():void 0}function _(A){return(0,w.m)(O(A))?A.pop():void 0}function R(A,N){return"number"==typeof O(A)?A.pop():N}},93073:(Ne,V,E)=>{"use strict";E.d(V,{D:()=>_});const{isArray:g}=Array,{getPrototypeOf:w,prototype:O,keys:X}=Object;function _(A){if(1===A.length){const N=A[0];if(g(N))return{args:N,keys:null};if(function R(A){return A&&"object"==typeof A&&w(A)===O}(N)){const L=X(N);return{args:L.map(F=>N[F]),keys:L}}}return{args:A,keys:null}}},57908:(Ne,V,E)=>{"use strict";function g(w,O){if(w){const X=w.indexOf(O);0<=X&&w.splice(X,1)}}E.d(V,{o:()=>g})},81853:(Ne,V,E)=>{"use strict";function g(w){const X=w(_=>{Error.call(_),_.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}E.d(V,{L:()=>g})},58496:(Ne,V,E)=>{"use strict";function g(w,O){return w.reduce((X,_,R)=>(X[_]=O[R],X),{})}E.d(V,{e:()=>g})},49786:(Ne,V,E)=>{"use strict";E.d(V,{Y:()=>O,l:()=>X});var g=E(41026);let w=null;function O(_){if(g.$.useDeprecatedSynchronousErrorHandling){const R=!w;if(R&&(w={errorThrown:!1,error:null}),_(),R){const{errorThrown:A,error:N}=w;if(w=null,A)throw N}}else _()}function X(_){g.$.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=_)}},45225:(Ne,V,E)=>{"use strict";function g(w,O,X,_=0,R=!1){const A=O.schedule(function(){X(),R?w.add(this.schedule(null,_)):this.unsubscribe()},_);if(w.add(A),!R)return A}E.d(V,{N:()=>g})},33669:(Ne,V,E)=>{"use strict";function g(w){return w}E.d(V,{D:()=>g})},47441:(Ne,V,E)=>{"use strict";E.d(V,{X:()=>g});const g=w=>w&&"number"==typeof w.length&&"function"!=typeof w},37953:(Ne,V,E)=>{"use strict";E.d(V,{T:()=>w});var g=E(98071);function w(O){return Symbol.asyncIterator&&(0,g.T)(O?.[Symbol.asyncIterator])}},98071:(Ne,V,E)=>{"use strict";function g(w){return"function"==typeof w}E.d(V,{T:()=>g})},55055:(Ne,V,E)=>{"use strict";E.d(V,{l:()=>O});var g=E(3494),w=E(98071);function O(X){return(0,w.T)(X[g.s])}},85397:(Ne,V,E)=>{"use strict";E.d(V,{x:()=>O});var g=E(4761),w=E(98071);function O(X){return(0,w.T)(X?.[g.l])}},74402:(Ne,V,E)=>{"use strict";E.d(V,{A:()=>O});var g=E(71985),w=E(98071);function O(X){return!!X&&(X instanceof g.c||(0,w.T)(X.lift)&&(0,w.T)(X.subscribe))}},59858:(Ne,V,E)=>{"use strict";E.d(V,{y:()=>w});var g=E(98071);function w(O){return(0,g.T)(O?.then)}},15196:(Ne,V,E)=>{"use strict";E.d(V,{C:()=>O,U:()=>X});var g=E(31635),w=E(98071);function O(_){return(0,g.AQ)(this,arguments,function*(){const A=_.getReader();try{for(;;){const{value:N,done:L}=yield(0,g.N3)(A.read());if(L)return yield(0,g.N3)(void 0);yield yield(0,g.N3)(N)}}finally{A.releaseLock()}})}function X(_){return(0,w.T)(_?.getReader)}},79470:(Ne,V,E)=>{"use strict";E.d(V,{m:()=>w});var g=E(98071);function w(O){return O&&(0,g.T)(O.schedule)}},39974:(Ne,V,E)=>{"use strict";E.d(V,{N:()=>O,S:()=>w});var g=E(98071);function w(X){return(0,g.T)(X?.lift)}function O(X){return _=>{if(w(_))return _.lift(function(R){try{return X(R,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Ne,V,E)=>{"use strict";E.d(V,{I:()=>X});var g=E(96354);const{isArray:w}=Array;function X(_){return(0,g.T)(R=>function O(_,R){return w(R)?_(...R):_(R)}(_,R))}},85343:(Ne,V,E)=>{"use strict";function g(){}E.d(V,{l:()=>g})},71203:(Ne,V,E)=>{"use strict";E.d(V,{F:()=>w,m:()=>O});var g=E(33669);function w(...X){return O(X)}function O(X){return 0===X.length?g.D:1===X.length?X[0]:function(R){return X.reduce((A,N)=>N(A),R)}}},45334:(Ne,V,E)=>{"use strict";E.d(V,{m:()=>O});var g=E(41026),w=E(19270);function O(X){w.f.setTimeout(()=>{const{onUnhandledError:_}=g.$;if(!_)throw X;_(X)})}},50591:(Ne,V,E)=>{"use strict";function g(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(V,{L:()=>g})},27054:(Ne,V,E)=>{var g=E(83838),w=g.Buffer;function O(_,R){for(var A in _)R[A]=_[A]}function X(_,R,A){return w(_,R,A)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?Ne.exports=g:(O(g,V),V.Buffer=X),X.prototype=Object.create(w.prototype),O(w,X),X.from=function(_,R,A){if("number"==typeof _)throw new TypeError("Argument must not be a number");return w(_,R,A)},X.alloc=function(_,R,A){if("number"!=typeof _)throw new TypeError("Argument must be a number");var N=w(_);return void 0!==R?"string"==typeof A?N.fill(R,A):N.fill(R):N.fill(0),N},X.allocUnsafe=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return w(_)},X.allocUnsafeSlow=function(_){if("number"!=typeof _)throw new TypeError("Argument must be a number");return g.SlowBuffer(_)}},70463:(Ne,V,E)=>{var g=E(27054).Buffer;function w(O,X){this._block=g.alloc(O),this._finalSize=X,this._blockSize=O,this._len=0}w.prototype.update=function(O,X){"string"==typeof O&&(O=g.from(O,X=X||"utf8"));for(var _=this._block,R=this._blockSize,A=O.length,N=this._len,L=0;L<A;){for(var F=N%R,C=Math.min(A-L,R-F),Y=0;Y<C;Y++)_[F+Y]=O[L+Y];L+=C,(N+=C)%R==0&&this._update(_)}return this._len+=A,this},w.prototype.digest=function(O){var X=this._len%this._blockSize;this._block[X]=128,this._block.fill(0,X+1),X>=this._finalSize&&(this._update(this._block),this._block.fill(0));var _=8*this._len;if(_<=4294967295)this._block.writeUInt32BE(_,this._blockSize-4);else{var R=(4294967295&_)>>>0;this._block.writeUInt32BE((_-R)/4294967296,this._blockSize-8),this._block.writeUInt32BE(R,this._blockSize-4)}this._update(this._block);var N=this._hash();return O?N.toString(O):N},w.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Ne.exports=w},25443:(Ne,V,E)=>{var g=Ne.exports=function(O){O=O.toLowerCase();var X=g[O];if(!X)throw new Error(O+" is not supported (we accept pull requests)");return new X};g.sha=E(48585),g.sha1=E(21270),g.sha224=E(42709),g.sha256=E(32148),g.sha384=E(51856),g.sha512=E(3121)},48585:(Ne,V,E)=>{var g=E(71993),w=E(70463),O=E(27054).Buffer,X=[1518500249,1859775393,-1894007588,-899497514],_=new Array(80);function R(){this.init(),this._w=_,w.call(this,64,56)}function A(F){return F<<5|F>>>27}function N(F){return F<<30|F>>>2}function L(F,C,Y,j){return 0===F?C&Y|~C&j:2===F?C&Y|C&j|Y&j:C^Y^j}g(R,w),R.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},R.prototype._update=function(F){for(var C=this._w,Y=0|this._a,j=0|this._b,G=0|this._c,te=0|this._d,ee=0|this._e,q=0;q<16;++q)C[q]=F.readInt32BE(4*q);for(;q<80;++q)C[q]=C[q-3]^C[q-8]^C[q-14]^C[q-16];for(var J=0;J<80;++J){var ne=~~(J/20),ie=A(Y)+L(ne,j,G,te)+ee+C[J]+X[ne]|0;ee=te,te=G,G=N(j),j=Y,Y=ie}this._a=Y+this._a|0,this._b=j+this._b|0,this._c=G+this._c|0,this._d=te+this._d|0,this._e=ee+this._e|0},R.prototype._hash=function(){var F=O.allocUnsafe(20);return F.writeInt32BE(0|this._a,0),F.writeInt32BE(0|this._b,4),F.writeInt32BE(0|this._c,8),F.writeInt32BE(0|this._d,12),F.writeInt32BE(0|this._e,16),F},Ne.exports=R},21270:(Ne,V,E)=>{var g=E(71993),w=E(70463),O=E(27054).Buffer,X=[1518500249,1859775393,-1894007588,-899497514],_=new Array(80);function R(){this.init(),this._w=_,w.call(this,64,56)}function A(C){return C<<1|C>>>31}function N(C){return C<<5|C>>>27}function L(C){return C<<30|C>>>2}function F(C,Y,j,G){return 0===C?Y&j|~Y&G:2===C?Y&j|Y&G|j&G:Y^j^G}g(R,w),R.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},R.prototype._update=function(C){for(var Y=this._w,j=0|this._a,G=0|this._b,te=0|this._c,ee=0|this._d,q=0|this._e,J=0;J<16;++J)Y[J]=C.readInt32BE(4*J);for(;J<80;++J)Y[J]=A(Y[J-3]^Y[J-8]^Y[J-14]^Y[J-16]);for(var ne=0;ne<80;++ne){var ie=~~(ne/20),re=N(j)+F(ie,G,te,ee)+q+Y[ne]+X[ie]|0;q=ee,ee=te,te=L(G),G=j,j=re}this._a=j+this._a|0,this._b=G+this._b|0,this._c=te+this._c|0,this._d=ee+this._d|0,this._e=q+this._e|0},R.prototype._hash=function(){var C=O.allocUnsafe(20);return C.writeInt32BE(0|this._a,0),C.writeInt32BE(0|this._b,4),C.writeInt32BE(0|this._c,8),C.writeInt32BE(0|this._d,12),C.writeInt32BE(0|this._e,16),C},Ne.exports=R},42709:(Ne,V,E)=>{var g=E(71993),w=E(32148),O=E(70463),X=E(27054).Buffer,_=new Array(64);function R(){this.init(),this._w=_,O.call(this,64,56)}g(R,w),R.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},R.prototype._hash=function(){var A=X.allocUnsafe(28);return A.writeInt32BE(this._a,0),A.writeInt32BE(this._b,4),A.writeInt32BE(this._c,8),A.writeInt32BE(this._d,12),A.writeInt32BE(this._e,16),A.writeInt32BE(this._f,20),A.writeInt32BE(this._g,24),A},Ne.exports=R},32148:(Ne,V,E)=>{var g=E(71993),w=E(70463),O=E(27054).Buffer,X=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=new Array(64);function R(){this.init(),this._w=_,w.call(this,64,56)}function A(j,G,te){return te^j&(G^te)}function N(j,G,te){return j&G|te&(j|G)}function L(j){return(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10)}function F(j){return(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7)}function C(j){return(j>>>7|j<<25)^(j>>>18|j<<14)^j>>>3}function Y(j){return(j>>>17|j<<15)^(j>>>19|j<<13)^j>>>10}g(R,w),R.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},R.prototype._update=function(j){for(var G=this._w,te=0|this._a,ee=0|this._b,q=0|this._c,J=0|this._d,ne=0|this._e,ie=0|this._f,re=0|this._g,ce=0|this._h,se=0;se<16;++se)G[se]=j.readInt32BE(4*se);for(;se<64;++se)G[se]=Y(G[se-2])+G[se-7]+C(G[se-15])+G[se-16]|0;for(var pe=0;pe<64;++pe){var we=ce+F(ne)+A(ne,ie,re)+X[pe]+G[pe]|0,Me=L(te)+N(te,ee,q)|0;ce=re,re=ie,ie=ne,ne=J+we|0,J=q,q=ee,ee=te,te=we+Me|0}this._a=te+this._a|0,this._b=ee+this._b|0,this._c=q+this._c|0,this._d=J+this._d|0,this._e=ne+this._e|0,this._f=ie+this._f|0,this._g=re+this._g|0,this._h=ce+this._h|0},R.prototype._hash=function(){var j=O.allocUnsafe(32);return j.writeInt32BE(this._a,0),j.writeInt32BE(this._b,4),j.writeInt32BE(this._c,8),j.writeInt32BE(this._d,12),j.writeInt32BE(this._e,16),j.writeInt32BE(this._f,20),j.writeInt32BE(this._g,24),j.writeInt32BE(this._h,28),j},Ne.exports=R},51856:(Ne,V,E)=>{var g=E(71993),w=E(3121),O=E(70463),X=E(27054).Buffer,_=new Array(160);function R(){this.init(),this._w=_,O.call(this,128,112)}g(R,w),R.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},R.prototype._hash=function(){var A=X.allocUnsafe(48);function N(L,F,C){A.writeInt32BE(L,C),A.writeInt32BE(F,C+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),A},Ne.exports=R},3121:(Ne,V,E)=>{var g=E(71993),w=E(70463),O=E(27054).Buffer,X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=new Array(160);function R(){this.init(),this._w=_,w.call(this,128,112)}function A(ee,q,J){return J^ee&(q^J)}function N(ee,q,J){return ee&q|J&(ee|q)}function L(ee,q){return(ee>>>28|q<<4)^(q>>>2|ee<<30)^(q>>>7|ee<<25)}function F(ee,q){return(ee>>>14|q<<18)^(ee>>>18|q<<14)^(q>>>9|ee<<23)}function C(ee,q){return(ee>>>1|q<<31)^(ee>>>8|q<<24)^ee>>>7}function Y(ee,q){return(ee>>>1|q<<31)^(ee>>>8|q<<24)^(ee>>>7|q<<25)}function j(ee,q){return(ee>>>19|q<<13)^(q>>>29|ee<<3)^ee>>>6}function G(ee,q){return(ee>>>19|q<<13)^(q>>>29|ee<<3)^(ee>>>6|q<<26)}function te(ee,q){return ee>>>0<q>>>0?1:0}g(R,w),R.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},R.prototype._update=function(ee){for(var q=this._w,J=0|this._ah,ne=0|this._bh,ie=0|this._ch,re=0|this._dh,ce=0|this._eh,se=0|this._fh,pe=0|this._gh,we=0|this._hh,Me=0|this._al,k=0|this._bl,l=0|this._cl,h=0|this._dl,m=0|this._el,p=0|this._fl,x=0|this._gl,D=0|this._hl,B=0;B<32;B+=2)q[B]=ee.readInt32BE(4*B),q[B+1]=ee.readInt32BE(4*B+4);for(;B<160;B+=2){var M=q[B-30],d=q[B-30+1],v=C(M,d),W=Y(d,M),z=j(M=q[B-4],d=q[B-4+1]),Q=G(d,M),Ie=q[B-32],Le=q[B-32+1],ve=W+q[B-14+1]|0,ye=v+q[B-14]+te(ve,W)|0;ye=(ye=ye+z+te(ve=ve+Q|0,Q)|0)+Ie+te(ve=ve+Le|0,Le)|0,q[B]=ye,q[B+1]=ve}for(var ke=0;ke<160;ke+=2){ye=q[ke],ve=q[ke+1];var me=N(J,ne,ie),Ee=N(Me,k,l),fe=L(J,Me),he=L(Me,J),ae=F(ce,m),ue=F(m,ce),ge=X[ke],Ae=X[ke+1],Ue=A(ce,se,pe),Ve=A(m,p,x),ze=D+ue|0,It=we+ae+te(ze,D)|0;It=(It=(It=It+Ue+te(ze=ze+Ve|0,Ve)|0)+ge+te(ze=ze+Ae|0,Ae)|0)+ye+te(ze=ze+ve|0,ve)|0;var qe=he+Ee|0,je=fe+me+te(qe,he)|0;we=pe,D=x,pe=se,x=p,se=ce,p=m,ce=re+It+te(m=h+ze|0,h)|0,re=ie,h=l,ie=ne,l=k,ne=J,k=Me,J=It+je+te(Me=ze+qe|0,ze)|0}this._al=this._al+Me|0,this._bl=this._bl+k|0,this._cl=this._cl+l|0,this._dl=this._dl+h|0,this._el=this._el+m|0,this._fl=this._fl+p|0,this._gl=this._gl+x|0,this._hl=this._hl+D|0,this._ah=this._ah+J+te(this._al,Me)|0,this._bh=this._bh+ne+te(this._bl,k)|0,this._ch=this._ch+ie+te(this._cl,l)|0,this._dh=this._dh+re+te(this._dl,h)|0,this._eh=this._eh+ce+te(this._el,m)|0,this._fh=this._fh+se+te(this._fl,p)|0,this._gh=this._gh+pe+te(this._gl,x)|0,this._hh=this._hh+we+te(this._hl,D)|0},R.prototype._hash=function(){var ee=O.allocUnsafe(64);function q(J,ne,ie){ee.writeInt32BE(J,ie),ee.writeInt32BE(ne,ie+4)}return q(this._ah,this._al,0),q(this._bh,this._bl,8),q(this._ch,this._cl,16),q(this._dh,this._dl,24),q(this._eh,this._el,32),q(this._fh,this._fl,40),q(this._gh,this._gl,48),q(this._hh,this._hl,56),ee},Ne.exports=R},18876:Ne=>{"use strict";function E(X,_){return X+g(_)}function g(X){let _=X;return _-=_>>1&1431655765,_=(858993459&_)+(_>>2&858993459),16843009*(_+(_>>4)&252645135)>>24}function w(X,_){return X[0]-_[0]}function O(X){return X[1]}Ne.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(_,R){let A=this._internalPositionFor(_,!1);if(void 0===R)-1!==A&&(this._unsetInternalPos(A),this._unsetBit(_),this._changedLength=!0,this._changedData=!0);else{let N=!1;-1===A?(A=this._data.length,this._setBit(_),this._changedData=!0):N=!0,this._setInternalPos(A,_,R,N),this._changedLength=!0}}unset(_){this.set(_,void 0)}get(_){this._sortData();const R=this._internalPositionFor(_,!0);if(-1!==R)return this._data[R][1]}push(_){return this.set(this.length,_),this.length}get length(){if(this._sortData(),this._changedLength){const _=this._data[this._data.length-1];this._length=_?_[0]+1:0,this._changedLength=!1}return this._length}forEach(_){let R=0;for(;R<this.length;)_(this.get(R),R,this),R++}map(_){let R=0,A=new Array(this.length);for(;R<this.length;)A[R]=_(this.get(R),R,this),R++;return A}reduce(_,R){let A=0,N=R;for(;A<this.length;)N=_(N,this.get(A),A),A++;return N}find(_){let A,N,R=0;for(;R<this.length&&!A;)N=this.get(R),A=_(N),R++;return A?N:void 0}_internalPositionFor(_,R){const A=this._bytePosFor(_,R);if(A>=this._bitArrays.length)return-1;const N=this._bitArrays[A],L=_-7*A;return(N&1<<L)>0?this._bitArrays.slice(0,A).reduce(E,0)+g(N&~(4294967295<<L+1))-1:-1}_bytePosFor(_,R){const A=Math.floor(_/7),N=A+1;for(;!R&&this._bitArrays.length<N;)this._bitArrays.push(0);return A}_setBit(_){const R=this._bytePosFor(_,!1);this._bitArrays[R]|=1<<_-7*R}_unsetBit(_){const R=this._bytePosFor(_,!1);this._bitArrays[R]&=~(1<<_-7*R)}_setInternalPos(_,R,A,N){const L=this._data,F=[R,A];if(N)this._sortData(),L[_]=F;else{if(L.length)if(L[L.length-1][0]>=R)L.push(F);else if(L[0][0]<=R)L.unshift(F);else{const C=Math.round(L.length/2);this._data=L.slice(0,C).concat(F).concat(L.slice(C))}else this._data.push(F);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(_){this._data.splice(_,1)}_sortData(){this._changedData&&this._data.sort(w),this._changedData=!1}bitField(){const _=[];let L,R=8,A=0,N=0;const F=this._bitArrays.slice();for(;F.length||A;){0===A&&(L=F.shift(),A=7);const Y=Math.min(A,R);N|=(L&~(255<<Y))<<8-R,L>>>=Y,A-=Y,R-=Y,(!R||!A&&!F.length)&&(_.push(N),N=0,R=8)}for(var C=_.length-1;C>0&&0===_[C];C--)_.pop();return _}compactArray(){return this._sortData(),this._data.map(O)}}},7045:(Ne,V,E)=>{Ne.exports=O;var g=E(44356).EventEmitter;function O(){g.call(this)}E(71993)(O,g),O.Readable=E(19609),O.Writable=E(47849),O.Duplex=E(74075),O.Transform=E(2909),O.PassThrough=E(18823),O.finished=E(33139),O.pipeline=E(96249),O.Stream=O,O.prototype.pipe=function(X,_){var R=this;function A(G){X.writable&&!1===X.write(G)&&R.pause&&R.pause()}function N(){R.readable&&R.resume&&R.resume()}R.on("data",A),X.on("drain",N),!X._isStdio&&(!_||!1!==_.end)&&(R.on("end",F),R.on("close",C));var L=!1;function F(){L||(L=!0,X.end())}function C(){L||(L=!0,"function"==typeof X.destroy&&X.destroy())}function Y(G){if(j(),0===g.listenerCount(this,"error"))throw G}function j(){R.removeListener("data",A),X.removeListener("drain",N),R.removeListener("end",F),R.removeListener("close",C),R.removeListener("error",Y),X.removeListener("error",Y),R.removeListener("end",j),R.removeListener("close",j),X.removeListener("close",j)}return R.on("error",Y),X.on("error",Y),R.on("end",j),R.on("close",j),X.on("close",j),X.emit("pipe",R),X}},78454:(Ne,V,E)=>{"use strict";var g=E(27054).Buffer,w=g.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _(J){var ne;switch(this.encoding=function X(J){var ne=function O(J){if(!J)return"utf8";for(var ne;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(ne)return;J=(""+J).toLowerCase(),ne=!0}}(J);if("string"!=typeof ne&&(g.isEncoding===w||!w(J)))throw new Error("Unknown encoding: "+J);return ne||J}(J),this.encoding){case"utf16le":this.text=Y,this.end=j,ne=4;break;case"utf8":this.fillLast=L,ne=4;break;case"base64":this.text=G,this.end=te,ne=3;break;default:return this.write=ee,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(ne)}function R(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function L(J){var ne=this.lastTotal-this.lastNeed,ie=function N(J,ne,ie){if(128!=(192&ne[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&ne.length>1){if(128!=(192&ne[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&ne.length>2&&128!=(192&ne[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==ie?ie:this.lastNeed<=J.length?(J.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,ne,0,J.length),void(this.lastNeed-=J.length))}function Y(J,ne){if((J.length-ne)%2==0){var ie=J.toString("utf16le",ne);if(ie){var re=ie.charCodeAt(ie.length-1);if(re>=55296&&re<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",ne,J.length-1)}function j(J){var ne=J&&J.length?this.write(J):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function G(J,ne){var ie=(J.length-ne)%3;return 0===ie?J.toString("base64",ne):(this.lastNeed=3-ie,this.lastTotal=3,1===ie?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",ne,J.length-ie))}function te(J){var ne=J&&J.length?this.write(J):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function ee(J){return J.toString(this.encoding)}function q(J){return J&&J.length?this.write(J):""}V.StringDecoder=_,_.prototype.write=function(J){if(0===J.length)return"";var ne,ie;if(this.lastNeed){if(void 0===(ne=this.fillLast(J)))return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<J.length?ne?ne+this.text(J,ie):this.text(J,ie):ne||""},_.prototype.end=function C(J){var ne=J&&J.length?this.write(J):"";return this.lastNeed?ne+"\ufffd":ne},_.prototype.text=function F(J,ne){var ie=function A(J,ne,ie){var re=ne.length-1;if(re<ie)return 0;var ce=R(ne[re]);return ce>=0?(ce>0&&(J.lastNeed=ce-1),ce):--re<ie||-2===ce?0:(ce=R(ne[re]))>=0?(ce>0&&(J.lastNeed=ce-2),ce):--re<ie||-2===ce?0:(ce=R(ne[re]))>=0?(ce>0&&(2===ce?ce=0:J.lastNeed=ce-3),ce):0}(this,J,ne);if(!this.lastNeed)return J.toString("utf8",ne);this.lastTotal=ie;var re=J.length-(ie-this.lastNeed);return J.copy(this.lastChar,0,re),J.toString("utf8",ne,re)},_.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},95568:function(Ne,V){!function(E){"use strict";function g(){for(var ot=arguments.length,He=Array(ot),ht=0;ht<ot;ht++)He[ht]=arguments[ht];if(He.length>1){He[0]=He[0].slice(0,-1);for(var sn=He.length-1,Kt=1;Kt<sn;++Kt)He[Kt]=He[Kt].slice(1,-1);return He[sn]=He[sn].slice(1),He.join("")}return He[0]}function w(ot){return"(?:"+ot+")"}function O(ot){return void 0===ot?"undefined":null===ot?"null":Object.prototype.toString.call(ot).split(" ").pop().split("]").shift().toLowerCase()}function X(ot){return ot.toUpperCase()}function A(ot){var He="[A-Za-z]",sn="[0-9]",rn=g(sn,"[A-Fa-f]"),un=w(w("%[EFef]"+rn+"%"+rn+rn+"%"+rn+rn)+"|"+w("%[89A-Fa-f]"+rn+"%"+rn+rn)+"|"+w("%"+rn+rn)),Hn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pn=g("[\\:\\/\\?\\#\\[\\]\\@]",Hn),qt=ot?"[\\uE000-\\uF8FF]":"[]",Yt=g(He,sn,"[\\-\\.\\_\\~]",ot?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Xn=w(He+g(He,sn,"[\\+\\-\\.]")+"*"),$n=w(w(un+"|"+g(Yt,Hn,"[\\:]"))+"*"),hr=(w(w("25[0-5]")+"|"+w("2[0-4]"+sn)+"|"+w("1"+sn+sn)+"|"+w("[1-9]"+sn)+"|"+sn),w(w("25[0-5]")+"|"+w("2[0-4]"+sn)+"|"+w("1"+sn+sn)+"|"+w("0?[1-9]"+sn)+"|0?0?"+sn)),vr=w(hr+"\\."+hr+"\\."+hr+"\\."+hr),sr=w(rn+"{1,4}"),pr=w(w(sr+"\\:"+sr)+"|"+vr),kr=w(w(sr+"\\:")+"{6}"+pr),Tr=w("\\:\\:"+w(sr+"\\:")+"{5}"+pr),jr=w(w(sr)+"?\\:\\:"+w(sr+"\\:")+"{4}"+pr),Ir=w(w(w(sr+"\\:")+"{0,1}"+sr)+"?\\:\\:"+w(sr+"\\:")+"{3}"+pr),Ot=w(w(w(sr+"\\:")+"{0,2}"+sr)+"?\\:\\:"+w(sr+"\\:")+"{2}"+pr),Wt=w(w(w(sr+"\\:")+"{0,3}"+sr)+"?\\:\\:"+sr+"\\:"+pr),en=w(w(w(sr+"\\:")+"{0,4}"+sr)+"?\\:\\:"+pr),Sn=w(w(w(sr+"\\:")+"{0,5}"+sr)+"?\\:\\:"+sr),xn=w(w(w(sr+"\\:")+"{0,6}"+sr)+"?\\:\\:"),Vn=w([kr,Tr,jr,Ir,Ot,Wt,en,Sn,xn].join("|")),Jn=w(w(Yt+"|"+un)+"+"),lr=(w(Vn+"\\%25"+Jn),w(Vn+w("\\%25|\\%(?!"+rn+"{2})")+Jn)),tr=w("[vV]"+rn+"+\\."+g(Yt,Hn,"[\\:]")+"+"),Hi=w("\\["+w(lr+"|"+Vn+"|"+tr)+"\\]"),li=w(w(un+"|"+g(Yt,Hn))+"*"),Hr=w(Hi+"|"+vr+"(?!"+li+")|"+li),Mi=w(sn+"*"),Xi=w(w($n+"@")+"?"+Hr+w("\\:"+Mi)+"?"),si=w(un+"|"+g(Yt,Hn,"[\\:\\@]")),Li=w(si+"*"),mo=w(si+"+"),xs=w(w(un+"|"+g(Yt,Hn,"[\\@]"))+"+"),ri=w(w("\\/"+Li)+"*"),xo=w("\\/"+w(mo+ri)+"?"),fa=w(xs+ri),Ns=w(mo+ri),Ms="(?!"+si+")",Rn=(w(ri+"|"+xo+"|"+fa+"|"+Ns+"|"+Ms),w(w(si+"|"+g("[\\/\\?]",qt))+"*")),Ut=w(w(si+"|[\\/\\?]")+"*"),mn=w(w("\\/\\/"+Xi+ri)+"|"+xo+"|"+Ns+"|"+Ms),bn=w(Xn+"\\:"+mn+w("\\?"+Rn)+"?"+w("\\#"+Ut)+"?"),Kr=w(w("\\/\\/"+Xi+ri)+"|"+xo+"|"+fa+"|"+Ms),Rr=w(Kr+w("\\?"+Rn)+"?"+w("\\#"+Ut)+"?");return w(bn+"|"+Rr),w(Xn+"\\:"+mn+w("\\?"+Rn)+"?"),w(w("\\/\\/("+w("("+$n+")@")+"?("+Hr+")"+w("\\:("+Mi+")")+"?)")+"?("+ri+"|"+xo+"|"+Ns+"|"+Ms+")"),w("\\?("+Rn+")"),w("\\#("+Ut+")"),w(w("\\/\\/("+w("("+$n+")@")+"?("+Hr+")"+w("\\:("+Mi+")")+"?)")+"?("+ri+"|"+xo+"|"+fa+"|"+Ms+")"),w("\\?("+Rn+")"),w("\\#("+Ut+")"),w(w("\\/\\/("+w("("+$n+")@")+"?("+Hr+")"+w("\\:("+Mi+")")+"?)")+"?("+ri+"|"+xo+"|"+Ns+"|"+Ms+")"),w("\\?("+Rn+")"),w("\\#("+Ut+")"),w("("+$n+")@"),w("\\:("+Mi+")"),{NOT_SCHEME:new RegExp(g("[^]",He,sn,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(g("[^\\%\\:]",Yt,Hn),"g"),NOT_HOST:new RegExp(g("[^\\%\\[\\]\\:]",Yt,Hn),"g"),NOT_PATH:new RegExp(g("[^\\%\\/\\:\\@]",Yt,Hn),"g"),NOT_PATH_NOSCHEME:new RegExp(g("[^\\%\\/\\@]",Yt,Hn),"g"),NOT_QUERY:new RegExp(g("[^\\%]",Yt,Hn,"[\\:\\@\\/\\?]",qt),"g"),NOT_FRAGMENT:new RegExp(g("[^\\%]",Yt,Hn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(g("[^]",Yt,Hn),"g"),UNRESERVED:new RegExp(Yt,"g"),OTHER_CHARS:new RegExp(g("[^\\%]",Yt,Pn),"g"),PCT_ENCODED:new RegExp(un,"g"),IPV4ADDRESS:new RegExp("^("+vr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Vn+")"+w(w("\\%25|\\%(?!"+rn+"{2})")+"("+Jn+")")+"?\\]?$")}}var N=A(!1),L=A(!0),F=function(){return function(He,ht){if(Array.isArray(He))return He;if(Symbol.iterator in Object(He))return function ot(He,ht){var sn=[],Kt=!0,rn=!1,ir=void 0;try{for(var un,pn=He[Symbol.iterator]();!(Kt=(un=pn.next()).done)&&(sn.push(un.value),!ht||sn.length!==ht);Kt=!0);}catch(ur){rn=!0,ir=ur}finally{try{!Kt&&pn.return&&pn.return()}finally{if(rn)throw ir}}return sn}(He,ht);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=2147483647,j=36,re=/^xn--/,ce=/[^\0-\x7E]/,se=/[\x2E\u3002\uFF0E\uFF61]/g,pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Me=Math.floor,k=String.fromCharCode;function l(ot){throw new RangeError(pe[ot])}function m(ot,He){var ht=ot.split("@"),sn="";return ht.length>1&&(sn=ht[0]+"@",ot=ht[1]),sn+function h(ot,He){for(var ht=[],sn=ot.length;sn--;)ht[sn]=He(ot[sn]);return ht}((ot=ot.replace(se,".")).split("."),He).join(".")}function p(ot){for(var He=[],ht=0,sn=ot.length;ht<sn;){var Kt=ot.charCodeAt(ht++);if(Kt>=55296&&Kt<=56319&&ht<sn){var rn=ot.charCodeAt(ht++);56320==(64512&rn)?He.push(((1023&Kt)<<10)+(1023&rn)+65536):(He.push(Kt),ht--)}else He.push(Kt)}return He}var D=function(He){return He-48<10?He-22:He-65<26?He-65:He-97<26?He-97:j},B=function(He,ht){return He+22+75*(He<26)-((0!=ht)<<5)},M=function(He,ht,sn){var Kt=0;for(He=sn?Me(He/700):He>>1,He+=Me(He/ht);He>455;Kt+=j)He=Me(He/35);return Me(Kt+36*He/(He+38))},d=function(He){var ht=[],sn=He.length,Kt=0,rn=128,ir=72,pn=He.lastIndexOf("-");pn<0&&(pn=0);for(var un=0;un<pn;++un)He.charCodeAt(un)>=128&&l("not-basic"),ht.push(He.charCodeAt(un));for(var ur=pn>0?pn+1:0;ur<sn;){for(var Hn=Kt,Pn=1,Dn=j;;Dn+=j){ur>=sn&&l("invalid-input");var qt=D(He.charCodeAt(ur++));(qt>=j||qt>Me((Y-Kt)/Pn))&&l("overflow"),Kt+=qt*Pn;var Yt=Dn<=ir?1:Dn>=ir+26?26:Dn-ir;if(qt<Yt)break;var Xn=j-Yt;Pn>Me(Y/Xn)&&l("overflow"),Pn*=Xn}var $n=ht.length+1;ir=M(Kt-Hn,$n,0==Hn),Me(Kt/$n)>Y-rn&&l("overflow"),rn+=Me(Kt/$n),Kt%=$n,ht.splice(Kt++,0,rn)}return String.fromCodePoint.apply(String,ht)},v=function(He){var ht=[],sn=(He=p(He)).length,Kt=128,rn=0,ir=72,pn=!0,un=!1,ur=void 0;try{for(var Pn,Hn=He[Symbol.iterator]();!(pn=(Pn=Hn.next()).done);pn=!0){var Dn=Pn.value;Dn<128&&ht.push(k(Dn))}}catch(lr){un=!0,ur=lr}finally{try{!pn&&Hn.return&&Hn.return()}finally{if(un)throw ur}}var qt=ht.length,Yt=qt;for(qt&&ht.push("-");Yt<sn;){var Xn=Y,$n=!0,yr=!1,hr=void 0;try{for(var sr,vr=He[Symbol.iterator]();!($n=(sr=vr.next()).done);$n=!0){var pr=sr.value;pr>=Kt&&pr<Xn&&(Xn=pr)}}catch(lr){yr=!0,hr=lr}finally{try{!$n&&vr.return&&vr.return()}finally{if(yr)throw hr}}var kr=Yt+1;Xn-Kt>Me((Y-rn)/kr)&&l("overflow"),rn+=(Xn-Kt)*kr,Kt=Xn;var Tr=!0,jr=!1,Ir=void 0;try{for(var Wt,Ot=He[Symbol.iterator]();!(Tr=(Wt=Ot.next()).done);Tr=!0){var en=Wt.value;if(en<Kt&&++rn>Y&&l("overflow"),en==Kt){for(var Sn=rn,xn=j;;xn+=j){var Vn=xn<=ir?1:xn>=ir+26?26:xn-ir;if(Sn<Vn)break;var Jn=Sn-Vn,br=j-Vn;ht.push(k(B(Vn+Jn%br,0))),Sn=Me(Jn/br)}ht.push(k(B(Sn,0))),ir=M(rn,kr,Yt==qt),rn=0,++Yt}}}catch(lr){jr=!0,Ir=lr}finally{try{!Tr&&Ot.return&&Ot.return()}finally{if(jr)throw Ir}}++rn,++Kt}return ht.join("")},Q={version:"2.1.0",ucs2:{decode:p,encode:function(He){return String.fromCodePoint.apply(String,function(ot){if(Array.isArray(ot)){for(var He=0,ht=Array(ot.length);He<ot.length;He++)ht[He]=ot[He];return ht}return Array.from(ot)}(He))}},decode:d,encode:v,toASCII:function(He){return m(He,function(ht){return ce.test(ht)?"xn--"+v(ht):ht})},toUnicode:function(He){return m(He,function(ht){return re.test(ht)?d(ht.slice(4).toLowerCase()):ht})}},de={};function xe(ot){var He=ot.charCodeAt(0);return He<16?"%0"+He.toString(16).toUpperCase():He<128?"%"+He.toString(16).toUpperCase():He<2048?"%"+(He>>6|192).toString(16).toUpperCase()+"%"+(63&He|128).toString(16).toUpperCase():"%"+(He>>12|224).toString(16).toUpperCase()+"%"+(He>>6&63|128).toString(16).toUpperCase()+"%"+(63&He|128).toString(16).toUpperCase()}function Ie(ot){for(var He="",ht=0,sn=ot.length;ht<sn;){var Kt=parseInt(ot.substr(ht+1,2),16);if(Kt<128)He+=String.fromCharCode(Kt),ht+=3;else if(Kt>=194&&Kt<224){if(sn-ht>=6){var rn=parseInt(ot.substr(ht+4,2),16);He+=String.fromCharCode((31&Kt)<<6|63&rn)}else He+=ot.substr(ht,6);ht+=6}else if(Kt>=224){if(sn-ht>=9){var ir=parseInt(ot.substr(ht+4,2),16),pn=parseInt(ot.substr(ht+7,2),16);He+=String.fromCharCode((15&Kt)<<12|(63&ir)<<6|63&pn)}else He+=ot.substr(ht,9);ht+=9}else He+=ot.substr(ht,3),ht+=3}return He}function Le(ot,He){function ht(sn){var Kt=Ie(sn);return Kt.match(He.UNRESERVED)?Kt:sn}return ot.scheme&&(ot.scheme=String(ot.scheme).replace(He.PCT_ENCODED,ht).toLowerCase().replace(He.NOT_SCHEME,"")),void 0!==ot.userinfo&&(ot.userinfo=String(ot.userinfo).replace(He.PCT_ENCODED,ht).replace(He.NOT_USERINFO,xe).replace(He.PCT_ENCODED,X)),void 0!==ot.host&&(ot.host=String(ot.host).replace(He.PCT_ENCODED,ht).toLowerCase().replace(He.NOT_HOST,xe).replace(He.PCT_ENCODED,X)),void 0!==ot.path&&(ot.path=String(ot.path).replace(He.PCT_ENCODED,ht).replace(ot.scheme?He.NOT_PATH:He.NOT_PATH_NOSCHEME,xe).replace(He.PCT_ENCODED,X)),void 0!==ot.query&&(ot.query=String(ot.query).replace(He.PCT_ENCODED,ht).replace(He.NOT_QUERY,xe).replace(He.PCT_ENCODED,X)),void 0!==ot.fragment&&(ot.fragment=String(ot.fragment).replace(He.PCT_ENCODED,ht).replace(He.NOT_FRAGMENT,xe).replace(He.PCT_ENCODED,X)),ot}function ve(ot){return ot.replace(/^0*(.*)/,"$1")||"0"}function ye(ot,He){var ht=ot.match(He.IPV4ADDRESS)||[],Kt=F(ht,2)[1];return Kt?Kt.split(".").map(ve).join("."):ot}function ke(ot,He){var ht=ot.match(He.IPV6ADDRESS)||[],sn=F(ht,3),Kt=sn[1],rn=sn[2];if(Kt){for(var ir=Kt.toLowerCase().split("::").reverse(),pn=F(ir,2),un=pn[0],ur=pn[1],Hn=ur?ur.split(":").map(ve):[],Pn=un.split(":").map(ve),Dn=He.IPV4ADDRESS.test(Pn[Pn.length-1]),qt=Dn?7:8,Yt=Pn.length-qt,Xn=Array(qt),$n=0;$n<qt;++$n)Xn[$n]=Hn[$n]||Pn[Yt+$n]||"";Dn&&(Xn[qt-1]=ye(Xn[qt-1],He));var hr=Xn.reduce(function(kr,Tr,jr){if(!Tr||"0"===Tr){var Ir=kr[kr.length-1];Ir&&Ir.index+Ir.length===jr?Ir.length++:kr.push({index:jr,length:1})}return kr},[]).sort(function(kr,Tr){return Tr.length-kr.length})[0],vr=void 0;if(hr&&hr.length>1){var sr=Xn.slice(0,hr.index),pr=Xn.slice(hr.index+hr.length);vr=sr.join(":")+"::"+pr.join(":")}else vr=Xn.join(":");return rn&&(vr+="%"+rn),vr}return ot}var me=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ee=void 0==="".match(/(){0}/)[1];function fe(ot){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ht={},sn=!1!==He.iri?L:N;"suffix"===He.reference&&(ot=(He.scheme?He.scheme+":":"")+"//"+ot);var Kt=ot.match(me);if(Kt){Ee?(ht.scheme=Kt[1],ht.userinfo=Kt[3],ht.host=Kt[4],ht.port=parseInt(Kt[5],10),ht.path=Kt[6]||"",ht.query=Kt[7],ht.fragment=Kt[8],isNaN(ht.port)&&(ht.port=Kt[5])):(ht.scheme=Kt[1]||void 0,ht.userinfo=-1!==ot.indexOf("@")?Kt[3]:void 0,ht.host=-1!==ot.indexOf("//")?Kt[4]:void 0,ht.port=parseInt(Kt[5],10),ht.path=Kt[6]||"",ht.query=-1!==ot.indexOf("?")?Kt[7]:void 0,ht.fragment=-1!==ot.indexOf("#")?Kt[8]:void 0,isNaN(ht.port)&&(ht.port=ot.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Kt[4]:void 0)),ht.host&&(ht.host=ke(ye(ht.host,sn),sn)),ht.reference=void 0!==ht.scheme||void 0!==ht.userinfo||void 0!==ht.host||void 0!==ht.port||ht.path||void 0!==ht.query?void 0===ht.scheme?"relative":void 0===ht.fragment?"absolute":"uri":"same-document",He.reference&&"suffix"!==He.reference&&He.reference!==ht.reference&&(ht.error=ht.error||"URI is not a "+He.reference+" reference.");var rn=de[(He.scheme||ht.scheme||"").toLowerCase()];if(He.unicodeSupport||rn&&rn.unicodeSupport)Le(ht,sn);else{if(ht.host&&(He.domainHost||rn&&rn.domainHost))try{ht.host=Q.toASCII(ht.host.replace(sn.PCT_ENCODED,Ie).toLowerCase())}catch(ir){ht.error=ht.error||"Host's domain name can not be converted to ASCII via punycode: "+ir}Le(ht,N)}rn&&rn.parse&&rn.parse(ht,He)}else ht.error=ht.error||"URI can not be parsed.";return ht}var ae=/^\.\.?\//,ue=/^\/\.(\/|$)/,ge=/^\/\.\.(\/|$)/,Ae=/^\/?(?:.|\n)*?(?=\/|$)/;function Ue(ot){for(var He=[];ot.length;)if(ot.match(ae))ot=ot.replace(ae,"");else if(ot.match(ue))ot=ot.replace(ue,"/");else if(ot.match(ge))ot=ot.replace(ge,"/"),He.pop();else if("."===ot||".."===ot)ot="";else{var ht=ot.match(Ae);if(!ht)throw new Error("Unexpected dot segment condition");var sn=ht[0];ot=ot.slice(sn.length),He.push(sn)}return He.join("")}function Ve(ot){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ht=He.iri?L:N,sn=[],Kt=de[(He.scheme||ot.scheme||"").toLowerCase()];if(Kt&&Kt.serialize&&Kt.serialize(ot,He),ot.host&&!ht.IPV6ADDRESS.test(ot.host)&&(He.domainHost||Kt&&Kt.domainHost))try{ot.host=He.iri?Q.toUnicode(ot.host):Q.toASCII(ot.host.replace(ht.PCT_ENCODED,Ie).toLowerCase())}catch(pn){ot.error=ot.error||"Host's domain name can not be converted to "+(He.iri?"Unicode":"ASCII")+" via punycode: "+pn}Le(ot,ht),"suffix"!==He.reference&&ot.scheme&&(sn.push(ot.scheme),sn.push(":"));var rn=function he(ot,He){var ht=!1!==He.iri?L:N,sn=[];return void 0!==ot.userinfo&&(sn.push(ot.userinfo),sn.push("@")),void 0!==ot.host&&sn.push(ke(ye(String(ot.host),ht),ht).replace(ht.IPV6ADDRESS,function(Kt,rn,ir){return"["+rn+(ir?"%25"+ir:"")+"]"})),("number"==typeof ot.port||"string"==typeof ot.port)&&(sn.push(":"),sn.push(String(ot.port))),sn.length?sn.join(""):void 0}(ot,He);if(void 0!==rn&&("suffix"!==He.reference&&sn.push("//"),sn.push(rn),ot.path&&"/"!==ot.path.charAt(0)&&sn.push("/")),void 0!==ot.path){var ir=ot.path;!He.absolutePath&&(!Kt||!Kt.absolutePath)&&(ir=Ue(ir)),void 0===rn&&(ir=ir.replace(/^\/\//,"/%2F")),sn.push(ir)}return void 0!==ot.query&&(sn.push("?"),sn.push(ot.query)),void 0!==ot.fragment&&(sn.push("#"),sn.push(ot.fragment)),sn.join("")}function ze(ot,He){var ht=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Kt={};return arguments[3]||(ot=fe(Ve(ot,ht),ht),He=fe(Ve(He,ht),ht)),!(ht=ht||{}).tolerant&&He.scheme?(Kt.scheme=He.scheme,Kt.userinfo=He.userinfo,Kt.host=He.host,Kt.port=He.port,Kt.path=Ue(He.path||""),Kt.query=He.query):(void 0!==He.userinfo||void 0!==He.host||void 0!==He.port?(Kt.userinfo=He.userinfo,Kt.host=He.host,Kt.port=He.port,Kt.path=Ue(He.path||""),Kt.query=He.query):(He.path?("/"===He.path.charAt(0)?Kt.path=Ue(He.path):(Kt.path=void 0===ot.userinfo&&void 0===ot.host&&void 0===ot.port||ot.path?ot.path?ot.path.slice(0,ot.path.lastIndexOf("/")+1)+He.path:He.path:"/"+He.path,Kt.path=Ue(Kt.path)),Kt.query=He.query):(Kt.path=ot.path,Kt.query=void 0!==He.query?He.query:ot.query),Kt.userinfo=ot.userinfo,Kt.host=ot.host,Kt.port=ot.port),Kt.scheme=ot.scheme),Kt.fragment=He.fragment,Kt}function $(ot,He){return ot&&ot.toString().replace(He&&He.iri?L.PCT_ENCODED:N.PCT_ENCODED,Ie)}var T={scheme:"http",domainHost:!0,parse:function(He,ht){return He.host||(He.error=He.error||"HTTP URIs must have a host."),He},serialize:function(He,ht){var sn="https"===String(He.scheme).toLowerCase();return(He.port===(sn?443:80)||""===He.port)&&(He.port=void 0),He.path||(He.path="/"),He}},S={scheme:"https",domainHost:T.domainHost,parse:T.parse,serialize:T.serialize};function Z(ot){return"boolean"==typeof ot.secure?ot.secure:"wss"===String(ot.scheme).toLowerCase()}var le={scheme:"ws",domainHost:!0,parse:function(He,ht){var sn=He;return sn.secure=Z(sn),sn.resourceName=(sn.path||"/")+(sn.query?"?"+sn.query:""),sn.path=void 0,sn.query=void 0,sn},serialize:function(He,ht){if((He.port===(Z(He)?443:80)||""===He.port)&&(He.port=void 0),"boolean"==typeof He.secure&&(He.scheme=He.secure?"wss":"ws",He.secure=void 0),He.resourceName){var sn=He.resourceName.split("?"),Kt=F(sn,2),rn=Kt[0],ir=Kt[1];He.path=rn&&"/"!==rn?rn:void 0,He.query=ir,He.resourceName=void 0}return He.fragment=void 0,He}},De={scheme:"wss",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize},Oe={},Nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ft="[0-9A-Fa-f]",St=w(w("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+w("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+w("%"+ft+ft)),Vt=g("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),cn=new RegExp(Nt,"g"),Bt=new RegExp(St,"g"),Dt=new RegExp(g("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Vt),"g"),nt=new RegExp(g("[^]",Nt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Ye=nt;function At(ot){var He=Ie(ot);return He.match(cn)?He:ot}var kt={scheme:"mailto",parse:function(He,ht){var sn=He,Kt=sn.to=sn.path?sn.path.split(","):[];if(sn.path=void 0,sn.query){for(var rn=!1,ir={},pn=sn.query.split("&"),un=0,ur=pn.length;un<ur;++un){var Hn=pn[un].split("=");switch(Hn[0]){case"to":for(var Pn=Hn[1].split(","),Dn=0,qt=Pn.length;Dn<qt;++Dn)Kt.push(Pn[Dn]);break;case"subject":sn.subject=$(Hn[1],ht);break;case"body":sn.body=$(Hn[1],ht);break;default:rn=!0,ir[$(Hn[0],ht)]=$(Hn[1],ht)}}rn&&(sn.headers=ir)}sn.query=void 0;for(var Yt=0,Xn=Kt.length;Yt<Xn;++Yt){var $n=Kt[Yt].split("@");if($n[0]=$($n[0]),ht.unicodeSupport)$n[1]=$($n[1],ht).toLowerCase();else try{$n[1]=Q.toASCII($($n[1],ht).toLowerCase())}catch(yr){sn.error=sn.error||"Email address's domain name can not be converted to ASCII via punycode: "+yr}Kt[Yt]=$n.join("@")}return sn},serialize:function(He,ht){var sn=He,Kt=function _(ot){return null!=ot?ot instanceof Array?ot:"number"!=typeof ot.length||ot.split||ot.setInterval||ot.call?[ot]:Array.prototype.slice.call(ot):[]}(He.to);if(Kt){for(var rn=0,ir=Kt.length;rn<ir;++rn){var pn=String(Kt[rn]),un=pn.lastIndexOf("@"),ur=pn.slice(0,un).replace(Bt,At).replace(Bt,X).replace(Dt,xe),Hn=pn.slice(un+1);try{Hn=ht.iri?Q.toUnicode(Hn):Q.toASCII($(Hn,ht).toLowerCase())}catch(Yt){sn.error=sn.error||"Email address's domain name can not be converted to "+(ht.iri?"Unicode":"ASCII")+" via punycode: "+Yt}Kt[rn]=ur+"@"+Hn}sn.path=Kt.join(",")}var Pn=He.headers=He.headers||{};He.subject&&(Pn.subject=He.subject),He.body&&(Pn.body=He.body);var Dn=[];for(var qt in Pn)Pn[qt]!==Oe[qt]&&Dn.push(qt.replace(Bt,At).replace(Bt,X).replace(nt,xe)+"="+Pn[qt].replace(Bt,At).replace(Bt,X).replace(Ye,xe));return Dn.length&&(sn.query=Dn.join("&")),sn}},$t=/^([^\:]+)\:(.*)/,Bn={scheme:"urn",parse:function(He,ht){var sn=He.path&&He.path.match($t),Kt=He;if(sn){var rn=ht.scheme||Kt.scheme||"urn",ir=sn[1].toLowerCase(),pn=sn[2],ur=de[rn+":"+(ht.nid||ir)];Kt.nid=ir,Kt.nss=pn,Kt.path=void 0,ur&&(Kt=ur.parse(Kt,ht))}else Kt.error=Kt.error||"URN can not be parsed.";return Kt},serialize:function(He,ht){var Kt=He.nid,ir=de[(ht.scheme||He.scheme||"urn")+":"+(ht.nid||Kt)];ir&&(He=ir.serialize(He,ht));var pn=He;return pn.path=(Kt||ht.nid)+":"+He.nss,pn}},et=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,it={scheme:"urn:uuid",parse:function(He,ht){var sn=He;return sn.uuid=sn.nss,sn.nss=void 0,!ht.tolerant&&(!sn.uuid||!sn.uuid.match(et))&&(sn.error=sn.error||"UUID is not valid."),sn},serialize:function(He,ht){var sn=He;return sn.nss=(He.uuid||"").toLowerCase(),sn}};de[T.scheme]=T,de[S.scheme]=S,de[le.scheme]=le,de[De.scheme]=De,de[kt.scheme]=kt,de[Bn.scheme]=Bn,de[it.scheme]=it,E.SCHEMES=de,E.pctEncChar=xe,E.pctDecChars=Ie,E.parse=fe,E.removeDotSegments=Ue,E.serialize=Ve,E.resolveComponents=ze,E.resolve=function It(ot,He,ht){var sn=function R(ot,He){var ht=ot;if(He)for(var sn in He)ht[sn]=He[sn];return ht}({scheme:"null"},ht);return Ve(ze(fe(ot,sn),fe(He,sn),sn,!0),sn)},E.normalize=function qe(ot,He){return"string"==typeof ot?ot=Ve(fe(ot,He),He):"object"===O(ot)&&(ot=fe(Ve(ot,He),He)),ot},E.equal=function je(ot,He,ht){return"string"==typeof ot?ot=Ve(fe(ot,ht),ht):"object"===O(ot)&&(ot=Ve(ot,ht)),"string"==typeof He?He=Ve(fe(He,ht),ht):"object"===O(He)&&(He=Ve(He,ht)),ot===He},E.escapeComponent=function ut(ot,He){return ot&&ot.toString().replace(He&&He.iri?L.ESCAPE:N.ESCAPE,xe)},E.unescapeComponent=$,Object.defineProperty(E,"__esModule",{value:!0})}(V)},3398:Ne=>{function E(g){try{if(!globalThis.localStorage)return!1}catch{return!1}var w=globalThis.localStorage[g];return null!=w&&"true"===String(w).toLowerCase()}Ne.exports=function V(g,w){if(E("noDeprecation"))return g;var O=!1;return function X(){if(!O){if(E("throwDeprecation"))throw new Error(w);E("traceDeprecation")?console.trace(w):console.warn(w),O=!0}return g.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:Ne=>{Ne.exports=function V(E,g){this.v=E,this.k=g},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},93513:(Ne,V,E)=>{var g=E(25172);Ne.exports=function w(O){var X={},_=!1;function R(A,N){return _=!0,N=new Promise(function(L){L(O[A](N))}),{done:!1,value:new g(N,1)}}return X[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},X.next=function(A){return _?(_=!1,A):R("next",A)},"function"==typeof O.throw&&(X.throw=function(A){if(_)throw _=!1,A;return R("throw",A)}),"function"==typeof O.return&&(X.return=function(A){return _?(_=!1,A):R("return",A)}),X},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},82881:Ne=>{function E(g){function w(O){if(Object(O)!==O)return Promise.reject(new TypeError(O+" is not an object."));var X=O.done;return Promise.resolve(O.value).then(function(_){return{value:_,done:X}})}return(E=function(X){this.s=X,this.n=X.next}).prototype={s:null,n:null,next:function(){return w(this.n.apply(this.s,arguments))},return:function(X){var _=this.s.return;return void 0===_?Promise.resolve({value:X,done:!0}):w(_.apply(this.s,arguments))},throw:function(X){var _=this.s.return;return void 0===_?Promise.reject(X):w(_.apply(this.s,arguments))}},new E(g)}Ne.exports=function V(g){var w,O,X,_=2;for(typeof Symbol<"u"&&(O=Symbol.asyncIterator,X=Symbol.iterator);_--;){if(O&&null!=(w=g[O]))return w.call(g);if(X&&null!=(w=g[X]))return new E(w.call(g));O="@@asyncIterator",X="@@iterator"}throw new TypeError("Object is not async iterable")},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},29293:Ne=>{function V(g,w,O,X,_,R,A){try{var N=g[R](A),L=N.value}catch(F){return void O(F)}N.done?w(L):Promise.resolve(L).then(X,_)}Ne.exports=function E(g){return function(){var w=this,O=arguments;return new Promise(function(X,_){var R=g.apply(w,O);function A(L){V(R,X,_,A,N,"next",L)}function N(L){V(R,X,_,A,N,"throw",L)}A(void 0)})}},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},53344:(Ne,V,E)=>{var g=E(25172);Ne.exports=function w(O){return new g(O,0)},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},42958:(Ne,V,E)=>{var g=E(25172);function O(X){var _,R;function A(L,F){try{var C=X[L](F),Y=C.value,j=Y instanceof g;Promise.resolve(j?Y.v:Y).then(function(G){if(j){var te="return"===L?"return":"next";if(!Y.k||G.done)return A(te,G);G=X[te](G).value}N(C.done?"return":"normal",G)},function(G){A("throw",G)})}catch(G){N("throw",G)}}function N(L,F){switch(L){case"return":_.resolve({value:F,done:!0});break;case"throw":_.reject(F);break;default:_.resolve({value:F,done:!1})}(_=_.next)?A(_.key,_.arg):R=null}this._invoke=function(L,F){return new Promise(function(C,Y){var j={key:L,arg:F,resolve:C,reject:Y,next:null};R?R=R.next=j:(_=R=j,A(L,F))})},"function"!=typeof X.return&&(this.return=void 0)}O.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},O.prototype.next=function(X){return this._invoke("next",X)},O.prototype.throw=function(X){return this._invoke("throw",X)},O.prototype.return=function(X){return this._invoke("return",X)},Ne.exports=function w(X){return function(){return new O(X.apply(this,arguments))}},Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports},49969:(Ne,V,E)=>{"use strict";E.d(V,{FX:()=>Me,If:()=>g,K2:()=>R,MA:()=>Y,Os:()=>_,P:()=>G,hZ:()=>O,i0:()=>X,i7:()=>L,iF:()=>A,kY:()=>F,kp:()=>w,sf:()=>pe,ui:()=>we,wk:()=>N});var g=function(k){return k[k.State=0]="State",k[k.Transition=1]="Transition",k[k.Sequence=2]="Sequence",k[k.Group=3]="Group",k[k.Animate=4]="Animate",k[k.Keyframes=5]="Keyframes",k[k.Style=6]="Style",k[k.Trigger=7]="Trigger",k[k.Reference=8]="Reference",k[k.AnimateChild=9]="AnimateChild",k[k.AnimateRef=10]="AnimateRef",k[k.Query=11]="Query",k[k.Stagger=12]="Stagger",k}(g||{});const w="*";function O(k,l){return{type:g.Trigger,name:k,definitions:l,options:{}}}function X(k,l=null){return{type:g.Animate,styles:l,timings:k}}function _(k,l=null){return{type:g.Group,steps:k,options:l}}function R(k,l=null){return{type:g.Sequence,steps:k,options:l}}function A(k){return{type:g.Style,styles:k,offset:null}}function N(k,l,h){return{type:g.State,name:k,styles:l,options:h}}function L(k){return{type:g.Keyframes,steps:k}}function F(k,l,h=null){return{type:g.Transition,expr:k,animation:l,options:h}}function Y(k=null){return{type:g.AnimateChild,options:k}}function G(k,l,h=null){return{type:g.Query,selector:k,animation:l,options:h}}class pe{constructor(l=0,h=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+h}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const h="start"==l?this._onStartFns:this._onDoneFns;h.forEach(m=>m()),h.length=0}}class we{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let h=0,m=0,p=0;const x=this.players.length;0==x?queueMicrotask(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++h==x&&this._onFinish()}),D.onDestroy(()=>{++m==x&&this._onDestroy()}),D.onStart(()=>{++p==x&&this._onStart()})}),this.totalTime=this.players.reduce((D,B)=>Math.max(D,B.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const h=l*this.totalTime;this.players.forEach(m=>{const p=m.totalTime?Math.min(1,h/m.totalTime):1;m.setPosition(p)})}getPosition(){const l=this.players.reduce((h,m)=>null===h||m.totalTime>h.totalTime?m:h,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const h="start"==l?this._onStartFns:this._onDoneFns;h.forEach(m=>m()),h.length=0}}const Me="!"},18617:(Ne,V,E)=>{"use strict";E.d(V,{Ae:()=>re,Ai:()=>Z,Au:()=>p,Bu:()=>x,FN:()=>Nt,GX:()=>me,Pd:()=>cn,Q_:()=>zn,Z7:()=>B,_G:()=>Ae,px:()=>ie,vR:()=>ft,vr:()=>k,w6:()=>Ue});var g=E(60177),w=E(93953),O=E(36860),X=E(21413),_=E(18359),R=E(84412),A=E(7673),N=E(67336),L=E(88141),F=E(70152),C=E(5964),Y=E(96354),j=E(65245),G=E(23294),te=E(56977),ee=E(72318),q=E(14085),J=E(99327);const ne=" ";function ie(Bt,Dt,nt){const Ye=ce(Bt,Dt);nt=nt.trim(),!Ye.some(At=>At.trim()===nt)&&(Ye.push(nt),Bt.setAttribute(Dt,Ye.join(ne)))}function re(Bt,Dt,nt){const Ye=ce(Bt,Dt);nt=nt.trim();const At=Ye.filter(kt=>kt!==nt);At.length?Bt.setAttribute(Dt,At.join(ne)):Bt.removeAttribute(Dt)}function ce(Bt,Dt){return Bt.getAttribute(Dt)?.match(/\S+/g)??[]}const pe="cdk-describedby-message",we="cdk-describedby-host";let Me=0,k=(()=>{class Bt{constructor(nt,Ye){this._platform=Ye,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Me++,this._document=nt,this._id=(0,w.WQX)(w.sZ2)+"-"+Me++}describe(nt,Ye,At){if(!this._canBeDescribed(nt,Ye))return;const kt=l(Ye,At);"string"!=typeof Ye?(h(Ye,this._id),this._messageRegistry.set(kt,{messageElement:Ye,referenceCount:0})):this._messageRegistry.has(kt)||this._createMessageElement(Ye,At),this._isElementDescribedByMessage(nt,kt)||this._addMessageReference(nt,kt)}removeDescription(nt,Ye,At){if(!Ye||!this._isElementNode(nt))return;const kt=l(Ye,At);if(this._isElementDescribedByMessage(nt,kt)&&this._removeMessageReference(nt,kt),"string"==typeof Ye){const $t=this._messageRegistry.get(kt);$t&&0===$t.referenceCount&&this._deleteMessageElement(kt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const nt=this._document.querySelectorAll(`[${we}="${this._id}"]`);for(let Ye=0;Ye<nt.length;Ye++)this._removeCdkDescribedByReferenceIds(nt[Ye]),nt[Ye].removeAttribute(we);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(nt,Ye){const At=this._document.createElement("div");h(At,this._id),At.textContent=nt,Ye&&At.setAttribute("role",Ye),this._createMessagesContainer(),this._messagesContainer.appendChild(At),this._messageRegistry.set(l(nt,Ye),{messageElement:At,referenceCount:0})}_deleteMessageElement(nt){this._messageRegistry.get(nt)?.messageElement?.remove(),this._messageRegistry.delete(nt)}_createMessagesContainer(){if(this._messagesContainer)return;const nt="cdk-describedby-message-container",Ye=this._document.querySelectorAll(`.${nt}[platform="server"]`);for(let kt=0;kt<Ye.length;kt++)Ye[kt].remove();const At=this._document.createElement("div");At.style.visibility="hidden",At.classList.add(nt),At.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&At.setAttribute("platform","server"),this._document.body.appendChild(At),this._messagesContainer=At}_removeCdkDescribedByReferenceIds(nt){const Ye=ce(nt,"aria-describedby").filter(At=>0!=At.indexOf(pe));nt.setAttribute("aria-describedby",Ye.join(" "))}_addMessageReference(nt,Ye){const At=this._messageRegistry.get(Ye);ie(nt,"aria-describedby",At.messageElement.id),nt.setAttribute(we,this._id),At.referenceCount++}_removeMessageReference(nt,Ye){const At=this._messageRegistry.get(Ye);At.referenceCount--,re(nt,"aria-describedby",At.messageElement.id),nt.removeAttribute(we)}_isElementDescribedByMessage(nt,Ye){const At=ce(nt,"aria-describedby"),kt=this._messageRegistry.get(Ye),$t=kt&&kt.messageElement.id;return!!$t&&-1!=At.indexOf($t)}_canBeDescribed(nt,Ye){if(!this._isElementNode(nt))return!1;if(Ye&&"object"==typeof Ye)return!0;const At=null==Ye?"":`${Ye}`.trim(),kt=nt.getAttribute("aria-label");return!(!At||kt&&kt.trim()===At)}_isElementNode(nt){return nt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(g.qQ),w.KVO(O.OD))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})();function l(Bt,Dt){return"string"==typeof Bt?`${Dt||""}/${Bt}`:Bt}function h(Bt,Dt){Bt.id||(Bt.id=`${pe}-${Dt}-${Me++}`)}class m{constructor(Dt,nt){this._items=Dt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new X.B,this._typeaheadSubscription=_.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ye=>Ye.disabled,this._pressedLetters=[],this.tabOut=new X.B,this.change=new X.B,Dt instanceof w.rOR?this._itemChangesSubscription=Dt.changes.subscribe(Ye=>this._itemsChanged(Ye.toArray())):(0,w.Hps)(Dt)&&(this._effectRef=(0,w.QZP)(()=>this._itemsChanged(Dt()),{injector:nt}))}skipPredicate(Dt){return this._skipPredicateFn=Dt,this}withWrap(Dt=!0){return this._wrap=Dt,this}withVerticalOrientation(Dt=!0){return this._vertical=Dt,this}withHorizontalOrientation(Dt){return this._horizontal=Dt,this}withAllowedModifierKeys(Dt){return this._allowedModifierKeys=Dt,this}withTypeAhead(Dt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,L.M)(nt=>this._pressedLetters.push(nt)),(0,F.B)(Dt),(0,C.p)(()=>this._pressedLetters.length>0),(0,Y.T)(()=>this._pressedLetters.join(""))).subscribe(nt=>{const Ye=this._getItemsArray();for(let At=1;At<Ye.length+1;At++){const kt=(this._activeItemIndex+At)%Ye.length,$t=Ye[kt];if(!this._skipPredicateFn($t)&&0===$t.getLabel().toUpperCase().trim().indexOf(nt)){this.setActiveItem(kt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Dt=!0){return this._homeAndEnd=Dt,this}withPageUpDown(Dt=!0,nt=10){return this._pageUpAndDown={enabled:Dt,delta:nt},this}setActiveItem(Dt){const nt=this._activeItem;this.updateActiveItem(Dt),this._activeItem!==nt&&this.change.next(this._activeItemIndex)}onKeydown(Dt){const nt=Dt.keyCode,At=["altKey","ctrlKey","metaKey","shiftKey"].every(kt=>!Dt[kt]||this._allowedModifierKeys.indexOf(kt)>-1);switch(nt){case N.wn:return void this.tabOut.next();case N.n6:if(this._vertical&&At){this.setNextItemActive();break}return;case N.i7:if(this._vertical&&At){this.setPreviousItemActive();break}return;case N.LE:if(this._horizontal&&At){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case N.UQ:if(this._horizontal&&At){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case N.yZ:if(this._homeAndEnd&&At){this.setFirstItemActive();break}return;case N.Kp:if(this._homeAndEnd&&At){this.setLastItemActive();break}return;case N.w_:if(this._pageUpAndDown.enabled&&At){const kt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(kt>0?kt:0,1);break}return;case N.dB:if(this._pageUpAndDown.enabled&&At){const kt=this._activeItemIndex+this._pageUpAndDown.delta,$t=this._getItemsArray().length;this._setActiveItemByIndex(kt<$t?kt:$t-1,-1);break}return;default:return void((At||(0,N.rp)(Dt,"shiftKey"))&&(Dt.key&&1===Dt.key.length?this._letterKeyStream.next(Dt.key.toLocaleUpperCase()):(nt>=N.A&&nt<=N.Z||nt>=N.f2&&nt<=N.bn)&&this._letterKeyStream.next(String.fromCharCode(nt))))}this._pressedLetters=[],Dt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Dt){const nt=this._getItemsArray(),Ye="number"==typeof Dt?Dt:nt.indexOf(Dt);this._activeItem=nt[Ye]??null,this._activeItemIndex=Ye}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Dt){this._wrap?this._setActiveInWrapMode(Dt):this._setActiveInDefaultMode(Dt)}_setActiveInWrapMode(Dt){const nt=this._getItemsArray();for(let Ye=1;Ye<=nt.length;Ye++){const At=(this._activeItemIndex+Dt*Ye+nt.length)%nt.length;if(!this._skipPredicateFn(nt[At]))return void this.setActiveItem(At)}}_setActiveInDefaultMode(Dt){this._setActiveItemByIndex(this._activeItemIndex+Dt,Dt)}_setActiveItemByIndex(Dt,nt){const Ye=this._getItemsArray();if(Ye[Dt]){for(;this._skipPredicateFn(Ye[Dt]);)if(!Ye[Dt+=nt])return;this.setActiveItem(Dt)}}_getItemsArray(){return(0,w.Hps)(this._items)?this._items():this._items instanceof w.rOR?this._items.toArray():this._items}_itemsChanged(Dt){if(this._activeItem){const nt=Dt.indexOf(this._activeItem);nt>-1&&nt!==this._activeItemIndex&&(this._activeItemIndex=nt)}}}class p extends m{setActiveItem(Dt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Dt),this.activeItem&&this.activeItem.setActiveStyles()}}class x extends m{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Dt){return this._origin=Dt,this}setActiveItem(Dt){super.setActiveItem(Dt),this.activeItem&&this.activeItem.focus(this._origin)}}let B=(()=>{class Bt{constructor(nt){this._platform=nt}isDisabled(nt){return nt.hasAttribute("disabled")}isVisible(nt){return function d(Bt){return!!(Bt.offsetWidth||Bt.offsetHeight||"function"==typeof Bt.getClientRects&&Bt.getClientRects().length)}(nt)&&"visible"===getComputedStyle(nt).visibility}isTabbable(nt){if(!this._platform.isBrowser)return!1;const Ye=function M(Bt){try{return Bt.frameElement}catch{return null}}(function ye(Bt){return Bt.ownerDocument&&Bt.ownerDocument.defaultView||window}(nt));if(Ye&&(-1===Ie(Ye)||!this.isVisible(Ye)))return!1;let At=nt.nodeName.toLowerCase(),kt=Ie(nt);return nt.hasAttribute("contenteditable")?-1!==kt:!("iframe"===At||"object"===At||this._platform.WEBKIT&&this._platform.IOS&&!function Le(Bt){let Dt=Bt.nodeName.toLowerCase(),nt="input"===Dt&&Bt.type;return"text"===nt||"password"===nt||"select"===Dt||"textarea"===Dt}(nt))&&("audio"===At?!!nt.hasAttribute("controls")&&-1!==kt:"video"===At?-1!==kt&&(null!==kt||this._platform.FIREFOX||nt.hasAttribute("controls")):nt.tabIndex>=0)}isFocusable(nt,Ye){return function ve(Bt){return!function W(Bt){return function Q(Bt){return"input"==Bt.nodeName.toLowerCase()}(Bt)&&"hidden"==Bt.type}(Bt)&&(function v(Bt){let Dt=Bt.nodeName.toLowerCase();return"input"===Dt||"select"===Dt||"button"===Dt||"textarea"===Dt}(Bt)||function z(Bt){return function de(Bt){return"a"==Bt.nodeName.toLowerCase()}(Bt)&&Bt.hasAttribute("href")}(Bt)||Bt.hasAttribute("contenteditable")||xe(Bt))}(nt)&&!this.isDisabled(nt)&&(Ye?.ignoreVisibility||this.isVisible(nt))}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(O.OD))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})();function xe(Bt){if(!Bt.hasAttribute("tabindex")||void 0===Bt.tabIndex)return!1;let Dt=Bt.getAttribute("tabindex");return!(!Dt||isNaN(parseInt(Dt,10)))}function Ie(Bt){if(!xe(Bt))return null;const Dt=parseInt(Bt.getAttribute("tabindex")||"",10);return isNaN(Dt)?-1:Dt}class ke{get enabled(){return this._enabled}set enabled(Dt){this._enabled=Dt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Dt,this._startAnchor),this._toggleAnchorTabIndex(Dt,this._endAnchor))}constructor(Dt,nt,Ye,At,kt=!1,$t){this._element=Dt,this._checker=nt,this._ngZone=Ye,this._document=At,this._injector=$t,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,kt||this.attachAnchors()}destroy(){const Dt=this._startAnchor,nt=this._endAnchor;Dt&&(Dt.removeEventListener("focus",this.startAnchorListener),Dt.remove()),nt&&(nt.removeEventListener("focus",this.endAnchorListener),nt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Dt){return new Promise(nt=>{this._executeOnStable(()=>nt(this.focusInitialElement(Dt)))})}focusFirstTabbableElementWhenReady(Dt){return new Promise(nt=>{this._executeOnStable(()=>nt(this.focusFirstTabbableElement(Dt)))})}focusLastTabbableElementWhenReady(Dt){return new Promise(nt=>{this._executeOnStable(()=>nt(this.focusLastTabbableElement(Dt)))})}_getRegionBoundary(Dt){const nt=this._element.querySelectorAll(`[cdk-focus-region-${Dt}], [cdkFocusRegion${Dt}], [cdk-focus-${Dt}]`);return"start"==Dt?nt.length?nt[0]:this._getFirstTabbableElement(this._element):nt.length?nt[nt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Dt){const nt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(nt){if(!this._checker.isFocusable(nt)){const Ye=this._getFirstTabbableElement(nt);return Ye?.focus(Dt),!!Ye}return nt.focus(Dt),!0}return this.focusFirstTabbableElement(Dt)}focusFirstTabbableElement(Dt){const nt=this._getRegionBoundary("start");return nt&&nt.focus(Dt),!!nt}focusLastTabbableElement(Dt){const nt=this._getRegionBoundary("end");return nt&&nt.focus(Dt),!!nt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Dt){if(this._checker.isFocusable(Dt)&&this._checker.isTabbable(Dt))return Dt;const nt=Dt.children;for(let Ye=0;Ye<nt.length;Ye++){const At=nt[Ye].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(nt[Ye]):null;if(At)return At}return null}_getLastTabbableElement(Dt){if(this._checker.isFocusable(Dt)&&this._checker.isTabbable(Dt))return Dt;const nt=Dt.children;for(let Ye=nt.length-1;Ye>=0;Ye--){const At=nt[Ye].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(nt[Ye]):null;if(At)return At}return null}_createAnchor(){const Dt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Dt),Dt.classList.add("cdk-visually-hidden"),Dt.classList.add("cdk-focus-trap-anchor"),Dt.setAttribute("aria-hidden","true"),Dt}_toggleAnchorTabIndex(Dt,nt){Dt?nt.setAttribute("tabindex","0"):nt.removeAttribute("tabindex")}toggleAnchors(Dt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Dt,this._startAnchor),this._toggleAnchorTabIndex(Dt,this._endAnchor))}_executeOnStable(Dt){this._injector?(0,w.mal)(Dt,{injector:this._injector}):setTimeout(Dt)}}let me=(()=>{class Bt{constructor(nt,Ye,At){this._checker=nt,this._ngZone=Ye,this._injector=(0,w.WQX)(w.zZn),this._document=At}create(nt,Ye=!1){return new ke(nt,this._checker,this._ngZone,this._document,Ye,this._injector)}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(B),w.KVO(w.SKi),w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})();function Ae(Bt){return 0===Bt.buttons||0===Bt.detail}function Ue(Bt){const Dt=Bt.touches&&Bt.touches[0]||Bt.changedTouches&&Bt.changedTouches[0];return!(!Dt||-1!==Dt.identifier||null!=Dt.radiusX&&1!==Dt.radiusX||null!=Dt.radiusY&&1!==Dt.radiusY)}const Ve=new w.nKC("cdk-input-modality-detector-options"),ze={ignoreKeys:[N.A$,N.W3,N.eg,N.Ge,N.FX]},qe=(0,O.BQ)({passive:!0,capture:!0});let je=(()=>{class Bt{get mostRecentModality(){return this._modality.value}constructor(nt,Ye,At,kt){this._platform=nt,this._mostRecentTarget=null,this._modality=new R.t(null),this._lastTouchMs=0,this._onKeydown=$t=>{this._options?.ignoreKeys?.some(Bn=>Bn===$t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,O.Fb)($t))},this._onMousedown=$t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ae($t)?"keyboard":"mouse"),this._mostRecentTarget=(0,O.Fb)($t))},this._onTouchstart=$t=>{Ue($t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,O.Fb)($t))},this._options={...ze,...kt},this.modalityDetected=this._modality.pipe((0,j.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),nt.isBrowser&&Ye.runOutsideAngular(()=>{At.addEventListener("keydown",this._onKeydown,qe),At.addEventListener("mousedown",this._onMousedown,qe),At.addEventListener("touchstart",this._onTouchstart,qe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qe),document.removeEventListener("mousedown",this._onMousedown,qe),document.removeEventListener("touchstart",this._onTouchstart,qe))}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(O.OD),w.KVO(w.SKi),w.KVO(g.qQ),w.KVO(Ve,8))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})();const ut=new w.nKC("liveAnnouncerElement",{providedIn:"root",factory:function $(){return null}}),T=new w.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let S=0,Z=(()=>{class Bt{constructor(nt,Ye,At,kt){this._ngZone=Ye,this._defaultOptions=kt,this._document=At,this._liveElement=nt||this._createLiveElement()}announce(nt,...Ye){const At=this._defaultOptions;let kt,$t;return 1===Ye.length&&"number"==typeof Ye[0]?$t=Ye[0]:[kt,$t]=Ye,this.clear(),clearTimeout(this._previousTimeout),kt||(kt=At&&At.politeness?At.politeness:"polite"),null==$t&&At&&($t=At.duration),this._liveElement.setAttribute("aria-live",kt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Bn=>this._currentResolve=Bn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=nt,"number"==typeof $t&&(this._previousTimeout=setTimeout(()=>this.clear(),$t)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const nt="cdk-live-announcer-element",Ye=this._document.getElementsByClassName(nt),At=this._document.createElement("div");for(let kt=0;kt<Ye.length;kt++)Ye[kt].remove();return At.classList.add(nt),At.classList.add("cdk-visually-hidden"),At.setAttribute("aria-atomic","true"),At.setAttribute("aria-live","polite"),At.id="cdk-live-announcer-"+S++,this._document.body.appendChild(At),At}_exposeAnnouncerToModals(nt){const Ye=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let At=0;At<Ye.length;At++){const kt=Ye[At],$t=kt.getAttribute("aria-owns");$t?-1===$t.indexOf(nt)&&kt.setAttribute("aria-owns",$t+" "+nt):kt.setAttribute("aria-owns",nt)}}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(ut,8),w.KVO(w.SKi),w.KVO(g.qQ),w.KVO(T,8))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})();var De=function(Bt){return Bt[Bt.IMMEDIATE=0]="IMMEDIATE",Bt[Bt.EVENTUAL=1]="EVENTUAL",Bt}(De||{});const Oe=new w.nKC("cdk-focus-monitor-default-options"),Qe=(0,O.BQ)({passive:!0,capture:!0});let Nt=(()=>{class Bt{constructor(nt,Ye,At,kt,$t){this._ngZone=nt,this._platform=Ye,this._inputModalityDetector=At,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new X.B,this._rootNodeFocusAndBlurListener=Bn=>{for(let it=(0,O.Fb)(Bn);it;it=it.parentElement)"focus"===Bn.type?this._onFocus(Bn,it):this._onBlur(Bn,it)},this._document=kt,this._detectionMode=$t?.detectionMode||De.IMMEDIATE}monitor(nt,Ye=!1){const At=(0,q.i8)(nt);if(!this._platform.isBrowser||1!==At.nodeType)return(0,A.of)();const kt=(0,O.KT)(At)||this._getDocument(),$t=this._elementInfo.get(At);if($t)return Ye&&($t.checkChildren=!0),$t.subject;const Bn={checkChildren:Ye,subject:new X.B,rootNode:kt};return this._elementInfo.set(At,Bn),this._registerGlobalListeners(Bn),Bn.subject}stopMonitoring(nt){const Ye=(0,q.i8)(nt),At=this._elementInfo.get(Ye);At&&(At.subject.complete(),this._setClasses(Ye),this._elementInfo.delete(Ye),this._removeGlobalListeners(At))}focusVia(nt,Ye,At){const kt=(0,q.i8)(nt);kt===this._getDocument().activeElement?this._getClosestElementsInfo(kt).forEach(([Bn,et])=>this._originChanged(Bn,Ye,et)):(this._setOrigin(Ye),"function"==typeof kt.focus&&kt.focus(At))}ngOnDestroy(){this._elementInfo.forEach((nt,Ye)=>this.stopMonitoring(Ye))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(nt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(nt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:nt&&this._isLastInteractionFromInputLabel(nt)?"mouse":"program"}_shouldBeAttributedToTouch(nt){return this._detectionMode===De.EVENTUAL||!!nt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(nt,Ye){nt.classList.toggle("cdk-focused",!!Ye),nt.classList.toggle("cdk-touch-focused","touch"===Ye),nt.classList.toggle("cdk-keyboard-focused","keyboard"===Ye),nt.classList.toggle("cdk-mouse-focused","mouse"===Ye),nt.classList.toggle("cdk-program-focused","program"===Ye)}_setOrigin(nt,Ye=!1){this._ngZone.runOutsideAngular(()=>{this._origin=nt,this._originFromTouchInteraction="touch"===nt&&Ye,this._detectionMode===De.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(nt,Ye){const At=this._elementInfo.get(Ye),kt=(0,O.Fb)(nt);!At||!At.checkChildren&&Ye!==kt||this._originChanged(Ye,this._getFocusOrigin(kt),At)}_onBlur(nt,Ye){const At=this._elementInfo.get(Ye);!At||At.checkChildren&&nt.relatedTarget instanceof Node&&Ye.contains(nt.relatedTarget)||(this._setClasses(Ye),this._emitOrigin(At,null))}_emitOrigin(nt,Ye){nt.subject.observers.length&&this._ngZone.run(()=>nt.subject.next(Ye))}_registerGlobalListeners(nt){if(!this._platform.isBrowser)return;const Ye=nt.rootNode,At=this._rootNodeFocusListenerCount.get(Ye)||0;At||this._ngZone.runOutsideAngular(()=>{Ye.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qe),Ye.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qe)}),this._rootNodeFocusListenerCount.set(Ye,At+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,te.Q)(this._stopInputModalityDetector)).subscribe(kt=>{this._setOrigin(kt,!0)}))}_removeGlobalListeners(nt){const Ye=nt.rootNode;if(this._rootNodeFocusListenerCount.has(Ye)){const At=this._rootNodeFocusListenerCount.get(Ye);At>1?this._rootNodeFocusListenerCount.set(Ye,At-1):(Ye.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qe),Ye.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qe),this._rootNodeFocusListenerCount.delete(Ye))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(nt,Ye,At){this._setClasses(nt,Ye),this._emitOrigin(At,Ye),this._lastFocusOrigin=Ye}_getClosestElementsInfo(nt){const Ye=[];return this._elementInfo.forEach((At,kt)=>{(kt===nt||At.checkChildren&&kt.contains(nt))&&Ye.push([kt,At])}),Ye}_isLastInteractionFromInputLabel(nt){const{_mostRecentTarget:Ye,mostRecentModality:At}=this._inputModalityDetector;if("mouse"!==At||!Ye||Ye===nt||"INPUT"!==nt.nodeName&&"TEXTAREA"!==nt.nodeName||nt.disabled)return!1;const kt=nt.labels;if(kt)for(let $t=0;$t<kt.length;$t++)if(kt[$t].contains(Ye))return!0;return!1}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(w.SKi),w.KVO(O.OD),w.KVO(je),w.KVO(g.qQ,8),w.KVO(Oe,8))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})(),ft=(()=>{class Bt{constructor(nt,Ye){this._elementRef=nt,this._focusMonitor=Ye,this._focusOrigin=null,this.cdkFocusChange=new w.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const nt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(nt,1===nt.nodeType&&nt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ye=>{this._focusOrigin=Ye,this.cdkFocusChange.emit(Ye)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.rXU(w.aKT),w.rXU(Nt))};static#t=this.\u0275dir=w.FsC({type:Bt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Bt})();var St=function(Bt){return Bt[Bt.NONE=0]="NONE",Bt[Bt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Bt[Bt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Bt}(St||{});const Lt="cdk-high-contrast-black-on-white",Gt="cdk-high-contrast-white-on-black",Vt="cdk-high-contrast-active";let zn=(()=>{class Bt{constructor(nt,Ye){this._platform=nt,this._document=Ye,this._breakpointSubscription=(0,w.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return St.NONE;const nt=this._document.createElement("div");nt.style.backgroundColor="rgb(1,2,3)",nt.style.position="absolute",this._document.body.appendChild(nt);const Ye=this._document.defaultView||window,At=Ye&&Ye.getComputedStyle?Ye.getComputedStyle(nt):null,kt=(At&&At.backgroundColor||"").replace(/ /g,"");switch(nt.remove(),kt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return St.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return St.BLACK_ON_WHITE}return St.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const nt=this._document.body.classList;nt.remove(Vt,Lt,Gt),this._hasCheckedHighContrastMode=!0;const Ye=this.getHighContrastMode();Ye===St.BLACK_ON_WHITE?nt.add(Vt,Lt):Ye===St.WHITE_ON_BLACK&&nt.add(Vt,Gt)}}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(O.OD),w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})(),cn=(()=>{class Bt{constructor(nt){nt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Ye){return new(Ye||Bt)(w.KVO(zn))};static#t=this.\u0275mod=w.$C({type:Bt});static#n=this.\u0275inj=w.G2t({imports:[ee.w5]})}return Bt})()},28203:(Ne,V,E)=>{"use strict";E.d(V,{dS:()=>A,jI:()=>L});var g=E(93953),w=E(60177);const O=new g.nKC("cdk-dir-doc",{providedIn:"root",factory:function X(){return(0,g.WQX)(w.qQ)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let A=(()=>{class F{constructor(Y){this.value="ltr",this.change=new g.bkB,Y&&(this.value=function R(F){const C=F?.toLowerCase()||"";return"auto"===C&&typeof navigator<"u"&&navigator?.language?_.test(navigator.language)?"rtl":"ltr":"rtl"===C?"rtl":"ltr"}((Y.body?Y.body.dir:null)||(Y.documentElement?Y.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(j){return new(j||F)(g.KVO(O,8))};static#t=this.\u0275prov=g.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),L=(()=>{class F{static#e=this.\u0275fac=function(j){return new(j||F)};static#t=this.\u0275mod=g.$C({type:F});static#n=this.\u0275inj=g.G2t({})}return F})()},14085:(Ne,V,E)=>{"use strict";E.d(V,{FG:()=>_,OE:()=>O,a1:()=>R,he:()=>w,i8:()=>A,o1:()=>X});var g=E(93953);function w(L){return null!=L&&"false"!=`${L}`}function O(L,F=0){return X(L)?Number(L):F}function X(L){return!isNaN(parseFloat(L))&&!isNaN(Number(L))}function _(L){return Array.isArray(L)?L:[L]}function R(L){return null==L?"":"string"==typeof L?L:`${L}px`}function A(L){return L instanceof g.aKT?L.nativeElement:L}},45024:(Ne,V,E)=>{"use strict";E.d(V,{CB:()=>j,DQ:()=>Y,Q3:()=>L,qS:()=>R,sL:()=>F,xn:()=>C,y4:()=>A,zP:()=>te});var g=E(30017),X=(E(74402),E(7673),E(21413)),_=E(93953);class R{}function A(ee){return ee&&"function"==typeof ee.connect&&!(ee instanceof g.G)}var L=function(ee){return ee[ee.REPLACED=0]="REPLACED",ee[ee.INSERTED=1]="INSERTED",ee[ee.MOVED=2]="MOVED",ee[ee.REMOVED=3]="REMOVED",ee}(L||{});const F=new _.nKC("_ViewRepeater");class C{applyChanges(q,J,ne,ie,re){q.forEachOperation((ce,se,pe)=>{let we,Me;if(null==ce.previousIndex){const k=ne(ce,se,pe);we=J.createEmbeddedView(k.templateRef,k.context,k.index),Me=L.INSERTED}else null==pe?(J.remove(se),Me=L.REMOVED):(we=J.get(se),J.move(we,pe),Me=L.MOVED);re&&re({context:we?.context,operation:Me,record:ce})})}detach(){}}class Y{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(q,J,ne,ie,re){q.forEachOperation((ce,se,pe)=>{let we,Me;null==ce.previousIndex?(we=this._insertView(()=>ne(ce,se,pe),pe,J,ie(ce)),Me=we?L.INSERTED:L.REPLACED):null==pe?(this._detachAndCacheView(se,J),Me=L.REMOVED):(we=this._moveView(se,pe,J,ie(ce)),Me=L.MOVED),re&&re({context:we?.context,operation:Me,record:ce})})}detach(){for(const q of this._viewCache)q.destroy();this._viewCache=[]}_insertView(q,J,ne,ie){const re=this._insertViewFromCache(J,ne);if(re)return void(re.context.$implicit=ie);const ce=q();return ne.createEmbeddedView(ce.templateRef,ce.context,ce.index)}_detachAndCacheView(q,J){const ne=J.detach(q);this._maybeCacheView(ne,J)}_moveView(q,J,ne,ie){const re=ne.get(q);return ne.move(re,J),re.context.$implicit=ie,re}_maybeCacheView(q,J){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(q);else{const ne=J.indexOf(q);-1===ne?q.destroy():J.remove(ne)}}_insertViewFromCache(q,J){const ne=this._viewCache.pop();return ne&&J.insert(ne,q),ne||null}}class j{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(q=!1,J,ne=!0,ie){this._multiple=q,this._emitChanges=ne,this.compareWith=ie,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new X.B,J&&J.length&&(q?J.forEach(re=>this._markSelected(re)):this._markSelected(J[0]),this._selectedToEmit.length=0)}select(...q){this._verifyValueAssignment(q),q.forEach(ne=>this._markSelected(ne));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}deselect(...q){this._verifyValueAssignment(q),q.forEach(ne=>this._unmarkSelected(ne));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}setSelection(...q){this._verifyValueAssignment(q);const J=this.selected,ne=new Set(q);q.forEach(re=>this._markSelected(re)),J.filter(re=>!ne.has(this._getConcreteValue(re,ne))).forEach(re=>this._unmarkSelected(re));const ie=this._hasQueuedChanges();return this._emitChangeEvent(),ie}toggle(q){return this.isSelected(q)?this.deselect(q):this.select(q)}clear(q=!0){this._unmarkAll();const J=this._hasQueuedChanges();return q&&this._emitChangeEvent(),J}isSelected(q){return this._selection.has(this._getConcreteValue(q))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(q){this._multiple&&this.selected&&this._selected.sort(q)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(q){q=this._getConcreteValue(q),this.isSelected(q)||(this._multiple||this._unmarkAll(),this.isSelected(q)||this._selection.add(q),this._emitChanges&&this._selectedToEmit.push(q))}_unmarkSelected(q){q=this._getConcreteValue(q),this.isSelected(q)&&(this._selection.delete(q),this._emitChanges&&this._deselectedToEmit.push(q))}_unmarkAll(){this.isEmpty()||this._selection.forEach(q=>this._unmarkSelected(q))}_verifyValueAssignment(q){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(q,J){if(this.compareWith){J=J??this._selection;for(let ne of J)if(this.compareWith(q,ne))return ne;return q}return q}}let te=(()=>{class ee{constructor(){this._listeners=[]}notify(J,ne){for(let ie of this._listeners)ie(J,ne)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(ne=>J!==ne)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ne){return new(ne||ee)};static#t=this.\u0275prov=_.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},67336:(Ne,V,E)=>{"use strict";E.d(V,{A:()=>z,A$:()=>N,FX:()=>R,Fm:()=>_,Ge:()=>S,Kp:()=>te,LE:()=>ne,UQ:()=>q,W3:()=>A,Z:()=>T,_f:()=>C,bn:()=>B,dB:()=>G,eg:()=>xn,f2:()=>we,i7:()=>J,n6:()=>ie,rp:()=>Vn,t6:()=>Y,w_:()=>j,wn:()=>O,yZ:()=>ee});const O=9,_=13,R=16,A=17,N=18,C=27,Y=32,j=33,G=34,te=35,ee=36,q=37,J=38,ne=39,ie=40,we=48,B=57,z=65,T=90,S=91,xn=224;function Vn(Jn,...br){return br.length?br.some(lr=>Jn[lr]):Jn.altKey||Jn.shiftKey||Jn.ctrlKey||Jn.metaKey}},99327:(Ne,V,E)=>{"use strict";E.d(V,{QP:()=>ie,Rp:()=>ce});var g=E(93953),w=E(14085),O=E(21413),X=E(84572),_=E(28793),R=E(71985),A=E(96697),N=E(65245),L=E(70152),F=E(96354),C=E(99172),Y=E(56977),j=E(36860);const te=new Set;let ee,q=(()=>{class se{constructor(we,Me){this._platform=we,this._nonce=Me,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ne}matchMedia(we){return(this._platform.WEBKIT||this._platform.BLINK)&&function J(se,pe){if(!te.has(se))try{ee||(ee=document.createElement("style"),pe&&ee.setAttribute("nonce",pe),ee.setAttribute("type","text/css"),document.head.appendChild(ee)),ee.sheet&&(ee.sheet.insertRule(`@media ${se} {body{ }}`,0),te.add(se))}catch(we){console.error(we)}}(we,this._nonce),this._matchMedia(we)}static#e=this.\u0275fac=function(Me){return new(Me||se)(g.KVO(j.OD),g.KVO(g.BIS,8))};static#t=this.\u0275prov=g.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function ne(se){return{matches:"all"===se||""===se,media:se,addListener:()=>{},removeListener:()=>{}}}let ie=(()=>{class se{constructor(we,Me){this._mediaMatcher=we,this._zone=Me,this._queries=new Map,this._destroySubject=new O.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(we){return re((0,w.FG)(we)).some(k=>this._registerQuery(k).mql.matches)}observe(we){const k=re((0,w.FG)(we)).map(h=>this._registerQuery(h).observable);let l=(0,X.z)(k);return l=(0,_.x)(l.pipe((0,A.s)(1)),l.pipe((0,N.i)(1),(0,L.B)(0))),l.pipe((0,F.T)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:p,query:x})=>{m.matches=m.matches||p,m.breakpoints[x]=p}),m}))}_registerQuery(we){if(this._queries.has(we))return this._queries.get(we);const Me=this._mediaMatcher.matchMedia(we),l={observable:new R.c(h=>{const m=p=>this._zone.run(()=>h.next(p));return Me.addListener(m),()=>{Me.removeListener(m)}}).pipe((0,C.Z)(Me),(0,F.T)(({matches:h})=>({query:we,matches:h})),(0,Y.Q)(this._destroySubject)),mql:Me};return this._queries.set(we,l),l}static#e=this.\u0275fac=function(Me){return new(Me||se)(g.KVO(q),g.KVO(g.SKi))};static#t=this.\u0275prov=g.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();function re(se){return se.map(pe=>pe.split(",")).reduce((pe,we)=>pe.concat(we)).map(pe=>pe.trim())}const ce={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(Ne,V,E)=>{"use strict";E.d(V,{Wv:()=>C,w5:()=>Y});var g=E(14085),w=E(93953),O=E(71985),X=E(21413),_=E(96354),R=E(5964),A=E(70152);let L=(()=>{class j{create(te){return typeof MutationObserver>"u"?null:new MutationObserver(te)}static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275prov=w.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),F=(()=>{class j{constructor(te){this._mutationObserverFactory=te,this._observedElements=new Map,this._ngZone=(0,w.WQX)(w.SKi)}ngOnDestroy(){this._observedElements.forEach((te,ee)=>this._cleanupObserver(ee))}observe(te){const ee=(0,g.i8)(te);return new O.c(q=>{const ne=this._observeElement(ee).pipe((0,_.T)(ie=>ie.filter(re=>!function N(j){if("characterData"===j.type&&j.target instanceof Comment)return!0;if("childList"===j.type){for(let G=0;G<j.addedNodes.length;G++)if(!(j.addedNodes[G]instanceof Comment))return!1;for(let G=0;G<j.removedNodes.length;G++)if(!(j.removedNodes[G]instanceof Comment))return!1;return!0}return!1}(re))),(0,R.p)(ie=>!!ie.length)).subscribe(ie=>{this._ngZone.run(()=>{q.next(ie)})});return()=>{ne.unsubscribe(),this._unobserveElement(ee)}})}_observeElement(te){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(te))this._observedElements.get(te).count++;else{const ee=new X.B,q=this._mutationObserverFactory.create(J=>ee.next(J));q&&q.observe(te,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(te,{observer:q,stream:ee,count:1})}return this._observedElements.get(te).stream})}_unobserveElement(te){this._observedElements.has(te)&&(this._observedElements.get(te).count--,this._observedElements.get(te).count||this._cleanupObserver(te))}_cleanupObserver(te){if(this._observedElements.has(te)){const{observer:ee,stream:q}=this._observedElements.get(te);ee&&ee.disconnect(),q.complete(),this._observedElements.delete(te)}}static#e=this.\u0275fac=function(ee){return new(ee||j)(w.KVO(L))};static#t=this.\u0275prov=w.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),C=(()=>{class j{get disabled(){return this._disabled}set disabled(te){this._disabled=te,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(te){this._debounce=(0,g.OE)(te),this._subscribe()}constructor(te,ee){this._contentObserver=te,this._elementRef=ee,this.event=new w.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const te=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?te.pipe((0,A.B)(this.debounce)):te).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(ee){return new(ee||j)(w.rXU(F),w.rXU(w.aKT))};static#t=this.\u0275dir=w.FsC({type:j,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",w.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[w.GFd]})}return j})(),Y=(()=>{class j{static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275mod=w.$C({type:j});static#n=this.\u0275inj=w.G2t({providers:[L]})}return j})()},98170:(Ne,V,E)=>{"use strict";E.d(V,{a:()=>L});var g=E(93953),w=E(21413),O=E(71985),X=E(5964),_=E(44668),R=E(56977);class N{constructor(C){this._box=C,this._destroyed=new w.B,this._resizeSubject=new w.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Y=>this._resizeSubject.next(Y)))}observe(C){return this._elementObservables.has(C)||this._elementObservables.set(C,new O.c(Y=>{const j=this._resizeSubject.subscribe(Y);return this._resizeObserver?.observe(C,{box:this._box}),()=>{this._resizeObserver?.unobserve(C),j.unsubscribe(),this._elementObservables.delete(C)}}).pipe((0,X.p)(Y=>Y.some(j=>j.target===C)),(0,_.t)({bufferSize:1,refCount:!0}),(0,R.Q)(this._destroyed))),this._elementObservables.get(C)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let L=(()=>{class F{constructor(){this._observers=new Map,this._ngZone=(0,g.WQX)(g.SKi)}ngOnDestroy(){for(const[,Y]of this._observers)Y.destroy();this._observers.clear()}observe(Y,j){const G=j?.box||"content-box";return this._observers.has(G)||this._observers.set(G,new N(G)),this._observers.get(G).observe(Y)}static#e=this.\u0275fac=function(j){return new(j||F)};static#t=this.\u0275prov=g.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},66969:(Ne,V,E)=>{"use strict";E.d(V,{WB:()=>Ae,$Q:()=>ge,hJ:()=>he,rR:()=>Me,Sf:()=>d,z_:()=>ze,yY:()=>v});var g=E(67333),w=E(60177),O=E(93953),X=E(14085),_=E(36860),R=E(5964),A=E(56977),N=E(39974),L=E(54360),C=E(28203),Y=E(76939),j=E(21413),G=E(18359),te=E(57786),ee=E(67336);const q=(0,_.CZ)();class J{constructor(je,ut){this._viewportRuler=je,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ut}attach(){}enable(){if(this._canBeEnabled()){const je=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=je.style.left||"",this._previousHTMLStyles.top=je.style.top||"",je.style.left=(0,X.a1)(-this._previousScrollPosition.left),je.style.top=(0,X.a1)(-this._previousScrollPosition.top),je.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const je=this._document.documentElement,$=je.style,T=this._document.body.style,S=$.scrollBehavior||"",Z=T.scrollBehavior||"";this._isEnabled=!1,$.left=this._previousHTMLStyles.left,$.top=this._previousHTMLStyles.top,je.classList.remove("cdk-global-scrollblock"),q&&($.scrollBehavior=T.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),q&&($.scrollBehavior=S,T.scrollBehavior=Z)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ut=this._document.body,$=this._viewportRuler.getViewportSize();return ut.scrollHeight>$.height||ut.scrollWidth>$.width}}class ie{constructor(je,ut,$,T){this._scrollDispatcher=je,this._ngZone=ut,this._viewportRuler=$,this._config=T,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(je){this._overlayRef=je}enable(){if(this._scrollSubscription)return;const je=this._scrollDispatcher.scrolled(0).pipe((0,R.p)(ut=>!ut||!this._overlayRef.overlayElement.contains(ut.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=je.subscribe(()=>{const ut=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ut-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=je.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class re{enable(){}disable(){}attach(){}}function ce(qe,je){return je.some(ut=>qe.bottom<ut.top||qe.top>ut.bottom||qe.right<ut.left||qe.left>ut.right)}function se(qe,je){return je.some(ut=>qe.top<ut.top||qe.bottom>ut.bottom||qe.left<ut.left||qe.right>ut.right)}class pe{constructor(je,ut,$,T){this._scrollDispatcher=je,this._viewportRuler=ut,this._ngZone=$,this._config=T,this._scrollSubscription=null}attach(je){this._overlayRef=je}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ut=this._overlayRef.overlayElement.getBoundingClientRect(),{width:$,height:T}=this._viewportRuler.getViewportSize();ce(ut,[{width:$,height:T,bottom:T,right:$,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let we=(()=>{class qe{constructor(ut,$,T,S){this._scrollDispatcher=ut,this._viewportRuler=$,this._ngZone=T,this.noop=()=>new re,this.close=Z=>new ie(this._scrollDispatcher,this._ngZone,this._viewportRuler,Z),this.block=()=>new J(this._viewportRuler,this._document),this.reposition=Z=>new pe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Z),this._document=S}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(g.R),O.KVO(g.Xj),O.KVO(O.SKi),O.KVO(w.qQ))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();class Me{constructor(je){if(this.scrollStrategy=new re,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,je){const ut=Object.keys(je);for(const $ of ut)void 0!==je[$]&&(this[$]=je[$])}}}class h{constructor(je,ut){this.connectionPair=je,this.scrollableViewProperties=ut}}let x=(()=>{class qe{constructor(ut){this._attachedOverlays=[],this._document=ut}ngOnDestroy(){this.detach()}add(ut){this.remove(ut),this._attachedOverlays.push(ut)}remove(ut){const $=this._attachedOverlays.indexOf(ut);$>-1&&this._attachedOverlays.splice($,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(w.qQ))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),D=(()=>{class qe extends x{constructor(ut,$){super(ut),this._ngZone=$,this._keydownListener=T=>{const S=this._attachedOverlays;for(let Z=S.length-1;Z>-1;Z--)if(S[Z]._keydownEvents.observers.length>0){const le=S[Z]._keydownEvents;this._ngZone?this._ngZone.run(()=>le.next(T)):le.next(T);break}}}add(ut){super.add(ut),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(w.qQ),O.KVO(O.SKi,8))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),B=(()=>{class qe extends x{constructor(ut,$,T){super(ut),this._platform=$,this._ngZone=T,this._cursorStyleIsSet=!1,this._pointerDownListener=S=>{this._pointerDownEventTarget=(0,_.Fb)(S)},this._clickListener=S=>{const Z=(0,_.Fb)(S),le="click"===S.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Z;this._pointerDownEventTarget=null;const De=this._attachedOverlays.slice();for(let Oe=De.length-1;Oe>-1;Oe--){const Qe=De[Oe];if(Qe._outsidePointerEvents.observers.length<1||!Qe.hasAttached())continue;if(M(Qe.overlayElement,Z)||M(Qe.overlayElement,le))break;const Nt=Qe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Nt.next(S)):Nt.next(S)}}}add(ut){if(super.add(ut),!this._isAttached){const $=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners($)):this._addEventListeners($),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=$.style.cursor,$.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ut=this._document.body;ut.removeEventListener("pointerdown",this._pointerDownListener,!0),ut.removeEventListener("click",this._clickListener,!0),ut.removeEventListener("auxclick",this._clickListener,!0),ut.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ut.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ut){ut.addEventListener("pointerdown",this._pointerDownListener,!0),ut.addEventListener("click",this._clickListener,!0),ut.addEventListener("auxclick",this._clickListener,!0),ut.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(w.qQ),O.KVO(_.OD),O.KVO(O.SKi,8))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();function M(qe,je){const ut=typeof ShadowRoot<"u"&&ShadowRoot;let $=je;for(;$;){if($===qe)return!0;$=ut&&$ instanceof ShadowRoot?$.host:$.parentNode}return!1}let d=(()=>{class qe{constructor(ut,$){this._platform=$,this._document=ut}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ut="cdk-overlay-container";if(this._platform.isBrowser||(0,_.v8)()){const T=this._document.querySelectorAll(`.${ut}[platform="server"], .${ut}[platform="test"]`);for(let S=0;S<T.length;S++)T[S].remove()}const $=this._document.createElement("div");$.classList.add(ut),(0,_.v8)()?$.setAttribute("platform","test"):this._platform.isBrowser||$.setAttribute("platform","server"),this._document.body.appendChild($),this._containerElement=$}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(w.qQ),O.KVO(_.OD))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();class v{constructor(je,ut,$,T,S,Z,le,De,Oe,Qe=!1,Nt){this._portalOutlet=je,this._host=ut,this._pane=$,this._config=T,this._ngZone=S,this._keyboardDispatcher=Z,this._document=le,this._location=De,this._outsideClickDispatcher=Oe,this._animationsDisabled=Qe,this._injector=Nt,this._backdropElement=null,this._backdropClick=new j.B,this._attachments=new j.B,this._detachments=new j.B,this._locationChanges=G.yU.EMPTY,this._backdropClickHandler=ft=>this._backdropClick.next(ft),this._backdropTransitionendHandler=ft=>{this._disposeBackdrop(ft.target)},this._keydownEvents=new j.B,this._outsidePointerEvents=new j.B,this._renders=new j.B,T.scrollStrategy&&(this._scrollStrategy=T.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=T.positionStrategy,this._afterRenderRef=(0,O.O8t)(()=>(0,O.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(je){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ut=this._portalOutlet.attach(je);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,O.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ut?.onDestroy&&ut.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ut}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const je=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),je}dispose(){const je=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,je&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(je){je!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=je,this.hasAttached()&&(je.attach(this),this.updatePosition()))}updateSize(je){this._config={...this._config,...je},this._updateElementSize()}setDirection(je){this._config={...this._config,direction:je},this._updateElementDirection()}addPanelClass(je){this._pane&&this._toggleClasses(this._pane,je,!0)}removePanelClass(je){this._pane&&this._toggleClasses(this._pane,je,!1)}getDirection(){const je=this._config.direction;return je?"string"==typeof je?je:je.value:"ltr"}updateScrollStrategy(je){je!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=je,this.hasAttached()&&(je.attach(this),je.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const je=this._pane.style;je.width=(0,X.a1)(this._config.width),je.height=(0,X.a1)(this._config.height),je.minWidth=(0,X.a1)(this._config.minWidth),je.minHeight=(0,X.a1)(this._config.minHeight),je.maxWidth=(0,X.a1)(this._config.maxWidth),je.maxHeight=(0,X.a1)(this._config.maxHeight)}_togglePointerEvents(je){this._pane.style.pointerEvents=je?"":"none"}_attachBackdrop(){const je="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(je)})}):this._backdropElement.classList.add(je)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const je=this._backdropElement;if(je){if(this._animationsDisabled)return void this._disposeBackdrop(je);je.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{je.addEventListener("transitionend",this._backdropTransitionendHandler)}),je.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(je)},500))}}_toggleClasses(je,ut,$){const T=(0,X.FG)(ut||[]).filter(S=>!!S);T.length&&($?je.classList.add(...T):je.classList.remove(...T))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const je=this._renders.pipe((0,A.Q)((0,te.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),je.unsubscribe())})})}_disposeScrollStrategy(){const je=this._scrollStrategy;je&&(je.disable(),je.detach&&je.detach())}_disposeBackdrop(je){je&&(je.removeEventListener("click",this._backdropClickHandler),je.removeEventListener("transitionend",this._backdropTransitionendHandler),je.remove(),this._backdropElement===je&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",z=/([A-Za-z%]+)$/;class Q{get positions(){return this._preferredPositions}constructor(je,ut,$,T,S){this._viewportRuler=ut,this._document=$,this._platform=T,this._overlayContainer=S,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j.B,this._resizeSubscription=G.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(je)}attach(je){this._validatePositions(),je.hostElement.classList.add(W),this._overlayRef=je,this._boundingBox=je.hostElement,this._pane=je.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const je=this._originRect,ut=this._overlayRect,$=this._viewportRect,T=this._containerRect,S=[];let Z;for(let le of this._preferredPositions){let De=this._getOriginPoint(je,T,le),Oe=this._getOverlayPoint(De,ut,le),Qe=this._getOverlayFit(Oe,ut,$,le);if(Qe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(le,De);this._canFitWithFlexibleDimensions(Qe,Oe,$)?S.push({position:le,origin:De,overlayRect:ut,boundingBoxRect:this._calculateBoundingBoxRect(De,le)}):(!Z||Z.overlayFit.visibleArea<Qe.visibleArea)&&(Z={overlayFit:Qe,overlayPoint:Oe,originPoint:De,position:le,overlayRect:ut})}if(S.length){let le=null,De=-1;for(const Oe of S){const Qe=Oe.boundingBoxRect.width*Oe.boundingBoxRect.height*(Oe.position.weight||1);Qe>De&&(De=Qe,le=Oe)}return this._isPushed=!1,void this._applyPosition(le.position,le.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Z.position,Z.originPoint);this._applyPosition(Z.position,Z.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&de(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const je=this._lastPosition;if(je){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ut=this._getOriginPoint(this._originRect,this._containerRect,je);this._applyPosition(je,ut)}else this.apply()}withScrollableContainers(je){return this._scrollables=je,this}withPositions(je){return this._preferredPositions=je,-1===je.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(je){return this._viewportMargin=je,this}withFlexibleDimensions(je=!0){return this._hasFlexibleDimensions=je,this}withGrowAfterOpen(je=!0){return this._growAfterOpen=je,this}withPush(je=!0){return this._canPush=je,this}withLockedPosition(je=!0){return this._positionLocked=je,this}setOrigin(je){return this._origin=je,this}withDefaultOffsetX(je){return this._offsetX=je,this}withDefaultOffsetY(je){return this._offsetY=je,this}withTransformOriginOn(je){return this._transformOriginSelector=je,this}_getOriginPoint(je,ut,$){let T,S;if("center"==$.originX)T=je.left+je.width/2;else{const Z=this._isRtl()?je.right:je.left,le=this._isRtl()?je.left:je.right;T="start"==$.originX?Z:le}return ut.left<0&&(T-=ut.left),S="center"==$.originY?je.top+je.height/2:"top"==$.originY?je.top:je.bottom,ut.top<0&&(S-=ut.top),{x:T,y:S}}_getOverlayPoint(je,ut,$){let T,S;return T="center"==$.overlayX?-ut.width/2:"start"===$.overlayX?this._isRtl()?-ut.width:0:this._isRtl()?0:-ut.width,S="center"==$.overlayY?-ut.height/2:"top"==$.overlayY?0:-ut.height,{x:je.x+T,y:je.y+S}}_getOverlayFit(je,ut,$,T){const S=Ie(ut);let{x:Z,y:le}=je,De=this._getOffset(T,"x"),Oe=this._getOffset(T,"y");De&&(Z+=De),Oe&&(le+=Oe);let ft=0-le,St=le+S.height-$.height,Lt=this._subtractOverflows(S.width,0-Z,Z+S.width-$.width),Gt=this._subtractOverflows(S.height,ft,St),Vt=Lt*Gt;return{visibleArea:Vt,isCompletelyWithinViewport:S.width*S.height===Vt,fitsInViewportVertically:Gt===S.height,fitsInViewportHorizontally:Lt==S.width}}_canFitWithFlexibleDimensions(je,ut,$){if(this._hasFlexibleDimensions){const T=$.bottom-ut.y,S=$.right-ut.x,Z=xe(this._overlayRef.getConfig().minHeight),le=xe(this._overlayRef.getConfig().minWidth);return(je.fitsInViewportVertically||null!=Z&&Z<=T)&&(je.fitsInViewportHorizontally||null!=le&&le<=S)}return!1}_pushOverlayOnScreen(je,ut,$){if(this._previousPushAmount&&this._positionLocked)return{x:je.x+this._previousPushAmount.x,y:je.y+this._previousPushAmount.y};const T=Ie(ut),S=this._viewportRect,Z=Math.max(je.x+T.width-S.width,0),le=Math.max(je.y+T.height-S.height,0),De=Math.max(S.top-$.top-je.y,0),Oe=Math.max(S.left-$.left-je.x,0);let Qe=0,Nt=0;return Qe=T.width<=S.width?Oe||-Z:je.x<this._viewportMargin?S.left-$.left-je.x:0,Nt=T.height<=S.height?De||-le:je.y<this._viewportMargin?S.top-$.top-je.y:0,this._previousPushAmount={x:Qe,y:Nt},{x:je.x+Qe,y:je.y+Nt}}_applyPosition(je,ut){if(this._setTransformOrigin(je),this._setOverlayElementStyles(ut,je),this._setBoundingBoxStyles(ut,je),je.panelClass&&this._addPanelClasses(je.panelClass),this._positionChanges.observers.length){const $=this._getScrollVisibility();if(je!==this._lastPosition||!this._lastScrollVisibility||!function Le(qe,je){return qe===je||qe.isOriginClipped===je.isOriginClipped&&qe.isOriginOutsideView===je.isOriginOutsideView&&qe.isOverlayClipped===je.isOverlayClipped&&qe.isOverlayOutsideView===je.isOverlayOutsideView}(this._lastScrollVisibility,$)){const T=new h(je,$);this._positionChanges.next(T)}this._lastScrollVisibility=$}this._lastPosition=je,this._isInitialRender=!1}_setTransformOrigin(je){if(!this._transformOriginSelector)return;const ut=this._boundingBox.querySelectorAll(this._transformOriginSelector);let $,T=je.overlayY;$="center"===je.overlayX?"center":this._isRtl()?"start"===je.overlayX?"right":"left":"start"===je.overlayX?"left":"right";for(let S=0;S<ut.length;S++)ut[S].style.transformOrigin=`${$} ${T}`}_calculateBoundingBoxRect(je,ut){const $=this._viewportRect,T=this._isRtl();let S,Z,le,Qe,Nt,ft;if("top"===ut.overlayY)Z=je.y,S=$.height-Z+this._viewportMargin;else if("bottom"===ut.overlayY)le=$.height-je.y+2*this._viewportMargin,S=$.height-le+this._viewportMargin;else{const St=Math.min($.bottom-je.y+$.top,je.y),Lt=this._lastBoundingBoxSize.height;S=2*St,Z=je.y-St,S>Lt&&!this._isInitialRender&&!this._growAfterOpen&&(Z=je.y-Lt/2)}if("end"===ut.overlayX&&!T||"start"===ut.overlayX&&T)ft=$.width-je.x+2*this._viewportMargin,Qe=je.x-this._viewportMargin;else if("start"===ut.overlayX&&!T||"end"===ut.overlayX&&T)Nt=je.x,Qe=$.right-je.x;else{const St=Math.min($.right-je.x+$.left,je.x),Lt=this._lastBoundingBoxSize.width;Qe=2*St,Nt=je.x-St,Qe>Lt&&!this._isInitialRender&&!this._growAfterOpen&&(Nt=je.x-Lt/2)}return{top:Z,left:Nt,bottom:le,right:ft,width:Qe,height:S}}_setBoundingBoxStyles(je,ut){const $=this._calculateBoundingBoxRect(je,ut);!this._isInitialRender&&!this._growAfterOpen&&($.height=Math.min($.height,this._lastBoundingBoxSize.height),$.width=Math.min($.width,this._lastBoundingBoxSize.width));const T={};if(this._hasExactPosition())T.top=T.left="0",T.bottom=T.right=T.maxHeight=T.maxWidth="",T.width=T.height="100%";else{const S=this._overlayRef.getConfig().maxHeight,Z=this._overlayRef.getConfig().maxWidth;T.height=(0,X.a1)($.height),T.top=(0,X.a1)($.top),T.bottom=(0,X.a1)($.bottom),T.width=(0,X.a1)($.width),T.left=(0,X.a1)($.left),T.right=(0,X.a1)($.right),T.alignItems="center"===ut.overlayX?"center":"end"===ut.overlayX?"flex-end":"flex-start",T.justifyContent="center"===ut.overlayY?"center":"bottom"===ut.overlayY?"flex-end":"flex-start",S&&(T.maxHeight=(0,X.a1)(S)),Z&&(T.maxWidth=(0,X.a1)(Z))}this._lastBoundingBoxSize=$,de(this._boundingBox.style,T)}_resetBoundingBoxStyles(){de(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){de(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(je,ut){const $={},T=this._hasExactPosition(),S=this._hasFlexibleDimensions,Z=this._overlayRef.getConfig();if(T){const Qe=this._viewportRuler.getViewportScrollPosition();de($,this._getExactOverlayY(ut,je,Qe)),de($,this._getExactOverlayX(ut,je,Qe))}else $.position="static";let le="",De=this._getOffset(ut,"x"),Oe=this._getOffset(ut,"y");De&&(le+=`translateX(${De}px) `),Oe&&(le+=`translateY(${Oe}px)`),$.transform=le.trim(),Z.maxHeight&&(T?$.maxHeight=(0,X.a1)(Z.maxHeight):S&&($.maxHeight="")),Z.maxWidth&&(T?$.maxWidth=(0,X.a1)(Z.maxWidth):S&&($.maxWidth="")),de(this._pane.style,$)}_getExactOverlayY(je,ut,$){let T={top:"",bottom:""},S=this._getOverlayPoint(ut,this._overlayRect,je);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,$)),"bottom"===je.overlayY?T.bottom=this._document.documentElement.clientHeight-(S.y+this._overlayRect.height)+"px":T.top=(0,X.a1)(S.y),T}_getExactOverlayX(je,ut,$){let Z,T={left:"",right:""},S=this._getOverlayPoint(ut,this._overlayRect,je);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,$)),Z=this._isRtl()?"end"===je.overlayX?"left":"right":"end"===je.overlayX?"right":"left","right"===Z?T.right=this._document.documentElement.clientWidth-(S.x+this._overlayRect.width)+"px":T.left=(0,X.a1)(S.x),T}_getScrollVisibility(){const je=this._getOriginRect(),ut=this._pane.getBoundingClientRect(),$=this._scrollables.map(T=>T.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:se(je,$),isOriginOutsideView:ce(je,$),isOverlayClipped:se(ut,$),isOverlayOutsideView:ce(ut,$)}}_subtractOverflows(je,...ut){return ut.reduce(($,T)=>$-Math.max(T,0),je)}_getNarrowedViewportRect(){const je=this._document.documentElement.clientWidth,ut=this._document.documentElement.clientHeight,$=this._viewportRuler.getViewportScrollPosition();return{top:$.top+this._viewportMargin,left:$.left+this._viewportMargin,right:$.left+je-this._viewportMargin,bottom:$.top+ut-this._viewportMargin,width:je-2*this._viewportMargin,height:ut-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(je,ut){return"x"===ut?null==je.offsetX?this._offsetX:je.offsetX:null==je.offsetY?this._offsetY:je.offsetY}_validatePositions(){}_addPanelClasses(je){this._pane&&(0,X.FG)(je).forEach(ut=>{""!==ut&&-1===this._appliedPanelClasses.indexOf(ut)&&(this._appliedPanelClasses.push(ut),this._pane.classList.add(ut))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(je=>{this._pane.classList.remove(je)}),this._appliedPanelClasses=[])}_getOriginRect(){const je=this._origin;if(je instanceof O.aKT)return je.nativeElement.getBoundingClientRect();if(je instanceof Element)return je.getBoundingClientRect();const ut=je.width||0,$=je.height||0;return{top:je.y,bottom:je.y+$,left:je.x,right:je.x+ut,height:$,width:ut}}}function de(qe,je){for(let ut in je)je.hasOwnProperty(ut)&&(qe[ut]=je[ut]);return qe}function xe(qe){if("number"!=typeof qe&&null!=qe){const[je,ut]=qe.split(z);return ut&&"px"!==ut?null:parseFloat(je)}return qe||null}function Ie(qe){return{top:Math.floor(qe.top),right:Math.floor(qe.right),bottom:Math.floor(qe.bottom),left:Math.floor(qe.left),width:Math.floor(qe.width),height:Math.floor(qe.height)}}const ke="cdk-global-overlay-wrapper";class me{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(je){const ut=je.getConfig();this._overlayRef=je,this._width&&!ut.width&&je.updateSize({width:this._width}),this._height&&!ut.height&&je.updateSize({height:this._height}),je.hostElement.classList.add(ke),this._isDisposed=!1}top(je=""){return this._bottomOffset="",this._topOffset=je,this._alignItems="flex-start",this}left(je=""){return this._xOffset=je,this._xPosition="left",this}bottom(je=""){return this._topOffset="",this._bottomOffset=je,this._alignItems="flex-end",this}right(je=""){return this._xOffset=je,this._xPosition="right",this}start(je=""){return this._xOffset=je,this._xPosition="start",this}end(je=""){return this._xOffset=je,this._xPosition="end",this}width(je=""){return this._overlayRef?this._overlayRef.updateSize({width:je}):this._width=je,this}height(je=""){return this._overlayRef?this._overlayRef.updateSize({height:je}):this._height=je,this}centerHorizontally(je=""){return this.left(je),this._xPosition="center",this}centerVertically(je=""){return this.top(je),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const je=this._overlayRef.overlayElement.style,ut=this._overlayRef.hostElement.style,$=this._overlayRef.getConfig(),{width:T,height:S,maxWidth:Z,maxHeight:le}=$,De=!("100%"!==T&&"100vw"!==T||Z&&"100%"!==Z&&"100vw"!==Z),Oe=!("100%"!==S&&"100vh"!==S||le&&"100%"!==le&&"100vh"!==le),Qe=this._xPosition,Nt=this._xOffset,ft="rtl"===this._overlayRef.getConfig().direction;let St="",Lt="",Gt="";De?Gt="flex-start":"center"===Qe?(Gt="center",ft?Lt=Nt:St=Nt):ft?"left"===Qe||"end"===Qe?(Gt="flex-end",St=Nt):("right"===Qe||"start"===Qe)&&(Gt="flex-start",Lt=Nt):"left"===Qe||"start"===Qe?(Gt="flex-start",St=Nt):("right"===Qe||"end"===Qe)&&(Gt="flex-end",Lt=Nt),je.position=this._cssPosition,je.marginLeft=De?"0":St,je.marginTop=Oe?"0":this._topOffset,je.marginBottom=this._bottomOffset,je.marginRight=De?"0":Lt,ut.justifyContent=Gt,ut.alignItems=Oe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const je=this._overlayRef.overlayElement.style,ut=this._overlayRef.hostElement,$=ut.style;ut.classList.remove(ke),$.justifyContent=$.alignItems=je.marginTop=je.marginBottom=je.marginLeft=je.marginRight=je.position="",this._overlayRef=null,this._isDisposed=!0}}let Ee=(()=>{class qe{constructor(ut,$,T,S){this._viewportRuler=ut,this._document=$,this._platform=T,this._overlayContainer=S}global(){return new me}flexibleConnectedTo(ut){return new Q(ut,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(g.Xj),O.KVO(w.qQ),O.KVO(_.OD),O.KVO(d))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),fe=0,he=(()=>{class qe{constructor(ut,$,T,S,Z,le,De,Oe,Qe,Nt,ft,St){this.scrollStrategies=ut,this._overlayContainer=$,this._componentFactoryResolver=T,this._positionBuilder=S,this._keyboardDispatcher=Z,this._injector=le,this._ngZone=De,this._document=Oe,this._directionality=Qe,this._location=Nt,this._outsideClickDispatcher=ft,this._animationsModuleType=St}create(ut){const $=this._createHostElement(),T=this._createPaneElement($),S=this._createPortalOutlet(T),Z=new Me(ut);return Z.direction=Z.direction||this._directionality.value,new v(S,$,T,Z,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(O.uvJ))}position(){return this._positionBuilder}_createPaneElement(ut){const $=this._document.createElement("div");return $.id="cdk-overlay-"+fe++,$.classList.add("cdk-overlay-pane"),ut.appendChild($),$}_createHostElement(){const ut=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ut),ut}_createPortalOutlet(ut){return this._appRef||(this._appRef=this._injector.get(O.o8S)),new Y.aI(ut,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function($){return new($||qe)(O.KVO(we),O.KVO(d),O.KVO(O.OM3),O.KVO(Ee),O.KVO(D),O.KVO(O.zZn),O.KVO(O.SKi),O.KVO(w.qQ),O.KVO(C.dS),O.KVO(w.aZ),O.KVO(B),O.KVO(O.bc$,8))};static#t=this.\u0275prov=O.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();const ae=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ue=new O.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const qe=(0,O.WQX)(he);return()=>qe.scrollStrategies.reposition()}});let ge=(()=>{class qe{constructor(ut){this.elementRef=ut}static#e=this.\u0275fac=function($){return new($||qe)(O.rXU(O.aKT))};static#t=this.\u0275dir=O.FsC({type:qe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return qe})(),Ae=(()=>{class qe{get offsetX(){return this._offsetX}set offsetX(ut){this._offsetX=ut,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ut){this._offsetY=ut,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(ut){this._disposeOnNavigation=ut}constructor(ut,$,T,S,Z){this._overlay=ut,this._dir=Z,this._backdropSubscription=G.yU.EMPTY,this._attachSubscription=G.yU.EMPTY,this._detachSubscription=G.yU.EMPTY,this._positionSubscription=G.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,O.WQX)(O.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new O.bkB,this.positionChange=new O.bkB,this.attach=new O.bkB,this.detach=new O.bkB,this.overlayKeydown=new O.bkB,this.overlayOutsideClick=new O.bkB,this._templatePortal=new Y.VA($,T),this._scrollStrategyFactory=S,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ut){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ut.origin&&this.open&&this._position.apply()),ut.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ae);const ut=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ut.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ut.detachments().subscribe(()=>this.detach.emit()),ut.keydownEvents().subscribe($=>{this.overlayKeydown.next($),$.keyCode===ee._f&&!this.disableClose&&!(0,ee.rp)($)&&($.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe($=>{const T=this._getOriginElement(),S=(0,_.Fb)($);(!T||T!==S&&!T.contains(S))&&this.overlayOutsideClick.next($)})}_buildConfig(){const ut=this._position=this.positionStrategy||this._createPositionStrategy(),$=new Me({direction:this._dir,positionStrategy:ut,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&($.width=this.width),(this.height||0===this.height)&&($.height=this.height),(this.minWidth||0===this.minWidth)&&($.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&($.minHeight=this.minHeight),this.backdropClass&&($.backdropClass=this.backdropClass),this.panelClass&&($.panelClass=this.panelClass),$}_updatePositionStrategy(ut){const $=this.positions.map(T=>({originX:T.originX,originY:T.originY,overlayX:T.overlayX,overlayY:T.overlayY,offsetX:T.offsetX||this.offsetX,offsetY:T.offsetY||this.offsetY,panelClass:T.panelClass||void 0}));return ut.setOrigin(this._getOrigin()).withPositions($).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ut=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(ut),ut}_getOrigin(){return this.origin instanceof ge?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ge?this.origin.elementRef.nativeElement:this.origin instanceof O.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ut=>{this.backdropClick.emit(ut)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function F(qe,je=!1){return(0,N.N)((ut,$)=>{let T=0;ut.subscribe((0,L._)($,S=>{const Z=qe(S,T++);(Z||je)&&$.next(S),!Z&&$.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ut=>{this._ngZone.run(()=>this.positionChange.emit(ut)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function($){return new($||qe)(O.rXU(he),O.rXU(O.C4Q),O.rXU(O.c1b),O.rXU(ue),O.rXU(C.dS,8))};static#t=this.\u0275dir=O.FsC({type:qe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",O.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",O.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",O.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",O.L39],push:[2,"cdkConnectedOverlayPush","push",O.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",O.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[O.GFd,O.OA$]})}return qe})();const Ve={provide:ue,deps:[he],useFactory:function Ue(qe){return()=>qe.scrollStrategies.reposition()}};let ze=(()=>{class qe{static#e=this.\u0275fac=function($){return new($||qe)};static#t=this.\u0275mod=O.$C({type:qe});static#n=this.\u0275inj=O.G2t({providers:[he,Ve],imports:[C.jI,Y.jc,g.E9,g.E9]})}return qe})()},36860:(Ne,V,E)=>{"use strict";E.d(V,{BD:()=>ee,BQ:()=>C,CZ:()=>te,Fb:()=>re,KT:()=>ne,MU:()=>N,OD:()=>X,r5:()=>Y,v8:()=>ce,vc:()=>ie});var g=E(93953),w=E(60177);let O;try{O=typeof Intl<"u"&&Intl.v8BreakIterator}catch{O=!1}let R,X=(()=>{class se{constructor(we){this._platformId=we,this.isBrowser=this._platformId?(0,w.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!O)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Me){return new(Me||se)(g.KVO(g.Agw))};static#t=this.\u0275prov=g.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const A=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function N(){if(R)return R;if("object"!=typeof document||!document)return R=new Set(A),R;let se=document.createElement("input");return R=new Set(A.filter(pe=>(se.setAttribute("type",pe),se.type===pe))),R}let L;function C(se){return function F(){if(null==L&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>L=!0}))}finally{L=L||!1}return L}()?se:!!se.capture}var Y=function(se){return se[se.NORMAL=0]="NORMAL",se[se.NEGATED=1]="NEGATED",se[se.INVERTED=2]="INVERTED",se}(Y||{});let j,G,q;function te(){if(null==G){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return G=!1,G;if("scrollBehavior"in document.documentElement.style)G=!0;else{const se=Element.prototype.scrollTo;G=!!se&&!/\{\s*\[native code\]\s*\}/.test(se.toString())}}return G}function ee(){if("object"!=typeof document||!document)return Y.NORMAL;if(null==j){const se=document.createElement("div"),pe=se.style;se.dir="rtl",pe.width="1px",pe.overflow="auto",pe.visibility="hidden",pe.pointerEvents="none",pe.position="absolute";const we=document.createElement("div"),Me=we.style;Me.width="2px",Me.height="1px",se.appendChild(we),document.body.appendChild(se),j=Y.NORMAL,0===se.scrollLeft&&(se.scrollLeft=1,j=0===se.scrollLeft?Y.NEGATED:Y.INVERTED),se.remove()}return j}function ne(se){if(function J(){if(null==q){const se=typeof document<"u"?document.head:null;q=!(!se||!se.createShadowRoot&&!se.attachShadow)}return q}()){const pe=se.getRootNode?se.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&pe instanceof ShadowRoot)return pe}return null}function ie(){let se=typeof document<"u"&&document?document.activeElement:null;for(;se&&se.shadowRoot;){const pe=se.shadowRoot.activeElement;if(pe===se)break;se=pe}return se}function re(se){return se.composedPath?se.composedPath()[0]:se.target}function ce(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(Ne,V,E)=>{"use strict";E.d(V,{A8:()=>F,I3:()=>ne,VA:()=>C,aI:()=>te,bV:()=>q,jc:()=>re,lb:()=>j});var g=E(93953),w=E(60177);class L{attach(pe){return this._attachedHost=pe,pe.attach(this)}detach(){let pe=this._attachedHost;null!=pe&&(this._attachedHost=null,pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class F extends L{constructor(pe,we,Me,k,l){super(),this.component=pe,this.viewContainerRef=we,this.injector=Me,this.componentFactoryResolver=k,this.projectableNodes=l}}class C extends L{constructor(pe,we,Me,k){super(),this.templateRef=pe,this.viewContainerRef=we,this.context=Me,this.injector=k}get origin(){return this.templateRef.elementRef}attach(pe,we=this.context){return this.context=we,super.attach(pe)}detach(){return this.context=void 0,super.detach()}}class Y extends L{constructor(pe){super(),this.element=pe instanceof g.aKT?pe.nativeElement:pe}}class j{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(pe){return pe instanceof F?(this._attachedPortal=pe,this.attachComponentPortal(pe)):pe instanceof C?(this._attachedPortal=pe,this.attachTemplatePortal(pe)):this.attachDomPortal&&pe instanceof Y?(this._attachedPortal=pe,this.attachDomPortal(pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(pe){this._disposeFn=pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class te extends j{constructor(pe,we,Me,k,l){super(),this.outletElement=pe,this._componentFactoryResolver=we,this._appRef=Me,this._defaultInjector=k,this.attachDomPortal=h=>{const m=h.element,p=this._document.createComment("dom-portal");m.parentNode.insertBefore(p,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(m,p)})},this._document=l}attachComponentPortal(pe){const Me=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component);let k;return pe.viewContainerRef?(k=pe.viewContainerRef.createComponent(Me,pe.viewContainerRef.length,pe.injector||pe.viewContainerRef.injector,pe.projectableNodes||void 0),this.setDisposeFn(()=>k.destroy())):(k=Me.create(pe.injector||this._defaultInjector||g.zZn.NULL),this._appRef.attachView(k.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(k.hostView),k.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(k)),this._attachedPortal=pe,k}attachTemplatePortal(pe){let we=pe.viewContainerRef,Me=we.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return Me.rootNodes.forEach(k=>this.outletElement.appendChild(k)),Me.detectChanges(),this.setDisposeFn(()=>{let k=we.indexOf(Me);-1!==k&&we.remove(k)}),this._attachedPortal=pe,Me}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let q=(()=>{class se extends C{constructor(we,Me){super(we,Me)}static#e=this.\u0275fac=function(Me){return new(Me||se)(g.rXU(g.C4Q),g.rXU(g.c1b))};static#t=this.\u0275dir=g.FsC({type:se,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[g.Vt3]})}return se})(),ne=(()=>{class se extends j{constructor(we,Me,k){super(),this._componentFactoryResolver=we,this._viewContainerRef=Me,this._isInitialized=!1,this.attached=new g.bkB,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=k}get portal(){return this._attachedPortal}set portal(we){this.hasAttached()&&!we&&!this._isInitialized||(this.hasAttached()&&super.detach(),we&&super.attach(we),this._attachedPortal=we||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(we){we.setAttachedHost(this);const Me=null!=we.viewContainerRef?we.viewContainerRef:this._viewContainerRef,l=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component),h=Me.createComponent(l,Me.length,we.injector||Me.injector,we.projectableNodes||void 0);return Me!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=we,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(we){we.setAttachedHost(this);const Me=this._viewContainerRef.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=we,this._attachedRef=Me,this.attached.emit(Me),Me}_getRootNode(){const we=this._viewContainerRef.element.nativeElement;return we.nodeType===we.ELEMENT_NODE?we:we.parentNode}static#e=this.\u0275fac=function(Me){return new(Me||se)(g.rXU(g.OM3),g.rXU(g.c1b),g.rXU(w.qQ))};static#t=this.\u0275dir=g.FsC({type:se,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[g.Vt3]})}return se})(),re=(()=>{class se{static#e=this.\u0275fac=function(Me){return new(Me||se)};static#t=this.\u0275mod=g.$C({type:se});static#n=this.\u0275inj=g.G2t({})}return se})()},67333:(Ne,V,E)=>{"use strict";E.d(V,{uv:()=>h,Gj:()=>de,R:()=>l,E9:()=>xe,Xj:()=>p});var g=E(14085),w=E(93953),O=E(21413),X=E(7673),_=E(71985),R=E(33726),L=(E(30536),E(25007),E(43236)),F=E(39974),C=E(58750),Y=E(54360),G=E(41584);function te(Ie,Le=L.E){return function j(Ie){return(0,F.N)((Le,ve)=>{let ye=!1,ke=null,me=null,Ee=!1;const fe=()=>{if(me?.unsubscribe(),me=null,ye){ye=!1;const ae=ke;ke=null,ve.next(ae)}Ee&&ve.complete()},he=()=>{me=null,Ee&&ve.complete()};Le.subscribe((0,Y._)(ve,ae=>{ye=!0,ke=ae,me||(0,C.Tg)(Ie(ae)).subscribe(me=(0,Y._)(ve,fe,he))},()=>{Ee=!0,(!ye||!me||me.closed)&&ve.complete()}))})}(()=>(0,G.O)(Ie,Le))}var ee=E(5964),q=E(56977),J=E(36860),ne=E(60177),ie=E(28203);let l=(()=>{class Ie{constructor(ve,ye,ke){this._ngZone=ve,this._platform=ye,this._scrolled=new O.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ke}register(ve){this.scrollContainers.has(ve)||this.scrollContainers.set(ve,ve.elementScrolled().subscribe(()=>this._scrolled.next(ve)))}deregister(ve){const ye=this.scrollContainers.get(ve);ye&&(ye.unsubscribe(),this.scrollContainers.delete(ve))}scrolled(ve=20){return this._platform.isBrowser?new _.c(ye=>{this._globalSubscription||this._addGlobalListener();const ke=ve>0?this._scrolled.pipe(te(ve)).subscribe(ye):this._scrolled.subscribe(ye);return this._scrolledCount++,()=>{ke.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,X.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ve,ye)=>this.deregister(ye)),this._scrolled.complete()}ancestorScrolled(ve,ye){const ke=this.getAncestorScrollContainers(ve);return this.scrolled(ye).pipe((0,ee.p)(me=>!me||ke.indexOf(me)>-1))}getAncestorScrollContainers(ve){const ye=[];return this.scrollContainers.forEach((ke,me)=>{this._scrollableContainsElement(me,ve)&&ye.push(me)}),ye}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ve,ye){let ke=(0,g.i8)(ye),me=ve.getElementRef().nativeElement;do{if(ke==me)return!0}while(ke=ke.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ve=this._getWindow();return(0,R.R)(ve.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(ye){return new(ye||Ie)(w.KVO(w.SKi),w.KVO(J.OD),w.KVO(ne.qQ,8))};static#t=this.\u0275prov=w.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),h=(()=>{class Ie{constructor(ve,ye,ke,me){this.elementRef=ve,this.scrollDispatcher=ye,this.ngZone=ke,this.dir=me,this._destroyed=new O.B,this._elementScrolled=new _.c(Ee=>this.ngZone.runOutsideAngular(()=>(0,R.R)(this.elementRef.nativeElement,"scroll").pipe((0,q.Q)(this._destroyed)).subscribe(Ee)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ve){const ye=this.elementRef.nativeElement,ke=this.dir&&"rtl"==this.dir.value;null==ve.left&&(ve.left=ke?ve.end:ve.start),null==ve.right&&(ve.right=ke?ve.start:ve.end),null!=ve.bottom&&(ve.top=ye.scrollHeight-ye.clientHeight-ve.bottom),ke&&(0,J.BD)()!=J.r5.NORMAL?(null!=ve.left&&(ve.right=ye.scrollWidth-ye.clientWidth-ve.left),(0,J.BD)()==J.r5.INVERTED?ve.left=ve.right:(0,J.BD)()==J.r5.NEGATED&&(ve.left=ve.right?-ve.right:ve.right)):null!=ve.right&&(ve.left=ye.scrollWidth-ye.clientWidth-ve.right),this._applyScrollToOptions(ve)}_applyScrollToOptions(ve){const ye=this.elementRef.nativeElement;(0,J.CZ)()?ye.scrollTo(ve):(null!=ve.top&&(ye.scrollTop=ve.top),null!=ve.left&&(ye.scrollLeft=ve.left))}measureScrollOffset(ve){const ye="left",me=this.elementRef.nativeElement;if("top"==ve)return me.scrollTop;if("bottom"==ve)return me.scrollHeight-me.clientHeight-me.scrollTop;const Ee=this.dir&&"rtl"==this.dir.value;return"start"==ve?ve=Ee?"right":ye:"end"==ve&&(ve=Ee?ye:"right"),Ee&&(0,J.BD)()==J.r5.INVERTED?ve==ye?me.scrollWidth-me.clientWidth-me.scrollLeft:me.scrollLeft:Ee&&(0,J.BD)()==J.r5.NEGATED?ve==ye?me.scrollLeft+me.scrollWidth-me.clientWidth:-me.scrollLeft:ve==ye?me.scrollLeft:me.scrollWidth-me.clientWidth-me.scrollLeft}static#e=this.\u0275fac=function(ye){return new(ye||Ie)(w.rXU(w.aKT),w.rXU(l),w.rXU(w.SKi),w.rXU(ie.dS,8))};static#t=this.\u0275dir=w.FsC({type:Ie,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Ie})(),p=(()=>{class Ie{constructor(ve,ye,ke){this._platform=ve,this._change=new O.B,this._changeListener=me=>{this._change.next(me)},this._document=ke,ye.runOutsideAngular(()=>{if(ve.isBrowser){const me=this._getWindow();me.addEventListener("resize",this._changeListener),me.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ve=this._getWindow();ve.removeEventListener("resize",this._changeListener),ve.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ve={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ve}getViewportRect(){const ve=this.getViewportScrollPosition(),{width:ye,height:ke}=this.getViewportSize();return{top:ve.top,left:ve.left,bottom:ve.top+ke,right:ve.left+ye,height:ke,width:ye}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ve=this._document,ye=this._getWindow(),ke=ve.documentElement,me=ke.getBoundingClientRect();return{top:-me.top||ve.body.scrollTop||ye.scrollY||ke.scrollTop||0,left:-me.left||ve.body.scrollLeft||ye.scrollX||ke.scrollLeft||0}}change(ve=20){return ve>0?this._change.pipe(te(ve)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ve=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ve.innerWidth,height:ve.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(ye){return new(ye||Ie)(w.KVO(J.OD),w.KVO(w.SKi),w.KVO(ne.qQ,8))};static#t=this.\u0275prov=w.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),de=(()=>{class Ie{static#e=this.\u0275fac=function(ye){return new(ye||Ie)};static#t=this.\u0275mod=w.$C({type:Ie});static#n=this.\u0275inj=w.G2t({})}return Ie})(),xe=(()=>{class Ie{static#e=this.\u0275fac=function(ye){return new(ye||Ie)};static#t=this.\u0275mod=w.$C({type:Ie});static#n=this.\u0275inj=w.G2t({imports:[ie.jI,de,ie.jI,de]})}return Ie})()},60177:(Ne,V,E)=>{"use strict";E.d(V,{AJ:()=>Rl,B3:()=>Li,Jj:()=>tn,MD:()=>Yh,N0:()=>Jf,QT:()=>O,Sm:()=>ee,Sq:()=>en,T3:()=>mo,UE:()=>Ec,VF:()=>_,Vy:()=>Ta,Xr:()=>mr,YU:()=>jr,ZD:()=>X,_b:()=>pr,aZ:()=>J,bT:()=>Vn,fw:()=>q,hb:()=>G,hj:()=>L,qQ:()=>A,vh:()=>Vs});var g=E(93953);let w=null;function O(){return w}function X($e){w??=$e}class _{}const A=new g.nKC("");let N=(()=>{class $e{historyGo(rt){throw new Error("")}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)};static#t=this.\u0275prov=g.jDH({token:$e,factory:()=>(0,g.WQX)(F),providedIn:"platform"})}return $e})();const L=new g.nKC("");let F=(()=>{class $e extends N{constructor(){super(),this._doc=(0,g.WQX)(A),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(rt){const Mt=O().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("popstate",rt,!1),()=>Mt.removeEventListener("popstate",rt)}onHashChange(rt){const Mt=O().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("hashchange",rt,!1),()=>Mt.removeEventListener("hashchange",rt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(rt){this._location.pathname=rt}pushState(rt,Mt,zt){this._history.pushState(rt,Mt,zt)}replaceState(rt,Mt,zt){this._history.replaceState(rt,Mt,zt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(rt=0){this._history.go(rt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)};static#t=this.\u0275prov=g.jDH({token:$e,factory:()=>new $e,providedIn:"platform"})}return $e})();function C($e,Tt){if(0==$e.length)return Tt;if(0==Tt.length)return $e;let rt=0;return $e.endsWith("/")&&rt++,Tt.startsWith("/")&&rt++,2==rt?$e+Tt.substring(1):1==rt?$e+Tt:$e+"/"+Tt}function Y($e){const Tt=$e.match(/#|\?|$/),rt=Tt&&Tt.index||$e.length;return $e.slice(0,rt-("/"===$e[rt-1]?1:0))+$e.slice(rt)}function j($e){return $e&&"?"!==$e[0]?"?"+$e:$e}let G=(()=>{class $e{historyGo(rt){throw new Error("")}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)};static#t=this.\u0275prov=g.jDH({token:$e,factory:()=>(0,g.WQX)(ee),providedIn:"root"})}return $e})();const te=new g.nKC("");let ee=(()=>{class $e extends G{constructor(rt,Mt){super(),this._platformLocation=rt,this._removeListenerFns=[],this._baseHref=Mt??this._platformLocation.getBaseHrefFromDOM()??(0,g.WQX)(A).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(rt){this._removeListenerFns.push(this._platformLocation.onPopState(rt),this._platformLocation.onHashChange(rt))}getBaseHref(){return this._baseHref}prepareExternalUrl(rt){return C(this._baseHref,rt)}path(rt=!1){const Mt=this._platformLocation.pathname+j(this._platformLocation.search),zt=this._platformLocation.hash;return zt&&rt?`${Mt}${zt}`:Mt}pushState(rt,Mt,zt,kn){const Yn=this.prepareExternalUrl(zt+j(kn));this._platformLocation.pushState(rt,Mt,Yn)}replaceState(rt,Mt,zt,kn){const Yn=this.prepareExternalUrl(zt+j(kn));this._platformLocation.replaceState(rt,Mt,Yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(rt=0){this._platformLocation.historyGo?.(rt)}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.KVO(N),g.KVO(te,8))};static#t=this.\u0275prov=g.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),q=(()=>{class $e extends G{constructor(rt,Mt){super(),this._platformLocation=rt,this._baseHref="",this._removeListenerFns=[],null!=Mt&&(this._baseHref=Mt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(rt){this._removeListenerFns.push(this._platformLocation.onPopState(rt),this._platformLocation.onHashChange(rt))}getBaseHref(){return this._baseHref}path(rt=!1){const Mt=this._platformLocation.hash??"#";return Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(rt){const Mt=C(this._baseHref,rt);return Mt.length>0?"#"+Mt:Mt}pushState(rt,Mt,zt,kn){let Yn=this.prepareExternalUrl(zt+j(kn));0==Yn.length&&(Yn=this._platformLocation.pathname),this._platformLocation.pushState(rt,Mt,Yn)}replaceState(rt,Mt,zt,kn){let Yn=this.prepareExternalUrl(zt+j(kn));0==Yn.length&&(Yn=this._platformLocation.pathname),this._platformLocation.replaceState(rt,Mt,Yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(rt=0){this._platformLocation.historyGo?.(rt)}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.KVO(N),g.KVO(te,8))};static#t=this.\u0275prov=g.jDH({token:$e,factory:$e.\u0275fac})}return $e})(),J=(()=>{class $e{constructor(rt){this._subject=new g.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=rt;const Mt=this._locationStrategy.getBaseHref();this._basePath=function ce($e){if(new RegExp("^(https?:)?//").test($e)){const[,rt]=$e.split(/\/\/[^\/]+/);return rt}return $e}(Y(re(Mt))),this._locationStrategy.onPopState(zt=>{this._subject.emit({url:this.path(!0),pop:!0,state:zt.state,type:zt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(rt=!1){return this.normalize(this._locationStrategy.path(rt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(rt,Mt=""){return this.path()==this.normalize(rt+j(Mt))}normalize(rt){return $e.stripTrailingSlash(function ie($e,Tt){if(!$e||!Tt.startsWith($e))return Tt;const rt=Tt.substring($e.length);return""===rt||["/",";","?","#"].includes(rt[0])?rt:Tt}(this._basePath,re(rt)))}prepareExternalUrl(rt){return rt&&"/"!==rt[0]&&(rt="/"+rt),this._locationStrategy.prepareExternalUrl(rt)}go(rt,Mt="",zt=null){this._locationStrategy.pushState(zt,"",rt,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(rt+j(Mt)),zt)}replaceState(rt,Mt="",zt=null){this._locationStrategy.replaceState(zt,"",rt,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(rt+j(Mt)),zt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(rt=0){this._locationStrategy.historyGo?.(rt)}onUrlChange(rt){return this._urlChangeListeners.push(rt),this._urlChangeSubscription??=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)}),()=>{const Mt=this._urlChangeListeners.indexOf(rt);this._urlChangeListeners.splice(Mt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(rt="",Mt){this._urlChangeListeners.forEach(zt=>zt(rt,Mt))}subscribe(rt,Mt,zt){return this._subject.subscribe({next:rt,error:Mt,complete:zt})}static#e=this.normalizeQueryParams=j;static#t=this.joinWithSlash=C;static#n=this.stripTrailingSlash=Y;static#f=this.\u0275fac=function(Mt){return new(Mt||$e)(g.KVO(G))};static#A=this.\u0275prov=g.jDH({token:$e,factory:()=>function ne(){return new J((0,g.KVO)(G))}(),providedIn:"root"})}return $e})();function re($e){return $e.replace(/\/index.html$/,"")}var Me=function($e){return $e[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e}(Me||{}),k=function($e){return $e[$e.Narrow=0]="Narrow",$e[$e.Abbreviated=1]="Abbreviated",$e[$e.Wide=2]="Wide",$e[$e.Short=3]="Short",$e}(k||{}),l=function($e){return $e[$e.Short=0]="Short",$e[$e.Medium=1]="Medium",$e[$e.Long=2]="Long",$e[$e.Full=3]="Full",$e}(l||{});const h={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W($e,Tt){return ae((0,g.H5H)($e)[g.KH2.DateFormat],Tt)}function z($e,Tt){return ae((0,g.H5H)($e)[g.KH2.TimeFormat],Tt)}function Q($e,Tt){return ae((0,g.H5H)($e)[g.KH2.DateTimeFormat],Tt)}function de($e,Tt){const rt=(0,g.H5H)($e),Mt=rt[g.KH2.NumberSymbols][Tt];if(typeof Mt>"u"){if(Tt===h.CurrencyDecimal)return rt[g.KH2.NumberSymbols][h.Decimal];if(Tt===h.CurrencyGroup)return rt[g.KH2.NumberSymbols][h.Group]}return Mt}function me($e){if(!$e[g.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${$e[g.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ae($e,Tt){for(let rt=Tt;rt>-1;rt--)if(typeof $e[rt]<"u")return $e[rt];throw new Error("Locale data API: locale data undefined")}function ue($e){const[Tt,rt]=$e.split(":");return{hours:+Tt,minutes:+rt}}const Ve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ze={},It=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qe=function($e){return $e[$e.Short=0]="Short",$e[$e.ShortGMT=1]="ShortGMT",$e[$e.Long=2]="Long",$e[$e.Extended=3]="Extended",$e}(qe||{}),je=function($e){return $e[$e.FullYear=0]="FullYear",$e[$e.Month=1]="Month",$e[$e.Date=2]="Date",$e[$e.Hours=3]="Hours",$e[$e.Minutes=4]="Minutes",$e[$e.Seconds=5]="Seconds",$e[$e.FractionalSeconds=6]="FractionalSeconds",$e[$e.Day=7]="Day",$e}(je||{}),ut=function($e){return $e[$e.DayPeriods=0]="DayPeriods",$e[$e.Days=1]="Days",$e[$e.Months=2]="Months",$e[$e.Eras=3]="Eras",$e}(ut||{});function $($e,Tt,rt,Mt){let zt=function $t($e){if(et($e))return $e;if("number"==typeof $e&&!isNaN($e))return new Date($e);if("string"==typeof $e){if($e=$e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($e)){const[zt,kn=1,Yn=1]=$e.split("-").map(Dr=>+Dr);return T(zt,kn-1,Yn)}const rt=parseFloat($e);if(!isNaN($e-rt))return new Date(rt);let Mt;if(Mt=$e.match(Ve))return function Bn($e){const Tt=new Date(0);let rt=0,Mt=0;const zt=$e[8]?Tt.setUTCFullYear:Tt.setFullYear,kn=$e[8]?Tt.setUTCHours:Tt.setHours;$e[9]&&(rt=Number($e[9]+$e[10]),Mt=Number($e[9]+$e[11])),zt.call(Tt,Number($e[1]),Number($e[2])-1,Number($e[3]));const Yn=Number($e[4]||0)-rt,Dr=Number($e[5]||0)-Mt,No=Number($e[6]||0),Ri=Math.floor(1e3*parseFloat("0."+($e[7]||0)));return kn.call(Tt,Yn,Dr,No,Ri),Tt}(Mt)}const Tt=new Date($e);if(!et(Tt))throw new Error(`Unable to convert "${$e}" into a date`);return Tt}($e);Tt=S(rt,Tt)||Tt;let Dr,Yn=[];for(;Tt;){if(Dr=It.exec(Tt),!Dr){Yn.push(Tt);break}{Yn=Yn.concat(Dr.slice(1));const Co=Yn.pop();if(!Co)break;Tt=Co}}let No=zt.getTimezoneOffset();Mt&&(No=Ye(Mt,No),zt=function kt($e,Tt,rt){const Mt=rt?-1:1,zt=$e.getTimezoneOffset();return function At($e,Tt){return($e=new Date($e.getTime())).setMinutes($e.getMinutes()+Tt),$e}($e,Mt*(Ye(Tt,zt)-zt))}(zt,Mt,!0));let Ri="";return Yn.forEach(Co=>{const Wi=function nt($e){if(Dt[$e])return Dt[$e];let Tt;switch($e){case"G":case"GG":case"GGG":Tt=Nt(ut.Eras,k.Abbreviated);break;case"GGGG":Tt=Nt(ut.Eras,k.Wide);break;case"GGGGG":Tt=Nt(ut.Eras,k.Narrow);break;case"y":Tt=Oe(je.FullYear,1,0,!1,!0);break;case"yy":Tt=Oe(je.FullYear,2,0,!0,!0);break;case"yyy":Tt=Oe(je.FullYear,3,0,!1,!0);break;case"yyyy":Tt=Oe(je.FullYear,4,0,!1,!0);break;case"Y":Tt=Bt(1);break;case"YY":Tt=Bt(2,!0);break;case"YYY":Tt=Bt(3);break;case"YYYY":Tt=Bt(4);break;case"M":case"L":Tt=Oe(je.Month,1,1);break;case"MM":case"LL":Tt=Oe(je.Month,2,1);break;case"MMM":Tt=Nt(ut.Months,k.Abbreviated);break;case"MMMM":Tt=Nt(ut.Months,k.Wide);break;case"MMMMM":Tt=Nt(ut.Months,k.Narrow);break;case"LLL":Tt=Nt(ut.Months,k.Abbreviated,Me.Standalone);break;case"LLLL":Tt=Nt(ut.Months,k.Wide,Me.Standalone);break;case"LLLLL":Tt=Nt(ut.Months,k.Narrow,Me.Standalone);break;case"w":Tt=cn(1);break;case"ww":Tt=cn(2);break;case"W":Tt=cn(1,!0);break;case"d":Tt=Oe(je.Date,1);break;case"dd":Tt=Oe(je.Date,2);break;case"c":case"cc":Tt=Oe(je.Day,1);break;case"ccc":Tt=Nt(ut.Days,k.Abbreviated,Me.Standalone);break;case"cccc":Tt=Nt(ut.Days,k.Wide,Me.Standalone);break;case"ccccc":Tt=Nt(ut.Days,k.Narrow,Me.Standalone);break;case"cccccc":Tt=Nt(ut.Days,k.Short,Me.Standalone);break;case"E":case"EE":case"EEE":Tt=Nt(ut.Days,k.Abbreviated);break;case"EEEE":Tt=Nt(ut.Days,k.Wide);break;case"EEEEE":Tt=Nt(ut.Days,k.Narrow);break;case"EEEEEE":Tt=Nt(ut.Days,k.Short);break;case"a":case"aa":case"aaa":Tt=Nt(ut.DayPeriods,k.Abbreviated);break;case"aaaa":Tt=Nt(ut.DayPeriods,k.Wide);break;case"aaaaa":Tt=Nt(ut.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":Tt=Nt(ut.DayPeriods,k.Abbreviated,Me.Standalone,!0);break;case"bbbb":Tt=Nt(ut.DayPeriods,k.Wide,Me.Standalone,!0);break;case"bbbbb":Tt=Nt(ut.DayPeriods,k.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":Tt=Nt(ut.DayPeriods,k.Abbreviated,Me.Format,!0);break;case"BBBB":Tt=Nt(ut.DayPeriods,k.Wide,Me.Format,!0);break;case"BBBBB":Tt=Nt(ut.DayPeriods,k.Narrow,Me.Format,!0);break;case"h":Tt=Oe(je.Hours,1,-12);break;case"hh":Tt=Oe(je.Hours,2,-12);break;case"H":Tt=Oe(je.Hours,1);break;case"HH":Tt=Oe(je.Hours,2);break;case"m":Tt=Oe(je.Minutes,1);break;case"mm":Tt=Oe(je.Minutes,2);break;case"s":Tt=Oe(je.Seconds,1);break;case"ss":Tt=Oe(je.Seconds,2);break;case"S":Tt=Oe(je.FractionalSeconds,1);break;case"SS":Tt=Oe(je.FractionalSeconds,2);break;case"SSS":Tt=Oe(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Tt=St(qe.Short);break;case"ZZZZZ":Tt=St(qe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Tt=St(qe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Tt=St(qe.Long);break;default:return null}return Dt[$e]=Tt,Tt}(Co);Ri+=Wi?Wi(zt,rt,No):"''"===Co?"'":Co.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ri}function T($e,Tt,rt){const Mt=new Date(0);return Mt.setFullYear($e,Tt,rt),Mt.setHours(0,0,0),Mt}function S($e,Tt){const rt=function p($e){return(0,g.H5H)($e)[g.KH2.LocaleId]}($e);if(ze[rt]??={},ze[rt][Tt])return ze[rt][Tt];let Mt="";switch(Tt){case"shortDate":Mt=W($e,l.Short);break;case"mediumDate":Mt=W($e,l.Medium);break;case"longDate":Mt=W($e,l.Long);break;case"fullDate":Mt=W($e,l.Full);break;case"shortTime":Mt=z($e,l.Short);break;case"mediumTime":Mt=z($e,l.Medium);break;case"longTime":Mt=z($e,l.Long);break;case"fullTime":Mt=z($e,l.Full);break;case"short":const zt=S($e,"shortTime"),kn=S($e,"shortDate");Mt=Z(Q($e,l.Short),[zt,kn]);break;case"medium":const Yn=S($e,"mediumTime"),Dr=S($e,"mediumDate");Mt=Z(Q($e,l.Medium),[Yn,Dr]);break;case"long":const No=S($e,"longTime"),Ri=S($e,"longDate");Mt=Z(Q($e,l.Long),[No,Ri]);break;case"full":const Co=S($e,"fullTime"),Wi=S($e,"fullDate");Mt=Z(Q($e,l.Full),[Co,Wi])}return Mt&&(ze[rt][Tt]=Mt),Mt}function Z($e,Tt){return Tt&&($e=$e.replace(/\{([^}]+)}/g,function(rt,Mt){return null!=Tt&&Mt in Tt?Tt[Mt]:rt})),$e}function le($e,Tt,rt="-",Mt,zt){let kn="";($e<0||zt&&$e<=0)&&(zt?$e=1-$e:($e=-$e,kn=rt));let Yn=String($e);for(;Yn.length<Tt;)Yn="0"+Yn;return Mt&&(Yn=Yn.slice(Yn.length-Tt)),kn+Yn}function Oe($e,Tt,rt=0,Mt=!1,zt=!1){return function(kn,Yn){let Dr=function Qe($e,Tt){switch($e){case je.FullYear:return Tt.getFullYear();case je.Month:return Tt.getMonth();case je.Date:return Tt.getDate();case je.Hours:return Tt.getHours();case je.Minutes:return Tt.getMinutes();case je.Seconds:return Tt.getSeconds();case je.FractionalSeconds:return Tt.getMilliseconds();case je.Day:return Tt.getDay();default:throw new Error(`Unknown DateType value "${$e}".`)}}($e,kn);if((rt>0||Dr>-rt)&&(Dr+=rt),$e===je.Hours)0===Dr&&-12===rt&&(Dr=12);else if($e===je.FractionalSeconds)return function De($e,Tt){return le($e,3).substring(0,Tt)}(Dr,Tt);const No=de(Yn,h.MinusSign);return le(Dr,Tt,No,Mt,zt)}}function Nt($e,Tt,rt=Me.Format,Mt=!1){return function(zt,kn){return function ft($e,Tt,rt,Mt,zt,kn){switch(rt){case ut.Months:return function B($e,Tt,rt){const Mt=(0,g.H5H)($e),kn=ae([Mt[g.KH2.MonthsFormat],Mt[g.KH2.MonthsStandalone]],Tt);return ae(kn,rt)}(Tt,zt,Mt)[$e.getMonth()];case ut.Days:return function D($e,Tt,rt){const Mt=(0,g.H5H)($e),kn=ae([Mt[g.KH2.DaysFormat],Mt[g.KH2.DaysStandalone]],Tt);return ae(kn,rt)}(Tt,zt,Mt)[$e.getDay()];case ut.DayPeriods:const Yn=$e.getHours(),Dr=$e.getMinutes();if(kn){const Ri=function Ee($e){const Tt=(0,g.H5H)($e);return me(Tt),(Tt[g.KH2.ExtraData][2]||[]).map(Mt=>"string"==typeof Mt?ue(Mt):[ue(Mt[0]),ue(Mt[1])])}(Tt),Co=function fe($e,Tt,rt){const Mt=(0,g.H5H)($e);me(Mt);const kn=ae([Mt[g.KH2.ExtraData][0],Mt[g.KH2.ExtraData][1]],Tt)||[];return ae(kn,rt)||[]}(Tt,zt,Mt),Wi=Ri.findIndex(Mo=>{if(Array.isArray(Mo)){const[ao,Ss]=Mo,bl=Yn>=ao.hours&&Dr>=ao.minutes,Da=Yn<Ss.hours||Yn===Ss.hours&&Dr<Ss.minutes;if(ao.hours<Ss.hours){if(bl&&Da)return!0}else if(bl||Da)return!0}else if(Mo.hours===Yn&&Mo.minutes===Dr)return!0;return!1});if(-1!==Wi)return Co[Wi]}return function x($e,Tt,rt){const Mt=(0,g.H5H)($e),kn=ae([Mt[g.KH2.DayPeriodsFormat],Mt[g.KH2.DayPeriodsStandalone]],Tt);return ae(kn,rt)}(Tt,zt,Mt)[Yn<12?0:1];case ut.Eras:return function M($e,Tt){return ae((0,g.H5H)($e)[g.KH2.Eras],Tt)}(Tt,Mt)[$e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${rt}`)}}(zt,kn,$e,Tt,rt,Mt)}}function St($e){return function(Tt,rt,Mt){const zt=-1*Mt,kn=de(rt,h.MinusSign),Yn=zt>0?Math.floor(zt/60):Math.ceil(zt/60);switch($e){case qe.Short:return(zt>=0?"+":"")+le(Yn,2,kn)+le(Math.abs(zt%60),2,kn);case qe.ShortGMT:return"GMT"+(zt>=0?"+":"")+le(Yn,1,kn);case qe.Long:return"GMT"+(zt>=0?"+":"")+le(Yn,2,kn)+":"+le(Math.abs(zt%60),2,kn);case qe.Extended:return 0===Mt?"Z":(zt>=0?"+":"")+le(Yn,2,kn)+":"+le(Math.abs(zt%60),2,kn);default:throw new Error(`Unknown zone width "${$e}"`)}}}const Lt=0,Gt=4;function zn($e){const Tt=$e.getDay(),rt=0===Tt?-3:Gt-Tt;return T($e.getFullYear(),$e.getMonth(),$e.getDate()+rt)}function cn($e,Tt=!1){return function(rt,Mt){let zt;if(Tt){const kn=new Date(rt.getFullYear(),rt.getMonth(),1).getDay()-1,Yn=rt.getDate();zt=1+Math.floor((Yn+kn)/7)}else{const kn=zn(rt),Yn=function Vt($e){const Tt=T($e,Lt,1).getDay();return T($e,0,1+(Tt<=Gt?Gt:Gt+7)-Tt)}(kn.getFullYear()),Dr=kn.getTime()-Yn.getTime();zt=1+Math.round(Dr/6048e5)}return le(zt,$e,de(Mt,h.MinusSign))}}function Bt($e,Tt=!1){return function(rt,Mt){return le(zn(rt).getFullYear(),$e,de(Mt,h.MinusSign),Tt)}}const Dt={};function Ye($e,Tt){$e=$e.replace(/:/g,"");const rt=Date.parse("Jan 01, 1970 00:00:00 "+$e)/6e4;return isNaN(rt)?Tt:rt}function et($e){return $e instanceof Date&&!isNaN($e.valueOf())}function pr($e,Tt){Tt=encodeURIComponent(Tt);for(const rt of $e.split(";")){const Mt=rt.indexOf("="),[zt,kn]=-1==Mt?[rt,""]:[rt.slice(0,Mt),rt.slice(Mt+1)];if(zt.trim()===Tt)return decodeURIComponent(kn)}return null}const kr=/\s+/,Tr=[];let jr=(()=>{class $e{constructor(rt,Mt){this._ngEl=rt,this._renderer=Mt,this.initialClasses=Tr,this.stateMap=new Map}set klass(rt){this.initialClasses=null!=rt?rt.trim().split(kr):Tr}set ngClass(rt){this.rawClass="string"==typeof rt?rt.trim().split(kr):rt}ngDoCheck(){for(const Mt of this.initialClasses)this._updateState(Mt,!0);const rt=this.rawClass;if(Array.isArray(rt)||rt instanceof Set)for(const Mt of rt)this._updateState(Mt,!0);else if(null!=rt)for(const Mt of Object.keys(rt))this._updateState(Mt,!!rt[Mt]);this._applyStateDiff()}_updateState(rt,Mt){const zt=this.stateMap.get(rt);void 0!==zt?(zt.enabled!==Mt&&(zt.changed=!0,zt.enabled=Mt),zt.touched=!0):this.stateMap.set(rt,{enabled:Mt,changed:!0,touched:!0})}_applyStateDiff(){for(const rt of this.stateMap){const Mt=rt[0],zt=rt[1];zt.changed?(this._toggleClass(Mt,zt.enabled),zt.changed=!1):zt.touched||(zt.enabled&&this._toggleClass(Mt,!1),this.stateMap.delete(Mt)),zt.touched=!1}}_toggleClass(rt,Mt){(rt=rt.trim()).length>0&&rt.split(kr).forEach(zt=>{Mt?this._renderer.addClass(this._ngEl.nativeElement,zt):this._renderer.removeClass(this._ngEl.nativeElement,zt)})}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.aKT),g.rXU(g.sFG))};static#t=this.\u0275dir=g.FsC({type:$e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return $e})();class Wt{constructor(Tt,rt,Mt,zt){this.$implicit=Tt,this.ngForOf=rt,this.index=Mt,this.count=zt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let en=(()=>{class $e{set ngForOf(rt){this._ngForOf=rt,this._ngForOfDirty=!0}set ngForTrackBy(rt){this._trackByFn=rt}get ngForTrackBy(){return this._trackByFn}constructor(rt,Mt,zt){this._viewContainer=rt,this._template=Mt,this._differs=zt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(rt){rt&&(this._template=rt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const rt=this._ngForOf;!this._differ&&rt&&(this._differ=this._differs.find(rt).create(this.ngForTrackBy))}if(this._differ){const rt=this._differ.diff(this._ngForOf);rt&&this._applyChanges(rt)}}_applyChanges(rt){const Mt=this._viewContainer;rt.forEachOperation((zt,kn,Yn)=>{if(null==zt.previousIndex)Mt.createEmbeddedView(this._template,new Wt(zt.item,this._ngForOf,-1,-1),null===Yn?void 0:Yn);else if(null==Yn)Mt.remove(null===kn?void 0:kn);else if(null!==kn){const Dr=Mt.get(kn);Mt.move(Dr,Yn),Sn(Dr,zt)}});for(let zt=0,kn=Mt.length;zt<kn;zt++){const Dr=Mt.get(zt).context;Dr.index=zt,Dr.count=kn,Dr.ngForOf=this._ngForOf}rt.forEachIdentityChange(zt=>{Sn(Mt.get(zt.currentIndex),zt)})}static ngTemplateContextGuard(rt,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.c1b),g.rXU(g.C4Q),g.rXU(g._q3))};static#t=this.\u0275dir=g.FsC({type:$e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return $e})();function Sn($e,Tt){$e.context.$implicit=Tt.item}let Vn=(()=>{class $e{constructor(rt,Mt){this._viewContainer=rt,this._context=new Jn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Mt}set ngIf(rt){this._context.$implicit=this._context.ngIf=rt,this._updateView()}set ngIfThen(rt){br("ngIfThen",rt),this._thenTemplateRef=rt,this._thenViewRef=null,this._updateView()}set ngIfElse(rt){br("ngIfElse",rt),this._elseTemplateRef=rt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(rt,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.c1b),g.rXU(g.C4Q))};static#t=this.\u0275dir=g.FsC({type:$e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return $e})();class Jn{constructor(){this.$implicit=null,this.ngIf=null}}function br($e,Tt){if(Tt&&!Tt.createEmbeddedView)throw new Error(`${$e} must be a TemplateRef, but received '${(0,g.Tbb)(Tt)}'.`)}let Li=(()=>{class $e{constructor(rt,Mt,zt){this._ngEl=rt,this._differs=Mt,this._renderer=zt,this._ngStyle=null,this._differ=null}set ngStyle(rt){this._ngStyle=rt,!this._differ&&rt&&(this._differ=this._differs.find(rt).create())}ngDoCheck(){if(this._differ){const rt=this._differ.diff(this._ngStyle);rt&&this._applyChanges(rt)}}_setStyle(rt,Mt){const[zt,kn]=rt.split("."),Yn=-1===zt.indexOf("-")?void 0:g.czy.DashCase;null!=Mt?this._renderer.setStyle(this._ngEl.nativeElement,zt,kn?`${Mt}${kn}`:Mt,Yn):this._renderer.removeStyle(this._ngEl.nativeElement,zt,Yn)}_applyChanges(rt){rt.forEachRemovedItem(Mt=>this._setStyle(Mt.key,null)),rt.forEachAddedItem(Mt=>this._setStyle(Mt.key,Mt.currentValue)),rt.forEachChangedItem(Mt=>this._setStyle(Mt.key,Mt.currentValue))}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.aKT),g.rXU(g.MKu),g.rXU(g.sFG))};static#t=this.\u0275dir=g.FsC({type:$e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return $e})(),mo=(()=>{class $e{constructor(rt){this._viewContainerRef=rt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(rt){if(this._shouldRecreateView(rt)){const Mt=this._viewContainerRef;if(this._viewRef&&Mt.remove(Mt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const zt=this._createContextForwardProxy();this._viewRef=Mt.createEmbeddedView(this.ngTemplateOutlet,zt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(rt){return!!rt.ngTemplateOutlet||!!rt.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(rt,Mt,zt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Mt,zt),get:(rt,Mt,zt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Mt,zt)}})}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.c1b))};static#t=this.\u0275dir=g.FsC({type:$e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.OA$]})}return $e})();function ri($e,Tt){return new g.wOt(2100,!1)}class xo{createSubscription(Tt,rt){return(0,g.O8t)(()=>Tt.subscribe({next:rt,error:Mt=>{throw Mt}}))}dispose(Tt){(0,g.O8t)(()=>Tt.unsubscribe())}}class fa{createSubscription(Tt,rt){return Tt.then(rt,Mt=>{throw Mt})}dispose(Tt){}}const Ns=new fa,Ms=new xo;let tn=(()=>{class $e{constructor(rt){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=rt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(rt){if(!this._obj){if(rt)try{this.markForCheckOnValueUpdate=!1,this._subscribe(rt)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return rt!==this._obj?(this._dispose(),this.transform(rt)):this._latestValue}_subscribe(rt){this._obj=rt,this._strategy=this._selectStrategy(rt),this._subscription=this._strategy.createSubscription(rt,Mt=>this._updateLatestValue(rt,Mt))}_selectStrategy(rt){if((0,g.jNT)(rt))return Ns;if((0,g.zjR)(rt))return Ms;throw ri()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(rt,Mt){rt===this._obj&&(this._latestValue=Mt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.gRc,16))};static#t=this.\u0275pipe=g.EJ8({name:"async",type:$e,pure:!1,standalone:!0})}return $e})();const Rr=new g.nKC(""),ys=new g.nKC("");let Vs=(()=>{class $e{constructor(rt,Mt,zt){this.locale=rt,this.defaultTimezone=Mt,this.defaultOptions=zt}transform(rt,Mt,zt,kn){if(null==rt||""===rt||rt!=rt)return null;try{return $(rt,Mt??this.defaultOptions?.dateFormat??"mediumDate",kn||this.locale,zt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Yn){throw ri()}}static#e=this.\u0275fac=function(Mt){return new(Mt||$e)(g.rXU(g.xe9,16),g.rXU(Rr,24),g.rXU(ys,24))};static#t=this.\u0275pipe=g.EJ8({name:"date",type:$e,pure:!0,standalone:!0})}return $e})(),Yh=(()=>{class $e{static#e=this.\u0275fac=function(Mt){return new(Mt||$e)};static#t=this.\u0275mod=g.$C({type:$e});static#n=this.\u0275inj=g.G2t({})}return $e})();const Rl="browser",Ju="server";function Ec($e){return $e===Rl}function Ta($e){return $e===Ju}let mr=(()=>{class $e{static#e=this.\u0275prov=(0,g.jDH)({token:$e,providedIn:"root",factory:()=>Ec((0,g.WQX)(g.Agw))?new Us((0,g.WQX)(A),window):new Nr})}return $e})();class Us{constructor(Tt,rt){this.document=Tt,this.window=rt,this.offset=()=>[0,0]}setOffset(Tt){this.offset=Array.isArray(Tt)?()=>Tt:Tt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Tt){this.window.scrollTo(Tt[0],Tt[1])}scrollToAnchor(Tt){const rt=function Qi($e,Tt){const rt=$e.getElementById(Tt)||$e.getElementsByName(Tt)[0];if(rt)return rt;if("function"==typeof $e.createTreeWalker&&$e.body&&"function"==typeof $e.body.attachShadow){const Mt=$e.createTreeWalker($e.body,NodeFilter.SHOW_ELEMENT);let zt=Mt.currentNode;for(;zt;){const kn=zt.shadowRoot;if(kn){const Yn=kn.getElementById(Tt)||kn.querySelector(`[name="${Tt}"]`);if(Yn)return Yn}zt=Mt.nextNode()}}return null}(this.document,Tt);rt&&(this.scrollToElement(rt),rt.focus())}setHistoryScrollRestoration(Tt){this.window.history.scrollRestoration=Tt}scrollToElement(Tt){const rt=Tt.getBoundingClientRect(),Mt=rt.left+this.window.pageXOffset,zt=rt.top+this.window.pageYOffset,kn=this.offset();this.window.scrollTo(Mt-kn[0],zt-kn[1])}}class Nr{setOffset(Tt){}getScrollPosition(){return[0,0]}scrollToPosition(Tt){}scrollToAnchor(Tt){}setHistoryScrollRestoration(Tt){}}class Jf{}},21626:(Ne,V,E)=>{"use strict";E.d(V,{Qq:()=>Q,q1:()=>rn});var g=E(10467),w=E(93953),O=E(7673),X=E(71985),_=E(86648),R=E(70274),A=E(5964),N=E(96354),L=E(70980),F=E(25558),C=E(60177);class Y{}class j{}class G{constructor(Wt){this.normalizedNames=new Map,this.lazyUpdate=null,Wt?"string"==typeof Wt?this.lazyInit=()=>{this.headers=new Map,Wt.split("\n").forEach(en=>{const Sn=en.indexOf(":");if(Sn>0){const xn=en.slice(0,Sn),Vn=xn.toLowerCase(),Jn=en.slice(Sn+1).trim();this.maybeSetNormalizedName(xn,Vn),this.headers.has(Vn)?this.headers.get(Vn).push(Jn):this.headers.set(Vn,[Jn])}})}:typeof Headers<"u"&&Wt instanceof Headers?(this.headers=new Map,Wt.forEach((en,Sn)=>{this.setHeaderEntries(Sn,en)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Wt).forEach(([en,Sn])=>{this.setHeaderEntries(en,Sn)})}:this.headers=new Map}has(Wt){return this.init(),this.headers.has(Wt.toLowerCase())}get(Wt){this.init();const en=this.headers.get(Wt.toLowerCase());return en&&en.length>0?en[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Wt){return this.init(),this.headers.get(Wt.toLowerCase())||null}append(Wt,en){return this.clone({name:Wt,value:en,op:"a"})}set(Wt,en){return this.clone({name:Wt,value:en,op:"s"})}delete(Wt,en){return this.clone({name:Wt,value:en,op:"d"})}maybeSetNormalizedName(Wt,en){this.normalizedNames.has(en)||this.normalizedNames.set(en,Wt)}init(){this.lazyInit&&(this.lazyInit instanceof G?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Wt=>this.applyUpdate(Wt)),this.lazyUpdate=null))}copyFrom(Wt){Wt.init(),Array.from(Wt.headers.keys()).forEach(en=>{this.headers.set(en,Wt.headers.get(en)),this.normalizedNames.set(en,Wt.normalizedNames.get(en))})}clone(Wt){const en=new G;return en.lazyInit=this.lazyInit&&this.lazyInit instanceof G?this.lazyInit:this,en.lazyUpdate=(this.lazyUpdate||[]).concat([Wt]),en}applyUpdate(Wt){const en=Wt.name.toLowerCase();switch(Wt.op){case"a":case"s":let Sn=Wt.value;if("string"==typeof Sn&&(Sn=[Sn]),0===Sn.length)return;this.maybeSetNormalizedName(Wt.name,en);const xn=("a"===Wt.op?this.headers.get(en):void 0)||[];xn.push(...Sn),this.headers.set(en,xn);break;case"d":const Vn=Wt.value;if(Vn){let Jn=this.headers.get(en);if(!Jn)return;Jn=Jn.filter(br=>-1===Vn.indexOf(br)),0===Jn.length?(this.headers.delete(en),this.normalizedNames.delete(en)):this.headers.set(en,Jn)}else this.headers.delete(en),this.normalizedNames.delete(en)}}setHeaderEntries(Wt,en){const Sn=(Array.isArray(en)?en:[en]).map(Vn=>Vn.toString()),xn=Wt.toLowerCase();this.headers.set(xn,Sn),this.maybeSetNormalizedName(Wt,xn)}forEach(Wt){this.init(),Array.from(this.normalizedNames.keys()).forEach(en=>Wt(this.normalizedNames.get(en),this.headers.get(en)))}}class ee{encodeKey(Wt){return ie(Wt)}encodeValue(Wt){return ie(Wt)}decodeKey(Wt){return decodeURIComponent(Wt)}decodeValue(Wt){return decodeURIComponent(Wt)}}const J=/%(\d[a-f0-9])/gi,ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ie(Ot){return encodeURIComponent(Ot).replace(J,(Wt,en)=>ne[en]??Wt)}function re(Ot){return`${Ot}`}class ce{constructor(Wt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Wt.encoder||new ee,Wt.fromString){if(Wt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function q(Ot,Wt){const en=new Map;return Ot.length>0&&Ot.replace(/^\?/,"").split("&").forEach(xn=>{const Vn=xn.indexOf("="),[Jn,br]=-1==Vn?[Wt.decodeKey(xn),""]:[Wt.decodeKey(xn.slice(0,Vn)),Wt.decodeValue(xn.slice(Vn+1))],lr=en.get(Jn)||[];lr.push(br),en.set(Jn,lr)}),en}(Wt.fromString,this.encoder)}else Wt.fromObject?(this.map=new Map,Object.keys(Wt.fromObject).forEach(en=>{const Sn=Wt.fromObject[en],xn=Array.isArray(Sn)?Sn.map(re):[re(Sn)];this.map.set(en,xn)})):this.map=null}has(Wt){return this.init(),this.map.has(Wt)}get(Wt){this.init();const en=this.map.get(Wt);return en?en[0]:null}getAll(Wt){return this.init(),this.map.get(Wt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Wt,en){return this.clone({param:Wt,value:en,op:"a"})}appendAll(Wt){const en=[];return Object.keys(Wt).forEach(Sn=>{const xn=Wt[Sn];Array.isArray(xn)?xn.forEach(Vn=>{en.push({param:Sn,value:Vn,op:"a"})}):en.push({param:Sn,value:xn,op:"a"})}),this.clone(en)}set(Wt,en){return this.clone({param:Wt,value:en,op:"s"})}delete(Wt,en){return this.clone({param:Wt,value:en,op:"d"})}toString(){return this.init(),this.keys().map(Wt=>{const en=this.encoder.encodeKey(Wt);return this.map.get(Wt).map(Sn=>en+"="+this.encoder.encodeValue(Sn)).join("&")}).filter(Wt=>""!==Wt).join("&")}clone(Wt){const en=new ce({encoder:this.encoder});return en.cloneFrom=this.cloneFrom||this,en.updates=(this.updates||[]).concat(Wt),en}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Wt=>this.map.set(Wt,this.cloneFrom.map.get(Wt))),this.updates.forEach(Wt=>{switch(Wt.op){case"a":case"s":const en=("a"===Wt.op?this.map.get(Wt.param):void 0)||[];en.push(re(Wt.value)),this.map.set(Wt.param,en);break;case"d":if(void 0===Wt.value){this.map.delete(Wt.param);break}{let Sn=this.map.get(Wt.param)||[];const xn=Sn.indexOf(re(Wt.value));-1!==xn&&Sn.splice(xn,1),Sn.length>0?this.map.set(Wt.param,Sn):this.map.delete(Wt.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(Wt,en){return this.map.set(Wt,en),this}get(Wt){return this.map.has(Wt)||this.map.set(Wt,Wt.defaultValue()),this.map.get(Wt)}delete(Wt){return this.map.delete(Wt),this}has(Wt){return this.map.has(Wt)}keys(){return this.map.keys()}}function Me(Ot){return typeof ArrayBuffer<"u"&&Ot instanceof ArrayBuffer}function k(Ot){return typeof Blob<"u"&&Ot instanceof Blob}function l(Ot){return typeof FormData<"u"&&Ot instanceof FormData}class m{constructor(Wt,en,Sn,xn){let Vn;if(this.url=en,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Wt.toUpperCase(),function we(Ot){switch(Ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xn?(this.body=void 0!==Sn?Sn:null,Vn=xn):Vn=Sn,Vn&&(this.reportProgress=!!Vn.reportProgress,this.withCredentials=!!Vn.withCredentials,Vn.responseType&&(this.responseType=Vn.responseType),Vn.headers&&(this.headers=Vn.headers),Vn.context&&(this.context=Vn.context),Vn.params&&(this.params=Vn.params),this.transferCache=Vn.transferCache),this.headers??=new G,this.context??=new pe,this.params){const Jn=this.params.toString();if(0===Jn.length)this.urlWithParams=en;else{const br=en.indexOf("?");this.urlWithParams=en+(-1===br?"?":br<en.length-1?"&":"")+Jn}}else this.params=new ce,this.urlWithParams=en}serializeBody(){return null===this.body?null:"string"==typeof this.body||Me(this.body)||k(this.body)||l(this.body)||function h(Ot){return typeof URLSearchParams<"u"&&Ot instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l(this.body)?null:k(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Wt={}){const en=Wt.method||this.method,Sn=Wt.url||this.url,xn=Wt.responseType||this.responseType,Vn=Wt.transferCache??this.transferCache,Jn=void 0!==Wt.body?Wt.body:this.body,br=Wt.withCredentials??this.withCredentials,lr=Wt.reportProgress??this.reportProgress;let tr=Wt.headers||this.headers,Hi=Wt.params||this.params;const li=Wt.context??this.context;return void 0!==Wt.setHeaders&&(tr=Object.keys(Wt.setHeaders).reduce((Hr,Mi)=>Hr.set(Mi,Wt.setHeaders[Mi]),tr)),Wt.setParams&&(Hi=Object.keys(Wt.setParams).reduce((Hr,Mi)=>Hr.set(Mi,Wt.setParams[Mi]),Hi)),new m(en,Sn,Jn,{params:Hi,headers:tr,context:li,reportProgress:lr,responseType:xn,withCredentials:br,transferCache:Vn})}}var p=function(Ot){return Ot[Ot.Sent=0]="Sent",Ot[Ot.UploadProgress=1]="UploadProgress",Ot[Ot.ResponseHeader=2]="ResponseHeader",Ot[Ot.DownloadProgress=3]="DownloadProgress",Ot[Ot.Response=4]="Response",Ot[Ot.User=5]="User",Ot}(p||{});class x{constructor(Wt,en=200,Sn="OK"){this.headers=Wt.headers||new G,this.status=void 0!==Wt.status?Wt.status:en,this.statusText=Wt.statusText||Sn,this.url=Wt.url||null,this.ok=this.status>=200&&this.status<300}}class D extends x{constructor(Wt={}){super(Wt),this.type=p.ResponseHeader}clone(Wt={}){return new D({headers:Wt.headers||this.headers,status:void 0!==Wt.status?Wt.status:this.status,statusText:Wt.statusText||this.statusText,url:Wt.url||this.url||void 0})}}class B extends x{constructor(Wt={}){super(Wt),this.type=p.Response,this.body=void 0!==Wt.body?Wt.body:null}clone(Wt={}){return new B({body:void 0!==Wt.body?Wt.body:this.body,headers:Wt.headers||this.headers,status:void 0!==Wt.status?Wt.status:this.status,statusText:Wt.statusText||this.statusText,url:Wt.url||this.url||void 0})}}class M extends x{constructor(Wt){super(Wt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Wt.url||"(unknown url)"}`:`Http failure response for ${Wt.url||"(unknown url)"}: ${Wt.status} ${Wt.statusText}`,this.error=Wt.error||null}}function z(Ot,Wt){return{body:Wt,headers:Ot.headers,context:Ot.context,observe:Ot.observe,params:Ot.params,reportProgress:Ot.reportProgress,responseType:Ot.responseType,withCredentials:Ot.withCredentials,transferCache:Ot.transferCache}}let Q=(()=>{class Ot{constructor(en){this.handler=en}request(en,Sn,xn={}){let Vn;if(en instanceof m)Vn=en;else{let lr,tr;lr=xn.headers instanceof G?xn.headers:new G(xn.headers),xn.params&&(tr=xn.params instanceof ce?xn.params:new ce({fromObject:xn.params})),Vn=new m(en,Sn,void 0!==xn.body?xn.body:null,{headers:lr,context:xn.context,params:tr,reportProgress:xn.reportProgress,responseType:xn.responseType||"json",withCredentials:xn.withCredentials,transferCache:xn.transferCache})}const Jn=(0,O.of)(Vn).pipe((0,R.H)(lr=>this.handler.handle(lr)));if(en instanceof m||"events"===xn.observe)return Jn;const br=Jn.pipe((0,A.p)(lr=>lr instanceof B));switch(xn.observe||"body"){case"body":switch(Vn.responseType){case"arraybuffer":return br.pipe((0,N.T)(lr=>{if(null!==lr.body&&!(lr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return lr.body}));case"blob":return br.pipe((0,N.T)(lr=>{if(null!==lr.body&&!(lr.body instanceof Blob))throw new Error("Response is not a Blob.");return lr.body}));case"text":return br.pipe((0,N.T)(lr=>{if(null!==lr.body&&"string"!=typeof lr.body)throw new Error("Response is not a string.");return lr.body}));default:return br.pipe((0,N.T)(lr=>lr.body))}case"response":return br;default:throw new Error(`Unreachable: unhandled observe type ${xn.observe}}`)}}delete(en,Sn={}){return this.request("DELETE",en,Sn)}get(en,Sn={}){return this.request("GET",en,Sn)}head(en,Sn={}){return this.request("HEAD",en,Sn)}jsonp(en,Sn){return this.request("JSONP",en,{params:(new ce).append(Sn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(en,Sn={}){return this.request("OPTIONS",en,Sn)}patch(en,Sn,xn={}){return this.request("PATCH",en,z(xn,Sn))}post(en,Sn,xn={}){return this.request("POST",en,z(xn,Sn))}put(en,Sn,xn={}){return this.request("PUT",en,z(xn,Sn))}static#e=this.\u0275fac=function(Sn){return new(Sn||Ot)(w.KVO(Y))};static#t=this.\u0275prov=w.jDH({token:Ot,factory:Ot.\u0275fac})}return Ot})();const de=/^\)\]\}',?\n/;function Ie(Ot){if(Ot.url)return Ot.url;const Wt="X-Request-URL".toLocaleLowerCase();return Ot.headers.get(Wt)}let Le=(()=>{class Ot{constructor(){this.fetchImpl=(0,w.WQX)(ve,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,w.WQX)(w.SKi)}handle(en){return new X.c(Sn=>{const xn=new AbortController;return this.doRequest(en,xn.signal,Sn).then(ye,Vn=>Sn.error(new M({error:Vn}))),()=>xn.abort()})}doRequest(en,Sn,xn){var Vn=this;return(0,g.A)(function*(){const Jn=Vn.createRequestInit(en);let br;try{const Xi=Vn.ngZone.runOutsideAngular(()=>Vn.fetchImpl(en.urlWithParams,{signal:Sn,...Jn}));(function ke(Ot){Ot.then(ye,ye)})(Xi),xn.next({type:p.Sent}),br=yield Xi}catch(Xi){return void xn.error(new M({error:Xi,status:Xi.status??0,statusText:Xi.statusText,url:en.urlWithParams,headers:Xi.headers}))}const lr=new G(br.headers),tr=br.statusText,Hi=Ie(br)??en.urlWithParams;let li=br.status,Hr=null;if(en.reportProgress&&xn.next(new D({headers:lr,status:li,statusText:tr,url:Hi})),br.body){const Xi=br.headers.get("content-length"),si=[],Li=br.body.getReader();let xs,ri,mo=0;const xo=typeof Zone<"u"&&Zone.current;yield Vn.ngZone.runOutsideAngular((0,g.A)(function*(){for(;;){const{done:Ns,value:Ms}=yield Li.read();if(Ns)break;if(si.push(Ms),mo+=Ms.length,en.reportProgress){ri="text"===en.responseType?(ri??"")+(xs??=new TextDecoder).decode(Ms,{stream:!0}):void 0;const tn=()=>xn.next({type:p.DownloadProgress,total:Xi?+Xi:void 0,loaded:mo,partialText:ri});xo?xo.run(tn):tn()}}}));const fa=Vn.concatChunks(si,mo);try{const Ns=br.headers.get("Content-Type")??"";Hr=Vn.parseBody(en,fa,Ns)}catch(Ns){return void xn.error(new M({error:Ns,headers:new G(br.headers),status:br.status,statusText:br.statusText,url:Ie(br)??en.urlWithParams}))}}0===li&&(li=Hr?200:0),li>=200&&li<300?(xn.next(new B({body:Hr,headers:lr,status:li,statusText:tr,url:Hi})),xn.complete()):xn.error(new M({error:Hr,headers:lr,status:li,statusText:tr,url:Hi}))})()}parseBody(en,Sn,xn){switch(en.responseType){case"json":const Vn=(new TextDecoder).decode(Sn).replace(de,"");return""===Vn?null:JSON.parse(Vn);case"text":return(new TextDecoder).decode(Sn);case"blob":return new Blob([Sn],{type:xn});case"arraybuffer":return Sn.buffer}}createRequestInit(en){const Sn={},xn=en.withCredentials?"include":void 0;if(en.headers.forEach((Vn,Jn)=>Sn[Vn]=Jn.join(",")),en.headers.has("Accept")||(Sn.Accept="application/json, text/plain, */*"),!en.headers.has("Content-Type")){const Vn=en.detectContentTypeHeader();null!==Vn&&(Sn["Content-Type"]=Vn)}return{body:en.serializeBody(),method:en.method,headers:Sn,credentials:xn}}concatChunks(en,Sn){const xn=new Uint8Array(Sn);let Vn=0;for(const Jn of en)xn.set(Jn,Vn),Vn+=Jn.length;return xn}static#e=this.\u0275fac=function(Sn){return new(Sn||Ot)};static#t=this.\u0275prov=w.jDH({token:Ot,factory:Ot.\u0275fac})}return Ot})();class ve{}function ye(){}function me(Ot,Wt){return Wt(Ot)}function Ee(Ot,Wt){return(en,Sn)=>Wt.intercept(en,{handle:xn=>Ot(xn,Sn)})}const he=new w.nKC(""),ae=new w.nKC(""),ue=new w.nKC(""),ge=new w.nKC("",{providedIn:"root",factory:()=>!0});function Ae(){let Ot=null;return(Wt,en)=>{null===Ot&&(Ot=((0,w.WQX)(he,{optional:!0})??[]).reduceRight(Ee,me));const Sn=(0,w.WQX)(w.TgB);if((0,w.WQX)(ge)){const Vn=Sn.add();return Ot(Wt,en).pipe((0,L.j)(()=>Sn.remove(Vn)))}return Ot(Wt,en)}}let ze=(()=>{class Ot extends Y{constructor(en,Sn){super(),this.backend=en,this.injector=Sn,this.chain=null,this.pendingTasks=(0,w.WQX)(w.TgB),this.contributeToStability=(0,w.WQX)(ge)}handle(en){if(null===this.chain){const Sn=Array.from(new Set([...this.injector.get(ae),...this.injector.get(ue,[])]));this.chain=Sn.reduceRight((xn,Vn)=>function fe(Ot,Wt,en){return(Sn,xn)=>(0,w.N4e)(en,()=>Wt(Sn,Vn=>Ot(Vn,xn)))}(xn,Vn,this.injector),me)}if(this.contributeToStability){const Sn=this.pendingTasks.add();return this.chain(en,xn=>this.backend.handle(xn)).pipe((0,L.j)(()=>this.pendingTasks.remove(Sn)))}return this.chain(en,Sn=>this.backend.handle(Sn))}static#e=this.\u0275fac=function(Sn){return new(Sn||Ot)(w.KVO(j),w.KVO(w.uvJ))};static#t=this.\u0275prov=w.jDH({token:Ot,factory:Ot.\u0275fac})}return Ot})();const Qe=/^\)\]\}',?\n/;let ft=(()=>{class Ot{constructor(en){this.xhrFactory=en}handle(en){if("JSONP"===en.method)throw new w.wOt(-2800,!1);const Sn=this.xhrFactory;return(Sn.\u0275loadImpl?(0,_.H)(Sn.\u0275loadImpl()):(0,O.of)(null)).pipe((0,F.n)(()=>new X.c(Vn=>{const Jn=Sn.build();if(Jn.open(en.method,en.urlWithParams),en.withCredentials&&(Jn.withCredentials=!0),en.headers.forEach((si,Li)=>Jn.setRequestHeader(si,Li.join(","))),en.headers.has("Accept")||Jn.setRequestHeader("Accept","application/json, text/plain, */*"),!en.headers.has("Content-Type")){const si=en.detectContentTypeHeader();null!==si&&Jn.setRequestHeader("Content-Type",si)}if(en.responseType){const si=en.responseType.toLowerCase();Jn.responseType="json"!==si?si:"text"}const br=en.serializeBody();let lr=null;const tr=()=>{if(null!==lr)return lr;const si=Jn.statusText||"OK",Li=new G(Jn.getAllResponseHeaders()),mo=function Nt(Ot){return"responseURL"in Ot&&Ot.responseURL?Ot.responseURL:/^X-Request-URL:/m.test(Ot.getAllResponseHeaders())?Ot.getResponseHeader("X-Request-URL"):null}(Jn)||en.url;return lr=new D({headers:Li,status:Jn.status,statusText:si,url:mo}),lr},Hi=()=>{let{headers:si,status:Li,statusText:mo,url:xs}=tr(),ri=null;204!==Li&&(ri=typeof Jn.response>"u"?Jn.responseText:Jn.response),0===Li&&(Li=ri?200:0);let xo=Li>=200&&Li<300;if("json"===en.responseType&&"string"==typeof ri){const fa=ri;ri=ri.replace(Qe,"");try{ri=""!==ri?JSON.parse(ri):null}catch(Ns){ri=fa,xo&&(xo=!1,ri={error:Ns,text:ri})}}xo?(Vn.next(new B({body:ri,headers:si,status:Li,statusText:mo,url:xs||void 0})),Vn.complete()):Vn.error(new M({error:ri,headers:si,status:Li,statusText:mo,url:xs||void 0}))},li=si=>{const{url:Li}=tr(),mo=new M({error:si,status:Jn.status||0,statusText:Jn.statusText||"Unknown Error",url:Li||void 0});Vn.error(mo)};let Hr=!1;const Mi=si=>{Hr||(Vn.next(tr()),Hr=!0);let Li={type:p.DownloadProgress,loaded:si.loaded};si.lengthComputable&&(Li.total=si.total),"text"===en.responseType&&Jn.responseText&&(Li.partialText=Jn.responseText),Vn.next(Li)},Xi=si=>{let Li={type:p.UploadProgress,loaded:si.loaded};si.lengthComputable&&(Li.total=si.total),Vn.next(Li)};return Jn.addEventListener("load",Hi),Jn.addEventListener("error",li),Jn.addEventListener("timeout",li),Jn.addEventListener("abort",li),en.reportProgress&&(Jn.addEventListener("progress",Mi),null!==br&&Jn.upload&&Jn.upload.addEventListener("progress",Xi)),Jn.send(br),Vn.next({type:p.Sent}),()=>{Jn.removeEventListener("error",li),Jn.removeEventListener("abort",li),Jn.removeEventListener("load",Hi),Jn.removeEventListener("timeout",li),en.reportProgress&&(Jn.removeEventListener("progress",Mi),null!==br&&Jn.upload&&Jn.upload.removeEventListener("progress",Xi)),Jn.readyState!==Jn.DONE&&Jn.abort()}})))}static#e=this.\u0275fac=function(Sn){return new(Sn||Ot)(w.KVO(C.N0))};static#t=this.\u0275prov=w.jDH({token:Ot,factory:Ot.\u0275fac})}return Ot})();const St=new w.nKC(""),Gt=new w.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zn=new w.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cn{}let Bt=(()=>{class Ot{constructor(en,Sn,xn){this.doc=en,this.platform=Sn,this.cookieName=xn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const en=this.doc.cookie||"";return en!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,C._b)(en,this.cookieName),this.lastCookieString=en),this.lastToken}static#e=this.\u0275fac=function(Sn){return new(Sn||Ot)(w.KVO(C.qQ),w.KVO(w.Agw),w.KVO(Gt))};static#t=this.\u0275prov=w.jDH({token:Ot,factory:Ot.\u0275fac})}return Ot})();function Dt(Ot,Wt){const en=Ot.url.toLowerCase();if(!(0,w.WQX)(St)||"GET"===Ot.method||"HEAD"===Ot.method||en.startsWith("http://")||en.startsWith("https://"))return Wt(Ot);const Sn=(0,w.WQX)(cn).getToken(),xn=(0,w.WQX)(zn);return null!=Sn&&!Ot.headers.has(xn)&&(Ot=Ot.clone({headers:Ot.headers.set(xn,Sn)})),Wt(Ot)}var Ye=function(Ot){return Ot[Ot.Interceptors=0]="Interceptors",Ot[Ot.LegacyInterceptors=1]="LegacyInterceptors",Ot[Ot.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ot[Ot.NoXsrfProtection=3]="NoXsrfProtection",Ot[Ot.JsonpSupport=4]="JsonpSupport",Ot[Ot.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ot[Ot.Fetch=6]="Fetch",Ot}(Ye||{});function kt(...Ot){const Wt=[Q,ft,ze,{provide:Y,useExisting:ze},{provide:j,useFactory:()=>(0,w.WQX)(Le,{optional:!0})??(0,w.WQX)(ft)},{provide:ae,useValue:Dt,multi:!0},{provide:St,useValue:!0},{provide:cn,useClass:Bt}];for(const en of Ot)Wt.push(...en.\u0275providers);return(0,w.EmA)(Wt)}const Bn=new w.nKC("");function et(){return function At(Ot,Wt){return{\u0275kind:Ot,\u0275providers:Wt}}(Ye.LegacyInterceptors,[{provide:Bn,useFactory:Ae},{provide:ae,useExisting:Bn,multi:!0}])}let rn=(()=>{class Ot{static#e=this.\u0275fac=function(Sn){return new(Sn||Ot)};static#t=this.\u0275mod=w.$C({type:Ot});static#n=this.\u0275inj=w.G2t({providers:[kt(et())]})}return Ot})()},93953:(Ne,V,E)=>{"use strict";function g(s,f){return Object.is(s,f)}E.d(V,{bc$:()=>T8,iLQ:()=>xi,sZ2:()=>M_,hnV:()=>M6,wjH:()=>id,o8S:()=>Nf,BIS:()=>D8,gRc:()=>EE,Ql9:()=>L4,OM3:()=>pb,Ocv:()=>K4,Z63:()=>Nl,aKT:()=>Av,uvJ:()=>Fl,zcH:()=>Tu,bkB:()=>Du,$GK:()=>Zi,nKC:()=>Ti,zZn:()=>Pa,_q3:()=>j6,MKu:()=>xA,xe9:()=>yA,Co$:()=>Py,Vns:()=>yp,SKi:()=>Is,Xx1:()=>Mo,Agw:()=>ax,PLl:()=>$D,rOR:()=>ra,sFG:()=>pO,_9s:()=>mM,czy:()=>Xv,WPN:()=>ia,kdw:()=>Ss,C4Q:()=>ob,NYb:()=>_i,giA:()=>Jt,RxE:()=>aA,c1b:()=>p1,gXe:()=>vu,mal:()=>kC,Tzd:()=>CC,L39:()=>Tg,EWP:()=>FE,sbv:()=>El,a0P:()=>i5,Ol2:()=>Sh,w6W:()=>Mb,QZP:()=>RA,Rfq:()=>vt,WQX:()=>zt,naY:()=>W4,Hps:()=>DM,QuC:()=>In,EmA:()=>ga,geq:()=>E9,Udg:()=>SR,Jn2:()=>j4,HJs:()=>CR,N4e:()=>zT,vPA:()=>Iy,O8t:()=>Ew,ebz:()=>OM,An2:()=>Ay,H3F:()=>w6,zAP:()=>_w,H8p:()=>Jw,KH2:()=>Fm,TgB:()=>vh,wOt:()=>mr,WHO:()=>Zo,e01:()=>fi,lNU:()=>Zd,h9k:()=>Y8,$MX:()=>$v,ZF7:()=>ry,Kcf:()=>z8,e5t:()=>W8,UyX:()=>iy,cWb:()=>Kv,osQ:()=>H8,H5H:()=>Um,Zy3:()=>Us,mq5:()=>Lm,JZv:()=>jo,TL3:()=>OE,LfX:()=>Ww,plB:()=>pp,jNT:()=>gE,zjR:()=>vE,ngT:()=>rd,TL$:()=>FN,Tbb:()=>vs,rcV:()=>_h,nM4:()=>XO,Vt3:()=>Eb,GFd:()=>cc,OA$:()=>Qn,Jv_:()=>ZS,aNF:()=>Ga,R7$:()=>BI,BMQ:()=>nS,HbH:()=>ds,ZvI:()=>Zl,AVh:()=>_p,vxM:()=>Jl,wni:()=>Lu,C6U:()=>Rh,VBU:()=>rf,FsC:()=>Fe,jDH:()=>Yi,G2t:()=>hu,$C:()=>Be,EJ8:()=>We,rXU:()=>ly,nrm:()=>Ih,eu8:()=>Zy,bVm:()=>Sp,qex:()=>Mp,k0s:()=>Es,j41:()=>ca,RV6:()=>j1,xGo:()=>_D,Mr5:()=>$b,pXf:()=>PS,KVO:()=>rt,kS0:()=>X2,QTQ:()=>UI,bIt:()=>Q1,lsd:()=>tE,joV:()=>fD,qSk:()=>a_,XpG:()=>US,nI1:()=>c6,bMT:()=>d6,i5U:()=>l6,SdG:()=>Ud,NAR:()=>LS,Y8G:()=>C1,FS9:()=>Xb,lJ4:()=>sE,eq3:()=>Zm,l_i:()=>i6,NyB:()=>zi,mGM:()=>ng,sdS:()=>Bh,Dyx:()=>sd,Z7z:()=>Yy,fX1:()=>Xy,Vm6:()=>Mf,Njj:()=>wv,eBV:()=>tD,npT:()=>uI,B4B:()=>Sx,n$t:()=>fI,xc7:()=>P1,Kam:()=>Gb,zvX:()=>Vb,DNE:()=>GM,C5r:()=>cg,EFF:()=>Xm,JRh:()=>Bp,SpI:()=>Pf,Lme:()=>qb,DH7:()=>rE,mxI:()=>Qb,R50:()=>HS,GBs:()=>Jb,wEZ:()=>Pp});let w=null,O=!1,X=1;const _=Symbol("SIGNAL");function R(s){const f=w;return w=s,f}const F={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function C(s){if(O)throw new Error("");if(null===w)return;w.consumerOnSignalRead(s);const f=w.nextProducerIndex++;pe(w),f<w.producerNode.length&&w.producerNode[f]!==s&&se(w)&&ce(w.producerNode[f],w.producerIndexOfThis[f]),w.producerNode[f]!==s&&(w.producerNode[f]=s,w.producerIndexOfThis[f]=se(w)?re(s,w,f):0),w.producerLastReadVersion[f]=s.version}function j(s){if((!se(s)||s.dirty)&&(s.dirty||s.lastCleanEpoch!==X)){if(!s.producerMustRecompute(s)&&!ne(s))return s.dirty=!1,void(s.lastCleanEpoch=X);s.producerRecomputeValue(s),s.dirty=!1,s.lastCleanEpoch=X}}function G(s){if(void 0===s.liveConsumerNode)return;const f=O;O=!0;try{for(const y of s.liveConsumerNode)y.dirty||ee(y)}finally{O=f}}function te(){return!1!==w?.consumerAllowSignalWrites}function ee(s){s.dirty=!0,G(s),s.consumerMarkedDirty?.(s)}function q(s){return s&&(s.nextProducerIndex=0),R(s)}function J(s,f){if(R(f),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(se(s))for(let y=s.nextProducerIndex;y<s.producerNode.length;y++)ce(s.producerNode[y],s.producerIndexOfThis[y]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function ne(s){pe(s);for(let f=0;f<s.producerNode.length;f++){const y=s.producerNode[f],I=s.producerLastReadVersion[f];if(I!==y.version||(j(y),I!==y.version))return!0}return!1}function ie(s){if(pe(s),se(s))for(let f=0;f<s.producerNode.length;f++)ce(s.producerNode[f],s.producerIndexOfThis[f]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function re(s,f,y){if(we(s),0===s.liveConsumerNode.length&&Me(s))for(let I=0;I<s.producerNode.length;I++)s.producerIndexOfThis[I]=re(s.producerNode[I],s,I);return s.liveConsumerIndexOfThis.push(y),s.liveConsumerNode.push(f)-1}function ce(s,f){if(we(s),1===s.liveConsumerNode.length&&Me(s))for(let I=0;I<s.producerNode.length;I++)ce(s.producerNode[I],s.producerIndexOfThis[I]);const y=s.liveConsumerNode.length-1;if(s.liveConsumerNode[f]=s.liveConsumerNode[y],s.liveConsumerIndexOfThis[f]=s.liveConsumerIndexOfThis[y],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,f<s.liveConsumerNode.length){const I=s.liveConsumerIndexOfThis[f],H=s.liveConsumerNode[f];pe(H),H.producerIndexOfThis[I]=f}}function se(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function pe(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}function we(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}function Me(s){return void 0!==s.producerNode}function k(s){const f=Object.create(p);f.computation=s;const y=()=>{if(j(f),C(f),f.value===m)throw f.error;return f.value};return y[_]=f,y}const l=Symbol("UNSET"),h=Symbol("COMPUTING"),m=Symbol("ERRORED"),p={...F,value:l,dirty:!0,error:null,equal:g,producerMustRecompute:s=>s.value===l||s.value===h,producerRecomputeValue(s){if(s.value===h)throw new Error("Detected cycle in computations.");const f=s.value;s.value=h;const y=q(s);let I;try{I=s.computation()}catch(H){I=m,s.error=H}finally{J(s,y)}f!==l&&f!==m&&I!==m&&s.equal(f,I)?s.value=f:(s.value=I,s.version++)}};let D=function x(){throw new Error};function B(){D()}let d=null;function Q(s,f){te()||B(),s.equal(s.value,f)||(s.value=f,function Le(s){s.version++,function Y(){X++}(),G(s),d?.()}(s))}const Ie={...F,equal:g,value:void 0};const ye=()=>{},ke={...F,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{null!==s.schedule&&s.schedule(s.ref)},hasRun:!1,cleanupFn:ye};var Ee=E(84412),fe=E(21413),he=E(18359),ae=E(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Zd="https://g.co/ng/security#xss";class mr extends Error{constructor(f,y){super(Us(f,y)),this.code=f}}function Us(s,f){return`NG0${Math.abs(s)}${f?": "+f:""}`}const Qi=Symbol("InputSignalNode#UNSET"),Nr={...Ie,transformFn:void 0,applyValueToInputSignal(s,f){Q(s,f)}};function gs(s){return{toString:s}.toString()}const zs="__parameters__";function pa(s,f,y){return gs(()=>{const I=function _d(s){return function(...y){if(s){const I=s(...y);for(const H in I)this[H]=I[H]}}}(f);function H(...oe){if(this instanceof H)return I.apply(this,oe),this;const be=new H(...oe);return Ce.annotation=be,Ce;function Ce(Ke,dt,_t){const jt=Ke.hasOwnProperty(zs)?Ke[zs]:Object.defineProperty(Ke,zs,{value:[]})[zs];for(;jt.length<=_t;)jt.push(null);return(jt[_t]=jt[_t]||[]).push(be),Ke}}return y&&(H.prototype=Object.create(y.prototype)),H.prototype.ngMetadataName=s,H.annotationCls=H,H})}const jo=globalThis;function so(s){for(let f in s)if(s[f]===so)return f;throw Error("Could not find renamed property on target object.")}function Qu(s,f){for(const y in f)f.hasOwnProperty(y)&&!s.hasOwnProperty(y)&&(s[y]=f[y])}function vs(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(vs).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const f=s.toString();if(null==f)return""+f;const y=f.indexOf("\n");return-1===y?f:f.substring(0,y)}function Bl(s,f){return null==s||""===s?null===f?"":f:null==f||""===f?s:s+" "+f}const Ed=so({__forward_ref__:so});function vt(s){return s.__forward_ref__=vt,s.toString=function(){return vs(this())},s}function bt(s){return st(s)?s():s}function st(s){return"function"==typeof s&&s.hasOwnProperty(Ed)&&s.__forward_ref__===vt}function On(s,f,y){s!=f&&function mt(s,f,y,I){throw new Error(`ASSERTION ERROR: ${s}`+(null==I?"":` [Expected=> ${y} ${I} ${f} <=Actual]`))}(y,s,f,"==")}function Yi(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function hu(s){return{providers:s.providers||[],imports:s.imports||[]}}function Jp(s){return Zh(s,vl)||Zh(s,Gw)}function Ww(s){return null!==Jp(s)}function Zh(s,f){return s.hasOwnProperty(f)?s[f]:null}function tf(s){return s&&(s.hasOwnProperty(Xc)||s.hasOwnProperty(Xw))?s[Xc]:null}const vl=so({\u0275prov:so}),Xc=so({\u0275inj:so}),Gw=so({ngInjectableDef:so}),Xw=so({ngInjectorDef:so});class Ti{constructor(f,y){this._desc=f,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof y?this.__NG_ELEMENT_ID__=y:void 0!==y&&(this.\u0275prov=Yi({token:this,providedIn:y.providedIn||"root",factory:y.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nh(s){return s&&!!s.\u0275providers}const rh=so({\u0275cmp:so}),T0=so({\u0275dir:so}),D0=so({\u0275pipe:so}),I0=so({\u0275mod:so}),Qd=so({\u0275fac:so}),ep=so({__NG_ELEMENT_ID__:so}),rv=so({__NG_ENV_ID__:so});function Di(s){return"string"==typeof s?s:null==s?"":String(s)}function tp(s,f){throw new mr(-201,!1)}var Zi=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(Zi||{});let k0;function np(){return k0}function ma(s){const f=k0;return k0=s,f}function ih(s,f,y){const I=Jp(s);return I&&"root"==I.providedIn?void 0===I.value?I.value=I.factory():I.value:y&Zi.Optional?null:void 0!==f?f:void tp()}const oh={},rp="__NG_DI_FLAG__",el="ngTempTokenPath",em=/\n/gm,sh="__source";let mu;function $e(s){const f=mu;return mu=s,f}function Tt(s,f=Zi.Default){if(void 0===mu)throw new mr(-203,!1);return null===mu?ih(s,void 0,f):mu.get(s,f&Zi.Optional?null:void 0,f)}function rt(s,f=Zi.Default){return(np()||Tt)(bt(s),f)}function zt(s,f=Zi.Default){return rt(s,kn(f))}function kn(s){return typeof s>"u"||"number"==typeof s?s:(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Yn(s){const f=[];for(let y=0;y<s.length;y++){const I=bt(s[y]);if(Array.isArray(I)){if(0===I.length)throw new mr(900,!1);let H,oe=Zi.Default;for(let be=0;be<I.length;be++){const Ce=I[be],Ke=No(Ce);"number"==typeof Ke?-1===Ke?H=Ce.token:oe|=Ke:H=Ce}f.push(rt(H,oe))}else f.push(rt(I))}return f}function Dr(s,f){return s[rp]=f,s.prototype[rp]=f,s}function No(s){return s[rp]}const Mo=Dr(pa("Optional"),8),Ss=Dr(pa("SkipSelf"),4);function Da(s,f){return s.hasOwnProperty(Qd)?s[Qd]:null}function Md(s,f){s.forEach(y=>Array.isArray(y)?Md(y,f):f(y))}function Sd(s,f,y){f>=s.length?s.push(y):s.splice(f,0,y)}function tl(s,f){return f>=s.length-1?s.pop():s.splice(f,1)[0]}function nc(s,f,y){let I=gu(s,f);return I>=0?s[1|I]=y:(I=~I,function BT(s,f,y,I){let H=s.length;if(H==f)s.push(y,I);else if(1===H)s.push(I,s[0]),s[0]=y;else{for(H--,s.push(s[H-1],s[H]);H>f;)s[H]=s[H-2],H--;s[f]=y,s[f+1]=I}}(s,I,f,y)),I}function O0(s,f){const y=gu(s,f);if(y>=0)return s[1|y]}function gu(s,f){return function Hs(s,f,y){let I=0,H=s.length>>y;for(;H!==I;){const oe=I+(H-I>>1),be=s[oe<<y];if(f===be)return oe<<y;be>f?H=oe:I=oe+1}return~(H<<y)}(s,f,1)}const Ad={},bo=[],Nl=new Ti(""),p2=new Ti("",-1),Ko=new Ti("");class ah{get(f,y=oh){if(y===oh){const I=new Error(`NullInjectorError: No provider for ${vs(f)}!`);throw I.name="NullInjectorError",I}return y}}var Ul=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Ul||{}),vu=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(vu||{}),Ll=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(Ll||{});function m2(s,f,y){let I=s.length;for(;;){const H=s.indexOf(f,y);if(-1===H)return H;if(0===H||s.charCodeAt(H-1)<=32){const oe=f.length;if(H+oe===I||s.charCodeAt(H+oe)<=32)return H}y=H+1}}function ch(s,f,y){let I=0;for(;I<y.length;){const H=y[I];if("number"==typeof H){if(0!==H)break;I++;const oe=y[I++],be=y[I++],Ce=y[I++];s.setAttribute(f,be,Ce,oe)}else{const oe=H,be=y[++I];y2(oe)?s.setProperty(f,oe,be):s.setAttribute(f,oe,be),I++}}return I}function R0(s){return 3===s||4===s||6===s}function y2(s){return 64===s.charCodeAt(0)}function cv(s,f){if(null!==f&&0!==f.length)if(null===s||0===s.length)s=f.slice();else{let y=-1;for(let I=0;I<f.length;I++){const H=f[I];"number"==typeof H?y=H:0===y||nf(s,y,H,null,-1===y||2===y?f[++I]:null)}}return s}function nf(s,f,y,I,H){let oe=0,be=s.length;if(-1===f)be=-1;else for(;oe<s.length;){const Ce=s[oe++];if("number"==typeof Ce){if(Ce===f){be=-1;break}if(Ce>f){be=oe-1;break}}}for(;oe<s.length;){const Ce=s[oe];if("number"==typeof Ce)break;if(Ce===y){if(null===I)return void(null!==H&&(s[oe+1]=H));if(I===s[oe+1])return void(s[oe+2]=H)}oe++,null!==I&&oe++,null!==H&&oe++}-1!==be&&(s.splice(be,0,f),oe=be+1),s.splice(oe++,0,y),null!==I&&s.splice(oe++,0,I),null!==H&&s.splice(oe++,0,H)}const dv="ng-template";function B0(s,f,y,I){let H=0;if(I){for(;H<f.length&&"string"==typeof f[H];H+=2)if("class"===f[H]&&-1!==m2(f[H+1].toLowerCase(),y,0))return!0}else if(dh(s))return!1;if(H=f.indexOf(1,H),H>-1){let oe;for(;++H<f.length&&"string"==typeof(oe=f[H]);)if(oe.toLowerCase()===y)return!0}return!1}function dh(s){return 4===s.type&&s.value!==dv}function N0(s,f,y){return f===(4!==s.type||y?s.value:dv)}function Zw(s,f,y){let I=4;const H=s.attrs,oe=null!==H?function UT(s){for(let f=0;f<s.length;f++)if(R0(s[f]))return f;return s.length}(H):0;let be=!1;for(let Ce=0;Ce<f.length;Ce++){const Ke=f[Ce];if("number"!=typeof Ke){if(!be)if(4&I){if(I=2|1&I,""!==Ke&&!N0(s,Ke,y)||""===Ke&&1===f.length){if(wl(I))return!1;be=!0}}else if(8&I){if(null===H||!B0(s,H,Ke,y)){if(wl(I))return!1;be=!0}}else{const dt=f[++Ce],_t=g2(Ke,H,dh(s),y);if(-1===_t){if(wl(I))return!1;be=!0;continue}if(""!==dt){let jt;if(jt=_t>oe?"":H[_t+1].toLowerCase(),2&I&&dt!==jt){if(wl(I))return!1;be=!0}}}}else{if(!be&&!wl(I)&&!wl(Ke))return!1;if(be&&wl(Ke))continue;be=!1,I=Ke|1&I}}return wl(I)||be}function wl(s){return!(1&s)}function g2(s,f,y,I){if(null===f)return-1;let H=0;if(I||!y){let oe=!1;for(;H<f.length;){const be=f[H];if(be===s)return H;if(3===be||6===be)oe=!0;else{if(1===be||2===be){let Ce=f[++H];for(;"string"==typeof Ce;)Ce=f[++H];continue}if(4===be)break;if(0===be){H+=4;continue}}H+=oe?1:2}return-1}return function lh(s,f){let y=s.indexOf(4);if(y>-1)for(y++;y<s.length;){const I=s[y];if("number"==typeof I)return-1;if(I===f)return y;y++}return-1}(f,s)}function v2(s,f,y=!1){for(let I=0;I<f.length;I++)if(Zw(s,f[I],y))return!0;return!1}function So(s,f){e:for(let y=0;y<f.length;y++){const I=f[y];if(s.length===I.length){for(let H=0;H<s.length;H++)if(s[H]!==I[H])continue e;return!0}}return!1}function cs(s,f){return s?":not("+f.trim()+")":f}function LT(s){let f=s[0],y=1,I=2,H="",oe=!1;for(;y<s.length;){let be=s[y];if("string"==typeof be)if(2&I){const Ce=s[++y];H+="["+be+(Ce.length>0?'="'+Ce+'"':"")+"]"}else 8&I?H+="."+be:4&I&&(H+=" "+be);else""!==H&&!wl(be)&&(f+=cs(oe,H),H=""),I=be,oe=oe||!wl(I);y++}return""!==H&&(f+=cs(oe,H)),f}function rf(s){return gs(()=>{const f=Zn(s),y={...f,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Ul.OnPush,directiveDefs:null,pipeDefs:null,dependencies:f.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||vu.Emulated,styles:s.styles||bo,_:null,schemas:s.schemas||null,tView:null,id:""};ei(y);const I=s.dependencies;return y.directiveDefs=Wn(I,!1),y.pipeDefs=Wn(I,!0),y.id=function qo(s){let f=0;const y=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const H of y)f=Math.imul(31,f)+H.charCodeAt(0)|0;return f+=2147483648,"c"+f}(y),y})}function xk(s){return gt(s)||Pt(s)}function Mk(s){return null!==s}function Be(s){return gs(()=>({type:s.type,bootstrap:s.bootstrap||bo,declarations:s.declarations||bo,imports:s.imports||bo,exports:s.exports||bo,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ze(s,f){if(null==s)return Ad;const y={};for(const I in s)if(s.hasOwnProperty(I)){const H=s[I];let oe,be,Ce=Ll.None;Array.isArray(H)?(Ce=H[0],oe=H[1],be=H[2]??oe):(oe=H,be=H),f?(y[oe]=Ce!==Ll.None?[I,Ce]:I,f[oe]=be):y[oe]=I}return y}function Fe(s){return gs(()=>{const f=Zn(s);return ei(f),f})}function We(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function gt(s){return s[rh]||null}function Pt(s){return s[T0]||null}function Xt(s){return s[D0]||null}function In(s){const f=gt(s)||Pt(s)||Xt(s);return null!==f&&f.standalone}function vn(s,f){const y=s[I0]||null;if(!y&&!0===f)throw new Error(`Type ${vs(s)} does not have '\u0275mod' property.`);return y}function Zn(s){const f={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:f,inputTransforms:null,inputConfig:s.inputs||Ad,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||bo,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ze(s.inputs,f),outputs:Ze(s.outputs),debugInfo:null}}function ei(s){s.features?.forEach(f=>f(s))}function Wn(s,f){if(!s)return null;const y=f?Xt:xk;return()=>("function"==typeof s?s():s).map(I=>y(I)).filter(Mk)}function ga(s){return{\u0275providers:s}}function sf(...s){return{\u0275providers:Yc(0,s),\u0275fromNgModule:!0}}function Yc(s,...f){const y=[],I=new Set;let H;const oe=be=>{y.push(be)};return Md(f,be=>{const Ce=be;U0(Ce,oe,[],I)&&(H||=[],H.push(Ce))}),void 0!==H&&As(H,oe),y}function As(s,f){for(let y=0;y<s.length;y++){const{ngModule:I,providers:H}=s[y];L0(H,oe=>{f(oe,I)})}}function U0(s,f,y,I){if(!(s=bt(s)))return!1;let H=null,oe=tf(s);const be=!oe&&gt(s);if(oe||be){if(be&&!be.standalone)return!1;H=s}else{const Ke=s.ngModule;if(oe=tf(Ke),!oe)return!1;H=Ke}const Ce=I.has(H);if(be){if(Ce)return!1;if(I.add(H),be.dependencies){const Ke="function"==typeof be.dependencies?be.dependencies():be.dependencies;for(const dt of Ke)U0(dt,f,y,I)}}else{if(!oe)return!1;{if(null!=oe.imports&&!Ce){let dt;I.add(H);try{Md(oe.imports,_t=>{U0(_t,f,y,I)&&(dt||=[],dt.push(_t))})}finally{}void 0!==dt&&As(dt,f)}if(!Ce){const dt=Da(H)||(()=>new H);f({provide:H,useFactory:dt,deps:bo},H),f({provide:Ko,useValue:H,multi:!0},H),f({provide:Nl,useValue:()=>rt(H),multi:!0},H)}const Ke=oe.providers;if(null!=Ke&&!Ce){const dt=s;L0(Ke,_t=>{f(_t,dt)})}}}return H!==s&&void 0!==s.providers}function L0(s,f){for(let y of s)nh(y)&&(y=y.\u0275providers),Array.isArray(y)?L0(y,f):f(y)}const FT=so({provide:String,useValue:so});function jT(s){return null!==s&&"object"==typeof s&&FT in s}function wo(s){return"function"==typeof s}const Jw=new Ti(""),Ba={},Tk={};let KT;function af(){return void 0===KT&&(KT=new ah),KT}class Fl{}class F0 extends Fl{get destroyed(){return this._destroyed}constructor(f,y,I,H){super(),this.parent=y,this.source=I,this.scopes=H,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bs(f,be=>this.processProvider(be)),this.records.set(p2,rm(void 0,this)),H.has("environment")&&this.records.set(Fl,rm(void 0,this));const oe=this.records.get(Jw);null!=oe&&"string"==typeof oe.value&&this.scopes.add(oe.value),this.injectorDefTypes=new Set(this.get(Ko,bo,Zi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const f=R(null);try{for(const I of this._ngOnDestroyHooks)I.ngOnDestroy();const y=this._onDestroyHooks;this._onDestroyHooks=[];for(const I of y)I()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(f)}}onDestroy(f){return this.assertNotDestroyed(),this._onDestroyHooks.push(f),()=>this.removeOnDestroy(f)}runInContext(f){this.assertNotDestroyed();const y=$e(this),I=ma(void 0);try{return f()}finally{$e(y),ma(I)}}get(f,y=oh,I=Zi.Default){if(this.assertNotDestroyed(),f.hasOwnProperty(rv))return f[rv](this);I=kn(I);const oe=$e(this),be=ma(void 0);try{if(!(I&Zi.SkipSelf)){let Ke=this.records.get(f);if(void 0===Ke){const dt=function VT(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ti}(f)&&Jp(f);Ke=dt&&this.injectableDefInScope(dt)?rm(b2(f),Ba):null,this.records.set(f,Ke)}if(null!=Ke)return this.hydrate(f,Ke)}return(I&Zi.Self?af():this.parent).get(f,y=I&Zi.Optional&&y===oh?null:y)}catch(Ce){if("NullInjectorError"===Ce.name){if((Ce[el]=Ce[el]||[]).unshift(vs(f)),oe)throw Ce;return function Ri(s,f,y,I){const H=s[el];throw f[sh]&&H.unshift(f[sh]),s.message=function Co(s,f,y,I=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let H=vs(f);if(Array.isArray(f))H=f.map(vs).join(" -> ");else if("object"==typeof f){let oe=[];for(let be in f)if(f.hasOwnProperty(be)){let Ce=f[be];oe.push(be+":"+("string"==typeof Ce?JSON.stringify(Ce):vs(Ce)))}H=`{${oe.join(", ")}}`}return`${y}${I?"("+I+")":""}[${H}]: ${s.replace(em,"\n  ")}`}("\n"+s.message,H,y,I),s.ngTokenPath=H,s[el]=null,s}(Ce,f,"R3InjectorError",this.source)}throw Ce}finally{ma(be),$e(oe)}}resolveInjectorInitializers(){const f=R(null),y=$e(this),I=ma(void 0);try{const oe=this.get(Nl,bo,Zi.Self);for(const be of oe)be()}finally{$e(y),ma(I),R(f)}}toString(){const f=[],y=this.records;for(const I of y.keys())f.push(vs(I));return`R3Injector[${f.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mr(205,!1)}processProvider(f){let y=wo(f=bt(f))?f:bt(f&&f.provide);const I=function Jr(s){return jT(s)?rm(void 0,s.useValue):rm($T(s),Ba)}(f);if(!wo(f)&&!0===f.multi){let H=this.records.get(y);H||(H=rm(void 0,Ba,!0),H.factory=()=>Yn(H.multi),this.records.set(y,H)),y=f,H.multi.push(f)}this.records.set(y,I)}hydrate(f,y){const I=R(null);try{return y.value===Ba&&(y.value=Tk,y.value=y.factory()),"object"==typeof y.value&&y.value&&function Dk(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(y.value)&&this._ngOnDestroyHooks.add(y.value),y.value}finally{R(I)}}injectableDefInScope(f){if(!f.providedIn)return!1;const y=bt(f.providedIn);return"string"==typeof y?"any"===y||this.scopes.has(y):this.injectorDefTypes.has(y)}removeOnDestroy(f){const y=this._onDestroyHooks.indexOf(f);-1!==y&&this._onDestroyHooks.splice(y,1)}}function b2(s){const f=Jp(s),y=null!==f?f.factory:Da(s);if(null!==y)return y;if(s instanceof Ti)throw new mr(204,!1);if(s instanceof Function)return function qw(s){if(s.length>0)throw new mr(204,!1);const y=function qg(s){return s&&(s[vl]||s[Gw])||null}(s);return null!==y?()=>y.factory(s):()=>new s}(s);throw new mr(204,!1)}function $T(s,f,y){let I;if(wo(s)){const H=bt(s);return Da(H)||b2(H)}if(jT(s))I=()=>bt(s.useValue);else if(function Lr(s){return!(!s||!s.useFactory)}(s))I=()=>s.useFactory(...Yn(s.deps||[]));else if(function Sk(s){return!(!s||!s.useExisting)}(s))I=()=>rt(bt(s.useExisting));else{const H=bt(s&&(s.useClass||s.provide));if(!function va(s){return!!s.deps}(s))return Da(H)||b2(H);I=()=>new H(...Yn(s.deps))}return I}function rm(s,f,y=!1){return{factory:s,value:f,multi:y?[]:void 0}}function bs(s,f){for(const y of s)Array.isArray(y)?bs(y,f):y&&nh(y)?bs(y.\u0275providers,f):f(y)}function zT(s,f){s instanceof F0&&s.assertNotDestroyed();const I=$e(s),H=ma(void 0);try{return f()}finally{$e(I),ma(H)}}function w2(){return void 0!==np()||null!=function av(){return mu}()}function Na(s){if(!w2())throw new mr(-203,!1)}const Ao=0,fr=1,ai=2,ba=3,cf=4,Zc=5,nl=6,fv=7,Ts=8,Fa=9,uh=10,ci=11,Ia=12,WT=13,hv=14,$o=15,ja=16,K0=17,ip=18,jl=19,GT=20,im=21,op=22,Kl=23,qr=25,om=1,fh=7,wu=9,ta=10;var e_=function(s){return s[s.None=0]="None",s[s.HasTransplantedViews=2]="HasTransplantedViews",s}(e_||{});function ic(s){return Array.isArray(s)&&"object"==typeof s[om]}function Ac(s){return Array.isArray(s)&&!0===s[om]}function yv(s){return!!(4&s.flags)}function Vi(s){return s.componentOffset>-1}function Ws(s){return!(1&~s.flags)}function _u(s){return!!s.template}function gv(s){return!!(512&s[ai])}class Rk{constructor(f,y,I){this.previousValue=f,this.currentValue=y,this.firstChange=I}isFirstChange(){return this.firstChange}}function YT(s,f,y,I){null!==f?f.applyValueToInputSignal(f,I):s[y]=I}function Qn(){return ti}function ti(s){return s.type.prototype.ngOnChanges&&(s.setInput=Bk),$0}function $0(){const s=vv(this),f=s?.current;if(f){const y=s.previous;if(y===Ad)s.previous=f;else for(let I in f)y[I]=f[I];s.current=null,this.ngOnChanges(f)}}function Bk(s,f,y,I,H){const oe=this.declaredInputs[I],be=vv(s)||function JT(s,f){return s[ZT]=f}(s,{previous:Ad,current:null}),Ce=be.current||(be.current={}),Ke=be.previous,dt=Ke[oe];Ce[oe]=new Rk(dt&&dt.currentValue,y,Ke===Ad),YT(s,f,H,y)}Qn.ngInherit=!0;const ZT="__ngSimpleChanges__";function vv(s){return s[ZT]||null}const oc=function(s,f,y){},n_="svg";function To(s){for(;Array.isArray(s);)s=s[Ao];return s}function r_(s,f){return To(f[s])}function ol(s,f){return To(f[s.index])}function V0(s,f){return s.data[f]}function sp(s,f){return s[f]}function sl(s,f){const y=f[s];return ic(y)?y:y[Ao]}function S2(s){return!(128&~s[ai])}function Bi(s,f){return null==f?null:s[f]}function A2(s){s[K0]=0}function z0(s){1024&s[ai]||(s[ai]|=1024,S2(s)&&uf(s))}function wa(s){return!!(9216&s[ai]||s[Kl]?.dirty)}function hh(s){s[uh].changeDetectionScheduler?.notify(7),64&s[ai]&&(s[ai]|=1024),wa(s)&&uf(s)}function uf(s){s[uh].changeDetectionScheduler?.notify(0);let f=mh(s);for(;null!==f&&!(8192&f[ai])&&(f[ai]|=8192,S2(f));)f=mh(f)}function ff(s,f){if(!(256&~s[ai]))throw new mr(911,!1);null===s[im]&&(s[im]=[]),s[im].push(f)}function mh(s){const f=s[ba];return Ac(f)?f[ba]:f}const Pi={lFrame:lD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ap=!1;function o_(){return Pi.bindingsEnabled}function cp(){return null!==Pi.skipHydrationRootTNode}function Ln(){return Pi.lFrame.lView}function Ji(){return Pi.lFrame.tView}function tD(s){return Pi.lFrame.contextLView=s,s[Ts]}function wv(s){return Pi.lFrame.contextLView=null,s}function ko(){let s=nD();for(;null!==s&&64===s.type;)s=s.parent;return s}function nD(){return Pi.lFrame.currentTNode}function yh(){const s=Pi.lFrame,f=s.currentTNode;return s.isParent?f:f.parent}function xu(s,f){const y=Pi.lFrame;y.currentTNode=s,y.isParent=f}function I2(){return Pi.lFrame.isParent}function C2(){Pi.lFrame.isParent=!1}function iD(){return ap}function oD(s){ap=s}function Dd(){const s=Pi.lFrame;let f=s.bindingRootIndex;return-1===f&&(f=s.bindingRootIndex=s.tView.bindingStartIndex),f}function Mu(){return Pi.lFrame.bindingIndex++}function Su(s){const f=Pi.lFrame,y=f.bindingIndex;return f.bindingIndex=f.bindingIndex+s,y}function aD(s){Pi.lFrame.inI18n=s}function Hk(s,f){const y=Pi.lFrame;y.bindingIndex=y.bindingRootIndex=s,k2(f)}function k2(s){Pi.lFrame.currentDirectiveIndex=s}function P2(s){const f=Pi.lFrame.currentDirectiveIndex;return-1===f?null:s[f]}function O2(){return Pi.lFrame.currentQueryIndex}function W0(s){Pi.lFrame.currentQueryIndex=s}function Gk(s){const f=s[fr];return 2===f.type?f.declTNode:1===f.type?s[Zc]:null}function cD(s,f,y){if(y&Zi.SkipSelf){let H=f,oe=s;for(;!(H=H.parent,null!==H||y&Zi.Host||(H=Gk(oe),null===H||(oe=oe[hv],10&H.type))););if(null===H)return!1;f=H,s=oe}const I=Pi.lFrame=dD();return I.currentTNode=f,I.lView=s,!0}function R2(s){const f=dD(),y=s[fr];Pi.lFrame=f,f.currentTNode=y.firstChild,f.lView=s,f.tView=y,f.contextLView=s,f.bindingIndex=y.bindingStartIndex,f.inI18n=!1}function dD(){const s=Pi.lFrame,f=null===s?null:s.child;return null===f?lD(s):f}function lD(s){const f={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=f),f}function s_(){const s=Pi.lFrame;return Pi.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const uD=s_;function B2(){const s=s_();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tc(){return Pi.lFrame.selectedIndex}function dm(s){Pi.lFrame.selectedIndex=s}function ws(){const s=Pi.lFrame;return V0(s.tView,s.selectedIndex)}function a_(){Pi.lFrame.currentNamespace=n_}function fD(){!function Zk(){Pi.lFrame.currentNamespace=null}()}let N2=!0;function qc(){return N2}function Ca(s){N2=s}function G0(s,f){for(let y=f.directiveStart,I=f.directiveEnd;y<I;y++){const oe=s.data[y].type.prototype,{ngAfterContentInit:be,ngAfterContentChecked:Ce,ngAfterViewInit:Ke,ngAfterViewChecked:dt,ngOnDestroy:_t}=oe;be&&(s.contentHooks??=[]).push(-y,be),Ce&&((s.contentHooks??=[]).push(y,Ce),(s.contentCheckHooks??=[]).push(y,Ce)),Ke&&(s.viewHooks??=[]).push(-y,Ke),dt&&((s.viewHooks??=[]).push(y,dt),(s.viewCheckHooks??=[]).push(y,dt)),null!=_t&&(s.destroyHooks??=[]).push(y,_t)}}function _v(s,f,y){L2(s,f,3,y)}function X0(s,f,y,I){(3&s[ai])===y&&L2(s,f,y,I)}function U2(s,f){let y=s[ai];(3&y)===f&&(y&=16383,y+=1,s[ai]=y)}function L2(s,f,y,I){const oe=I??-1,be=f.length-1;let Ce=0;for(let Ke=void 0!==I?65535&s[K0]:0;Ke<be;Ke++)if("number"==typeof f[Ke+1]){if(Ce=f[Ke],null!=I&&Ce>=I)break}else f[Ke]<0&&(s[K0]+=65536),(Ce<oe||-1==oe)&&(d_(s,y,f,Ke),s[K0]=(4294901760&s[K0])+Ke+2),Ke++}function Do(s,f){oc(4,s,f);const y=R(null);try{f.call(s)}finally{R(y),oc(5,s,f)}}function d_(s,f,y,I){const H=y[I]<0,oe=y[I+1],Ce=s[H?-y[I]:y[I]];H?s[ai]>>14<s[K0]>>16&&(3&s[ai])===f&&(s[ai]+=16384,Do(Ce,oe)):Do(Ce,oe)}const xr=-1;class al{constructor(f,y,I){this.factory=f,this.resolving=!1,this.canSeeViewProviders=y,this.injectImpl=I}}const hf={};class pf{constructor(f,y){this.injector=f,this.parentInjector=y}get(f,y,I){I=kn(I);const H=this.injector.get(f,hf,I);return H!==hf||y===hf?H:this.parentInjector.get(f,y,I)}}function $2(s){return s!==xr}function Ev(s){return 32767&s}function xv(s,f){let y=function yD(s){return s>>16}(s),I=f;for(;y>0;)I=I[hv],y--;return I}let V2=!0;function l_(s){const f=V2;return V2=s,f}const Mv=255,gD=5;let Qk=0;const cl={};function f_(s,f){const y=vD(s,f);if(-1!==y)return y;const I=f[fr];I.firstCreatePass&&(s.injectorIndex=f.length,z2(I.data,s),z2(f,null),z2(I.blueprint,null));const H=h_(s,f),oe=s.injectorIndex;if($2(H)){const be=Ev(H),Ce=xv(H,f),Ke=Ce[fr].data;for(let dt=0;dt<8;dt++)f[oe+dt]=Ce[be+dt]|Ke[be+dt]}return f[oe+8]=H,oe}function z2(s,f){s.push(0,0,0,0,0,0,0,0,f)}function vD(s,f){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===f[s.injectorIndex+8]?-1:s.injectorIndex}function h_(s,f){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let y=0,I=null,H=f;for(;null!==H;){if(I=o8(H),null===I)return xr;if(y++,H=H[hv],-1!==I.injectorIndex)return I.injectorIndex|y<<16}return xr}function H2(s,f,y){!function e8(s,f,y){let I;"string"==typeof y?I=y.charCodeAt(0)||0:y.hasOwnProperty(ep)&&(I=y[ep]),null==I&&(I=y[ep]=Qk++);const H=I&Mv;f.data[s+(H>>gD)]|=1<<H}(s,f,y)}function t8(s,f,y){if(y&Zi.Optional||void 0!==s)return s;tp()}function bD(s,f,y,I){if(y&Zi.Optional&&void 0===I&&(I=null),!(y&(Zi.Self|Zi.Host))){const H=s[Fa],oe=ma(void 0);try{return H?H.get(f,I,y&Zi.Optional):ih(f,I,y&Zi.Optional)}finally{ma(oe)}}return t8(I,0,y)}function p_(s,f,y,I=Zi.Default,H){if(null!==s){if(2048&f[ai]&&!(I&Zi.Self)){const be=function m_(s,f,y,I,H){let oe=s,be=f;for(;null!==oe&&null!==be&&2048&be[ai]&&!(512&be[ai]);){const Ce=n8(oe,be,y,I|Zi.Self,cl);if(Ce!==cl)return Ce;let Ke=oe.parent;if(!Ke){const dt=be[GT];if(dt){const _t=dt.get(y,cl,I);if(_t!==cl)return _t}Ke=o8(be),be=be[hv]}oe=Ke}return H}(s,f,y,I,cl);if(be!==cl)return be}const oe=n8(s,f,y,I,cl);if(oe!==cl)return oe}return bD(f,y,I,H)}function n8(s,f,y,I,H){const oe=function r8(s){if("string"==typeof s)return s.charCodeAt(0)||0;const f=s.hasOwnProperty(ep)?s[ep]:void 0;return"number"==typeof f?f>=0?f&Mv:i8:f}(y);if("function"==typeof oe){if(!cD(f,s,I))return I&Zi.Host?t8(H,0,I):bD(f,y,I,H);try{let be;if(be=oe(I),null!=be||I&Zi.Optional)return be;tp()}finally{uD()}}else if("number"==typeof oe){let be=null,Ce=vD(s,f),Ke=xr,dt=I&Zi.Host?f[$o][Zc]:null;for((-1===Ce||I&Zi.SkipSelf)&&(Ke=-1===Ce?h_(s,f):f[Ce+8],Ke!==xr&&G2(I,!1)?(be=f[fr],Ce=Ev(Ke),f=xv(Ke,f)):Ce=-1);-1!==Ce;){const _t=f[fr];if(wD(oe,Ce,_t.data)){const jt=IN(Ce,f,y,be,I,dt);if(jt!==cl)return jt}Ke=f[Ce+8],Ke!==xr&&G2(I,f[fr].data[Ce+8]===dt)&&wD(oe,Ce,f)?(be=_t,Ce=Ev(Ke),f=xv(Ke,f)):Ce=-1}}return H}function IN(s,f,y,I,H,oe){const be=f[fr],Ce=be.data[s+8],_t=W2(Ce,be,y,null==I?Vi(Ce)&&V2:I!=be&&!!(3&Ce.type),H&Zi.Host&&oe===Ce);return null!==_t?um(f,be,_t,Ce):cl}function W2(s,f,y,I,H){const oe=s.providerIndexes,be=f.data,Ce=1048575&oe,Ke=s.directiveStart,_t=oe>>20,on=H?Ce+_t:s.directiveEnd;for(let an=I?Ce:Ce+_t;an<on;an++){const En=be[an];if(an<Ke&&y===En||an>=Ke&&En.type===y)return an}if(H){const an=be[Ke];if(an&&_u(an)&&an.type===y)return Ke}return null}function um(s,f,y,I){let H=s[y];const oe=f.data;if(function Jk(s){return s instanceof al}(H)){const be=H;be.resolving&&function C0(s,f){throw f&&f.join(" > "),new mr(-200,s)}(function uo(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Di(s)}(oe[y]));const Ce=l_(be.canSeeViewProviders);be.resolving=!0;const dt=be.injectImpl?ma(be.injectImpl):null;cD(s,I,Zi.Default);try{H=s[y]=be.factory(void 0,oe,s,I),f.firstCreatePass&&y>=I.directiveStart&&function hD(s,f,y){const{ngOnChanges:I,ngOnInit:H,ngDoCheck:oe}=f.type.prototype;if(I){const be=ti(f);(y.preOrderHooks??=[]).push(s,be),(y.preOrderCheckHooks??=[]).push(s,be)}H&&(y.preOrderHooks??=[]).push(0-s,H),oe&&((y.preOrderHooks??=[]).push(s,oe),(y.preOrderCheckHooks??=[]).push(s,oe))}(y,oe[y],f)}finally{null!==dt&&ma(dt),l_(Ce),be.resolving=!1,uD()}}return H}function wD(s,f,y){return!!(y[f+(s>>gD)]&1<<s)}function G2(s,f){return!(s&Zi.Self||s&Zi.Host&&f)}class ka{constructor(f,y){this._tNode=f,this._lView=y}get(f,y,I){return p_(this._tNode,this._lView,f,kn(I),y)}}function i8(){return new ka(ko(),Ln())}function _D(s){return gs(()=>{const f=s.prototype.constructor,y=f[Qd]||Au(f),I=Object.prototype;let H=Object.getPrototypeOf(s.prototype).constructor;for(;H&&H!==I;){const oe=H[Qd]||Au(H);if(oe&&oe!==y)return oe;H=Object.getPrototypeOf(H)}return oe=>new oe})}function Au(s){return st(s)?()=>{const f=Au(bt(s));return f&&f()}:Da(s)}function o8(s){const f=s[fr],y=f.type;return 2===y?f.declTNode:1===y?s[Zc]:null}function X2(s){return function DN(s,f){if("class"===f)return s.classes;if("style"===f)return s.styles;const y=s.attrs;if(y){const I=y.length;let H=0;for(;H<I;){const oe=y[H];if(R0(oe))break;if(0===oe)H+=2;else if("number"==typeof oe)for(H++;H<I&&"string"==typeof y[H];)H++;else{if(oe===f)return y[H+1];H+=2}}}return null}(ko(),s)}function AD(s,f=null,y=null,I){const H=TD(s,f,y,I);return H.resolveInjectorInitializers(),H}function TD(s,f=null,y=null,I,H=new Set){const oe=[y||bo,sf(s)];return I=I||("object"==typeof s?void 0:vs(s)),new F0(oe,f||af(),I||null,H)}class Pa{static#e=this.THROW_IF_NOT_FOUND=oh;static#t=this.NULL=new ah;static create(f,y){if(Array.isArray(f))return AD({name:""},y,f,"");{const I=f.name??"";return AD({name:I},f.parent,f.providers,I)}}static#n=this.\u0275prov=Yi({token:Pa,providedIn:"any",factory:()=>rt(p2)});static#f=this.__NG_ELEMENT_ID__=-1}new Ti("").__NG_ELEMENT_ID__=s=>{const f=ko();if(null===f)throw new mr(204,!1);if(2&f.type)return f.value;if(s&Zi.Optional)return null;throw new mr(204,!1)};function Z2(s){return s.ngOriginalError}class Tu{constructor(){this._console=console}handleError(f){const y=this._findOriginalError(f);this._console.error("ERROR",f),y&&this._console.error("ORIGINAL ERROR",y)}_findOriginalError(f){let y=f&&Z2(f);for(;y&&Z2(y);)y=Z2(y);return y||null}}const CD=new Ti("",{providedIn:"root",factory:()=>zt(Tu).handleError.bind(void 0)});let Sv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=h8;static#t=this.__NG_ENV_ID__=y=>y}return s})();class f8 extends Sv{constructor(f){super(),this._lView=f}onDestroy(f){return ff(this._lView,f),()=>function ph(s,f){if(null===s[im])return;const y=s[im].indexOf(f);-1!==y&&s[im].splice(y,1)}(this._lView,f)}}function h8(){return new f8(Ln())}class kD{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=zt(Tu,{optional:!0}),this.destroyRef=zt(Sv),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(f){if(this.destroyed)throw new mr(953,!1);return(this.listeners??=[]).push(f),{unsubscribe:()=>{const y=this.listeners?.indexOf(f);void 0!==y&&-1!==y&&this.listeners?.splice(y,1)}}}emit(f){if(this.destroyed)throw new mr(953,!1);if(null===this.listeners)return;const y=R(null);try{for(const I of this.listeners)try{I(f)}catch(H){this.errorHandler?.handleError(H)}}finally{R(y)}}}function p8(){return Z0(ko(),Ln())}function Z0(s,f){return new Av(ol(s,f))}let Av=(()=>{class s{constructor(y){this.nativeElement=y}static#e=this.__NG_ELEMENT_ID__=p8}return s})();function y_(s){return s instanceof Av?s.nativeElement:s}let vh=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const y=this.taskId++;return this.pendingTasks.add(y),y}remove(y){this.pendingTasks.delete(y),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Yi({token:s,providedIn:"root",factory:()=>new s})}return s})();const Du=class NN extends fe.B{constructor(f=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=f,w2()&&(this.destroyRef=zt(Sv,{optional:!0})??void 0,this.pendingTasks=zt(vh,{optional:!0})??void 0)}emit(f){const y=R(null);try{super.next(f)}finally{R(y)}}subscribe(f,y,I){let H=f,oe=y||(()=>null),be=I;if(f&&"object"==typeof f){const Ke=f;H=Ke.next?.bind(Ke),oe=Ke.error?.bind(Ke),be=Ke.complete?.bind(Ke)}this.__isAsync&&(oe=this.wrapInTimeout(oe),H&&(H=this.wrapInTimeout(H)),be&&(be=this.wrapInTimeout(be)));const Ce=super.subscribe({next:H,error:oe,complete:be});return f instanceof he.yU&&f.add(Ce),Ce}wrapInTimeout(f){return y=>{const I=this.pendingTasks?.add();setTimeout(()=>{f(y),void 0!==I&&this.pendingTasks?.remove(I)})}}};function ex(){return this._results[Symbol.iterator]()}class ra{static#e=Symbol.iterator;get changes(){return this._changes??=new Du}constructor(f=!1){this._emitDistinctChangesOnly=f,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const y=ra.prototype;y[Symbol.iterator]||(y[Symbol.iterator]=ex)}get(f){return this._results[f]}map(f){return this._results.map(f)}filter(f){return this._results.filter(f)}find(f){return this._results.find(f)}reduce(f,y){return this._results.reduce(f,y)}forEach(f){this._results.forEach(f)}some(f){return this._results.some(f)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(f,y){this.dirty=!1;const I=function Ls(s){return s.flat(Number.POSITIVE_INFINITY)}(f);(this._changesDetected=!function ya(s,f,y){if(s.length!==f.length)return!1;for(let I=0;I<s.length;I++){let H=s[I],oe=f[I];if(y&&(H=y(H),oe=y(oe)),oe!==H)return!1}return!0}(this._results,I,y))&&(this._results=I,this.length=I.length,this.last=I[this.length-1],this.first=I[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(f){this._onDirty=f}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function g_(s){return!(128&~s.flags)}const tx=new Map;let RD=0;const v_="__ngContext__";function Gs(s,f){ic(f)?(s[v_]=f[jl],function g8(s){tx.set(s[jl],s)}(f)):s[v_]=f}function UD(s){return ox(s[Ia])}function ix(s){return ox(s[cf])}function ox(s){for(;null!==s&&!Ac(s);)s=s[cf];return s}let KD;function FN(s){KD=s}function hm(){if(void 0!==KD)return KD;if(typeof document<"u")return document;throw new mr(210,!1)}const M_=new Ti("",{providedIn:"root",factory:()=>A8}),A8="ng",$D=new Ti(""),ax=new Ti("",{providedIn:"platform",factory:()=>"unknown"}),T8=new Ti(""),D8=new Ti("",{providedIn:"root",factory:()=>hm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let GD=()=>null;function ux(s,f,y=!1){return GD(s,f,y)}const O_=new Ti("",{providedIn:"root",factory:()=>!1});let Ds,Fv;function ny(s){return function gx(){if(void 0===Ds&&(Ds=null,jo.trustedTypes))try{Ds=jo.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ds}()?.createHTML(s)||s}function vx(){if(void 0===Fv&&(Fv=null,jo.trustedTypes))try{Fv=jo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Fv}function qD(s){return vx()?.createHTML(s)||s}function jv(s){return vx()?.createScriptURL(s)||s}class up{constructor(f){this.changingThisBreaksApplicationSecurity=f}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zd})`}}class j8 extends up{getTypeName(){return"HTML"}}class K8 extends up{getTypeName(){return"Style"}}class QD extends up{getTypeName(){return"Script"}}class eI extends up{getTypeName(){return"URL"}}class $8 extends up{getTypeName(){return"ResourceURL"}}function _h(s){return s instanceof up?s.changingThisBreaksApplicationSecurity:s}function ry(s,f){const y=function V8(s){return s instanceof up&&s.getTypeName()||null}(s);if(null!=y&&y!==f){if("ResourceURL"===y&&"URL"===f)return!0;throw new Error(`Required a safe ${f}, got a ${y} (see ${Zd})`)}return y===f}function z8(s){return new j8(s)}function Kv(s){return new K8(s)}function iy(s){return new QD(s)}function H8(s){return new eI(s)}function W8(s){return new $8(s)}function tI(s){const f=new bx(s);return function nI(){try{return!!(new window.DOMParser).parseFromString(ny(""),"text/html")}catch{return!1}}()?new G8(f):f}class G8{constructor(f){this.inertDocumentHelper=f}getInertBodyElement(f){f="<body><remove></remove>"+f;try{const y=(new window.DOMParser).parseFromString(ny(f),"text/html").body;return null===y?this.inertDocumentHelper.getInertBodyElement(f):(y.removeChild(y.firstChild),y)}catch{return null}}}class bx{constructor(f){this.defaultDoc=f,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(f){const y=this.inertDocument.createElement("template");return y.innerHTML=ny(f),y}}const rI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $v(s){return(s=String(s)).match(rI)?s:"unsafe:"+s}function Qc(s){const f={};for(const y of s.split(","))f[y]=!0;return f}function oy(...s){const f={};for(const y of s)for(const I in y)y.hasOwnProperty(I)&&(f[I]=!0);return f}const iI=Qc("area,br,col,hr,img,wbr"),oI=Qc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sI=Qc("rp,rt"),mm=oy(iI,oy(oI,Qc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oy(sI,Qc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oy(sI,oI)),U_=Qc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cI=oy(U_,Qc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wx=Qc("script,style,template");class _x{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(f){let y=f.firstChild,I=!0,H=[];for(;y;)if(y.nodeType===Node.ELEMENT_NODE?I=this.startElement(y):y.nodeType===Node.TEXT_NODE?this.chars(y.nodeValue):this.sanitizedSomething=!0,I&&y.firstChild)H.push(y),y=Vo(y);else for(;y;){y.nodeType===Node.ELEMENT_NODE&&this.endElement(y);let oe=xx(y);if(oe){y=oe;break}y=H.pop()}return this.buf.join("")}startElement(f){const y=Dc(f).toLowerCase();if(!mm.hasOwnProperty(y))return this.sanitizedSomething=!0,!wx.hasOwnProperty(y);this.buf.push("<"),this.buf.push(y);const I=f.attributes;for(let H=0;H<I.length;H++){const oe=I.item(H),be=oe.name,Ce=be.toLowerCase();if(!cI.hasOwnProperty(Ce)){this.sanitizedSomething=!0;continue}let Ke=oe.value;U_[Ce]&&(Ke=$v(Ke)),this.buf.push(" ",be,'="',Mx(Ke),'"')}return this.buf.push(">"),!0}endElement(f){const y=Dc(f).toLowerCase();mm.hasOwnProperty(y)&&!iI.hasOwnProperty(y)&&(this.buf.push("</"),this.buf.push(y),this.buf.push(">"))}chars(f){this.buf.push(Mx(f))}}function xx(s){const f=s.nextSibling;if(f&&s!==f.previousSibling)throw sy(f);return f}function Vo(s){const f=s.firstChild;if(f&&function Ex(s,f){return(s.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,f))throw sy(f);return f}function Dc(s){const f=s.nodeName;return"string"==typeof f?f:"FORM"}function sy(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const dI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,X8=/([^\#-~ |!])/g;function Mx(s){return s.replace(/&/g,"&amp;").replace(dI,function(f){return"&#"+(1024*(f.charCodeAt(0)-55296)+(f.charCodeAt(1)-56320)+65536)+";"}).replace(X8,function(f){return"&#"+f.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let L_;function Y8(s,f){let y=null;try{L_=L_||tI(s);let I=f?String(f):"";y=L_.getInertBodyElement(I);let H=5,oe=I;do{if(0===H)throw new Error("Failed to sanitize html because the input is unstable");H--,I=oe,oe=y.innerHTML,y=L_.getInertBodyElement(I)}while(I!==oe);return ny((new _x).sanitizeChildren(lI(y)||y))}finally{if(y){const I=lI(y)||y;for(;I.firstChild;)I.removeChild(I.firstChild)}}}function lI(s){return"content"in s&&function Vv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ia=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ia||{});function uI(s){const f=Hv();return f?qD(f.sanitize(ia.HTML,s)||""):ry(s,"HTML")?qD(_h(s)):Y8(hm(),Di(s))}function Sx(s){const f=Hv();return f?f.sanitize(ia.URL,s)||"":ry(s,"URL")?_h(s):$v(Di(s))}function Z8(s){const f=Hv();if(f)return jv(f.sanitize(ia.RESOURCE_URL,s)||"");if(ry(s,"ResourceURL"))return jv(_h(s));throw new mr(904,!1)}function fI(s,f,y){return function YN(s,f){return"src"===f&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===f&&("base"===s||"link"===s)?Z8:Sx}(f,y)(s)}function Hv(){const s=Ln();return s&&s[uh].sanitizer}const ed=/^>|^->|<!--|-->|--!>|<!-$/g,ym=/(<|>)/g,hI="\u200b$1\u200b";function _l(s){return s instanceof Function?s():s}function Ic(s){return"browser"===(s??zt(Pa)).get(ax)}var Xv=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Xv||{});let Dx;function Ix(s,f){return Dx(s,f)}function cy(s,f,y,I,H){if(null!=I){let oe,be=!1;Ac(I)?oe=I:ic(I)&&(be=!0,I=I[Ao]);const Ce=To(I);0===s&&null!==y?null==H?SI(f,y,Ce):vm(f,y,Ce,H||null,!0):1===s&&null!==y?vm(f,y,Ce,H||null,!0):2===s?function Zv(s,f,y){const I=V_(s,f);I&&function fP(s,f,y,I){s.removeChild(f,y,I)}(s,I,f,y)}(f,Ce,be):3===s&&f.destroyNode(Ce),null!=oe&&function pP(s,f,y,I,H){const oe=y[fh];oe!==To(y)&&cy(f,s,I,oe,H);for(let Ce=ta;Ce<y.length;Ce++){const Ke=y[Ce];H_(Ke[fr],Ke,s,f,I,oe)}}(f,s,oe,y,H)}}function Cx(s,f){return s.createText(f)}function kx(s,f){return s.createComment(function pI(s){return s.replace(ed,f=>f.replace(ym,hI))}(f))}function $_(s,f,y){return s.createElement(f,y)}function EI(s,f){f[uh].changeDetectionScheduler?.notify(8),H_(s,f,f[ci],2,null,null)}function xI(s,f){const y=s[wu],I=f[ba];(ic(I)||f[$o]!==I[ba][$o])&&(s[ai]|=e_.HasTransplantedViews),null===y?s[wu]=[f]:y.push(f)}function Px(s,f){const y=s[wu],I=y.indexOf(f);y.splice(I,1)}function Yv(s,f){if(s.length<=ta)return;const y=ta+f,I=s[y];if(I){const H=I[ja];null!==H&&H!==s&&Px(H,I),f>0&&(s[y-1][cf]=I[cf]);const oe=tl(s,ta+f);!function sP(s,f){EI(s,f),f[Ao]=null,f[Zc]=null}(I[fr],I);const be=oe[ip];null!==be&&be.detachView(oe[fr]),I[ba]=null,I[cf]=null,I[ai]&=-129}return I}function zl(s,f){if(!(256&f[ai])){const y=f[ci];y.destroyNode&&H_(s,f,y,3,null,null),function cP(s){let f=s[Ia];if(!f)return Ox(s[fr],s);for(;f;){let y=null;if(ic(f))y=f[Ia];else{const I=f[ta];I&&(y=I)}if(!y){for(;f&&!f[cf]&&f!==s;)ic(f)&&Ox(f[fr],f),f=f[ba];null===f&&(f=s),ic(f)&&Ox(f[fr],f),y=f&&f[cf]}f=y}}(f)}}function Ox(s,f){if(256&f[ai])return;const y=R(null);try{f[ai]&=-129,f[ai]|=256,f[Kl]&&ie(f[Kl]),function uP(s,f){let y;if(null!=s&&null!=(y=s.destroyHooks))for(let I=0;I<y.length;I+=2){const H=f[y[I]];if(!(H instanceof al)){const oe=y[I+1];if(Array.isArray(oe))for(let be=0;be<oe.length;be+=2){const Ce=H[oe[be]],Ke=oe[be+1];oc(4,Ce,Ke);try{Ke.call(Ce)}finally{oc(5,Ce,Ke)}}else{oc(4,H,oe);try{oe.call(H)}finally{oc(5,H,oe)}}}}}(s,f),function lP(s,f){const y=s.cleanup,I=f[fv];if(null!==y)for(let oe=0;oe<y.length-1;oe+=2)if("string"==typeof y[oe]){const be=y[oe+3];be>=0?I[be]():I[-be].unsubscribe(),oe+=2}else y[oe].call(I[y[oe+1]]);null!==I&&(f[fv]=null);const H=f[im];if(null!==H){f[im]=null;for(let oe=0;oe<H.length;oe++)(0,H[oe])()}}(s,f),1===f[fr].type&&f[ci].destroy();const I=f[ja];if(null!==I&&Ac(f[ba])){I!==f[ba]&&Px(I,f);const H=f[ip];null!==H&&H.detachView(s)}!function v8(s){tx.delete(s[jl])}(f)}finally{R(y)}}function Rx(s,f,y){return MI(s,f.parent,y)}function MI(s,f,y){let I=f;for(;null!==I&&168&I.type;)I=(f=I).parent;if(null===I)return y[Ao];{const{componentOffset:H}=I;if(H>-1){const{encapsulation:oe}=s.data[I.directiveStart+H];if(oe===vu.None||oe===vu.Emulated)return null}return ol(I,y)}}function vm(s,f,y,I,H){s.insertBefore(f,y,I,H)}function SI(s,f,y){s.appendChild(f,y)}function AI(s,f,y,I,H){null!==I?vm(s,f,y,I,H):SI(s,f,y)}function V_(s,f){return s.parentNode(f)}function TI(s,f,y){return II(s,f,y)}function DI(s,f,y){return 40&s.type?ol(s,y):null}let Bx,II=DI;function CI(s,f){II=s,Bx=f}function z_(s,f,y,I){const H=Rx(s,I,f),oe=f[ci],Ce=TI(I.parent||f[Zc],I,f);if(null!=H)if(Array.isArray(y))for(let Ke=0;Ke<y.length;Ke++)AI(oe,H,y[Ke],Ce,!1);else AI(oe,H,y,Ce,!1);void 0!==Bx&&Bx(oe,I,f,y,H)}function bm(s,f){if(null!==f){const y=f.type;if(3&y)return ol(f,s);if(4&y)return Nx(-1,s[f.index]);if(8&y){const I=f.child;if(null!==I)return bm(s,I);{const H=s[f.index];return Ac(H)?Nx(-1,H):To(H)}}if(32&y)return Ix(f,s)()||To(s[f.index]);{const I=kI(s,f);return null!==I?Array.isArray(I)?I[0]:bm(mh(s[$o]),I):bm(s,f.next)}}return null}function kI(s,f){return null!==f?s[$o][Zc].projection[f.projection]:null}function Nx(s,f){const y=ta+s+1;if(y<f.length){const I=f[y],H=I[fr].firstChild;if(null!==H)return bm(I,H)}return f[fh]}function Lx(s,f,y,I,H,oe,be){for(;null!=y;){if(128===y.type){y=y.next;continue}const Ce=I[y.index],Ke=y.type;if(be&&0===f&&(Ce&&Gs(To(Ce),I),y.flags|=2),32&~y.flags)if(8&Ke)Lx(s,f,y.child,I,H,oe,!1),cy(f,s,H,Ce,oe);else if(32&Ke){const dt=Ix(y,I);let _t;for(;_t=dt();)cy(f,s,H,_t,oe);cy(f,s,H,Ce,oe)}else 16&Ke?W_(s,f,I,y,H,oe):cy(f,s,H,Ce,oe);y=be?y.projectionNext:y.next}}function H_(s,f,y,I,H,oe){Lx(y,I,s.firstChild,f,H,oe,!1)}function W_(s,f,y,I,H,oe){const be=y[$o],Ke=be[Zc].projection[I.projection];if(Array.isArray(Ke))for(let dt=0;dt<Ke.length;dt++)cy(f,s,H,Ke[dt],oe);else{let dt=Ke;const _t=be[ba];g_(I)&&(dt.flags|=128),Lx(s,f,dt,_t,H,oe,!0)}}function OI(s,f,y){""===y?s.removeAttribute(f,"class"):s.setAttribute(f,"class",y)}function RI(s,f,y){const{mergedAttrs:I,classes:H,styles:oe}=y;null!==I&&ch(s,f,I),null!==H&&OI(s,f,H),null!==oe&&function yP(s,f,y){s.setAttribute(f,"style",y)}(s,f,oe)}const ji={};function BI(s=1){NI(Ji(),Ln(),Tc()+s,!1)}function NI(s,f,y,I){if(!I)if(3&~f[ai]){const oe=s.preOrderHooks;null!==oe&&X0(f,oe,0,y)}else{const oe=s.preOrderCheckHooks;null!==oe&&_v(f,oe,y)}dm(y)}function ly(s,f=Zi.Default){const y=Ln();return null===y?rt(s,f):p_(ko(),y,bt(s),f)}function UI(){throw new Error("invalid")}function LI(s,f,y,I,H,oe){const be=R(null);try{let Ce=null;H&Ll.SignalBased&&(Ce=f[I][_]),null!==Ce&&void 0!==Ce.transformFn&&(oe=Ce.transformFn(oe)),H&Ll.HasDecoratorInputTransform&&(oe=s.inputTransforms[I].call(f,oe)),null!==s.setInput?s.setInput(f,Ce,oe,y,I):YT(f,Ce,I,oe)}finally{R(be)}}function wm(s,f,y,I,H,oe,be,Ce,Ke,dt,_t){const jt=f.blueprint.slice();return jt[Ao]=H,jt[ai]=204|I,(null!==dt||s&&2048&s[ai])&&(jt[ai]|=2048),A2(jt),jt[ba]=jt[hv]=s,jt[Ts]=y,jt[uh]=be||s&&s[uh],jt[ci]=Ce||s&&s[ci],jt[Fa]=Ke||s&&s[Fa]||null,jt[Zc]=oe,jt[jl]=function y8(){return RD++}(),jt[nl]=_t,jt[GT]=dt,jt[$o]=2==f.type?s[$o]:jt,jt}function Eh(s,f,y,I,H){let oe=s.data[f];if(null===oe)oe=uy(s,f,y,I,H),function H0(){return Pi.lFrame.inI18n}()&&(oe.flags|=32);else if(64&oe.type){oe.type=y,oe.value=I,oe.attrs=H;const be=yh();oe.injectorIndex=null===be?-1:be.injectorIndex}return xu(oe,!0),oe}function uy(s,f,y,I,H){const oe=nD(),be=I2(),Ke=s.data[f]=function EP(s,f,y,I,H,oe){let be=f?f.injectorIndex:-1,Ce=0;return cp()&&(Ce|=128),{type:y,index:I,insertBeforeIndex:null,injectorIndex:be,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ce,providerIndexes:0,value:H,attrs:oe,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:f,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,be?oe:oe&&oe.parent,y,f,I,H);return null===s.firstChild&&(s.firstChild=Ke),null!==oe&&(be?null==oe.child&&null!==Ke.parent&&(oe.child=Ke):null===oe.next&&(oe.next=Ke,Ke.prev=oe)),Ke}function fp(s,f,y,I){if(0===y)return-1;const H=f.length;for(let oe=0;oe<y;oe++)f.push(I),s.blueprint.push(I),s.data.push(null);return H}function Jv(s,f,y,I,H){const oe=Tc(),be=2&I;try{dm(-1),be&&f.length>qr&&NI(s,f,qr,!1),oc(be?2:0,H),y(I,H)}finally{dm(oe),oc(be?3:1,H)}}function Fx(s,f,y){if(yv(f)){const I=R(null);try{const oe=f.directiveEnd;for(let be=f.directiveStart;be<oe;be++){const Ce=s.data[be];Ce.contentQueries&&Ce.contentQueries(1,y[be],be)}}finally{R(I)}}}function jx(s,f,y){o_()&&(function AP(s,f,y,I){const H=y.directiveStart,oe=y.directiveEnd;Vi(y)&&function DP(s,f,y){const I=ol(f,s),H=Kx(y);let be=16;y.signals?be=4096:y.onPush&&(be=64);const Ce=hy(s,wm(s,H,null,be,I,f,null,s[uh].rendererFactory.createRenderer(I,y),null,null,null));s[f.index]=Ce}(f,y,s.data[H+y.componentOffset]),s.firstCreatePass||f_(y,f),Gs(I,f);const be=y.initialInputs;for(let Ce=H;Ce<oe;Ce++){const Ke=s.data[Ce],dt=um(f,s,Ce,y);Gs(dt,f),null!==be&&Gx(0,Ce-H,dt,Ke,0,be),_u(Ke)&&(sl(y.index,f)[Ts]=um(f,s,Ce,y))}}(s,f,y,ol(y,f)),!(64&~y.flags)&&Hx(s,f,y))}function qv(s,f,y=ol){const I=f.localNames;if(null!==I){let H=f.index+1;for(let oe=0;oe<I.length;oe+=2){const be=I[oe+1],Ce=-1===be?y(f,s):s[be];s[H++]=Ce}}}function Kx(s){const f=s.tView;return null===f||f.incompleteFirstPass?s.tView=$x(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):f}function $x(s,f,y,I,H,oe,be,Ce,Ke,dt,_t){const jt=qr+I,on=jt+H,an=function FI(s,f){const y=[];for(let I=0;I<f;I++)y.push(I<s?null:ji);return y}(jt,on),En="function"==typeof dt?dt():dt;return an[fr]={type:s,blueprint:an,template:y,queries:null,viewQuery:Ce,declTNode:f,data:an.slice().fill(null,jt),bindingStartIndex:jt,expandoStartIndex:on,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof oe?oe():oe,pipeRegistry:"function"==typeof be?be():be,firstChild:null,schemas:Ke,consts:En,incompleteFirstPass:!1,ssrId:_t}}let Vx=()=>null;function G_(s,f,y,I,H){for(let oe in f){if(!f.hasOwnProperty(oe))continue;const be=f[oe];if(void 0===be)continue;I??={};let Ce,Ke=Ll.None;Array.isArray(be)?(Ce=be[0],Ke=be[1]):Ce=be;let dt=oe;if(null!==H){if(!H.hasOwnProperty(oe))continue;dt=H[oe]}0===s?xP(I,y,dt,Ce,Ke):xP(I,y,dt,Ce)}return I}function xP(s,f,y,I,H){let oe;s.hasOwnProperty(y)?(oe=s[y]).push(f,I):oe=s[y]=[f,I],void 0!==H&&oe.push(H)}function nd(s,f,y,I,H,oe,be,Ce){const Ke=ol(f,y);let _t,dt=f.inputs;!Ce&&null!=dt&&(_t=dt[I])?(Xx(s,y,_t,I,H),Vi(f)&&function Cc(s,f){const y=sl(f,s);16&y[ai]||(y[ai]|=64)}(y,f.index)):3&f.type&&(I=function KI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(I),H=null!=be?be(H,f.value||"",I):H,oe.setProperty(Ke,I,H))}function zx(s,f,y,I){if(o_()){const H=null===I?null:{"":-1},oe=function o9(s,f){const y=s.directiveRegistry;let I=null,H=null;if(y)for(let oe=0;oe<y.length;oe++){const be=y[oe];if(v2(f,be.selectors,!1))if(I||(I=[]),_u(be))if(null!==be.findHostDirectiveDefs){const Ce=[];H=H||new Map,be.findHostDirectiveDefs(be,Ce,H),I.unshift(...Ce,be),X_(s,f,Ce.length)}else I.unshift(be),X_(s,f,0);else H=H||new Map,be.findHostDirectiveDefs?.(be,I,H),I.push(be)}return null===I?null:[I,H]}(s,y);let be,Ce;null===oe?be=Ce=null:[be,Ce]=oe,null!==be&&fy(s,f,y,be,H,Ce),H&&function VI(s,f,y){if(f){const I=s.localNames=[];for(let H=0;H<f.length;H+=2){const oe=y[f[H+1]];if(null==oe)throw new mr(-301,!1);I.push(f[H],oe)}}}(y,I,H)}y.mergedAttrs=cv(y.mergedAttrs,y.attrs)}function fy(s,f,y,I,H,oe){for(let dt=0;dt<I.length;dt++)H2(f_(y,f),s,I[dt].type);!function s9(s,f,y){s.flags|=1,s.directiveStart=f,s.directiveEnd=f+y,s.providerIndexes=f}(y,s.data.length,I.length);for(let dt=0;dt<I.length;dt++){const _t=I[dt];_t.providersResolver&&_t.providersResolver(_t)}let be=!1,Ce=!1,Ke=fp(s,f,I.length,null);for(let dt=0;dt<I.length;dt++){const _t=I[dt];y.mergedAttrs=cv(y.mergedAttrs,_t.hostAttrs),TP(s,y,f,Ke,_t),Wx(Ke,_t,H),null!==_t.contentQueries&&(y.flags|=4),(null!==_t.hostBindings||null!==_t.hostAttrs||0!==_t.hostVars)&&(y.flags|=64);const jt=_t.type.prototype;!be&&(jt.ngOnChanges||jt.ngOnInit||jt.ngDoCheck)&&((s.preOrderHooks??=[]).push(y.index),be=!0),!Ce&&(jt.ngOnChanges||jt.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(y.index),Ce=!0),Ke++}!function n9(s,f,y){const H=f.directiveEnd,oe=s.data,be=f.attrs,Ce=[];let Ke=null,dt=null;for(let _t=f.directiveStart;_t<H;_t++){const jt=oe[_t],on=y?y.get(jt):null,En=on?on.outputs:null;Ke=G_(0,jt.inputs,_t,Ke,on?on.inputs:null),dt=G_(1,jt.outputs,_t,dt,En);const Un=null===Ke||null===be||dh(f)?null:IP(Ke,_t,be);Ce.push(Un)}null!==Ke&&(Ke.hasOwnProperty("class")&&(f.flags|=8),Ke.hasOwnProperty("style")&&(f.flags|=16)),f.initialInputs=Ce,f.inputs=Ke,f.outputs=dt}(s,y,oe)}function Hx(s,f,y){const I=y.directiveStart,H=y.directiveEnd,oe=y.index,be=function Wk(){return Pi.lFrame.currentDirectiveIndex}();try{dm(oe);for(let Ce=I;Ce<H;Ce++){const Ke=s.data[Ce],dt=f[Ce];k2(Ce),(null!==Ke.hostBindings||0!==Ke.hostVars||null!==Ke.hostAttrs)&&i9(Ke,dt)}}finally{dm(-1),k2(be)}}function i9(s,f){null!==s.hostBindings&&s.hostBindings(1,f)}function X_(s,f,y){f.componentOffset=y,(s.components??=[]).push(f.index)}function Wx(s,f,y){if(y){if(f.exportAs)for(let I=0;I<f.exportAs.length;I++)y[f.exportAs[I]]=s;_u(f)&&(y[""]=s)}}function TP(s,f,y,I,H){s.data[I]=H;const oe=H.factory||(H.factory=Da(H.type)),be=new al(oe,_u(H),ly);s.blueprint[I]=be,y[I]=be,function SP(s,f,y,I,H){const oe=H.hostBindings;if(oe){let be=s.hostBindingOpCodes;null===be&&(be=s.hostBindingOpCodes=[]);const Ce=~f.index;(function $I(s){let f=s.length;for(;f>0;){const y=s[--f];if("number"==typeof y&&y<0)return y}return 0})(be)!=Ce&&be.push(Ce),be.push(y,I,oe)}}(s,f,I,fp(s,y,H.hostVars,ji),H)}function yf(s,f,y,I,H,oe){const be=ol(s,f);!function _m(s,f,y,I,H,oe,be){if(null==oe)s.removeAttribute(f,H,y);else{const Ce=null==be?Di(oe):be(oe,I||"",H);s.setAttribute(f,H,Ce,y)}}(f[ci],be,oe,s.value,y,I,H)}function Gx(s,f,y,I,H,oe){const be=oe[f];if(null!==be)for(let Ce=0;Ce<be.length;)LI(I,y,be[Ce++],be[Ce++],be[Ce++],be[Ce++])}function IP(s,f,y){let I=null,H=0;for(;H<y.length;){const oe=y[H];if(0!==oe)if(5!==oe){if("number"==typeof oe)break;if(s.hasOwnProperty(oe)){null===I&&(I=[]);const be=s[oe];for(let Ce=0;Ce<be.length;Ce+=3)if(be[Ce]===f){I.push(oe,be[Ce+1],be[Ce+2],y[H+1]);break}}H+=2}else H+=2;else H+=4}return I}function zI(s,f,y,I){return[s,!0,0,f,null,I,null,y,null,null]}function HI(s,f){const y=s.contentQueries;if(null!==y){const I=R(null);try{for(let H=0;H<y.length;H+=2){const be=y[H+1];if(-1!==be){const Ce=s.data[be];W0(y[H]),Ce.contentQueries(2,f[be],be)}}}finally{R(I)}}}function hy(s,f){return s[Ia]?s[WT][cf]=f:s[Ia]=f,s[WT]=f,f}function Qv(s,f,y){W0(0);const I=R(null);try{f(s,y)}finally{R(I)}}function WI(s){return s[fv]??=[]}function eb(s){return s.cleanup??=[]}function py(s,f,y){return(null===s||_u(s))&&(y=function QT(s){for(;Array.isArray(s);){if("object"==typeof s[om])return s;s=s[Ao]}return null}(y[f.index])),y[ci]}function Y_(s,f){const y=s[Fa],I=y?y.get(Tu,null):null;I&&I.handleError(f)}function Xx(s,f,y,I,H){for(let oe=0;oe<y.length;){const be=y[oe++],Ce=y[oe++],Ke=y[oe++];LI(s.data[be],f[be],I,Ce,Ke,H)}}function xh(s,f,y){const I=r_(f,s);!function dy(s,f,y){s.setValue(f,y)}(s[ci],I,y)}function CP(s,f){const y=sl(f,s),I=y[fr];!function Yx(s,f){for(let y=f.length;y<s.blueprint.length;y++)f.push(s.blueprint[y])}(I,y);const H=y[Ao];null!==H&&null===y[nl]&&(y[nl]=ux(H,y[Fa])),tb(I,y,y[Ts])}function tb(s,f,y){R2(f);try{const I=s.viewQuery;null!==I&&Qv(1,I,y);const H=s.template;null!==H&&Jv(s,f,H,1,y),s.firstCreatePass&&(s.firstCreatePass=!1),f[ip]?.finishViewCreation(s),s.staticContentQueries&&HI(s,f),s.staticViewQueries&&Qv(2,s.viewQuery,y);const oe=s.components;null!==oe&&function GI(s,f){for(let y=0;y<f.length;y++)CP(s,f[y])}(f,oe)}catch(I){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),I}finally{f[ai]&=-5,B2()}}function my(s,f,y,I){const H=R(null);try{const oe=f.tView,Ke=wm(s,oe,y,4096&s[ai]?4096:16,null,f,null,null,I?.injector??null,I?.embeddedViewInjector??null,I?.dehydratedView??null);Ke[ja]=s[f.index];const _t=s[ip];return null!==_t&&(Ke[ip]=_t.createEmbeddedView(oe)),tb(oe,Ke,y),Ke}finally{R(H)}}function Z_(s,f){const y=ta+f;if(y<s.length)return s[y]}function yy(s,f){return!f||null===f.firstChild||g_(s)}function Cd(s,f,y,I=!0){const H=f[fr];if(function dP(s,f,y,I){const H=ta+I,oe=y.length;I>0&&(y[H-1][cf]=f),I<oe-ta?(f[cf]=y[H],Sd(y,ta+I,f)):(y.push(f),f[cf]=null),f[ba]=y;const be=f[ja];null!==be&&y!==be&&xI(be,f);const Ce=f[ip];null!==Ce&&Ce.insertView(s),hh(f),f[ai]|=128}(H,f,s,y),I){const be=Nx(y,s),Ce=f[ci],Ke=V_(Ce,s[fh]);null!==Ke&&function aP(s,f,y,I,H,oe){I[Ao]=H,I[Zc]=f,H_(s,I,y,1,H,oe)}(H,s[Zc],Ce,f,Ke,be)}const oe=f[nl];null!==oe&&null!==oe.firstChild&&(oe.firstChild=null)}function gy(s,f){const y=Yv(s,f);return void 0!==y&&zl(y[fr],y),y}function vy(s,f,y,I,H=!1){for(;null!==y;){if(128===y.type){y=H?y.projectionNext:y.next;continue}const oe=f[y.index];null!==oe&&I.push(To(oe)),Ac(oe)&&Zx(oe,I);const be=y.type;if(8&be)vy(s,f,y.child,I);else if(32&be){const Ce=Ix(y,f);let Ke;for(;Ke=Ce();)I.push(Ke)}else if(16&be){const Ce=kI(f,y);if(Array.isArray(Ce))I.push(...Ce);else{const Ke=mh(f[$o]);vy(Ke[fr],Ke,Ce,I,!0)}}y=H?y.projectionNext:y.next}return I}function Zx(s,f){for(let y=ta;y<s.length;y++){const I=s[y],H=I[fr].firstChild;null!==H&&vy(I[fr],I,H,f)}s[fh]!==s[Ao]&&f.push(s[fh])}let XI=[];const Jx={...F,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{uf(s.lView)},consumerOnSignalRead(){this.lView[Kl]=this}},nb={...F,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{let f=mh(s.lView);for(;f&&!JI(f[fr]);)f=mh(f);f&&z0(f)},consumerOnSignalRead(){this.lView[Kl]=this}};function JI(s){return 2!==s.type}const PP=100;function kd(s,f=!0,y=0){const I=s[uh],H=I.rendererFactory;H.begin?.();try{!function by(s,f){const y=iD();try{oD(!0),eM(s,f);let I=0;for(;wa(s);){if(I===PP)throw new mr(103,!1);I++,eM(s,1)}}finally{oD(y)}}(s,y)}catch(be){throw f&&Y_(s,be),be}finally{H.end?.(),I.inlineEffectRunner?.flush()}}function gf(s,f,y,I){const H=f[ai];if(!(256&~H))return;f[uh].inlineEffectRunner?.flush(),R2(f);let Ce=!0,Ke=null,dt=null;JI(s)?(dt=function YI(s){return s[Kl]??function ZI(s){const f=XI.pop()??Object.create(Jx);return f.lView=s,f}(s)}(f),Ke=q(dt)):null===function A(){return w}()?(Ce=!1,dt=function kP(s){const f=s[Kl]??Object.create(nb);return f.lView=s,f}(f),Ke=q(dt)):f[Kl]&&(ie(f[Kl]),f[Kl]=null);try{A2(f),function sD(s){return Pi.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==y&&Jv(s,f,y,2,I);const _t=!(3&~H);if(_t){const an=s.preOrderCheckHooks;null!==an&&_v(f,an,null)}else{const an=s.preOrderHooks;null!==an&&X0(f,an,0,null),U2(f,0)}if(function OP(s){for(let f=UD(s);null!==f;f=ix(f)){if(!(f[ai]&e_.HasTransplantedViews))continue;const y=f[wu];for(let I=0;I<y.length;I++)z0(y[I])}}(f),QI(f,0),null!==s.contentQueries&&HI(s,f),_t){const an=s.contentCheckHooks;null!==an&&_v(f,an)}else{const an=s.contentHooks;null!==an&&X0(f,an,1),U2(f,1)}!function gP(s,f){const y=s.hostBindingOpCodes;if(null!==y)try{for(let I=0;I<y.length;I++){const H=y[I];if(H<0)dm(~H);else{const oe=H,be=y[++I],Ce=y[++I];Hk(be,oe),Ce(2,f[oe])}}}finally{dm(-1)}}(s,f);const jt=s.components;null!==jt&&eC(f,jt,0);const on=s.viewQuery;if(null!==on&&Qv(2,on,I),_t){const an=s.viewCheckHooks;null!==an&&_v(f,an)}else{const an=s.viewHooks;null!==an&&X0(f,an,2),U2(f,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f[op]){for(const an of f[op])an();f[op]=null}f[ai]&=-73}catch(_t){throw uf(f),_t}finally{null!==dt&&(J(dt,Ke),Ce&&function ku(s){s.lView[Kl]!==s&&(s.lView=null,XI.push(s))}(dt)),B2()}}function QI(s,f){for(let y=UD(s);null!==y;y=ix(y))for(let I=ta;I<y.length;I++)Qx(y[I],f)}function qx(s,f,y){Qx(sl(f,s),y)}function Qx(s,f){S2(s)&&eM(s,f)}function eM(s,f){const I=s[fr],H=s[ai],oe=s[Kl];let be=!!(0===f&&16&H);if(be||=!!(64&H&&0===f),be||=!!(1024&H),be||=!(!oe?.dirty||!ne(oe)),be||=!1,oe&&(oe.dirty=!1),s[ai]&=-9217,be)gf(I,s,I.template,s[Ts]);else if(8192&H){QI(s,1);const Ce=I.components;null!==Ce&&eC(s,Ce,1)}}function eC(s,f,y){for(let I=0;I<f.length;I++)qx(s,f[I],y)}function rb(s,f){const y=iD()?64:1088;for(s[uh].changeDetectionScheduler?.notify(f);s;){s[ai]|=y;const I=mh(s);if(gv(s)&&!I)return s;s=I}return null}class ib{get rootNodes(){const f=this._lView,y=f[fr];return vy(y,f,y.firstChild,[])}constructor(f,y,I=!0){this._lView=f,this._cdRefInjectingView=y,this.notifyErrorHandler=I,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ts]}set context(f){this._lView[Ts]=f}get destroyed(){return!(256&~this._lView[ai])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const f=this._lView[ba];if(Ac(f)){const y=f[8],I=y?y.indexOf(this):-1;I>-1&&(Yv(f,I),tl(y,I))}this._attachedToViewContainer=!1}zl(this._lView[fr],this._lView)}onDestroy(f){ff(this._lView,f)}markForCheck(){rb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ai]&=-129}reattach(){hh(this._lView),this._lView[ai]|=128}detectChanges(){this._lView[ai]|=1024,kd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const f=gv(this._lView),y=this._lView[ja];null!==y&&!f&&Px(y,this._lView),EI(this._lView[fr],this._lView)}attachToAppRef(f){if(this._attachedToViewContainer)throw new mr(902,!1);this._appRef=f;const y=gv(this._lView),I=this._lView[ja];null!==I&&!y&&xI(I,this._lView),hh(this._lView)}}let ob=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=NP}return s})();const RP=ob,BP=class extends RP{constructor(f,y,I){super(),this._declarationLView=f,this._declarationTContainer=y,this.elementRef=I}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(f,y){return this.createEmbeddedViewImpl(f,y)}createEmbeddedViewImpl(f,y,I){const H=my(this._declarationLView,this._declarationTContainer,f,{embeddedViewInjector:y,dehydratedView:I});return new ib(H)}};function NP(){return J_(ko(),Ln())}function J_(s,f){return 4&s.type?new BP(f,s,Z0(s,f)):null}function iC(s,f,y){const I=f.insertBeforeIndex,H=Array.isArray(I)?I[0]:I;return null===H?DI(s,0,y):To(y[H])}function oC(s,f,y,I,H){const oe=f.insertBeforeIndex;if(Array.isArray(oe)){let be=I,Ce=null;if(3&f.type||(Ce=be,be=H),null!==be&&-1===f.componentOffset)for(let Ke=1;Ke<oe.length;Ke++)vm(s,be,y[oe[Ke]],Ce,!1)}}function sC(s,f){if(s.push(f),s.length>1)for(let y=s.length-2;y>=0;y--){const I=s[y];aC(I)||cC(I,f)&&null===$P(I)&&dC(I,f.index)}}function aC(s){return!(64&s.type)}function cC(s,f){return aC(f)||s.index>f.index}function $P(s){const f=s.insertBeforeIndex;return Array.isArray(f)?f[0]:f}function dC(s,f){const y=s.insertBeforeIndex;Array.isArray(y)?y[0]=f:(CI(iC,oC),s.insertBeforeIndex=f)}function Mh(s,f,y){const I=uy(s,y,64,null,null);return sC(f,I),I}function lC(s,f,y){s.index=0;const I=function Em(s,f){const y=f[s.currentCaseLViewIndex];return null===y?y:y<0?~y:y}(f,y);s.removes=null!==I?f.remove[I]:bo}function oM(s){if(s.index<s.removes.length){const f=s.removes[s.index++];return f>0?s.lView[f]:(s.stack.push(s.index,s.removes),lC(s,s.lView[fr].data[~f],s.lView),oM(s))}return 0===s.stack.length?null:(s.removes=s.stack.pop(),s.index=s.stack.pop(),oM(s))}function u9(){const s={stack:[],index:-1};return function f(y,I){for(s.lView=I;s.stack.length;)s.stack.pop();return lC(s,y.value,I),oM.bind(null,s)}}let yC=()=>{},aO=()=>null;function Sy(s,f){return aO(s,f)}class Ay{}const fb=new Ti("",{providedIn:"root",factory:()=>!1}),lO=new Ti("");class uO{}class _C{}class hO{resolveComponentFactory(f){throw function fO(s){const f=Error(`No component factory found for ${vs(s)}.`);return f.ngComponent=s,f}(f)}}class pb{static#e=this.NULL=new hO}class mM{}let pO=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function xC(){const s=Ln(),y=sl(ko().index,s);return(ic(y)?y:s)[ci]}()}return s})(),mO=(()=>{class s{static#e=this.\u0275prov=Yi({token:s,providedIn:"root",factory:()=>null})}return s})();const Ty=new Set;function rd(s){Ty.has(s)||(Ty.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}function MC(s){let f=!0;return setTimeout(()=>{f&&(f=!1,s())}),"function"==typeof jo.requestAnimationFrame&&jo.requestAnimationFrame(()=>{f&&(f=!1,s())}),()=>{f=!1}}function sc(s){let f=!0;return queueMicrotask(()=>{f&&s()}),()=>{f=!1}}function SC(...s){}class Is{constructor({enableLongStackTrace:f=!1,shouldCoalesceEventChangeDetection:y=!1,shouldCoalesceRunChangeDetection:I=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),typeof Zone>"u")throw new mr(908,!1);Zone.assertZonePatched();const H=this;H._nesting=0,H._outer=H._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(H._inner=H._inner.fork(new Zone.TaskTrackingZoneSpec)),f&&Zone.longStackTraceZoneSpec&&(H._inner=H._inner.fork(Zone.longStackTraceZoneSpec)),H.shouldCoalesceEventChangeDetection=!I&&y,H.shouldCoalesceRunChangeDetection=I,H.callbackScheduled=!1,function vO(s){const f=()=>{!function gO(s){s.isCheckStableRunning||s.callbackScheduled||(s.callbackScheduled=!0,Zone.root.run(()=>{MC(()=>{s.callbackScheduled=!1,gM(s),s.isCheckStableRunning=!0,l1(s),s.isCheckStableRunning=!1})}),gM(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(y,I,H,oe,be,Ce)=>{if(function bO(s){return DC(s,"__ignore_ng_zone__")}(Ce))return y.invokeTask(H,oe,be,Ce);try{return AC(s),y.invokeTask(H,oe,be,Ce)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===oe.type||s.shouldCoalesceRunChangeDetection)&&f(),TC(s)}},onInvoke:(y,I,H,oe,be,Ce,Ke)=>{try{return AC(s),y.invoke(H,oe,be,Ce,Ke)}finally{s.shouldCoalesceRunChangeDetection&&!s.callbackScheduled&&!function wO(s){return DC(s,"__scheduler_tick__")}(Ce)&&f(),TC(s)}},onHasTask:(y,I,H,oe)=>{y.hasTask(H,oe),I===H&&("microTask"==oe.change?(s._hasPendingMicrotasks=oe.microTask,gM(s),l1(s)):"macroTask"==oe.change&&(s.hasPendingMacrotasks=oe.macroTask))},onHandleError:(y,I,H,oe)=>(y.handleError(H,oe),s.runOutsideAngular(()=>s.onError.emit(oe)),!1)})}(H)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new mr(909,!1)}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new mr(909,!1)}run(f,y,I){return this._inner.run(f,y,I)}runTask(f,y,I,H){const oe=this._inner,be=oe.scheduleEventTask("NgZoneEvent: "+H,f,yO,SC,SC);try{return oe.runTask(be,y,I)}finally{oe.cancelTask(be)}}runGuarded(f,y,I){return this._inner.runGuarded(f,y,I)}runOutsideAngular(f){return this._outer.run(f)}}const yO={};function l1(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function gM(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&!0===s.callbackScheduled)}function AC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function TC(s){s._nesting--,l1(s)}class xm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}run(f,y,I){return f.apply(y,I)}runGuarded(f,y,I){return f.apply(y,I)}runOutsideAngular(f){return f()}runTask(f,y,I,H){return f.apply(y,I)}}function DC(s,f){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0]?.data?.[f]}var id=function(s){return s[s.EarlyRead=0]="EarlyRead",s[s.Write=1]="Write",s[s.MixedReadWrite=2]="MixedReadWrite",s[s.Read=3]="Read",s}(id||{});const IC={destroy(){}};function CC(s,f){!f&&Na();const y=f?.injector??zt(Pa);return Ic(y)?(rd("NgAfterRender"),vf(s,y,!1,f?.phase??id.MixedReadWrite)):IC}function kC(s,f){!f&&Na();const y=f?.injector??zt(Pa);return Ic(y)?(rd("NgAfterNextRender"),vf(s,y,!0,f?.phase??id.MixedReadWrite)):IC}function vf(s,f,y,I){const H=function EO(s,f){if(s instanceof Function)switch(f){case id.EarlyRead:return{earlyRead:s};case id.Write:return{write:s};case id.MixedReadWrite:return{mixedReadWrite:s};case id.Read:return{read:s}}return s}(s,I),oe=f.get(u1),be=oe.handler??=new MO,Ce=[],Ke=[],dt=()=>{for(const on of Ke)be.unregister(on);_t()},_t=f.get(Sv).onDestroy(dt),jt=(on,an)=>{if(!an)return;const En=y?(...dr)=>{dt(),an(...dr)}:an,Un=zT(f,()=>new xO(on,Ce,En));be.register(Un),Ke.push(Un)};return jt(id.EarlyRead,H.earlyRead),jt(id.Write,H.write),jt(id.MixedReadWrite,H.mixedReadWrite),jt(id.Read,H.read),{destroy:dt}}class xO{constructor(f,y,I){this.phase=f,this.pipelinedArgs=y,this.callbackFn=I,this.zone=zt(Is),this.errorHandler=zt(Tu,{optional:!0}),zt(Ay,{optional:!0})?.notify(6)}invoke(){try{const f=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,f)}catch(f){this.errorHandler?.handleError(f)}}}class MO{constructor(){this.executingCallbacks=!1,this.buckets={[id.EarlyRead]:new Set,[id.Write]:new Set,[id.MixedReadWrite]:new Set,[id.Read]:new Set},this.deferredCallbacks=new Set}register(f){(this.executingCallbacks?this.deferredCallbacks:this.buckets[f.phase]).add(f)}unregister(f){this.buckets[f.phase].delete(f),this.deferredCallbacks.delete(f)}execute(){this.executingCallbacks=!0;for(const f of Object.values(this.buckets))for(const y of f)y.invoke();this.executingCallbacks=!1;for(const f of this.deferredCallbacks)this.buckets[f.phase].add(f);this.deferredCallbacks.clear()}destroy(){for(const f of Object.values(this.buckets))f.clear();this.deferredCallbacks.clear()}}let u1=(()=>{class s{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const y=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const I of y)I()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Yi({token:s,providedIn:"root",factory:()=>new s})}return s})();function pp(s){return!!vn(s)}function h1(s,f,y){let I=y?s.styles:null,H=y?s.classes:null,oe=0;if(null!==f)for(let be=0;be<f.length;be++){const Ce=f[be];"number"==typeof Ce?oe=Ce:1==oe?H=Bl(H,Ce):2==oe&&(I=Bl(I,Ce+": "+f[++be]+";"))}y?s.styles=I:s.stylesWithoutHost=I,y?s.classes=H:s.classesWithoutHost=H}class RC extends pb{constructor(f){super(),this.ngModule=f}resolveComponentFactory(f){const y=gt(f);return new gb(y,this.ngModule)}}function BC(s,f){const y=[];for(const I in s){if(!s.hasOwnProperty(I))continue;const H=s[I];if(void 0===H)continue;const oe=Array.isArray(H),be=oe?H[0]:H;y.push(f?{propName:be,templateName:I,isSignal:!!((oe?H[1]:Ll.None)&Ll.SignalBased)}:{propName:be,templateName:I})}return y}class gb extends _C{get inputs(){const f=this.componentDef,y=f.inputTransforms,I=BC(f.inputs,!0);if(null!==y)for(const H of I)y.hasOwnProperty(H.propName)&&(H.transform=y[H.propName]);return I}get outputs(){return BC(this.componentDef.outputs,!1)}constructor(f,y){super(),this.componentDef=f,this.ngModule=y,this.componentType=f.type,this.selector=function _k(s){return s.map(LT).join(",")}(f.selectors),this.ngContentSelectors=f.ngContentSelectors?f.ngContentSelectors:[],this.isBoundToModule=!!y}create(f,y,I,H){const oe=R(null);try{let be=(H=H||this.ngModule)instanceof Fl?H:H?.injector;be&&null!==this.componentDef.getStandaloneInjector&&(be=this.componentDef.getStandaloneInjector(be)||be);const Ce=be?new pf(f,be):f,Ke=Ce.get(mM,null);if(null===Ke)throw new mr(407,!1);const dt=Ce.get(mO,null),on={rendererFactory:Ke,sanitizer:dt,inlineEffectRunner:null,afterRenderEventManager:Ce.get(u1,null),changeDetectionScheduler:Ce.get(Ay,null)},an=Ke.createRenderer(null,this.componentDef),En=this.componentDef.selectors[0][0]||"div",Un=I?function vP(s,f,y,I){const oe=I.get(O_,!1)||y===vu.ShadowDom,be=s.selectRootElement(f,oe);return function bP(s){Vx(s)}(be),be}(an,I,this.componentDef.encapsulation,Ce):$_(an,En,function NC(s){const f=s.toLowerCase();return"svg"===f?n_:"math"===f?"math":null}(En));let dr=512;this.componentDef.signals?dr|=4096:this.componentDef.onPush||(dr|=16);let Er=null;null!==Un&&(Er=ux(Un,Ce,!0));const Kn=$x(0,null,null,1,0,null,null,null,null,null,null),gr=wm(null,Kn,null,dr,null,null,on,an,Ce,null,Er);let Gi,Sr;R2(gr);try{const Fo=this.componentDef;let hl,Dg=null;Fo.findHostDirectiveDefs?(hl=[],Dg=new Map,Fo.findHostDirectiveDefs(Fo,hl,Dg),hl.push(Fo)):hl=[Fo];const BA=function DO(s,f){const y=s[fr],I=qr;return s[I]=f,Eh(y,I,2,"#host",null)}(gr,Un),NA=function UC(s,f,y,I,H,oe,be){const Ce=H[fr];!function IO(s,f,y,I){for(const H of s)f.mergedAttrs=cv(f.mergedAttrs,H.hostAttrs);null!==f.mergedAttrs&&(h1(f,f.mergedAttrs,!0),null!==y&&RI(I,y,f))}(I,s,f,be);let Ke=null;null!==f&&(Ke=ux(f,H[Fa]));const dt=oe.rendererFactory.createRenderer(f,y);let _t=16;y.signals?_t=4096:y.onPush&&(_t=64);const jt=wm(H,Kx(y),null,_t,H[s.index],s,oe,dt,null,null,Ke);return Ce.firstCreatePass&&X_(Ce,s,I.length-1),hy(H,jt),H[s.index]=jt}(BA,Un,Fo,hl,gr,on,an);Sr=V0(Kn,qr),Un&&function LC(s,f,y,I){if(I)ch(s,y,["ng-version","18.1.0"]);else{const{attrs:H,classes:oe}=function Ek(s){const f=[],y=[];let I=1,H=2;for(;I<s.length;){let oe=s[I];if("string"==typeof oe)2===H?""!==oe&&f.push(oe,s[++I]):8===H&&y.push(oe);else{if(!wl(H))break;H=oe}I++}return{attrs:f,classes:y}}(f.selectors[0]);H&&ch(s,y,H),oe&&oe.length>0&&OI(s,y,oe.join(" "))}}(an,Fo,Un,I),void 0!==y&&function _M(s,f,y){const I=s.projection=[];for(let H=0;H<f.length;H++){const oe=y[H];I.push(null!=oe?Array.from(oe):null)}}(Sr,this.ngContentSelectors,y),Gi=function CO(s,f,y,I,H,oe){const be=ko(),Ce=H[fr],Ke=ol(be,H);fy(Ce,H,be,y,null,I);for(let _t=0;_t<y.length;_t++)Gs(um(H,Ce,be.directiveStart+_t,be),H);Hx(Ce,H,be),Ke&&Gs(Ke,H);const dt=um(H,Ce,be.directiveStart+be.componentOffset,be);if(s[Ts]=H[Ts]=dt,null!==oe)for(const _t of oe)_t(dt,f);return Fx(Ce,be,H),dt}(NA,Fo,hl,Dg,gr,[kO]),tb(Kn,gr,null)}finally{B2()}return new TO(this.componentType,Gi,Z0(Sr,gr),gr,Sr)}finally{R(oe)}}}class TO extends uO{constructor(f,y,I,H,oe){super(),this.location=I,this._rootLView=H,this._tNode=oe,this.previousInputValues=null,this.instance=y,this.hostView=this.changeDetectorRef=new ib(H,void 0,!1),this.componentType=f}setInput(f,y){const I=this._tNode.inputs;let H;if(null!==I&&(H=I[f])){if(this.previousInputValues??=new Map,this.previousInputValues.has(f)&&Object.is(this.previousInputValues.get(f),y))return;const oe=this._rootLView;Xx(oe[fr],oe,H,f,y),this.previousInputValues.set(f,y),rb(sl(this._tNode.index,oe),1)}}get injector(){return new ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(f){this.hostView.onDestroy(f)}}function kO(){const s=ko();G0(Ln()[fr],s)}let p1=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=PO}return s})();function PO(){return KC(ko(),Ln())}const OO=p1,FC=class extends OO{constructor(f,y,I){super(),this._lContainer=f,this._hostTNode=y,this._hostLView=I}get element(){return Z0(this._hostTNode,this._hostLView)}get injector(){return new ka(this._hostTNode,this._hostLView)}get parentInjector(){const f=h_(this._hostTNode,this._hostLView);if($2(f)){const y=xv(f,this._hostLView),I=Ev(f);return new ka(y[fr].data[I+8],y)}return new ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(f){const y=jC(this._lContainer);return null!==y&&y[f]||null}get length(){return this._lContainer.length-ta}createEmbeddedView(f,y,I){let H,oe;"number"==typeof I?H=I:null!=I&&(H=I.index,oe=I.injector);const be=Sy(this._lContainer,f.ssrId),Ce=f.createEmbeddedViewImpl(y||{},oe,be);return this.insertImpl(Ce,H,yy(this._hostTNode,be)),Ce}createComponent(f,y,I,H,oe){const be=f&&!function uv(s){return"function"==typeof s}(f);let Ce;if(be)Ce=y;else{const En=y||{};Ce=En.index,I=En.injector,H=En.projectableNodes,oe=En.environmentInjector||En.ngModuleRef}const Ke=be?f:new gb(gt(f)),dt=I||this.parentInjector;if(!oe&&null==Ke.ngModule){const Un=(be?dt:this.parentInjector).get(Fl,null);Un&&(oe=Un)}const _t=gt(Ke.componentType??{}),jt=Sy(this._lContainer,_t?.id??null),an=Ke.create(dt,H,jt?.firstChild??null,oe);return this.insertImpl(an.hostView,Ce,yy(this._hostTNode,jt)),an}insert(f,y){return this.insertImpl(f,y,!0)}insertImpl(f,y,I){const H=f._lView;if(function eD(s){return Ac(s[ba])}(H)){const Ce=this.indexOf(f);if(-1!==Ce)this.detach(Ce);else{const Ke=H[ba],dt=new FC(Ke,Ke[Zc],Ke[ba]);dt.detach(dt.indexOf(f))}}const oe=this._adjustIndex(y),be=this._lContainer;return Cd(be,H,oe,I),f.attachToViewContainerRef(),Sd(EM(be),oe,f),f}move(f,y){return this.insert(f,y)}indexOf(f){const y=jC(this._lContainer);return null!==y?y.indexOf(f):-1}remove(f){const y=this._adjustIndex(f,-1),I=Yv(this._lContainer,y);I&&(tl(EM(this._lContainer),y),zl(I[fr],I))}detach(f){const y=this._adjustIndex(f,-1),I=Yv(this._lContainer,y);return I&&null!=tl(EM(this._lContainer),y)?new ib(I):null}_adjustIndex(f,y=0){return f??this.length+y}};function jC(s){return s[8]}function EM(s){return s[8]||(s[8]=[])}function KC(s,f){let y;const I=f[s.index];return Ac(I)?y=I:(y=zI(I,f,null,s),f[s.index]=y,hy(f,y)),$C(y,f,s,I),new FC(y,s,f)}let $C=function vb(s,f,y,I){if(s[fh])return;let H;H=8&y.type?To(I):function RO(s,f){const y=s[ci],I=y.createComment(""),H=ol(f,s);return vm(y,V_(y,H),I,function hP(s,f){return s.nextSibling(f)}(y,H),!1),I}(f,y),s[fh]=H},xM=()=>!1;class Dy{constructor(f){this.queryList=f,this.matches=null}clone(){return new Dy(this.queryList)}setDirty(){this.queryList.setDirty()}}class SM{constructor(f=[]){this.queries=f}createEmbeddedView(f){const y=f.queries;if(null!==y){const I=null!==f.contentQueries?f.contentQueries[0]:y.length,H=[];for(let oe=0;oe<I;oe++){const be=y.getByIndex(oe);H.push(this.queries[be.indexInDeclarationView].clone())}return new SM(H)}return null}insertView(f){this.dirtyQueriesWithMatches(f)}detachView(f){this.dirtyQueriesWithMatches(f)}finishViewCreation(f){this.dirtyQueriesWithMatches(f)}dirtyQueriesWithMatches(f){for(let y=0;y<this.queries.length;y++)null!==wb(f,y).matches&&this.queries[y].setDirty()}}class zC{constructor(f,y,I=null){this.flags=y,this.read=I,this.predicate="string"==typeof f?function v9(s){return s.split(",").map(f=>f.trim())}(f):f}}class bb{constructor(f=[]){this.queries=f}elementStart(f,y){for(let I=0;I<this.queries.length;I++)this.queries[I].elementStart(f,y)}elementEnd(f){for(let y=0;y<this.queries.length;y++)this.queries[y].elementEnd(f)}embeddedTView(f){let y=null;for(let I=0;I<this.length;I++){const H=null!==y?y.length:0,oe=this.getByIndex(I).embeddedTView(f,H);oe&&(oe.indexInDeclarationView=I,null!==y?y.push(oe):y=[oe])}return null!==y?new bb(y):null}template(f,y){for(let I=0;I<this.queries.length;I++)this.queries[I].template(f,y)}getByIndex(f){return this.queries[f]}get length(){return this.queries.length}track(f){this.queries.push(f)}}class g1{constructor(f,y=-1){this.metadata=f,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=y}elementStart(f,y){this.isApplyingToNode(y)&&this.matchTNode(f,y)}elementEnd(f){this._declarationNodeIndex===f.index&&(this._appliesToNextNode=!1)}template(f,y){this.elementStart(f,y)}embeddedTView(f,y){return this.isApplyingToNode(f)?(this.crossesNgTemplate=!0,this.addMatch(-f.index,y),new g1(this.metadata)):null}isApplyingToNode(f){if(this._appliesToNextNode&&1&~this.metadata.flags){const y=this._declarationNodeIndex;let I=f.parent;for(;null!==I&&8&I.type&&I.index!==y;)I=I.parent;return y===(null!==I?I.index:-1)}return this._appliesToNextNode}matchTNode(f,y){const I=this.metadata.predicate;if(Array.isArray(I))for(let H=0;H<I.length;H++){const oe=I[H];this.matchTNodeWithReadOption(f,y,BO(y,oe)),this.matchTNodeWithReadOption(f,y,W2(y,f,oe,!1,!1))}else I===ob?4&y.type&&this.matchTNodeWithReadOption(f,y,-1):this.matchTNodeWithReadOption(f,y,W2(y,f,I,!1,!1))}matchTNodeWithReadOption(f,y,I){if(null!==I){const H=this.metadata.read;if(null!==H)if(H===Av||H===p1||H===ob&&4&y.type)this.addMatch(y.index,-2);else{const oe=W2(y,f,H,!1,!1);null!==oe&&this.addMatch(y.index,oe)}else this.addMatch(y.index,I)}}addMatch(f,y){null===this.matches?this.matches=[f,y]:this.matches.push(f,y)}}function BO(s,f){const y=s.localNames;if(null!==y)for(let I=0;I<y.length;I+=2)if(y[I]===f)return y[I+1];return null}function NO(s,f,y,I){return-1===y?function HC(s,f){return 11&s.type?Z0(s,f):4&s.type?J_(s,f):null}(f,s):-2===y?function UO(s,f,y){return y===Av?Z0(f,s):y===ob?J_(f,s):y===p1?KC(f,s):void 0}(s,f,I):um(s,s[fr],y,f)}function AM(s,f,y,I){const H=f[ip].queries[I];if(null===H.matches){const oe=s.data,be=y.matches,Ce=[];for(let Ke=0;null!==be&&Ke<be.length;Ke+=2){const dt=be[Ke];Ce.push(dt<0?null:NO(f,oe[dt],be[Ke+1],y.metadata.read))}H.matches=Ce}return H.matches}function TM(s,f,y,I){const H=s.queries.getByIndex(y),oe=H.matches;if(null!==oe){const be=AM(s,f,H,y);for(let Ce=0;Ce<oe.length;Ce+=2){const Ke=oe[Ce];if(Ke>0)I.push(be[Ce/2]);else{const dt=oe[Ce+1],_t=f[-Ke];for(let jt=ta;jt<_t.length;jt++){const on=_t[jt];on[ja]===on[ba]&&TM(on[fr],on,dt,I)}if(null!==_t[wu]){const jt=_t[wu];for(let on=0;on<jt.length;on++){const an=jt[on];TM(an[fr],an,dt,I)}}}}}return I}function v1(s,f){return s[ip].queries[f].queryList}function WC(s,f,y){const I=new ra(!(4&~y));return function _P(s,f,y,I){const H=WI(f);H.push(y),s.firstCreatePass&&eb(s).push(I,H.length-1)}(s,f,I,I.destroy),(f[ip]??=new SM).queries.push(new Dy(I))-1}function GC(s,f,y){const I=Ji();return I.firstCreatePass&&(LO(I,new zC(s,f,y),-1),!(2&~f)&&(I.staticViewQueries=!0)),WC(I,Ln(),f)}function b1(s,f,y,I){const H=Ji();if(H.firstCreatePass){const oe=ko();LO(H,new zC(f,y,I),oe.index),function XC(s,f){const y=s.contentQueries||(s.contentQueries=[]);f!==(y.length?y[y.length-1]:-1)&&y.push(s.queries.length-1,f)}(H,s),!(2&~y)&&(H.staticContentQueries=!0)}return WC(H,Ln(),y)}function LO(s,f,y){null===s.queries&&(s.queries=new bb),s.queries.track(new g1(f,y))}function wb(s,f){return s.queries.getByIndex(f)}function ac(s,f){const y=s[fr],I=wb(y,f);return I.crossesNgTemplate?TM(y,s,f,[]):AM(y,s,I,f)}function DM(s){return"function"==typeof s&&void 0!==s[_]}function Iy(s,f){rd("NgSignals");const y=function v(s){const f=Object.create(Ie);f.value=s;const y=()=>(C(f),f.value);return y[_]=f,y}(s),I=y[_];return f?.equal&&(I.equal=f.equal),y.set=H=>Q(I,H),y.update=H=>function de(s,f){te()||B(),Q(s,f(s.value))}(I,H),y.asReadonly=YC.bind(y),y}function YC(){const s=this[_];if(void 0===s.readonlyFn){const f=()=>this();f[_]=s,s.readonlyFn=f}return s.readonlyFn}function IM(s){return DM(s)&&"function"==typeof s.set}function CM(s,f){let y;const I=k(()=>{y._dirtyCounter();const H=function ZC(s,f){const y=s._lView,I=s._queryIndex;if(void 0===y||void 0===I||4&y[ai])return f?void 0:bo;const H=v1(y,I),oe=ac(y,I);return H.reset(oe,y_),f?H.first:H._changesDetected||void 0===s._flatValue?s._flatValue=H.toArray():s._flatValue}(y,s);if(f&&void 0===H)throw new mr(-951,!1);return H});return y=I[_],y._dirtyCounter=Iy(0),y._flatValue=void 0,I}function kM(){return CM(!0,!1)}function FO(){return CM(!0,!0)}function KO(s,f){const y=s[_];y._lView=Ln(),y._queryIndex=f,y._queryList=v1(y._lView,f),y._queryList.onDirty(()=>y._dirtyCounter.update(I=>I+1))}function PM(s,f){return kM()}const OM=(PM.required=function JC(s,f){return FO()},PM);function qC(s,f){return kM()}const El=(qC.required=function $O(s,f){return FO()},qC);function QC(s){const f=Object.create(Nr),y=new kD;function I(){return C(f),e3(f.value),f.value}return f.value=s,I[_]=f,I.asReadonly=YC.bind(I),I.set=H=>{f.equal(f.value,H)||(Q(f,H),y.emit(H))},I.update=H=>{e3(f.value),I.set(H(f.value))},I.subscribe=y.subscribe.bind(y),I.destroyRef=y.destroyRef,I}function e3(s){if(s===Qi)throw new mr(952,!1)}function RM(s){return QC(s)}const E9=(RM.required=function BM(){return QC(Qi)},RM);function Eb(s){let f=function KM(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),y=!0;const I=[s];for(;f;){let H;if(_u(s))H=f.\u0275cmp||f.\u0275dir;else{if(f.\u0275cmp)throw new mr(903,!1);H=f.\u0275dir}if(H){if(y){I.push(H);const be=s;be.inputs=ky(s.inputs),be.inputTransforms=ky(s.inputTransforms),be.declaredInputs=ky(s.declaredInputs),be.outputs=ky(s.outputs);const Ce=H.hostBindings;Ce&&k9(s,Ce);const Ke=H.viewQuery,dt=H.contentQueries;if(Ke&&s3(s,Ke),dt&&$M(s,dt),GO(s,H),Qu(s.outputs,H.outputs),_u(H)&&H.data.animation){const _t=s.data;_t.animation=(_t.animation||[]).concat(H.data.animation)}}const oe=H.features;if(oe)for(let be=0;be<oe.length;be++){const Ce=oe[be];Ce&&Ce.ngInherit&&Ce(s),Ce===Eb&&(y=!1)}}f=Object.getPrototypeOf(f)}!function xb(s){let f=0,y=null;for(let I=s.length-1;I>=0;I--){const H=s[I];H.hostVars=f+=H.hostVars,H.hostAttrs=cv(H.hostAttrs,y=cv(y,H.hostAttrs))}}(I)}function GO(s,f){for(const y in f.inputs){if(!f.inputs.hasOwnProperty(y)||s.inputs.hasOwnProperty(y))continue;const I=f.inputs[y];if(void 0!==I&&(s.inputs[y]=I,s.declaredInputs[y]=f.declaredInputs[y],null!==f.inputTransforms)){const H=Array.isArray(I)?I[0]:I;if(!f.inputTransforms.hasOwnProperty(H))continue;s.inputTransforms??={},s.inputTransforms[H]=f.inputTransforms[H]}}}function ky(s){return s===Ad?{}:s===bo?[]:s}function s3(s,f){const y=s.viewQuery;s.viewQuery=y?(I,H)=>{f(I,H),y(I,H)}:f}function $M(s,f){const y=s.contentQueries;s.contentQueries=y?(I,H,oe)=>{f(I,H,oe),y(I,H,oe)}:f}function k9(s,f){const y=s.hostBindings;s.hostBindings=y?(I,H)=>{f(I,H),y(I,H)}:f}function XO(s){const f=y=>{const I=(Array.isArray(s)?s:s()).map(H=>"function"==typeof H?{directive:bt(H),inputs:Ad,outputs:Ad}:{directive:bt(H.directive),inputs:_1(H.inputs),outputs:_1(H.outputs)});null===y.hostDirectives?(y.findHostDirectiveDefs=w1,y.hostDirectives=I):y.hostDirectives.unshift(...I)};return f.ngInherit=!0,f}function w1(s,f,y){if(null!==s.hostDirectives)for(const I of s.hostDirectives){const H=Pt(I.directive);a3(H.declaredInputs,I.inputs),w1(H,f,y),y.set(H,I),f.push(H)}}function _1(s){if(void 0===s||0===s.length)return Ad;const f={};for(let y=0;y<s.length;y+=2)f[s[y]]=s[y+1];return f}function a3(s,f){for(const y in f)f.hasOwnProperty(y)&&(s[f[y]]=s[y])}function cc(s){const f=s.inputConfig,y={};for(const I in f)if(f.hasOwnProperty(I)){const H=f[I];Array.isArray(H)&&H[3]&&(y[I]=H[3])}s.inputTransforms=y}class yp{}class Py{}function Mb(s,f){return new Sm(s,f??null,[])}class Sm extends yp{constructor(f,y,I){super(),this._parent=y,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new RC(this);const H=vn(f);this._bootstrapComponents=_l(H.bootstrap),this._r3Injector=TD(f,y,[{provide:yp,useValue:this},{provide:pb,useValue:this.componentFactoryResolver},...I],vs(f),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(f)}get injector(){return this._r3Injector}destroy(){const f=this._r3Injector;!f.destroyed&&f.destroy(),this.destroyCbs.forEach(y=>y()),this.destroyCbs=null}onDestroy(f){this.destroyCbs.push(f)}}class Sb extends Py{constructor(f){super(),this.moduleType=f}create(f){return new Sm(this.moduleType,f,[])}}class Oy extends yp{constructor(f){super(),this.componentFactoryResolver=new RC(this),this.instance=null;const y=new F0([...f.providers,{provide:yp,useValue:this},{provide:pb,useValue:this.componentFactoryResolver}],f.parent||af(),f.debugName,new Set(["environment"]));this.injector=y,f.runEnvironmentInitializers&&y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(f){this.injector.onDestroy(f)}}function Sh(s,f,y=null){return new Oy({providers:s,parent:f,debugName:y,runEnvironmentInitializers:!0}).injector}function Am(s){return!!Ab(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Ab(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function bf(s,f,y){return s[f]=y}function zo(s,f,y){return!Object.is(s[f],y)&&(s[f]=y,!0)}function cr(s,f,y,I){const H=zo(s,f,y);return zo(s,f+1,I)||H}function $a(s,f,y,I,H,oe,be,Ce,Ke,dt){const _t=y+qr,jt=f.firstCreatePass?function ZO(s,f,y,I,H,oe,be,Ce,Ke){const dt=f.consts,_t=Eh(f,s,4,be||null,Ce||null);zx(f,y,_t,Bi(dt,Ke)),G0(f,_t);const jt=_t.tView=$x(2,_t,I,H,oe,f.directiveRegistry,f.pipeRegistry,null,f.schemas,dt,null);return null!==f.queries&&(f.queries.template(f,_t),jt.queries=f.queries.embeddedTView(_t)),_t}(_t,f,s,I,H,oe,be,Ce,Ke):f.data[_t];xu(jt,!1);const on=Ei(f,s,jt,y);qc()&&z_(f,s,on,jt),Gs(on,s);const an=zI(on,s,on,jt);return s[_t]=an,hy(s,an),function VC(s,f,y){return xM(s,f,y)}(an,jt,s),Ws(jt)&&jx(f,s,jt),null!=Ke&&qv(s,jt,dt),jt}function GM(s,f,y,I,H,oe,be,Ce){const Ke=Ln(),dt=Ji();return $a(Ke,dt,s,f,y,I,H,Bi(dt.consts,oe),be,Ce),GM}let Ei=function Vr(s,f,y,I){return Ca(!0),f[ci].createComment("")};function nS(s,f,y,I){const H=Ln();return zo(H,Mu(),f)&&(Ji(),yf(ws(),H,s,f,y,I)),nS}function Ly(s,f,y,I){return zo(s,Mu(),y)?f+Di(y)+I:ji}function Ys(s,f,y,I,H,oe){const Ce=cr(s,function gh(){return Pi.lFrame.bindingIndex}(),y,H);return Su(2),Ce?f+Di(y)+I+Di(H)+oe:ji}function Th(s,f){return s<<17|f<<2}function Nu(s){return s>>17&32767}function sS(s){return 2|s}function wp(s){return(131068&s)>>2}function D1(s,f){return-131069&s|f<<2}function Rd(s){return 1|s}function Fs(s,f,y,I){const H=s[y+1],oe=null===f;let be=I?Nu(H):wp(H),Ce=!1;for(;0!==be&&(!1===Ce||oe);){const dt=s[be+1];ll(s[be],f)&&(Ce=!0,s[be+1]=I?Rd(dt):sS(dt)),be=I?Nu(dt):wp(dt)}Ce&&(s[y+1]=I?sS(H):Rd(H))}function ll(s,f){return null===s||null==f||(Array.isArray(s)?s[1]:s)===f||!(!Array.isArray(s)||"string"!=typeof f)&&gu(s,f)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qi(s){return s.substring(yo.key,yo.keyEnd)}function Cs(s,f){const y=yo.textEnd;return y===f?-1:(f=yo.keyEnd=function i4(s,f,y){for(;f<y&&s.charCodeAt(f)>32;)f++;return f}(s,yo.key=f,y),km(s,f,y))}function km(s,f,y){for(;f<y&&s.charCodeAt(f)<=32;)f++;return f}function C1(s,f,y){const I=Ln();return zo(I,Mu(),f)&&nd(Ji(),ws(),I,s,f,I[ci],y,!1),C1}function k1(s,f,y,I,H){const be=H?"class":"style";Xx(s,y,f.inputs[be],be,I)}function P1(s,f,y){return di(s,f,y,!1),P1}function _p(s,f){return di(s,f,null,!0),_p}function ds(s){ho(dS,go,s,!0)}function go(s,f){for(let y=function xa(s){return function Yl(s){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=s.length}(s),Cs(s,km(s,0,yo.textEnd))}(f);y>=0;y=Cs(f,y))nc(s,qi(f),!0)}function di(s,f,y,I){const H=Ln(),oe=Ji(),be=Su(2);oe.firstUpdatePass&&to(oe,s,be,I),f!==ji&&zo(H,be,f)&&Rb(oe,oe.data[Tc()],H,H[ci],s,H[be+1]=function js(s,f){return null==s||""===s||("string"==typeof f?s+=f:"object"==typeof s&&(s=vs(_h(s)))),s}(f,y),I,be)}function ho(s,f,y,I){const H=Ji(),oe=Su(2);H.firstUpdatePass&&to(H,null,oe,I);const be=Ln();if(y!==ji&&zo(be,oe,y)){const Ce=H.data[Tc()];if(Om(Ce,I)&&!wi(H,oe)){let Ke=I?Ce.classesWithoutHost:Ce.stylesWithoutHost;null!==Ke&&(y=Bl(Ke,y||"")),k1(H,Ce,be,y,I)}else!function c4(s,f,y,I,H,oe,be,Ce){H===ji&&(H=bo);let Ke=0,dt=0,_t=0<H.length?H[0]:null,jt=0<oe.length?oe[0]:null;for(;null!==_t||null!==jt;){const on=Ke<H.length?H[Ke+1]:void 0,an=dt<oe.length?oe[dt+1]:void 0;let Un,En=null;_t===jt?(Ke+=2,dt+=2,on!==an&&(En=jt,Un=an)):null===jt||null!==_t&&_t<jt?(Ke+=2,En=_t):(dt+=2,En=jt,Un=an),null!==En&&Rb(s,f,y,I,En,Un,be,Ce),_t=Ke<H.length?H[Ke]:null,jt=dt<oe.length?oe[dt]:null}}(H,Ce,be,be[ci],be[oe+1],be[oe+1]=function Ef(s,f,y){if(null==y||""===y)return bo;const I=[],H=_h(y);if(Array.isArray(H))for(let oe=0;oe<H.length;oe++)s(I,H[oe],!0);else if("object"==typeof H)for(const oe in H)H.hasOwnProperty(oe)&&s(I,oe,H[oe]);else"string"==typeof H&&f(I,H);return I}(s,f,y),I,oe)}}function wi(s,f){return f>=s.expandoStartIndex}function to(s,f,y,I){const H=s.data;if(null===H[y+1]){const oe=H[Tc()],be=wi(s,y);Om(oe,I)&&null===f&&!be&&(f=!1),f=function Ma(s,f,y,I){const H=P2(s);let oe=I?f.residualClasses:f.residualStyles;if(null===H)0===(I?f.classBindings:f.styleBindings)&&(y=Pm(y=Ob(null,s,f,y,I),f.attrs,I),oe=null);else{const be=f.directiveStylingLast;if(-1===be||s[be]!==H)if(y=Ob(H,s,f,y,I),null===oe){let Ke=function Pr(s,f,y){const I=y?f.classBindings:f.styleBindings;if(0!==wp(I))return s[Nu(I)]}(s,f,I);void 0!==Ke&&Array.isArray(Ke)&&(Ke=Ob(null,s,f,Ke[1],I),Ke=Pm(Ke,f.attrs,I),function zy(s,f,y,I){s[Nu(y?f.classBindings:f.styleBindings)]=I}(s,f,I,Ke))}else oe=function a4(s,f,y){let I;const H=f.directiveEnd;for(let oe=1+f.directiveStylingLast;oe<H;oe++)I=Pm(I,s[oe].hostAttrs,y);return Pm(I,f.attrs,y)}(s,f,I)}return void 0!==oe&&(I?f.residualClasses=oe:f.residualStyles=oe),y}(H,oe,f,I),function Qo(s,f,y,I,H,oe){let be=oe?f.classBindings:f.styleBindings,Ce=Nu(be),Ke=wp(be);s[I]=y;let _t,dt=!1;if(Array.isArray(y)?(_t=y[1],(null===_t||gu(y,_t)>0)&&(dt=!0)):_t=y,H)if(0!==Ke){const on=Nu(s[Ce+1]);s[I+1]=Th(on,Ce),0!==on&&(s[on+1]=D1(s[on+1],I)),s[Ce+1]=function $y(s,f){return 131071&s|f<<17}(s[Ce+1],I)}else s[I+1]=Th(Ce,0),0!==Ce&&(s[Ce+1]=D1(s[Ce+1],I)),Ce=I;else s[I+1]=Th(Ke,0),0===Ce?Ce=I:s[Ke+1]=D1(s[Ke+1],I),Ke=I;dt&&(s[I+1]=sS(s[I+1])),Fs(s,_t,I,!0),Fs(s,_t,I,!1),function Vy(s,f,y,I,H){const oe=H?s.residualClasses:s.residualStyles;null!=oe&&"string"==typeof f&&gu(oe,f)>=0&&(y[I+1]=Rd(y[I+1]))}(f,_t,s,I,oe),be=Th(Ce,Ke),oe?f.classBindings=be:f.styleBindings=be}(H,oe,f,y,be,I)}}function Ob(s,f,y,I,H){let oe=null;const be=y.directiveEnd;let Ce=y.directiveStylingLast;for(-1===Ce?Ce=y.directiveStart:Ce++;Ce<be&&(oe=f[Ce],I=Pm(I,oe.hostAttrs,H),oe!==s);)Ce++;return null!==s&&(y.directiveStylingLast=Ce),I}function Pm(s,f,y){const I=y?1:2;let H=-1;if(null!==f)for(let oe=0;oe<f.length;oe++){const be=f[oe];"number"==typeof be?H=be:H===I&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nc(s,be,!!y||f[++oe]))}return void 0===s?null:s}function dS(s,f,y){const I=String(f);""!==I&&!I.includes(" ")&&nc(s,I,y)}function Rb(s,f,y,I,H,oe,be,Ce){if(!(3&f.type))return;const Ke=s.data,dt=Ke[Ce+1],_t=function r4(s){return!(1&~s)}(dt)?Bb(Ke,f,y,H,wp(dt),be):void 0;xf(_t)||(xf(oe)||function T1(s){return!(2&~s)}(dt)&&(oe=Bb(Ke,null,y,H,Ce,be)),function mP(s,f,y,I,H){if(f)H?s.addClass(y,I):s.removeClass(y,I);else{let oe=-1===I.indexOf("-")?void 0:Xv.DashCase;null==H?s.removeStyle(y,I,oe):("string"==typeof H&&H.endsWith("!important")&&(H=H.slice(0,-10),oe|=Xv.Important),s.setStyle(y,I,H,oe))}}(I,be,r_(Tc(),y),H,oe))}function Bb(s,f,y,I,H,oe){const be=null===f;let Ce;for(;H>0;){const Ke=s[H],dt=Array.isArray(Ke),_t=dt?Ke[1]:Ke,jt=null===_t;let on=y[H+1];on===ji&&(on=jt?bo:void 0);let an=jt?O0(on,I):_t===I?on:void 0;if(dt&&!xf(an)&&(an=O0(Ke,I)),xf(an)&&(Ce=an,be))return Ce;const En=s[H+1];H=be?Nu(En):wp(En)}if(null!==f){let Ke=oe?f.residualClasses:f.residualStyles;null!=Ke&&(Ce=O0(Ke,I))}return Ce}function xf(s){return void 0!==s}function Om(s,f){return!!(s.flags&(f?8:16))}function Zl(s,f,y){ho(nc,go,Ly(Ln(),s,f,y),!0)}class lS{destroy(f){}updateValue(f,y){}swap(f,y){const I=Math.min(f,y),H=Math.max(f,y),oe=this.detach(H);if(H-I>1){const be=this.detach(I);this.attach(I,oe),this.attach(H,be)}else this.attach(I,oe)}move(f,y){this.attach(y,this.detach(f))}}function Dh(s,f,y,I,H){return s===y&&Object.is(f,I)?1:Object.is(H(s,f),H(y,I))?-1:0}function po(s,f,y,I){return!(void 0===f||!f.has(I)||(s.attach(y,f.get(I)),f.delete(I),0))}function Gy(s,f,y,I,H){if(po(s,f,I,y(I,H)))s.updateValue(I,H);else{const oe=s.create(I,H);s.attach(I,oe)}}function Ep(s,f,y,I){const H=new Set;for(let oe=f;oe<=y;oe++)H.add(I(oe,s.at(oe)));return H}class Bm{constructor(){this.kvMap=new Map,this._vMap=void 0}has(f){return this.kvMap.has(f)}delete(f){if(!this.has(f))return!1;const y=this.kvMap.get(f);return void 0!==this._vMap&&this._vMap.has(y)?(this.kvMap.set(f,this._vMap.get(y)),this._vMap.delete(y)):this.kvMap.delete(f),!0}get(f){return this.kvMap.get(f)}set(f,y){if(this.kvMap.has(f)){let I=this.kvMap.get(f);void 0===this._vMap&&(this._vMap=new Map);const H=this._vMap;for(;H.has(I);)I=H.get(I);H.set(I,y)}else this.kvMap.set(f,y)}forEach(f){for(let[y,I]of this.kvMap)if(f(I,y),void 0!==this._vMap){const H=this._vMap;for(;H.has(I);)I=H.get(I),f(I,y)}}}function Jl(s,f){rd("NgControlFlow");const y=Ln(),I=Mu(),H=y[I]!==ji?y[I]:-1,oe=-1!==H?Fb(y,qr+H):void 0;if(zo(y,I,s)){const Ce=R(null);try{if(void 0!==oe&&gy(oe,0),-1!==s){const Ke=qr+s,dt=Fb(y,Ke),_t=Nm(y[fr],Ke),jt=Sy(dt,_t.tView.ssrId);Cd(dt,my(y,_t,f,{dehydratedView:jt}),0,yy(_t,jt))}}finally{R(Ce)}}else if(void 0!==oe){const Ce=Z_(oe,0);void 0!==Ce&&(Ce[Ts]=f)}}class E3{constructor(f,y,I){this.lContainer=f,this.$implicit=y,this.$index=I}get $count(){return this.lContainer.length-ta}}function Mf(s){return s}function Xy(s,f){return f}class U1{constructor(f,y,I){this.hasEmptyBlock=f,this.trackByFn=y,this.liveCollection=I}}function Yy(s,f,y,I,H,oe,be,Ce,Ke,dt,_t,jt,on){rd("NgControlFlow");const an=Ln(),En=Ji(),Un=void 0!==Ke,dr=Ln(),Er=Ce?be.bind(dr[$o][Ts]):be,Kn=new U1(Un,Er);dr[qr+s]=Kn,$a(an,En,s+1,f,y,I,H,Bi(En.consts,oe)),Un&&$a(an,En,s+2,Ke,dt,_t,jt,Bi(En.consts,on))}class x3 extends lS{constructor(f,y,I){super(),this.lContainer=f,this.hostLView=y,this.templateTNode=I,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ta}at(f){return this.getLView(f)[Ts].$implicit}attach(f,y){const I=y[nl];this.needsIndexUpdate||=f!==this.length,Cd(this.lContainer,y,f,yy(this.templateTNode,I))}detach(f){return this.needsIndexUpdate||=f!==this.length-1,function jb(s,f){return Yv(s,f)}(this.lContainer,f)}create(f,y){const I=Sy(this.lContainer,this.templateTNode.tView.ssrId),H=my(this.hostLView,this.templateTNode,new E3(this.lContainer,y,f),{dehydratedView:I});return this.operationsCounter?.recordCreate(),H}destroy(f){zl(f[fr],f),this.operationsCounter?.recordDestroy()}updateValue(f,y){this.getLView(f)[Ts].$implicit=y}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let f=0;f<this.length;f++)this.getLView(f)[Ts].$index=f}getLView(f){return function M3(s,f){return Z_(s,f)}(this.lContainer,f)}}function sd(s){const f=R(null),y=Tc();try{const I=Ln(),H=I[fr],oe=I[y],be=y+1,Ce=Fb(I,be);if(void 0===oe.liveCollection){const dt=Nm(H,be);oe.liveCollection=new x3(Ce,I,dt)}else oe.liveCollection.reset();const Ke=oe.liveCollection;if(function N1(s,f,y){let I,H,oe=0,be=s.length-1;if(Array.isArray(f)){let Ke=f.length-1;for(;oe<=be&&oe<=Ke;){const dt=s.at(oe),_t=f[oe],jt=Dh(oe,dt,oe,_t,y);if(0!==jt){jt<0&&s.updateValue(oe,_t),oe++;continue}const on=s.at(be),an=f[Ke],En=Dh(be,on,Ke,an,y);if(0!==En){En<0&&s.updateValue(be,an),be--,Ke--;continue}const Un=y(oe,dt),dr=y(be,on),Er=y(oe,_t);if(Object.is(Er,dr)){const Kn=y(Ke,an);Object.is(Kn,Un)?(s.swap(oe,be),s.updateValue(be,an),Ke--,be--):s.move(be,oe),s.updateValue(oe,_t),oe++}else if(I??=new Bm,H??=Ep(s,oe,be,y),po(s,I,oe,Er))s.updateValue(oe,_t),oe++,be++;else if(H.has(Er))I.set(Un,s.detach(oe)),be--;else{const Kn=s.create(oe,f[oe]);s.attach(oe,Kn),oe++,be++}}for(;oe<=Ke;)Gy(s,I,y,oe,f[oe]),oe++}else if(null!=f){const Ke=f[Symbol.iterator]();let dt=Ke.next();for(;!dt.done&&oe<=be;){const _t=s.at(oe),jt=dt.value,on=Dh(oe,_t,oe,jt,y);if(0!==on)on<0&&s.updateValue(oe,jt),oe++,dt=Ke.next();else{I??=new Bm,H??=Ep(s,oe,be,y);const an=y(oe,jt);if(po(s,I,oe,an))s.updateValue(oe,jt),oe++,be++,dt=Ke.next();else if(H.has(an)){const En=y(oe,_t);I.set(En,s.detach(oe)),be--}else s.attach(oe,s.create(oe,jt)),oe++,be++,dt=Ke.next()}}for(;!dt.done;)Gy(s,I,y,s.length,dt.value),dt=Ke.next()}for(;oe<=be;)s.destroy(s.detach(be--));I?.forEach(Ke=>{s.destroy(Ke)})}(Ke,s,oe.trackByFn),Ke.updateIndexes(),oe.hasEmptyBlock){const dt=Mu(),_t=0===Ke.length;if(zo(I,dt,_t)){const jt=y+2,on=Fb(I,jt);if(_t){const an=Nm(H,jt),En=Sy(on,an.tView.ssrId);Cd(on,my(I,an,void 0,{dehydratedView:En}),0,yy(an,En))}else gy(on,0)}}}finally{R(f)}}function Fb(s,f){return s[f]}function Nm(s,f){return V0(s,f)}function ca(s,f,y,I){const H=Ln(),oe=Ji(),be=qr+s,Ce=H[ci],Ke=oe.firstCreatePass?function S3(s,f,y,I,H,oe){const be=f.consts,Ke=Eh(f,s,2,I,Bi(be,H));return zx(f,y,Ke,Bi(be,oe)),null!==Ke.attrs&&h1(Ke,Ke.attrs,!1),null!==Ke.mergedAttrs&&h1(Ke,Ke.mergedAttrs,!0),null!==f.queries&&f.queries.elementStart(f,Ke),Ke}(be,oe,H,f,y,I):oe.data[be],dt=Ra(oe,H,Ke,Ce,f,s);H[be]=dt;const _t=Ws(Ke);return xu(Ke,!0),RI(Ce,dt,Ke),!function lc(s){return!(32&~s.flags)}(Ke)&&qc()&&z_(oe,H,dt,Ke),0===function Fk(){return Pi.lFrame.elementDepthCount}()&&Gs(dt,H),function jk(){Pi.lFrame.elementDepthCount++}(),_t&&(jx(oe,H,Ke),Fx(oe,Ke,H)),null!==I&&qv(H,Ke),ca}function Es(){let s=ko();I2()?C2():(s=s.parent,xu(s,!1));const f=s;(function $k(s){return Pi.skipHydrationRootTNode===s})(f)&&function zk(){Pi.skipHydrationRootTNode=null}(),function Kk(){Pi.lFrame.elementDepthCount--}();const y=Ji();return y.firstCreatePass&&(G0(y,s),yv(s)&&y.queries.elementEnd(s)),null!=f.classesWithoutHost&&function mD(s){return!!(8&s.flags)}(f)&&k1(y,f,Ln(),f.classesWithoutHost,!0),null!=f.stylesWithoutHost&&function j2(s){return!!(16&s.flags)}(f)&&k1(y,f,Ln(),f.stylesWithoutHost,!1),Es}function Ih(s,f,y,I){return ca(s,f,y,I),Es(),Ih}let Ra=(s,f,y,I,H,oe)=>(Ca(!0),$_(I,H,function c_(){return Pi.lFrame.currentNamespace}()));function Mp(s,f,y){const I=Ln(),H=Ji(),oe=s+qr,be=H.firstCreatePass?function F1(s,f,y,I,H){const oe=f.consts,be=Bi(oe,I),Ce=Eh(f,s,8,"ng-container",be);return null!==be&&h1(Ce,be,!0),zx(f,y,Ce,Bi(oe,H)),null!==f.queries&&f.queries.elementStart(f,Ce),Ce}(oe,H,I,f,y):H.data[oe];xu(be,!0);const Ce=Kb(H,I,be,s);return I[oe]=Ce,qc()&&z_(H,I,Ce,be),Gs(Ce,I),Ws(be)&&(jx(H,I,be),Fx(H,be,I)),null!=y&&qv(I,be),Mp}function Sp(){let s=ko();const f=Ji();return I2()?C2():(s=s.parent,xu(s,!1)),f.firstCreatePass&&(G0(f,s),yv(s)&&f.queries.elementEnd(s)),Sp}function Zy(s,f,y){return Mp(s,f,y),Sp(),Zy}let Kb=(s,f,y,I)=>(Ca(!0),kx(f[ci],""));function j1(){return Ln()}function $b(s,f,y){const I=Ln();return zo(I,Mu(),f)&&nd(Ji(),ws(),I,s,f,I[ci],y,!0),$b}function Vb(s,f,y){const I=Ln();if(zo(I,Mu(),f)){const oe=Ji(),be=ws();nd(oe,be,I,s,f,py(P2(oe.data),be,I),y,!0)}return Vb}const Sf=void 0;var $1=["en",[["a","p"],["AM","PM"],Sf],[["AM","PM"],Sf,Sf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sf,"{1} 'at' {0}",Sf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K1(s){const y=Math.floor(Math.abs(s)),I=s.toString().replace(/^[^.]*\.?/,"").length;return 1===y&&0===I?1:5}];let Ch={};function Um(s){const f=function kh(s){return s.toLowerCase().replace(/_/g,"-")}(s);let y=Jy(f);if(y)return y;const I=f.split("-")[0];if(y=Jy(I),y)return y;if("en"===I)return $1;throw new mr(701,!1)}function Lm(s){return Um(s)[Fm.PluralCase]}function Jy(s){return s in Ch||(Ch[s]=jo.ng&&jo.ng.common&&jo.ng.common.locales&&jo.ng.common.locales[s]),Ch[s]}var Fm=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Fm||{});const Zs="en-US",Hb={marker:"element"},Wb={marker:"ICU"};var za=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(za||{});let V1=Zs;let Oo=(s,f,y,I)=>(Ca(!0),function Ap(s,f,y){const I=s[ci];switch(y){case Node.COMMENT_NODE:return kx(I,f);case Node.TEXT_NODE:return Cx(I,f);case Node.ELEMENT_NODE:return $_(I,f,null)}}(s,y,I));const Uu=/\ufffd(\d+):?\d*\ufffd/gi,k3=/\ufffd(\d+)\ufffd/,ES=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,eg="\ufffd",P3=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Dp=/\uE500/g;function MS(s,f,y,I,H,oe,be){const Ce=fp(s,I,1,null);let Ke=Ce<<za.SHIFT,dt=yh();f===dt&&(dt=null),null===dt&&(Ke|=za.APPEND_EAGERLY),be&&(Ke|=za.COMMENT,function oP(s){void 0===Dx&&(Dx=s())}(u9)),H.push(Ke,null===oe?"":oe);const _t=uy(s,Ce,be?32:1,null===oe?"":oe,null);sC(y,_t);const jt=_t.index;return xu(_t,!1),null!==dt&&f!==dt&&function zP(s,f){let y=s.insertBeforeIndex;null===y?(CI(iC,oC),y=s.insertBeforeIndex=[null,f]):(On(Array.isArray(y),!0,"Expecting array here"),y.push(f))}(dt,jt),_t}function Af(s,f,y,I,H,oe,be,Ce){const Ke=Ce.match(Uu),_t=MS(f,y,I,be,H,Ke?null:Ce,!1).index;Ke&&Ip(oe,Ce,_t,null,0,null),s.push({kind:0,index:_t})}function Ip(s,f,y,I,H,oe){const be=s.length,Ce=be+1;s.push(null,null);const Ke=be+2,dt=f.split(Uu);let _t=0;for(let jt=0;jt<dt.length;jt++){const on=dt[jt];if(1&jt){const an=H+parseInt(on,10);s.push(-1-an),_t|=Tf(an)}else""!==on&&s.push(on)}return s.push(y<<2|(I?1:0)),I&&s.push(I,oe),s[be]=_t,s[Ce]=s.length-Ke,_t}function Tf(s){return 1<<Math.min(s,31)}function $m(s){let f,oe,y="",I=0,H=!1;for(;null!==(f=P3.exec(s));)H?f[0]===`${eg}/*${oe}${eg}`&&(I=f.index,H=!1):(y+=s.substring(I,f.index+f[0].length),oe=f[1],H=!0);return y+=s.slice(I),y}function Ml(s,f,y,I,H,oe,be){let Ce=0;const Ke={type:oe.type,currentCaseLViewIndex:fp(f,y,1,null),anchorIdx:be,cases:[],create:[],remove:[],update:[]};(function Ha(s,f,y){s.push(Tf(f.mainBinding),2,-1-f.mainBinding,y<<2|2)})(I,oe,be),function VP(s,f,y){const I=s.data[f];null===I?s.data[f]=y:I.value=y}(f,be,Ke);const dt=oe.values,_t=[];for(let jt=0;jt<dt.length;jt++){const on=dt[jt],an=[];for(let Un=0;Un<on.length;Un++){const dr=on[Un];if("string"!=typeof dr){const Er=an.push(dr)-1;on[Un]=`\x3c!--\ufffd${Er}\ufffd--\x3e`}}const En=[];_t.push(En),Ce=B3(En,f,Ke,y,I,H,oe.cases[jt],on.join(""),an)|Ce}Ce&&function Df(s,f,y){s.push(f,1,y<<2|3)}(I,Ce,be),s.push({kind:3,index:be,cases:_t,currentCaseLViewIndex:Ke.currentCaseLViewIndex})}function R3(s){const f=[],y=[];let I=1,H=0;const oe=tg(s=s.replace(ES,function(be,Ce,Ke){return I="select"===Ke?0:1,H=parseInt(Ce.slice(1),10),""}));for(let be=0;be<oe.length;){let Ce=oe[be++].trim();1===I&&(Ce=Ce.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ce.length&&f.push(Ce);const Ke=tg(oe[be++]);f.length>y.length&&y.push(Ke)}return{type:I,mainBinding:H,cases:f,values:y}}function tg(s){if(!s)return[];let f=0;const y=[],I=[],H=/[{}]/g;let oe;for(H.lastIndex=0;oe=H.exec(s);){const Ce=oe.index;if("}"==oe[0]){if(y.pop(),0==y.length){const Ke=s.substring(f,Ce);ES.test(Ke)?I.push(R3(Ke)):I.push(Ke),f=Ce+1}}else{if(0==y.length){const Ke=s.substring(f,Ce);I.push(Ke),f=Ce+1}y.push("{")}}const be=s.substring(f);return I.push(be),I}function B3(s,f,y,I,H,oe,be,Ce,Ke){const dt=[],_t=[],jt=[];y.cases.push(be),y.create.push(dt),y.remove.push(_t),y.update.push(jt);const an=tI(hm()).getInertBodyElement(Ce),En=lI(an)||an;return En?TS(s,f,y,I,H,dt,_t,jt,En,oe,Ke,0):0}function TS(s,f,y,I,H,oe,be,Ce,Ke,dt,_t,jt){let on=0,an=Ke.firstChild;for(;an;){const En=fp(f,I,1,null);switch(an.nodeType){case Node.ELEMENT_NODE:const Un=an,dr=Un.tagName.toLowerCase();if(mm.hasOwnProperty(dr)){X1(oe,Hb,dr,dt,En),f.data[En]=dr;const Gi=Un.attributes;for(let Fo=0;Fo<Gi.length;Fo++){const hl=Gi.item(Fo),Dg=hl.name.toLowerCase();hl.value.match(Uu)?cI.hasOwnProperty(Dg)&&Ip(Ce,hl.value,En,hl.name,0,U_[Dg]?$v:null):Y1(oe,En,hl)}const Sr={kind:1,index:En,children:[]};s.push(Sr),on=TS(Sr.children,f,y,I,H,oe,be,Ce,an,En,_t,jt+1)|on,ad(be,En,jt)}break;case Node.TEXT_NODE:const Er=an.textContent||"",Kn=Er.match(Uu);X1(oe,null,Kn?"":Er,dt,En),ad(be,En,jt),Kn&&(on=Ip(Ce,Er,En,null,0,null)|on),s.push({kind:0,index:En});break;case Node.COMMENT_NODE:const gr=k3.exec(an.textContent||"");if(gr){const Sr=_t[parseInt(gr[1],10)];X1(oe,Wb,"",dt,En),Ml(s,f,I,H,dt,Sr,En),N3(be,En,jt)}}an=an.nextSibling}return on}function ad(s,f,y){0===y&&s.push(f)}function N3(s,f,y){0===y&&(s.push(~f),s.push(f))}function X1(s,f,y,I,H){null!==f&&s.push(f),s.push(y,H,function l9(s,f,y){return s|f<<17|y<<1}(0,I,H))}function Y1(s,f,y){s.push(f<<1|1,y.name,y.value)}function zm(s,f,y=-1){const I=Ji(),H=Ln(),oe=qr+s,be=Bi(I.consts,f),Ce=yh();I.firstCreatePass&&function W1(s,f,y,I,H,oe){const be=yh(),Ce=[],Ke=[],dt=[[]],_t=[[]];H=function AS(s,f){if(function XP(s){return-1===s}(f))return $m(s);{const y=s.indexOf(`:${f}${eg}`)+2+f.toString().length,I=s.search(new RegExp(`${eg}\\/\\*\\d+:${f}${eg}`));return $m(s.substring(y,I))}}(H,oe);const jt=function Ph(s){return s.replace(Dp," ")}(H).split(xS);for(let on=0;on<jt.length;on++){let an=jt[on];if(1&on){const En=47===an.charCodeAt(0),Un=an.charCodeAt(En?1:0),dr=qr+Number.parseInt(an.substring(En?2:1));if(En)dt.shift(),_t.shift(),xu(yh(),!1);else{const Er=Mh(s,dt[0],dr);dt.unshift([]),xu(Er,!0);const Kn={kind:2,index:dr,children:[],type:35===Un?0:1};_t[0].push(Kn),_t.unshift(Kn.children)}}else{const En=tg(an);for(let Un=0;Un<En.length;Un++){let dr=En[Un];if(1&Un){const Er=dr;if("object"!=typeof Er)throw new Error(`Unable to parse ICU expression in "${H}" message.`);const gr=MS(s,be,dt[0],y,Ce,"",!0).index;Ml(_t[0],s,y,Ke,f,Er,gr)}else""!==dr&&Af(_t[0],s,be,dt[0],Ce,Ke,y,dr)}}}s.data[I]={create:Ce,update:Ke,ast:_t[0]}}(I,null===Ce?0:Ce.index,H,oe,be,y),2===I.type?H[$o][ai]|=32:H[ai]|=32;const Ke=I.data[oe],_t=MI(I,Ce===H[Zc]?null:Ce,H),jt=Ce&&8&Ce.type?H[Ce.index]:null;(function tO(s,f,y,I){yC(s,f,y,I)})(H,oe,Ce,y),function mS(s,f,y,I){const H=s[ci];for(let oe=0;oe<f.length;oe++){const be=f[oe++],dt=(be&za.APPEND_EAGERLY)===za.APPEND_EAGERLY,_t=be>>>za.SHIFT;let jt=s[_t],on=!1;null===jt&&(jt=s[_t]=Oo(s,_t,f[oe],(be&za.COMMENT)===za.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),on=qc()),dt&&null!==y&&on&&vm(H,y,jt,I,!1)}}(H,Ke.create,_t,jt),aD(!0)}function PS(s,f,y){zm(s,f,y),function kS(){aD(!1)}()}let Cp=(s,f,y)=>{};function Q1(s,f,y,I){const H=Ln(),oe=Ji(),be=ko();return Nd(oe,H,H[ci],be,s,f,I),Q1}function Gb(s,f){const y=ko(),I=Ln(),H=Ji();return Nd(H,I,py(P2(H.data),y,I),y,s,f),Gb}function Nd(s,f,y,I,H,oe,be){const Ce=Ws(I),dt=s.firstCreatePass&&eb(s),_t=f[Ts],jt=WI(f);let on=!0;if(3&I.type||be){const Un=ol(I,f),dr=be?be(Un):Un,Er=jt.length,Kn=be?Gi=>be(To(Gi[I.index])):I.index;let gr=null;if(!be&&Ce&&(gr=function RS(s,f,y,I){const H=s.cleanup;if(null!=H)for(let oe=0;oe<H.length-1;oe+=2){const be=H[oe];if(be===y&&H[oe+1]===I){const Ce=f[fv],Ke=H[oe+2];return Ce.length>Ke?Ce[Ke]:null}"string"==typeof be&&(oe+=2)}return null}(s,f,H,I.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=oe,gr.__ngLastListenerFn__=oe,on=!1;else{oe=NS(I,f,_t,oe),Cp(Un,H,oe);const Gi=y.listen(dr,H,oe);jt.push(oe,Gi),dt&&dt.push(H,Kn,Er,Er+1)}}else oe=NS(I,f,_t,oe);const an=I.outputs;let En;if(on&&null!==an&&(En=an[H])){const Un=En.length;if(Un)for(let dr=0;dr<Un;dr+=2){const Sr=f[En[dr]][En[dr+1]].subscribe(oe),Fo=jt.length;jt.push(oe,Sr),dt&&dt.push(H,I.index,Fo,-(Fo+1))}}}function BS(s,f,y,I){const H=R(null);try{return oc(6,f,y),!1!==y(I)}catch(oe){return Y_(s,oe),!1}finally{oc(7,f,y),R(H)}}function NS(s,f,y,I){return function H(oe){if(oe===Function)return I;rb(s.componentOffset>-1?sl(s.index,f):f,5);let Ce=BS(f,y,I,oe),Ke=H.__ngNextListenerFn__;for(;Ke;)Ce=BS(f,y,Ke,oe)&&Ce,Ke=Ke.__ngNextListenerFn__;return Ce}}function US(s=1){return function Xk(s){return(Pi.lFrame.contextLView=function am(s,f){for(;s>0;)f=f[hv],s--;return f}(s,Pi.lFrame.contextLView))[Ts]}(s)}function V3(s,f){let y=null;const I=function NT(s){const f=s.attrs;if(null!=f){const y=f.indexOf(5);if(!(1&y))return f[y+1]}return null}(s);for(let H=0;H<f.length;H++){const oe=f[H];if("*"!==oe){if(null===I?v2(s,oe,!0):So(I,oe))return H}else y=H}return y}function LS(s){const f=Ln()[$o][Zc];if(!f.projection){const I=f.projection=function yu(s,f){const y=[];for(let I=0;I<s;I++)y.push(f);return y}(s?s.length:1,null),H=I.slice();let oe=f.child;for(;null!==oe;){if(128!==oe.type){const be=s?V3(oe,s):0;null!==be&&(H[be]?H[be].projectionNext=oe:I[be]=oe,H[be]=oe)}oe=oe.next}}}function Ud(s,f=0,y,I,H,oe){const be=Ln(),Ce=Ji(),Ke=I?s+1:null;null!==Ke&&$a(be,Ce,Ke,I,H,oe,null,y);const dt=Eh(Ce,qr+s,16,null,y||null);null===dt.projection&&(dt.projection=f),C2();const jt=!be[nl]||cp();null===be[$o][Zc].projection[dt.projection]&&null!==Ke?function eE(s,f,y){const I=qr+y,H=f.data[I],oe=s[I],be=Sy(oe,H.tView.ssrId);Cd(oe,my(s,H,void 0,{dehydratedView:be}),0,yy(H,be))}(be,Ce,Ke):jt&&32&~dt.flags&&function PI(s,f,y){W_(f[ci],0,f,y,Rx(s,y,f),TI(y.parent||f[Zc],y,f))}(Ce,be,dt)}function Xb(s,f,y){return Yb(s,"",f,"",y),Xb}function Yb(s,f,y,I,H){const oe=Ln(),be=Ly(oe,f,y,I);return be!==ji&&nd(Ji(),ws(),oe,s,be,oe[ci],H,!1),Yb}function Lu(s,f,y,I){b1(s,f,y,I)}function Jb(s,f,y){GC(s,f,y)}function ng(s){const f=Ln(),y=Ji(),I=O2();W0(I+1);const H=wb(y,I);if(s.dirty&&function Lk(s){return!(4&~s[ai])}(f)===!(2&~H.metadata.flags)){if(null===H.matches)s.reset([]);else{const oe=ac(f,I);s.reset(oe,y_),s.notifyOnChanges()}return!0}return!1}function tE(){return v1(Ln(),O2())}function Rh(s,f,y,I,H){KO(f,b1(s,y,I,H))}function Pp(s,f,y,I){KO(s,GC(f,y,I))}function zi(s=1){W0(O2()+s)}function Bh(s){return sp(function rD(){return Pi.lFrame.contextLView}(),qr+s)}function Xm(s,f=""){const y=Ln(),I=Ji(),H=s+qr,oe=I.firstCreatePass?Eh(I,H,1,f,null):I.data[H],be=kf(I,y,oe,f,s);y[H]=be,qc()&&z_(I,y,be,oe),xu(oe,!1)}let kf=(s,f,y,I,H)=>(Ca(!0),Cx(f[ci],I));function Bp(s){return Pf("",s,""),Bp}function Pf(s,f,y){const I=Ln(),H=Ly(I,s,f,y);return H!==ji&&xh(I,Tc(),H),Pf}function qb(s,f,y,I,H){const oe=Ln(),be=Ys(oe,s,f,y,I,H);return be!==ji&&xh(oe,Tc(),be),qb}function HS(s,f,y){IM(f)&&(f=f());const I=Ln();return zo(I,Mu(),f)&&nd(Ji(),ws(),I,s,f,I[ci],y,!1),HS}function rE(s,f){const y=IM(s);return y&&s.set(f),y}function Qb(s,f){const y=Ln(),I=Ji(),H=ko();return Nd(I,y,y[ci],H,s,f),Qb}function iE(s,f,y,I,H){if(s=bt(s),Array.isArray(s))for(let oe=0;oe<s.length;oe++)iE(s[oe],f,y,I,H);else{const oe=Ji(),be=Ln(),Ce=ko();let Ke=wo(s)?s:bt(s.provide);const dt=$T(s),_t=1048575&Ce.providerIndexes,jt=Ce.directiveStart,on=Ce.providerIndexes>>20;if(wo(s)||!s.multi){const an=new al(dt,H,ly),En=XS(Ke,f,H?_t:_t+on,jt);-1===En?(H2(f_(Ce,be),oe,Ke),GS(oe,s,f.length),f.push(Ke),Ce.directiveStart++,Ce.directiveEnd++,H&&(Ce.providerIndexes+=1048576),y.push(an),be.push(an)):(y[En]=an,be[En]=an)}else{const an=XS(Ke,f,_t+on,jt),En=XS(Ke,f,_t,_t+on),dr=En>=0&&y[En];if(H&&!dr||!H&&!(an>=0&&y[an])){H2(f_(Ce,be),oe,Ke);const Er=function YS(s,f,y,I,H){const oe=new al(s,y,ly);return oe.multi=[],oe.index=f,oe.componentProviders=0,t6(oe,H,I&&!y),oe}(H?p4:h4,y.length,H,I,dt);!H&&dr&&(y[En].providerFactory=Er),GS(oe,s,f.length,0),f.push(Ke),Ce.directiveStart++,Ce.directiveEnd++,H&&(Ce.providerIndexes+=1048576),y.push(Er),be.push(Er)}else GS(oe,s,an>-1?an:En,t6(y[H?En:an],dt,!H&&I));!H&&I&&dr&&y[En].componentProviders++}}}function GS(s,f,y,I){const H=wo(f),oe=function Ak(s){return!!s.useClass}(f);if(H||oe){const Ke=(oe?bt(f.useClass):f).prototype.ngOnDestroy;if(Ke){const dt=s.destroyHooks||(s.destroyHooks=[]);if(!H&&f.multi){const _t=dt.indexOf(y);-1===_t?dt.push(y,[I,Ke]):dt[_t+1].push(I,Ke)}else dt.push(y,Ke)}}}function t6(s,f,y){return y&&s.componentProviders++,s.multi.push(f)-1}function XS(s,f,y,I){for(let H=y;H<I;H++)if(f[H]===s)return H;return-1}function h4(s,f,y,I){return ew(this.multi,[])}function p4(s,f,y,I){const H=this.multi;let oe;if(this.providerFactory){const be=this.providerFactory.componentProviders,Ce=um(y,y[fr],this.providerFactory.index,I);oe=Ce.slice(0,be),ew(H,oe);for(let Ke=be;Ke<Ce.length;Ke++)oe.push(Ce[Ke])}else oe=[],ew(H,oe);return oe}function ew(s,f){for(let y=0;y<s.length;y++)f.push((0,s[y])());return f}function ZS(s,f=[]){return y=>{y.providersResolver=(I,H)=>function eu(s,f,y){const I=Ji();if(I.firstCreatePass){const H=_u(s);iE(y,I.data,I.blueprint,H,!0),iE(f,I.data,I.blueprint,H,!1)}}(I,H?H(s):s,f)}}let n6=(()=>{class s{constructor(y){this._injector=y,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(y){if(!y.standalone)return null;if(!this.cachedInjectors.has(y)){const I=Yc(0,y.type),H=I.length>0?Sh([I],this._injector,`Standalone[${y.type.name}]`):null;this.cachedInjectors.set(y,H)}return this.cachedInjectors.get(y)}ngOnDestroy(){try{for(const y of this.cachedInjectors.values())null!==y&&y.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Yi({token:s,providedIn:"environment",factory:()=>new s(rt(Fl))})}return s})();function Ga(s){rd("NgStandalone"),s.getStandaloneInjector=f=>f.get(n6).getOrCreateStandaloneInjector(s)}function sE(s,f,y){const I=Dd()+s,H=Ln();return H[I]===ji?bf(H,I,y?f.call(y):f()):function dc(s,f){return s[f]}(H,I)}function Zm(s,f,y,I){return s6(Ln(),Dd(),s,f,y,I)}function i6(s,f,y,I,H){return QS(Ln(),Dd(),s,f,y,I,H)}function tw(s,f){const y=s[f];return y===ji?void 0:y}function s6(s,f,y,I,H,oe){const be=f+y;return zo(s,be,H)?bf(s,be+1,oe?I.call(oe,H):I(H)):tw(s,be+1)}function QS(s,f,y,I,H,oe,be){const Ce=f+y;return cr(s,Ce,H,oe)?bf(s,Ce+2,be?I.call(be,H,oe):I(H,oe)):tw(s,Ce+2)}function c6(s,f){const y=Ji();let I;const H=s+qr;y.firstCreatePass?(I=function w4(s,f){if(f)for(let y=f.length-1;y>=0;y--){const I=f[y];if(s===I.name)return I}}(f,y.pipeRegistry),y.data[H]=I,I.onDestroy&&(y.destroyHooks??=[]).push(H,I.onDestroy)):I=y.data[H];const oe=I.factory||(I.factory=Da(I.type)),Ce=ma(ly);try{const Ke=l_(!1),dt=oe();return l_(Ke),function Op(s,f,y,I){y>=s.data.length&&(s.data[y]=null,s.blueprint[y]=null),f[y]=I}(y,Ln(),H,dt),dt}finally{ma(Ce)}}function d6(s,f,y){const I=s+qr,H=Ln(),oe=sp(H,I);return nw(H,I)?s6(H,Dd(),f,oe.transform,y,oe):oe.transform(y)}function l6(s,f,y,I){const H=s+qr,oe=Ln(),be=sp(oe,H);return nw(oe,H)?QS(oe,Dd(),f,be.transform,y,I,be):be.transform(y,I)}function nw(s,f){return s[fr].data[f].pure}function cg(s,f){return J_(s,f)}class aA{constructor(f){this.full=f;const y=f.split(".");this.major=y[0],this.minor=y[1],this.patch=y.slice(2).join(".")}}let w6=(()=>{class s{log(y){console.log(y)}warn(y){console.warn(y)}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Zo=new Ti(""),fi=new Ti("");let pA,_i=(()=>{class s{constructor(y,I,H){this._ngZone=y,this.registry=I,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,pA||(function la(s){pA=s}(H),H.addToWindow(I)),this._watchAngularEvents(),y.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let y=this._callbacks.pop();clearTimeout(y.timeoutId),y.doneCb()}});else{let y=this.getPendingTasks();this._callbacks=this._callbacks.filter(I=>!I.updateCb||!I.updateCb(y)||(clearTimeout(I.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(y=>({source:y.source,creationLocation:y.creationLocation,data:y.data})):[]}addCallback(y,I,H){let oe=-1;I&&I>0&&(oe=setTimeout(()=>{this._callbacks=this._callbacks.filter(be=>be.timeoutId!==oe),y()},I)),this._callbacks.push({doneCb:y,timeoutId:oe,updateCb:H})}whenStable(y,I,H){if(H&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(y,I,H),this._runCallbacksIfReady()}registerApplication(y){this.registry.registerApplication(y,this)}unregisterApplication(y){this.registry.unregisterApplication(y)}findProviders(y,I,H){return[]}static#e=this.\u0275fac=function(I){return new(I||s)(rt(Is),rt(Jt),rt(fi))};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac})}return s})(),Jt=(()=>{class s{constructor(){this._applications=new Map}registerApplication(y,I){this._applications.set(y,I)}unregisterApplication(y){this._applications.delete(y)}unregisterAllApplications(){this._applications.clear()}getTestability(y){return this._applications.get(y)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(y,I=!0){return pA?.findTestabilityInTree(this,y,I)??null}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function gE(s){return!!s&&"function"==typeof s.then}function vE(s){return!!s&&"function"==typeof s.subscribe}const M6=new Ti("");let mA=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,I)=>{this.resolve=y,this.reject=I}),this.appInits=zt(M6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const y=[];for(const H of this.appInits){const oe=H();if(gE(oe))y.push(oe);else if(vE(oe)){const be=new Promise((Ce,Ke)=>{oe.subscribe({complete:Ce,error:Ke})});y.push(be)}}const I=()=>{this.done=!0,this.resolve()};Promise.all(y).then(()=>{I()}).catch(H=>{this.reject(H)}),0===y.length&&I(),this.initialized=!0}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const xi=new Ti("");let Nf=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=zt(CD),this.afterRenderEffectManager=zt(u1),this.zonelessEnabled=zt(fb),this.externalTestViews=new Set,this.beforeRender=new fe.B,this.afterTick=new fe.B,this.componentTypes=[],this.components=[],this.isStable=zt(vh).hasPendingTasks.pipe((0,ae.T)(y=>!y)),this._injector=zt(Fl)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(y,I){const H=y instanceof _C;if(!this._injector.get(mA).done)throw!H&&In(y),new mr(405,!1);let be;be=H?y:this._injector.get(pb).resolveComponentFactory(y),this.componentTypes.push(be.componentType);const Ce=function N4(s){return s.isBoundToModule}(be)?void 0:this._injector.get(yp),dt=be.create(Pa.NULL,[],I||be.selector,Ce),_t=dt.location.nativeElement,jt=dt.injector.get(Zo,null);return jt?.registerApplication(_t),dt.onDestroy(()=>{this.detachView(dt.hostView),Uf(this.components,dt),jt?.unregisterApplication(_t)}),this._loadComponent(dt),dt}tick(){this._tick(!0)}_tick(y){if(this._runningTick)throw new mr(101,!1);const I=R(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(y)}catch(H){this.internalErrorHandler(H)}finally{this._runningTick=!1,R(I),this.afterTick.next()}}detectChangesInAttachedViews(y){let I=null;this._injector.destroyed||(I=this._injector.get(mM,null,{optional:!0}));let H=0;const oe=this.afterRenderEffectManager;for(;H<10;){const be=0===H;if(y||!be){this.beforeRender.next(be);for(let{_lView:Ce,notifyErrorHandler:Ke}of this._views)V9(Ce,Ke,be,this.zonelessEnabled)}else I?.begin?.(),I?.end?.();if(H++,oe.executeInternalCallbacks(),!this.allViews.some(({_lView:Ce})=>wa(Ce))&&(oe.execute(),!this.allViews.some(({_lView:Ce})=>wa(Ce))))break}}attachView(y){const I=y;this._views.push(I),I.attachToAppRef(this)}detachView(y){const I=y;Uf(this._views,I),I.detachFromAppRef()}_loadComponent(y){this.attachView(y.hostView),this.tick(),this.components.push(y);const I=this._injector.get(xi,[]);[...this._bootstrapListeners,...I].forEach(H=>H(y))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(y=>y()),this._views.slice().forEach(y=>y.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(y){return this._destroyListeners.push(y),()=>Uf(this._destroyListeners,y)}destroy(){if(this._destroyed)throw new mr(406,!1);const y=this._injector;y.destroy&&!y.destroyed&&y.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Uf(s,f){const y=s.indexOf(f);y>-1&&s.splice(y,1)}function V9(s,f,y,I){(y||wa(s))&&kd(s,f,y&&!I?0:1)}class Lc{constructor(f,y){this.ngModuleFactory=f,this.componentFactories=y}}let L4=(()=>{class s{compileModuleSync(y){return new Sb(y)}compileModuleAsync(y){return Promise.resolve(this.compileModuleSync(y))}compileModuleAndAllComponentsSync(y){const I=this.compileModuleSync(y),oe=_l(vn(y).declarations).reduce((be,Ce)=>{const Ke=gt(Ce);return Ke&&be.push(new gb(Ke)),be},[]);return new Lc(I,oe)}compileModuleAndAllComponentsAsync(y){return Promise.resolve(this.compileModuleAndAllComponentsSync(y))}clearCache(){}clearCacheFor(y){}getModuleId(y){}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),fw=(()=>{class s{constructor(){this.zone=zt(Is),this.changeDetectionScheduler=zt(Ay),this.applicationRef=zt(Nf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const T6=new Ti("",{factory:()=>!1});function hi({ngZoneFactory:s,ignoreChangesOutsideZone:f}){return s??=()=>new Is(Ks()),[{provide:Is,useFactory:s},{provide:Nl,multi:!0,useFactory:()=>{const y=zt(fw,{optional:!0});return()=>y.initialize()}},{provide:Nl,multi:!0,useFactory:()=>{const y=zt(hw);return()=>{y.initialize()}}},{provide:CD,useFactory:iu},!0===f?{provide:lO,useValue:!0}:[]]}function iu(){const s=zt(Is),f=zt(Tu);return y=>s.runOutsideAngular(()=>f.handleError(y))}function j4(s){const f=s?.ignoreChangesOutsideZone,y=hi({ngZoneFactory:()=>{const I=Ks(s);return I.shouldCoalesceEventChangeDetection&&rd("NgZone_CoalesceEvent"),new Is(I)},ignoreChangesOutsideZone:f});return ga([{provide:T6,useValue:!0},{provide:fb,useValue:!1},y])}function Ks(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}let hw=(()=>{class s{constructor(){this.subscription=new he.yU,this.initialized=!1,this.zone=zt(Is),this.pendingTasks=zt(vh)}initialize(){if(this.initialized)return;this.initialized=!0;let y=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(y=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),queueMicrotask(()=>{null!==y&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(y),y=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),y??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),t0=(()=>{class s{constructor(){this.appRef=zt(Nf),this.taskService=zt(vh),this.ngZone=zt(Is),this.zonelessEnabled=zt(fb),this.disableScheduling=zt(lO,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xm||!this.zoneIsDefined)}notify(y){if(!this.zonelessEnabled&&5===y)return;switch(y){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const I=this.useMicrotaskScheduler?sc:MC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=I(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=I(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Is.isInAngularZone())}tick(y){if(this.runningTick||this.appRef.destroyed)return;const I=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(y)},void 0,this.schedulerTickApplyArgs)}catch(H){throw this.taskService.remove(I),H}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(I)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const y=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(y)}}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275prov=Yi({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const yA=new Ti("",{providedIn:"root",factory:()=>zt(yA,Zi.Optional|Zi.SkipSelf)||function z9(){return typeof $localize<"u"&&$localize.locale||Zs}()}),K4=new Ti("",{providedIn:"root",factory:()=>"USD"}),I6=new Ti("");let n0=null;function W4(){return!1}let EE=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=G9}return s})();function G9(s){return function X4(s,f,y){if(Vi(s)&&!y){const I=sl(s.index,f);return new ib(I,I)}return 175&s.type?new ib(f[$o],f):null}(ko(),Ln(),!(16&~s))}class yw{constructor(){}supports(f){return Am(f)}create(f){return new AE(f)}}const U6=(s,f)=>f;class AE{constructor(f){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=f||U6}forEachItem(f){let y;for(y=this._itHead;null!==y;y=y._next)f(y)}forEachOperation(f){let y=this._itHead,I=this._removalsHead,H=0,oe=null;for(;y||I;){const be=!I||y&&y.currentIndex<bg(I,H,oe)?y:I,Ce=bg(be,H,oe),Ke=be.currentIndex;if(be===I)H--,I=I._nextRemoved;else if(y=y._next,null==be.previousIndex)H++;else{oe||(oe=[]);const dt=Ce-H,_t=Ke-H;if(dt!=_t){for(let on=0;on<dt;on++){const an=on<oe.length?oe[on]:oe[on]=0,En=an+on;_t<=En&&En<dt&&(oe[on]=an+1)}oe[be.previousIndex]=_t-dt}}Ce!==Ke&&f(be,Ce,Ke)}}forEachPreviousItem(f){let y;for(y=this._previousItHead;null!==y;y=y._nextPrevious)f(y)}forEachAddedItem(f){let y;for(y=this._additionsHead;null!==y;y=y._nextAdded)f(y)}forEachMovedItem(f){let y;for(y=this._movesHead;null!==y;y=y._nextMoved)f(y)}forEachRemovedItem(f){let y;for(y=this._removalsHead;null!==y;y=y._nextRemoved)f(y)}forEachIdentityChange(f){let y;for(y=this._identityChangesHead;null!==y;y=y._nextIdentityChange)f(y)}diff(f){if(null==f&&(f=[]),!Am(f))throw new mr(900,!1);return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let H,oe,be,y=this._itHead,I=!1;if(Array.isArray(f)){this.length=f.length;for(let Ce=0;Ce<this.length;Ce++)oe=f[Ce],be=this._trackByFn(Ce,oe),null!==y&&Object.is(y.trackById,be)?(I&&(y=this._verifyReinsertion(y,oe,be,Ce)),Object.is(y.item,oe)||this._addIdentityChange(y,oe)):(y=this._mismatch(y,oe,be,Ce),I=!0),y=y._next}else H=0,function Ry(s,f){if(Array.isArray(s))for(let y=0;y<s.length;y++)f(s[y]);else{const y=s[Symbol.iterator]();let I;for(;!(I=y.next()).done;)f(I.value)}}(f,Ce=>{be=this._trackByFn(H,Ce),null!==y&&Object.is(y.trackById,be)?(I&&(y=this._verifyReinsertion(y,Ce,be,H)),Object.is(y.item,Ce)||this._addIdentityChange(y,Ce)):(y=this._mismatch(y,Ce,be,H),I=!0),y=y._next,H++}),this.length=H;return this._truncate(y),this.collection=f,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let f;for(f=this._previousItHead=this._itHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._additionsHead;null!==f;f=f._nextAdded)f.previousIndex=f.currentIndex;for(this._additionsHead=this._additionsTail=null,f=this._movesHead;null!==f;f=f._nextMoved)f.previousIndex=f.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(f,y,I,H){let oe;return null===f?oe=this._itTail:(oe=f._prev,this._remove(f)),null!==(f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null))?(Object.is(f.item,y)||this._addIdentityChange(f,y),this._reinsertAfter(f,oe,H)):null!==(f=null===this._linkedRecords?null:this._linkedRecords.get(I,H))?(Object.is(f.item,y)||this._addIdentityChange(f,y),this._moveAfter(f,oe,H)):f=this._addAfter(new q9(y,I),oe,H),f}_verifyReinsertion(f,y,I,H){let oe=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null);return null!==oe?f=this._reinsertAfter(oe,f._prev,H):f.currentIndex!=H&&(f.currentIndex=H,this._addToMoves(f,H)),f}_truncate(f){for(;null!==f;){const y=f._next;this._addToRemovals(this._unlink(f)),f=y}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(f,y,I){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(f);const H=f._prevRemoved,oe=f._nextRemoved;return null===H?this._removalsHead=oe:H._nextRemoved=oe,null===oe?this._removalsTail=H:oe._prevRemoved=H,this._insertAfter(f,y,I),this._addToMoves(f,I),f}_moveAfter(f,y,I){return this._unlink(f),this._insertAfter(f,y,I),this._addToMoves(f,I),f}_addAfter(f,y,I){return this._insertAfter(f,y,I),this._additionsTail=null===this._additionsTail?this._additionsHead=f:this._additionsTail._nextAdded=f,f}_insertAfter(f,y,I){const H=null===y?this._itHead:y._next;return f._next=H,f._prev=y,null===H?this._itTail=f:H._prev=f,null===y?this._itHead=f:y._next=f,null===this._linkedRecords&&(this._linkedRecords=new Z4),this._linkedRecords.put(f),f.currentIndex=I,f}_remove(f){return this._addToRemovals(this._unlink(f))}_unlink(f){null!==this._linkedRecords&&this._linkedRecords.remove(f);const y=f._prev,I=f._next;return null===y?this._itHead=I:y._next=I,null===I?this._itTail=y:I._prev=y,f}_addToMoves(f,y){return f.previousIndex===y||(this._movesTail=null===this._movesTail?this._movesHead=f:this._movesTail._nextMoved=f),f}_addToRemovals(f){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z4),this._unlinkedRecords.put(f),f.currentIndex=null,f._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=f,f._prevRemoved=null):(f._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=f),f}_addIdentityChange(f,y){return f.item=y,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=f:this._identityChangesTail._nextIdentityChange=f,f}}class q9{constructor(f,y){this.item=f,this.trackById=y,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EA{constructor(){this._head=null,this._tail=null}add(f){null===this._head?(this._head=this._tail=f,f._nextDup=null,f._prevDup=null):(this._tail._nextDup=f,f._prevDup=this._tail,f._nextDup=null,this._tail=f)}get(f,y){let I;for(I=this._head;null!==I;I=I._nextDup)if((null===y||y<=I.currentIndex)&&Object.is(I.trackById,f))return I;return null}remove(f){const y=f._prevDup,I=f._nextDup;return null===y?this._head=I:y._nextDup=I,null===I?this._tail=y:I._prevDup=y,null===this._head}}class Z4{constructor(){this.map=new Map}put(f){const y=f.trackById;let I=this.map.get(y);I||(I=new EA,this.map.set(y,I)),I.add(f)}get(f,y){const H=this.map.get(f);return H?H.get(f,y):null}remove(f){const y=f.trackById;return this.map.get(y).remove(f)&&this.map.delete(y),f}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bg(s,f,y){const I=s.previousIndex;if(null===I)return I;let H=0;return y&&I<y.length&&(H=y[I]),I+f+H}class L6{constructor(){}supports(f){return f instanceof Map||Ab(f)}create(){return new TE}}class TE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(f){let y;for(y=this._mapHead;null!==y;y=y._next)f(y)}forEachPreviousItem(f){let y;for(y=this._previousMapHead;null!==y;y=y._nextPrevious)f(y)}forEachChangedItem(f){let y;for(y=this._changesHead;null!==y;y=y._nextChanged)f(y)}forEachAddedItem(f){let y;for(y=this._additionsHead;null!==y;y=y._nextAdded)f(y)}forEachRemovedItem(f){let y;for(y=this._removalsHead;null!==y;y=y._nextRemoved)f(y)}diff(f){if(f){if(!(f instanceof Map||Ab(f)))throw new mr(900,!1)}else f=new Map;return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let y=this._mapHead;if(this._appendAfter=null,this._forEach(f,(I,H)=>{if(y&&y.key===H)this._maybeAddToChanges(y,I),this._appendAfter=y,y=y._next;else{const oe=this._getOrCreateRecordForKey(H,I);y=this._insertBeforeOrAppend(y,oe)}}),y){y._prev&&(y._prev._next=null),this._removalsHead=y;for(let I=y;null!==I;I=I._nextRemoved)I===this._mapHead&&(this._mapHead=null),this._records.delete(I.key),I._nextRemoved=I._next,I.previousValue=I.currentValue,I.currentValue=null,I._prev=null,I._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(f,y){if(f){const I=f._prev;return y._next=f,y._prev=I,f._prev=y,I&&(I._next=y),f===this._mapHead&&(this._mapHead=y),this._appendAfter=f,f}return this._appendAfter?(this._appendAfter._next=y,y._prev=this._appendAfter):this._mapHead=y,this._appendAfter=y,null}_getOrCreateRecordForKey(f,y){if(this._records.has(f)){const H=this._records.get(f);this._maybeAddToChanges(H,y);const oe=H._prev,be=H._next;return oe&&(oe._next=be),be&&(be._prev=oe),H._next=null,H._prev=null,H}const I=new F6(f);return this._records.set(f,I),I.currentValue=y,this._addToAdditions(I),I}_reset(){if(this.isDirty){let f;for(this._previousMapHead=this._mapHead,f=this._previousMapHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._changesHead;null!==f;f=f._nextChanged)f.previousValue=f.currentValue;for(f=this._additionsHead;null!=f;f=f._nextAdded)f.previousValue=f.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(f,y){Object.is(y,f.currentValue)||(f.previousValue=f.currentValue,f.currentValue=y,this._addToChanges(f))}_addToAdditions(f){null===this._additionsHead?this._additionsHead=this._additionsTail=f:(this._additionsTail._nextAdded=f,this._additionsTail=f)}_addToChanges(f){null===this._changesHead?this._changesHead=this._changesTail=f:(this._changesTail._nextChanged=f,this._changesTail=f)}_forEach(f,y){f instanceof Map?f.forEach(y):Object.keys(f).forEach(I=>y(f[I],I))}}class F6{constructor(f){this.key=f,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new j6([new yw])}let j6=(()=>{class s{static#e=this.\u0275prov=Yi({token:s,providedIn:"root",factory:gw});constructor(y){this.factories=y}static create(y,I){if(null!=I){const H=I.factories.slice();y=y.concat(H)}return new s(y)}static extend(y){return{provide:s,useFactory:I=>s.create(y,I||gw()),deps:[[s,new Ss,new Mo]]}}find(y){const I=this.factories.find(H=>H.supports(y));if(null!=I)return I;throw new mr(901,!1)}}return s})();function J4(){return new xA([new L6])}let xA=(()=>{class s{static#e=this.\u0275prov=Yi({token:s,providedIn:"root",factory:J4});constructor(y){this.factories=y}static create(y,I){if(I){const H=I.factories.slice();y=y.concat(H)}return new s(y)}static extend(y){return{provide:s,useFactory:I=>s.create(y,I||J4()),deps:[[s,new Ss,new Mo]]}}find(y){const I=this.factories.find(H=>H.supports(y));if(I)return I;throw new mr(901,!1)}}return s})();function OE(s){try{const{rootComponent:f,appProviders:y,platformProviders:I}=s,H=function C6(s=[]){if(n0)return n0;const f=function z4(s=[],f){return Pa.create({name:f,providers:[{provide:Jw,useValue:"platform"},{provide:I6,useValue:new Set([()=>n0=null])},...s]})}(s);return n0=f,function S6(){!function M(s){D=s}(()=>{throw new mr(600,!1)})}(),function k6(s){s.get($D,null)?.forEach(y=>y())}(f),f}(I),oe=[hi({}),{provide:Ay,useExisting:t0},...y||[]],Ce=new Oy({providers:oe,parent:H,debugName:"",runEnvironmentInitializers:!1}).injector,Ke=Ce.get(Is);return Ke.run(()=>{Ce.resolveInjectorInitializers();const dt=Ce.get(Tu,null);let _t;Ke.runOutsideAngular(()=>{_t=Ke.onError.subscribe({next:an=>{dt.handleError(an)}})});const jt=()=>Ce.destroy(),on=H.get(I6);return on.add(jt),Ce.onDestroy(()=>{_t.unsubscribe(),on.delete(jt)}),function jp(s,f,y){try{const I=y();return gE(I)?I.catch(H=>{throw f.runOutsideAngular(()=>s.handleError(H)),H}):I}catch(I){throw f.runOutsideAngular(()=>s.handleError(I)),I}}(dt,Ke,()=>{const an=Ce.get(mA);return an.runInitializers(),an.donePromise.then(()=>{!function Ql(s){"string"==typeof s&&(V1=s.toLowerCase().replace(/_/g,"-"))}(Ce.get(yA,Zs)||Zs);const Un=Ce.get(Nf);return void 0!==f&&Un.bootstrap(f),Un})})})}catch(f){return Promise.reject(f)}}const _w=new Ti("");function Tg(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function SR(s,f=NaN){return isNaN(parseFloat(s))||isNaN(Number(s))?f:Number(s)}function FE(s,f){rd("NgSignals");const y=k(s);return f?.equal&&(y[_].equal=f.equal),y}function Ew(s){const f=R(null);try{return s()}finally{R(f)}}const DR=new Ti("",{providedIn:"root",factory:()=>zt(x7)});let x7=(()=>{class s{static#e=this.\u0275prov=Yi({token:s,providedIn:"root",factory:()=>new IR})}return s})();class IR{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=zt(vh),this.taskId=null}scheduleEffect(f){if(this.enqueue(f),null===this.taskId){const y=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(y),this.taskId=null})}}enqueue(f){const y=f.creationZone;this.queues.has(y)||this.queues.set(y,new Set);const I=this.queues.get(y);I.has(f)||(this.queuedEffectCount++,I.add(f))}flush(){for(;this.queuedEffectCount>0;)for(const[f,y]of this.queues)null===f?this.flushQueue(y):f.run(()=>this.flushQueue(y))}flushQueue(f){for(const y of f)f.delete(y),this.queuedEffectCount--,y.run()}}class M7{constructor(f,y,I,H,oe,be){this.scheduler=f,this.effectFn=y,this.creationZone=I,this.injector=oe,this.watcher=function ve(s,f,y){const I=Object.create(ke);y&&(I.consumerAllowSignalWrites=!0),I.fn=s,I.schedule=f;const H=Ke=>{I.cleanupFn=Ke};return I.ref={notify:()=>ee(I),run:()=>{if(null===I.fn)return;if(function N(){return O}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(I.dirty=!1,I.hasRun&&!ne(I))return;I.hasRun=!0;const Ke=q(I);try{I.cleanupFn(),I.cleanupFn=ye,I.fn(H)}finally{J(I,Ke)}},cleanup:()=>I.cleanupFn(),destroy:()=>function be(Ke){(function oe(Ke){return null===Ke.fn&&null===Ke.schedule})(Ke)||(ie(Ke),Ke.cleanupFn(),Ke.fn=null,Ke.schedule=null,Ke.cleanupFn=ye)}(I),[_]:I},I.ref}(Ce=>this.runEffect(Ce),()=>this.schedule(),be),this.unregisterOnDestroy=H?.onDestroy(()=>this.destroy())}runEffect(f){try{this.effectFn(f)}catch(y){this.injector.get(Tu,null,{optional:!0})?.handleError(y)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function RA(s,f){rd("NgSignals"),!f?.injector&&Na();const y=f?.injector??zt(Pa),I=!0!==f?.manualCleanup?y.get(Sv):null,H=new M7(y.get(DR),s,typeof Zone>"u"?null:Zone.current,I,y,f?.allowSignalWrites??!1),oe=y.get(EE,null,{optional:!0});return oe&&8&oe._lView[ai]?(oe._lView[op]??=[]).push(H.watcher.notify):H.watcher.notify(),H}function i5(s,f){const y=gt(s),I=f.elementInjector||af();return new gb(y).create(I,f.projectableNodes,f.hostElement,f.environmentInjector)}function CR(s){const f=gt(s);if(!f)return null;const y=new gb(f);return{get selector(){return y.selector},get type(){return y.componentType},get inputs(){return y.inputs},get outputs(){return y.outputs},get ngContentSelectors(){return y.ngContentSelectors},get isStandalone(){return f.standalone},get isSignal(){return f.signals}}}},89417:(Ne,V,E)=>{"use strict";E.d(V,{BC:()=>ge,JD:()=>Rl,MJ:()=>si,X1:()=>xd,YN:()=>qd,cV:()=>Hr,cb:()=>Ae,cz:()=>J,j4:()=>Yd,k0:()=>re,kq:()=>L,l_:()=>Qa,me:()=>te,ok:()=>An,qT:()=>bn,tU:()=>Ed,v8:()=>ha,vO:()=>fe,vS:()=>mn,xq:()=>Qf});var g=E(93953),w=E(60177),O=E(86648),X=E(27468),_=E(21413),R=E(96354);let A=(()=>{class yt{constructor(tt,Rt){this._renderer=tt,this._elementRef=Rt,this.onChange=dn=>{},this.onTouched=()=>{}}setProperty(tt,Rt){this._renderer.setProperty(this._elementRef.nativeElement,tt,Rt)}registerOnTouched(tt){this.onTouched=tt}registerOnChange(tt){this.onChange=tt}setDisabledState(tt){this.setProperty("disabled",tt)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(g.sFG),g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:yt})}return yt})(),N=(()=>{class yt extends A{static#e=this.\u0275fac=(()=>{let tt;return function(dn){return(tt||(tt=g.xGo(yt)))(dn||yt)}})();static#t=this.\u0275dir=g.FsC({type:yt,features:[g.Vt3]})}return yt})();const L=new g.nKC(""),Y={provide:L,useExisting:(0,g.Rfq)(()=>te),multi:!0},G=new g.nKC("");let te=(()=>{class yt extends A{constructor(tt,Rt,dn){super(tt,Rt),this._compositionMode=dn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j(){const yt=(0,w.QT)()?(0,w.QT)().getUserAgent():"";return/android (\d+)/.test(yt.toLowerCase())}())}writeValue(tt){this.setProperty("value",tt??"")}_handleInput(tt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(tt)}_compositionStart(){this._composing=!0}_compositionEnd(tt){this._composing=!1,this._compositionMode&&this.onChange(tt)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(g.sFG),g.rXU(g.aKT),g.rXU(G,8))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Rt,dn){1&Rt&&g.bIt("input",function($i){return dn._handleInput($i.target.value)})("blur",function(){return dn.onTouched()})("compositionstart",function(){return dn._compositionStart()})("compositionend",function($i){return dn._compositionEnd($i.target.value)})},features:[g.Jv_([Y]),g.Vt3]})}return yt})();function ee(yt){return null==yt||("string"==typeof yt||Array.isArray(yt))&&0===yt.length}function q(yt){return null!=yt&&"number"==typeof yt.length}const J=new g.nKC(""),ne=new g.nKC(""),ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class re{static min(mt){return function ce(yt){return mt=>{if(ee(mt.value)||ee(yt))return null;const tt=parseFloat(mt.value);return!isNaN(tt)&&tt<yt?{min:{min:yt,actual:mt.value}}:null}}(mt)}static max(mt){return function se(yt){return mt=>{if(ee(mt.value)||ee(yt))return null;const tt=parseFloat(mt.value);return!isNaN(tt)&&tt>yt?{max:{max:yt,actual:mt.value}}:null}}(mt)}static required(mt){return pe(mt)}static requiredTrue(mt){return we(mt)}static email(mt){return function Me(yt){return ee(yt.value)||ie.test(yt.value)?null:{email:!0}}(mt)}static minLength(mt){return function k(yt){return mt=>ee(mt.value)||!q(mt.value)?null:mt.value.length<yt?{minlength:{requiredLength:yt,actualLength:mt.value.length}}:null}(mt)}static maxLength(mt){return l(mt)}static pattern(mt){return function h(yt){if(!yt)return m;let mt,tt;return"string"==typeof yt?(tt="","^"!==yt.charAt(0)&&(tt+="^"),tt+=yt,"$"!==yt.charAt(yt.length-1)&&(tt+="$"),mt=new RegExp(tt)):(tt=yt.toString(),mt=yt),Rt=>{if(ee(Rt.value))return null;const dn=Rt.value;return mt.test(dn)?null:{pattern:{requiredPattern:tt,actualValue:dn}}}}(mt)}static nullValidator(mt){return null}static compose(mt){return v(mt)}static composeAsync(mt){return z(mt)}}function pe(yt){return ee(yt.value)?{required:!0}:null}function we(yt){return!0===yt.value?null:{required:!0}}function l(yt){return mt=>q(mt.value)&&mt.value.length>yt?{maxlength:{requiredLength:yt,actualLength:mt.value.length}}:null}function m(yt){return null}function p(yt){return null!=yt}function x(yt){return(0,g.jNT)(yt)?(0,O.H)(yt):yt}function D(yt){let mt={};return yt.forEach(tt=>{mt=null!=tt?{...mt,...tt}:mt}),0===Object.keys(mt).length?null:mt}function B(yt,mt){return mt.map(tt=>tt(yt))}function d(yt){return yt.map(mt=>function M(yt){return!yt.validate}(mt)?mt:tt=>mt.validate(tt))}function v(yt){if(!yt)return null;const mt=yt.filter(p);return 0==mt.length?null:function(tt){return D(B(tt,mt))}}function W(yt){return null!=yt?v(d(yt)):null}function z(yt){if(!yt)return null;const mt=yt.filter(p);return 0==mt.length?null:function(tt){const Rt=B(tt,mt).map(x);return(0,X.p)(Rt).pipe((0,R.T)(D))}}function Q(yt){return null!=yt?z(d(yt)):null}function de(yt,mt){return null===yt?[mt]:Array.isArray(yt)?[...yt,mt]:[yt,mt]}function xe(yt){return yt._rawValidators}function Ie(yt){return yt._rawAsyncValidators}function Le(yt){return yt?Array.isArray(yt)?yt:[yt]:[]}function ve(yt,mt){return Array.isArray(yt)?yt.includes(mt):yt===mt}function ye(yt,mt){const tt=Le(mt);return Le(yt).forEach(dn=>{ve(tt,dn)||tt.push(dn)}),tt}function ke(yt,mt){return Le(mt).filter(tt=>!ve(yt,tt))}class me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(mt){this._rawValidators=mt||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(mt){this._rawAsyncValidators=mt||[],this._composedAsyncValidatorFn=Q(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(mt){this._onDestroyCallbacks.push(mt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(mt=>mt()),this._onDestroyCallbacks=[]}reset(mt=void 0){this.control&&this.control.reset(mt)}hasError(mt,tt){return!!this.control&&this.control.hasError(mt,tt)}getError(mt,tt){return this.control?this.control.getError(mt,tt):null}}class Ee extends me{get formDirective(){return null}get path(){return null}}class fe extends me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class he{constructor(mt){this._cd=mt}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ge=(()=>{class yt extends he{constructor(tt){super(tt)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(fe,2))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Rt,dn){2&Rt&&g.AVh("ng-untouched",dn.isUntouched)("ng-touched",dn.isTouched)("ng-pristine",dn.isPristine)("ng-dirty",dn.isDirty)("ng-valid",dn.isValid)("ng-invalid",dn.isInvalid)("ng-pending",dn.isPending)},features:[g.Vt3]})}return yt})(),Ae=(()=>{class yt extends he{constructor(tt){super(tt)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(Ee,10))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Rt,dn){2&Rt&&g.AVh("ng-untouched",dn.isUntouched)("ng-touched",dn.isTouched)("ng-pristine",dn.isPristine)("ng-dirty",dn.isDirty)("ng-valid",dn.isValid)("ng-invalid",dn.isInvalid)("ng-pending",dn.isPending)("ng-submitted",dn.isSubmitted)},features:[g.Vt3]})}return yt})();const Lt="VALID",Gt="INVALID",Vt="PENDING",zn="DISABLED";class cn{}class Bt extends cn{constructor(mt,tt){super(),this.value=mt,this.source=tt}}class Dt extends cn{constructor(mt,tt){super(),this.pristine=mt,this.source=tt}}class nt extends cn{constructor(mt,tt){super(),this.touched=mt,this.source=tt}}class Ye extends cn{constructor(mt,tt){super(),this.status=mt,this.source=tt}}class At extends cn{constructor(mt){super(),this.source=mt}}class kt extends cn{constructor(mt){super(),this.source=mt}}function $t(yt){return(ot(yt)?yt.validators:yt)||null}function et(yt,mt){return(ot(mt)?mt.asyncValidators:yt)||null}function ot(yt){return null!=yt&&!Array.isArray(yt)&&"object"==typeof yt}function He(yt,mt,tt){const Rt=yt.controls;if(!(mt?Object.keys(Rt):Rt).length)throw new g.wOt(1e3,"");if(!Rt[tt])throw new g.wOt(1001,"")}function ht(yt,mt,tt){yt._forEachChild((Rt,dn)=>{if(void 0===tt[dn])throw new g.wOt(1002,"")})}class sn{constructor(mt,tt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,g.EWP)(()=>this.statusReactive()),this.statusReactive=(0,g.vPA)(void 0),this._pristine=(0,g.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,g.vPA)(!0),this._touched=(0,g.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,g.vPA)(!1),this._events=new _.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(mt),this._assignAsyncValidators(tt)}get validator(){return this._composedValidatorFn}set validator(mt){this._rawValidators=this._composedValidatorFn=mt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(mt){this._rawAsyncValidators=this._composedAsyncValidatorFn=mt}get parent(){return this._parent}get status(){return(0,g.O8t)(this.statusReactive)}set status(mt){(0,g.O8t)(()=>this.statusReactive.set(mt))}get valid(){return this.status===Lt}get invalid(){return this.status===Gt}get pending(){return this.status==Vt}get disabled(){return this.status===zn}get enabled(){return this.status!==zn}get pristine(){return(0,g.O8t)(this.pristineReactive)}set pristine(mt){(0,g.O8t)(()=>this.pristineReactive.set(mt))}get dirty(){return!this.pristine}get touched(){return(0,g.O8t)(this.touchedReactive)}set touched(mt){(0,g.O8t)(()=>this.touchedReactive.set(mt))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(mt){this._assignValidators(mt)}setAsyncValidators(mt){this._assignAsyncValidators(mt)}addValidators(mt){this.setValidators(ye(mt,this._rawValidators))}addAsyncValidators(mt){this.setAsyncValidators(ye(mt,this._rawAsyncValidators))}removeValidators(mt){this.setValidators(ke(mt,this._rawValidators))}removeAsyncValidators(mt){this.setAsyncValidators(ke(mt,this._rawAsyncValidators))}hasValidator(mt){return ve(this._rawValidators,mt)}hasAsyncValidator(mt){return ve(this._rawAsyncValidators,mt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(mt={}){const tt=!1===this.touched;this.touched=!0;const Rt=mt.sourceControl??this;this._parent&&!mt.onlySelf&&this._parent.markAsTouched({...mt,sourceControl:Rt}),tt&&!1!==mt.emitEvent&&this._events.next(new nt(!0,Rt))}markAllAsTouched(mt={}){this.markAsTouched({onlySelf:!0,emitEvent:mt.emitEvent,sourceControl:this}),this._forEachChild(tt=>tt.markAllAsTouched(mt))}markAsUntouched(mt={}){const tt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Rt=mt.sourceControl??this;this._forEachChild(dn=>{dn.markAsUntouched({onlySelf:!0,emitEvent:mt.emitEvent,sourceControl:Rt})}),this._parent&&!mt.onlySelf&&this._parent._updateTouched(mt,Rt),tt&&!1!==mt.emitEvent&&this._events.next(new nt(!1,Rt))}markAsDirty(mt={}){const tt=!0===this.pristine;this.pristine=!1;const Rt=mt.sourceControl??this;this._parent&&!mt.onlySelf&&this._parent.markAsDirty({...mt,sourceControl:Rt}),tt&&!1!==mt.emitEvent&&this._events.next(new Dt(!1,Rt))}markAsPristine(mt={}){const tt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Rt=mt.sourceControl??this;this._forEachChild(dn=>{dn.markAsPristine({onlySelf:!0,emitEvent:mt.emitEvent})}),this._parent&&!mt.onlySelf&&this._parent._updatePristine(mt,Rt),tt&&!1!==mt.emitEvent&&this._events.next(new Dt(!0,Rt))}markAsPending(mt={}){this.status=Vt;const tt=mt.sourceControl??this;!1!==mt.emitEvent&&(this._events.next(new Ye(this.status,tt)),this.statusChanges.emit(this.status)),this._parent&&!mt.onlySelf&&this._parent.markAsPending({...mt,sourceControl:tt})}disable(mt={}){const tt=this._parentMarkedDirty(mt.onlySelf);this.status=zn,this.errors=null,this._forEachChild(dn=>{dn.disable({...mt,onlySelf:!0})}),this._updateValue();const Rt=mt.sourceControl??this;!1!==mt.emitEvent&&(this._events.next(new Bt(this.value,Rt)),this._events.next(new Ye(this.status,Rt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...mt,skipPristineCheck:tt},this),this._onDisabledChange.forEach(dn=>dn(!0))}enable(mt={}){const tt=this._parentMarkedDirty(mt.onlySelf);this.status=Lt,this._forEachChild(Rt=>{Rt.enable({...mt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:mt.emitEvent}),this._updateAncestors({...mt,skipPristineCheck:tt},this),this._onDisabledChange.forEach(Rt=>Rt(!1))}_updateAncestors(mt,tt){this._parent&&!mt.onlySelf&&(this._parent.updateValueAndValidity(mt),mt.skipPristineCheck||this._parent._updatePristine({},tt),this._parent._updateTouched({},tt))}setParent(mt){this._parent=mt}getRawValue(){return this.value}updateValueAndValidity(mt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Rt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lt||this.status===Vt)&&this._runAsyncValidator(Rt,mt.emitEvent)}const tt=mt.sourceControl??this;!1!==mt.emitEvent&&(this._events.next(new Bt(this.value,tt)),this._events.next(new Ye(this.status,tt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!mt.onlySelf&&this._parent.updateValueAndValidity({...mt,sourceControl:tt})}_updateTreeValidity(mt={emitEvent:!0}){this._forEachChild(tt=>tt._updateTreeValidity(mt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:mt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zn:Lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(mt,tt){if(this.asyncValidator){this.status=Vt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==tt};const Rt=x(this.asyncValidator(this));this._asyncValidationSubscription=Rt.subscribe(dn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(dn,{emitEvent:tt,shouldHaveEmitted:mt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const mt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,mt}return!1}setErrors(mt,tt={}){this.errors=mt,this._updateControlsErrors(!1!==tt.emitEvent,this,tt.shouldHaveEmitted)}get(mt){let tt=mt;return null==tt||(Array.isArray(tt)||(tt=tt.split(".")),0===tt.length)?null:tt.reduce((Rt,dn)=>Rt&&Rt._find(dn),this)}getError(mt,tt){const Rt=tt?this.get(tt):this;return Rt&&Rt.errors?Rt.errors[mt]:null}hasError(mt,tt){return!!this.getError(mt,tt)}get root(){let mt=this;for(;mt._parent;)mt=mt._parent;return mt}_updateControlsErrors(mt,tt,Rt){this.status=this._calculateStatus(),mt&&this.statusChanges.emit(this.status),(mt||Rt)&&this._events.next(new Ye(this.status,tt)),this._parent&&this._parent._updateControlsErrors(mt,tt,Rt)}_initObservables(){this.valueChanges=new g.bkB,this.statusChanges=new g.bkB}_calculateStatus(){return this._allControlsDisabled()?zn:this.errors?Gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vt)?Vt:this._anyControlsHaveStatus(Gt)?Gt:Lt}_anyControlsHaveStatus(mt){return this._anyControls(tt=>tt.status===mt)}_anyControlsDirty(){return this._anyControls(mt=>mt.dirty)}_anyControlsTouched(){return this._anyControls(mt=>mt.touched)}_updatePristine(mt,tt){const Rt=!this._anyControlsDirty(),dn=this.pristine!==Rt;this.pristine=Rt,this._parent&&!mt.onlySelf&&this._parent._updatePristine(mt,tt),dn&&this._events.next(new Dt(this.pristine,tt))}_updateTouched(mt={},tt){this.touched=this._anyControlsTouched(),this._events.next(new nt(this.touched,tt)),this._parent&&!mt.onlySelf&&this._parent._updateTouched(mt,tt)}_registerOnCollectionChange(mt){this._onCollectionChange=mt}_setUpdateStrategy(mt){ot(mt)&&null!=mt.updateOn&&(this._updateOn=mt.updateOn)}_parentMarkedDirty(mt){return!mt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(mt){return null}_assignValidators(mt){this._rawValidators=Array.isArray(mt)?mt.slice():mt,this._composedValidatorFn=function Bn(yt){return Array.isArray(yt)?W(yt):yt||null}(this._rawValidators)}_assignAsyncValidators(mt){this._rawAsyncValidators=Array.isArray(mt)?mt.slice():mt,this._composedAsyncValidatorFn=function it(yt){return Array.isArray(yt)?Q(yt):yt||null}(this._rawAsyncValidators)}}class Kt extends sn{constructor(mt,tt,Rt){super($t(tt),et(Rt,tt)),this.controls=mt,this._initObservables(),this._setUpdateStrategy(tt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(mt,tt){return this.controls[mt]?this.controls[mt]:(this.controls[mt]=tt,tt.setParent(this),tt._registerOnCollectionChange(this._onCollectionChange),tt)}addControl(mt,tt,Rt={}){this.registerControl(mt,tt),this.updateValueAndValidity({emitEvent:Rt.emitEvent}),this._onCollectionChange()}removeControl(mt,tt={}){this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),delete this.controls[mt],this.updateValueAndValidity({emitEvent:tt.emitEvent}),this._onCollectionChange()}setControl(mt,tt,Rt={}){this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),delete this.controls[mt],tt&&this.registerControl(mt,tt),this.updateValueAndValidity({emitEvent:Rt.emitEvent}),this._onCollectionChange()}contains(mt){return this.controls.hasOwnProperty(mt)&&this.controls[mt].enabled}setValue(mt,tt={}){ht(this,0,mt),Object.keys(mt).forEach(Rt=>{He(this,!0,Rt),this.controls[Rt].setValue(mt[Rt],{onlySelf:!0,emitEvent:tt.emitEvent})}),this.updateValueAndValidity(tt)}patchValue(mt,tt={}){null!=mt&&(Object.keys(mt).forEach(Rt=>{const dn=this.controls[Rt];dn&&dn.patchValue(mt[Rt],{onlySelf:!0,emitEvent:tt.emitEvent})}),this.updateValueAndValidity(tt))}reset(mt={},tt={}){this._forEachChild((Rt,dn)=>{Rt.reset(mt?mt[dn]:null,{onlySelf:!0,emitEvent:tt.emitEvent})}),this._updatePristine(tt,this),this._updateTouched(tt,this),this.updateValueAndValidity(tt)}getRawValue(){return this._reduceChildren({},(mt,tt,Rt)=>(mt[Rt]=tt.getRawValue(),mt))}_syncPendingControls(){let mt=this._reduceChildren(!1,(tt,Rt)=>!!Rt._syncPendingControls()||tt);return mt&&this.updateValueAndValidity({onlySelf:!0}),mt}_forEachChild(mt){Object.keys(this.controls).forEach(tt=>{const Rt=this.controls[tt];Rt&&mt(Rt,tt)})}_setUpControls(){this._forEachChild(mt=>{mt.setParent(this),mt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(mt){for(const[tt,Rt]of Object.entries(this.controls))if(this.contains(tt)&&mt(Rt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(tt,Rt,dn)=>((Rt.enabled||this.disabled)&&(tt[dn]=Rt.value),tt))}_reduceChildren(mt,tt){let Rt=mt;return this._forEachChild((dn,Ur)=>{Rt=tt(Rt,dn,Ur)}),Rt}_allControlsDisabled(){for(const mt of Object.keys(this.controls))if(this.controls[mt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(mt){return this.controls.hasOwnProperty(mt)?this.controls[mt]:null}}class un extends Kt{}const Hn=new g.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pn}),Pn="always";function Dn(yt,mt){return[...mt.path,yt]}function qt(yt,mt,tt=Pn){yr(yt,mt),mt.valueAccessor.writeValue(yt.value),(yt.disabled||"always"===tt)&&mt.valueAccessor.setDisabledState?.(yt.disabled),function vr(yt,mt){mt.valueAccessor.registerOnChange(tt=>{yt._pendingValue=tt,yt._pendingChange=!0,yt._pendingDirty=!0,"change"===yt.updateOn&&pr(yt,mt)})}(yt,mt),function kr(yt,mt){const tt=(Rt,dn)=>{mt.valueAccessor.writeValue(Rt),dn&&mt.viewToModelUpdate(Rt)};yt.registerOnChange(tt),mt._registerOnDestroy(()=>{yt._unregisterOnChange(tt)})}(yt,mt),function sr(yt,mt){mt.valueAccessor.registerOnTouched(()=>{yt._pendingTouched=!0,"blur"===yt.updateOn&&yt._pendingChange&&pr(yt,mt),"submit"!==yt.updateOn&&yt.markAsTouched()})}(yt,mt),function $n(yt,mt){if(mt.valueAccessor.setDisabledState){const tt=Rt=>{mt.valueAccessor.setDisabledState(Rt)};yt.registerOnDisabledChange(tt),mt._registerOnDestroy(()=>{yt._unregisterOnDisabledChange(tt)})}}(yt,mt)}function Yt(yt,mt,tt=!0){const Rt=()=>{};mt.valueAccessor&&(mt.valueAccessor.registerOnChange(Rt),mt.valueAccessor.registerOnTouched(Rt)),hr(yt,mt),yt&&(mt._invokeOnDestroyCallbacks(),yt._registerOnCollectionChange(()=>{}))}function Xn(yt,mt){yt.forEach(tt=>{tt.registerOnValidatorChange&&tt.registerOnValidatorChange(mt)})}function yr(yt,mt){const tt=xe(yt);null!==mt.validator?yt.setValidators(de(tt,mt.validator)):"function"==typeof tt&&yt.setValidators([tt]);const Rt=Ie(yt);null!==mt.asyncValidator?yt.setAsyncValidators(de(Rt,mt.asyncValidator)):"function"==typeof Rt&&yt.setAsyncValidators([Rt]);const dn=()=>yt.updateValueAndValidity();Xn(mt._rawValidators,dn),Xn(mt._rawAsyncValidators,dn)}function hr(yt,mt){let tt=!1;if(null!==yt){if(null!==mt.validator){const dn=xe(yt);if(Array.isArray(dn)&&dn.length>0){const Ur=dn.filter($i=>$i!==mt.validator);Ur.length!==dn.length&&(tt=!0,yt.setValidators(Ur))}}if(null!==mt.asyncValidator){const dn=Ie(yt);if(Array.isArray(dn)&&dn.length>0){const Ur=dn.filter($i=>$i!==mt.asyncValidator);Ur.length!==dn.length&&(tt=!0,yt.setAsyncValidators(Ur))}}}const Rt=()=>{};return Xn(mt._rawValidators,Rt),Xn(mt._rawAsyncValidators,Rt),tt}function pr(yt,mt){yt._pendingDirty&&yt.markAsDirty(),yt.setValue(yt._pendingValue,{emitModelToViewChange:!1}),mt.viewToModelUpdate(yt._pendingValue),yt._pendingChange=!1}function Tr(yt,mt){yr(yt,mt)}function xn(yt,mt){if(!yt.hasOwnProperty("model"))return!1;const tt=yt.model;return!!tt.isFirstChange()||!Object.is(mt,tt.currentValue)}function Jn(yt,mt){yt._syncPendingControls(),mt.forEach(tt=>{const Rt=tt.control;"submit"===Rt.updateOn&&Rt._pendingChange&&(tt.viewToModelUpdate(Rt._pendingValue),Rt._pendingChange=!1)})}function br(yt,mt){if(!mt)return null;let tt,Rt,dn;return Array.isArray(mt),mt.forEach(Ur=>{Ur.constructor===te?tt=Ur:function Vn(yt){return Object.getPrototypeOf(yt.constructor)===N}(Ur)?Rt=Ur:dn=Ur}),dn||Rt||tt||null}const Hi={provide:Ee,useExisting:(0,g.Rfq)(()=>Hr)},li=Promise.resolve();let Hr=(()=>{class yt extends Ee{get submitted(){return(0,g.O8t)(this.submittedReactive)}constructor(tt,Rt,dn){super(),this.callSetDisabledState=dn,this._submitted=(0,g.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,g.vPA)(!1),this._directives=new Set,this.ngSubmit=new g.bkB,this.form=new Kt({},W(tt),Q(Rt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(tt){li.then(()=>{const Rt=this._findContainer(tt.path);tt.control=Rt.registerControl(tt.name,tt.control),qt(tt.control,tt,this.callSetDisabledState),tt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(tt)})}getControl(tt){return this.form.get(tt.path)}removeControl(tt){li.then(()=>{const Rt=this._findContainer(tt.path);Rt&&Rt.removeControl(tt.name),this._directives.delete(tt)})}addFormGroup(tt){li.then(()=>{const Rt=this._findContainer(tt.path),dn=new Kt({});Tr(dn,tt),Rt.registerControl(tt.name,dn),dn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(tt){li.then(()=>{const Rt=this._findContainer(tt.path);Rt&&Rt.removeControl(tt.name)})}getFormGroup(tt){return this.form.get(tt.path)}updateModel(tt,Rt){li.then(()=>{this.form.get(tt.path).setValue(Rt)})}setValue(tt){this.control.setValue(tt)}onSubmit(tt){return this.submittedReactive.set(!0),Jn(this.form,this._directives),this.ngSubmit.emit(tt),"dialog"===tt?.target?.method}onReset(){this.resetForm()}resetForm(tt=void 0){this.form.reset(tt),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(tt){return tt.pop(),tt.length?this.form.get(tt):this.form}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(J,10),g.rXU(ne,10),g.rXU(Hn,8))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Rt,dn){1&Rt&&g.bIt("submit",function($i){return dn.onSubmit($i)})("reset",function(){return dn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.Jv_([Hi]),g.Vt3]})}return yt})();function Mi(yt,mt){const tt=yt.indexOf(mt);tt>-1&&yt.splice(tt,1)}function Xi(yt){return"object"==typeof yt&&null!==yt&&2===Object.keys(yt).length&&"value"in yt&&"disabled"in yt}const si=class extends sn{constructor(mt=null,tt,Rt){super($t(tt),et(Rt,tt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(mt),this._setUpdateStrategy(tt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ot(tt)&&(tt.nonNullable||tt.initialValueIsDefault)&&(this.defaultValue=Xi(mt)?mt.value:mt)}setValue(mt,tt={}){this.value=this._pendingValue=mt,this._onChange.length&&!1!==tt.emitModelToViewChange&&this._onChange.forEach(Rt=>Rt(this.value,!1!==tt.emitViewToModelChange)),this.updateValueAndValidity(tt)}patchValue(mt,tt={}){this.setValue(mt,tt)}reset(mt=this.defaultValue,tt={}){this._applyFormState(mt),this.markAsPristine(tt),this.markAsUntouched(tt),this.setValue(this.value,tt),this._pendingChange=!1}_updateValue(){}_anyControls(mt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(mt){this._onChange.push(mt)}_unregisterOnChange(mt){Mi(this._onChange,mt)}registerOnDisabledChange(mt){this._onDisabledChange.push(mt)}_unregisterOnDisabledChange(mt){Mi(this._onDisabledChange,mt)}_forEachChild(mt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(mt){Xi(mt)?(this.value=this._pendingValue=mt.value,mt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=mt}};let xs=(()=>{class yt extends Ee{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let tt;return function(dn){return(tt||(tt=g.xGo(yt)))(dn||yt)}})();static#t=this.\u0275dir=g.FsC({type:yt,features:[g.Vt3]})}return yt})();const Rn={provide:fe,useExisting:(0,g.Rfq)(()=>mn)},Ut=Promise.resolve();let mn=(()=>{class yt extends fe{constructor(tt,Rt,dn,Ur,$i,Yi){super(),this._changeDetectorRef=$i,this.callSetDisabledState=Yi,this.control=new si,this._registered=!1,this.name="",this.update=new g.bkB,this._parent=tt,this._setValidators(Rt),this._setAsyncValidators(dn),this.valueAccessor=br(0,Ur)}ngOnChanges(tt){if(this._checkForErrors(),!this._registered||"name"in tt){if(this._registered&&(this._checkName(),this.formDirective)){const Rt=tt.name.previousValue;this.formDirective.removeControl({name:Rt,path:this._getPath(Rt)})}this._setUpControl()}"isDisabled"in tt&&this._updateDisabled(tt),xn(tt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(tt){this.viewModel=tt,this.update.emit(tt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(tt){Ut.then(()=>{this.control.setValue(tt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(tt){const Rt=tt.isDisabled.currentValue,dn=0!==Rt&&(0,g.L39)(Rt);Ut.then(()=>{dn&&!this.control.disabled?this.control.disable():!dn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(tt){return this._parent?Dn(tt,this._parent):[tt]}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(Ee,9),g.rXU(J,10),g.rXU(ne,10),g.rXU(L,10),g.rXU(g.gRc,8),g.rXU(Hn,8))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g.Jv_([Rn]),g.Vt3,g.OA$]})}return yt})(),bn=(()=>{class yt{static#e=this.\u0275fac=function(Rt){return new(Rt||yt)};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return yt})();const Qs=new g.nKC(""),fu={provide:fe,useExisting:(0,g.Rfq)(()=>Qa)};let Qa=(()=>{class yt extends fe{set isDisabled(tt){}static#e=this._ngModelWarningSentOnce=!1;constructor(tt,Rt,dn,Ur,$i){super(),this._ngModelWarningConfig=Ur,this.callSetDisabledState=$i,this.update=new g.bkB,this._ngModelWarningSent=!1,this._setValidators(tt),this._setAsyncValidators(Rt),this.valueAccessor=br(0,dn)}ngOnChanges(tt){if(this._isControlChanged(tt)){const Rt=tt.form.previousValue;Rt&&Yt(Rt,this,!1),qt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}xn(tt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Yt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(tt){this.viewModel=tt,this.update.emit(tt)}_isControlChanged(tt){return tt.hasOwnProperty("form")}static#t=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(J,10),g.rXU(ne,10),g.rXU(L,10),g.rXU(Qs,8),g.rXU(Hn,8))};static#n=this.\u0275dir=g.FsC({type:yt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[g.Jv_([fu]),g.Vt3,g.OA$]})}return yt})();const _c={provide:Ee,useExisting:(0,g.Rfq)(()=>Yd)};let Yd=(()=>{class yt extends Ee{get submitted(){return(0,g.O8t)(this._submittedReactive)}set submitted(tt){this._submittedReactive.set(tt)}constructor(tt,Rt,dn){super(),this.callSetDisabledState=dn,this._submitted=(0,g.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,g.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.bkB,this._setValidators(tt),this._setAsyncValidators(Rt)}ngOnChanges(tt){this._checkFormPresent(),tt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(tt){const Rt=this.form.get(tt.path);return qt(Rt,tt,this.callSetDisabledState),Rt.updateValueAndValidity({emitEvent:!1}),this.directives.push(tt),Rt}getControl(tt){return this.form.get(tt.path)}removeControl(tt){Yt(tt.control||null,tt,!1),function lr(yt,mt){const tt=yt.indexOf(mt);tt>-1&&yt.splice(tt,1)}(this.directives,tt)}addFormGroup(tt){this._setUpFormContainer(tt)}removeFormGroup(tt){this._cleanUpFormContainer(tt)}getFormGroup(tt){return this.form.get(tt.path)}addFormArray(tt){this._setUpFormContainer(tt)}removeFormArray(tt){this._cleanUpFormContainer(tt)}getFormArray(tt){return this.form.get(tt.path)}updateModel(tt,Rt){this.form.get(tt.path).setValue(Rt)}onSubmit(tt){return this._submittedReactive.set(!0),Jn(this.form,this.directives),this.ngSubmit.emit(tt),this.form._events.next(new At(this.control)),"dialog"===tt?.target?.method}onReset(){this.resetForm()}resetForm(tt=void 0){this.form.reset(tt),this._submittedReactive.set(!1),this.form._events.next(new kt(this.form))}_updateDomValue(){this.directives.forEach(tt=>{const Rt=tt.control,dn=this.form.get(tt.path);Rt!==dn&&(Yt(Rt||null,tt),(yt=>yt instanceof si)(dn)&&(qt(dn,tt,this.callSetDisabledState),tt.control=dn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(tt){const Rt=this.form.get(tt.path);Tr(Rt,tt),Rt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(tt){if(this.form){const Rt=this.form.get(tt.path);Rt&&function jr(yt,mt){return hr(yt,mt)}(Rt,tt)&&Rt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yr(this.form,this),this._oldForm&&hr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(J,10),g.rXU(ne,10),g.rXU(Hn,8))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","formGroup",""]],hostBindings:function(Rt,dn){1&Rt&&g.bIt("submit",function($i){return dn.onSubmit($i)})("reset",function(){return dn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.Jv_([_c]),g.Vt3,g.OA$]})}return yt})();const Zf={provide:Ee,useExisting:(0,g.Rfq)(()=>vd)};let vd=(()=>{class yt extends xs{constructor(tt,Rt,dn){super(),this.name=null,this._parent=tt,this._setValidators(Rt),this._setAsyncValidators(dn)}_checkParentType(){ec(this._parent)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(Ee,13),g.rXU(J,10),g.rXU(ne,10))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[g.Jv_([Zf]),g.Vt3]})}return yt})();const Gc={provide:Ee,useExisting:(0,g.Rfq)(()=>ha)};let ha=(()=>{class yt extends Ee{constructor(tt,Rt,dn){super(),this.name=null,this._parent=tt,this._setValidators(Rt),this._setAsyncValidators(dn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ec(this._parent)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(Ee,13),g.rXU(J,10),g.rXU(ne,10))};static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[g.Jv_([Gc]),g.Vt3]})}return yt})();function ec(yt){return!(yt instanceof vd||yt instanceof Yd||yt instanceof ha)}const Yh={provide:fe,useExisting:(0,g.Rfq)(()=>Rl)};let Rl=(()=>{class yt extends fe{set isDisabled(tt){}static#e=this._ngModelWarningSentOnce=!1;constructor(tt,Rt,dn,Ur,$i){super(),this._ngModelWarningConfig=$i,this._added=!1,this.name=null,this.update=new g.bkB,this._ngModelWarningSent=!1,this._parent=tt,this._setValidators(Rt),this._setAsyncValidators(dn),this.valueAccessor=br(0,Ur)}ngOnChanges(tt){this._added||this._setUpControl(),xn(tt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(tt){this.viewModel=tt,this.update.emit(tt)}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Rt){return new(Rt||yt)(g.rXU(Ee,13),g.rXU(J,10),g.rXU(ne,10),g.rXU(L,10),g.rXU(Qs,8))};static#n=this.\u0275dir=g.FsC({type:yt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[g.Jv_([Yh]),g.Vt3,g.OA$]})}return yt})();let zs=(()=>{class yt{constructor(){this._validator=m}ngOnChanges(tt){if(this.inputName in tt){const Rt=this.normalizeInput(tt[this.inputName].currentValue);this._enabled=this.enabled(Rt),this._validator=this._enabled?this.createValidator(Rt):m,this._onChange&&this._onChange()}}validate(tt){return this._validator(tt)}registerOnValidatorChange(tt){this._onChange=tt}enabled(tt){return null!=tt}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)};static#t=this.\u0275dir=g.FsC({type:yt,features:[g.OA$]})}return yt})();const qf={provide:J,useExisting:(0,g.Rfq)(()=>gl),multi:!0},jo={provide:J,useExisting:(0,g.Rfq)(()=>Qf),multi:!0};let gl=(()=>{class yt extends zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.L39,this.createValidator=tt=>pe}enabled(tt){return tt}static#e=this.\u0275fac=(()=>{let tt;return function(dn){return(tt||(tt=g.xGo(yt)))(dn||yt)}})();static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Rt,dn){2&Rt&&g.BMQ("required",dn._enabled?"":null)},inputs:{required:"required"},features:[g.Jv_([qf]),g.Vt3]})}return yt})(),Qf=(()=>{class yt extends gl{constructor(){super(...arguments),this.createValidator=tt=>we}static#e=this.\u0275fac=(()=>{let tt;return function(dn){return(tt||(tt=g.xGo(yt)))(dn||yt)}})();static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Rt,dn){2&Rt&&g.BMQ("required",dn._enabled?"":null)},features:[g.Jv_([jo]),g.Vt3]})}return yt})();const ef={provide:J,useExisting:(0,g.Rfq)(()=>Ed),multi:!0};let Ed=(()=>{class yt extends zs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=tt=>function gs(yt){return"number"==typeof yt?yt:parseInt(yt,10)}(tt),this.createValidator=tt=>l(tt)}static#e=this.\u0275fac=(()=>{let tt;return function(dn){return(tt||(tt=g.xGo(yt)))(dn||yt)}})();static#t=this.\u0275dir=g.FsC({type:yt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Rt,dn){2&Rt&&g.BMQ("maxlength",dn._enabled?dn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[g.Jv_([ef]),g.Vt3]})}return yt})(),Ht=(()=>{class yt{static#e=this.\u0275fac=function(Rt){return new(Rt||yt)};static#t=this.\u0275mod=g.$C({type:yt});static#n=this.\u0275inj=g.G2t({})}return yt})();class ln extends sn{constructor(mt,tt,Rt){super($t(tt),et(Rt,tt)),this.controls=mt,this._initObservables(),this._setUpdateStrategy(tt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(mt){return this.controls[this._adjustIndex(mt)]}push(mt,tt={}){this.controls.push(mt),this._registerControl(mt),this.updateValueAndValidity({emitEvent:tt.emitEvent}),this._onCollectionChange()}insert(mt,tt,Rt={}){this.controls.splice(mt,0,tt),this._registerControl(tt),this.updateValueAndValidity({emitEvent:Rt.emitEvent})}removeAt(mt,tt={}){let Rt=this._adjustIndex(mt);Rt<0&&(Rt=0),this.controls[Rt]&&this.controls[Rt]._registerOnCollectionChange(()=>{}),this.controls.splice(Rt,1),this.updateValueAndValidity({emitEvent:tt.emitEvent})}setControl(mt,tt,Rt={}){let dn=this._adjustIndex(mt);dn<0&&(dn=0),this.controls[dn]&&this.controls[dn]._registerOnCollectionChange(()=>{}),this.controls.splice(dn,1),tt&&(this.controls.splice(dn,0,tt),this._registerControl(tt)),this.updateValueAndValidity({emitEvent:Rt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(mt,tt={}){ht(this,0,mt),mt.forEach((Rt,dn)=>{He(this,!1,dn),this.at(dn).setValue(Rt,{onlySelf:!0,emitEvent:tt.emitEvent})}),this.updateValueAndValidity(tt)}patchValue(mt,tt={}){null!=mt&&(mt.forEach((Rt,dn)=>{this.at(dn)&&this.at(dn).patchValue(Rt,{onlySelf:!0,emitEvent:tt.emitEvent})}),this.updateValueAndValidity(tt))}reset(mt=[],tt={}){this._forEachChild((Rt,dn)=>{Rt.reset(mt[dn],{onlySelf:!0,emitEvent:tt.emitEvent})}),this._updatePristine(tt,this),this._updateTouched(tt,this),this.updateValueAndValidity(tt)}getRawValue(){return this.controls.map(mt=>mt.getRawValue())}clear(mt={}){this.controls.length<1||(this._forEachChild(tt=>tt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:mt.emitEvent}))}_adjustIndex(mt){return mt<0?mt+this.length:mt}_syncPendingControls(){let mt=this.controls.reduce((tt,Rt)=>!!Rt._syncPendingControls()||tt,!1);return mt&&this.updateValueAndValidity({onlySelf:!0}),mt}_forEachChild(mt){this.controls.forEach((tt,Rt)=>{mt(tt,Rt)})}_updateValue(){this.value=this.controls.filter(mt=>mt.enabled||this.disabled).map(mt=>mt.value)}_anyControls(mt){return this.controls.some(tt=>tt.enabled&&mt(tt))}_setUpControls(){this._forEachChild(mt=>this._registerControl(mt))}_allControlsDisabled(){for(const mt of this.controls)if(mt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(mt){mt.setParent(this),mt._registerOnCollectionChange(this._onCollectionChange)}_find(mt){return this.at(mt)??null}}function nr(yt){return!!yt&&(void 0!==yt.asyncValidators||void 0!==yt.validators||void 0!==yt.updateOn)}let An=(()=>{class yt{constructor(){this.useNonNullable=!1}get nonNullable(){const tt=new yt;return tt.useNonNullable=!0,tt}group(tt,Rt=null){const dn=this._reduceControls(tt);let Ur={};return nr(Rt)?Ur=Rt:null!==Rt&&(Ur.validators=Rt.validator,Ur.asyncValidators=Rt.asyncValidator),new Kt(dn,Ur)}record(tt,Rt=null){const dn=this._reduceControls(tt);return new un(dn,Rt)}control(tt,Rt,dn){let Ur={};return this.useNonNullable?(nr(Rt)?Ur=Rt:(Ur.validators=Rt,Ur.asyncValidators=dn),new si(tt,{...Ur,nonNullable:!0})):new si(tt,Rt,dn)}array(tt,Rt,dn){const Ur=tt.map($i=>this._createControl($i));return new ln(Ur,Rt,dn)}_reduceControls(tt){const Rt={};return Object.keys(tt).forEach(dn=>{Rt[dn]=this._createControl(tt[dn])}),Rt}_createControl(tt){return tt instanceof si||tt instanceof sn?tt:Array.isArray(tt)?this.control(tt[0],tt.length>1?tt[1]:null,tt.length>2?tt[2]:null):this.control(tt)}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)};static#t=this.\u0275prov=g.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),qd=(()=>{class yt{static withConfig(tt){return{ngModule:yt,providers:[{provide:Hn,useValue:tt.callSetDisabledState??Pn}]}}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)};static#t=this.\u0275mod=g.$C({type:yt});static#n=this.\u0275inj=g.G2t({imports:[Ht]})}return yt})(),xd=(()=>{class yt{static withConfig(tt){return{ngModule:yt,providers:[{provide:Qs,useValue:tt.warnOnNgModelWithFormControl??"always"},{provide:Hn,useValue:tt.callSetDisabledState??Pn}]}}static#e=this.\u0275fac=function(Rt){return new(Rt||yt)};static#t=this.\u0275mod=g.$C({type:yt});static#n=this.\u0275inj=g.G2t({imports:[Ht]})}return yt})()},94073:()=>{"use strict";const Ne=":";Error;const de=function(Le,...ve){if(de.translate){const ke=de.translate(Le,ve);Le=ke[0],ve=ke[1]}let ye=Ie(Le[0],Le.raw[0]);for(let ke=1;ke<Le.length;ke++)ye+=ve[ke-1]+Ie(Le[ke],Le.raw[ke]);return ye},xe=":";function Ie(Le,ve){return ve.charAt(0)===xe?Le.substring(function m(Le,ve){for(let ye=1,ke=1;ye<Le.length;ye++,ke++)if("\\"===ve[ke])ke++;else if(Le[ye]===Ne)return ye;throw new Error(`Unterminated $localize metadata block in "${ve}".`)}(Le,ve)+1):Le}globalThis.$localize=de},88834:(Ne,V,E)=>{"use strict";E.d(V,{$z:()=>ce,Hl:()=>D,It:()=>se,iY:()=>p,pQ:()=>x});var g=E(36860),w=E(93953),O=E(18617),X=E(86600);const _=["mat-button",""],R=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],A=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],L=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",j=["mat-icon-button",""],G=["*"],ee=new w.nKC("MAT_BUTTON_CONFIG"),J=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ne=(()=>{class B{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(d){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,d)}get disableRipple(){return this._disableRipple}set disableRipple(d){this._disableRipple=d,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(d){this._disabled=d,this._updateRippleDisabled()}constructor(d,v,W,z){this._elementRef=d,this._platform=v,this._ngZone=W,this._animationMode=z,this._focusMonitor=(0,w.WQX)(O.FN),this._rippleLoader=(0,w.WQX)(X.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Q=(0,w.WQX)(ee,{optional:!0}),de=d.nativeElement,xe=de.classList;this.disabledInteractive=Q?.disabledInteractive??!1,this.color=Q?.color??null,this._rippleLoader?.configureRipple(de,{className:"mat-mdc-button-ripple"});for(const{attribute:Ie,mdcClasses:Le}of J)de.hasAttribute(Ie)&&xe.add(...Le)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(d="program",v){d?this._focusMonitor.focusVia(this._elementRef.nativeElement,d,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){w.QTQ()};static#t=this.\u0275dir=w.FsC({type:B,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",w.L39],disabled:[2,"disabled","disabled",w.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",w.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",w.L39]},features:[w.GFd]})}return B})(),re=(()=>{class B extends ne{constructor(d,v,W,z){super(d,v,W,z),this._haltDisabledEvents=Q=>{this.disabled&&(Q.preventDefault(),Q.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){w.QTQ()};static#t=this.\u0275dir=w.FsC({type:B,inputs:{tabIndex:[2,"tabIndex","tabIndex",d=>null==d?void 0:(0,w.Udg)(d)]},features:[w.GFd,w.Vt3]})}return B})(),ce=(()=>{class B extends ne{constructor(d,v,W,z){super(d,v,W,z)}static#e=this.\u0275fac=function(v){return new(v||B)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:B,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(w.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),w.HbH(W.color?"mat-"+W.color:""),w.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[w.Vt3,w.aNF],attrs:_,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(w.NAR(R),w.nrm(0,"span",0),w.SdG(1),w.j41(2,"span",1),w.SdG(3,1),w.k0s(),w.SdG(4,2),w.nrm(5,"span",2)(6,"span",3)),2&v&&w.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return B})(),se=(()=>{class B extends re{constructor(d,v,W,z){super(d,v,W,z)}static#e=this.\u0275fac=function(v){return new(v||B)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:B,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,W){2&v&&(w.BMQ("disabled",W._getDisabledAttribute())("tabindex",W.disabled&&!W.disabledInteractive?-1:W.tabIndex)("aria-disabled",W._getDisabledAttribute()),w.HbH(W.color?"mat-"+W.color:""),w.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[w.Vt3,w.aNF],attrs:_,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(w.NAR(R),w.nrm(0,"span",0),w.SdG(1),w.j41(2,"span",1),w.SdG(3,1),w.k0s(),w.SdG(4,2),w.nrm(5,"span",2)(6,"span",3)),2&v&&w.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',L],encapsulation:2,changeDetection:0})}return B})(),p=(()=>{class B extends ne{constructor(d,v,W,z){super(d,v,W,z),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||B)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:B,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(w.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),w.HbH(W.color?"mat-"+W.color:""),w.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[w.Vt3,w.aNF],attrs:j,ngContentSelectors:G,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(w.NAR(),w.nrm(0,"span",0),w.SdG(1),w.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',L],encapsulation:2,changeDetection:0})}return B})(),x=(()=>{class B extends re{constructor(d,v,W,z){super(d,v,W,z)}static#e=this.\u0275fac=function(v){return new(v||B)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:B,selectors:[["a","mat-icon-button",""]],hostVars:15,hostBindings:function(v,W){2&v&&(w.BMQ("disabled",W._getDisabledAttribute())("tabindex",W.disabled&&!W.disabledInteractive?-1:W.tabIndex)("aria-disabled",W._getDisabledAttribute()),w.HbH(W.color?"mat-"+W.color:""),w.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[w.Vt3,w.aNF],attrs:j,ngContentSelectors:G,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(w.NAR(),w.nrm(0,"span",0),w.SdG(1),w.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',L],encapsulation:2,changeDetection:0})}return B})(),D=(()=>{class B{static#e=this.\u0275fac=function(v){return new(v||B)};static#t=this.\u0275mod=w.$C({type:B});static#n=this.\u0275inj=w.G2t({imports:[X.yE,X.pZ,X.yE]})}return B})()},25596:(Ne,V,E)=>{"use strict";E.d(V,{Hu:()=>we,Lc:()=>G,MM:()=>ee,QG:()=>se,RN:()=>F,WQ:()=>q,YY:()=>te,dh:()=>C,kF:()=>J,m2:()=>j});var g=E(93953),w=E(60177),O=E(86600);const X=["*"],A=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],N=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],L=new g.nKC("MAT_CARD_CONFIG");let F=(()=>{class Me{constructor(l){this.appearance=l?.appearance||"raised"}static#e=this.\u0275fac=function(h){return new(h||Me)(g.rXU(L,8))};static#t=this.\u0275cmp=g.VBU({type:Me,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(h,m){2&h&&g.AVh("mat-mdc-card-outlined","outlined"===m.appearance)("mdc-card--outlined","outlined"===m.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[g.aNF],ngContentSelectors:X,decls:1,vars:0,template:function(h,m){1&h&&(g.NAR(),g.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return Me})(),C=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return Me})(),j=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return Me})(),G=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return Me})(),te=(()=>{class Me{constructor(){this.align="start"}static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(h,m){2&h&&g.AVh("mat-mdc-card-actions-align-end","end"===m.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return Me})(),ee=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275cmp=g.VBU({type:Me,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[g.aNF],ngContentSelectors:N,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(h,m){1&h&&(g.NAR(A),g.SdG(0),g.j41(1,"div",0),g.SdG(2,1),g.k0s(),g.SdG(3,2))},encapsulation:2,changeDetection:0})}return Me})(),q=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return Me})(),J=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return Me})(),se=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275dir=g.FsC({type:Me,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return Me})(),we=(()=>{class Me{static#e=this.\u0275fac=function(h){return new(h||Me)};static#t=this.\u0275mod=g.$C({type:Me});static#n=this.\u0275inj=g.G2t({imports:[O.yE,w.MD,O.yE]})}return Me})()},86600:(Ne,V,E)=>{"use strict";E.d(V,{r5:()=>re,ed:()=>ce,es:()=>me,QC:()=>Nt,is:()=>Oe,$E:()=>T,yE:()=>we,Np:()=>ae,wT:()=>Gt,Sy:()=>cn,wg:()=>le,O5:()=>De,r6:()=>S,Ej:()=>$t,pZ:()=>Z,ug:()=>ut,X0:()=>D,tO:()=>Bn,jb:()=>Vt,TL:()=>zn});var g=E(93953),w=E(18617),O=E(28203),_=E(60177),R=E(36860),A=E(14085),N=E(21413),L=E(67336);const Y=["text"],j=[[["mat-icon"]],"*"],G=["mat-icon","*"];function te(et,it){if(1&et&&g.nrm(0,"mat-pseudo-checkbox",1),2&et){const ot=g.XpG();g.Y8G("disabled",ot.disabled)("state",ot.selected?"checked":"unchecked")}}function ee(et,it){if(1&et&&g.nrm(0,"mat-pseudo-checkbox",3),2&et){const ot=g.XpG();g.Y8G("disabled",ot.disabled)}}function q(et,it){if(1&et&&(g.j41(0,"span",4),g.EFF(1),g.k0s()),2&et){const ot=g.XpG();g.R7$(),g.SpI("(",ot.group.label,")")}}const J=["mat-internal-form-field",""],ne=["*"];let re=(()=>{class et{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return et})(),ce=(()=>{class et{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return et})();const pe=new g.nKC("mat-sanity-checks",{providedIn:"root",factory:function se(){return!0}});let we=(()=>{class et{constructor(ot,He,ht){this._sanityChecks=He,this._document=ht,this._hasDoneGlobalChecks=!1,ot._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ot){return!(0,R.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ot])}static#e=this.\u0275fac=function(He){return new(He||et)(g.KVO(w.Q_),g.KVO(pe,8),g.KVO(_.qQ))};static#t=this.\u0275mod=g.$C({type:et});static#n=this.\u0275inj=g.G2t({imports:[O.jI,O.jI]})}return et})();class D{constructor(it,ot,He,ht,sn){this._defaultMatcher=it,this.ngControl=ot,this._parentFormGroup=He,this._parentForm=ht,this._stateChanges=sn,this.errorState=!1}updateErrorState(){const it=this.errorState,ot=this._parentFormGroup||this._parentForm,He=this.matcher||this._defaultMatcher,ht=this.ngControl?this.ngControl.control:null,sn=He?.isErrorState(ht,ot)??!1;sn!==it&&(this.errorState=sn,this._stateChanges.next())}}let me=(()=>{class et{isErrorState(ot,He){return!!(ot&&ot.invalid&&(ot.touched||He&&He.submitted))}static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275prov=g.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),ae=(()=>{class et{static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275mod=g.$C({type:et});static#n=this.\u0275inj=g.G2t({imports:[we,we]})}return et})();var ue=function(et){return et[et.FADING_IN=0]="FADING_IN",et[et.VISIBLE=1]="VISIBLE",et[et.FADING_OUT=2]="FADING_OUT",et[et.HIDDEN=3]="HIDDEN",et}(ue||{});class ge{constructor(it,ot,He,ht=!1){this._renderer=it,this.element=ot,this.config=He,this._animationForciblyDisabledThroughCss=ht,this.state=ue.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ae=(0,R.BQ)({passive:!0,capture:!0});class Ue{constructor(){this._events=new Map,this._delegateEventHandler=it=>{const ot=(0,R.Fb)(it);ot&&this._events.get(it.type)?.forEach((He,ht)=>{(ht===ot||ht.contains(ot))&&He.forEach(sn=>sn.handleEvent(it))})}}addHandler(it,ot,He,ht){const sn=this._events.get(ot);if(sn){const Kt=sn.get(He);Kt?Kt.add(ht):sn.set(He,new Set([ht]))}else this._events.set(ot,new Map([[He,new Set([ht])]])),it.runOutsideAngular(()=>{document.addEventListener(ot,this._delegateEventHandler,Ae)})}removeHandler(it,ot,He){const ht=this._events.get(it);if(!ht)return;const sn=ht.get(ot);sn&&(sn.delete(He),0===sn.size&&ht.delete(ot),0===ht.size&&(this._events.delete(it),document.removeEventListener(it,this._delegateEventHandler,Ae)))}}const Ve={enterDuration:225,exitDuration:150},It=(0,R.BQ)({passive:!0,capture:!0}),qe=["mousedown","touchstart"],je=["mouseup","mouseleave","touchend","touchcancel"];class ut{static#e=this._eventManager=new Ue;constructor(it,ot,He,ht){this._target=it,this._ngZone=ot,this._platform=ht,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ht.isBrowser&&(this._containerElement=(0,A.i8)(He))}fadeInRipple(it,ot,He={}){const ht=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),sn={...Ve,...He.animation};He.centered&&(it=ht.left+ht.width/2,ot=ht.top+ht.height/2);const Kt=He.radius||function $(et,it,ot){const He=Math.max(Math.abs(et-ot.left),Math.abs(et-ot.right)),ht=Math.max(Math.abs(it-ot.top),Math.abs(it-ot.bottom));return Math.sqrt(He*He+ht*ht)}(it,ot,ht),rn=it-ht.left,ir=ot-ht.top,pn=sn.enterDuration,un=document.createElement("div");un.classList.add("mat-ripple-element"),un.style.left=rn-Kt+"px",un.style.top=ir-Kt+"px",un.style.height=2*Kt+"px",un.style.width=2*Kt+"px",null!=He.color&&(un.style.backgroundColor=He.color),un.style.transitionDuration=`${pn}ms`,this._containerElement.appendChild(un);const ur=window.getComputedStyle(un),Pn=ur.transitionDuration,Dn="none"===ur.transitionProperty||"0s"===Pn||"0s, 0s"===Pn||0===ht.width&&0===ht.height,qt=new ge(this,un,He,Dn);un.style.transform="scale3d(1, 1, 1)",qt.state=ue.FADING_IN,He.persistent||(this._mostRecentTransientRipple=qt);let Yt=null;return!Dn&&(pn||sn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Xn=()=>{Yt&&(Yt.fallbackTimer=null),clearTimeout(yr),this._finishRippleTransition(qt)},$n=()=>this._destroyRipple(qt),yr=setTimeout($n,pn+100);un.addEventListener("transitionend",Xn),un.addEventListener("transitioncancel",$n),Yt={onTransitionEnd:Xn,onTransitionCancel:$n,fallbackTimer:yr}}),this._activeRipples.set(qt,Yt),(Dn||!pn)&&this._finishRippleTransition(qt),qt}fadeOutRipple(it){if(it.state===ue.FADING_OUT||it.state===ue.HIDDEN)return;const ot=it.element,He={...Ve,...it.config.animation};ot.style.transitionDuration=`${He.exitDuration}ms`,ot.style.opacity="0",it.state=ue.FADING_OUT,(it._animationForciblyDisabledThroughCss||!He.exitDuration)&&this._finishRippleTransition(it)}fadeOutAll(){this._getActiveRipples().forEach(it=>it.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(it=>{it.config.persistent||it.fadeOut()})}setupTriggerEvents(it){const ot=(0,A.i8)(it);!this._platform.isBrowser||!ot||ot===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ot,qe.forEach(He=>{ut._eventManager.addHandler(this._ngZone,He,ot,this)}))}handleEvent(it){"mousedown"===it.type?this._onMousedown(it):"touchstart"===it.type?this._onTouchStart(it):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{je.forEach(ot=>{this._triggerElement.addEventListener(ot,this,It)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(it){it.state===ue.FADING_IN?this._startFadeOutTransition(it):it.state===ue.FADING_OUT&&this._destroyRipple(it)}_startFadeOutTransition(it){const ot=it===this._mostRecentTransientRipple,{persistent:He}=it.config;it.state=ue.VISIBLE,!He&&(!ot||!this._isPointerDown)&&it.fadeOut()}_destroyRipple(it){const ot=this._activeRipples.get(it)??null;this._activeRipples.delete(it),this._activeRipples.size||(this._containerRect=null),it===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),it.state=ue.HIDDEN,null!==ot&&(it.element.removeEventListener("transitionend",ot.onTransitionEnd),it.element.removeEventListener("transitioncancel",ot.onTransitionCancel),null!==ot.fallbackTimer&&clearTimeout(ot.fallbackTimer)),it.element.remove()}_onMousedown(it){const ot=(0,w._G)(it),He=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ot&&!He&&(this._isPointerDown=!0,this.fadeInRipple(it.clientX,it.clientY,this._target.rippleConfig))}_onTouchStart(it){if(!this._target.rippleDisabled&&!(0,w.w6)(it)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ot=it.changedTouches;if(ot)for(let He=0;He<ot.length;He++)this.fadeInRipple(ot[He].clientX,ot[He].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(it=>{!it.config.persistent&&(it.state===ue.VISIBLE||it.config.terminateOnPointerUp&&it.state===ue.FADING_IN)&&it.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const it=this._triggerElement;it&&(qe.forEach(ot=>ut._eventManager.removeHandler(ot,it,this)),this._pointerUpEventsRegistered&&(je.forEach(ot=>it.removeEventListener(ot,this,It)),this._pointerUpEventsRegistered=!1))}}const T=new g.nKC("mat-ripple-global-options");let S=(()=>{class et{get disabled(){return this._disabled}set disabled(ot){ot&&this.fadeOutAllNonPersistent(),this._disabled=ot,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ot){this._trigger=ot,this._setupTriggerEventsIfEnabled()}constructor(ot,He,ht,sn,Kt){this._elementRef=ot,this._animationMode=Kt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=sn||{},this._rippleRenderer=new ut(this,He,ot,ht)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ot,He=0,ht){return"number"==typeof ot?this._rippleRenderer.fadeInRipple(ot,He,{...this.rippleConfig,...ht}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ot})}static#e=this.\u0275fac=function(He){return new(He||et)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(R.OD),g.rXU(T,8),g.rXU(g.bc$,8))};static#t=this.\u0275dir=g.FsC({type:et,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,ht){2&He&&g.AVh("mat-ripple-unbounded",ht.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return et})(),Z=(()=>{class et{static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275mod=g.$C({type:et});static#n=this.\u0275inj=g.G2t({imports:[we,we]})}return et})(),le=(()=>{class et{constructor(ot){this._animationMode=ot,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(He){return new(He||et)(g.rXU(g.bc$,8))};static#t=this.\u0275cmp=g.VBU({type:et,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(He,ht){2&He&&g.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===ht.state)("mat-pseudo-checkbox-checked","checked"===ht.state)("mat-pseudo-checkbox-disabled",ht.disabled)("mat-pseudo-checkbox-minimal","minimal"===ht.appearance)("mat-pseudo-checkbox-full","full"===ht.appearance)("_mat-animation-noopable","NoopAnimations"===ht._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(He,ht){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return et})(),De=(()=>{class et{static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275mod=g.$C({type:et});static#n=this.\u0275inj=g.G2t({imports:[we]})}return et})();const Oe=new g.nKC("MAT_OPTION_PARENT_COMPONENT"),Nt=new g.nKC("MatOptgroup");let St=0;class Lt{constructor(it,ot=!1){this.source=it,this.isUserInput=ot}}let Gt=(()=>{class et{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ot){this._disabled=ot}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(ot,He,ht,sn){this._element=ot,this._changeDetectorRef=He,this._parent=ht,this.group=sn,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+St++,this.onSelectionChange=new g.bkB,this._stateChanges=new N.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(ot=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),ot&&this._emitSelectionChangeEvent())}deselect(ot=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),ot&&this._emitSelectionChangeEvent())}focus(ot,He){const ht=this._getHostElement();"function"==typeof ht.focus&&ht.focus(He)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ot){(ot.keyCode===L.Fm||ot.keyCode===L.t6)&&!(0,L.rp)(ot)&&(this._selectViaInteraction(),ot.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ot=this.viewValue;ot!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=ot)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ot=!1){this.onSelectionChange.emit(new Lt(this,ot))}static#e=this.\u0275fac=function(He){return new(He||et)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(Oe,8),g.rXU(Nt,8))};static#t=this.\u0275cmp=g.VBU({type:et,selectors:[["mat-option"]],viewQuery:function(He,ht){if(1&He&&g.GBs(Y,7),2&He){let sn;g.mGM(sn=g.lsd())&&(ht._text=sn.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(He,ht){1&He&&g.bIt("click",function(){return ht._selectViaInteraction()})("keydown",function(Kt){return ht._handleKeydown(Kt)}),2&He&&(g.Mr5("id",ht.id),g.BMQ("aria-selected",ht.selected)("aria-disabled",ht.disabled.toString()),g.AVh("mdc-list-item--selected",ht.selected)("mat-mdc-option-multiple",ht.multiple)("mat-mdc-option-active",ht.active)("mdc-list-item--disabled",ht.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",g.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:G,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(He,ht){1&He&&(g.NAR(j),g.DNE(0,te,1,2,"mat-pseudo-checkbox",1),g.SdG(1),g.j41(2,"span",2,0),g.SdG(4,1),g.k0s(),g.DNE(5,ee,1,1,"mat-pseudo-checkbox",3)(6,q,2,1,"span",4),g.nrm(7,"div",5)),2&He&&(g.vxM(ht.multiple?0:-1),g.R7$(5),g.vxM(ht.multiple||!ht.selected||ht.hideSingleSelectionIndicator?-1:5),g.R7$(),g.vxM(ht.group&&ht.group._inert?6:-1),g.R7$(),g.Y8G("matRippleTrigger",ht._getHostElement())("matRippleDisabled",ht.disabled||ht.disableRipple))},dependencies:[le,S],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return et})();function Vt(et,it,ot){if(ot.length){let He=it.toArray(),ht=ot.toArray(),sn=0;for(let Kt=0;Kt<et+1;Kt++)He[Kt].group&&He[Kt].group===ht[sn]&&sn++;return sn}return 0}function zn(et,it,ot,He){return et<ot?et:et+it>ot+He?Math.max(0,et-He+it):ot}let cn=(()=>{class et{static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275mod=g.$C({type:et});static#n=this.\u0275inj=g.G2t({imports:[Z,we,De]})}return et})();const Bt={capture:!0},Dt=["focus","mousedown","mouseenter","touchstart"],nt="mat-ripple-loader-uninitialized",Ye="mat-ripple-loader-class-name",At="mat-ripple-loader-centered",kt="mat-ripple-loader-disabled";let $t=(()=>{class et{constructor(){this._document=(0,g.WQX)(_.qQ,{optional:!0}),this._animationMode=(0,g.WQX)(g.bc$,{optional:!0}),this._globalRippleOptions=(0,g.WQX)(T,{optional:!0}),this._platform=(0,g.WQX)(R.OD),this._ngZone=(0,g.WQX)(g.SKi),this._hosts=new Map,this._onInteraction=ot=>{const He=(0,R.Fb)(ot);if(He instanceof HTMLElement){const ht=He.closest(`[${nt}="${this._globalRippleOptions?.namespace??""}"]`);ht&&this._createRipple(ht)}},this._ngZone.runOutsideAngular(()=>{for(const ot of Dt)this._document?.addEventListener(ot,this._onInteraction,Bt)})}ngOnDestroy(){const ot=this._hosts.keys();for(const He of ot)this.destroyRipple(He);for(const He of Dt)this._document?.removeEventListener(He,this._onInteraction,Bt)}configureRipple(ot,He){ot.setAttribute(nt,this._globalRippleOptions?.namespace??""),(He.className||!ot.hasAttribute(Ye))&&ot.setAttribute(Ye,He.className||""),He.centered&&ot.setAttribute(At,""),He.disabled&&ot.setAttribute(kt,"")}getRipple(ot){return this._hosts.get(ot)||this._createRipple(ot)}setDisabled(ot,He){const ht=this._hosts.get(ot);ht?ht.disabled=He:He?ot.setAttribute(kt,""):ot.removeAttribute(kt)}_createRipple(ot){if(!this._document)return;const He=this._hosts.get(ot);if(He)return He;ot.querySelector(".mat-ripple")?.remove();const ht=this._document.createElement("span");ht.classList.add("mat-ripple",ot.getAttribute(Ye)),ot.append(ht);const sn=new S(new g.aKT(ht),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return sn._isInitialized=!0,sn.trigger=ot,sn.centered=ot.hasAttribute(At),sn.disabled=ot.hasAttribute(kt),this.attachRipple(ot,sn),sn}attachRipple(ot,He){ot.removeAttribute(nt),this._hosts.set(ot,He)}destroyRipple(ot){const He=this._hosts.get(ot);He&&(He.ngOnDestroy(),this._hosts.delete(ot))}static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275prov=g.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),Bn=(()=>{class et{static#e=this.\u0275fac=function(He){return new(He||et)};static#t=this.\u0275cmp=g.VBU({type:et,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(He,ht){2&He&&g.AVh("mdc-form-field--align-end","before"===ht.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[g.aNF],attrs:J,ngContentSelectors:ne,decls:1,vars:0,template:function(He,ht){1&He&&(g.NAR(),g.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return et})()},71997:(Ne,V,E)=>{"use strict";E.d(V,{q:()=>X,w:()=>_});var g=E(93953),w=E(14085),O=E(86600);let X=(()=>{class R{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(N){this._vertical=(0,w.he)(N)}get inset(){return this._inset}set inset(N){this._inset=(0,w.he)(N)}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275cmp=g.VBU({type:R,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(L,F){2&L&&(g.BMQ("aria-orientation",F.vertical?"vertical":"horizontal"),g.AVh("mat-divider-vertical",F.vertical)("mat-divider-horizontal",!F.vertical)("mat-divider-inset",F.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(L,F){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return R})(),_=(()=>{class R{static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275mod=g.$C({type:R});static#n=this.\u0275inj=g.G2t({imports:[O.yE,O.yE]})}return R})()},53719:(Ne,V,E)=>{"use strict";E.d(V,{MV:()=>Le,RG:()=>Oe,TL:()=>xe,U$:()=>ut,nJ:()=>z,qT:()=>Ve,rl:()=>De,xb:()=>je,yw:()=>me});var g=E(93953),w=E(28203),O=E(14085),X=E(36860),_=E(60177),R=E(18359),A=E(21413),N=E(57786),L=E(56977),F=E(98170),C=E(49969),Y=E(72318),j=E(86600);const G=["notch"],te=["matFormFieldNotchedOutline",""],ee=["*"],q=["textField"],J=["iconPrefixContainer"],ne=["textPrefixContainer"],ie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],re=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ce(Qe,Nt){1&Qe&&g.nrm(0,"span",19)}function se(Qe,Nt){if(1&Qe&&(g.j41(0,"label",18),g.SdG(1,1),g.DNE(2,ce,1,0,"span",19),g.k0s()),2&Qe){const ft=g.XpG(2);g.Y8G("floating",ft._shouldLabelFloat())("monitorResize",ft._hasOutline())("id",ft._labelId),g.BMQ("for",ft._control.disableAutomaticLabeling?null:ft._control.id),g.R7$(2),g.vxM(!ft.hideRequiredMarker&&ft._control.required?2:-1)}}function pe(Qe,Nt){if(1&Qe&&g.DNE(0,se,3,5,"label",18),2&Qe){const ft=g.XpG();g.vxM(ft._hasFloatingLabel()?0:-1)}}function we(Qe,Nt){1&Qe&&g.nrm(0,"div",5)}function Me(Qe,Nt){}function k(Qe,Nt){if(1&Qe&&g.DNE(0,Me,0,0,"ng-template",11),2&Qe){g.XpG(2);const ft=g.sdS(1);g.Y8G("ngTemplateOutlet",ft)}}function l(Qe,Nt){if(1&Qe&&(g.j41(0,"div",7),g.DNE(1,k,1,1,null,11),g.k0s()),2&Qe){const ft=g.XpG();g.Y8G("matFormFieldNotchedOutlineOpen",ft._shouldLabelFloat()),g.R7$(),g.vxM(ft._forceDisplayInfixLabel()?-1:1)}}function h(Qe,Nt){1&Qe&&(g.j41(0,"div",8,2),g.SdG(2,2),g.k0s())}function m(Qe,Nt){1&Qe&&(g.j41(0,"div",9,3),g.SdG(2,3),g.k0s())}function p(Qe,Nt){}function x(Qe,Nt){if(1&Qe&&g.DNE(0,p,0,0,"ng-template",11),2&Qe){g.XpG();const ft=g.sdS(1);g.Y8G("ngTemplateOutlet",ft)}}function D(Qe,Nt){1&Qe&&(g.j41(0,"div",12),g.SdG(1,4),g.k0s())}function B(Qe,Nt){1&Qe&&(g.j41(0,"div",13),g.SdG(1,5),g.k0s())}function M(Qe,Nt){1&Qe&&g.nrm(0,"div",14)}function d(Qe,Nt){if(1&Qe&&(g.j41(0,"div",16),g.SdG(1,6),g.k0s()),2&Qe){const ft=g.XpG();g.Y8G("@transitionMessages",ft._subscriptAnimationState)}}function v(Qe,Nt){if(1&Qe&&(g.j41(0,"mat-hint",20),g.EFF(1),g.k0s()),2&Qe){const ft=g.XpG(2);g.Y8G("id",ft._hintLabelId),g.R7$(),g.JRh(ft.hintLabel)}}function W(Qe,Nt){if(1&Qe&&(g.j41(0,"div",17),g.DNE(1,v,2,2,"mat-hint",20),g.SdG(2,7),g.nrm(3,"div",21),g.SdG(4,8),g.k0s()),2&Qe){const ft=g.XpG();g.Y8G("@transitionMessages",ft._subscriptAnimationState),g.R7$(),g.vxM(ft.hintLabel?1:-1)}}let z=(()=>{class Qe{static#e=this.\u0275fac=function(St){return new(St||Qe)};static#t=this.\u0275dir=g.FsC({type:Qe,selectors:[["mat-label"]],standalone:!0})}return Qe})(),Q=0;const de=new g.nKC("MatError");let xe=(()=>{class Qe{constructor(ft,St){this.id="mat-mdc-error-"+Q++,ft||St.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(St){return new(St||Qe)(g.kS0("aria-live"),g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:Qe,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(St,Lt){2&St&&g.Mr5("id",Lt.id)},inputs:{id:"id"},standalone:!0,features:[g.Jv_([{provide:de,useExisting:Qe}])]})}return Qe})(),Ie=0,Le=(()=>{class Qe{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ie++}static#e=this.\u0275fac=function(St){return new(St||Qe)};static#t=this.\u0275dir=g.FsC({type:Qe,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(St,Lt){2&St&&(g.Mr5("id",Lt.id),g.BMQ("align",null),g.AVh("mat-mdc-form-field-hint-end","end"===Lt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Qe})();const ve=new g.nKC("MatPrefix"),ke=new g.nKC("MatSuffix");let me=(()=>{class Qe{constructor(){this._isText=!1}set _isTextSelector(ft){this._isText=!0}static#e=this.\u0275fac=function(St){return new(St||Qe)};static#t=this.\u0275dir=g.FsC({type:Qe,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[g.Jv_([{provide:ke,useExisting:Qe}])]})}return Qe})();const Ee=new g.nKC("FloatingLabelParent");let fe=(()=>{class Qe{get floating(){return this._floating}set floating(ft){this._floating=ft,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(ft){this._monitorResize=ft,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(ft){this._elementRef=ft,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,g.WQX)(F.a),this._ngZone=(0,g.WQX)(g.SKi),this._parent=(0,g.WQX)(Ee),this._resizeSubscription=new R.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function he(Qe){if(null!==Qe.offsetParent)return Qe.scrollWidth;const ft=Qe.cloneNode(!0);ft.style.setProperty("position","absolute"),ft.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(ft);const St=ft.scrollWidth;return ft.remove(),St}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(St){return new(St||Qe)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:Qe,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(St,Lt){2&St&&g.AVh("mdc-floating-label--float-above",Lt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Qe})();const ae="mdc-line-ripple--active",ue="mdc-line-ripple--deactivating";let ge=(()=>{class Qe{constructor(ft,St){this._elementRef=ft,this._handleTransitionEnd=Lt=>{const Gt=this._elementRef.nativeElement.classList,Vt=Gt.contains(ue);"opacity"===Lt.propertyName&&Vt&&Gt.remove(ae,ue)},St.runOutsideAngular(()=>{ft.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const ft=this._elementRef.nativeElement.classList;ft.remove(ue),ft.add(ae)}deactivate(){this._elementRef.nativeElement.classList.add(ue)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(St){return new(St||Qe)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275dir=g.FsC({type:Qe,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Qe})(),Ae=(()=>{class Qe{constructor(ft,St){this._elementRef=ft,this._ngZone=St,this.open=!1}ngAfterViewInit(){const ft=this._elementRef.nativeElement.querySelector(".mdc-floating-label");ft?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(ft.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>ft.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(ft){this._notch.nativeElement.style.width=this.open&&ft?`calc(${ft}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(St){return new(St||Qe)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275cmp=g.VBU({type:Qe,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(St,Lt){if(1&St&&g.GBs(G,5),2&St){let Gt;g.mGM(Gt=g.lsd())&&(Lt._notch=Gt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(St,Lt){2&St&&g.AVh("mdc-notched-outline--notched",Lt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[g.aNF],attrs:te,ngContentSelectors:ee,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(St,Lt){1&St&&(g.NAR(),g.nrm(0,"div",1),g.j41(1,"div",2,0),g.SdG(3),g.k0s(),g.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Qe})();const Ue={transitionMessages:(0,C.hZ)("transitionMessages",[(0,C.wk)("enter",(0,C.iF)({opacity:1,transform:"translateY(0%)"})),(0,C.kY)("void => enter",[(0,C.iF)({opacity:0,transform:"translateY(-5px)"}),(0,C.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ve=(()=>{class Qe{static#e=this.\u0275fac=function(St){return new(St||Qe)};static#t=this.\u0275dir=g.FsC({type:Qe})}return Qe})();const je=new g.nKC("MatFormField"),ut=new g.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let $=0;const T="fill",Z="fixed";let De=(()=>{class Qe{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ft){this._hideRequiredMarker=(0,O.he)(ft)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(ft){ft!==this._floatLabel&&(this._floatLabel=ft,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(ft){const St=this._appearance;this._appearance=ft||this._defaults?.appearance||T,"outline"===this._appearance&&this._appearance!==St&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Z}set subscriptSizing(ft){this._subscriptSizing=ft||this._defaults?.subscriptSizing||Z}get hintLabel(){return this._hintLabel}set hintLabel(ft){this._hintLabel=ft,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(ft){this._explicitFormFieldControl=ft}constructor(ft,St,Lt,Gt,Vt,zn,cn,Bt){this._elementRef=ft,this._changeDetectorRef=St,this._dir=Gt,this._platform=Vt,this._defaults=zn,this._animationMode=cn,this._labelChild=(0,g.sbv)(z),this._hideRequiredMarker=!1,this.color="primary",this._appearance=T,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+$++,this._hintLabelId="mat-mdc-hint-"+$++,this._subscriptAnimationState="",this._destroyed=new A.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,g.WQX)(g.zZn),this.getLabelId=(0,g.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,g.EWP)(()=>!!this._labelChild()),zn&&(zn.appearance&&(this.appearance=zn.appearance),this._hideRequiredMarker=!!zn?.hideRequiredMarker,zn.color&&(this.color=zn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const ft=this._control;ft.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${ft.controlType}`),ft.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ft.ngControl&&ft.ngControl.valueChanges&&ft.ngControl.valueChanges.pipe((0,L.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(ft=>!ft._isText),this._hasTextPrefix=!!this._prefixChildren.find(ft=>ft._isText),this._hasIconSuffix=!!this._suffixChildren.find(ft=>!ft._isText),this._hasTextSuffix=!!this._suffixChildren.find(ft=>ft._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,N.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,g.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,L.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(ft){const St=this._control?this._control.ngControl:null;return St&&St[ft]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let ft=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ft.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const St=this._hintChildren?this._hintChildren.find(Gt=>"start"===Gt.align):null,Lt=this._hintChildren?this._hintChildren.find(Gt=>"end"===Gt.align):null;St?ft.push(St.id):this._hintLabel&&ft.push(this._hintLabelId),Lt&&ft.push(Lt.id)}else this._errorChildren&&ft.push(...this._errorChildren.map(St=>St.id));this._control.setDescribedByIds(ft)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const ft=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(ft.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const St=this._iconPrefixContainer?.nativeElement,Lt=this._textPrefixContainer?.nativeElement,Gt=St?.getBoundingClientRect().width??0,Vt=Lt?.getBoundingClientRect().width??0;ft.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Gt+Vt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const ft=this._elementRef.nativeElement;if(ft.getRootNode){const St=ft.getRootNode();return St&&St!==ft}return document.documentElement.contains(ft)}static#e=this.\u0275fac=function(St){return new(St||Qe)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(g.SKi),g.rXU(w.dS),g.rXU(X.OD),g.rXU(ut,8),g.rXU(g.bc$,8),g.rXU(_.qQ))};static#t=this.\u0275cmp=g.VBU({type:Qe,selectors:[["mat-form-field"]],contentQueries:function(St,Lt,Gt){if(1&St&&(g.C6U(Gt,Lt._labelChild,z,5),g.wni(Gt,Ve,5),g.wni(Gt,ve,5),g.wni(Gt,ke,5),g.wni(Gt,de,5),g.wni(Gt,Le,5)),2&St){let Vt;g.NyB(),g.mGM(Vt=g.lsd())&&(Lt._formFieldControl=Vt.first),g.mGM(Vt=g.lsd())&&(Lt._prefixChildren=Vt),g.mGM(Vt=g.lsd())&&(Lt._suffixChildren=Vt),g.mGM(Vt=g.lsd())&&(Lt._errorChildren=Vt),g.mGM(Vt=g.lsd())&&(Lt._hintChildren=Vt)}},viewQuery:function(St,Lt){if(1&St&&(g.GBs(q,5),g.GBs(J,5),g.GBs(ne,5),g.GBs(fe,5),g.GBs(Ae,5),g.GBs(ge,5)),2&St){let Gt;g.mGM(Gt=g.lsd())&&(Lt._textField=Gt.first),g.mGM(Gt=g.lsd())&&(Lt._iconPrefixContainer=Gt.first),g.mGM(Gt=g.lsd())&&(Lt._textPrefixContainer=Gt.first),g.mGM(Gt=g.lsd())&&(Lt._floatingLabel=Gt.first),g.mGM(Gt=g.lsd())&&(Lt._notchedOutline=Gt.first),g.mGM(Gt=g.lsd())&&(Lt._lineRipple=Gt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(St,Lt){2&St&&g.AVh("mat-mdc-form-field-label-always-float",Lt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Lt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Lt._hasIconSuffix)("mat-form-field-invalid",Lt._control.errorState)("mat-form-field-disabled",Lt._control.disabled)("mat-form-field-autofilled",Lt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Lt._animationMode)("mat-form-field-appearance-fill","fill"==Lt.appearance)("mat-form-field-appearance-outline","outline"==Lt.appearance)("mat-form-field-hide-placeholder",Lt._hasFloatingLabel()&&!Lt._shouldLabelFloat())("mat-focused",Lt._control.focused)("mat-primary","accent"!==Lt.color&&"warn"!==Lt.color)("mat-accent","accent"===Lt.color)("mat-warn","warn"===Lt.color)("ng-untouched",Lt._shouldForward("untouched"))("ng-touched",Lt._shouldForward("touched"))("ng-pristine",Lt._shouldForward("pristine"))("ng-dirty",Lt._shouldForward("dirty"))("ng-valid",Lt._shouldForward("valid"))("ng-invalid",Lt._shouldForward("invalid"))("ng-pending",Lt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[g.Jv_([{provide:je,useExisting:Qe},{provide:Ee,useExisting:Qe}]),g.aNF],ngContentSelectors:re,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(St,Lt){if(1&St){const Gt=g.RV6();g.NAR(ie),g.DNE(0,pe,1,1,"ng-template",null,0,g.C5r),g.j41(2,"div",4,1),g.bIt("click",function(zn){return g.eBV(Gt),g.Njj(Lt._control.onContainerClick(zn))}),g.DNE(4,we,1,0,"div",5),g.j41(5,"div",6),g.DNE(6,l,2,2,"div",7)(7,h,3,0,"div",8)(8,m,3,0,"div",9),g.j41(9,"div",10),g.DNE(10,x,1,1,null,11),g.SdG(11),g.k0s(),g.DNE(12,D,2,0,"div",12)(13,B,2,0,"div",13),g.k0s(),g.DNE(14,M,1,0,"div",14),g.k0s(),g.j41(15,"div",15),g.DNE(16,d,2,1,"div",16)(17,W,5,2,"div",17),g.k0s()}if(2&St){let Gt;g.R7$(2),g.AVh("mdc-text-field--filled",!Lt._hasOutline())("mdc-text-field--outlined",Lt._hasOutline())("mdc-text-field--no-label",!Lt._hasFloatingLabel())("mdc-text-field--disabled",Lt._control.disabled)("mdc-text-field--invalid",Lt._control.errorState),g.R7$(2),g.vxM(Lt._hasOutline()||Lt._control.disabled?-1:4),g.R7$(2),g.vxM(Lt._hasOutline()?6:-1),g.R7$(),g.vxM(Lt._hasIconPrefix?7:-1),g.R7$(),g.vxM(Lt._hasTextPrefix?8:-1),g.R7$(2),g.vxM(!Lt._hasOutline()||Lt._forceDisplayInfixLabel()?10:-1),g.R7$(2),g.vxM(Lt._hasTextSuffix?12:-1),g.R7$(),g.vxM(Lt._hasIconSuffix?13:-1),g.R7$(),g.vxM(Lt._hasOutline()?-1:14),g.R7$(),g.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Lt.subscriptSizing),g.R7$(),g.vxM("error"===(Gt=Lt._getDisplayedMessages())?16:"hint"===Gt?17:-1)}},dependencies:[fe,Ae,_.T3,ge,Le],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ue.transitionMessages]},changeDetection:0})}return Qe})(),Oe=(()=>{class Qe{static#e=this.\u0275fac=function(St){return new(St||Qe)};static#t=this.\u0275mod=g.$C({type:Qe});static#n=this.\u0275inj=g.G2t({imports:[j.yE,_.MD,Y.w5,j.yE]})}return Qe})()},99213:(Ne,V,E)=>{"use strict";E.d(V,{An:()=>v,m_:()=>W});var g=E(93953),w=E(86600),O=E(60177),X=E(7673),_=E(18810),R=E(27468),A=E(18359),N=E(88141),L=E(96354),F=E(99437),C=E(70980),Y=E(97647),j=E(96697),G=E(21626),te=E(345);const ee=["*"];let q;function ne(z){return function J(){if(void 0===q&&(q=null,typeof window<"u")){const z=window;void 0!==z.trustedTypes&&(q=z.trustedTypes.createPolicy("angular#components",{createHTML:Q=>Q}))}return q}()?.createHTML(z)||z}function ie(z){return Error(`Unable to find icon with the name "${z}"`)}function ce(z){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${z}".`)}function se(z){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${z}".`)}class pe{constructor(Q,de,xe){this.url=Q,this.svgText=de,this.options=xe}}let we=(()=>{class z{constructor(de,xe,Ie,Le){this._httpClient=de,this._sanitizer=xe,this._errorHandler=Le,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ie}addSvgIcon(de,xe,Ie){return this.addSvgIconInNamespace("",de,xe,Ie)}addSvgIconLiteral(de,xe,Ie){return this.addSvgIconLiteralInNamespace("",de,xe,Ie)}addSvgIconInNamespace(de,xe,Ie,Le){return this._addSvgIconConfig(de,xe,new pe(Ie,null,Le))}addSvgIconResolver(de){return this._resolvers.push(de),this}addSvgIconLiteralInNamespace(de,xe,Ie,Le){const ve=this._sanitizer.sanitize(g.WPN.HTML,Ie);if(!ve)throw se(Ie);const ye=ne(ve);return this._addSvgIconConfig(de,xe,new pe("",ye,Le))}addSvgIconSet(de,xe){return this.addSvgIconSetInNamespace("",de,xe)}addSvgIconSetLiteral(de,xe){return this.addSvgIconSetLiteralInNamespace("",de,xe)}addSvgIconSetInNamespace(de,xe,Ie){return this._addSvgIconSetConfig(de,new pe(xe,null,Ie))}addSvgIconSetLiteralInNamespace(de,xe,Ie){const Le=this._sanitizer.sanitize(g.WPN.HTML,xe);if(!Le)throw se(xe);const ve=ne(Le);return this._addSvgIconSetConfig(de,new pe("",ve,Ie))}registerFontClassAlias(de,xe=de){return this._fontCssClassesByAlias.set(de,xe),this}classNameForFontAlias(de){return this._fontCssClassesByAlias.get(de)||de}setDefaultFontSetClass(...de){return this._defaultFontSetClass=de,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(de){const xe=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,de);if(!xe)throw ce(de);const Ie=this._cachedIconsByUrl.get(xe);return Ie?(0,X.of)(l(Ie)):this._loadSvgIconFromConfig(new pe(de,null)).pipe((0,N.M)(Le=>this._cachedIconsByUrl.set(xe,Le)),(0,L.T)(Le=>l(Le)))}getNamedSvgIcon(de,xe=""){const Ie=h(xe,de);let Le=this._svgIconConfigs.get(Ie);if(Le)return this._getSvgFromConfig(Le);if(Le=this._getIconConfigFromResolvers(xe,de),Le)return this._svgIconConfigs.set(Ie,Le),this._getSvgFromConfig(Le);const ve=this._iconSetConfigs.get(xe);return ve?this._getSvgFromIconSetConfigs(de,ve):(0,_.$)(ie(Ie))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(de){return de.svgText?(0,X.of)(l(this._svgElementFromConfig(de))):this._loadSvgIconFromConfig(de).pipe((0,L.T)(xe=>l(xe)))}_getSvgFromIconSetConfigs(de,xe){const Ie=this._extractIconWithNameFromAnySet(de,xe);if(Ie)return(0,X.of)(Ie);const Le=xe.filter(ve=>!ve.svgText).map(ve=>this._loadSvgIconSetFromConfig(ve).pipe((0,F.W)(ye=>{const me=`Loading icon set URL: ${this._sanitizer.sanitize(g.WPN.RESOURCE_URL,ve.url)} failed: ${ye.message}`;return this._errorHandler.handleError(new Error(me)),(0,X.of)(null)})));return(0,R.p)(Le).pipe((0,L.T)(()=>{const ve=this._extractIconWithNameFromAnySet(de,xe);if(!ve)throw ie(de);return ve}))}_extractIconWithNameFromAnySet(de,xe){for(let Ie=xe.length-1;Ie>=0;Ie--){const Le=xe[Ie];if(Le.svgText&&Le.svgText.toString().indexOf(de)>-1){const ve=this._svgElementFromConfig(Le),ye=this._extractSvgIconFromSet(ve,de,Le.options);if(ye)return ye}}return null}_loadSvgIconFromConfig(de){return this._fetchIcon(de).pipe((0,N.M)(xe=>de.svgText=xe),(0,L.T)(()=>this._svgElementFromConfig(de)))}_loadSvgIconSetFromConfig(de){return de.svgText?(0,X.of)(null):this._fetchIcon(de).pipe((0,N.M)(xe=>de.svgText=xe))}_extractSvgIconFromSet(de,xe,Ie){const Le=de.querySelector(`[id="${xe}"]`);if(!Le)return null;const ve=Le.cloneNode(!0);if(ve.removeAttribute("id"),"svg"===ve.nodeName.toLowerCase())return this._setSvgAttributes(ve,Ie);if("symbol"===ve.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ve),Ie);const ye=this._svgElementFromString(ne("<svg></svg>"));return ye.appendChild(ve),this._setSvgAttributes(ye,Ie)}_svgElementFromString(de){const xe=this._document.createElement("DIV");xe.innerHTML=de;const Ie=xe.querySelector("svg");if(!Ie)throw Error("<svg> tag not found");return Ie}_toSvgElement(de){const xe=this._svgElementFromString(ne("<svg></svg>")),Ie=de.attributes;for(let Le=0;Le<Ie.length;Le++){const{name:ve,value:ye}=Ie[Le];"id"!==ve&&xe.setAttribute(ve,ye)}for(let Le=0;Le<de.childNodes.length;Le++)de.childNodes[Le].nodeType===this._document.ELEMENT_NODE&&xe.appendChild(de.childNodes[Le].cloneNode(!0));return xe}_setSvgAttributes(de,xe){return de.setAttribute("fit",""),de.setAttribute("height","100%"),de.setAttribute("width","100%"),de.setAttribute("preserveAspectRatio","xMidYMid meet"),de.setAttribute("focusable","false"),xe&&xe.viewBox&&de.setAttribute("viewBox",xe.viewBox),de}_fetchIcon(de){const{url:xe,options:Ie}=de,Le=Ie?.withCredentials??!1;if(!this._httpClient)throw function re(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==xe)throw Error(`Cannot fetch icon from URL "${xe}".`);const ve=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,xe);if(!ve)throw ce(xe);const ye=this._inProgressUrlFetches.get(ve);if(ye)return ye;const ke=this._httpClient.get(ve,{responseType:"text",withCredentials:Le}).pipe((0,L.T)(me=>ne(me)),(0,C.j)(()=>this._inProgressUrlFetches.delete(ve)),(0,Y.u)());return this._inProgressUrlFetches.set(ve,ke),ke}_addSvgIconConfig(de,xe,Ie){return this._svgIconConfigs.set(h(de,xe),Ie),this}_addSvgIconSetConfig(de,xe){const Ie=this._iconSetConfigs.get(de);return Ie?Ie.push(xe):this._iconSetConfigs.set(de,[xe]),this}_svgElementFromConfig(de){if(!de.svgElement){const xe=this._svgElementFromString(de.svgText);this._setSvgAttributes(xe,de.options),de.svgElement=xe}return de.svgElement}_getIconConfigFromResolvers(de,xe){for(let Ie=0;Ie<this._resolvers.length;Ie++){const Le=this._resolvers[Ie](xe,de);if(Le)return m(Le)?new pe(Le.url,null,Le.options):new pe(Le,null)}}static#e=this.\u0275fac=function(xe){return new(xe||z)(g.KVO(G.Qq,8),g.KVO(te.up),g.KVO(O.qQ,8),g.KVO(g.zcH))};static#t=this.\u0275prov=g.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function l(z){return z.cloneNode(!0)}function h(z,Q){return z+":"+Q}function m(z){return!(!z.url||!z.options)}const p=new g.nKC("MAT_ICON_DEFAULT_OPTIONS"),x=new g.nKC("mat-icon-location",{providedIn:"root",factory:function D(){const z=(0,g.WQX)(O.qQ),Q=z?z.location:null;return{getPathname:()=>Q?Q.pathname+Q.search:""}}}),B=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],M=B.map(z=>`[${z}]`).join(", "),d=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class z{get color(){return this._color||this._defaultColor}set color(de){this._color=de}get svgIcon(){return this._svgIcon}set svgIcon(de){de!==this._svgIcon&&(de?this._updateSvgIcon(de):this._svgIcon&&this._clearSvgElement(),this._svgIcon=de)}get fontSet(){return this._fontSet}set fontSet(de){const xe=this._cleanupFontValue(de);xe!==this._fontSet&&(this._fontSet=xe,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(de){const xe=this._cleanupFontValue(de);xe!==this._fontIcon&&(this._fontIcon=xe,this._updateFontIconClasses())}constructor(de,xe,Ie,Le,ve,ye){this._elementRef=de,this._iconRegistry=xe,this._location=Le,this._errorHandler=ve,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=A.yU.EMPTY,ye&&(ye.color&&(this.color=this._defaultColor=ye.color),ye.fontSet&&(this.fontSet=ye.fontSet)),Ie||de.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(de){if(!de)return["",""];const xe=de.split(":");switch(xe.length){case 1:return["",xe[0]];case 2:return xe;default:throw Error(`Invalid icon name: "${de}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const de=this._elementsWithExternalReferences;if(de&&de.size){const xe=this._location.getPathname();xe!==this._previousPath&&(this._previousPath=xe,this._prependPathToReferences(xe))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(de){this._clearSvgElement();const xe=this._location.getPathname();this._previousPath=xe,this._cacheChildrenWithExternalReferences(de),this._prependPathToReferences(xe),this._elementRef.nativeElement.appendChild(de)}_clearSvgElement(){const de=this._elementRef.nativeElement;let xe=de.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();xe--;){const Ie=de.childNodes[xe];(1!==Ie.nodeType||"svg"===Ie.nodeName.toLowerCase())&&Ie.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const de=this._elementRef.nativeElement,xe=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ie=>Ie.length>0);this._previousFontSetClass.forEach(Ie=>de.classList.remove(Ie)),xe.forEach(Ie=>de.classList.add(Ie)),this._previousFontSetClass=xe,this.fontIcon!==this._previousFontIconClass&&!xe.includes("mat-ligature-font")&&(this._previousFontIconClass&&de.classList.remove(this._previousFontIconClass),this.fontIcon&&de.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(de){return"string"==typeof de?de.trim().split(" ")[0]:de}_prependPathToReferences(de){const xe=this._elementsWithExternalReferences;xe&&xe.forEach((Ie,Le)=>{Ie.forEach(ve=>{Le.setAttribute(ve.name,`url('${de}#${ve.value}')`)})})}_cacheChildrenWithExternalReferences(de){const xe=de.querySelectorAll(M),Ie=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Le=0;Le<xe.length;Le++)B.forEach(ve=>{const ye=xe[Le],ke=ye.getAttribute(ve),me=ke?ke.match(d):null;if(me){let Ee=Ie.get(ye);Ee||(Ee=[],Ie.set(ye,Ee)),Ee.push({name:ve,value:me[1]})}})}_updateSvgIcon(de){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),de){const[xe,Ie]=this._splitIconName(de);xe&&(this._svgNamespace=xe),Ie&&(this._svgName=Ie),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ie,xe).pipe((0,j.s)(1)).subscribe(Le=>this._setSvgElement(Le),Le=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${xe}:${Ie}! ${Le.message}`))})}}static#e=this.\u0275fac=function(xe){return new(xe||z)(g.rXU(g.aKT),g.rXU(we),g.kS0("aria-hidden"),g.rXU(x),g.rXU(g.zcH),g.rXU(p,8))};static#t=this.\u0275cmp=g.VBU({type:z,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(xe,Ie){2&xe&&(g.BMQ("data-mat-icon-type",Ie._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ie._svgName||Ie.fontIcon)("data-mat-icon-namespace",Ie._svgNamespace||Ie.fontSet)("fontIcon",Ie._usingFontIcon()?Ie.fontIcon:null),g.HbH(Ie.color?"mat-"+Ie.color:""),g.AVh("mat-icon-inline",Ie.inline)("mat-icon-no-color","primary"!==Ie.color&&"accent"!==Ie.color&&"warn"!==Ie.color))},inputs:{color:"color",inline:[2,"inline","inline",g.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:ee,decls:1,vars:0,template:function(xe,Ie){1&xe&&(g.NAR(),g.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return z})(),W=(()=>{class z{static#e=this.\u0275fac=function(xe){return new(xe||z)};static#t=this.\u0275mod=g.$C({type:z});static#n=this.\u0275inj=g.G2t({imports:[w.yE,w.yE]})}return z})()},99631:(Ne,V,E)=>{"use strict";E.d(V,{fg:()=>J,fS:()=>ne});var g=E(14085),w=E(36860),O=E(93953),X=E(983),_=E(21413);const R=(0,w.BQ)({passive:!0});let A=(()=>{class ie{constructor(ce,se){this._platform=ce,this._ngZone=se,this._monitoredElements=new Map}monitor(ce){if(!this._platform.isBrowser)return X.w;const se=(0,g.i8)(ce),pe=this._monitoredElements.get(se);if(pe)return pe.subject;const we=new _.B,Me="cdk-text-field-autofilled",k=l=>{"cdk-text-field-autofill-start"!==l.animationName||se.classList.contains(Me)?"cdk-text-field-autofill-end"===l.animationName&&se.classList.contains(Me)&&(se.classList.remove(Me),this._ngZone.run(()=>we.next({target:l.target,isAutofilled:!1}))):(se.classList.add(Me),this._ngZone.run(()=>we.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{se.addEventListener("animationstart",k,R),se.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(se,{subject:we,unlisten:()=>{se.removeEventListener("animationstart",k,R)}}),we}stopMonitoring(ce){const se=(0,g.i8)(ce),pe=this._monitoredElements.get(se);pe&&(pe.unlisten(),pe.subject.complete(),se.classList.remove("cdk-text-field-autofill-monitored"),se.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(se))}ngOnDestroy(){this._monitoredElements.forEach((ce,se)=>this.stopMonitoring(se))}static#e=this.\u0275fac=function(se){return new(se||ie)(O.KVO(w.OD),O.KVO(O.SKi))};static#t=this.\u0275prov=O.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})(),F=(()=>{class ie{static#e=this.\u0275fac=function(se){return new(se||ie)};static#t=this.\u0275mod=O.$C({type:ie});static#n=this.\u0275inj=O.G2t({})}return ie})();var C=E(89417),Y=E(86600),j=E(53719);const te=new O.nKC("MAT_INPUT_VALUE_ACCESSOR"),ee=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let q=0,J=(()=>{class ie{get disabled(){return this._disabled}set disabled(ce){this._disabled=(0,g.he)(ce),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ce){this._id=ce||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(C.k0.required)??!1}set required(ce){this._required=(0,g.he)(ce)}get type(){return this._type}set type(ce){this._type=ce||"text",this._validateType(),!this._isTextarea&&(0,w.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ce){this._errorStateTracker.matcher=ce}get value(){return this._inputValueAccessor.value}set value(ce){ce!==this.value&&(this._inputValueAccessor.value=ce,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ce){this._readonly=(0,g.he)(ce)}get errorState(){return this._errorStateTracker.errorState}set errorState(ce){this._errorStateTracker.errorState=ce}constructor(ce,se,pe,we,Me,k,l,h,m,p){this._elementRef=ce,this._platform=se,this.ngControl=pe,this._autofillMonitor=h,this._formField=p,this._uid="mat-input-"+q++,this.focused=!1,this.stateChanges=new _.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>(0,w.MU)().has(B)),this._iOSKeyupListener=B=>{const M=B.target;!M.value&&0===M.selectionStart&&0===M.selectionEnd&&(M.setSelectionRange(1,1),M.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,D=x.nodeName.toLowerCase();this._inputValueAccessor=l||x,this._previousNativeValue=this.value,this.id=this.id,se.IOS&&m.runOutsideAngular(()=>{ce.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Y.X0(k,pe,Me,we,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ce=>{this.autofilled=ce.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ce){this._elementRef.nativeElement.focus(ce)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(ce){ce!==this.focused&&(this.focused=ce,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const ce=this._elementRef.nativeElement.value;this._previousNativeValue!==ce&&(this._previousNativeValue=ce,this.stateChanges.next())}_dirtyCheckPlaceholder(){const ce=this._getPlaceholder();if(ce!==this._previousPlaceholder){const se=this._elementRef.nativeElement;this._previousPlaceholder=ce,ce?se.setAttribute("placeholder",ce):se.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ee.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ce=this._elementRef.nativeElement.validity;return ce&&ce.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ce=this._elementRef.nativeElement,se=ce.options[0];return this.focused||ce.multiple||!this.empty||!!(ce.selectedIndex>-1&&se&&se.label)}return this.focused||!this.empty}setDescribedByIds(ce){ce.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ce.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ce=this._elementRef.nativeElement;return this._isNativeSelect&&(ce.multiple||ce.size>1)}static#e=this.\u0275fac=function(se){return new(se||ie)(O.rXU(O.aKT),O.rXU(w.OD),O.rXU(C.vO,10),O.rXU(C.cV,8),O.rXU(C.j4,8),O.rXU(Y.es),O.rXU(te,10),O.rXU(A),O.rXU(O.SKi),O.rXU(j.xb,8))};static#t=this.\u0275dir=O.FsC({type:ie,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(se,pe){1&se&&O.bIt("focus",function(){return pe._focusChanged(!0)})("blur",function(){return pe._focusChanged(!1)})("input",function(){return pe._onInput()}),2&se&&(O.Mr5("id",pe.id)("disabled",pe.disabled)("required",pe.required),O.BMQ("name",pe.name||null)("readonly",pe.readonly&&!pe._isNativeSelect||null)("aria-invalid",pe.empty&&pe.required?null:pe.errorState)("aria-required",pe.required)("id",pe.id),O.AVh("mat-input-server",pe._isServer)("mat-mdc-form-field-textarea-control",pe._isInFormField&&pe._isTextarea)("mat-mdc-form-field-input-control",pe._isInFormField)("mdc-text-field__input",pe._isInFormField)("mat-mdc-native-select-inline",pe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[O.Jv_([{provide:j.qT,useExisting:ie}]),O.OA$]})}return ie})(),ne=(()=>{class ie{static#e=this.\u0275fac=function(se){return new(se||ie)};static#t=this.\u0275mod=O.$C({type:ie});static#n=this.\u0275inj=O.G2t({imports:[Y.yE,j.RG,j.RG,F,Y.yE]})}return ie})()},3902:(Ne,V,E)=>{"use strict";E.d(V,{C_:()=>de,EI:()=>Ue,Fg:()=>ut,YE:()=>ue,ZV:()=>ve,_L:()=>ze,jt:()=>ae,yE:()=>Q,zi:()=>Le});var g=E(93953),w=E(14085),O=E(36860),X=E(86600),_=E(18359),R=E(57786),N=(E(21413),E(72318)),L=E(60177),F=E(71997);E(18617),E(45024),E(67336),E(89417),E(56977);const ee=["*"],q='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',J=["unscopedContent"],ne=["text"],ie=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],re=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],z=new g.nKC("ListOption");let Q=(()=>{class ${constructor(S){this._elementRef=S}static#e=this.\u0275fac=function(Z){return new(Z||$)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:$,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return $})(),de=(()=>{class ${constructor(S){this._elementRef=S}static#e=this.\u0275fac=function(Z){return new(Z||$)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:$,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return $})(),xe=(()=>{class ${static#e=this.\u0275fac=function(Z){return new(Z||$)};static#t=this.\u0275dir=g.FsC({type:$,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return $})(),Ie=(()=>{class ${constructor(S){this._listOption=S}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(Z){return new(Z||$)(g.rXU(z,8))};static#t=this.\u0275dir=g.FsC({type:$,hostVars:4,hostBindings:function(Z,le){2&Z&&g.AVh("mdc-list-item__start",le._isAlignedAtStart())("mdc-list-item__end",!le._isAlignedAtStart())},standalone:!0})}return $})(),Le=(()=>{class $ extends Ie{static#e=this.\u0275fac=(()=>{let S;return function(le){return(S||(S=g.xGo($)))(le||$)}})();static#t=this.\u0275dir=g.FsC({type:$,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[g.Vt3]})}return $})(),ve=(()=>{class $ extends Ie{static#e=this.\u0275fac=(()=>{let S;return function(le){return(S||(S=g.xGo($)))(le||$)}})();static#t=this.\u0275dir=g.FsC({type:$,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[g.Vt3]})}return $})();const ye=new g.nKC("MAT_LIST_CONFIG");let ke=(()=>{class ${constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,g.WQX)(ye,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(S){this._disableRipple=(0,w.he)(S)}get disabled(){return this._disabled}set disabled(S){this._disabled=(0,w.he)(S)}static#e=this.\u0275fac=function(Z){return new(Z||$)};static#t=this.\u0275dir=g.FsC({type:$,hostVars:1,hostBindings:function(Z,le){2&Z&&g.BMQ("aria-disabled",le.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return $})(),me=(()=>{class ${set lines(S){this._explicitLines=(0,w.OE)(S,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(S){this._disableRipple=(0,w.he)(S)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(S){this._disabled=(0,w.he)(S)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(S,Z,le,De,Oe,Qe){this._elementRef=S,this._ngZone=Z,this._listBase=le,this._platform=De,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new _.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Oe||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===Qe,le&&!le._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new X.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,R.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(S){if(!this._lines||!this._titles||!this._unscopedContent)return;S&&this._checkDomForUnscopedTextContent();const Z=this._explicitLines??this._inferLinesFromContent(),le=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",Z<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",Z<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===Z),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===Z),this._hasUnscopedTextContent){const De=0===this._titles.length&&1===Z;le.classList.toggle("mdc-list-item__primary-text",De),le.classList.toggle("mdc-list-item__secondary-text",!De)}else le.classList.remove("mdc-list-item__primary-text"),le.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let S=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(S+=1),S}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(S=>S.nodeType!==S.COMMENT_NODE).some(S=>!(!S.textContent||!S.textContent.trim()))}static#e=this.\u0275fac=function(Z){return new(Z||$)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(ke,8),g.rXU(O.OD),g.rXU(X.$E,8),g.rXU(g.bc$,8))};static#t=this.\u0275dir=g.FsC({type:$,contentQueries:function(Z,le,De){if(1&Z&&(g.wni(De,Le,4),g.wni(De,ve,4)),2&Z){let Oe;g.mGM(Oe=g.lsd())&&(le._avatars=Oe),g.mGM(Oe=g.lsd())&&(le._icons=Oe)}},hostVars:4,hostBindings:function(Z,le){2&Z&&(g.BMQ("aria-disabled",le.disabled)("disabled",le._isButtonElement&&le.disabled||null),g.AVh("mdc-list-item--disabled",le.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return $})(),ae=(()=>{class $ extends ke{static#e=this.\u0275fac=(()=>{let S;return function(le){return(S||(S=g.xGo($)))(le||$)}})();static#t=this.\u0275cmp=g.VBU({type:$,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[g.Jv_([{provide:ke,useExisting:$}]),g.Vt3,g.aNF],ngContentSelectors:ee,decls:1,vars:0,template:function(Z,le){1&Z&&(g.NAR(),g.SdG(0))},styles:[q],encapsulation:2,changeDetection:0})}return $})(),ue=(()=>{class $ extends me{get activated(){return this._activated}set activated(S){this._activated=(0,w.he)(S)}constructor(S,Z,le,De,Oe,Qe){super(S,Z,le,De,Oe,Qe),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(Z){return new(Z||$)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(ke,8),g.rXU(O.OD),g.rXU(X.$E,8),g.rXU(g.bc$,8))};static#t=this.\u0275cmp=g.VBU({type:$,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(Z,le,De){if(1&Z&&(g.wni(De,de,5),g.wni(De,Q,5),g.wni(De,xe,5)),2&Z){let Oe;g.mGM(Oe=g.lsd())&&(le._lines=Oe),g.mGM(Oe=g.lsd())&&(le._titles=Oe),g.mGM(Oe=g.lsd())&&(le._meta=Oe)}},viewQuery:function(Z,le){if(1&Z&&(g.GBs(J,5),g.GBs(ne,5)),2&Z){let De;g.mGM(De=g.lsd())&&(le._unscopedContent=De.first),g.mGM(De=g.lsd())&&(le._itemText=De.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(Z,le){2&Z&&(g.BMQ("aria-current",le._getAriaCurrent()),g.AVh("mdc-list-item--activated",le.activated)("mdc-list-item--with-leading-avatar",0!==le._avatars.length)("mdc-list-item--with-leading-icon",0!==le._icons.length)("mdc-list-item--with-trailing-meta",0!==le._meta.length)("mat-mdc-list-item-both-leading-and-trailing",le._hasBothLeadingAndTrailing())("_mat-animation-noopable",le._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[g.Vt3,g.aNF],ngContentSelectors:re,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(Z,le){if(1&Z){const De=g.RV6();g.NAR(ie),g.SdG(0),g.j41(1,"span",1),g.SdG(2,1),g.SdG(3,2),g.j41(4,"span",2,0),g.bIt("cdkObserveContent",function(){return g.eBV(De),g.Njj(le._updateItemLines(!0))}),g.SdG(6,3),g.k0s()(),g.SdG(7,4),g.SdG(8,5),g.nrm(9,"div",3)}},dependencies:[N.Wv],encapsulation:2,changeDetection:0})}return $})(),Ue=(()=>{class ${static#e=this.\u0275fac=function(Z){return new(Z||$)};static#t=this.\u0275dir=g.FsC({type:$,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return $})(),ze=(()=>{class $ extends ke{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let S;return function(le){return(S||(S=g.xGo($)))(le||$)}})();static#t=this.\u0275cmp=g.VBU({type:$,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[g.Jv_([{provide:ke,useExisting:$}]),g.Vt3,g.aNF],ngContentSelectors:ee,decls:1,vars:0,template:function(Z,le){1&Z&&(g.NAR(),g.SdG(0))},styles:[q],encapsulation:2,changeDetection:0})}return $})(),ut=(()=>{class ${static#e=this.\u0275fac=function(Z){return new(Z||$)};static#t=this.\u0275mod=g.$C({type:$});static#n=this.\u0275inj=g.G2t({imports:[N.w5,L.MD,X.yE,X.pZ,X.O5,F.w]})}return $})()},59115:(Ne,V,E)=>{"use strict";E.d(V,{Cn:()=>Ee,Cp:()=>me,fb:()=>m,kk:()=>xe});var g=E(93953),w=E(18617),O=E(67336),X=E(21413),_=E(57786),R=E(18359),A=E(7673),N=E(25007),L=E(99172),F=E(25558),C=E(56977),Y=E(5964),j=E(96697),G=E(91986),te=E(60177),ee=E(86600),q=E(76939),J=E(49969),ne=E(28203),ie=E(66969),re=E(36860),ce=E(67333);const se=["mat-menu-item",""],pe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],we=["mat-icon, [matMenuItemIcon]","*"];function Me(fe,he){1&fe&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"polygon",3),g.k0s())}const k=["*"];function l(fe,he){if(1&fe){const ae=g.RV6();g.j41(0,"div",0),g.bIt("keydown",function(ge){g.eBV(ae);const Ae=g.XpG();return g.Njj(Ae._handleKeydown(ge))})("click",function(){g.eBV(ae);const ge=g.XpG();return g.Njj(ge.closed.emit("click"))})("@transformMenu.start",function(ge){g.eBV(ae);const Ae=g.XpG();return g.Njj(Ae._onAnimationStart(ge))})("@transformMenu.done",function(ge){g.eBV(ae);const Ae=g.XpG();return g.Njj(Ae._onAnimationDone(ge))}),g.j41(1,"div",1),g.SdG(2),g.k0s()()}if(2&fe){const ae=g.XpG();g.HbH(ae._classList),g.Y8G("id",ae.panelId)("@transformMenu",ae._panelAnimationState),g.BMQ("aria-label",ae.ariaLabel||null)("aria-labelledby",ae.ariaLabelledby||null)("aria-describedby",ae.ariaDescribedby||null)}}const h=new g.nKC("MAT_MENU_PANEL");let m=(()=>{class fe{constructor(ae,ue,ge,Ae,Ue){this._elementRef=ae,this._document=ue,this._focusMonitor=ge,this._parentMenu=Ae,this._changeDetectorRef=Ue,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new X.B,this._focused=new X.B,this._highlighted=!1,this._triggersSubmenu=!1,Ae?.addItem?.(this)}focus(ae,ue){this._focusMonitor&&ae?this._focusMonitor.focusVia(this._getHostElement(),ae,ue):this._getHostElement().focus(ue),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ae){this.disabled&&(ae.preventDefault(),ae.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ae=this._elementRef.nativeElement.cloneNode(!0),ue=ae.querySelectorAll("mat-icon, .material-icons");for(let ge=0;ge<ue.length;ge++)ue[ge].remove();return ae.textContent?.trim()||""}_setHighlighted(ae){this._highlighted=ae,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ae){this._triggersSubmenu=ae,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(ue){return new(ue||fe)(g.rXU(g.aKT),g.rXU(te.qQ),g.rXU(w.FN),g.rXU(h,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:fe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(ue,ge){1&ue&&g.bIt("click",function(Ue){return ge._checkDisabled(Ue)})("mouseenter",function(){return ge._handleMouseEnter()}),2&ue&&(g.BMQ("role",ge.role)("tabindex",ge._getTabIndex())("aria-disabled",ge.disabled)("disabled",ge.disabled||null),g.AVh("mat-mdc-menu-item-highlighted",ge._highlighted)("mat-mdc-menu-item-submenu-trigger",ge._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39]},exportAs:["matMenuItem"],standalone:!0,features:[g.GFd,g.aNF],attrs:se,ngContentSelectors:we,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ue,ge){1&ue&&(g.NAR(pe),g.SdG(0),g.j41(1,"span",0),g.SdG(2,1),g.k0s(),g.nrm(3,"div",1),g.DNE(4,Me,2,0,":svg:svg",2)),2&ue&&(g.R7$(3),g.Y8G("matRippleDisabled",ge.disableRipple||ge.disabled)("matRippleTrigger",ge._getHostElement()),g.R7$(),g.vxM(ge._triggersSubmenu?4:-1))},dependencies:[ee.r6],encapsulation:2,changeDetection:0})}return fe})();const B=new g.nKC("MatMenuContent"),d={transformMenu:(0,J.hZ)("transformMenu",[(0,J.wk)("void",(0,J.iF)({opacity:0,transform:"scale(0.8)"})),(0,J.kY)("void => enter",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,J.iF)({opacity:1,transform:"scale(1)"}))),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))]),fadeInItems:(0,J.hZ)("fadeInItems",[(0,J.wk)("showing",(0,J.iF)({opacity:1})),(0,J.kY)("void => *",[(0,J.iF)({opacity:0}),(0,J.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z=0;const Q=new g.nKC("mat-menu-default-options",{providedIn:"root",factory:function de(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let xe=(()=>{class fe{get xPosition(){return this._xPosition}set xPosition(ae){this._xPosition=ae,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ae){this._yPosition=ae,this.setPositionClasses()}set panelClass(ae){const ue=this._previousPanelClass,ge={...this._classList};ue&&ue.length&&ue.split(" ").forEach(Ae=>{ge[Ae]=!1}),this._previousPanelClass=ae,ae&&ae.length&&(ae.split(" ").forEach(Ae=>{ge[Ae]=!0}),this._elementRef.nativeElement.className=""),this._classList=ge}get classList(){return this.panelClass}set classList(ae){this.panelClass=ae}constructor(ae,ue,ge,Ae){this._elementRef=ae,this._changeDetectorRef=Ae,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new g.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new X.B,this.closed=new g.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+z++,this._injector=(0,g.WQX)(g.zZn),this.overlayPanelClass=ge.overlayPanelClass||"",this._xPosition=ge.xPosition,this._yPosition=ge.yPosition,this.backdropClass=ge.backdropClass,this.overlapTrigger=ge.overlapTrigger,this.hasBackdrop=ge.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new w.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,L.Z)(this._directDescendantItems),(0,F.n)(ae=>(0,_.h)(...ae.map(ue=>ue._focused)))).subscribe(ae=>this._keyManager.updateActiveItem(ae)),this._directDescendantItems.changes.subscribe(ae=>{const ue=this._keyManager;if("enter"===this._panelAnimationState&&ue.activeItem?._hasFocus()){const ge=ae.toArray(),Ae=Math.max(0,Math.min(ge.length-1,ue.activeItemIndex||0));ge[Ae]&&!ge[Ae].disabled?ue.setActiveItem(Ae):ue.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,L.Z)(this._directDescendantItems),(0,F.n)(ue=>(0,_.h)(...ue.map(ge=>ge._hovered))))}addItem(ae){}removeItem(ae){}_handleKeydown(ae){const ue=ae.keyCode,ge=this._keyManager;switch(ue){case O._f:(0,O.rp)(ae)||(ae.preventDefault(),this.closed.emit("keydown"));break;case O.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case O.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ue===O.i7||ue===O.n6)&&ge.setFocusOrigin("keyboard"),void ge.onKeydown(ae)}ae.stopPropagation()}focusFirstItem(ae="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,g.mal)(()=>{let ue=null;if(this._directDescendantItems.length&&(ue=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ue||!ue.contains(document.activeElement)){const ge=this._keyManager;ge.setFocusOrigin(ae).setFirstItemActive(),!ge.activeItem&&ue&&ue.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ae){if(null===this._baseElevation){const Ve=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Ve)}const ue=Math.min(this._baseElevation+ae,24),ge=`${this._elevationPrefix}${ue}`,Ae=Object.keys(this._classList).find(Ue=>Ue.startsWith(this._elevationPrefix));if(!Ae||Ae===this._previousElevation){const Ue={...this._classList};this._previousElevation&&(Ue[this._previousElevation]=!1),Ue[ge]=!0,this._previousElevation=ge,this._classList=Ue}}setPositionClasses(ae=this.xPosition,ue=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===ae,"mat-menu-after":"after"===ae,"mat-menu-above":"above"===ue,"mat-menu-below":"below"===ue},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ae){this._animationDone.next(ae),this._isAnimating=!1}_onAnimationStart(ae){this._isAnimating=!0,"enter"===ae.toState&&0===this._keyManager.activeItemIndex&&(ae.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,L.Z)(this._allItems)).subscribe(ae=>{this._directDescendantItems.reset(ae.filter(ue=>ue._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(ue){return new(ue||fe)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(Q),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:fe,selectors:[["mat-menu"]],contentQueries:function(ue,ge,Ae){if(1&ue&&(g.wni(Ae,B,5),g.wni(Ae,m,5),g.wni(Ae,m,4)),2&ue){let Ue;g.mGM(Ue=g.lsd())&&(ge.lazyContent=Ue.first),g.mGM(Ue=g.lsd())&&(ge._allItems=Ue),g.mGM(Ue=g.lsd())&&(ge.items=Ue)}},viewQuery:function(ue,ge){if(1&ue&&g.GBs(g.C4Q,5),2&ue){let Ae;g.mGM(Ae=g.lsd())&&(ge.templateRef=Ae.first)}},hostVars:3,hostBindings:function(ue,ge){2&ue&&g.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",g.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",ae=>null==ae?null:(0,g.L39)(ae)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[g.Jv_([{provide:h,useExisting:fe}]),g.GFd,g.aNF],ngContentSelectors:k,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(ue,ge){1&ue&&(g.NAR(),g.DNE(0,l,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[d.transformMenu,d.fadeInItems]},changeDetection:0})}return fe})();const Ie=new g.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const fe=(0,g.WQX)(ie.hJ);return()=>fe.scrollStrategies.reposition()}}),ve={provide:Ie,deps:[ie.hJ],useFactory:function Le(fe){return()=>fe.scrollStrategies.reposition()}},ye=(0,re.BQ)({passive:!0});let me=(()=>{class fe{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ae){this.menu=ae}get menu(){return this._menu}set menu(ae){ae!==this._menu&&(this._menu=ae,this._menuCloseSubscription.unsubscribe(),ae&&(this._menuCloseSubscription=ae.close.subscribe(ue=>{this._destroyMenu(ue),("click"===ue||"tab"===ue)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ue)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ae,ue,ge,Ae,Ue,Ve,ze,It,qe){this._overlay=ae,this._element=ue,this._viewContainerRef=ge,this._menuItemInstance=Ve,this._dir=ze,this._focusMonitor=It,this._ngZone=qe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=R.yU.EMPTY,this._hoverSubscription=R.yU.EMPTY,this._menuCloseSubscription=R.yU.EMPTY,this._changeDetectorRef=(0,g.WQX)(g.gRc),this._handleTouchStart=je=>{(0,w.w6)(je)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new g.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new g.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ae,this._parentMaterialMenu=Ue instanceof xe?Ue:void 0,ue.nativeElement.addEventListener("touchstart",this._handleTouchStart,ye)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ye),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ae=this.menu;if(this._menuOpen||!ae)return;const ue=this._createOverlay(ae),ge=ue.getConfig(),Ae=ge.positionStrategy;this._setPosition(ae,Ae),ge.hasBackdrop=null==ae.hasBackdrop?!this.triggersSubmenu():ae.hasBackdrop,ue.attach(this._getPortal(ae)),ae.lazyContent&&ae.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ae),ae instanceof xe&&(ae._startAnimation(),ae._directDescendantItems.changes.pipe((0,C.Q)(ae.close)).subscribe(()=>{Ae.withLockedPosition(!1).reapplyLastPosition(),Ae.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ae,ue){this._focusMonitor&&ae?this._focusMonitor.focusVia(this._element,ae,ue):this._element.nativeElement.focus(ue)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ae){if(!this._overlayRef||!this.menuOpen)return;const ue=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ae||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ue instanceof xe?(ue._resetAnimation(),ue.lazyContent?ue._animationDone.pipe((0,Y.p)(ge=>"void"===ge.toState),(0,j.s)(1),(0,C.Q)(ue.lazyContent._attached)).subscribe({next:()=>ue.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ue?.lazyContent?.detach())}_initMenu(ae){ae.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ae.direction=this.dir,this._setMenuElevation(ae),ae.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ae){if(ae.setElevation){let ue=0,ge=ae.parentMenu;for(;ge;)ue++,ge=ge.parentMenu;ae.setElevation(ue)}}_setIsMenuOpen(ae){ae!==this._menuOpen&&(this._menuOpen=ae,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ae),this._changeDetectorRef.markForCheck())}_createOverlay(ae){if(!this._overlayRef){const ue=this._getOverlayConfig(ae);this._subscribeToPositions(ae,ue.positionStrategy),this._overlayRef=this._overlay.create(ue),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ae){return new ie.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ae.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ae.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ae,ue){ae.setPositionClasses&&ue.positionChanges.subscribe(ge=>{const Ae="start"===ge.connectionPair.overlayX?"after":"before",Ue="top"===ge.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ae.setPositionClasses(Ae,Ue)):ae.setPositionClasses(Ae,Ue)})}_setPosition(ae,ue){let[ge,Ae]="before"===ae.xPosition?["end","start"]:["start","end"],[Ue,Ve]="above"===ae.yPosition?["bottom","top"]:["top","bottom"],[ze,It]=[Ue,Ve],[qe,je]=[ge,Ae],ut=0;if(this.triggersSubmenu()){if(je=ge="before"===ae.xPosition?"start":"end",Ae=qe="end"===ge?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const $=this._parentMaterialMenu.items.first;this._parentInnerPadding=$?$._getHostElement().offsetTop:0}ut="bottom"===Ue?this._parentInnerPadding:-this._parentInnerPadding}}else ae.overlapTrigger||(ze="top"===Ue?"bottom":"top",It="top"===Ve?"bottom":"top");ue.withPositions([{originX:ge,originY:ze,overlayX:qe,overlayY:Ue,offsetY:ut},{originX:Ae,originY:ze,overlayX:je,overlayY:Ue,offsetY:ut},{originX:ge,originY:It,overlayX:qe,overlayY:Ve,offsetY:-ut},{originX:Ae,originY:It,overlayX:je,overlayY:Ve,offsetY:-ut}])}_menuClosingActions(){const ae=this._overlayRef.backdropClick(),ue=this._overlayRef.detachments(),ge=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,A.of)(),Ae=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Y.p)(Ue=>Ue!==this._menuItemInstance),(0,Y.p)(()=>this._menuOpen)):(0,A.of)();return(0,_.h)(ae,ge,Ae,ue)}_handleMousedown(ae){(0,w._G)(ae)||(this._openedBy=0===ae.button?"mouse":void 0,this.triggersSubmenu()&&ae.preventDefault())}_handleKeydown(ae){const ue=ae.keyCode;(ue===O.Fm||ue===O.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ue===O.LE&&"ltr"===this.dir||ue===O.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ae){this.triggersSubmenu()?(ae.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Y.p)(ae=>ae===this._menuItemInstance&&!ae.disabled),(0,G.c)(0,N.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof xe&&this.menu._isAnimating?this.menu._animationDone.pipe((0,j.s)(1),(0,G.c)(0,N.$),(0,C.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ae){return(!this._portal||this._portal.templateRef!==ae.templateRef)&&(this._portal=new q.VA(ae.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(ue){return new(ue||fe)(g.rXU(ie.hJ),g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(Ie),g.rXU(h,8),g.rXU(m,10),g.rXU(ne.dS,8),g.rXU(w.FN),g.rXU(g.SKi))};static#t=this.\u0275dir=g.FsC({type:fe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(ue,ge){1&ue&&g.bIt("click",function(Ue){return ge._handleClick(Ue)})("mousedown",function(Ue){return ge._handleMousedown(Ue)})("keydown",function(Ue){return ge._handleKeydown(Ue)}),2&ue&&g.BMQ("aria-haspopup",ge.menu?"menu":null)("aria-expanded",ge.menuOpen)("aria-controls",ge.menuOpen?ge.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return fe})(),Ee=(()=>{class fe{static#e=this.\u0275fac=function(ue){return new(ue||fe)};static#t=this.\u0275mod=g.$C({type:fe});static#n=this.\u0275inj=g.G2t({providers:[ve],imports:[te.MD,ee.pZ,ee.yE,ie.z_,ce.Gj,ee.yE]})}return fe})()},9183:(Ne,V,E)=>{"use strict";E.d(V,{D6:()=>Y,LG:()=>F});var g=E(93953),w=E(60177),O=E(86600);const X=["determinateSpinner"];function _(j,G){if(1&j&&(g.qSk(),g.j41(0,"svg",11),g.nrm(1,"circle",12),g.k0s()),2&j){const te=g.XpG();g.BMQ("viewBox",te._viewBox()),g.R7$(),g.xc7("stroke-dasharray",te._strokeCircumference(),"px")("stroke-dashoffset",te._strokeCircumference()/2,"px")("stroke-width",te._circleStrokeWidth(),"%"),g.BMQ("r",te._circleRadius())}}const R=new g.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function A(){return{diameter:N}}}),N=100;let F=(()=>{class j{get color(){return this._color||this._defaultColor}set color(te){this._color=te}constructor(te,ee,q){this._elementRef=te,this._defaultColor="primary",this._value=0,this._diameter=N,this._noopAnimations="NoopAnimations"===ee&&!!q&&!q._forceAnimations,this.mode="mat-spinner"===te.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",q&&(q.color&&(this.color=this._defaultColor=q.color),q.diameter&&(this.diameter=q.diameter),q.strokeWidth&&(this.strokeWidth=q.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(te){this._value=Math.max(0,Math.min(100,te||0))}get diameter(){return this._diameter}set diameter(te){this._diameter=te||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(te){this._strokeWidth=te||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const te=2*this._circleRadius()+this.strokeWidth;return`0 0 ${te} ${te}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(ee){return new(ee||j)(g.rXU(g.aKT),g.rXU(g.bc$,8),g.rXU(R))};static#t=this.\u0275cmp=g.VBU({type:j,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(ee,q){if(1&ee&&g.GBs(X,5),2&ee){let J;g.mGM(J=g.lsd())&&(q._determinateCircle=J.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(ee,q){2&ee&&(g.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===q.mode?q.value:null)("mode",q.mode),g.HbH("mat-"+q.color),g.xc7("width",q.diameter,"px")("height",q.diameter,"px")("--mdc-circular-progress-size",q.diameter+"px")("--mdc-circular-progress-active-indicator-width",q.diameter+"px"),g.AVh("_mat-animation-noopable",q._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===q.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",g.Udg],diameter:[2,"diameter","diameter",g.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",g.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[g.GFd,g.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(ee,q){if(1&ee&&(g.DNE(0,_,2,8,"ng-template",null,0,g.C5r),g.j41(2,"div",2,1),g.qSk(),g.j41(4,"svg",3),g.nrm(5,"circle",4),g.k0s()(),g.joV(),g.j41(6,"div",5)(7,"div",6)(8,"div",7),g.eu8(9,8),g.k0s(),g.j41(10,"div",9),g.eu8(11,8),g.k0s(),g.j41(12,"div",10),g.eu8(13,8),g.k0s()()()),2&ee){const J=g.sdS(1);g.R7$(4),g.BMQ("viewBox",q._viewBox()),g.R7$(),g.xc7("stroke-dasharray",q._strokeCircumference(),"px")("stroke-dashoffset",q._strokeDashOffset(),"px")("stroke-width",q._circleStrokeWidth(),"%"),g.BMQ("r",q._circleRadius()),g.R7$(4),g.Y8G("ngTemplateOutlet",J),g.R7$(2),g.Y8G("ngTemplateOutlet",J),g.R7$(2),g.Y8G("ngTemplateOutlet",J)}},dependencies:[w.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return j})(),Y=(()=>{class j{static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275mod=g.$C({type:j});static#n=this.\u0275inj=g.G2t({imports:[w.MD,O.yE]})}return j})()},5951:(Ne,V,E)=>{"use strict";E.d(V,{Wk:()=>J});var g=E(18617),w=E(45024),O=E(93953),_=(E(89417),E(86600)),R=E(60177);const A=["input"],N=["formField"],L=["*"];let F=0;class C{constructor(ie,re){this.source=ie,this.value=re}}const j=new O.nKC("MatRadioGroup"),G=new O.nKC("mat-radio-default-options",{providedIn:"root",factory:function te(){return{color:"accent"}}});let q=(()=>{class ne{get checked(){return this._checked}set checked(re){this._checked!==re&&(this._checked=re,re&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!re&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),re&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(re){this._value!==re&&(this._value=re,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===re),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(re){this._labelPosition=re}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(re){this._setDisabled(re)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(re){this._required=re}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(re){this._color=re}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(re,ce,se,pe,we,Me,k,l){this._elementRef=ce,this._changeDetector=se,this._focusMonitor=pe,this._radioDispatcher=we,this._providerOverride=k,this._uniqueId="mat-radio-"+ ++F,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new O.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,O.WQX)(O.zZn),this.radioGroup=re,this._noopAnimations="NoopAnimations"===Me,l&&(this.tabIndex=(0,O.Udg)(l,0))}focus(re,ce){ce?this._focusMonitor.focusVia(this._inputElement,ce,re):this._inputElement.nativeElement.focus(re)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((re,ce)=>{re!==this.id&&ce===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(re=>{!re&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new C(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(re){re.stopPropagation()}_onInputInteraction(re){if(re.stopPropagation(),!this.checked&&!this.disabled){const ce=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),ce&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(re){this._onInputInteraction(re),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(re){this._disabled!==re&&(this._disabled=re,this._changeDetector.markForCheck())}_updateTabIndex(){const re=this.radioGroup;let ce;if(ce=re&&re.selected&&!this.disabled?re.selected===this?this.tabIndex:-1:this.tabIndex,ce!==this._previousTabIndex){const se=this._inputElement?.nativeElement;se&&(se.setAttribute("tabindex",ce+""),this._previousTabIndex=ce,(0,O.mal)(()=>{queueMicrotask(()=>{re&&re.selected&&re.selected!==this&&document.activeElement===se&&(re.selected?._inputElement.nativeElement.focus(),document.activeElement===se&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(ce){return new(ce||ne)(O.rXU(j,8),O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(g.FN),O.rXU(w.zP),O.rXU(O.bc$,8),O.rXU(G,8),O.kS0("tabindex"))};static#t=this.\u0275cmp=O.VBU({type:ne,selectors:[["mat-radio-button"]],viewQuery:function(ce,se){if(1&ce&&(O.GBs(A,5),O.GBs(N,7,O.aKT)),2&ce){let pe;O.mGM(pe=O.lsd())&&(se._inputElement=pe.first),O.mGM(pe=O.lsd())&&(se._rippleTrigger=pe.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(ce,se){1&ce&&O.bIt("focus",function(){return se._inputElement.nativeElement.focus()}),2&ce&&(O.BMQ("id",se.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),O.AVh("mat-primary","primary"===se.color)("mat-accent","accent"===se.color)("mat-warn","warn"===se.color)("mat-mdc-radio-checked",se.checked)("_mat-animation-noopable",se._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",O.L39],tabIndex:[2,"tabIndex","tabIndex",re=>null==re?0:(0,O.Udg)(re)],checked:[2,"checked","checked",O.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",O.L39],required:[2,"required","required",O.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[O.GFd,O.aNF],ngContentSelectors:L,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(ce,se){if(1&ce){const pe=O.RV6();O.NAR(),O.j41(0,"div",2,0)(2,"div",3)(3,"div",4),O.bIt("click",function(Me){return O.eBV(pe),O.Njj(se._onTouchTargetClick(Me))}),O.k0s(),O.j41(4,"input",5,1),O.bIt("change",function(Me){return O.eBV(pe),O.Njj(se._onInputInteraction(Me))}),O.k0s(),O.j41(6,"div",6),O.nrm(7,"div",7)(8,"div",8),O.k0s(),O.j41(9,"div",9),O.nrm(10,"div",10),O.k0s()(),O.j41(11,"label",11),O.SdG(12),O.k0s()()}2&ce&&(O.Y8G("labelPosition",se.labelPosition),O.R7$(2),O.AVh("mdc-radio--disabled",se.disabled),O.R7$(2),O.Y8G("id",se.inputId)("checked",se.checked)("disabled",se.disabled)("required",se.required),O.BMQ("name",se.name)("value",se.value)("aria-label",se.ariaLabel)("aria-labelledby",se.ariaLabelledby)("aria-describedby",se.ariaDescribedby),O.R7$(5),O.Y8G("matRippleTrigger",se._rippleTrigger.nativeElement)("matRippleDisabled",se._isRippleDisabled())("matRippleCentered",!0),O.R7$(2),O.Y8G("for",se.inputId))},dependencies:[_.r6,_.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ne})(),J=(()=>{class ne{static#e=this.\u0275fac=function(ce){return new(ce||ne)};static#t=this.\u0275mod=O.$C({type:ne});static#n=this.\u0275inj=O.G2t({imports:[_.yE,R.MD,_.pZ,q,_.yE]})}return ne})()},82798:(Ne,V,E)=>{"use strict";E.d(V,{VO:()=>Ie,Ve:()=>ve});var g=E(66969),w=E(60177),O=E(93953),X=E(86600),_=E(53719),R=E(67333),A=E(18617),N=E(28203),L=E(45024),F=E(67336),C=E(89417),Y=E(21413),j=E(59030),G=E(57786),te=E(99172),ee=E(25558),q=E(5964),J=E(96354),ne=E(23294),ie=E(56977),re=E(96697),ce=E(49969);const se=["trigger"],pe=["panel"],we=[[["mat-select-trigger"]],"*"],Me=["mat-select-trigger","*"];function k(ye,ke){if(1&ye&&(O.j41(0,"span",4),O.EFF(1),O.k0s()),2&ye){const me=O.XpG();O.R7$(),O.JRh(me.placeholder)}}function l(ye,ke){1&ye&&O.SdG(0)}function h(ye,ke){if(1&ye&&(O.j41(0,"span",11),O.EFF(1),O.k0s()),2&ye){const me=O.XpG(2);O.R7$(),O.JRh(me.triggerValue)}}function m(ye,ke){if(1&ye&&(O.j41(0,"span",5),O.DNE(1,l,1,0)(2,h,2,1,"span",11),O.k0s()),2&ye){const me=O.XpG();O.R7$(),O.vxM(me.customTrigger?1:2)}}function p(ye,ke){if(1&ye){const me=O.RV6();O.j41(0,"div",12,1),O.bIt("@transformPanel.done",function(fe){O.eBV(me);const he=O.XpG();return O.Njj(he._panelDoneAnimatingStream.next(fe.toState))})("keydown",function(fe){O.eBV(me);const he=O.XpG();return O.Njj(he._handleKeydown(fe))}),O.SdG(2,1),O.k0s()}if(2&ye){const me=O.XpG();O.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",me._getPanelTheme(),""),O.Y8G("ngClass",me.panelClass)("@transformPanel","showing"),O.BMQ("id",me.id+"-panel")("aria-multiselectable",me.multiple)("aria-label",me.ariaLabel||null)("aria-labelledby",me._getPanelAriaLabelledby())}}const x={transformPanelWrap:(0,ce.hZ)("transformPanelWrap",[(0,ce.kY)("* => void",(0,ce.P)("@transformPanel",[(0,ce.MA)()],{optional:!0}))]),transformPanel:(0,ce.hZ)("transformPanel",[(0,ce.wk)("void",(0,ce.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,ce.kY)("void => showing",(0,ce.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ce.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,ce.kY)("* => void",(0,ce.i0)("100ms linear",(0,ce.iF)({opacity:0})))])};let d=0;const v=new O.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const ye=(0,O.WQX)(g.hJ);return()=>ye.scrollStrategies.reposition()}}),z=new O.nKC("MAT_SELECT_CONFIG"),Q={provide:v,deps:[g.hJ],useFactory:function W(ye){return()=>ye.scrollStrategies.reposition()}},de=new O.nKC("MatSelectTrigger");class xe{constructor(ke,me){this.source=ke,this.value=me}}let Ie=(()=>{class ye{_scrollOptionIntoView(me){const Ee=this.options.toArray()[me];if(Ee){const fe=this.panel.nativeElement,he=(0,X.jb)(me,this.options,this.optionGroups),ae=Ee._getHostElement();fe.scrollTop=0===me&&1===he?0:(0,X.TL)(ae.offsetTop,ae.offsetHeight,fe.scrollTop,fe.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(me){return new xe(this,me)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(me){this._hideSingleSelectionIndicator=me,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(me){this._placeholder=me,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(C.k0.required)??!1}set required(me){this._required=me,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(me){this._multiple=me}get compareWith(){return this._compareWith}set compareWith(me){this._compareWith=me,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(me){this._assignValue(me)&&this._onChange(me)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(me){this._errorStateTracker.matcher=me}get id(){return this._id}set id(me){this._id=me||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(me){this._errorStateTracker.errorState=me}constructor(me,Ee,fe,he,ae,ue,ge,Ae,Ue,Ve,ze,It,qe,je){this._viewportRuler=me,this._changeDetectorRef=Ee,this._elementRef=ae,this._dir=ue,this._parentFormField=Ue,this.ngControl=Ve,this._liveAnnouncer=qe,this._defaultOptions=je,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(ut,$)=>ut===$,this._uid="mat-select-"+d++,this._triggerAriaLabelledBy=null,this._destroy=new Y.B,this.stateChanges=new Y.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+d++,this._panelDoneAnimatingStream=new Y.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Y.B,this.optionSelectionChanges=(0,j.v)(()=>{const ut=this.options;return ut?ut.changes.pipe((0,te.Z)(ut),(0,ee.n)(()=>(0,G.h)(...ut.map($=>$.onSelectionChange)))):this._initialized.pipe((0,ee.n)(()=>this.optionSelectionChanges))}),this.openedChange=new O.bkB,this._openedStream=this.openedChange.pipe((0,q.p)(ut=>ut),(0,J.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,q.p)(ut=>!ut),(0,J.T)(()=>{})),this.selectionChange=new O.bkB,this.valueChange=new O.bkB,this._trackedModal=null,this._skipPredicate=ut=>!this.panelOpen&&ut.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=je?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=je.typeaheadDebounceInterval),this._errorStateTracker=new X.X0(he,Ve,Ae,ge,this.stateChanges),this._scrollStrategyFactory=It,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ze)||0,this.id=this.id}ngOnInit(){this._selectionModel=new L.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ne.F)(),(0,ie.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ie.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ie.Q)(this._destroy)).subscribe(me=>{me.added.forEach(Ee=>Ee.select()),me.removed.forEach(Ee=>Ee.deselect())}),this.options.changes.pipe((0,te.Z)(null),(0,ie.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const me=this._getTriggerAriaLabelledby(),Ee=this.ngControl;if(me!==this._triggerAriaLabelledBy){const fe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=me,me?fe.setAttribute("aria-labelledby",me):fe.removeAttribute("aria-labelledby")}Ee&&(this._previousControl!==Ee.control&&(void 0!==this._previousControl&&null!==Ee.disabled&&Ee.disabled!==this.disabled&&(this.disabled=Ee.disabled),this._previousControl=Ee.control),this.updateErrorState())}ngOnChanges(me){(me.disabled||me.userAriaDescribedBy)&&this.stateChanges.next(),me.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const me=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!me)return;const Ee=`${this.id}-panel`;this._trackedModal&&(0,A.Ae)(this._trackedModal,"aria-owns",Ee),(0,A.px)(me,"aria-owns",Ee),this._trackedModal=me}_clearFromModal(){this._trackedModal&&((0,A.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(me){this._assignValue(me)}registerOnChange(me){this._onChange=me}registerOnTouched(me){this._onTouched=me}setDisabledState(me){this.disabled=me,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const me=this._selectionModel.selected.map(Ee=>Ee.viewValue);return this._isRtl()&&me.reverse(),me.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(me){this.disabled||(this.panelOpen?this._handleOpenKeydown(me):this._handleClosedKeydown(me))}_handleClosedKeydown(me){const Ee=me.keyCode,fe=Ee===F.n6||Ee===F.i7||Ee===F.UQ||Ee===F.LE,he=Ee===F.Fm||Ee===F.t6,ae=this._keyManager;if(!ae.isTyping()&&he&&!(0,F.rp)(me)||(this.multiple||me.altKey)&&fe)me.preventDefault(),this.open();else if(!this.multiple){const ue=this.selected;ae.onKeydown(me);const ge=this.selected;ge&&ue!==ge&&this._liveAnnouncer.announce(ge.viewValue,1e4)}}_handleOpenKeydown(me){const Ee=this._keyManager,fe=me.keyCode,he=fe===F.n6||fe===F.i7,ae=Ee.isTyping();if(he&&me.altKey)me.preventDefault(),this.close();else if(ae||fe!==F.Fm&&fe!==F.t6||!Ee.activeItem||(0,F.rp)(me))if(!ae&&this._multiple&&fe===F.A&&me.ctrlKey){me.preventDefault();const ue=this.options.some(ge=>!ge.disabled&&!ge.selected);this.options.forEach(ge=>{ge.disabled||(ue?ge.select():ge.deselect())})}else{const ue=Ee.activeItemIndex;Ee.onKeydown(me),this._multiple&&he&&me.shiftKey&&Ee.activeItem&&Ee.activeItemIndex!==ue&&Ee.activeItem._selectViaInteraction()}else me.preventDefault(),Ee.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,re.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(me){if(this.options.forEach(Ee=>Ee.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&me)Array.isArray(me),me.forEach(Ee=>this._selectOptionByValue(Ee)),this._sortValues();else{const Ee=this._selectOptionByValue(me);Ee?this._keyManager.updateActiveItem(Ee):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(me){const Ee=this.options.find(fe=>{if(this._selectionModel.isSelected(fe))return!1;try{return null!=fe.value&&this._compareWith(fe.value,me)}catch{return!1}});return Ee&&this._selectionModel.select(Ee),Ee}_assignValue(me){return!!(me!==this._value||this._multiple&&Array.isArray(me))&&(this.options&&this._setSelectionByValue(me),this._value=me,!0)}_getOverlayWidth(me){return"auto"===this.panelWidth?(me instanceof g.$Q?me.elementRef:me||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const me of this.options)me._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new A.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const me=(0,G.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ie.Q)(me)).subscribe(Ee=>{this._onSelect(Ee.source,Ee.isUserInput),Ee.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,G.h)(...this.options.map(Ee=>Ee._stateChanges)).pipe((0,ie.Q)(me)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(me,Ee){const fe=this._selectionModel.isSelected(me);null!=me.value||this._multiple?(fe!==me.selected&&(me.selected?this._selectionModel.select(me):this._selectionModel.deselect(me)),Ee&&this._keyManager.setActiveItem(me),this.multiple&&(this._sortValues(),Ee&&this.focus())):(me.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(me.value)),fe!==this._selectionModel.isSelected(me)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const me=this.options.toArray();this._selectionModel.sort((Ee,fe)=>this.sortComparator?this.sortComparator(Ee,fe,me):me.indexOf(Ee)-me.indexOf(fe)),this.stateChanges.next()}}_propagateChanges(me){let Ee;Ee=this.multiple?this.selected.map(fe=>fe.value):this.selected?this.selected.value:me,this._value=Ee,this.valueChange.emit(Ee),this._onChange(Ee),this.selectionChange.emit(this._getChangeEvent(Ee)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let me=-1;for(let Ee=0;Ee<this.options.length;Ee++)if(!this.options.get(Ee).disabled){me=Ee;break}this._keyManager.setActiveItem(me)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(me){this._elementRef.nativeElement.focus(me)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const me=this._parentFormField?.getLabelId();return this.ariaLabelledby?(me?me+" ":"")+this.ariaLabelledby:me}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const me=this._parentFormField?.getLabelId();let Ee=(me?me+" ":"")+this._valueId;return this.ariaLabelledby&&(Ee+=" "+this.ariaLabelledby),Ee}_panelDoneAnimating(me){this.openedChange.emit(me)}setDescribedByIds(me){me.length?this._elementRef.nativeElement.setAttribute("aria-describedby",me.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(O.rXU(R.Xj),O.rXU(O.gRc),O.rXU(O.SKi),O.rXU(X.es),O.rXU(O.aKT),O.rXU(N.dS,8),O.rXU(C.cV,8),O.rXU(C.j4,8),O.rXU(_.xb,8),O.rXU(C.vO,10),O.kS0("tabindex"),O.rXU(v),O.rXU(A.Ai),O.rXU(z,8))};static#t=this.\u0275cmp=O.VBU({type:ye,selectors:[["mat-select"]],contentQueries:function(Ee,fe,he){if(1&Ee&&(O.wni(he,de,5),O.wni(he,X.wT,5),O.wni(he,X.QC,5)),2&Ee){let ae;O.mGM(ae=O.lsd())&&(fe.customTrigger=ae.first),O.mGM(ae=O.lsd())&&(fe.options=ae),O.mGM(ae=O.lsd())&&(fe.optionGroups=ae)}},viewQuery:function(Ee,fe){if(1&Ee&&(O.GBs(se,5),O.GBs(pe,5),O.GBs(g.WB,5)),2&Ee){let he;O.mGM(he=O.lsd())&&(fe.trigger=he.first),O.mGM(he=O.lsd())&&(fe.panel=he.first),O.mGM(he=O.lsd())&&(fe._overlayDir=he.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ee,fe){1&Ee&&O.bIt("keydown",function(ae){return fe._handleKeydown(ae)})("focus",function(){return fe._onFocus()})("blur",function(){return fe._onBlur()}),2&Ee&&(O.BMQ("id",fe.id)("tabindex",fe.disabled?-1:fe.tabIndex)("aria-controls",fe.panelOpen?fe.id+"-panel":null)("aria-expanded",fe.panelOpen)("aria-label",fe.ariaLabel||null)("aria-required",fe.required.toString())("aria-disabled",fe.disabled.toString())("aria-invalid",fe.errorState)("aria-activedescendant",fe._getAriaActiveDescendant()),O.AVh("mat-mdc-select-disabled",fe.disabled)("mat-mdc-select-invalid",fe.errorState)("mat-mdc-select-required",fe.required)("mat-mdc-select-empty",fe.empty)("mat-mdc-select-multiple",fe.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",O.L39],disableRipple:[2,"disableRipple","disableRipple",O.L39],tabIndex:[2,"tabIndex","tabIndex",me=>null==me?0:(0,O.Udg)(me)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",O.L39],placeholder:"placeholder",required:[2,"required","required",O.L39],multiple:[2,"multiple","multiple",O.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",O.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",O.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[O.Jv_([{provide:_.qT,useExisting:ye},{provide:X.is,useExisting:ye}]),O.GFd,O.OA$,O.aNF],ngContentSelectors:Me,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ee,fe){if(1&Ee){const he=O.RV6();O.NAR(we),O.j41(0,"div",2,0),O.bIt("click",function(){return O.eBV(he),O.Njj(fe.open())}),O.j41(3,"div",3),O.DNE(4,k,2,1,"span",4)(5,m,3,1,"span",5),O.k0s(),O.j41(6,"div",6)(7,"div",7),O.qSk(),O.j41(8,"svg",8),O.nrm(9,"path",9),O.k0s()()()(),O.DNE(10,p,3,9,"ng-template",10),O.bIt("backdropClick",function(){return O.eBV(he),O.Njj(fe.close())})("attach",function(){return O.eBV(he),O.Njj(fe._onAttached())})("detach",function(){return O.eBV(he),O.Njj(fe.close())})}if(2&Ee){const he=O.sdS(1);O.R7$(3),O.BMQ("id",fe._valueId),O.R7$(),O.vxM(fe.empty?4:5),O.R7$(6),O.Y8G("cdkConnectedOverlayPanelClass",fe._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",fe._scrollStrategy)("cdkConnectedOverlayOrigin",fe._preferredOverlayOrigin||he)("cdkConnectedOverlayOpen",fe.panelOpen)("cdkConnectedOverlayPositions",fe._positions)("cdkConnectedOverlayWidth",fe._overlayWidth)}},dependencies:[g.$Q,g.WB,w.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[x.transformPanel]},changeDetection:0})}return ye})(),ve=(()=>{class ye{static#e=this.\u0275fac=function(Ee){return new(Ee||ye)};static#t=this.\u0275mod=O.$C({type:ye});static#n=this.\u0275inj=O.G2t({providers:[Q],imports:[w.MD,g.z_,X.Sy,X.yE,R.Gj,_.RG,X.Sy,X.yE]})}return ye})()},55911:(Ne,V,E)=>{"use strict";E.d(V,{KQ:()=>N,s5:()=>F});var g=E(93953),w=E(86600),O=E(36860),X=E(60177);const _=["*",[["mat-toolbar-row"]]],R=["*","mat-toolbar-row"];let A=(()=>{class C{static#e=this.\u0275fac=function(G){return new(G||C)};static#t=this.\u0275dir=g.FsC({type:C,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return C})(),N=(()=>{class C{constructor(j,G,te){this._elementRef=j,this._platform=G,this._document=te}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(G){return new(G||C)(g.rXU(g.aKT),g.rXU(O.OD),g.rXU(X.qQ))};static#t=this.\u0275cmp=g.VBU({type:C,selectors:[["mat-toolbar"]],contentQueries:function(G,te,ee){if(1&G&&g.wni(ee,A,5),2&G){let q;g.mGM(q=g.lsd())&&(te._toolbarRows=q)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(G,te){2&G&&(g.HbH(te.color?"mat-"+te.color:""),g.AVh("mat-toolbar-multiple-rows",te._toolbarRows.length>0)("mat-toolbar-single-row",0===te._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[g.aNF],ngContentSelectors:R,decls:2,vars:0,template:function(G,te){1&G&&(g.NAR(_),g.SdG(0),g.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return C})(),F=(()=>{class C{static#e=this.\u0275fac=function(G){return new(G||C)};static#t=this.\u0275mod=g.$C({type:C});static#n=this.\u0275inj=g.G2t({imports:[w.yE,w.yE]})}return C})()},14823:(Ne,V,E)=>{"use strict";E.d(V,{oV:()=>m,uc:()=>D});var g=E(56977),w=E(14085),O=E(67336),X=E(93953),_=E(60177),R=E(36860),A=E(18617),N=E(28203),L=E(66969),F=E(67333),C=E(76939),Y=E(21413),G=(E(49969),E(86600));const te=["tooltip"],J=new X.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const B=(0,X.WQX)(L.hJ);return()=>B.scrollStrategies.reposition({scrollThrottle:20})}}),ie={provide:J,deps:[L.hJ],useFactory:function ne(B){return()=>B.scrollStrategies.reposition({scrollThrottle:20})}},ce=new X.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function re(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),pe="tooltip-panel",we=(0,R.BQ)({passive:!0});let m=(()=>{class B{get position(){return this._position}set position(d){d!==this._position&&(this._position=d,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(d){this._positionAtOrigin=(0,w.he)(d),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(d){this._disabled=(0,w.he)(d),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(d){this._showDelay=(0,w.OE)(d)}get hideDelay(){return this._hideDelay}set hideDelay(d){this._hideDelay=(0,w.OE)(d),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(d){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=d?String(d).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(d){this._tooltipClass=d,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(d,v,W,z,Q,de,xe,Ie,Le,ve,ye,ke){this._overlay=d,this._elementRef=v,this._scrollDispatcher=W,this._viewContainerRef=z,this._ngZone=Q,this._platform=de,this._ariaDescriber=xe,this._focusMonitor=Ie,this._dir=ve,this._defaultOptions=ye,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=p,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Y.B,this._injector=(0,X.WQX)(X.zZn),this._scrollStrategy=Le,this._document=ke,ye&&(this._showDelay=ye.showDelay,this._hideDelay=ye.hideDelay,ye.position&&(this.position=ye.position),ye.positionAtOrigin&&(this.positionAtOrigin=ye.positionAtOrigin),ye.touchGestures&&(this.touchGestures=ye.touchGestures)),ve.change.pipe((0,g.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,g.Q)(this._destroyed)).subscribe(d=>{d?"keyboard"===d&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const d=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,W])=>{d.removeEventListener(v,W,we)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(d,this.message,"tooltip"),this._focusMonitor.stopMonitoring(d)}show(d=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const W=this._createOverlay(v);this._detach(),this._portal=this._portal||new C.A8(this._tooltipComponent,this._viewContainerRef);const z=this._tooltipInstance=W.attach(this._portal).instance;z._triggerElement=this._elementRef.nativeElement,z._mouseLeaveHideDelay=this._hideDelay,z.afterHidden().pipe((0,g.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),z.show(d)}hide(d=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(d):(v._cancelPendingAnimations(),this._detach()))}toggle(d){this._isTooltipVisible()?this.hide():this.show(void 0,d)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(d){if(this._overlayRef){const z=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!d)&&z._origin instanceof X.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),W=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&d||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return W.positionChanges.pipe((0,g.Q)(this._destroyed)).subscribe(z=>{this._updateCurrentPositionClass(z.connectionPair),this._tooltipInstance&&z.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:W,panelClass:`${this._cssClassPrefix}-${pe}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,g.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,g.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,g.Q)(this._destroyed)).subscribe(z=>{this._isTooltipVisible()&&z.keyCode===O._f&&!(0,O.rp)(z)&&(z.preventDefault(),z.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(d){const v=d.getConfig().positionStrategy,W=this._getOrigin(),z=this._getOverlayPosition();v.withPositions([this._addOffset({...W.main,...z.main}),this._addOffset({...W.fallback,...z.fallback})])}_addOffset(d){const W=!this._dir||"ltr"==this._dir.value;return"top"===d.originY?d.offsetY=-8:"bottom"===d.originY?d.offsetY=8:"start"===d.originX?d.offsetX=W?-8:8:"end"===d.originX&&(d.offsetX=W?8:-8),d}_getOrigin(){const d=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v||"below"==v?W={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&d||"right"==v&&!d?W={originX:"start",originY:"center"}:("after"==v||"right"==v&&d||"left"==v&&!d)&&(W={originX:"end",originY:"center"});const{x:z,y:Q}=this._invertPosition(W.originX,W.originY);return{main:W,fallback:{originX:z,originY:Q}}}_getOverlayPosition(){const d=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v?W={overlayX:"center",overlayY:"bottom"}:"below"==v?W={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&d||"right"==v&&!d?W={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&d||"left"==v&&!d)&&(W={overlayX:"start",overlayY:"center"});const{x:z,y:Q}=this._invertPosition(W.overlayX,W.overlayY);return{main:W,fallback:{overlayX:z,overlayY:Q}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,X.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(d){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=d,this._tooltipInstance._markForCheck())}_invertPosition(d,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===d?d="start":"start"===d&&(d="end"),{x:d,y:v}}_updateCurrentPositionClass(d){const{overlayY:v,originX:W,originY:z}=d;let Q;if(Q="center"===v?this._dir&&"rtl"===this._dir.value?"end"===W?"left":"right":"start"===W?"left":"right":"bottom"===v&&"top"===z?"above":"below",Q!==this._currentPosition){const de=this._overlayRef;if(de){const xe=`${this._cssClassPrefix}-${pe}-`;de.removePanelClass(xe+this._currentPosition),de.addPanelClass(xe+Q)}this._currentPosition=Q}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",d=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==d.x&&void 0!==d.y&&(v=d),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",d=>{const v=d.targetTouches?.[0],W=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,W),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const d=[];if(this._platformSupportsMouseEvents())d.push(["mouseleave",v=>{const W=v.relatedTarget;(!W||!this._overlayRef?.overlayElement.contains(W))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};d.push(["touchend",v],["touchcancel",v])}this._addListeners(d),this._passiveListeners.push(...d)}_addListeners(d){d.forEach(([v,W])=>{this._elementRef.nativeElement.addEventListener(v,W,we)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(d){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(d.clientX,d.clientY),W=this._elementRef.nativeElement;v!==W&&!W.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const d=this.touchGestures;if("off"!==d){const v=this._elementRef.nativeElement,W=v.style;("on"===d||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&(W.userSelect=W.msUserSelect=W.webkitUserSelect=W.MozUserSelect="none"),("on"===d||!v.draggable)&&(W.webkitUserDrag="none"),W.touchAction="none",W.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||B)(X.rXU(L.hJ),X.rXU(X.aKT),X.rXU(F.R),X.rXU(X.c1b),X.rXU(X.SKi),X.rXU(R.OD),X.rXU(A.vr),X.rXU(A.FN),X.rXU(J),X.rXU(N.dS),X.rXU(ce,8),X.rXU(_.qQ))};static#t=this.\u0275dir=X.FsC({type:B,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,W){2&v&&X.AVh("mat-mdc-tooltip-disabled",W.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return B})(),p=(()=>{class B{constructor(d,v,W){this._changeDetectorRef=d,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Y.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===W}show(d){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},d)}hide(d){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},d)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:d}){(!d||!this._triggerElement.contains(d))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const d=this._elementRef.nativeElement.getBoundingClientRect();return d.height>24&&d.width>=200}_handleAnimationEnd({animationName:d}){(d===this._showAnimation||d===this._hideAnimation)&&this._finalizeAnimation(d===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(d){d?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(d){const v=this._tooltip.nativeElement,W=this._showAnimation,z=this._hideAnimation;if(v.classList.remove(d?z:W),v.classList.add(d?W:z),this._isVisible!==d&&(this._isVisible=d,this._changeDetectorRef.markForCheck()),d&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Q=getComputedStyle(v);("0s"===Q.getPropertyValue("animation-duration")||"none"===Q.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}d&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(d))}static#e=this.\u0275fac=function(v){return new(v||B)(X.rXU(X.gRc),X.rXU(X.aKT),X.rXU(X.bc$,8))};static#t=this.\u0275cmp=X.VBU({type:B,selectors:[["mat-tooltip-component"]],viewQuery:function(v,W){if(1&v&&X.GBs(te,7),2&v){let z;X.mGM(z=X.lsd())&&(W._tooltip=z.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,W){1&v&&X.bIt("mouseleave",function(Q){return W._handleMouseLeave(Q)}),2&v&&X.xc7("zoom",W.isVisible()?1:null)},standalone:!0,features:[X.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,W){if(1&v){const z=X.RV6();X.j41(0,"div",1,0),X.bIt("animationend",function(de){return X.eBV(z),X.Njj(W._handleAnimationEnd(de))}),X.j41(2,"div",2),X.EFF(3),X.k0s()()}2&v&&(X.AVh("mdc-tooltip--multiline",W._isMultiline),X.Y8G("ngClass",W.tooltipClass),X.R7$(3),X.JRh(W.message))},dependencies:[_.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return B})(),D=(()=>{class B{static#e=this.\u0275fac=function(v){return new(v||B)};static#t=this.\u0275mod=X.$C({type:B});static#n=this.\u0275inj=X.G2t({providers:[ie],imports:[A.Pd,_.MD,L.z_,G.yE,G.yE,F.Gj]})}return B})()},345:(Ne,V,E)=>{"use strict";E.d(V,{B7:()=>we,B8:()=>z,hE:()=>ge,up:()=>Oe});var g=E(60177),w=E(93953);class O extends g.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends O{static makeCurrent(){(0,g.ZD)(new X)}onAndCancel(nt,Ye,At){return nt.addEventListener(Ye,At),()=>{nt.removeEventListener(Ye,At)}}dispatchEvent(nt,Ye){nt.dispatchEvent(Ye)}remove(nt){nt.parentNode&&nt.parentNode.removeChild(nt)}createElement(nt,Ye){return(Ye=Ye||this.getDefaultDocument()).createElement(nt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(nt){return nt.nodeType===Node.ELEMENT_NODE}isShadowRoot(nt){return nt instanceof DocumentFragment}getGlobalEventTarget(nt,Ye){return"window"===Ye?window:"document"===Ye?nt:"body"===Ye?nt.body:null}getBaseHref(nt){const Ye=function R(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==Ye?null:function A(Dt){return new URL(Dt,document.baseURI).pathname}(Ye)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(nt){return(0,g._b)(document.cookie,nt)}}let _=null,L=(()=>{class Dt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(At){return new(At||Dt)};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();const F=new w.nKC("");let C=(()=>{class Dt{constructor(Ye,At){this._zone=At,this._eventNameToPlugin=new Map,Ye.forEach(kt=>{kt.manager=this}),this._plugins=Ye.slice().reverse()}addEventListener(Ye,At,kt){return this._findPluginFor(At).addEventListener(Ye,At,kt)}getZone(){return this._zone}_findPluginFor(Ye){let At=this._eventNameToPlugin.get(Ye);if(At)return At;if(At=this._plugins.find($t=>$t.supports(Ye)),!At)throw new w.wOt(5101,!1);return this._eventNameToPlugin.set(Ye,At),At}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(F),w.KVO(w.SKi))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();class Y{constructor(nt){this._doc=nt}}const j="ng-app-id";let G=(()=>{class Dt{constructor(Ye,At,kt,$t={}){this.doc=Ye,this.appId=At,this.nonce=kt,this.platformId=$t,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.Vy)($t),this.resetHostNodes()}addStyles(Ye){for(const At of Ye)1===this.changeUsageCount(At,1)&&this.onStyleAdded(At)}removeStyles(Ye){for(const At of Ye)this.changeUsageCount(At,-1)<=0&&this.onStyleRemoved(At)}ngOnDestroy(){const Ye=this.styleNodesInDOM;Ye&&(Ye.forEach(At=>At.remove()),Ye.clear());for(const At of this.getAllStyles())this.onStyleRemoved(At);this.resetHostNodes()}addHost(Ye){this.hostNodes.add(Ye);for(const At of this.getAllStyles())this.addStyleToHost(Ye,At)}removeHost(Ye){this.hostNodes.delete(Ye)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ye){for(const At of this.hostNodes)this.addStyleToHost(At,Ye)}onStyleRemoved(Ye){const At=this.styleRef;At.get(Ye)?.elements?.forEach(kt=>kt.remove()),At.delete(Ye)}collectServerRenderedStyles(){const Ye=this.doc.head?.querySelectorAll(`style[${j}="${this.appId}"]`);if(Ye?.length){const At=new Map;return Ye.forEach(kt=>{null!=kt.textContent&&At.set(kt.textContent,kt)}),At}return null}changeUsageCount(Ye,At){const kt=this.styleRef;if(kt.has(Ye)){const $t=kt.get(Ye);return $t.usage+=At,$t.usage}return kt.set(Ye,{usage:At,elements:[]}),At}getStyleElement(Ye,At){const kt=this.styleNodesInDOM,$t=kt?.get(At);if($t?.parentNode===Ye)return kt.delete(At),$t.removeAttribute(j),$t;{const Bn=this.doc.createElement("style");return this.nonce&&Bn.setAttribute("nonce",this.nonce),Bn.textContent=At,this.platformIsServer&&Bn.setAttribute(j,this.appId),Ye.appendChild(Bn),Bn}}addStyleToHost(Ye,At){const kt=this.getStyleElement(Ye,At),$t=this.styleRef,Bn=$t.get(At)?.elements;Bn?Bn.push(kt):$t.set(At,{elements:[kt],usage:1})}resetHostNodes(){const Ye=this.hostNodes;Ye.clear(),Ye.add(this.doc.head)}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(g.qQ),w.KVO(w.sZ2),w.KVO(w.BIS,8),w.KVO(w.Agw))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ee=/%COMP%/g,q="%COMP%",J=`_nghost-${q}`,ne=`_ngcontent-${q}`,re=new w.nKC("",{providedIn:"root",factory:()=>!0});function pe(Dt,nt){return nt.map(Ye=>Ye.replace(ee,Dt))}let we=(()=>{class Dt{constructor(Ye,At,kt,$t,Bn,et,it,ot=null){this.eventManager=Ye,this.sharedStylesHost=At,this.appId=kt,this.removeStylesOnCompDestroy=$t,this.doc=Bn,this.platformId=et,this.ngZone=it,this.nonce=ot,this.rendererByCompId=new Map,this.platformIsServer=(0,g.Vy)(et),this.defaultRenderer=new Me(Ye,Bn,it,this.platformIsServer)}createRenderer(Ye,At){if(!Ye||!At)return this.defaultRenderer;this.platformIsServer&&At.encapsulation===w.gXe.ShadowDom&&(At={...At,encapsulation:w.gXe.Emulated});const kt=this.getOrCreateRenderer(Ye,At);return kt instanceof x?kt.applyToHost(Ye):kt instanceof p&&kt.applyStyles(),kt}getOrCreateRenderer(Ye,At){const kt=this.rendererByCompId;let $t=kt.get(At.id);if(!$t){const Bn=this.doc,et=this.ngZone,it=this.eventManager,ot=this.sharedStylesHost,He=this.removeStylesOnCompDestroy,ht=this.platformIsServer;switch(At.encapsulation){case w.gXe.Emulated:$t=new x(it,ot,At,this.appId,He,Bn,et,ht);break;case w.gXe.ShadowDom:return new m(it,ot,Ye,At,Bn,et,this.nonce,ht);default:$t=new p(it,ot,At,He,Bn,et,ht)}kt.set(At.id,$t)}return $t}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(C),w.KVO(G),w.KVO(w.sZ2),w.KVO(re),w.KVO(g.qQ),w.KVO(w.Agw),w.KVO(w.SKi),w.KVO(w.BIS))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();class Me{constructor(nt,Ye,At,kt){this.eventManager=nt,this.doc=Ye,this.ngZone=At,this.platformIsServer=kt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(nt,Ye){return Ye?this.doc.createElementNS(te[Ye]||Ye,nt):this.doc.createElement(nt)}createComment(nt){return this.doc.createComment(nt)}createText(nt){return this.doc.createTextNode(nt)}appendChild(nt,Ye){(h(nt)?nt.content:nt).appendChild(Ye)}insertBefore(nt,Ye,At){nt&&(h(nt)?nt.content:nt).insertBefore(Ye,At)}removeChild(nt,Ye){nt&&nt.removeChild(Ye)}selectRootElement(nt,Ye){let At="string"==typeof nt?this.doc.querySelector(nt):nt;if(!At)throw new w.wOt(-5104,!1);return Ye||(At.textContent=""),At}parentNode(nt){return nt.parentNode}nextSibling(nt){return nt.nextSibling}setAttribute(nt,Ye,At,kt){if(kt){Ye=kt+":"+Ye;const $t=te[kt];$t?nt.setAttributeNS($t,Ye,At):nt.setAttribute(Ye,At)}else nt.setAttribute(Ye,At)}removeAttribute(nt,Ye,At){if(At){const kt=te[At];kt?nt.removeAttributeNS(kt,Ye):nt.removeAttribute(`${At}:${Ye}`)}else nt.removeAttribute(Ye)}addClass(nt,Ye){nt.classList.add(Ye)}removeClass(nt,Ye){nt.classList.remove(Ye)}setStyle(nt,Ye,At,kt){kt&(w.czy.DashCase|w.czy.Important)?nt.style.setProperty(Ye,At,kt&w.czy.Important?"important":""):nt.style[Ye]=At}removeStyle(nt,Ye,At){At&w.czy.DashCase?nt.style.removeProperty(Ye):nt.style[Ye]=""}setProperty(nt,Ye,At){null!=nt&&(nt[Ye]=At)}setValue(nt,Ye){nt.nodeValue=Ye}listen(nt,Ye,At){if("string"==typeof nt&&!(nt=(0,g.QT)().getGlobalEventTarget(this.doc,nt)))throw new Error(`Unsupported event target ${nt} for event ${Ye}`);return this.eventManager.addEventListener(nt,Ye,this.decoratePreventDefault(At))}decoratePreventDefault(nt){return Ye=>{if("__ngUnwrap__"===Ye)return nt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>nt(Ye)):nt(Ye))&&Ye.preventDefault()}}}function h(Dt){return"TEMPLATE"===Dt.tagName&&void 0!==Dt.content}class m extends Me{constructor(nt,Ye,At,kt,$t,Bn,et,it){super(nt,$t,Bn,it),this.sharedStylesHost=Ye,this.hostEl=At,this.shadowRoot=At.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ot=pe(kt.id,kt.styles);for(const He of ot){const ht=document.createElement("style");et&&ht.setAttribute("nonce",et),ht.textContent=He,this.shadowRoot.appendChild(ht)}}nodeOrShadowRoot(nt){return nt===this.hostEl?this.shadowRoot:nt}appendChild(nt,Ye){return super.appendChild(this.nodeOrShadowRoot(nt),Ye)}insertBefore(nt,Ye,At){return super.insertBefore(this.nodeOrShadowRoot(nt),Ye,At)}removeChild(nt,Ye){return super.removeChild(this.nodeOrShadowRoot(nt),Ye)}parentNode(nt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(nt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class p extends Me{constructor(nt,Ye,At,kt,$t,Bn,et,it){super(nt,$t,Bn,et),this.sharedStylesHost=Ye,this.removeStylesOnCompDestroy=kt,this.styles=it?pe(it,At.styles):At.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class x extends p{constructor(nt,Ye,At,kt,$t,Bn,et,it){const ot=kt+"-"+At.id;super(nt,Ye,At,$t,Bn,et,it,ot),this.contentAttr=function ce(Dt){return ne.replace(ee,Dt)}(ot),this.hostAttr=function se(Dt){return J.replace(ee,Dt)}(ot)}applyToHost(nt){this.applyStyles(),this.setAttribute(nt,this.hostAttr,"")}createElement(nt,Ye){const At=super.createElement(nt,Ye);return super.setAttribute(At,this.contentAttr,""),At}}let D=(()=>{class Dt extends Y{constructor(Ye){super(Ye)}supports(Ye){return!0}addEventListener(Ye,At,kt){return Ye.addEventListener(At,kt,!1),()=>this.removeEventListener(Ye,At,kt)}removeEventListener(Ye,At,kt){return Ye.removeEventListener(At,kt)}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})(),B=(()=>{class Dt extends Y{constructor(Ye){super(Ye),this.delegate=(0,w.WQX)(w.zAP,{optional:!0})}supports(Ye){return!!this.delegate&&this.delegate.supports(Ye)}addEventListener(Ye,At,kt){return this.delegate.addEventListener(Ye,At,kt)}removeEventListener(Ye,At,kt){return this.delegate.removeEventListener(Ye,At,kt)}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();const M=["alt","control","meta","shift"],d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let W=(()=>{class Dt extends Y{constructor(Ye){super(Ye)}supports(Ye){return null!=Dt.parseEventName(Ye)}addEventListener(Ye,At,kt){const $t=Dt.parseEventName(At),Bn=Dt.eventCallback($t.fullKey,kt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.QT)().onAndCancel(Ye,$t.domEventName,Bn))}static parseEventName(Ye){const At=Ye.toLowerCase().split("."),kt=At.shift();if(0===At.length||"keydown"!==kt&&"keyup"!==kt)return null;const $t=Dt._normalizeKey(At.pop());let Bn="",et=At.indexOf("code");if(et>-1&&(At.splice(et,1),Bn="code."),M.forEach(ot=>{const He=At.indexOf(ot);He>-1&&(At.splice(He,1),Bn+=ot+".")}),Bn+=$t,0!=At.length||0===$t.length)return null;const it={};return it.domEventName=kt,it.fullKey=Bn,it}static matchEventFullKeyCode(Ye,At){let kt=d[Ye.key]||Ye.key,$t="";return At.indexOf("code.")>-1&&(kt=Ye.code,$t="code."),!(null==kt||!kt)&&(kt=kt.toLowerCase()," "===kt?kt="space":"."===kt&&(kt="dot"),M.forEach(Bn=>{Bn!==kt&&(0,v[Bn])(Ye)&&($t+=Bn+".")}),$t+=kt,$t===At)}static eventCallback(Ye,At,kt){return $t=>{Dt.matchEventFullKeyCode($t,Ye)&&kt.runGuarded(()=>At($t))}}static _normalizeKey(Ye){return"esc"===Ye?"escape":Ye}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac})}return Dt})();function z(Dt,nt){return(0,w.TL3)({rootComponent:Dt,...de(nt)})}function de(Dt){return{appProviders:[...fe,...Dt?.providers??[]],platformProviders:ye}}const ye=[{provide:w.Agw,useValue:g.AJ},{provide:w.PLl,useValue:function Ie(){X.makeCurrent()},multi:!0},{provide:g.qQ,useFactory:function ve(){return(0,w.TL$)(document),document},deps:[]}],fe=[{provide:w.H8p,useValue:"root"},{provide:w.zcH,useFactory:function Le(){return new w.zcH},deps:[]},{provide:F,useClass:D,multi:!0,deps:[g.qQ,w.SKi,w.Agw]},{provide:F,useClass:W,multi:!0,deps:[g.qQ]},{provide:F,useClass:B,multi:!0},we,G,C,{provide:w._9s,useExisting:we},{provide:g.N0,useClass:L,deps:[]},[]];let ge=(()=>{class Dt{constructor(Ye){this._doc=Ye}getTitle(){return this._doc.title}setTitle(Ye){this._doc.title=Ye||""}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),Oe=(()=>{class Dt{static#e=this.\u0275fac=function(At){return new(At||Dt)};static#t=this.\u0275prov=w.jDH({token:Dt,factory:function(At){let kt=null;return kt=At?new(At||Dt):w.KVO(Qe),kt},providedIn:"root"})}return Dt})(),Qe=(()=>{class Dt extends Oe{constructor(Ye){super(),this._doc=Ye}sanitize(Ye,At){if(null==At)return null;switch(Ye){case w.WPN.NONE:return At;case w.WPN.HTML:return(0,w.ZF7)(At,"HTML")?(0,w.rcV)(At):(0,w.h9k)(this._doc,String(At)).toString();case w.WPN.STYLE:return(0,w.ZF7)(At,"Style")?(0,w.rcV)(At):At;case w.WPN.SCRIPT:if((0,w.ZF7)(At,"Script"))return(0,w.rcV)(At);throw new w.wOt(5200,!1);case w.WPN.URL:return(0,w.ZF7)(At,"URL")?(0,w.rcV)(At):(0,w.$MX)(String(At));case w.WPN.RESOURCE_URL:if((0,w.ZF7)(At,"ResourceURL"))return(0,w.rcV)(At);throw new w.wOt(5201,!1);default:throw new w.wOt(5202,!1)}}bypassSecurityTrustHtml(Ye){return(0,w.Kcf)(Ye)}bypassSecurityTrustStyle(Ye){return(0,w.cWb)(Ye)}bypassSecurityTrustScript(Ye){return(0,w.UyX)(Ye)}bypassSecurityTrustUrl(Ye){return(0,w.osQ)(Ye)}bypassSecurityTrustResourceUrl(Ye){return(0,w.e5t)(Ye)}static#e=this.\u0275fac=function(At){return new(At||Dt)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})()},18498:(Ne,V,E)=>{"use strict";E.d(V,{nX:()=>Ec,wF:()=>br,Z:()=>Jn,Kp:()=>Yw,Ix:()=>ya,Wk:()=>Sd,wQ:()=>tl,iI:()=>wl,n3:()=>qu,lh:()=>gu,Sn:()=>R0});var g=E(10467),w=E(93953),O=E(74402),X=E(86648),_=E(7673),R=E(84412),A=E(84572);const L=(0,E(81853).L)(Be=>function(){Be(this),this.name="EmptyError",this.message="no elements in sequence"});var F=E(28793),C=E(59030),Y=E(71203),j=E(18810),G=E(983),te=E(30017),ee=E(21413),q=E(18359),J=E(60177),ne=E(96354),ie=E(25558),re=E(96697),ce=E(99172),se=E(5964),pe=E(31397),we=E(39974),Me=E(54360);function k(Be){return(0,we.N)((Ze,Fe)=>{let We=!1;Ze.subscribe((0,Me._)(Fe,gt=>{We=!0,Fe.next(gt)},()=>{We||Fe.next(Be),Fe.complete()}))})}function l(Be=h){return(0,we.N)((Ze,Fe)=>{let We=!1;Ze.subscribe((0,Me._)(Fe,gt=>{We=!0,Fe.next(gt)},()=>We?Fe.complete():Fe.error(Be())))})}function h(){return new L}var m=E(33669);function p(Be,Ze){const Fe=arguments.length>=2;return We=>We.pipe(Be?(0,se.p)((gt,Pt)=>Be(gt,Pt,We)):m.D,(0,re.s)(1),Fe?k(Ze):l(()=>new L))}var x=E(70274),D=E(88141),B=E(99437);function v(Be){return Be<=0?()=>G.w:(0,we.N)((Ze,Fe)=>{let We=[];Ze.subscribe((0,Me._)(Fe,gt=>{We.push(gt),Be<We.length&&We.shift()},()=>{for(const gt of We)Fe.next(gt);Fe.complete()},void 0,()=>{We=null}))})}var z=E(73703),Q=E(70980),de=E(99898),xe=E(56977),Ie=E(26365),Le=E(345);const ve="primary",ye=Symbol("RouteTitle");class ke{constructor(Ze){this.params=Ze||{}}has(Ze){return Object.prototype.hasOwnProperty.call(this.params,Ze)}get(Ze){if(this.has(Ze)){const Fe=this.params[Ze];return Array.isArray(Fe)?Fe[0]:Fe}return null}getAll(Ze){if(this.has(Ze)){const Fe=this.params[Ze];return Array.isArray(Fe)?Fe:[Fe]}return[]}get keys(){return Object.keys(this.params)}}function me(Be){return new ke(Be)}function Ee(Be,Ze,Fe){const We=Fe.path.split("/");if(We.length>Be.length||"full"===Fe.pathMatch&&(Ze.hasChildren()||We.length<Be.length))return null;const gt={};for(let Pt=0;Pt<We.length;Pt++){const Xt=We[Pt],In=Be[Pt];if(":"===Xt[0])gt[Xt.substring(1)]=In;else if(Xt!==In.path)return null}return{consumed:Be.slice(0,We.length),posParams:gt}}function he(Be,Ze){const Fe=Be?ae(Be):void 0,We=Ze?ae(Ze):void 0;if(!Fe||!We||Fe.length!=We.length)return!1;let gt;for(let Pt=0;Pt<Fe.length;Pt++)if(gt=Fe[Pt],!ue(Be[gt],Ze[gt]))return!1;return!0}function ae(Be){return[...Object.keys(Be),...Object.getOwnPropertySymbols(Be)]}function ue(Be,Ze){if(Array.isArray(Be)&&Array.isArray(Ze)){if(Be.length!==Ze.length)return!1;const Fe=[...Be].sort(),We=[...Ze].sort();return Fe.every((gt,Pt)=>We[Pt]===gt)}return Be===Ze}function ge(Be){return Be.length>0?Be[Be.length-1]:null}function Ae(Be){return(0,O.A)(Be)?Be:(0,w.jNT)(Be)?(0,X.H)(Promise.resolve(Be)):(0,_.of)(Be)}const Ue={exact:function qe(Be,Ze,Fe){if(!Oe(Be.segments,Ze.segments)||!T(Be.segments,Ze.segments,Fe)||Be.numberOfChildren!==Ze.numberOfChildren)return!1;for(const We in Ze.children)if(!Be.children[We]||!qe(Be.children[We],Ze.children[We],Fe))return!1;return!0},subset:ut},Ve={exact:function It(Be,Ze){return he(Be,Ze)},subset:function je(Be,Ze){return Object.keys(Ze).length<=Object.keys(Be).length&&Object.keys(Ze).every(Fe=>ue(Be[Fe],Ze[Fe]))},ignored:()=>!0};function ze(Be,Ze,Fe){return Ue[Fe.paths](Be.root,Ze.root,Fe.matrixParams)&&Ve[Fe.queryParams](Be.queryParams,Ze.queryParams)&&!("exact"===Fe.fragment&&Be.fragment!==Ze.fragment)}function ut(Be,Ze,Fe){return $(Be,Ze,Ze.segments,Fe)}function $(Be,Ze,Fe,We){if(Be.segments.length>Fe.length){const gt=Be.segments.slice(0,Fe.length);return!(!Oe(gt,Fe)||Ze.hasChildren()||!T(gt,Fe,We))}if(Be.segments.length===Fe.length){if(!Oe(Be.segments,Fe)||!T(Be.segments,Fe,We))return!1;for(const gt in Ze.children)if(!Be.children[gt]||!ut(Be.children[gt],Ze.children[gt],We))return!1;return!0}{const gt=Fe.slice(0,Be.segments.length),Pt=Fe.slice(Be.segments.length);return!!(Oe(Be.segments,gt)&&T(Be.segments,gt,We)&&Be.children[ve])&&$(Be.children[ve],Ze,Pt,We)}}function T(Be,Ze,Fe){return Ze.every((We,gt)=>Ve[Fe](Be[gt].parameters,We.parameters))}class S{constructor(Ze=new Z([],{}),Fe={},We=null){this.root=Ze,this.queryParams=Fe,this.fragment=We}get queryParamMap(){return this._queryParamMap??=me(this.queryParams),this._queryParamMap}toString(){return St.serialize(this)}}class Z{constructor(Ze,Fe){this.segments=Ze,this.children=Fe,this.parent=null,Object.values(Fe).forEach(We=>We.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lt(this)}}class le{constructor(Ze,Fe){this.path=Ze,this.parameters=Fe}get parameterMap(){return this._parameterMap??=me(this.parameters),this._parameterMap}toString(){return Ye(this)}}function Oe(Be,Ze){return Be.length===Ze.length&&Be.every((Fe,We)=>Fe.path===Ze[We].path)}let Nt=(()=>{class Be{static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:()=>new ft,providedIn:"root"})}return Be})();class ft{parse(Ze){const Fe=new Kt(Ze);return new S(Fe.parseRootSegment(),Fe.parseQueryParams(),Fe.parseFragment())}serialize(Ze){const Fe=`/${Gt(Ze.root,!0)}`,We=function kt(Be){const Ze=Object.entries(Be).map(([Fe,We])=>Array.isArray(We)?We.map(gt=>`${zn(Fe)}=${zn(gt)}`).join("&"):`${zn(Fe)}=${zn(We)}`).filter(Fe=>Fe);return Ze.length?`?${Ze.join("&")}`:""}(Ze.queryParams);return`${Fe}${We}${"string"==typeof Ze.fragment?`#${function cn(Be){return encodeURI(Be)}(Ze.fragment)}`:""}`}}const St=new ft;function Lt(Be){return Be.segments.map(Ze=>Ye(Ze)).join("/")}function Gt(Be,Ze){if(!Be.hasChildren())return Lt(Be);if(Ze){const Fe=Be.children[ve]?Gt(Be.children[ve],!1):"",We=[];return Object.entries(Be.children).forEach(([gt,Pt])=>{gt!==ve&&We.push(`${gt}:${Gt(Pt,!1)}`)}),We.length>0?`${Fe}(${We.join("//")})`:Fe}{const Fe=function Qe(Be,Ze){let Fe=[];return Object.entries(Be.children).forEach(([We,gt])=>{We===ve&&(Fe=Fe.concat(Ze(gt,We)))}),Object.entries(Be.children).forEach(([We,gt])=>{We!==ve&&(Fe=Fe.concat(Ze(gt,We)))}),Fe}(Be,(We,gt)=>gt===ve?[Gt(Be.children[ve],!1)]:[`${gt}:${Gt(We,!1)}`]);return 1===Object.keys(Be.children).length&&null!=Be.children[ve]?`${Lt(Be)}/${Fe[0]}`:`${Lt(Be)}/(${Fe.join("//")})`}}function Vt(Be){return encodeURIComponent(Be).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zn(Be){return Vt(Be).replace(/%3B/gi,";")}function Bt(Be){return Vt(Be).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(Be){return decodeURIComponent(Be)}function nt(Be){return Dt(Be.replace(/\+/g,"%20"))}function Ye(Be){return`${Bt(Be.path)}${function At(Be){return Object.entries(Be).map(([Ze,Fe])=>`;${Bt(Ze)}=${Bt(Fe)}`).join("")}(Be.parameters)}`}const $t=/^[^\/()?;#]+/;function Bn(Be){const Ze=Be.match($t);return Ze?Ze[0]:""}const et=/^[^\/()?;=#]+/,ot=/^[^=?&#]+/,ht=/^[^&#]+/;class Kt{constructor(Ze){this.url=Ze,this.remaining=Ze}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){const Ze={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ze)}while(this.consumeOptional("&"));return Ze}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ze=[];for(this.peekStartsWith("(")||Ze.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ze.push(this.parseSegment());let Fe={};this.peekStartsWith("/(")&&(this.capture("/"),Fe=this.parseParens(!0));let We={};return this.peekStartsWith("(")&&(We=this.parseParens(!1)),(Ze.length>0||Object.keys(Fe).length>0)&&(We[ve]=new Z(Ze,Fe)),We}parseSegment(){const Ze=Bn(this.remaining);if(""===Ze&&this.peekStartsWith(";"))throw new w.wOt(4009,!1);return this.capture(Ze),new le(Dt(Ze),this.parseMatrixParams())}parseMatrixParams(){const Ze={};for(;this.consumeOptional(";");)this.parseParam(Ze);return Ze}parseParam(Ze){const Fe=function it(Be){const Ze=Be.match(et);return Ze?Ze[0]:""}(this.remaining);if(!Fe)return;this.capture(Fe);let We="";if(this.consumeOptional("=")){const gt=Bn(this.remaining);gt&&(We=gt,this.capture(We))}Ze[Dt(Fe)]=Dt(We)}parseQueryParam(Ze){const Fe=function He(Be){const Ze=Be.match(ot);return Ze?Ze[0]:""}(this.remaining);if(!Fe)return;this.capture(Fe);let We="";if(this.consumeOptional("=")){const Xt=function sn(Be){const Ze=Be.match(ht);return Ze?Ze[0]:""}(this.remaining);Xt&&(We=Xt,this.capture(We))}const gt=nt(Fe),Pt=nt(We);if(Ze.hasOwnProperty(gt)){let Xt=Ze[gt];Array.isArray(Xt)||(Xt=[Xt],Ze[gt]=Xt),Xt.push(Pt)}else Ze[gt]=Pt}parseParens(Ze){const Fe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const We=Bn(this.remaining),gt=this.remaining[We.length];if("/"!==gt&&")"!==gt&&";"!==gt)throw new w.wOt(4010,!1);let Pt;We.indexOf(":")>-1?(Pt=We.slice(0,We.indexOf(":")),this.capture(Pt),this.capture(":")):Ze&&(Pt=ve);const Xt=this.parseChildren();Fe[Pt]=1===Object.keys(Xt).length?Xt[ve]:new Z([],Xt),this.consumeOptional("//")}return Fe}peekStartsWith(Ze){return this.remaining.startsWith(Ze)}consumeOptional(Ze){return!!this.peekStartsWith(Ze)&&(this.remaining=this.remaining.substring(Ze.length),!0)}capture(Ze){if(!this.consumeOptional(Ze))throw new w.wOt(4011,!1)}}function rn(Be){return Be.segments.length>0?new Z([],{[ve]:Be}):Be}function ir(Be){const Ze={};for(const[We,gt]of Object.entries(Be.children)){const Pt=ir(gt);if(We===ve&&0===Pt.segments.length&&Pt.hasChildren())for(const[Xt,In]of Object.entries(Pt.children))Ze[Xt]=In;else(Pt.segments.length>0||Pt.hasChildren())&&(Ze[We]=Pt)}return function pn(Be){if(1===Be.numberOfChildren&&Be.children[ve]){const Ze=Be.children[ve];return new Z(Be.segments.concat(Ze.segments),Ze.children)}return Be}(new Z(Be.segments,Ze))}function un(Be){return Be instanceof S}function Hn(Be){let Ze;const gt=rn(function Fe(Pt){const Xt={};for(const vn of Pt.children){const Zn=Fe(vn);Xt[vn.outlet]=Zn}const In=new Z(Pt.url,Xt);return Pt===Be&&(Ze=In),In}(Be.root));return Ze??gt}function Pn(Be,Ze,Fe,We){let gt=Be;for(;gt.parent;)gt=gt.parent;if(0===Ze.length)return Yt(gt,gt,gt,Fe,We);const Pt=function yr(Be){if("string"==typeof Be[0]&&1===Be.length&&"/"===Be[0])return new $n(!0,0,Be);let Ze=0,Fe=!1;const We=Be.reduce((gt,Pt,Xt)=>{if("object"==typeof Pt&&null!=Pt){if(Pt.outlets){const In={};return Object.entries(Pt.outlets).forEach(([vn,Zn])=>{In[vn]="string"==typeof Zn?Zn.split("/"):Zn}),[...gt,{outlets:In}]}if(Pt.segmentPath)return[...gt,Pt.segmentPath]}return"string"!=typeof Pt?[...gt,Pt]:0===Xt?(Pt.split("/").forEach((In,vn)=>{0==vn&&"."===In||(0==vn&&""===In?Fe=!0:".."===In?Ze++:""!=In&&gt.push(In))}),gt):[...gt,Pt]},[]);return new $n(Fe,Ze,We)}(Ze);if(Pt.toRoot())return Yt(gt,gt,new Z([],{}),Fe,We);const Xt=function vr(Be,Ze,Fe){if(Be.isAbsolute)return new hr(Ze,!0,0);if(!Fe)return new hr(Ze,!1,NaN);if(null===Fe.parent)return new hr(Fe,!0,0);const We=Dn(Be.commands[0])?0:1;return function sr(Be,Ze,Fe){let We=Be,gt=Ze,Pt=Fe;for(;Pt>gt;){if(Pt-=gt,We=We.parent,!We)throw new w.wOt(4005,!1);gt=We.segments.length}return new hr(We,!1,gt-Pt)}(Fe,Fe.segments.length-1+We,Be.numberOfDoubleDots)}(Pt,gt,Be),In=Xt.processChildren?Tr(Xt.segmentGroup,Xt.index,Pt.commands):kr(Xt.segmentGroup,Xt.index,Pt.commands);return Yt(gt,Xt.segmentGroup,In,Fe,We)}function Dn(Be){return"object"==typeof Be&&null!=Be&&!Be.outlets&&!Be.segmentPath}function qt(Be){return"object"==typeof Be&&null!=Be&&Be.outlets}function Yt(Be,Ze,Fe,We,gt){let Xt,Pt={};We&&Object.entries(We).forEach(([vn,Zn])=>{Pt[vn]=Array.isArray(Zn)?Zn.map(ei=>`${ei}`):`${Zn}`}),Xt=Be===Ze?Fe:Xn(Be,Ze,Fe);const In=rn(ir(Xt));return new S(In,Pt,gt)}function Xn(Be,Ze,Fe){const We={};return Object.entries(Be.children).forEach(([gt,Pt])=>{We[gt]=Pt===Ze?Fe:Xn(Pt,Ze,Fe)}),new Z(Be.segments,We)}class $n{constructor(Ze,Fe,We){if(this.isAbsolute=Ze,this.numberOfDoubleDots=Fe,this.commands=We,Ze&&We.length>0&&Dn(We[0]))throw new w.wOt(4003,!1);const gt=We.find(qt);if(gt&&gt!==ge(We))throw new w.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hr{constructor(Ze,Fe,We){this.segmentGroup=Ze,this.processChildren=Fe,this.index=We}}function kr(Be,Ze,Fe){if(Be??=new Z([],{}),0===Be.segments.length&&Be.hasChildren())return Tr(Be,Ze,Fe);const We=function jr(Be,Ze,Fe){let We=0,gt=Ze;const Pt={match:!1,pathIndex:0,commandIndex:0};for(;gt<Be.segments.length;){if(We>=Fe.length)return Pt;const Xt=Be.segments[gt],In=Fe[We];if(qt(In))break;const vn=`${In}`,Zn=We<Fe.length-1?Fe[We+1]:null;if(gt>0&&void 0===vn)break;if(vn&&Zn&&"object"==typeof Zn&&void 0===Zn.outlets){if(!en(vn,Zn,Xt))return Pt;We+=2}else{if(!en(vn,{},Xt))return Pt;We++}gt++}return{match:!0,pathIndex:gt,commandIndex:We}}(Be,Ze,Fe),gt=Fe.slice(We.commandIndex);if(We.match&&We.pathIndex<Be.segments.length){const Pt=new Z(Be.segments.slice(0,We.pathIndex),{});return Pt.children[ve]=new Z(Be.segments.slice(We.pathIndex),Be.children),Tr(Pt,0,gt)}return We.match&&0===gt.length?new Z(Be.segments,{}):We.match&&!Be.hasChildren()?Ir(Be,Ze,Fe):We.match?Tr(Be,0,gt):Ir(Be,Ze,Fe)}function Tr(Be,Ze,Fe){if(0===Fe.length)return new Z(Be.segments,{});{const We=function pr(Be){return qt(Be[0])?Be[0].outlets:{[ve]:Be}}(Fe),gt={};if(Object.keys(We).some(Pt=>Pt!==ve)&&Be.children[ve]&&1===Be.numberOfChildren&&0===Be.children[ve].segments.length){const Pt=Tr(Be.children[ve],Ze,Fe);return new Z(Be.segments,Pt.children)}return Object.entries(We).forEach(([Pt,Xt])=>{"string"==typeof Xt&&(Xt=[Xt]),null!==Xt&&(gt[Pt]=kr(Be.children[Pt],Ze,Xt))}),Object.entries(Be.children).forEach(([Pt,Xt])=>{void 0===We[Pt]&&(gt[Pt]=Xt)}),new Z(Be.segments,gt)}}function Ir(Be,Ze,Fe){const We=Be.segments.slice(0,Ze);let gt=0;for(;gt<Fe.length;){const Pt=Fe[gt];if(qt(Pt)){const vn=Ot(Pt.outlets);return new Z(We,vn)}if(0===gt&&Dn(Fe[0])){We.push(new le(Be.segments[Ze].path,Wt(Fe[0]))),gt++;continue}const Xt=qt(Pt)?Pt.outlets[ve]:`${Pt}`,In=gt<Fe.length-1?Fe[gt+1]:null;Xt&&In&&Dn(In)?(We.push(new le(Xt,Wt(In))),gt+=2):(We.push(new le(Xt,{})),gt++)}return new Z(We,{})}function Ot(Be){const Ze={};return Object.entries(Be).forEach(([Fe,We])=>{"string"==typeof We&&(We=[We]),null!==We&&(Ze[Fe]=Ir(new Z([],{}),0,We))}),Ze}function Wt(Be){const Ze={};return Object.entries(Be).forEach(([Fe,We])=>Ze[Fe]=`${We}`),Ze}function en(Be,Ze,Fe){return Be==Fe.path&&he(Ze,Fe.parameters)}const Sn="imperative";var xn=function(Be){return Be[Be.NavigationStart=0]="NavigationStart",Be[Be.NavigationEnd=1]="NavigationEnd",Be[Be.NavigationCancel=2]="NavigationCancel",Be[Be.NavigationError=3]="NavigationError",Be[Be.RoutesRecognized=4]="RoutesRecognized",Be[Be.ResolveStart=5]="ResolveStart",Be[Be.ResolveEnd=6]="ResolveEnd",Be[Be.GuardsCheckStart=7]="GuardsCheckStart",Be[Be.GuardsCheckEnd=8]="GuardsCheckEnd",Be[Be.RouteConfigLoadStart=9]="RouteConfigLoadStart",Be[Be.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Be[Be.ChildActivationStart=11]="ChildActivationStart",Be[Be.ChildActivationEnd=12]="ChildActivationEnd",Be[Be.ActivationStart=13]="ActivationStart",Be[Be.ActivationEnd=14]="ActivationEnd",Be[Be.Scroll=15]="Scroll",Be[Be.NavigationSkipped=16]="NavigationSkipped",Be}(xn||{});class Vn{constructor(Ze,Fe){this.id=Ze,this.url=Fe}}class Jn extends Vn{constructor(Ze,Fe,We="imperative",gt=null){super(Ze,Fe),this.type=xn.NavigationStart,this.navigationTrigger=We,this.restoredState=gt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class br extends Vn{constructor(Ze,Fe,We){super(Ze,Fe),this.urlAfterRedirects=We,this.type=xn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var lr=function(Be){return Be[Be.Redirect=0]="Redirect",Be[Be.SupersededByNewNavigation=1]="SupersededByNewNavigation",Be[Be.NoDataFromResolver=2]="NoDataFromResolver",Be[Be.GuardRejected=3]="GuardRejected",Be}(lr||{}),tr=function(Be){return Be[Be.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Be[Be.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Be}(tr||{});class Hi extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.reason=We,this.code=gt,this.type=xn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class li extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.reason=We,this.code=gt,this.type=xn.NavigationSkipped}}class Hr extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.error=We,this.target=gt,this.type=xn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mi extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.urlAfterRedirects=We,this.state=gt,this.type=xn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.urlAfterRedirects=We,this.state=gt,this.type=xn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si extends Vn{constructor(Ze,Fe,We,gt,Pt){super(Ze,Fe),this.urlAfterRedirects=We,this.state=gt,this.shouldActivate=Pt,this.type=xn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.urlAfterRedirects=We,this.state=gt,this.type=xn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo extends Vn{constructor(Ze,Fe,We,gt){super(Ze,Fe),this.urlAfterRedirects=We,this.state=gt,this.type=xn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs{constructor(Ze){this.route=Ze,this.type=xn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ri{constructor(Ze){this.route=Ze,this.type=xn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xo{constructor(Ze){this.snapshot=Ze,this.type=xn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fa{constructor(Ze){this.snapshot=Ze,this.type=xn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(Ze){this.snapshot=Ze,this.type=xn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(Ze){this.snapshot=Ze,this.type=xn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(Ze,Fe,We){this.routerEvent=Ze,this.position=Fe,this.anchor=We,this.type=xn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rn{}class Ut{constructor(Ze,Fe){this.url=Ze,this.navigationBehaviorOptions=Fe}}function Qs(Be){return Be.outlet||ve}function Qa(Be){if(!Be)return null;if(Be.routeConfig?._injector)return Be.routeConfig._injector;for(let Ze=Be.parent;Ze;Ze=Ze.parent){const Fe=Ze.routeConfig;if(Fe?._loadedInjector)return Fe._loadedInjector;if(Fe?._injector)return Fe._injector}return null}class _c{get injector(){return Qa(this.route?.snapshot)??this.rootInjector}set injector(Ze){}constructor(Ze){this.rootInjector=Ze,this.outlet=null,this.route=null,this.children=new Yd(this.rootInjector),this.attachRef=null}}let Yd=(()=>{class Be{constructor(Fe){this.rootInjector=Fe,this.contexts=new Map}onChildOutletCreated(Fe,We){const gt=this.getOrCreateContext(Fe);gt.outlet=We,this.contexts.set(Fe,gt)}onChildOutletDestroyed(Fe){const We=this.getContext(Fe);We&&(We.outlet=null,We.attachRef=null)}onOutletDeactivated(){const Fe=this.contexts;return this.contexts=new Map,Fe}onOutletReAttached(Fe){this.contexts=Fe}getOrCreateContext(Fe){let We=this.getContext(Fe);return We||(We=new _c(this.rootInjector),this.contexts.set(Fe,We)),We}getContext(Fe){return this.contexts.get(Fe)||null}static#e=this.\u0275fac=function(We){return new(We||Be)(w.KVO(w.uvJ))};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();class Zf{constructor(Ze){this._root=Ze}get root(){return this._root.value}parent(Ze){const Fe=this.pathFromRoot(Ze);return Fe.length>1?Fe[Fe.length-2]:null}children(Ze){const Fe=vd(Ze,this._root);return Fe?Fe.children.map(We=>We.value):[]}firstChild(Ze){const Fe=vd(Ze,this._root);return Fe&&Fe.children.length>0?Fe.children[0].value:null}siblings(Ze){const Fe=Gc(Ze,this._root);return Fe.length<2?[]:Fe[Fe.length-2].children.map(gt=>gt.value).filter(gt=>gt!==Ze)}pathFromRoot(Ze){return Gc(Ze,this._root).map(Fe=>Fe.value)}}function vd(Be,Ze){if(Be===Ze.value)return Ze;for(const Fe of Ze.children){const We=vd(Be,Fe);if(We)return We}return null}function Gc(Be,Ze){if(Be===Ze.value)return[Ze];for(const Fe of Ze.children){const We=Gc(Be,Fe);if(We.length)return We.unshift(Ze),We}return[]}class ha{constructor(Ze,Fe){this.value=Ze,this.children=Fe}toString(){return`TreeNode(${this.value})`}}function ec(Be){const Ze={};return Be&&Be.children.forEach(Fe=>Ze[Fe.value.outlet]=Fe),Ze}class Yh extends Zf{constructor(Ze,Fe){super(Ze),this.snapshot=Fe,Us(this,Ze)}toString(){return this.snapshot.toString()}}function Rl(Be){const Ze=function Ju(Be){const Pt=new Zd([],{},{},"",{},ve,Be,null,{});return new mr("",new ha(Pt,[]))}(Be),Fe=new R.t([new le("",{})]),We=new R.t({}),gt=new R.t({}),Pt=new R.t({}),Xt=new R.t(""),In=new Ec(Fe,We,Pt,Xt,gt,ve,Be,Ze.root);return In.snapshot=Ze.root,new Yh(new ha(In,[]),Ze)}class Ec{constructor(Ze,Fe,We,gt,Pt,Xt,In,vn){this.urlSubject=Ze,this.paramsSubject=Fe,this.queryParamsSubject=We,this.fragmentSubject=gt,this.dataSubject=Pt,this.outlet=Xt,this.component=In,this._futureSnapshot=vn,this.title=this.dataSubject?.pipe((0,ne.T)(Zn=>Zn[ye]))??(0,_.of)(void 0),this.url=Ze,this.params=Fe,this.queryParams=We,this.fragment=gt,this.data=Pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ne.T)(Ze=>me(Ze))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ne.T)(Ze=>me(Ze))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ta(Be,Ze,Fe="emptyOnly"){let We;const{routeConfig:gt}=Be;return We=null===Ze||"always"!==Fe&&""!==gt?.path&&(Ze.component||Ze.routeConfig?.loadComponent)?{params:{...Be.params},data:{...Be.data},resolve:{...Be.data,...Be._resolvedData??{}}}:{params:{...Ze.params,...Be.params},data:{...Ze.data,...Be.data},resolve:{...Be.data,...Ze.data,...gt?.data,...Be._resolvedData}},gt&&Jd(gt)&&(We.resolve[ye]=gt.title),We}class Zd{get title(){return this.data?.[ye]}constructor(Ze,Fe,We,gt,Pt,Xt,In,vn,Zn){this.url=Ze,this.params=Fe,this.queryParams=We,this.fragment=gt,this.data=Pt,this.outlet=Xt,this.component=In,this.routeConfig=vn,this._resolve=Zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=me(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=me(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(We=>We.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mr extends Zf{constructor(Ze,Fe){super(Fe),this.url=Ze,Us(this,Fe)}toString(){return Qi(this._root)}}function Us(Be,Ze){Ze.value._routerState=Be,Ze.children.forEach(Fe=>Us(Be,Fe))}function Qi(Be){const Ze=Be.children.length>0?` { ${Be.children.map(Qi).join(", ")} } `:"";return`${Be.value}${Ze}`}function Nr(Be){if(Be.snapshot){const Ze=Be.snapshot,Fe=Be._futureSnapshot;Be.snapshot=Fe,he(Ze.queryParams,Fe.queryParams)||Be.queryParamsSubject.next(Fe.queryParams),Ze.fragment!==Fe.fragment&&Be.fragmentSubject.next(Fe.fragment),he(Ze.params,Fe.params)||Be.paramsSubject.next(Fe.params),function fe(Be,Ze){if(Be.length!==Ze.length)return!1;for(let Fe=0;Fe<Be.length;++Fe)if(!he(Be[Fe],Ze[Fe]))return!1;return!0}(Ze.url,Fe.url)||Be.urlSubject.next(Fe.url),he(Ze.data,Fe.data)||Be.dataSubject.next(Fe.data)}else Be.snapshot=Be._futureSnapshot,Be.dataSubject.next(Be._futureSnapshot.data)}function Jf(Be,Ze){const Fe=he(Be.params,Ze.params)&&function De(Be,Ze){return Oe(Be,Ze)&&Be.every((Fe,We)=>he(Fe.parameters,Ze[We].parameters))}(Be.url,Ze.url);return Fe&&!(!Be.parent!=!Ze.parent)&&(!Be.parent||Jf(Be.parent,Ze.parent))}function Jd(Be){return"string"==typeof Be.title||null===Be.title}let qu=(()=>{class Be{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new w.bkB,this.deactivateEvents=new w.bkB,this.attachEvents=new w.bkB,this.detachEvents=new w.bkB,this.parentContexts=(0,w.WQX)(Yd),this.location=(0,w.WQX)(w.c1b),this.changeDetector=(0,w.WQX)(w.gRc),this.inputBinder=(0,w.WQX)(xc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Fe){if(Fe.name){const{firstChange:We,previousValue:gt}=Fe.name;if(We)return;this.isTrackedInParentContexts(gt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(gt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Fe){return this.parentContexts.getContext(Fe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Fe=this.parentContexts.getContext(this.name);Fe?.route&&(Fe.attachRef?this.attach(Fe.attachRef,Fe.route):this.activateWith(Fe.route,Fe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.wOt(4012,!1);this.location.detach();const Fe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Fe.instance),Fe}attach(Fe,We){this.activated=Fe,this._activatedRoute=We,this.location.insert(Fe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Fe.instance)}deactivate(){if(this.activated){const Fe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Fe)}}activateWith(Fe,We){if(this.isActivated)throw new w.wOt(4013,!1);this._activatedRoute=Fe;const gt=this.location,Xt=Fe.snapshot.component,In=this.parentContexts.getOrCreateContext(this.name).children,vn=new gs(Fe,In,gt.injector);this.activated=gt.createComponent(Xt,{index:gt.length,injector:vn,environmentInjector:We}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275dir=w.FsC({type:Be,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.OA$]})}return Be})();class gs{__ngOutletInjector(Ze){return new gs(this.route,this.childContexts,Ze)}constructor(Ze,Fe,We){this.route=Ze,this.childContexts=Fe,this.parent=We}get(Ze,Fe){return Ze===Ec?this.route:Ze===Yd?this.childContexts:this.parent.get(Ze,Fe)}}const xc=new w.nKC("");let zs=(()=>{class Be{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Fe){this.unsubscribeFromRouteData(Fe),this.subscribeToRouteData(Fe)}unsubscribeFromRouteData(Fe){this.outletDataSubscriptions.get(Fe)?.unsubscribe(),this.outletDataSubscriptions.delete(Fe)}subscribeToRouteData(Fe){const{activatedRoute:We}=Fe,gt=(0,A.z)([We.queryParams,We.params,We.data]).pipe((0,ie.n)(([Pt,Xt,In],vn)=>(In={...Pt,...Xt,...In},0===vn?(0,_.of)(In):Promise.resolve(In)))).subscribe(Pt=>{if(!Fe.isActivated||!Fe.activatedComponentRef||Fe.activatedRoute!==We||null===We.component)return void this.unsubscribeFromRouteData(Fe);const Xt=(0,w.HJs)(We.component);if(Xt)for(const{templateName:In}of Xt.inputs)Fe.activatedComponentRef.setInput(In,Pt[In]);else this.unsubscribeFromRouteData(Fe)});this.outletDataSubscriptions.set(Fe,gt)}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac})}return Be})();function wd(Be,Ze,Fe){if(Fe&&Be.shouldReuseRoute(Ze.value,Fe.value.snapshot)){const We=Fe.value;We._futureSnapshot=Ze.value;const gt=function _d(Be,Ze,Fe){return Ze.children.map(We=>{for(const gt of Fe.children)if(Be.shouldReuseRoute(We.value,gt.value.snapshot))return wd(Be,We,gt);return wd(Be,We)})}(Be,Ze,Fe);return new ha(We,gt)}{if(Be.shouldAttach(Ze.value)){const Pt=Be.retrieve(Ze.value);if(null!==Pt){const Xt=Pt.route;return Xt.value._futureSnapshot=Ze.value,Xt.children=Ze.children.map(In=>wd(Be,In)),Xt}}const We=function pa(Be){return new Ec(new R.t(Be.url),new R.t(Be.params),new R.t(Be.queryParams),new R.t(Be.fragment),new R.t(Be.data),Be.outlet,Be.component,Be)}(Ze.value),gt=Ze.children.map(Pt=>wd(Be,Pt));return new ha(We,gt)}}class qf{constructor(Ze,Fe){this.redirectTo=Ze,this.navigationBehaviorOptions=Fe}}const jo="ngNavigationCancelingError";function gl(Be,Ze){const{redirectTo:Fe,navigationBehaviorOptions:We}=un(Ze)?{redirectTo:Ze,navigationBehaviorOptions:void 0}:Ze,gt=Qf(!1,lr.Redirect);return gt.url=Fe,gt.navigationBehaviorOptions=We,gt}function Qf(Be,Ze){const Fe=new Error(`NavigationCancelingError: ${Be||""}`);return Fe[jo]=!0,Fe.cancellationCode=Ze,Fe}function Qu(Be){return!!Be&&Be[jo]}class ef{constructor(Ze,Fe,We,gt,Pt){this.routeReuseStrategy=Ze,this.futureState=Fe,this.currState=We,this.forwardEvent=gt,this.inputBindingEnabled=Pt}activate(Ze){const Fe=this.futureState._root,We=this.currState?this.currState._root:null;this.deactivateChildRoutes(Fe,We,Ze),Nr(this.futureState.root),this.activateChildRoutes(Fe,We,Ze)}deactivateChildRoutes(Ze,Fe,We){const gt=ec(Fe);Ze.children.forEach(Pt=>{const Xt=Pt.value.outlet;this.deactivateRoutes(Pt,gt[Xt],We),delete gt[Xt]}),Object.values(gt).forEach(Pt=>{this.deactivateRouteAndItsChildren(Pt,We)})}deactivateRoutes(Ze,Fe,We){const gt=Ze.value,Pt=Fe?Fe.value:null;if(gt===Pt)if(gt.component){const Xt=We.getContext(gt.outlet);Xt&&this.deactivateChildRoutes(Ze,Fe,Xt.children)}else this.deactivateChildRoutes(Ze,Fe,We);else Pt&&this.deactivateRouteAndItsChildren(Fe,We)}deactivateRouteAndItsChildren(Ze,Fe){Ze.value.component&&this.routeReuseStrategy.shouldDetach(Ze.value.snapshot)?this.detachAndStoreRouteSubtree(Ze,Fe):this.deactivateRouteAndOutlet(Ze,Fe)}detachAndStoreRouteSubtree(Ze,Fe){const We=Fe.getContext(Ze.value.outlet),gt=We&&Ze.value.component?We.children:Fe,Pt=ec(Ze);for(const Xt of Object.values(Pt))this.deactivateRouteAndItsChildren(Xt,gt);if(We&&We.outlet){const Xt=We.outlet.detach(),In=We.children.onOutletDeactivated();this.routeReuseStrategy.store(Ze.value.snapshot,{componentRef:Xt,route:Ze,contexts:In})}}deactivateRouteAndOutlet(Ze,Fe){const We=Fe.getContext(Ze.value.outlet),gt=We&&Ze.value.component?We.children:Fe,Pt=ec(Ze);for(const Xt of Object.values(Pt))this.deactivateRouteAndItsChildren(Xt,gt);We&&(We.outlet&&(We.outlet.deactivate(),We.children.onOutletDeactivated()),We.attachRef=null,We.route=null)}activateChildRoutes(Ze,Fe,We){const gt=ec(Fe);Ze.children.forEach(Pt=>{this.activateRoutes(Pt,gt[Pt.value.outlet],We),this.forwardEvent(new Ms(Pt.value.snapshot))}),Ze.children.length&&this.forwardEvent(new fa(Ze.value.snapshot))}activateRoutes(Ze,Fe,We){const gt=Ze.value,Pt=Fe?Fe.value:null;if(Nr(gt),gt===Pt)if(gt.component){const Xt=We.getOrCreateContext(gt.outlet);this.activateChildRoutes(Ze,Fe,Xt.children)}else this.activateChildRoutes(Ze,Fe,We);else if(gt.component){const Xt=We.getOrCreateContext(gt.outlet);if(this.routeReuseStrategy.shouldAttach(gt.snapshot)){const In=this.routeReuseStrategy.retrieve(gt.snapshot);this.routeReuseStrategy.store(gt.snapshot,null),Xt.children.onOutletReAttached(In.contexts),Xt.attachRef=In.componentRef,Xt.route=In.route.value,Xt.outlet&&Xt.outlet.attach(In.componentRef,In.route.value),Nr(In.route.value),this.activateChildRoutes(Ze,null,Xt.children)}else Xt.attachRef=null,Xt.route=gt,Xt.outlet&&Xt.outlet.activateWith(gt,Xt.injector),this.activateChildRoutes(Ze,null,Xt.children)}else this.activateChildRoutes(Ze,null,We)}}class Ed{constructor(Ze){this.path=Ze,this.route=this.path[this.path.length-1]}}class vt{constructor(Ze,Fe){this.component=Ze,this.route=Fe}}function bt(Be,Ze,Fe){const We=Be._root;return Ft(We,Ze?Ze._root:null,Fe,[We.value])}function at(Be,Ze){const Fe=Symbol(),We=Ze.get(Be,Fe);return We===Fe?"function"!=typeof Be||(0,w.LfX)(Be)?Ze.get(Be):Be:We}function Ft(Be,Ze,Fe,We,gt={canDeactivateChecks:[],canActivateChecks:[]}){const Pt=ec(Ze);return Be.children.forEach(Xt=>{(function Ht(Be,Ze,Fe,We,gt={canDeactivateChecks:[],canActivateChecks:[]}){const Pt=Be.value,Xt=Ze?Ze.value:null,In=Fe?Fe.getContext(Be.value.outlet):null;if(Xt&&Pt.routeConfig===Xt.routeConfig){const vn=function ln(Be,Ze,Fe){if("function"==typeof Fe)return Fe(Be,Ze);switch(Fe){case"pathParamsChange":return!Oe(Be.url,Ze.url);case"pathParamsOrQueryParamsChange":return!Oe(Be.url,Ze.url)||!he(Be.queryParams,Ze.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jf(Be,Ze)||!he(Be.queryParams,Ze.queryParams);default:return!Jf(Be,Ze)}}(Xt,Pt,Pt.routeConfig.runGuardsAndResolvers);vn?gt.canActivateChecks.push(new Ed(We)):(Pt.data=Xt.data,Pt._resolvedData=Xt._resolvedData),Ft(Be,Ze,Pt.component?In?In.children:null:Fe,We,gt),vn&&In&&In.outlet&&In.outlet.isActivated&&gt.canDeactivateChecks.push(new vt(In.outlet.component,Xt))}else Xt&&On(Ze,In,gt),gt.canActivateChecks.push(new Ed(We)),Ft(Be,null,Pt.component?In?In.children:null:Fe,We,gt)})(Xt,Pt[Xt.value.outlet],Fe,We.concat([Xt.value]),gt),delete Pt[Xt.value.outlet]}),Object.entries(Pt).forEach(([Xt,In])=>On(In,Fe.getContext(Xt),gt)),gt}function On(Be,Ze,Fe){const We=ec(Be),gt=Be.value;Object.entries(We).forEach(([Pt,Xt])=>{On(Xt,gt.component?Ze?Ze.children.getContext(Pt):null:Ze,Fe)}),Fe.canDeactivateChecks.push(new vt(gt.component&&Ze&&Ze.outlet&&Ze.outlet.isActivated?Ze.outlet.component:null,gt))}function or(Be){return"function"==typeof Be}function xd(Be){return Be instanceof L||"EmptyError"===Be?.name}const yt=Symbol("INITIAL_VALUE");function mt(){return(0,ie.n)(Be=>(0,A.z)(Be.map(Ze=>Ze.pipe((0,re.s)(1),(0,ce.Z)(yt)))).pipe((0,ne.T)(Ze=>{for(const Fe of Ze)if(!0!==Fe){if(Fe===yt)return yt;if(!1===Fe||tt(Fe))return Fe}return!0}),(0,se.p)(Ze=>Ze!==yt),(0,re.s)(1)))}function tt(Be){return un(Be)||Be instanceof qf}function Zh(Be){return(0,Y.F)((0,D.M)(Ze=>{if("boolean"!=typeof Ze)throw gl(0,Ze)}),(0,ne.T)(Ze=>!0===Ze))}class tf{constructor(Ze){this.segmentGroup=Ze||null}}class vl extends Error{constructor(Ze){super(),this.urlTree=Ze}}function Xc(Be){return(0,j.$)(new tf(Be))}class Jh{constructor(Ze,Fe){this.urlSerializer=Ze,this.urlTree=Fe}lineralizeSegments(Ze,Fe){let We=[],gt=Fe.root;for(;;){if(We=We.concat(gt.segments),0===gt.numberOfChildren)return(0,_.of)(We);if(gt.numberOfChildren>1||!gt.children[ve])return(0,j.$)(new w.wOt(4e3,!1));gt=gt.children[ve]}}applyRedirectCommands(Ze,Fe,We,gt,Pt){if("string"!=typeof Fe){const In=Fe,{queryParams:vn,fragment:Zn,routeConfig:ei,url:Wn,outlet:no,params:qo,data:ga,title:sf}=gt,Yc=(0,w.N4e)(Pt,()=>In({params:qo,data:ga,queryParams:vn,fragment:Zn,routeConfig:ei,url:Wn,outlet:no,title:sf}));if(Yc instanceof S)throw new vl(Yc);Fe=Yc}const Xt=this.applyRedirectCreateUrlTree(Fe,this.urlSerializer.parse(Fe),Ze,We);if("/"===Fe[0])throw new vl(Xt);return Xt}applyRedirectCreateUrlTree(Ze,Fe,We,gt){const Pt=this.createSegmentGroup(Ze,Fe.root,We,gt);return new S(Pt,this.createQueryParams(Fe.queryParams,this.urlTree.queryParams),Fe.fragment)}createQueryParams(Ze,Fe){const We={};return Object.entries(Ze).forEach(([gt,Pt])=>{if("string"==typeof Pt&&":"===Pt[0]){const In=Pt.substring(1);We[gt]=Fe[In]}else We[gt]=Pt}),We}createSegmentGroup(Ze,Fe,We,gt){const Pt=this.createSegments(Ze,Fe.segments,We,gt);let Xt={};return Object.entries(Fe.children).forEach(([In,vn])=>{Xt[In]=this.createSegmentGroup(Ze,vn,We,gt)}),new Z(Pt,Xt)}createSegments(Ze,Fe,We,gt){return Fe.map(Pt=>":"===Pt.path[0]?this.findPosParam(Ze,Pt,gt):this.findOrReturn(Pt,We))}findPosParam(Ze,Fe,We){const gt=We[Fe.path.substring(1)];if(!gt)throw new w.wOt(4001,!1);return gt}findOrReturn(Ze,Fe){let We=0;for(const gt of Fe){if(gt.path===Ze.path)return Fe.splice(We),gt;We++}return Ze}}const qh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qg(Be,Ze,Fe,We,gt){const Pt=Qh(Be,Ze,Fe);return Pt.matched?(We=function bn(Be,Ze){return Be.providers&&!Be._injector&&(Be._injector=(0,w.Ol2)(Be.providers,Ze,`Route: ${Be.path}`)),Be._injector??Ze}(Ze,We),function qg(Be,Ze,Fe,We){const gt=Ze.canMatch;if(!gt||0===gt.length)return(0,_.of)(!0);const Pt=gt.map(Xt=>{const In=at(Xt,Be);return Ae(function qd(Be){return Be&&or(Be.canMatch)}(In)?In.canMatch(Ze,Fe):(0,w.N4e)(Be,()=>In(Ze,Fe)))});return(0,_.of)(Pt).pipe(mt(),Zh())}(We,Ze,Fe).pipe((0,ne.T)(Xt=>!0===Xt?Pt:{...qh}))):(0,_.of)(Pt)}function Qh(Be,Ze,Fe){if("**"===Ze.path)return function qp(Be){return{matched:!0,parameters:Be.length>0?ge(Be).parameters:{},consumedSegments:Be,remainingSegments:[],positionalParamSegments:{}}}(Fe);if(""===Ze.path)return"full"===Ze.pathMatch&&(Be.hasChildren()||Fe.length>0)?{...qh}:{matched:!0,consumedSegments:[],remainingSegments:Fe,parameters:{},positionalParamSegments:{}};const gt=(Ze.matcher||Ee)(Fe,Be,Ze);if(!gt)return{...qh};const Pt={};Object.entries(gt.posParams??{}).forEach(([In,vn])=>{Pt[In]=vn.path});const Xt=gt.consumed.length>0?{...Pt,...gt.consumed[gt.consumed.length-1].parameters}:Pt;return{matched:!0,consumedSegments:gt.consumed,remainingSegments:Fe.slice(gt.consumed.length),parameters:Xt,positionalParamSegments:gt.posParams??{}}}function eh(Be,Ze,Fe,We){return Fe.length>0&&function nv(Be,Ze,Fe){return Fe.some(We=>nh(Be,Ze,We)&&Qs(We)!==ve)}(Be,Fe,We)?{segmentGroup:new Z(Ze,tv(We,new Z(Fe,Be.children))),slicedSegments:[]}:0===Fe.length&&function th(Be,Ze,Fe){return Fe.some(We=>nh(Be,Ze,We))}(Be,Fe,We)?{segmentGroup:new Z(Be.segments,ev(Be,Fe,We,Be.children)),slicedSegments:Fe}:{segmentGroup:new Z(Be.segments,Be.children),slicedSegments:Fe}}function ev(Be,Ze,Fe,We){const gt={};for(const Pt of Fe)if(nh(Be,Ze,Pt)&&!We[Qs(Pt)]){const Xt=new Z([],{});gt[Qs(Pt)]=Xt}return{...We,...gt}}function tv(Be,Ze){const Fe={};Fe[ve]=Ze;for(const We of Be)if(""===We.path&&Qs(We)!==ve){const gt=new Z([],{});Fe[Qs(We)]=gt}return Fe}function nh(Be,Ze,Fe){return(!(Be.hasChildren()||Ze.length>0)||"full"!==Fe.pathMatch)&&""===Fe.path}class D0{}class ep{constructor(Ze,Fe,We,gt,Pt,Xt,In){this.injector=Ze,this.configLoader=Fe,this.rootComponentType=We,this.config=gt,this.urlTree=Pt,this.paramsInheritanceStrategy=Xt,this.urlSerializer=In,this.applyRedirects=new Jh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ze){return new w.wOt(4002,`'${Ze.segmentGroup}'`)}recognize(){const Ze=eh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ze).pipe((0,ne.T)(({children:Fe,rootSnapshot:We})=>{const gt=new ha(We,Fe),Pt=new mr("",gt),Xt=function ur(Be,Ze,Fe=null,We=null){return Pn(Hn(Be),Ze,Fe,We)}(We,[],this.urlTree.queryParams,this.urlTree.fragment);return Xt.queryParams=this.urlTree.queryParams,Pt.url=this.urlSerializer.serialize(Xt),{state:Pt,tree:Xt}}))}match(Ze){const Fe=new Zd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Ze,ve,Fe).pipe((0,ne.T)(We=>({children:We,rootSnapshot:Fe})),(0,B.W)(We=>{if(We instanceof vl)return this.urlTree=We.urlTree,this.match(We.urlTree.root);throw We instanceof tf?this.noMatchError(We):We}))}processSegmentGroup(Ze,Fe,We,gt,Pt){return 0===We.segments.length&&We.hasChildren()?this.processChildren(Ze,Fe,We,Pt):this.processSegment(Ze,Fe,We,We.segments,gt,!0,Pt).pipe((0,ne.T)(Xt=>Xt instanceof ha?[Xt]:[]))}processChildren(Ze,Fe,We,gt){const Pt=[];for(const Xt of Object.keys(We.children))"primary"===Xt?Pt.unshift(Xt):Pt.push(Xt);return(0,X.H)(Pt).pipe((0,x.H)(Xt=>{const In=We.children[Xt],vn=function fu(Be,Ze){const Fe=Be.filter(We=>Qs(We)===Ze);return Fe.push(...Be.filter(We=>Qs(We)!==Ze)),Fe}(Fe,Xt);return this.processSegmentGroup(Ze,vn,In,Xt,gt)}),function d(Be,Ze){return(0,we.N)(function M(Be,Ze,Fe,We,gt){return(Pt,Xt)=>{let In=Fe,vn=Ze,Zn=0;Pt.subscribe((0,Me._)(Xt,ei=>{const Wn=Zn++;vn=In?Be(vn,ei,Wn):(In=!0,ei),We&&Xt.next(vn)},gt&&(()=>{In&&Xt.next(vn),Xt.complete()})))}}(Be,Ze,arguments.length>=2,!0))}((Xt,In)=>(Xt.push(...In),Xt)),k(null),function W(Be,Ze){const Fe=arguments.length>=2;return We=>We.pipe(Be?(0,se.p)((gt,Pt)=>Be(gt,Pt,We)):m.D,v(1),Fe?k(Ze):l(()=>new L))}(),(0,pe.Z)(Xt=>{if(null===Xt)return Xc(We);const In=uo(Xt);return function rv(Be){Be.sort((Ze,Fe)=>Ze.value.outlet===ve?-1:Fe.value.outlet===ve?1:Ze.value.outlet.localeCompare(Fe.value.outlet))}(In),(0,_.of)(In)}))}processSegment(Ze,Fe,We,gt,Pt,Xt,In){return(0,X.H)(Fe).pipe((0,x.H)(vn=>this.processSegmentAgainstRoute(vn._injector??Ze,Fe,vn,We,gt,Pt,Xt,In).pipe((0,B.W)(Zn=>{if(Zn instanceof tf)return(0,_.of)(null);throw Zn}))),p(vn=>!!vn),(0,B.W)(vn=>{if(xd(vn))return function T0(Be,Ze,Fe){return 0===Ze.length&&!Be.children[Fe]}(We,gt,Pt)?(0,_.of)(new D0):Xc(We);throw vn}))}processSegmentAgainstRoute(Ze,Fe,We,gt,Pt,Xt,In,vn){return function rh(Be,Ze,Fe,We){return!!(Qs(Be)===We||We!==ve&&nh(Ze,Fe,Be))&&Qh(Ze,Be,Fe).matched}(We,gt,Pt,Xt)?void 0===We.redirectTo?this.matchSegmentAgainstRoute(Ze,gt,We,Pt,Xt,vn):this.allowRedirects&&In?this.expandSegmentAgainstRouteUsingRedirect(Ze,gt,Fe,We,Pt,Xt,vn):Xc(gt):Xc(gt)}expandSegmentAgainstRouteUsingRedirect(Ze,Fe,We,gt,Pt,Xt,In){const{matched:vn,parameters:Zn,consumedSegments:ei,positionalParamSegments:Wn,remainingSegments:no}=Qh(Fe,gt,Pt);if(!vn)return Xc(Fe);"string"==typeof gt.redirectTo&&"/"===gt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const qo=new Zd(Pt,Zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iv(gt),Qs(gt),gt.component??gt._loadedComponent??null,gt,C0(gt)),ga=Ta(qo,In,this.paramsInheritanceStrategy);qo.params=Object.freeze(ga.params),qo.data=Object.freeze(ga.data);const sf=this.applyRedirects.applyRedirectCommands(ei,gt.redirectTo,Wn,qo,Ze);return this.applyRedirects.lineralizeSegments(gt,sf).pipe((0,pe.Z)(Yc=>this.processSegment(Ze,We,Fe,Yc.concat(no),Xt,!1,In)))}matchSegmentAgainstRoute(Ze,Fe,We,gt,Pt,Xt){const In=Qg(Fe,We,gt,Ze);return"**"===We.path&&(Fe.children={}),In.pipe((0,ie.n)(vn=>vn.matched?this.getChildConfig(Ze=We._injector??Ze,We,gt).pipe((0,ie.n)(({routes:Zn})=>{const ei=We._loadedInjector??Ze,{parameters:Wn,consumedSegments:no,remainingSegments:qo}=vn,ga=new Zd(no,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iv(We),Qs(We),We.component??We._loadedComponent??null,We,C0(We)),sf=Ta(ga,Xt,this.paramsInheritanceStrategy);ga.params=Object.freeze(sf.params),ga.data=Object.freeze(sf.data);const{segmentGroup:Yc,slicedSegments:As}=eh(Fe,no,qo,Zn);if(0===As.length&&Yc.hasChildren())return this.processChildren(ei,Zn,Yc,ga).pipe((0,ne.T)(nm=>new ha(ga,nm)));if(0===Zn.length&&0===As.length)return(0,_.of)(new ha(ga,[]));const U0=Qs(We)===Pt;return this.processSegment(ei,Zn,Yc,As,U0?ve:Pt,!0,ga).pipe((0,ne.T)(nm=>new ha(ga,nm instanceof ha?[nm]:[])))})):Xc(Fe)))}getChildConfig(Ze,Fe,We){return Fe.children?(0,_.of)({routes:Fe.children,injector:Ze}):Fe.loadChildren?void 0!==Fe._loadedRoutes?(0,_.of)({routes:Fe._loadedRoutes,injector:Fe._loadedInjector}):function Ww(Be,Ze,Fe,We){const gt=Ze.canLoad;if(void 0===gt||0===gt.length)return(0,_.of)(!0);const Pt=gt.map(Xt=>{const In=at(Xt,Be);return Ae(function An(Be){return Be&&or(Be.canLoad)}(In)?In.canLoad(Ze,Fe):(0,w.N4e)(Be,()=>In(Ze,Fe)))});return(0,_.of)(Pt).pipe(mt(),Zh())}(Ze,Fe,We).pipe((0,pe.Z)(gt=>gt?this.configLoader.loadChildren(Ze,Fe).pipe((0,D.M)(Pt=>{Fe._loadedRoutes=Pt.routes,Fe._loadedInjector=Pt.injector})):function Ti(Be){return(0,j.$)(Qf(!1,lr.GuardRejected))}())):(0,_.of)({routes:[],injector:Ze})}}function Di(Be){const Ze=Be.value.routeConfig;return Ze&&""===Ze.path}function uo(Be){const Ze=[],Fe=new Set;for(const We of Be){if(!Di(We)){Ze.push(We);continue}const gt=Ze.find(Pt=>We.value.routeConfig===Pt.value.routeConfig);void 0!==gt?(gt.children.push(...We.children),Fe.add(gt)):Ze.push(We)}for(const We of Fe){const gt=uo(We.children);Ze.push(new ha(We.value,gt))}return Ze.filter(We=>!Fe.has(We))}function iv(Be){return Be.data||{}}function C0(Be){return Be.resolve||{}}function tp(Be){const Ze=Be.children.map(Fe=>tp(Fe)).flat();return[Be,...Ze]}function ma(Be){return(0,ie.n)(Ze=>{const Fe=Be(Ze);return Fe?(0,X.H)(Fe).pipe((0,ne.T)(()=>Ze)):(0,_.of)(Ze)})}let ih=(()=>{class Be{buildTitle(Fe){let We,gt=Fe.root;for(;void 0!==gt;)We=this.getResolvedTitleForRoute(gt)??We,gt=gt.children.find(Pt=>Pt.outlet===ve);return We}getResolvedTitleForRoute(Fe){return Fe.data[ye]}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:()=>(0,w.WQX)(P0),providedIn:"root"})}return Be})(),P0=(()=>{class Be extends ih{constructor(Fe){super(),this.title=Fe}updateTitle(Fe){const We=this.buildTitle(Fe);void 0!==We&&this.title.setTitle(We)}static#e=this.\u0275fac=function(We){return new(We||Be)(w.KVO(Le.hE))};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const pu=new w.nKC("",{providedIn:"root",factory:()=>({})});let oh=(()=>{class Be{static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275cmp=w.VBU({type:Be,selectors:[["ng-component"]],standalone:!0,features:[w.aNF],decls:1,vars:0,template:function(We,gt){1&We&&w.nrm(0,"router-outlet")},dependencies:[qu],encapsulation:2})}return Be})();function rp(Be){const Ze=Be.children&&Be.children.map(rp),Fe=Ze?{...Be,children:Ze}:{...Be};return!Fe.component&&!Fe.loadComponent&&(Ze||Fe.loadChildren)&&Fe.outlet&&Fe.outlet!==ve&&(Fe.component=oh),Fe}const el=new w.nKC("");let Qp=(()=>{class Be{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.WQX)(w.Ql9)}loadComponent(Fe){if(this.componentLoaders.get(Fe))return this.componentLoaders.get(Fe);if(Fe._loadedComponent)return(0,_.of)(Fe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Fe);const We=Ae(Fe.loadComponent()).pipe((0,ne.T)(sh),(0,D.M)(Pt=>{this.onLoadEndListener&&this.onLoadEndListener(Fe),Fe._loadedComponent=Pt}),(0,Q.j)(()=>{this.componentLoaders.delete(Fe)})),gt=new te.G(We,()=>new ee.B).pipe((0,de.B)());return this.componentLoaders.set(Fe,gt),gt}loadChildren(Fe,We){if(this.childrenLoaders.get(We))return this.childrenLoaders.get(We);if(We._loadedRoutes)return(0,_.of)({routes:We._loadedRoutes,injector:We._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(We);const Pt=function em(Be,Ze,Fe,We){return Ae(Be.loadChildren()).pipe((0,ne.T)(sh),(0,pe.Z)(gt=>gt instanceof w.Co$||Array.isArray(gt)?(0,_.of)(gt):(0,X.H)(Ze.compileModuleAsync(gt))),(0,ne.T)(gt=>{We&&We(Be);let Pt,Xt,In=!1;return Array.isArray(gt)?(Xt=gt,!0):(Pt=gt.create(Fe).injector,Xt=Pt.get(el,[],{optional:!0,self:!0}).flat()),{routes:Xt.map(rp),injector:Pt}}))}(We,this.compiler,Fe,this.onLoadEndListener).pipe((0,Q.j)(()=>{this.childrenLoaders.delete(We)})),Xt=new te.G(Pt,()=>new ee.B).pipe((0,de.B)());return this.childrenLoaders.set(We,Xt),Xt}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function sh(Be){return function sv(Be){return Be&&"object"==typeof Be&&"default"in Be}(Be)?Be.default:Be}let mu=(()=>{class Be{static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:()=>(0,w.WQX)(av),providedIn:"root"})}return Be})(),av=(()=>{class Be{shouldProcessUrl(Fe){return!0}extract(Fe){return Fe}merge(Fe,We){return Fe}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const $e=new w.nKC(""),Tt=new w.nKC("");function rt(Be,Ze,Fe){const We=Be.get(Tt),gt=Be.get(J.qQ);return Be.get(w.SKi).runOutsideAngular(()=>{if(!gt.startViewTransition||We.skipNextTransition)return We.skipNextTransition=!1,new Promise(Zn=>setTimeout(Zn));let Pt;const Xt=new Promise(Zn=>{Pt=Zn}),In=gt.startViewTransition(()=>(Pt(),function Mt(Be){return new Promise(Ze=>{(0,w.mal)({read:()=>setTimeout(Ze)},{injector:Be})})}(Be))),{onViewTransitionCreated:vn}=We;return vn&&(0,w.N4e)(Be,()=>vn({transition:In,from:Ze,to:Fe})),Xt})}const zt=new w.nKC("");let kn=(()=>{class Be{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ee.B,this.transitionAbortSubject=new ee.B,this.configLoader=(0,w.WQX)(Qp),this.environmentInjector=(0,w.WQX)(w.uvJ),this.urlSerializer=(0,w.WQX)(Nt),this.rootContexts=(0,w.WQX)(Yd),this.location=(0,w.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,w.WQX)(xc,{optional:!0}),this.titleStrategy=(0,w.WQX)(ih),this.options=(0,w.WQX)(pu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,w.WQX)(mu),this.createViewTransition=(0,w.WQX)($e,{optional:!0}),this.navigationErrorHandler=(0,w.WQX)(zt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=gt=>this.events.next(new ri(gt)),this.configLoader.onLoadStartListener=gt=>this.events.next(new xs(gt))}complete(){this.transitions?.complete()}handleNavigationRequest(Fe){const We=++this.navigationId;this.transitions?.next({...this.transitions.value,...Fe,id:We})}setupNavigations(Fe,We,gt){return this.transitions=new R.t({id:0,currentUrlTree:We,currentRawUrl:We,extractedUrl:this.urlHandlingStrategy.extract(We),urlAfterRedirects:this.urlHandlingStrategy.extract(We),rawUrl:We,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Sn,restoredState:null,currentSnapshot:gt.snapshot,targetSnapshot:null,currentRouterState:gt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,se.p)(Pt=>0!==Pt.id),(0,ne.T)(Pt=>({...Pt,extractedUrl:this.urlHandlingStrategy.extract(Pt.rawUrl)})),(0,ie.n)(Pt=>{let Xt=!1,In=!1;return(0,_.of)(Pt).pipe((0,ie.n)(vn=>{if(this.navigationId>Pt.id)return this.cancelNavigationTransition(Pt,"",lr.SupersededByNewNavigation),G.w;this.currentTransition=Pt,this.currentNavigation={id:vn.id,initialUrl:vn.rawUrl,extractedUrl:vn.extractedUrl,targetBrowserUrl:"string"==typeof vn.extras.browserUrl?this.urlSerializer.parse(vn.extras.browserUrl):vn.extras.browserUrl,trigger:vn.source,extras:vn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Zn=!Fe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Zn&&"reload"!==(vn.extras.onSameUrlNavigation??Fe.onSameUrlNavigation)){const Wn="";return this.events.next(new li(vn.id,this.urlSerializer.serialize(vn.rawUrl),Wn,tr.IgnoredSameUrlNavigation)),vn.resolve(!1),G.w}if(this.urlHandlingStrategy.shouldProcessUrl(vn.rawUrl))return(0,_.of)(vn).pipe((0,ie.n)(Wn=>{const no=this.transitions?.getValue();return this.events.next(new Jn(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),Wn.source,Wn.restoredState)),no!==this.transitions?.getValue()?G.w:Promise.resolve(Wn)}),function u2(Be,Ze,Fe,We,gt,Pt){return(0,pe.Z)(Xt=>function I0(Be,Ze,Fe,We,gt,Pt,Xt="emptyOnly"){return new ep(Be,Ze,Fe,We,gt,Xt,Pt).recognize()}(Be,Ze,Fe,We,Xt.extractedUrl,gt,Pt).pipe((0,ne.T)(({state:In,tree:vn})=>({...Xt,targetSnapshot:In,urlAfterRedirects:vn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Fe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,D.M)(Wn=>{Pt.targetSnapshot=Wn.targetSnapshot,Pt.urlAfterRedirects=Wn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects};const no=new Mi(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(no)}));if(Zn&&this.urlHandlingStrategy.shouldProcessUrl(vn.currentRawUrl)){const{id:Wn,extractedUrl:no,source:qo,restoredState:ga,extras:sf}=vn,Yc=new Jn(Wn,this.urlSerializer.serialize(no),qo,ga);this.events.next(Yc);const As=Rl(this.rootComponentType).snapshot;return this.currentTransition=Pt={...vn,targetSnapshot:As,urlAfterRedirects:no,extras:{...sf,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=no,(0,_.of)(Pt)}{const Wn="";return this.events.next(new li(vn.id,this.urlSerializer.serialize(vn.extractedUrl),Wn,tr.IgnoredByUrlHandlingStrategy)),vn.resolve(!1),G.w}}),(0,D.M)(vn=>{const Zn=new Xi(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(Zn)}),(0,ne.T)(vn=>(this.currentTransition=Pt={...vn,guards:bt(vn.targetSnapshot,vn.currentSnapshot,this.rootContexts)},Pt)),function Rt(Be,Ze){return(0,pe.Z)(Fe=>{const{targetSnapshot:We,currentSnapshot:gt,guards:{canActivateChecks:Pt,canDeactivateChecks:Xt}}=Fe;return 0===Xt.length&&0===Pt.length?(0,_.of)({...Fe,guardsResult:!0}):function dn(Be,Ze,Fe,We){return(0,X.H)(Be).pipe((0,pe.Z)(gt=>function Jp(Be,Ze,Fe,We,gt){const Pt=Ze&&Ze.routeConfig?Ze.routeConfig.canDeactivate:null;if(!Pt||0===Pt.length)return(0,_.of)(!0);const Xt=Pt.map(In=>{const vn=Qa(Ze)??gt,Zn=at(In,vn);return Ae(function ea(Be){return Be&&or(Be.canDeactivate)}(Zn)?Zn.canDeactivate(Be,Ze,Fe,We):(0,w.N4e)(vn,()=>Zn(Be,Ze,Fe,We))).pipe(p())});return(0,_.of)(Xt).pipe(mt())}(gt.component,gt.route,Fe,Ze,We)),p(gt=>!0!==gt,!0))}(Xt,We,gt,Be).pipe((0,pe.Z)(In=>In&&function nr(Be){return"boolean"==typeof Be}(In)?function Ur(Be,Ze,Fe,We){return(0,X.H)(Ze).pipe((0,x.H)(gt=>(0,F.x)(function Yi(Be,Ze){return null!==Be&&Ze&&Ze(new xo(Be)),(0,_.of)(!0)}(gt.route.parent,We),function $i(Be,Ze){return null!==Be&&Ze&&Ze(new Ns(Be)),(0,_.of)(!0)}(gt.route,We),function hu(Be,Ze,Fe){const We=Ze[Ze.length-1],Pt=Ze.slice(0,Ze.length-1).reverse().map(Xt=>function st(Be){const Ze=Be.routeConfig?Be.routeConfig.canActivateChild:null;return Ze&&0!==Ze.length?{node:Be,guards:Ze}:null}(Xt)).filter(Xt=>null!==Xt).map(Xt=>(0,C.v)(()=>{const In=Xt.guards.map(vn=>{const Zn=Qa(Xt.node)??Fe,ei=at(vn,Zn);return Ae(function tc(Be){return Be&&or(Be.canActivateChild)}(ei)?ei.canActivateChild(We,Be):(0,w.N4e)(Zn,()=>ei(We,Be))).pipe(p())});return(0,_.of)(In).pipe(mt())}));return(0,_.of)(Pt).pipe(mt())}(Be,gt.path,Fe),function Mc(Be,Ze,Fe){const We=Ze.routeConfig?Ze.routeConfig.canActivate:null;if(!We||0===We.length)return(0,_.of)(!0);const gt=We.map(Pt=>(0,C.v)(()=>{const Xt=Qa(Ze)??Fe,In=at(Pt,Xt);return Ae(function jn(Be){return Be&&or(Be.canActivate)}(In)?In.canActivate(Ze,Be):(0,w.N4e)(Xt,()=>In(Ze,Be))).pipe(p())}));return(0,_.of)(gt).pipe(mt())}(Be,gt.route,Fe))),p(gt=>!0!==gt,!0))}(We,Pt,Be,Ze):(0,_.of)(In)),(0,ne.T)(In=>({...Fe,guardsResult:In})))})}(this.environmentInjector,vn=>this.events.next(vn)),(0,D.M)(vn=>{if(Pt.guardsResult=vn.guardsResult,vn.guardsResult&&"boolean"!=typeof vn.guardsResult)throw gl(0,vn.guardsResult);const Zn=new si(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot,!!vn.guardsResult);this.events.next(Zn)}),(0,se.p)(vn=>!!vn.guardsResult||(this.cancelNavigationTransition(vn,"",lr.GuardRejected),!1)),ma(vn=>{if(vn.guards.canActivateChecks.length)return(0,_.of)(vn).pipe((0,D.M)(Zn=>{const ei=new Li(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),this.urlSerializer.serialize(Zn.urlAfterRedirects),Zn.targetSnapshot);this.events.next(ei)}),(0,ie.n)(Zn=>{let ei=!1;return(0,_.of)(Zn).pipe(function ov(Be,Ze){return(0,pe.Z)(Fe=>{const{targetSnapshot:We,guards:{canActivateChecks:gt}}=Fe;if(!gt.length)return(0,_.of)(Fe);const Pt=new Set(gt.map(vn=>vn.route)),Xt=new Set;for(const vn of Pt)if(!Xt.has(vn))for(const Zn of tp(vn))Xt.add(Zn);let In=0;return(0,X.H)(Xt).pipe((0,x.H)(vn=>Pt.has(vn)?function Zi(Be,Ze,Fe,We){const gt=Be.routeConfig,Pt=Be._resolve;return void 0!==gt?.title&&!Jd(gt)&&(Pt[ye]=gt.title),function k0(Be,Ze,Fe,We){const gt=ae(Be);if(0===gt.length)return(0,_.of)({});const Pt={};return(0,X.H)(gt).pipe((0,pe.Z)(Xt=>function np(Be,Ze,Fe,We){const gt=Qa(Ze)??We,Pt=at(Be,gt);return Ae(Pt.resolve?Pt.resolve(Ze,Fe):(0,w.N4e)(gt,()=>Pt(Ze,Fe)))}(Be[Xt],Ze,Fe,We).pipe(p(),(0,D.M)(In=>{if(In instanceof qf)throw gl(new ft,In);Pt[Xt]=In}))),v(1),(0,z.u)(Pt),(0,B.W)(Xt=>xd(Xt)?G.w:(0,j.$)(Xt)))}(Pt,Be,Ze,We).pipe((0,ne.T)(Xt=>(Be._resolvedData=Xt,Be.data=Ta(Be,Be.parent,Fe).resolve,null)))}(vn,We,Be,Ze):(vn.data=Ta(vn,vn.parent,Be).resolve,(0,_.of)(void 0))),(0,D.M)(()=>In++),v(1),(0,pe.Z)(vn=>In===Xt.size?(0,_.of)(Fe):G.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,D.M)({next:()=>ei=!0,complete:()=>{ei||this.cancelNavigationTransition(Zn,"",lr.NoDataFromResolver)}}))}),(0,D.M)(Zn=>{const ei=new mo(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),this.urlSerializer.serialize(Zn.urlAfterRedirects),Zn.targetSnapshot);this.events.next(ei)}))}),ma(vn=>{const Zn=ei=>{const Wn=[];ei.routeConfig?.loadComponent&&!ei.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(ei.routeConfig).pipe((0,D.M)(no=>{ei.component=no}),(0,ne.T)(()=>{})));for(const no of ei.children)Wn.push(...Zn(no));return Wn};return(0,A.z)(Zn(vn.targetSnapshot.root)).pipe(k(null),(0,re.s)(1))}),ma(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:vn,targetSnapshot:Zn}=Pt,ei=this.createViewTransition?.(this.environmentInjector,vn.root,Zn.root);return ei?(0,X.H)(ei).pipe((0,ne.T)(()=>Pt)):(0,_.of)(Pt)}),(0,ne.T)(vn=>{const Zn=function bd(Be,Ze,Fe){const We=wd(Be,Ze._root,Fe?Fe._root:void 0);return new Yh(We,Ze)}(Fe.routeReuseStrategy,vn.targetSnapshot,vn.currentRouterState);return this.currentTransition=Pt={...vn,targetRouterState:Zn},this.currentNavigation.targetRouterState=Zn,Pt}),(0,D.M)(()=>{this.events.next(new Rn)}),((Be,Ze,Fe,We)=>(0,ne.T)(gt=>(new ef(Ze,gt.targetRouterState,gt.currentRouterState,Fe,We).activate(Be),gt)))(this.rootContexts,Fe.routeReuseStrategy,vn=>this.events.next(vn),this.inputBindingEnabled),(0,re.s)(1),(0,D.M)({next:vn=>{Xt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects))),this.titleStrategy?.updateTitle(vn.targetRouterState.snapshot),vn.resolve(!0)},complete:()=>{Xt=!0}}),(0,xe.Q)(this.transitionAbortSubject.pipe((0,D.M)(vn=>{throw vn}))),(0,Q.j)(()=>{!Xt&&!In&&this.cancelNavigationTransition(Pt,"",lr.SupersededByNewNavigation),this.currentTransition?.id===Pt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,B.W)(vn=>{if(In=!0,Qu(vn))this.events.next(new Hi(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),vn.message,vn.cancellationCode)),function so(Be){return Qu(Be)&&un(Be.url)}(vn)?this.events.next(new Ut(vn.url,vn.navigationBehaviorOptions)):Pt.resolve(!1);else{const Zn=new Hr(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),vn,Pt.targetSnapshot??void 0);try{const ei=(0,w.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Zn));if(ei instanceof qf){const{message:Wn,cancellationCode:no}=gl(0,ei);this.events.next(new Hi(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),Wn,no)),this.events.next(new Ut(ei.redirectTo,ei.navigationBehaviorOptions))}else{this.events.next(Zn);const Wn=Fe.errorHandler(vn);Pt.resolve(!!Wn)}}catch(ei){this.options.resolveNavigationPromiseOnError?Pt.resolve(!1):Pt.reject(ei)}}return G.w}))}))}cancelNavigationTransition(Fe,We,gt){const Pt=new Hi(Fe.id,this.urlSerializer.serialize(Fe.extractedUrl),We,gt);this.events.next(Pt),Fe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const Fe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),We=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return Fe.toString()!==We?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function Yn(Be){return Be!==Sn}let Dr=(()=>{class Be{static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:()=>(0,w.WQX)(Ri),providedIn:"root"})}return Be})();class No{shouldDetach(Ze){return!1}store(Ze,Fe){}shouldAttach(Ze){return!1}retrieve(Ze){return null}shouldReuseRoute(Ze,Fe){return Ze.routeConfig===Fe.routeConfig}}let Ri=(()=>{class Be extends No{static#e=this.\u0275fac=(()=>{let Fe;return function(gt){return(Fe||(Fe=w.xGo(Be)))(gt||Be)}})();static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),Co=(()=>{class Be{static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:()=>(0,w.WQX)(Wi),providedIn:"root"})}return Be})(),Wi=(()=>{class Be extends Co{constructor(){super(...arguments),this.location=(0,w.WQX)(J.aZ),this.urlSerializer=(0,w.WQX)(Nt),this.options=(0,w.WQX)(pu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,w.WQX)(mu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new S,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Fe){return this.location.subscribe(We=>{"popstate"===We.type&&Fe(We.url,We.state)})}handleRouterEvent(Fe,We){if(Fe instanceof Jn)this.stateMemento=this.createStateMemento();else if(Fe instanceof li)this.rawUrlTree=We.initialUrl;else if(Fe instanceof Mi){if("eager"===this.urlUpdateStrategy&&!We.extras.skipLocationChange){const gt=this.urlHandlingStrategy.merge(We.finalUrl,We.initialUrl);this.setBrowserUrl(We.targetBrowserUrl??gt,We)}}else Fe instanceof Rn?(this.currentUrlTree=We.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(We.finalUrl,We.initialUrl),this.routerState=We.targetRouterState,"deferred"===this.urlUpdateStrategy&&!We.extras.skipLocationChange&&this.setBrowserUrl(We.targetBrowserUrl??this.rawUrlTree,We)):Fe instanceof Hi&&(Fe.code===lr.GuardRejected||Fe.code===lr.NoDataFromResolver)?this.restoreHistory(We):Fe instanceof Hr?this.restoreHistory(We,!0):Fe instanceof br&&(this.lastSuccessfulId=Fe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Fe,We){const gt=Fe instanceof S?this.urlSerializer.serialize(Fe):Fe;if(this.location.isCurrentPathEqualTo(gt)||We.extras.replaceUrl){const Xt={...We.extras.state,...this.generateNgRouterState(We.id,this.browserPageId)};this.location.replaceState(gt,"",Xt)}else{const Pt={...We.extras.state,...this.generateNgRouterState(We.id,this.browserPageId+1)};this.location.go(gt,"",Pt)}}restoreHistory(Fe,We=!1){if("computed"===this.canceledNavigationResolution){const Pt=this.currentPageId-this.browserPageId;0!==Pt?this.location.historyGo(Pt):this.currentUrlTree===Fe.finalUrl&&0===Pt&&(this.resetState(Fe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(We&&this.resetState(Fe),this.resetUrlToCurrentUrlTree())}resetState(Fe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Fe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Fe,We){return"computed"===this.canceledNavigationResolution?{navigationId:Fe,\u0275routerPageId:We}:{navigationId:Fe}}static#e=this.\u0275fac=(()=>{let Fe;return function(gt){return(Fe||(Fe=w.xGo(Be)))(gt||Be)}})();static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();var Mo=function(Be){return Be[Be.COMPLETE=0]="COMPLETE",Be[Be.FAILED=1]="FAILED",Be[Be.REDIRECTING=2]="REDIRECTING",Be}(Mo||{});function ao(Be,Ze){Be.events.pipe((0,se.p)(Fe=>Fe instanceof br||Fe instanceof Hi||Fe instanceof Hr||Fe instanceof li),(0,ne.T)(Fe=>Fe instanceof br||Fe instanceof li?Mo.COMPLETE:Fe instanceof Hi&&(Fe.code===lr.Redirect||Fe.code===lr.SupersededByNewNavigation)?Mo.REDIRECTING:Mo.FAILED),(0,se.p)(Fe=>Fe!==Mo.REDIRECTING),(0,re.s)(1)).subscribe(()=>{Ze()})}function Ss(Be){throw Be}const bl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Da={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ya=(()=>{class Be{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,w.WQX)(w.H3F),this.stateManager=(0,w.WQX)(Co),this.options=(0,w.WQX)(pu,{optional:!0})||{},this.pendingTasks=(0,w.WQX)(w.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,w.WQX)(kn),this.urlSerializer=(0,w.WQX)(Nt),this.location=(0,w.WQX)(J.aZ),this.urlHandlingStrategy=(0,w.WQX)(mu),this._events=new ee.B,this.errorHandler=this.options.errorHandler||Ss,this.navigated=!1,this.routeReuseStrategy=(0,w.WQX)(Dr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,w.WQX)(el,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,w.WQX)(xc,{optional:!0}),this.eventsSubscription=new q.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Fe=>{this.console.warn(Fe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Fe=this.navigationTransitions.events.subscribe(We=>{try{const gt=this.navigationTransitions.currentTransition,Pt=this.navigationTransitions.currentNavigation;if(null!==gt&&null!==Pt)if(this.stateManager.handleRouterEvent(We,Pt),We instanceof Hi&&We.code!==lr.Redirect&&We.code!==lr.SupersededByNewNavigation)this.navigated=!0;else if(We instanceof br)this.navigated=!0;else if(We instanceof Ut){const Xt=We.navigationBehaviorOptions,In=this.urlHandlingStrategy.merge(We.url,gt.currentRawUrl),vn={browserUrl:gt.extras.browserUrl,info:gt.extras.info,skipLocationChange:gt.extras.skipLocationChange,replaceUrl:gt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Yn(gt.source),...Xt};this.scheduleNavigation(In,Sn,null,vn,{resolve:gt.resolve,reject:gt.reject,promise:gt.promise})}(function Md(Be){return!(Be instanceof Rn||Be instanceof Ut)})(We)&&this._events.next(We)}catch(gt){this.navigationTransitions.transitionAbortSubject.next(gt)}});this.eventsSubscription.add(Fe)}resetRootComponentType(Fe){this.routerState.root.component=Fe,this.navigationTransitions.rootComponentType=Fe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Fe,We)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Fe,"popstate",We)},0)})}navigateToSyncWithBrowser(Fe,We,gt){const Pt={replaceUrl:!0},Xt=gt?.navigationId?gt:null;if(gt){const vn={...gt};delete vn.navigationId,delete vn.\u0275routerPageId,0!==Object.keys(vn).length&&(Pt.state=vn)}const In=this.parseUrl(Fe);this.scheduleNavigation(In,We,Xt,Pt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Fe){this.config=Fe.map(rp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Fe,We={}){const{relativeTo:gt,queryParams:Pt,fragment:Xt,queryParamsHandling:In,preserveFragment:vn}=We,Zn=vn?this.currentUrlTree.fragment:Xt;let Wn,ei=null;switch(In){case"merge":ei={...this.currentUrlTree.queryParams,...Pt};break;case"preserve":ei=this.currentUrlTree.queryParams;break;default:ei=Pt||null}null!==ei&&(ei=this.removeEmptyProps(ei));try{Wn=Hn(gt?gt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Fe[0]||"/"!==Fe[0][0])&&(Fe=[]),Wn=this.currentUrlTree.root}return Pn(Wn,Fe,ei,Zn??null)}navigateByUrl(Fe,We={skipLocationChange:!1}){const gt=un(Fe)?Fe:this.parseUrl(Fe),Pt=this.urlHandlingStrategy.merge(gt,this.rawUrlTree);return this.scheduleNavigation(Pt,Sn,null,We)}navigate(Fe,We={skipLocationChange:!1}){return function Ls(Be){for(let Ze=0;Ze<Be.length;Ze++)if(null==Be[Ze])throw new w.wOt(4008,!1)}(Fe),this.navigateByUrl(this.createUrlTree(Fe,We),We)}serializeUrl(Fe){return this.urlSerializer.serialize(Fe)}parseUrl(Fe){try{return this.urlSerializer.parse(Fe)}catch{return this.urlSerializer.parse("/")}}isActive(Fe,We){let gt;if(gt=!0===We?{...bl}:!1===We?{...Da}:We,un(Fe))return ze(this.currentUrlTree,Fe,gt);const Pt=this.parseUrl(Fe);return ze(this.currentUrlTree,Pt,gt)}removeEmptyProps(Fe){return Object.entries(Fe).reduce((We,[gt,Pt])=>(null!=Pt&&(We[gt]=Pt),We),{})}scheduleNavigation(Fe,We,gt,Pt,Xt){if(this.disposed)return Promise.resolve(!1);let In,vn,Zn;Xt?(In=Xt.resolve,vn=Xt.reject,Zn=Xt.promise):Zn=new Promise((Wn,no)=>{In=Wn,vn=no});const ei=this.pendingTasks.add();return ao(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ei))}),this.navigationTransitions.handleNavigationRequest({source:We,restoredState:gt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Fe,extras:Pt,resolve:In,reject:vn,promise:Zn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zn.catch(Wn=>Promise.reject(Wn))}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),Sd=(()=>{class Be{constructor(Fe,We,gt,Pt,Xt,In){this.router=Fe,this.route=We,this.tabIndexAttribute=gt,this.renderer=Pt,this.el=Xt,this.locationStrategy=In,this.href=null,this.onChanges=new ee.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const vn=Xt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===vn||"area"===vn,this.isAnchorElement?this.subscription=Fe.events.subscribe(Zn=>{Zn instanceof br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Fe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Fe)}ngOnChanges(Fe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Fe){null==Fe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=un(Fe)||Array.isArray(Fe)?Fe:[Fe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Fe,We,gt,Pt,Xt){const In=this.urlTree;return!!(null===In||this.isAnchorElement&&(0!==Fe||We||gt||Pt||Xt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(In,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Fe=this.urlTree;this.href=null!==Fe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Fe)):null;const We=null===this.href?null:(0,w.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",We)}applyAttributeValue(Fe,We){const gt=this.renderer,Pt=this.el.nativeElement;null!==We?gt.setAttribute(Pt,Fe,We):gt.removeAttribute(Pt,Fe)}get urlTree(){return null===this.routerLinkInput?null:un(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(We){return new(We||Be)(w.rXU(ya),w.rXU(Ec),w.kS0("tabindex"),w.rXU(w.sFG),w.rXU(w.aKT),w.rXU(J.hb))};static#t=this.\u0275dir=w.FsC({type:Be,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(We,gt){1&We&&w.bIt("click",function(Xt){return gt.onClick(Xt.button,Xt.ctrlKey,Xt.shiftKey,Xt.altKey,Xt.metaKey)}),2&We&&w.BMQ("target",gt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",w.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",w.L39],replaceUrl:[2,"replaceUrl","replaceUrl",w.L39],routerLink:"routerLink"},standalone:!0,features:[w.GFd,w.OA$]})}return Be})(),tl=(()=>{class Be{get isActive(){return this._isActive}constructor(Fe,We,gt,Pt,Xt){this.router=Fe,this.element=We,this.renderer=gt,this.cdr=Pt,this.link=Xt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.bkB,this.routerEventsSubscription=Fe.events.subscribe(In=>{In instanceof br&&this.update()})}ngAfterContentInit(){(0,_.of)(this.links.changes,(0,_.of)(null)).pipe((0,Ie.U)()).subscribe(Fe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Fe=[...this.links.toArray(),this.link].filter(We=>!!We).map(We=>We.onChanges);this.linkInputChangesSubscription=(0,X.H)(Fe).pipe((0,Ie.U)()).subscribe(We=>{this._isActive!==this.isLinkActive(this.router)(We)&&this.update()})}set routerLinkActive(Fe){const We=Array.isArray(Fe)?Fe:Fe.split(" ");this.classes=We.filter(gt=>!!gt)}ngOnChanges(Fe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Fe=this.hasActiveLinks();this.classes.forEach(We=>{Fe?this.renderer.addClass(this.element.nativeElement,We):this.renderer.removeClass(this.element.nativeElement,We)}),Fe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Fe&&(this._isActive=Fe,this.cdr.markForCheck(),this.isActiveChange.emit(Fe))})}isLinkActive(Fe){const We=function yu(Be){return!!Be.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return gt=>{const Pt=gt.urlTree;return!!Pt&&Fe.isActive(Pt,We)}}hasActiveLinks(){const Fe=this.isLinkActive(this.router);return this.link&&Fe(this.link)||this.links.some(Fe)}static#e=this.\u0275fac=function(We){return new(We||Be)(w.rXU(ya),w.rXU(w.aKT),w.rXU(w.sFG),w.rXU(w.gRc),w.rXU(Sd,8))};static#t=this.\u0275dir=w.FsC({type:Be,selectors:[["","routerLinkActive",""]],contentQueries:function(We,gt,Pt){if(1&We&&w.wni(Pt,Sd,5),2&We){let Xt;w.mGM(Xt=w.lsd())&&(gt.links=Xt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.OA$]})}return Be})();class tm{}let Yw=(()=>{class Be{preload(Fe,We){return We().pipe((0,B.W)(()=>(0,_.of)(null)))}static#e=this.\u0275fac=function(We){return new(We||Be)};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),f2=(()=>{class Be{constructor(Fe,We,gt,Pt,Xt){this.router=Fe,this.injector=gt,this.preloadingStrategy=Pt,this.loader=Xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,se.p)(Fe=>Fe instanceof br),(0,x.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Fe,We){const gt=[];for(const Pt of We){Pt.providers&&!Pt._injector&&(Pt._injector=(0,w.Ol2)(Pt.providers,Fe,`Route: ${Pt.path}`));const Xt=Pt._injector??Fe,In=Pt._loadedInjector??Xt;(Pt.loadChildren&&!Pt._loadedRoutes&&void 0===Pt.canLoad||Pt.loadComponent&&!Pt._loadedComponent)&&gt.push(this.preloadConfig(Xt,Pt)),(Pt.children||Pt._loadedRoutes)&&gt.push(this.processRoutes(In,Pt.children??Pt._loadedRoutes))}return(0,X.H)(gt).pipe((0,Ie.U)())}preloadConfig(Fe,We){return this.preloadingStrategy.preload(We,()=>{let gt;gt=We.loadChildren&&void 0===We.canLoad?this.loader.loadChildren(Fe,We):(0,_.of)(null);const Pt=gt.pipe((0,pe.Z)(Xt=>null===Xt?(0,_.of)(void 0):(We._loadedRoutes=Xt.routes,We._loadedInjector=Xt.injector,this.processRoutes(Xt.injector??Fe,Xt.routes))));if(We.loadComponent&&!We._loadedComponent){const Xt=this.loader.loadComponent(We);return(0,X.H)([Pt,Xt]).pipe((0,Ie.U)())}return Pt})}static#e=this.\u0275fac=function(We){return new(We||Be)(w.KVO(ya),w.KVO(w.Ql9),w.KVO(w.uvJ),w.KVO(tm),w.KVO(Qp))};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const nc=new w.nKC("");let O0=(()=>{class Be{constructor(Fe,We,gt,Pt,Xt={}){this.urlSerializer=Fe,this.transitions=We,this.viewportScroller=gt,this.zone=Pt,this.options=Xt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,w.WQX)(w.uvJ),Xt.scrollPositionRestoration||="disabled",Xt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Fe=>{Fe instanceof Jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Fe.navigationTrigger,this.restoredId=Fe.restoredState?Fe.restoredState.navigationId:0):Fe instanceof br?(this.lastId=Fe.id,this.scheduleScrollEvent(Fe,this.urlSerializer.parse(Fe.urlAfterRedirects).fragment)):Fe instanceof li&&Fe.code===tr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Fe,this.urlSerializer.parse(Fe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Fe=>{Fe instanceof tn&&(Fe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Fe.position):Fe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Fe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Fe,We){var gt=this;this.zone.runOutsideAngular((0,g.A)(function*(){yield new Promise(Pt=>{setTimeout(()=>{Pt()}),(0,w.mal)(()=>{Pt()},{injector:gt.environmentInjector})}),gt.zone.run(()=>{gt.transitions.events.next(new tn(Fe,"popstate"===gt.lastSource?gt.store[gt.restoredId]:null,We))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(We){w.QTQ()};static#t=this.\u0275prov=w.jDH({token:Be,factory:Be.\u0275fac})}return Be})();function gu(Be,...Ze){return(0,w.EmA)([{provide:el,multi:!0,useValue:Be},[],{provide:Ec,useFactory:h2,deps:[ya]},{provide:w.iLQ,multi:!0,useFactory:Ko},Ze.map(Fe=>Fe.\u0275providers)])}function h2(Be){return Be.routerState.root}function Hs(Be,Ze){return{\u0275kind:Be,\u0275providers:Ze}}function Ko(){const Be=(0,w.WQX)(w.zZn);return Ze=>{const Fe=Be.get(w.o8S);if(Ze!==Fe.components[0])return;const We=Be.get(ya),gt=Be.get(ah);1===Be.get(Ul)&&We.initialNavigation(),Be.get(ch,null,w.$GK.Optional)?.setUpPreloading(),Be.get(nc,null,w.$GK.Optional)?.init(),We.resetRootComponentType(Fe.componentTypes[0]),gt.closed||(gt.next(),gt.complete(),gt.unsubscribe())}}const ah=new w.nKC("",{factory:()=>new ee.B}),Ul=new w.nKC("",{providedIn:"root",factory:()=>1}),ch=new w.nKC("");function R0(Be){return Hs(0,[{provide:ch,useExisting:f2},{provide:tm,useExisting:Be}])}function B0(Be){return Hs(9,[{provide:$e,useValue:rt},{provide:Tt,useValue:{skipNextTransition:!!Be?.skipInitialTransition,...Be}}])}const N0=new w.nKC("ROUTER_FORROOT_GUARD"),Zw=[J.aZ,{provide:Nt,useClass:ft},ya,Yd,{provide:Ec,useFactory:h2,deps:[ya]},Qp,[]];let wl=(()=>{class Be{constructor(Fe){}static forRoot(Fe,We){return{ngModule:Be,providers:[Zw,[],{provide:el,multi:!0,useValue:Fe},{provide:N0,useFactory:UT,deps:[[ya,new w.Xx1,new w.kdw]]},{provide:pu,useValue:We||{}},We?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:nc,useFactory:()=>{const Be=(0,w.WQX)(J.Xr),Ze=(0,w.WQX)(w.SKi),Fe=(0,w.WQX)(pu),We=(0,w.WQX)(kn),gt=(0,w.WQX)(Nt);return Fe.scrollOffset&&Be.setOffset(Fe.scrollOffset),new O0(gt,We,Be,Ze,Fe)}},We?.preloadingStrategy?R0(We.preloadingStrategy).\u0275providers:[],We?.initialNavigation?lh(We):[],We?.bindToComponentInputs?Hs(8,[zs,{provide:xc,useExisting:zs}]).\u0275providers:[],We?.enableViewTransitions?B0().\u0275providers:[],[{provide:So,useFactory:Ko},{provide:w.iLQ,multi:!0,useExisting:So}]]}}static forChild(Fe){return{ngModule:Be,providers:[{provide:el,multi:!0,useValue:Fe}]}}static#e=this.\u0275fac=function(We){return new(We||Be)(w.KVO(N0,8))};static#t=this.\u0275mod=w.$C({type:Be});static#n=this.\u0275inj=w.G2t({})}return Be})();function UT(Be){return"guarded"}function lh(Be){return["disabled"===Be.initialNavigation?Hs(3,[{provide:w.hnV,multi:!0,useFactory:()=>{const Ze=(0,w.WQX)(ya);return()=>{Ze.setUpLocationChangeListener()}}},{provide:Ul,useValue:2}]).\u0275providers:[],"enabledBlocking"===Be.initialNavigation?Hs(2,[{provide:Ul,useValue:0},{provide:w.hnV,multi:!0,deps:[w.zZn],useFactory:Ze=>{const Fe=Ze.get(J.hj,Promise.resolve());return()=>Fe.then(()=>new Promise(We=>{const gt=Ze.get(ya),Pt=Ze.get(ah);ao(gt,()=>{We(!0)}),Ze.get(kn).afterPreactivation=()=>(We(!0),Pt.closed?(0,_.of)(void 0):Pt),gt.initialNavigation()}))}}]).\u0275providers:[]]}const So=new w.nKC("")},34931:(Ne,V,E)=>{"use strict";function g(F){if(!Number.isSafeInteger(F)||F<0)throw new Error(`wrong positive integer: ${F}`)}function w(F){if("boolean"!=typeof F)throw new Error(`boolean expected, not ${F}`)}function X(F,...C){if(!function O(F){return null!=F&&"object"==typeof F&&(F instanceof Uint8Array||"Uint8Array"===F.constructor.name)}(F))throw new Error("Uint8Array expected");if(C.length>0&&!C.includes(F.length))throw new Error(`Uint8Array expected of length ${C}, not of length=${F.length}`)}function R(F,C=!0){if(F.destroyed)throw new Error("Hash instance has been destroyed");if(C&&F.finished)throw new Error("Hash#digest() has already been called")}function A(F,C){X(F);const Y=C.outputLen;if(F.length<Y)throw new Error(`digestInto() expects output buffer of length at least ${Y}`)}E.d(V,{CG:()=>A,ai:()=>g,ee:()=>X,lc:()=>w,t2:()=>R})},94730:(Ne,V,E)=>{"use strict";var g=E(25953),w=E(34931);const O=(D,B)=>255&D[B++]|(255&D[B++])<<8;class X{constructor(B){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,B=(0,g.ZJ)(B),(0,g.qj)(B,32);const M=O(B,0),d=O(B,2),v=O(B,4),W=O(B,6),z=O(B,8),Q=O(B,10),de=O(B,12),xe=O(B,14);this.r[0]=8191&M,this.r[1]=8191&(M>>>13|d<<3),this.r[2]=7939&(d>>>10|v<<6),this.r[3]=8191&(v>>>7|W<<9),this.r[4]=255&(W>>>4|z<<12),this.r[5]=z>>>1&8190,this.r[6]=8191&(z>>>14|Q<<2),this.r[7]=8065&(Q>>>11|de<<5),this.r[8]=8191&(de>>>8|xe<<8),this.r[9]=xe>>>5&127;for(let Ie=0;Ie<8;Ie++)this.pad[Ie]=O(B,16+2*Ie)}process(B,M,d=!1){const v=d?0:2048,{h:W,r:z}=this,Q=z[0],de=z[1],xe=z[2],Ie=z[3],Le=z[4],ve=z[5],ye=z[6],ke=z[7],me=z[8],Ee=z[9],fe=O(B,M+0),he=O(B,M+2),ae=O(B,M+4),ue=O(B,M+6),ge=O(B,M+8),Ae=O(B,M+10),Ue=O(B,M+12),Ve=O(B,M+14);let ze=W[0]+(8191&fe),It=W[1]+(8191&(fe>>>13|he<<3)),qe=W[2]+(8191&(he>>>10|ae<<6)),je=W[3]+(8191&(ae>>>7|ue<<9)),ut=W[4]+(8191&(ue>>>4|ge<<12)),$=W[5]+(ge>>>1&8191),T=W[6]+(8191&(ge>>>14|Ae<<2)),S=W[7]+(8191&(Ae>>>11|Ue<<5)),Z=W[8]+(8191&(Ue>>>8|Ve<<8)),le=W[9]+(Ve>>>5|v),De=0,Oe=De+ze*Q+It*(5*Ee)+qe*(5*me)+je*(5*ke)+ut*(5*ye);De=Oe>>>13,Oe&=8191,Oe+=$*(5*ve)+T*(5*Le)+S*(5*Ie)+Z*(5*xe)+le*(5*de),De+=Oe>>>13,Oe&=8191;let Qe=De+ze*de+It*Q+qe*(5*Ee)+je*(5*me)+ut*(5*ke);De=Qe>>>13,Qe&=8191,Qe+=$*(5*ye)+T*(5*ve)+S*(5*Le)+Z*(5*Ie)+le*(5*xe),De+=Qe>>>13,Qe&=8191;let Nt=De+ze*xe+It*de+qe*Q+je*(5*Ee)+ut*(5*me);De=Nt>>>13,Nt&=8191,Nt+=$*(5*ke)+T*(5*ye)+S*(5*ve)+Z*(5*Le)+le*(5*Ie),De+=Nt>>>13,Nt&=8191;let ft=De+ze*Ie+It*xe+qe*de+je*Q+ut*(5*Ee);De=ft>>>13,ft&=8191,ft+=$*(5*me)+T*(5*ke)+S*(5*ye)+Z*(5*ve)+le*(5*Le),De+=ft>>>13,ft&=8191;let St=De+ze*Le+It*Ie+qe*xe+je*de+ut*Q;De=St>>>13,St&=8191,St+=$*(5*Ee)+T*(5*me)+S*(5*ke)+Z*(5*ye)+le*(5*ve),De+=St>>>13,St&=8191;let Lt=De+ze*ve+It*Le+qe*Ie+je*xe+ut*de;De=Lt>>>13,Lt&=8191,Lt+=$*Q+T*(5*Ee)+S*(5*me)+Z*(5*ke)+le*(5*ye),De+=Lt>>>13,Lt&=8191;let Gt=De+ze*ye+It*ve+qe*Le+je*Ie+ut*xe;De=Gt>>>13,Gt&=8191,Gt+=$*de+T*Q+S*(5*Ee)+Z*(5*me)+le*(5*ke),De+=Gt>>>13,Gt&=8191;let Vt=De+ze*ke+It*ye+qe*ve+je*Le+ut*Ie;De=Vt>>>13,Vt&=8191,Vt+=$*xe+T*de+S*Q+Z*(5*Ee)+le*(5*me),De+=Vt>>>13,Vt&=8191;let zn=De+ze*me+It*ke+qe*ye+je*ve+ut*Le;De=zn>>>13,zn&=8191,zn+=$*Ie+T*xe+S*de+Z*Q+le*(5*Ee),De+=zn>>>13,zn&=8191;let cn=De+ze*Ee+It*me+qe*ke+je*ye+ut*ve;De=cn>>>13,cn&=8191,cn+=$*Le+T*Ie+S*xe+Z*de+le*Q,De+=cn>>>13,cn&=8191,De=(De<<2)+De|0,De=De+Oe|0,Oe=8191&De,De>>>=13,Qe+=De,W[0]=Oe,W[1]=Qe,W[2]=Nt,W[3]=ft,W[4]=St,W[5]=Lt,W[6]=Gt,W[7]=Vt,W[8]=zn,W[9]=cn}finalize(){const{h:B,pad:M}=this,d=new Uint16Array(10);let v=B[1]>>>13;B[1]&=8191;for(let Q=2;Q<10;Q++)B[Q]+=v,v=B[Q]>>>13,B[Q]&=8191;B[0]+=5*v,v=B[0]>>>13,B[0]&=8191,B[1]+=v,v=B[1]>>>13,B[1]&=8191,B[2]+=v,d[0]=B[0]+5,v=d[0]>>>13,d[0]&=8191;for(let Q=1;Q<10;Q++)d[Q]=B[Q]+v,v=d[Q]>>>13,d[Q]&=8191;d[9]-=8192;let W=(1^v)-1;for(let Q=0;Q<10;Q++)d[Q]&=W;W=~W;for(let Q=0;Q<10;Q++)B[Q]=B[Q]&W|d[Q];B[0]=65535&(B[0]|B[1]<<13),B[1]=65535&(B[1]>>>3|B[2]<<10),B[2]=65535&(B[2]>>>6|B[3]<<7),B[3]=65535&(B[3]>>>9|B[4]<<4),B[4]=65535&(B[4]>>>12|B[5]<<1|B[6]<<14),B[5]=65535&(B[6]>>>2|B[7]<<11),B[6]=65535&(B[7]>>>5|B[8]<<8),B[7]=65535&(B[8]>>>8|B[9]<<5);let z=B[0]+M[0];B[0]=65535&z;for(let Q=1;Q<8;Q++)z=(B[Q]+M[Q]|0)+(z>>>16)|0,B[Q]=65535&z}update(B){(0,w.t2)(this);const{buffer:M,blockLen:d}=this,v=(B=(0,g.ZJ)(B)).length;for(let W=0;W<v;){const z=Math.min(d-this.pos,v-W);if(z!==d)M.set(B.subarray(W,W+z),this.pos),this.pos+=z,W+=z,this.pos===d&&(this.process(M,0,!1),this.pos=0);else for(;d<=v-W;W+=d)this.process(B,W)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(B){(0,w.t2)(this),(0,w.CG)(B,this),this.finished=!0;const{buffer:M,h:d}=this;let{pos:v}=this;if(v){for(M[v++]=1;v<16;v++)M[v]=0;this.process(M,0,!0)}this.finalize();let W=0;for(let z=0;z<8;z++)B[W++]=d[z]>>>0,B[W++]=d[z]>>>8;return B}digest(){const{buffer:B,outputLen:M}=this;this.digestInto(B);const d=B.slice(0,M);return this.destroy(),d}}const R=function _(D){const B=(d,v)=>D(v).update((0,g.ZJ)(d)).digest(),M=D(new Uint8Array(32));return B.outputLen=M.outputLen,B.blockLen=M.blockLen,B.create=d=>D(d),B}(D=>new X(D)),A=(0,g.AI)("expand 16-byte k"),N=(0,g.AI)("expand 32-byte k"),L=(0,g.DH)(A),F=(0,g.DH)(N);function C(D,B){return D<<B|D>>>32-B}function Y(D){return D.byteOffset%4==0}const te=2**32-1,ee=new Uint32Array;function J(D,B){const{allowShortKeys:M,extendNonceFn:d,counterLength:v,counterRight:W,rounds:z}=(0,g.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},B);if("function"!=typeof D)throw new Error("core must be a function");return(0,w.ai)(v),(0,w.ai)(z),(0,w.lc)(W),(0,w.lc)(M),(Q,de,xe,Ie,Le=0)=>{(0,w.ee)(Q),(0,w.ee)(de),(0,w.ee)(xe);const ve=xe.length;if(Ie||(Ie=new Uint8Array(ve)),(0,w.ee)(Ie),(0,w.ai)(Le),Le<0||Le>=te)throw new Error("arx: counter overflow");if(Ie.length<ve)throw new Error(`arx: output (${Ie.length}) is shorter than data (${ve})`);const ye=[];let me,Ee,ke=Q.length;if(32===ke)me=Q.slice(),ye.push(me),Ee=F;else{if(16!==ke||!M)throw new Error(`arx: invalid 32-byte key, got length=${ke}`);me=new Uint8Array(32),me.set(Q),me.set(Q,16),Ee=L,ye.push(me)}Y(de)||(de=de.slice(),ye.push(de));const fe=(0,g.DH)(me);if(d){if(24!==de.length)throw new Error("arx: extended nonce must be 24 bytes");d(Ee,fe,(0,g.DH)(de.subarray(0,16)),fe),de=de.subarray(16)}const he=16-v;if(he!==de.length)throw new Error(`arx: nonce must be ${he} or 16 bytes`);if(12!==he){const ue=new Uint8Array(12);ue.set(de,W?0:12-de.length),ye.push(de=ue)}const ae=(0,g.DH)(de);for(function q(D,B,M,d,v,W,z,Q){const de=v.length,xe=new Uint8Array(64),Ie=(0,g.DH)(xe),Le=Y(v)&&Y(W),ve=Le?(0,g.DH)(v):ee,ye=Le?(0,g.DH)(W):ee;for(let ke=0;ke<de;z++){if(D(B,M,d,Ie,z,Q),z>=te)throw new Error("arx: counter overflow");const me=Math.min(64,de-ke);if(Le&&64===me){const Ee=ke/4;if(ke%4!=0)throw new Error("arx: invalid block position");for(let he,fe=0;fe<16;fe++)he=Ee+fe,ye[he]=ve[he]^Ie[fe];ke+=64}else{for(let fe,Ee=0;Ee<me;Ee++)fe=ke+Ee,W[fe]=v[fe]^xe[Ee];ke+=me}}}(D,Ee,fe,ae,xe,Ie,Le,z);ye.length>0;)ye.pop().fill(0);return Ie}}function ne(D,B,M,d,v,W=20){let z=D[0],Q=D[1],de=D[2],xe=D[3],Ie=B[0],Le=B[1],ve=B[2],ye=B[3],ke=B[4],me=B[5],Ee=B[6],fe=B[7],he=v,ae=M[0],ue=M[1],ge=M[2],Ae=z,Ue=Q,Ve=de,ze=xe,It=Ie,qe=Le,je=ve,ut=ye,$=ke,T=me,S=Ee,Z=fe,le=he,De=ae,Oe=ue,Qe=ge;for(let ft=0;ft<W;ft+=2)Ae=Ae+It|0,le=C(le^Ae,16),$=$+le|0,It=C(It^$,12),Ae=Ae+It|0,le=C(le^Ae,8),$=$+le|0,It=C(It^$,7),Ue=Ue+qe|0,De=C(De^Ue,16),T=T+De|0,qe=C(qe^T,12),Ue=Ue+qe|0,De=C(De^Ue,8),T=T+De|0,qe=C(qe^T,7),Ve=Ve+je|0,Oe=C(Oe^Ve,16),S=S+Oe|0,je=C(je^S,12),Ve=Ve+je|0,Oe=C(Oe^Ve,8),S=S+Oe|0,je=C(je^S,7),ze=ze+ut|0,Qe=C(Qe^ze,16),Z=Z+Qe|0,ut=C(ut^Z,12),ze=ze+ut|0,Qe=C(Qe^ze,8),Z=Z+Qe|0,ut=C(ut^Z,7),Ae=Ae+qe|0,Qe=C(Qe^Ae,16),S=S+Qe|0,qe=C(qe^S,12),Ae=Ae+qe|0,Qe=C(Qe^Ae,8),S=S+Qe|0,qe=C(qe^S,7),Ue=Ue+je|0,le=C(le^Ue,16),Z=Z+le|0,je=C(je^Z,12),Ue=Ue+je|0,le=C(le^Ue,8),Z=Z+le|0,je=C(je^Z,7),Ve=Ve+ut|0,De=C(De^Ve,16),$=$+De|0,ut=C(ut^$,12),Ve=Ve+ut|0,De=C(De^Ve,8),$=$+De|0,ut=C(ut^$,7),ze=ze+It|0,Oe=C(Oe^ze,16),T=T+Oe|0,It=C(It^T,12),ze=ze+It|0,Oe=C(Oe^ze,8),T=T+Oe|0,It=C(It^T,7);let Nt=0;d[Nt++]=z+Ae|0,d[Nt++]=Q+Ue|0,d[Nt++]=de+Ve|0,d[Nt++]=xe+ze|0,d[Nt++]=Ie+It|0,d[Nt++]=Le+qe|0,d[Nt++]=ve+je|0,d[Nt++]=ye+ut|0,d[Nt++]=ke+$|0,d[Nt++]=me+T|0,d[Nt++]=Ee+S|0,d[Nt++]=fe+Z|0,d[Nt++]=he+le|0,d[Nt++]=ae+De|0,d[Nt++]=ue+Oe|0,d[Nt++]=ge+Qe|0}const ce=J(ne,{counterRight:!1,counterLength:4,allowShortKeys:!1}),se=J(ne,{counterRight:!1,counterLength:8,extendNonceFn:function ie(D,B,M,d){let v=D[0],W=D[1],z=D[2],Q=D[3],de=B[0],xe=B[1],Ie=B[2],Le=B[3],ve=B[4],ye=B[5],ke=B[6],me=B[7],Ee=M[0],fe=M[1],he=M[2],ae=M[3];for(let ge=0;ge<20;ge+=2)v=v+de|0,Ee=C(Ee^v,16),ve=ve+Ee|0,de=C(de^ve,12),v=v+de|0,Ee=C(Ee^v,8),ve=ve+Ee|0,de=C(de^ve,7),W=W+xe|0,fe=C(fe^W,16),ye=ye+fe|0,xe=C(xe^ye,12),W=W+xe|0,fe=C(fe^W,8),ye=ye+fe|0,xe=C(xe^ye,7),z=z+Ie|0,he=C(he^z,16),ke=ke+he|0,Ie=C(Ie^ke,12),z=z+Ie|0,he=C(he^z,8),ke=ke+he|0,Ie=C(Ie^ke,7),Q=Q+Le|0,ae=C(ae^Q,16),me=me+ae|0,Le=C(Le^me,12),Q=Q+Le|0,ae=C(ae^Q,8),me=me+ae|0,Le=C(Le^me,7),v=v+xe|0,ae=C(ae^v,16),ke=ke+ae|0,xe=C(xe^ke,12),v=v+xe|0,ae=C(ae^v,8),ke=ke+ae|0,xe=C(xe^ke,7),W=W+Ie|0,Ee=C(Ee^W,16),me=me+Ee|0,Ie=C(Ie^me,12),W=W+Ie|0,Ee=C(Ee^W,8),me=me+Ee|0,Ie=C(Ie^me,7),z=z+Le|0,fe=C(fe^z,16),ve=ve+fe|0,Le=C(Le^ve,12),z=z+Le|0,fe=C(fe^z,8),ve=ve+fe|0,Le=C(Le^ve,7),Q=Q+de|0,he=C(he^Q,16),ye=ye+he|0,de=C(de^ye,12),Q=Q+de|0,he=C(he^Q,8),ye=ye+he|0,de=C(de^ye,7);let ue=0;d[ue++]=v,d[ue++]=W,d[ue++]=z,d[ue++]=Q,d[ue++]=Ee,d[ue++]=fe,d[ue++]=he,d[ue++]=ae},allowShortKeys:!1}),Me=new Uint8Array(16),k=(D,B)=>{D.update(B);const M=B.length%16;M&&D.update(Me.subarray(M))},l=new Uint8Array(32);function h(D,B,M,d,v){const W=D(B,M,l),z=R.create(W);v&&k(z,v),k(z,d);const Q=new Uint8Array(16),de=(0,g.O8)(Q);(0,g.zp)(de,0,BigInt(v?v.length:0),!0),(0,g.zp)(de,8,BigInt(d.length),!0),z.update(Q);const xe=z.digest();return W.fill(0),xe}const m=D=>(B,M,d)=>((0,g.qj)(B,32),(0,g.qj)(M),{encrypt:(W,z)=>{const Q=W.length,de=Q+16;z?(0,g.qj)(z,de):z=new Uint8Array(de),D(B,M,W,z,1);const xe=h(D,B,M,z.subarray(0,-16),d);return z.set(xe,Q),z},decrypt:(W,z)=>{const Q=W.length,de=Q-16;if(Q<16)throw new Error("encrypted data must be at least 16 bytes");z?(0,g.qj)(z,de):z=new Uint8Array(de);const xe=W.subarray(0,-16),Ie=W.subarray(-16),Le=h(D,B,M,xe,d);if(!(0,g.ex)(Ie,Le))throw new Error("invalid tag");return D(B,M,xe,z,1),z}});m(ce),m(se)},25953:(Ne,V,E)=>{"use strict";E.d(V,{AI:()=>J,DH:()=>O,O8:()=>_,ZJ:()=>ie,ex:()=>we,qj:()=>pe,qn:()=>k,tY:()=>se,zp:()=>l});const O=m=>new Uint32Array(m.buffer,m.byteOffset,Math.floor(m.byteLength/4));function X(m){return m instanceof Uint8Array||null!=m&&"object"==typeof m&&"Uint8Array"===m.constructor.name}const _=m=>new DataView(m.buffer,m.byteOffset,m.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function J(m){if("string"!=typeof m)throw new Error("utf8ToBytes expected string, got "+typeof m);return new Uint8Array((new TextEncoder).encode(m))}function ie(m){if("string"==typeof m)m=J(m);else{if(!X(m))throw new Error("expected Uint8Array, got "+typeof m);m=m.slice()}return m}const ce=m=>"[object Object]"===Object.prototype.toString.call(m)&&m.constructor===Object;function se(m,p){if(void 0!==p&&("object"!=typeof p||!ce(p)))throw new Error("options must be object or undefined");return Object.assign(m,p)}function pe(m,p){if(!X(m))throw new Error("Uint8Array expected");if("number"==typeof p&&m.length!==p)throw new Error(`Uint8Array length ${p} expected`)}function we(m,p){if(m.length!==p.length)return!1;let x=0;for(let D=0;D<m.length;D++)x|=m[D]^p[D];return 0===x}const k=(m,p)=>(Object.assign(p,m),p);function l(m,p,x,D){if("function"==typeof m.setBigUint64)return m.setBigUint64(p,x,D);const B=BigInt(32),M=BigInt(4294967295),d=Number(x>>B&M),v=Number(x&M),z=D?0:4;m.setUint32(p+(D?4:0),d,D),m.setUint32(p+z,v,D)}},91879:(Ne,V,E)=>{"use strict";E.d(V,{NZ:()=>_});const g="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function _(){if(g&&"object"==typeof g.subtle&&null!=g.subtle)return g.subtle;throw new Error("crypto.subtle must be defined")}E(25953),E(34931)},2716:(Ne,V,E)=>{"use strict";E.d(V,{s:()=>re});var g=E(75781),w=E(62953),O=E(35765),X=E(91006),_=E(7184);const{Ph:A,aT:N}=X,L={Err:class extends Error{constructor(se=""){super(se)}},_parseInt(ce){const{Err:se}=L;if(ce.length<2||2!==ce[0])throw new se("Invalid signature integer tag");const pe=ce[1],we=ce.subarray(2,pe+2);if(!pe||we.length!==pe)throw new se("Invalid signature integer: wrong length");if(128&we[0])throw new se("Invalid signature integer: negative");if(0===we[0]&&!(128&we[1]))throw new se("Invalid signature integer: unnecessary leading zero");return{d:A(we),l:ce.subarray(pe+2)}},toSig(ce){const{Err:se}=L,pe="string"==typeof ce?N(ce):ce;if(!X.aY(pe))throw new Error("ui8a expected");let we=pe.length;if(we<2||48!=pe[0])throw new se("Invalid signature tag");if(pe[1]!==we-2)throw new se("Invalid signature: incorrect length");const{d:Me,l:k}=L._parseInt(pe.subarray(2)),{d:l,l:h}=L._parseInt(k);if(h.length)throw new se("Invalid signature: left bytes after parsing");return{r:Me,s:l}},hexFromSig(ce){const se=p=>8&Number.parseInt(p[0],16)?"00"+p:p,pe=p=>{const x=p.toString(16);return 1&x.length?`0${x}`:x},we=se(pe(ce.s)),Me=se(pe(ce.r)),k=we.length/2,l=Me.length/2,h=pe(k),m=pe(l);return`30${pe(l+k+4)}02${m}${Me}02${h}${we}`}},F=BigInt(0),C=BigInt(1),j=(BigInt(2),BigInt(3));function q(ce){const se=function ee(ce){const se=(0,_.h)(ce);return X.Q5(se,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...se})}(ce),{Fp:pe,n:we}=se,Me=pe.BYTES+1,k=2*pe.BYTES+1;function h(ue){return O.zi(ue,we)}function m(ue){return O.B8(ue,we)}const{ProjectivePoint:p,normPrivateKeyToScalar:x,weierstrassEquation:D,isWithinCurveOrder:B}=function te(ce){const se=function R(ce){const se=(0,_.h)(ce);X.Q5(se,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:pe,Fp:we,a:Me}=se;if(pe){if(!we.eql(Me,we.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof pe||"bigint"!=typeof pe.beta||"function"!=typeof pe.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...se})}(ce),{Fp:pe}=se,we=se.toBytes||((d,v,W)=>{const z=v.toAffine();return X.Id(Uint8Array.from([4]),pe.toBytes(z.x),pe.toBytes(z.y))}),Me=se.fromBytes||(d=>{const v=d.subarray(1);return{x:pe.fromBytes(v.subarray(0,pe.BYTES)),y:pe.fromBytes(v.subarray(pe.BYTES,2*pe.BYTES))}});function k(d){const{a:v,b:W}=se,z=pe.sqr(d),Q=pe.mul(z,d);return pe.add(pe.add(Q,pe.mul(d,v)),W)}if(!pe.eql(pe.sqr(se.Gy),k(se.Gx)))throw new Error("bad generator point: equation left != right");function l(d){return"bigint"==typeof d&&F<d&&d<se.n}function h(d){if(!l(d))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(d){const{allowedPrivateKeyLengths:v,nByteLength:W,wrapPrivateKey:z,n:Q}=se;if(v&&"bigint"!=typeof d){if(X.aY(d)&&(d=X.My(d)),"string"!=typeof d||!v.includes(d.length))throw new Error("Invalid key");d=d.padStart(2*W,"0")}let de;try{de="bigint"==typeof d?d:X.Ph((0,X.qj)("private key",d,W))}catch{throw new Error(`private key must be ${W} bytes, hex or bigint, not ${typeof d}`)}return z&&(de=O.zi(de,Q)),h(de),de}const p=new Map;function x(d){if(!(d instanceof D))throw new Error("ProjectivePoint expected")}class D{constructor(v,W,z){if(this.px=v,this.py=W,this.pz=z,null==v||!pe.isValid(v))throw new Error("x required");if(null==W||!pe.isValid(W))throw new Error("y required");if(null==z||!pe.isValid(z))throw new Error("z required")}static fromAffine(v){const{x:W,y:z}=v||{};if(!v||!pe.isValid(W)||!pe.isValid(z))throw new Error("invalid affine point");if(v instanceof D)throw new Error("projective point not allowed");const Q=de=>pe.eql(de,pe.ZERO);return Q(W)&&Q(z)?D.ZERO:new D(W,z,pe.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const W=pe.invertBatch(v.map(z=>z.pz));return v.map((z,Q)=>z.toAffine(W[Q])).map(D.fromAffine)}static fromHex(v){const W=D.fromAffine(Me((0,X.qj)("pointHex",v)));return W.assertValidity(),W}static fromPrivateKey(v){return D.BASE.multiply(m(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(se.allowInfinityPoint&&!pe.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:W}=this.toAffine();if(!pe.isValid(v)||!pe.isValid(W))throw new Error("bad point: x or y not FE");const z=pe.sqr(W),Q=k(v);if(!pe.eql(z,Q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(pe.isOdd)return!pe.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){x(v);const{px:W,py:z,pz:Q}=this,{px:de,py:xe,pz:Ie}=v,Le=pe.eql(pe.mul(W,Ie),pe.mul(de,Q)),ve=pe.eql(pe.mul(z,Ie),pe.mul(xe,Q));return Le&&ve}negate(){return new D(this.px,pe.neg(this.py),this.pz)}double(){const{a:v,b:W}=se,z=pe.mul(W,j),{px:Q,py:de,pz:xe}=this;let Ie=pe.ZERO,Le=pe.ZERO,ve=pe.ZERO,ye=pe.mul(Q,Q),ke=pe.mul(de,de),me=pe.mul(xe,xe),Ee=pe.mul(Q,de);return Ee=pe.add(Ee,Ee),ve=pe.mul(Q,xe),ve=pe.add(ve,ve),Ie=pe.mul(v,ve),Le=pe.mul(z,me),Le=pe.add(Ie,Le),Ie=pe.sub(ke,Le),Le=pe.add(ke,Le),Le=pe.mul(Ie,Le),Ie=pe.mul(Ee,Ie),ve=pe.mul(z,ve),me=pe.mul(v,me),Ee=pe.sub(ye,me),Ee=pe.mul(v,Ee),Ee=pe.add(Ee,ve),ve=pe.add(ye,ye),ye=pe.add(ve,ye),ye=pe.add(ye,me),ye=pe.mul(ye,Ee),Le=pe.add(Le,ye),me=pe.mul(de,xe),me=pe.add(me,me),ye=pe.mul(me,Ee),Ie=pe.sub(Ie,ye),ve=pe.mul(me,ke),ve=pe.add(ve,ve),ve=pe.add(ve,ve),new D(Ie,Le,ve)}add(v){x(v);const{px:W,py:z,pz:Q}=this,{px:de,py:xe,pz:Ie}=v;let Le=pe.ZERO,ve=pe.ZERO,ye=pe.ZERO;const ke=se.a,me=pe.mul(se.b,j);let Ee=pe.mul(W,de),fe=pe.mul(z,xe),he=pe.mul(Q,Ie),ae=pe.add(W,z),ue=pe.add(de,xe);ae=pe.mul(ae,ue),ue=pe.add(Ee,fe),ae=pe.sub(ae,ue),ue=pe.add(W,Q);let ge=pe.add(de,Ie);return ue=pe.mul(ue,ge),ge=pe.add(Ee,he),ue=pe.sub(ue,ge),ge=pe.add(z,Q),Le=pe.add(xe,Ie),ge=pe.mul(ge,Le),Le=pe.add(fe,he),ge=pe.sub(ge,Le),ye=pe.mul(ke,ue),Le=pe.mul(me,he),ye=pe.add(Le,ye),Le=pe.sub(fe,ye),ye=pe.add(fe,ye),ve=pe.mul(Le,ye),fe=pe.add(Ee,Ee),fe=pe.add(fe,Ee),he=pe.mul(ke,he),ue=pe.mul(me,ue),fe=pe.add(fe,he),he=pe.sub(Ee,he),he=pe.mul(ke,he),ue=pe.add(ue,he),Ee=pe.mul(fe,ue),ve=pe.add(ve,Ee),Ee=pe.mul(ge,ue),Le=pe.mul(ae,Le),Le=pe.sub(Le,Ee),Ee=pe.mul(ae,fe),ye=pe.mul(ge,ye),ye=pe.add(ye,Ee),new D(Le,ve,ye)}subtract(v){return this.add(v.negate())}is0(){return this.equals(D.ZERO)}wNAF(v){return M.wNAFCached(this,p,v,W=>{const z=pe.invertBatch(W.map(Q=>Q.pz));return W.map((Q,de)=>Q.toAffine(z[de])).map(D.fromAffine)})}multiplyUnsafe(v){const W=D.ZERO;if(v===F)return W;if(h(v),v===C)return this;const{endo:z}=se;if(!z)return M.unsafeLadder(this,v);let{k1neg:Q,k1:de,k2neg:xe,k2:Ie}=z.splitScalar(v),Le=W,ve=W,ye=this;for(;de>F||Ie>F;)de&C&&(Le=Le.add(ye)),Ie&C&&(ve=ve.add(ye)),ye=ye.double(),de>>=C,Ie>>=C;return Q&&(Le=Le.negate()),xe&&(ve=ve.negate()),ve=new D(pe.mul(ve.px,z.beta),ve.py,ve.pz),Le.add(ve)}multiply(v){h(v);let z,Q,W=v;const{endo:de}=se;if(de){const{k1neg:xe,k1:Ie,k2neg:Le,k2:ve}=de.splitScalar(W);let{p:ye,f:ke}=this.wNAF(Ie),{p:me,f:Ee}=this.wNAF(ve);ye=M.constTimeNegate(xe,ye),me=M.constTimeNegate(Le,me),me=new D(pe.mul(me.px,de.beta),me.py,me.pz),z=ye.add(me),Q=ke.add(Ee)}else{const{p:xe,f:Ie}=this.wNAF(W);z=xe,Q=Ie}return D.normalizeZ([z,Q])[0]}multiplyAndAddUnsafe(v,W,z){const Q=D.BASE,de=(Ie,Le)=>Le!==F&&Le!==C&&Ie.equals(Q)?Ie.multiply(Le):Ie.multiplyUnsafe(Le),xe=de(this,W).add(de(v,z));return xe.is0()?void 0:xe}toAffine(v){const{px:W,py:z,pz:Q}=this,de=this.is0();null==v&&(v=de?pe.ONE:pe.inv(Q));const xe=pe.mul(W,v),Ie=pe.mul(z,v),Le=pe.mul(Q,v);if(de)return{x:pe.ZERO,y:pe.ZERO};if(!pe.eql(Le,pe.ONE))throw new Error("invZ was invalid");return{x:xe,y:Ie}}isTorsionFree(){const{h:v,isTorsionFree:W}=se;if(v===C)return!0;if(W)return W(D,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:W}=se;return v===C?this:W?W(D,this):this.multiplyUnsafe(se.h)}toRawBytes(v=!0){return this.assertValidity(),we(D,this,v)}toHex(v=!0){return X.My(this.toRawBytes(v))}}D.BASE=new D(se.Gx,se.Gy,pe.ONE),D.ZERO=new D(pe.ZERO,pe.ONE,pe.ZERO);const B=se.nBitLength,M=(0,_.A)(D,se.endo?Math.ceil(B/2):B);return{CURVE:se,ProjectivePoint:D,normPrivateKeyToScalar:m,weierstrassEquation:k,isWithinCurveOrder:l}}({...se,toBytes(ue,ge,Ae){const Ue=ge.toAffine(),Ve=pe.toBytes(Ue.x),ze=X.Id;return Ae?ze(Uint8Array.from([ge.hasEvenY()?2:3]),Ve):ze(Uint8Array.from([4]),Ve,pe.toBytes(Ue.y))},fromBytes(ue){const ge=ue.length,Ae=ue[0],Ue=ue.subarray(1);if(ge!==Me||2!==Ae&&3!==Ae){if(ge===k&&4===Ae)return{x:pe.fromBytes(Ue.subarray(0,pe.BYTES)),y:pe.fromBytes(Ue.subarray(pe.BYTES,2*pe.BYTES))};throw new Error(`Point of length ${ge} was invalid. Expected ${Me} compressed bytes or ${k} uncompressed bytes`)}{const Ve=X.Ph(Ue);if(!function l(ue){return F<ue&&ue<pe.ORDER}(Ve))throw new Error("Point is not on curve");const ze=D(Ve);let It=pe.sqrt(ze);return!(1&~Ae)!=((It&C)===C)&&(It=pe.neg(It)),{x:Ve,y:It}}}}),M=ue=>X.My(X.lq(ue,se.nByteLength));function d(ue){return ue>we>>C}const W=(ue,ge,Ae)=>X.Ph(ue.slice(ge,Ae));class z{constructor(ge,Ae,Ue){this.r=ge,this.s=Ae,this.recovery=Ue,this.assertValidity()}static fromCompact(ge){const Ae=se.nByteLength;return ge=(0,X.qj)("compactSignature",ge,2*Ae),new z(W(ge,0,Ae),W(ge,Ae,2*Ae))}static fromDER(ge){const{r:Ae,s:Ue}=L.toSig((0,X.qj)("DER",ge));return new z(Ae,Ue)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ge){return new z(this.r,this.s,ge)}recoverPublicKey(ge){const{r:Ae,s:Ue,recovery:Ve}=this,ze=ve((0,X.qj)("msgHash",ge));if(null==Ve||![0,1,2,3].includes(Ve))throw new Error("recovery id invalid");const It=2===Ve||3===Ve?Ae+se.n:Ae;if(It>=pe.ORDER)throw new Error("recovery id 2 or 3 invalid");const je=p.fromHex((1&Ve?"03":"02")+M(It)),ut=m(It),$=h(-ze*ut),T=h(Ue*ut),S=p.BASE.multiplyAndAddUnsafe(je,$,T);if(!S)throw new Error("point at infinify");return S.assertValidity(),S}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new z(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return X.aT(this.toDERHex())}toDERHex(){return L.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return X.aT(this.toCompactHex())}toCompactHex(){return M(this.r)+M(this.s)}}const Q={isValidPrivateKey(ue){try{return x(ue),!0}catch{return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>{const ue=O.Tp(se.n);return O.qy(se.randomBytes(ue),se.n)},precompute:(ue=8,ge=p.BASE)=>(ge._setWindowSize(ue),ge.multiply(BigInt(3)),ge)};function xe(ue){const ge=X.aY(ue),Ae="string"==typeof ue,Ue=(ge||Ae)&&ue.length;return ge?Ue===Me||Ue===k:Ae?Ue===2*Me||Ue===2*k:ue instanceof p}const Le=se.bits2int||function(ue){const ge=X.Ph(ue),Ae=8*ue.length-se.nBitLength;return Ae>0?ge>>BigInt(Ae):ge},ve=se.bits2int_modN||function(ue){return h(Le(ue))},ye=X.OG(se.nBitLength);function ke(ue){if("bigint"!=typeof ue)throw new Error("bigint expected");if(!(F<=ue&&ue<ye))throw new Error(`bigint expected < 2^${se.nBitLength}`);return X.lq(ue,se.nByteLength)}const Ee={lowS:se.lowS,prehash:!1},fe={lowS:se.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:se,getPublicKey:function de(ue,ge=!0){return p.fromPrivateKey(ue).toRawBytes(ge)},getSharedSecret:function Ie(ue,ge,Ae=!0){if(xe(ue))throw new Error("first arg must be private key");if(!xe(ge))throw new Error("second arg must be public key");return p.fromHex(ge).multiply(x(ue)).toRawBytes(Ae)},sign:function he(ue,ge,Ae=Ee){const{seed:Ue,k2sig:Ve}=function me(ue,ge,Ae=Ee){if(["recovered","canonical"].some(le=>le in Ae))throw new Error("sign() legacy options not supported");const{hash:Ue,randomBytes:Ve}=se;let{lowS:ze,prehash:It,extraEntropy:qe}=Ae;null==ze&&(ze=!0),ue=(0,X.qj)("msgHash",ue),It&&(ue=(0,X.qj)("prehashed msgHash",Ue(ue)));const je=ve(ue),ut=x(ge),$=[ke(ut),ke(je)];if(null!=qe){const le=!0===qe?Ve(pe.BYTES):qe;$.push((0,X.qj)("extraEntropy",le))}const T=X.Id(...$),S=je;return{seed:T,k2sig:function Z(le){const De=Le(le);if(!B(De))return;const Oe=m(De),Qe=p.BASE.multiply(De).toAffine(),Nt=h(Qe.x);if(Nt===F)return;const ft=h(Oe*h(S+Nt*ut));if(ft===F)return;let St=(Qe.x===Nt?0:2)|Number(Qe.y&C),Lt=ft;return ze&&d(ft)&&(Lt=function v(ue){return d(ue)?h(-ue):ue}(ft),St^=1),new z(Nt,Lt,St)}}}(ue,ge,Ae);return X.fg(se.hash.outputLen,se.nByteLength,se.hmac)(Ue,Ve)},verify:function ae(ue,ge,Ae,Ue=fe){const Ve=ue;if(ge=(0,X.qj)("msgHash",ge),Ae=(0,X.qj)("publicKey",Ae),"strict"in Ue)throw new Error("options.strict was renamed to lowS");const{lowS:ze,prehash:It}=Ue;let qe,je;try{if("string"==typeof Ve||X.aY(Ve))try{qe=z.fromDER(Ve)}catch(Qe){if(!(Qe instanceof L.Err))throw Qe;qe=z.fromCompact(Ve)}else{if("object"!=typeof Ve||"bigint"!=typeof Ve.r||"bigint"!=typeof Ve.s)throw new Error("PARSE");{const{r:Qe,s:Nt}=Ve;qe=new z(Qe,Nt)}}je=p.fromHex(Ae)}catch(Qe){if("PARSE"===Qe.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ze&&qe.hasHighS())return!1;It&&(ge=se.hash(ge));const{r:ut,s:$}=qe,T=ve(ge),S=m($),Z=h(T*S),le=h(ut*S),De=p.BASE.multiplyAndAddUnsafe(je,Z,le)?.toAffine();return!!De&&h(De.x)===ut},ProjectivePoint:p,Signature:z,utils:Q}}function ie(ce){return{hash:ce,hmac:(se,...pe)=>(0,g.w)(ce,se,(0,w.Id)(...pe)),randomBytes:w.po}}function re(ce,se){const pe=we=>q({...ce,...ie(we)});return Object.freeze({...pe(se),create:pe})}BigInt(4)},7184:(Ne,V,E)=>{"use strict";E.d(V,{A:()=>_,h:()=>R});var g=E(35765),w=E(91006);const O=BigInt(0),X=BigInt(1);function _(A,N){const L=(C,Y)=>{const j=Y.negate();return C?j:Y},F=C=>({windows:Math.ceil(N/C)+1,windowSize:2**(C-1)});return{constTimeNegate:L,unsafeLadder(C,Y){let j=A.ZERO,G=C;for(;Y>O;)Y&X&&(j=j.add(G)),G=G.double(),Y>>=X;return j},precomputeWindow(C,Y){const{windows:j,windowSize:G}=F(Y),te=[];let ee=C,q=ee;for(let J=0;J<j;J++){q=ee,te.push(q);for(let ne=1;ne<G;ne++)q=q.add(ee),te.push(q);ee=q.double()}return te},wNAF(C,Y,j){const{windows:G,windowSize:te}=F(C);let ee=A.ZERO,q=A.BASE;const J=BigInt(2**C-1),ne=2**C,ie=BigInt(C);for(let re=0;re<G;re++){const ce=re*te;let se=Number(j&J);j>>=ie,se>te&&(se-=ne,j+=X);const pe=ce,we=ce+Math.abs(se)-1,k=se<0;0===se?q=q.add(L(re%2!=0,Y[pe])):ee=ee.add(L(k,Y[we]))}return{p:ee,f:q}},wNAFCached(C,Y,j,G){const te=C._WINDOW_SIZE||1;let ee=Y.get(C);return ee||(ee=this.precomputeWindow(C,te),1!==te&&Y.set(C,G(ee))),this.wNAF(te,ee,j)}}}function R(A){return(0,g.jr)(A.Fp),(0,w.Q5)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,g.LH)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},35765:(Ne,V,E)=>{"use strict";E.d(V,{B8:()=>G,D0:()=>we,LH:()=>pe,Tp:()=>m,Tv:()=>k,dQ:()=>q,jr:()=>ne,n7:()=>Y,qy:()=>p,zH:()=>j,zi:()=>C});var g=E(91006);const w=BigInt(0),O=BigInt(1),X=BigInt(2),_=BigInt(3),R=BigInt(4),A=BigInt(5),N=BigInt(8);function C(x,D){const B=x%D;return B>=w?B:D+B}function Y(x,D,B){if(B<=w||D<w)throw new Error("Expected power/modulo > 0");if(B===O)return w;let M=O;for(;D>w;)D&O&&(M=M*x%B),x=x*x%B,D>>=O;return M}function j(x,D,B){let M=x;for(;D-- >w;)M*=M,M%=B;return M}function G(x,D){if(x===w||D<=w)throw new Error(`invert: expected positive integers, got n=${x} mod=${D}`);let B=C(x,D),M=D,d=w,v=O,W=O,z=w;for(;B!==w;){const de=M/B,xe=M%B,Ie=d-W*de,Le=v-z*de;M=B,B=xe,d=W,v=z,W=Ie,z=Le}if(M!==O)throw new Error("invert: does not exist");return C(d,D)}BigInt(9),BigInt(16);const q=(x,D)=>(C(x,D)&O)===O,J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ne(x){const B=J.reduce((M,d)=>(M[d]="function",M),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,g.Q5)(x,B)}function pe(x,D){const B=void 0!==D?D:x.toString(2).length;return{nBitLength:B,nByteLength:Math.ceil(B/8)}}function we(x,D,B=!1,M={}){if(x<=w)throw new Error(`Expected Field ORDER > 0, got ${x}`);const{nBitLength:d,nByteLength:v}=pe(x,D);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=function ee(x){if(x%R===_){const D=(x+O)/R;return function(M,d){const v=M.pow(d,D);if(!M.eql(M.sqr(v),d))throw new Error("Cannot find square root");return v}}if(x%N===A){const D=(x-A)/N;return function(M,d){const v=M.mul(d,X),W=M.pow(v,D),z=M.mul(d,W),Q=M.mul(M.mul(z,X),W),de=M.mul(z,M.sub(Q,M.ONE));if(!M.eql(M.sqr(de),d))throw new Error("Cannot find square root");return de}}return function te(x){const D=(x-O)/X;let B,M,d;for(B=x-O,M=0;B%X===w;B/=X,M++);for(d=X;d<x&&Y(d,D,x)!==x-O;d++);if(1===M){const W=(x+O)/R;return function(Q,de){const xe=Q.pow(de,W);if(!Q.eql(Q.sqr(xe),de))throw new Error("Cannot find square root");return xe}}const v=(B+O)/X;return function(z,Q){if(z.pow(Q,D)===z.neg(z.ONE))throw new Error("Cannot find square root");let de=M,xe=z.pow(z.mul(z.ONE,d),B),Ie=z.pow(Q,v),Le=z.pow(Q,B);for(;!z.eql(Le,z.ONE);){if(z.eql(Le,z.ZERO))return z.ZERO;let ve=1;for(let ke=z.sqr(Le);ve<de&&!z.eql(ke,z.ONE);ve++)ke=z.sqr(ke);const ye=z.pow(xe,O<<BigInt(de-ve-1));xe=z.sqr(ye),Ie=z.mul(Ie,ye),Le=z.mul(Le,xe),de=ve}return Ie}}(x)}(x),z=Object.freeze({ORDER:x,BITS:d,BYTES:v,MASK:(0,g.OG)(d),ZERO:w,ONE:O,create:Q=>C(Q,x),isValid:Q=>{if("bigint"!=typeof Q)throw new Error("Invalid field element: expected bigint, got "+typeof Q);return w<=Q&&Q<x},is0:Q=>Q===w,isOdd:Q=>(Q&O)===O,neg:Q=>C(-Q,x),eql:(Q,de)=>Q===de,sqr:Q=>C(Q*Q,x),add:(Q,de)=>C(Q+de,x),sub:(Q,de)=>C(Q-de,x),mul:(Q,de)=>C(Q*de,x),pow:(Q,de)=>function ie(x,D,B){if(B<w)throw new Error("Expected power > 0");if(B===w)return x.ONE;if(B===O)return D;let M=x.ONE,d=D;for(;B>w;)B&O&&(M=x.mul(M,d)),d=x.sqr(d),B>>=O;return M}(z,Q,de),div:(Q,de)=>C(Q*G(de,x),x),sqrN:Q=>Q*Q,addN:(Q,de)=>Q+de,subN:(Q,de)=>Q-de,mulN:(Q,de)=>Q*de,inv:Q=>G(Q,x),sqrt:M.sqrt||(Q=>W(z,Q)),invertBatch:Q=>function re(x,D){const B=new Array(D.length),M=D.reduce((v,W,z)=>x.is0(W)?v:(B[z]=v,x.mul(v,W)),x.ONE),d=x.inv(M);return D.reduceRight((v,W,z)=>x.is0(W)?v:(B[z]=x.mul(v,B[z]),x.mul(v,W)),d),B}(z,Q),cmov:(Q,de,xe)=>xe?de:Q,toBytes:Q=>B?(0,g.z)(Q,v):(0,g.lq)(Q,v),fromBytes:Q=>{if(Q.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${Q.length}`);return B?(0,g.lX)(Q):(0,g.Ph)(Q)}});return Object.freeze(z)}function k(x,D){if(!x.isOdd)throw new Error("Field doesn't have isOdd");const B=x.sqrt(D);return x.isOdd(B)?x.neg(B):B}function h(x){if("bigint"!=typeof x)throw new Error("field order must be bigint");const D=x.toString(2).length;return Math.ceil(D/8)}function m(x){const D=h(x);return D+Math.ceil(D/2)}function p(x,D,B=!1){const M=x.length,d=h(D),v=m(D);if(M<16||M<v||M>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${M}`);const z=C(B?(0,g.Ph)(x):(0,g.lX)(x),D-O)+O;return B?(0,g.z)(z,d):(0,g.lq)(z,d)}},91006:(Ne,V,E)=>{"use strict";E.d(V,{Id:()=>J,My:()=>R,OG:()=>pe,Ph:()=>Y,Q5:()=>h,aT:()=>C,aY:()=>X,fg:()=>k,lX:()=>j,lq:()=>G,qj:()=>q,z:()=>te}),BigInt(0);const w=BigInt(1),O=BigInt(2);function X(m){return m instanceof Uint8Array||null!=m&&"object"==typeof m&&"Uint8Array"===m.constructor.name}const _=Array.from({length:256},(m,p)=>p.toString(16).padStart(2,"0"));function R(m){if(!X(m))throw new Error("Uint8Array expected");let p="";for(let x=0;x<m.length;x++)p+=_[m[x]];return p}function N(m){if("string"!=typeof m)throw new Error("hex string expected, got "+typeof m);return BigInt(""===m?"0":`0x${m}`)}const L={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function F(m){return m>=L._0&&m<=L._9?m-L._0:m>=L._A&&m<=L._F?m-(L._A-10):m>=L._a&&m<=L._f?m-(L._a-10):void 0}function C(m){if("string"!=typeof m)throw new Error("hex string expected, got "+typeof m);const p=m.length,x=p/2;if(p%2)throw new Error("padded hex string expected, got unpadded hex of length "+p);const D=new Uint8Array(x);for(let B=0,M=0;B<x;B++,M+=2){const d=F(m.charCodeAt(M)),v=F(m.charCodeAt(M+1));if(void 0===d||void 0===v)throw new Error('hex string expected, got non-hex character "'+(m[M]+m[M+1])+'" at index '+M);D[B]=16*d+v}return D}function Y(m){return N(R(m))}function j(m){if(!X(m))throw new Error("Uint8Array expected");return N(R(Uint8Array.from(m).reverse()))}function G(m,p){return C(m.toString(16).padStart(2*p,"0"))}function te(m,p){return G(m,p).reverse()}function q(m,p,x){let D;if("string"==typeof p)try{D=C(p)}catch(M){throw new Error(`${m} must be valid hex string, got "${p}". Cause: ${M}`)}else{if(!X(p))throw new Error(`${m} must be hex string or Uint8Array`);D=Uint8Array.from(p)}const B=D.length;if("number"==typeof x&&B!==x)throw new Error(`${m} expected ${x} bytes, got ${B}`);return D}function J(...m){let p=0;for(let B=0;B<m.length;B++){const M=m[B];if(!X(M))throw new Error("Uint8Array expected");p+=M.length}let x=new Uint8Array(p),D=0;for(let B=0;B<m.length;B++){const M=m[B];x.set(M,D),D+=M.length}return x}const pe=m=>(O<<BigInt(m-1))-w,we=m=>new Uint8Array(m),Me=m=>Uint8Array.from(m);function k(m,p,x){if("number"!=typeof m||m<2)throw new Error("hashLen must be a number");if("number"!=typeof p||p<2)throw new Error("qByteLen must be a number");if("function"!=typeof x)throw new Error("hmacFn must be a function");let D=we(m),B=we(m),M=0;const d=()=>{D.fill(1),B.fill(0),M=0},v=(...de)=>x(B,D,...de),W=(de=we())=>{B=v(Me([0]),de),D=v(),0!==de.length&&(B=v(Me([1]),de),D=v())},z=()=>{if(M++>=1e3)throw new Error("drbg: tried 1000 values");let de=0;const xe=[];for(;de<p;){D=v();const Ie=D.slice();xe.push(Ie),de+=D.length}return J(...xe)};return(de,xe)=>{let Ie;for(d(),W(de);!(Ie=xe(z()));)W();return d(),Ie}}const l={bigint:m=>"bigint"==typeof m,function:m=>"function"==typeof m,boolean:m=>"boolean"==typeof m,string:m=>"string"==typeof m,stringOrUint8Array:m=>"string"==typeof m||X(m),isSafeInteger:m=>Number.isSafeInteger(m),array:m=>Array.isArray(m),field:(m,p)=>p.Fp.isValid(m),hash:m=>"function"==typeof m&&Number.isSafeInteger(m.outputLen)};function h(m,p,x={}){const D=(B,M,d)=>{const v=l[M];if("function"!=typeof v)throw new Error(`Invalid validator "${M}", expected function`);const W=m[B];if(!(d&&void 0===W||v(W,m)))throw new Error(`Invalid param ${String(B)}=${W} (${typeof W}), expected ${M}`)};for(const[B,M]of Object.entries(p))D(B,M,!1);for(const[B,M]of Object.entries(x))D(B,M,!0);return m}},86295:(Ne,V,E)=>{"use strict";E.d(V,{ev:()=>D,OA:()=>Q,GU:()=>W,TU:()=>v});var g=E(25431),w=E(62953),O=E(35765),X=E(91006),_=E(7184);const R=BigInt(0),A=BigInt(1),N=BigInt(2),L=BigInt(8),F={zip215:!0};function Y(Z){const le=function C(Z){const le=(0,_.h)(Z);return X.Q5(Z,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...le})}(Z),{Fp:De,n:Oe,prehash:Qe,hash:Nt,randomBytes:ft,nByteLength:St,h:Lt}=le,Gt=N<<BigInt(8*St)-A,Vt=De.create,zn=le.uvRatio||((Pn,Dn)=>{try{return{isValid:!0,value:De.sqrt(Pn*De.inv(Dn))}}catch{return{isValid:!1,value:R}}}),cn=le.adjustScalarBytes||(Pn=>Pn),Bt=le.domain||((Pn,Dn,qt)=>{if(Dn.length||qt)throw new Error("Contexts/pre-hash are not supported");return Pn}),Dt=Pn=>"bigint"==typeof Pn&&R<Pn,nt=(Pn,Dn)=>Dt(Pn)&&Dt(Dn)&&Pn<Dn,Ye=Pn=>Pn===R||nt(Pn,Gt);function At(Pn,Dn){if(nt(Pn,Dn))return Pn;throw new Error(`Expected valid scalar < ${Dn}, got ${typeof Pn} ${Pn}`)}function kt(Pn){return Pn===R?Pn:At(Pn,Oe)}const $t=new Map;function Bn(Pn){if(!(Pn instanceof et))throw new Error("ExtendedPoint expected")}class et{constructor(Dn,qt,Yt,Xn){if(this.ex=Dn,this.ey=qt,this.ez=Yt,this.et=Xn,!Ye(Dn))throw new Error("x required");if(!Ye(qt))throw new Error("y required");if(!Ye(Yt))throw new Error("z required");if(!Ye(Xn))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Dn){if(Dn instanceof et)throw new Error("extended point not allowed");const{x:qt,y:Yt}=Dn||{};if(!Ye(qt)||!Ye(Yt))throw new Error("invalid affine point");return new et(qt,Yt,A,Vt(qt*Yt))}static normalizeZ(Dn){const qt=De.invertBatch(Dn.map(Yt=>Yt.ez));return Dn.map((Yt,Xn)=>Yt.toAffine(qt[Xn])).map(et.fromAffine)}_setWindowSize(Dn){this._WINDOW_SIZE=Dn,$t.delete(this)}assertValidity(){const{a:Dn,d:qt}=le;if(this.is0())throw new Error("bad point: ZERO");const{ex:Yt,ey:Xn,ez:$n,et:yr}=this,hr=Vt(Yt*Yt),vr=Vt(Xn*Xn),sr=Vt($n*$n),pr=Vt(sr*sr),kr=Vt(hr*Dn);if(Vt(sr*Vt(kr+vr))!==Vt(pr+Vt(qt*Vt(hr*vr))))throw new Error("bad point: equation left != right (1)");if(Vt(Yt*Xn)!==Vt($n*yr))throw new Error("bad point: equation left != right (2)")}equals(Dn){Bn(Dn);const{ex:qt,ey:Yt,ez:Xn}=this,{ex:$n,ey:yr,ez:hr}=Dn,vr=Vt(qt*hr),sr=Vt($n*Xn),pr=Vt(Yt*hr),kr=Vt(yr*Xn);return vr===sr&&pr===kr}is0(){return this.equals(et.ZERO)}negate(){return new et(Vt(-this.ex),this.ey,this.ez,Vt(-this.et))}double(){const{a:Dn}=le,{ex:qt,ey:Yt,ez:Xn}=this,$n=Vt(qt*qt),yr=Vt(Yt*Yt),hr=Vt(N*Vt(Xn*Xn)),vr=Vt(Dn*$n),sr=qt+Yt,pr=Vt(Vt(sr*sr)-$n-yr),kr=vr+yr,Tr=kr-hr,jr=vr-yr,Ir=Vt(pr*Tr),Ot=Vt(kr*jr),Wt=Vt(pr*jr),en=Vt(Tr*kr);return new et(Ir,Ot,en,Wt)}add(Dn){Bn(Dn);const{a:qt,d:Yt}=le,{ex:Xn,ey:$n,ez:yr,et:hr}=this,{ex:vr,ey:sr,ez:pr,et:kr}=Dn;if(qt===BigInt(-1)){const tr=Vt(($n-Xn)*(sr+vr)),Hi=Vt(($n+Xn)*(sr-vr)),li=Vt(Hi-tr);if(li===R)return this.double();const Hr=Vt(yr*N*kr),Mi=Vt(hr*N*pr),Xi=Mi+Hr,si=Hi+tr,Li=Mi-Hr,mo=Vt(Xi*li),xs=Vt(si*Li),ri=Vt(Xi*Li),xo=Vt(li*si);return new et(mo,xs,xo,ri)}const Tr=Vt(Xn*vr),jr=Vt($n*sr),Ir=Vt(hr*Yt*kr),Ot=Vt(yr*pr),Wt=Vt((Xn+$n)*(vr+sr)-Tr-jr),en=Ot-Ir,Sn=Ot+Ir,xn=Vt(jr-qt*Tr),Vn=Vt(Wt*en),Jn=Vt(Sn*xn),br=Vt(Wt*xn),lr=Vt(en*Sn);return new et(Vn,Jn,lr,br)}subtract(Dn){return this.add(Dn.negate())}wNAF(Dn){return He.wNAFCached(this,$t,Dn,et.normalizeZ)}multiply(Dn){const{p:qt,f:Yt}=this.wNAF(At(Dn,Oe));return et.normalizeZ([qt,Yt])[0]}multiplyUnsafe(Dn){let qt=kt(Dn);return qt===R?ot:this.equals(ot)||qt===A?this:this.equals(it)?this.wNAF(qt).p:He.unsafeLadder(this,qt)}isSmallOrder(){return this.multiplyUnsafe(Lt).is0()}isTorsionFree(){return He.unsafeLadder(this,Oe).is0()}toAffine(Dn){const{ex:qt,ey:Yt,ez:Xn}=this,$n=this.is0();null==Dn&&(Dn=$n?L:De.inv(Xn));const yr=Vt(qt*Dn),hr=Vt(Yt*Dn),vr=Vt(Xn*Dn);if($n)return{x:R,y:A};if(vr!==A)throw new Error("invZ was invalid");return{x:yr,y:hr}}clearCofactor(){const{h:Dn}=le;return Dn===A?this:this.multiplyUnsafe(Dn)}static fromHex(Dn,qt=!1){const{d:Yt,a:Xn}=le,$n=De.BYTES,yr=(Dn=(0,X.qj)("pointHex",Dn,$n)).slice(),hr=Dn[$n-1];yr[$n-1]=-129&hr;const vr=X.lX(yr);vr===R||At(vr,qt?Gt:De.ORDER);const sr=Vt(vr*vr),pr=Vt(sr-A),kr=Vt(Yt*sr-Xn);let{isValid:Tr,value:jr}=zn(pr,kr);if(!Tr)throw new Error("Point.fromHex: invalid y coordinate");const Ir=(jr&A)===A,Ot=!!(128&hr);if(!qt&&jr===R&&Ot)throw new Error("Point.fromHex: x=0 and x_0=1");return Ot!==Ir&&(jr=Vt(-jr)),et.fromAffine({x:jr,y:vr})}static fromPrivateKey(Dn){return Kt(Dn).point}toRawBytes(){const{x:Dn,y:qt}=this.toAffine(),Yt=X.z(qt,De.BYTES);return Yt[Yt.length-1]|=Dn&A?128:0,Yt}toHex(){return X.My(this.toRawBytes())}}et.BASE=new et(le.Gx,le.Gy,A,Vt(le.Gx*le.Gy)),et.ZERO=new et(R,A,A,R);const{BASE:it,ZERO:ot}=et,He=(0,_.A)(et,8*St);function ht(Pn){return(0,O.zi)(Pn,Oe)}function sn(Pn){return ht(X.lX(Pn))}function Kt(Pn){const Dn=St;Pn=(0,X.qj)("private key",Pn,Dn);const qt=(0,X.qj)("hashed private key",Nt(Pn),2*Dn),Yt=cn(qt.slice(0,Dn)),Xn=qt.slice(Dn,2*Dn),$n=sn(Yt),yr=it.multiply($n),hr=yr.toRawBytes();return{head:Yt,prefix:Xn,scalar:$n,point:yr,pointBytes:hr}}function ir(Pn=new Uint8Array,...Dn){const qt=X.Id(...Dn);return sn(Nt(Bt(qt,(0,X.qj)("context",Pn),!!Qe)))}const un=F;return it._setWindowSize(8),{CURVE:le,getPublicKey:function rn(Pn){return Kt(Pn).pointBytes},sign:function pn(Pn,Dn,qt={}){Pn=(0,X.qj)("message",Pn),Qe&&(Pn=Qe(Pn));const{prefix:Yt,scalar:Xn,pointBytes:$n}=Kt(Dn),yr=ir(qt.context,Yt,Pn),hr=it.multiply(yr).toRawBytes(),sr=ht(yr+ir(qt.context,hr,$n,Pn)*Xn);kt(sr);const pr=X.Id(hr,X.z(sr,De.BYTES));return(0,X.qj)("result",pr,2*St)},verify:function ur(Pn,Dn,qt,Yt=un){const{context:Xn,zip215:$n}=Yt,yr=De.BYTES;Pn=(0,X.qj)("signature",Pn,2*yr),Dn=(0,X.qj)("message",Dn),Qe&&(Dn=Qe(Dn));const hr=X.lX(Pn.slice(yr,2*yr));let vr,sr,pr;try{vr=et.fromHex(qt,$n),sr=et.fromHex(Pn.slice(0,yr),$n),pr=it.multiplyUnsafe(hr)}catch{return!1}if(!$n&&vr.isSmallOrder())return!1;const kr=ir(Xn,sr.toRawBytes(),vr.toRawBytes(),Dn);return sr.add(vr.multiplyUnsafe(kr)).subtract(pr).clearCofactor().equals(et.ZERO)},ExtendedPoint:et,utils:{getExtendedPublicKey:Kt,randomPrivateKey:()=>ft(De.BYTES),precompute:(Pn=8,Dn=et.BASE)=>(Dn._setWindowSize(Pn),Dn.multiply(BigInt(3)),Dn)}}}const j=BigInt(0),G=BigInt(1),q=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),J=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ie=(BigInt(0),BigInt(1)),re=BigInt(2),ce=BigInt(5),se=BigInt(10),pe=BigInt(20),we=BigInt(40),Me=BigInt(80);function k(Z){const le=q,Oe=Z*Z%le*Z%le,Qe=(0,O.zH)(Oe,re,le)*Oe%le,Nt=(0,O.zH)(Qe,ie,le)*Z%le,ft=(0,O.zH)(Nt,ce,le)*Nt%le,St=(0,O.zH)(ft,se,le)*ft%le,Lt=(0,O.zH)(St,pe,le)*St%le,Gt=(0,O.zH)(Lt,we,le)*Lt%le,Vt=(0,O.zH)(Gt,Me,le)*Gt%le,zn=(0,O.zH)(Vt,Me,le)*Gt%le,cn=(0,O.zH)(zn,se,le)*ft%le;return{pow_p_5_8:(0,O.zH)(cn,re,le)*Z%le,b2:Oe}}function l(Z){return Z[0]&=248,Z[31]&=127,Z[31]|=64,Z}const p=(0,O.D0)(q,void 0,!0),x={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:g.Zf,randomBytes:w.po,adjustScalarBytes:l,uvRatio:function h(Z,le){const De=q,Oe=(0,O.zi)(le*le*le,De),Nt=k(Z*(0,O.zi)(Oe*Oe*le,De)).pow_p_5_8;let ft=(0,O.zi)(Z*Oe*Nt,De);const St=(0,O.zi)(le*ft*ft,De),Lt=ft,Gt=(0,O.zi)(ft*J,De),Vt=St===Z,zn=St===(0,O.zi)(-Z,De),cn=St===(0,O.zi)(-Z*J,De);return Vt&&(ft=Lt),(zn||cn)&&(ft=Gt),(0,O.dQ)(ft,De)&&(ft=(0,O.zi)(-ft,De)),{isValid:Vt||zn,value:ft}}},D=Y(x);const v=function ee(Z){const le=function te(Z){return(0,X.Q5)(Z,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...Z})}(Z),{P:De}=le,Oe=$t=>(0,O.zi)($t,De),Qe=le.montgomeryBits,Nt=Math.ceil(Qe/8),ft=le.nByteLength,St=le.adjustScalarBytes||($t=>$t),Lt=le.powPminus2||($t=>(0,O.n7)($t,De-BigInt(2),De));function Gt($t,Bn,et){const it=Oe($t*(Bn-et));return[Bn=Oe(Bn-it),et=Oe(et+it)]}function Vt($t){if("bigint"==typeof $t&&j<=$t&&$t<De)return $t;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const zn=(le.a-BigInt(2))/BigInt(4);function Bt($t){return(0,X.z)(Oe($t),Nt)}function Ye($t,Bn){const et=function Dt($t){const Bn=(0,X.qj)("u coordinate",$t,Nt);return 32===ft&&(Bn[31]&=127),(0,X.lX)(Bn)}(Bn),it=function nt($t){const Bn=(0,X.qj)("scalar",$t),et=Bn.length;if(et!==Nt&&et!==ft)throw new Error(`Expected ${Nt} or ${ft} bytes, got ${et}`);return(0,X.lX)(St(Bn))}($t),ot=function cn($t,Bn){const et=Vt($t),it=Vt(Bn),ot=et;let ir,He=G,ht=j,sn=et,Kt=G,rn=j;for(let un=BigInt(Qe-1);un>=j;un--){const ur=it>>un&G;rn^=ur,ir=Gt(rn,He,sn),He=ir[0],sn=ir[1],ir=Gt(rn,ht,Kt),ht=ir[0],Kt=ir[1],rn=ur;const Hn=He+ht,Pn=Oe(Hn*Hn),Dn=He-ht,qt=Oe(Dn*Dn),Yt=Pn-qt,Xn=sn+Kt,yr=Oe((sn-Kt)*Hn),hr=Oe(Xn*Dn),vr=yr+hr,sr=yr-hr;sn=Oe(vr*vr),Kt=Oe(ot*Oe(sr*sr)),He=Oe(Pn*qt),ht=Oe(Yt*(Pn+Oe(zn*Yt)))}ir=Gt(rn,He,sn),He=ir[0],sn=ir[1],ir=Gt(rn,ht,Kt),ht=ir[0],Kt=ir[1];const pn=Lt(ht);return Oe(He*pn)}(et,it);if(ot===j)throw new Error("Invalid private or public key received");return Bt(ot)}const At=Bt(le.Gu);function kt($t){return Ye($t,At)}return{scalarMult:Ye,scalarMultBase:kt,getSharedSecret:($t,Bn)=>Ye($t,Bn),getPublicKey:$t=>kt($t),utils:{randomPrivateKey:()=>le.randomBytes(le.nByteLength)},GuBytes:At}}({P:q,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Z=>{const le=q,{pow_p_5_8:De,b2:Oe}=k(Z);return(0,O.zi)((0,O.zH)(De,BigInt(3),le)*Oe,le)},adjustScalarBytes:l,randomBytes:w.po});function W(Z){const{y:le}=D.ExtendedPoint.fromHex(Z),De=BigInt(1);return p.toBytes(p.create((De+le)*p.inv(De-le)))}function Q(Z){const le=x.hash(Z.subarray(0,32));return x.adjustScalarBytes(le).subarray(0,32)}const de=(p.ORDER+BigInt(3))/BigInt(8);p.pow(re,de),p.sqrt(p.neg(p.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,O.Tv)(p,p.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(Ne,V,E)=>{"use strict";E.d(V,{Ag:()=>N,s9:()=>A});var g=E(2716),w=E(47565);const X=(0,E(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),_=X.create(BigInt("-3")),R=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),A=(0,g.s)({a:_,b:R,Fp:X,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},w.s),N=A},94256:(Ne,V,E)=>{"use strict";E.d(V,{bI:()=>C});var g=E(47565),w=E(35765),O=E(2716);const X=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),R=BigInt(1),A=BigInt(2),N=(M,d)=>(M+d/A)/d;const F=(0,w.D0)(X,void 0,void 0,{sqrt:function L(M){const d=X,v=BigInt(3),W=BigInt(6),z=BigInt(11),Q=BigInt(22),de=BigInt(23),xe=BigInt(44),Ie=BigInt(88),Le=M*M*M%d,ve=Le*Le*M%d,ye=(0,w.zH)(ve,v,d)*ve%d,ke=(0,w.zH)(ye,v,d)*ve%d,me=(0,w.zH)(ke,A,d)*Le%d,Ee=(0,w.zH)(me,z,d)*me%d,fe=(0,w.zH)(Ee,Q,d)*Ee%d,he=(0,w.zH)(fe,xe,d)*fe%d,ae=(0,w.zH)(he,Ie,d)*he%d,ue=(0,w.zH)(ae,xe,d)*fe%d,ge=(0,w.zH)(ue,v,d)*ve%d,Ae=(0,w.zH)(ge,de,d)*Ee%d,Ue=(0,w.zH)(Ae,W,d)*Le%d,Ve=(0,w.zH)(Ue,A,d);if(!F.eql(F.sqr(Ve),M))throw new Error("Cannot find square root");return Ve}}),C=(0,O.s)({a:BigInt(0),b:BigInt(7),Fp:F,n:_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const d=_,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-R*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),z=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=v,de=BigInt("0x100000000000000000000000000000000"),xe=N(Q*M,d),Ie=N(-W*M,d);let Le=(0,w.zi)(M-xe*v-Ie*z,d),ve=(0,w.zi)(-xe*W-Ie*Q,d);const ye=Le>de,ke=ve>de;if(ye&&(Le=d-Le),ke&&(ve=d-ve),Le>de||ve>de)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:ye,k1:Le,k2neg:ke,k2:ve}}}},g.s);BigInt(0)},37099:(Ne,V,E)=>{"use strict";function g(F){if(!Number.isSafeInteger(F)||F<0)throw new Error(`Wrong positive integer: ${F}`)}function X(F,...C){if(!function O(F){return F instanceof Uint8Array||null!=F&&"object"==typeof F&&"Uint8Array"===F.constructor.name}(F))throw new Error("Expected Uint8Array");if(C.length>0&&!C.includes(F.length))throw new Error(`Expected Uint8Array of length ${C}, not of length=${F.length}`)}function _(F){if("function"!=typeof F||"function"!=typeof F.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");g(F.outputLen),g(F.blockLen)}function R(F,C=!0){if(F.destroyed)throw new Error("Hash instance has been destroyed");if(C&&F.finished)throw new Error("Hash#digest() has already been called")}function A(F,C){X(F);const Y=C.outputLen;if(F.length<Y)throw new Error(`digestInto() expects output buffer of length at least ${Y}`)}E.d(V,{CG:()=>A,ai:()=>g,ee:()=>X,t2:()=>R,tW:()=>_})},36405:(Ne,V,E)=>{"use strict";E.d(V,{D:()=>X});var g=E(37099),w=E(62953);class X extends w.Vw{constructor(R,A,N,L){super(),this.blockLen=R,this.outputLen=A,this.padOffset=N,this.isLE=L,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(R),this.view=(0,w.O8)(this.buffer)}update(R){(0,g.t2)(this);const{view:A,buffer:N,blockLen:L}=this,F=(R=(0,w.ZJ)(R)).length;for(let C=0;C<F;){const Y=Math.min(L-this.pos,F-C);if(Y!==L)N.set(R.subarray(C,C+Y),this.pos),this.pos+=Y,C+=Y,this.pos===L&&(this.process(A,0),this.pos=0);else{const j=(0,w.O8)(R);for(;L<=F-C;C+=L)this.process(j,C)}}return this.length+=R.length,this.roundClean(),this}digestInto(R){(0,g.t2)(this),(0,g.CG)(R,this),this.finished=!0;const{buffer:A,view:N,blockLen:L,isLE:F}=this;let{pos:C}=this;A[C++]=128,this.buffer.subarray(C).fill(0),this.padOffset>L-C&&(this.process(N,0),C=0);for(let ee=C;ee<L;ee++)A[ee]=0;(function O(_,R,A,N){if("function"==typeof _.setBigUint64)return _.setBigUint64(R,A,N);const L=BigInt(32),F=BigInt(4294967295),C=Number(A>>L&F),Y=Number(A&F),G=N?0:4;_.setUint32(R+(N?4:0),C,N),_.setUint32(R+G,Y,N)})(N,L-8,BigInt(8*this.length),F),this.process(N,0);const Y=(0,w.O8)(R),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,te=this.get();if(G>te.length)throw new Error("_sha2: outputLen bigger than state");for(let ee=0;ee<G;ee++)Y.setUint32(4*ee,te[ee],F)}digest(){const{buffer:R,outputLen:A}=this;this.digestInto(R);const N=R.slice(0,A);return this.destroy(),N}_cloneInto(R){R||(R=new this.constructor),R.set(...this.get());const{blockLen:A,buffer:N,length:L,finished:F,destroyed:C,pos:Y}=this;return R.length=L,R.pos=Y,R.finished=F,R.destroyed=C,L%A&&R.buffer.set(N),R}}},86703:(Ne,V,E)=>{"use strict";E.d(V,{E:()=>g});const g="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(Ne,V,E)=>{"use strict";E.d(V,{w:()=>X});var g=E(37099),w=E(62953);class O extends w.Vw{constructor(R,A){super(),this.finished=!1,this.destroyed=!1,(0,g.tW)(R);const N=(0,w.ZJ)(A);if(this.iHash=R.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const L=this.blockLen,F=new Uint8Array(L);F.set(N.length>L?R.create().update(N).digest():N);for(let C=0;C<F.length;C++)F[C]^=54;this.iHash.update(F),this.oHash=R.create();for(let C=0;C<F.length;C++)F[C]^=106;this.oHash.update(F),F.fill(0)}update(R){return(0,g.t2)(this),this.iHash.update(R),this}digestInto(R){(0,g.t2)(this),(0,g.ee)(R,this.outputLen),this.finished=!0,this.iHash.digestInto(R),this.oHash.update(R),this.oHash.digestInto(R),this.destroy()}digest(){const R=new Uint8Array(this.oHash.outputLen);return this.digestInto(R),R}_cloneInto(R){R||(R=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:N,finished:L,destroyed:F,blockLen:C,outputLen:Y}=this;return R.finished=L,R.destroyed=F,R.blockLen=C,R.outputLen=Y,R.oHash=A._cloneInto(R.oHash),R.iHash=N._cloneInto(R.iHash),R}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const X=(_,R,A)=>new O(_,R).update(A).digest();X.create=(_,R)=>new O(_,R)},47565:(Ne,V,E)=>{"use strict";E.d(V,{s:()=>F});var g=E(36405),w=E(62953);const O=(Y,j,G)=>Y&j^~Y&G,X=(Y,j,G)=>Y&j^Y&G^j&G,_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class N extends g.D{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:j,B:G,C:te,D:ee,E:q,F:J,G:ne,H:ie}=this;return[j,G,te,ee,q,J,ne,ie]}set(j,G,te,ee,q,J,ne,ie){this.A=0|j,this.B=0|G,this.C=0|te,this.D=0|ee,this.E=0|q,this.F=0|J,this.G=0|ne,this.H=0|ie}process(j,G){for(let se=0;se<16;se++,G+=4)A[se]=j.getUint32(G,!1);for(let se=16;se<64;se++){const pe=A[se-15],we=A[se-2],Me=(0,w.Ow)(pe,7)^(0,w.Ow)(pe,18)^pe>>>3,k=(0,w.Ow)(we,17)^(0,w.Ow)(we,19)^we>>>10;A[se]=k+A[se-7]+Me+A[se-16]|0}let{A:te,B:ee,C:q,D:J,E:ne,F:ie,G:re,H:ce}=this;for(let se=0;se<64;se++){const we=ce+((0,w.Ow)(ne,6)^(0,w.Ow)(ne,11)^(0,w.Ow)(ne,25))+O(ne,ie,re)+_[se]+A[se]|0,k=((0,w.Ow)(te,2)^(0,w.Ow)(te,13)^(0,w.Ow)(te,22))+X(te,ee,q)|0;ce=re,re=ie,ie=ne,ne=J+we|0,J=q,q=ee,ee=te,te=we+k|0}te=te+this.A|0,ee=ee+this.B|0,q=q+this.C|0,J=J+this.D|0,ne=ne+this.E|0,ie=ie+this.F|0,re=re+this.G|0,ce=ce+this.H|0,this.set(te,ee,q,J,ne,ie,re,ce)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const F=(0,w.ld)(()=>new N)},25431:(Ne,V,E)=>{"use strict";E.d(V,{Zf:()=>v});var g=E(36405);const w=BigInt(2**32-1),O=BigInt(32);function X(de,xe=!1){return xe?{h:Number(de&w),l:Number(de>>O&w)}:{h:0|Number(de>>O&w),l:0|Number(de&w)}}const k_split=function _(de,xe=!1){let Ie=new Uint32Array(de.length),Le=new Uint32Array(de.length);for(let ve=0;ve<de.length;ve++){const{h:ye,l:ke}=X(de[ve],xe);[Ie[ve],Le[ve]]=[ye,ke]}return[Ie,Le]},k_shrSH=(de,xe,Ie)=>de>>>Ie,k_shrSL=(de,xe,Ie)=>de<<32-Ie|xe>>>Ie,k_rotrSH=(de,xe,Ie)=>de>>>Ie|xe<<32-Ie,k_rotrSL=(de,xe,Ie)=>de<<32-Ie|xe>>>Ie,k_rotrBH=(de,xe,Ie)=>de<<64-Ie|xe>>>Ie-32,k_rotrBL=(de,xe,Ie)=>de>>>Ie-32|xe<<64-Ie,k_add=function ne(de,xe,Ie,Le){const ve=(xe>>>0)+(Le>>>0);return{h:de+Ie+(ve/2**32|0)|0,l:0|ve}},k_add3L=(de,xe,Ie)=>(de>>>0)+(xe>>>0)+(Ie>>>0),k_add3H=(de,xe,Ie,Le)=>xe+Ie+Le+(de/2**32|0)|0,k_add4L=(de,xe,Ie,Le)=>(de>>>0)+(xe>>>0)+(Ie>>>0)+(Le>>>0),k_add4H=(de,xe,Ie,Le,ve)=>xe+Ie+Le+ve+(de/2**32|0)|0,k_add5H=(de,xe,Ie,Le,ve,ye)=>xe+Ie+Le+ve+ye+(de/2**32|0)|0,k_add5L=(de,xe,Ie,Le,ve)=>(de>>>0)+(xe>>>0)+(Ie>>>0)+(Le>>>0)+(ve>>>0);var l=E(62953);const[h,m]=k_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(de=>BigInt(de))),p=new Uint32Array(80),x=new Uint32Array(80);class D extends g.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:xe,Al:Ie,Bh:Le,Bl:ve,Ch:ye,Cl:ke,Dh:me,Dl:Ee,Eh:fe,El:he,Fh:ae,Fl:ue,Gh:ge,Gl:Ae,Hh:Ue,Hl:Ve}=this;return[xe,Ie,Le,ve,ye,ke,me,Ee,fe,he,ae,ue,ge,Ae,Ue,Ve]}set(xe,Ie,Le,ve,ye,ke,me,Ee,fe,he,ae,ue,ge,Ae,Ue,Ve){this.Ah=0|xe,this.Al=0|Ie,this.Bh=0|Le,this.Bl=0|ve,this.Ch=0|ye,this.Cl=0|ke,this.Dh=0|me,this.Dl=0|Ee,this.Eh=0|fe,this.El=0|he,this.Fh=0|ae,this.Fl=0|ue,this.Gh=0|ge,this.Gl=0|Ae,this.Hh=0|Ue,this.Hl=0|Ve}process(xe,Ie){for(let qe=0;qe<16;qe++,Ie+=4)p[qe]=xe.getUint32(Ie),x[qe]=xe.getUint32(Ie+=4);for(let qe=16;qe<80;qe++){const je=0|p[qe-15],ut=0|x[qe-15],$=k_rotrSH(je,ut,1)^k_rotrSH(je,ut,8)^k_shrSH(je,ut,7),T=k_rotrSL(je,ut,1)^k_rotrSL(je,ut,8)^k_shrSL(je,ut,7),S=0|p[qe-2],Z=0|x[qe-2],le=k_rotrSH(S,Z,19)^k_rotrBH(S,Z,61)^k_shrSH(S,Z,6),De=k_rotrSL(S,Z,19)^k_rotrBL(S,Z,61)^k_shrSL(S,Z,6),Oe=k_add4L(T,De,x[qe-7],x[qe-16]),Qe=k_add4H(Oe,$,le,p[qe-7],p[qe-16]);p[qe]=0|Qe,x[qe]=0|Oe}let{Ah:Le,Al:ve,Bh:ye,Bl:ke,Ch:me,Cl:Ee,Dh:fe,Dl:he,Eh:ae,El:ue,Fh:ge,Fl:Ae,Gh:Ue,Gl:Ve,Hh:ze,Hl:It}=this;for(let qe=0;qe<80;qe++){const je=k_rotrSH(ae,ue,14)^k_rotrSH(ae,ue,18)^k_rotrBH(ae,ue,41),ut=k_rotrSL(ae,ue,14)^k_rotrSL(ae,ue,18)^k_rotrBL(ae,ue,41),$=ae&ge^~ae&Ue,S=k_add5L(It,ut,ue&Ae^~ue&Ve,m[qe],x[qe]),Z=k_add5H(S,ze,je,$,h[qe],p[qe]),le=0|S,De=k_rotrSH(Le,ve,28)^k_rotrBH(Le,ve,34)^k_rotrBH(Le,ve,39),Oe=k_rotrSL(Le,ve,28)^k_rotrBL(Le,ve,34)^k_rotrBL(Le,ve,39),Qe=Le&ye^Le&me^ye&me,Nt=ve&ke^ve&Ee^ke&Ee;ze=0|Ue,It=0|Ve,Ue=0|ge,Ve=0|Ae,ge=0|ae,Ae=0|ue,({h:ae,l:ue}=k_add(0|fe,0|he,0|Z,0|le)),fe=0|me,he=0|Ee,me=0|ye,Ee=0|ke,ye=0|Le,ke=0|ve;const ft=k_add3L(le,Oe,Nt);Le=k_add3H(ft,Z,De,Qe),ve=0|ft}({h:Le,l:ve}=k_add(0|this.Ah,0|this.Al,0|Le,0|ve)),({h:ye,l:ke}=k_add(0|this.Bh,0|this.Bl,0|ye,0|ke)),({h:me,l:Ee}=k_add(0|this.Ch,0|this.Cl,0|me,0|Ee)),({h:fe,l:he}=k_add(0|this.Dh,0|this.Dl,0|fe,0|he)),({h:ae,l:ue}=k_add(0|this.Eh,0|this.El,0|ae,0|ue)),({h:ge,l:Ae}=k_add(0|this.Fh,0|this.Fl,0|ge,0|Ae)),({h:Ue,l:Ve}=k_add(0|this.Gh,0|this.Gl,0|Ue,0|Ve)),({h:ze,l:It}=k_add(0|this.Hh,0|this.Hl,0|ze,0|It)),this.set(Le,ve,ye,ke,me,Ee,fe,he,ae,ue,ge,Ae,Ue,Ve,ze,It)}roundClean(){p.fill(0),x.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,l.ld)(()=>new D)},62953:(Ne,V,E)=>{"use strict";E.d(V,{$h:()=>te,AI:()=>q,Id:()=>ne,My:()=>F,O8:()=>R,Ow:()=>A,Vw:()=>ie,ZJ:()=>J,aT:()=>j,ld:()=>se,po:()=>Me,tY:()=>ce});var g=E(10467),w=E(86703);function _(k){return k instanceof Uint8Array||null!=k&&"object"==typeof k&&"Uint8Array"===k.constructor.name}const R=k=>new DataView(k.buffer,k.byteOffset,k.byteLength),A=(k,l)=>k<<32-l|k>>>l;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const L=Array.from({length:256},(k,l)=>l.toString(16).padStart(2,"0"));function F(k){if(!_(k))throw new Error("Uint8Array expected");let l="";for(let h=0;h<k.length;h++)l+=L[k[h]];return l}const C={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Y(k){return k>=C._0&&k<=C._9?k-C._0:k>=C._A&&k<=C._F?k-(C._A-10):k>=C._a&&k<=C._f?k-(C._a-10):void 0}function j(k){if("string"!=typeof k)throw new Error("hex string expected, got "+typeof k);const l=k.length,h=l/2;if(l%2)throw new Error("padded hex string expected, got unpadded hex of length "+l);const m=new Uint8Array(h);for(let p=0,x=0;p<h;p++,x+=2){const D=Y(k.charCodeAt(x)),B=Y(k.charCodeAt(x+1));if(void 0===D||void 0===B)throw new Error('hex string expected, got non-hex character "'+(k[x]+k[x+1])+'" at index '+x);m[p]=16*D+B}return m}const G=function(){var k=(0,g.A)(function*(){});return function(){return k.apply(this,arguments)}}();function te(k,l,h){return ee.apply(this,arguments)}function ee(){return(ee=(0,g.A)(function*(k,l,h){let m=Date.now();for(let p=0;p<k;p++){h(p);const x=Date.now()-m;x>=0&&x<l||(yield G(),m+=x)}})).apply(this,arguments)}function q(k){if("string"!=typeof k)throw new Error("utf8ToBytes expected string, got "+typeof k);return new Uint8Array((new TextEncoder).encode(k))}function J(k){if("string"==typeof k&&(k=q(k)),!_(k))throw new Error("expected Uint8Array, got "+typeof k);return k}function ne(...k){let l=0;for(let m=0;m<k.length;m++){const p=k[m];if(!_(p))throw new Error("Uint8Array expected");l+=p.length}const h=new Uint8Array(l);for(let m=0,p=0;m<k.length;m++){const x=k[m];h.set(x,p),p+=x.length}return h}class ie{clone(){return this._cloneInto()}}const re={}.toString;function ce(k,l){if(void 0!==l&&"[object Object]"!==re.call(l))throw new Error("Options should be object or undefined");return Object.assign(k,l)}function se(k){const l=m=>k().update(J(m)).digest(),h=k();return l.outputLen=h.outputLen,l.blockLen=h.blockLen,l.create=()=>k(),l}function Me(k=32){if(w.E&&"function"==typeof w.E.getRandomValues)return w.E.getRandomValues(new Uint8Array(k));throw new Error("crypto.getRandomValues must be defined")}},53813:(Ne,V,E)=>{"use strict";function w(me){return me instanceof Uint8Array||null!=me&&"object"==typeof me&&"Uint8Array"===me.constructor.name}function N(me,Ee,fe){if(Ee<2)throw new Error(`convertRadix: wrong from=${Ee}, base cannot be less than 2`);if(fe<2)throw new Error(`convertRadix: wrong to=${fe}, base cannot be less than 2`);if(!Array.isArray(me))throw new Error("convertRadix: data should be array");if(!me.length)return[];let he=0;const ae=[],ue=Array.from(me);for(ue.forEach(ge=>{if(ge<0||ge>=Ee)throw new Error(`Wrong integer: ${ge}`)});;){let ge=0,Ae=!0;for(let Ue=he;Ue<ue.length;Ue++){const Ve=ue[Ue],ze=Ee*ge+Ve;if(!Number.isSafeInteger(ze)||Ee*ge/Ee!==ge||ze-Ve!=Ee*ge)throw new Error("convertRadix: carry overflow");ge=ze%fe;const It=Math.floor(ze/fe);if(ue[Ue]=It,!Number.isSafeInteger(It)||It*fe+ge!==ze)throw new Error("convertRadix: carry overflow");Ae&&(It?Ae=!1:he=Ue)}if(ae.push(ge),Ae)break}for(let ge=0;ge<me.length-1&&0===me[ge];ge++)ae.push(0);return ae.reverse()}E.d(V,{Wp:()=>ee});const L=(me,Ee)=>Ee?L(Ee,me%Ee):me,F=(me,Ee)=>me+(Ee-L(me,Ee));function C(me,Ee,fe,he){if(!Array.isArray(me))throw new Error("convertRadix2: data should be array");if(Ee<=0||Ee>32)throw new Error(`convertRadix2: wrong from=${Ee}`);if(fe<=0||fe>32)throw new Error(`convertRadix2: wrong to=${fe}`);if(F(Ee,fe)>32)throw new Error(`convertRadix2: carry overflow from=${Ee} to=${fe} carryBits=${F(Ee,fe)}`);let ae=0,ue=0;const ge=2**fe-1,Ae=[];for(const Ue of me){if(Ue>=2**Ee)throw new Error(`convertRadix2: invalid data word=${Ue} from=${Ee}`);if(ae=ae<<Ee|Ue,ue+Ee>32)throw new Error(`convertRadix2: carry overflow pos=${ue} from=${Ee}`);for(ue+=Ee;ue>=fe;ue-=fe)Ae.push((ae>>ue-fe&ge)>>>0);ae&=2**ue-1}if(ae=ae<<fe-ue&ge,!he&&ue>=Ee)throw new Error("Excess padding");if(!he&&ae)throw new Error(`Non-zero padding: ${ae}`);return he&&ue>0&&Ae.push(ae>>>0),Ae}const ee={alphabet:function X(me){return{encode:Ee=>{if(!Array.isArray(Ee)||Ee.length&&"number"!=typeof Ee[0])throw new Error("alphabet.encode input should be an array of numbers");return Ee.map(fe=>{if(fe<0||fe>=me.length)throw new Error(`Digit index outside alphabet: ${fe} (alphabet: ${me.length})`);return me[fe]})},decode:Ee=>{if(!Array.isArray(Ee)||Ee.length&&"string"!=typeof Ee[0])throw new Error("alphabet.decode input should be array of strings");return Ee.map(fe=>{if("string"!=typeof fe)throw new Error(`alphabet.decode: not string element=${fe}`);const he=me.indexOf(fe);if(-1===he)throw new Error(`Unknown letter: "${fe}". Allowed: ${me}`);return he})}}},chain:function O(...me){const Ee=ue=>ue,fe=(ue,ge)=>Ae=>ue(ge(Ae));return{encode:me.map(ue=>ue.encode).reduceRight(fe,Ee),decode:me.map(ue=>ue.decode).reduce(fe,Ee)}},checksum:function te(me,Ee){if("function"!=typeof Ee)throw new Error("checksum fn should be function");return{encode(fe){if(!w(fe))throw new Error("checksum.encode: input should be Uint8Array");const he=Ee(fe).slice(0,me),ae=new Uint8Array(fe.length+me);return ae.set(fe),ae.set(he,fe.length),ae},decode(fe){if(!w(fe))throw new Error("checksum.decode: input should be Uint8Array");const he=fe.slice(0,-me),ae=Ee(he).slice(0,me),ue=fe.slice(-me);for(let ge=0;ge<me;ge++)if(ae[ge]!==ue[ge])throw new Error("Invalid checksum");return he}}},convertRadix:N,convertRadix2:C,radix:function Y(me){return{encode:Ee=>{if(!w(Ee))throw new Error("radix.encode input should be Uint8Array");return N(Array.from(Ee),256,me)},decode:Ee=>{if(!Array.isArray(Ee)||Ee.length&&"number"!=typeof Ee[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(N(Ee,me,256))}}},radix2:function j(me,Ee=!1){if(me<=0||me>32)throw new Error("radix2: bits should be in (0..32]");if(F(8,me)>32||F(me,8)>32)throw new Error("radix2: carry overflow");return{encode:fe=>{if(!w(fe))throw new Error("radix2.encode input should be Uint8Array");return C(Array.from(fe),8,me,!Ee)},decode:fe=>{if(!Array.isArray(fe)||fe.length&&"number"!=typeof fe[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(C(fe,me,8,Ee))}}},join:function _(me=""){if("string"!=typeof me)throw new Error("join separator should be string");return{encode:Ee=>{if(!Array.isArray(Ee)||Ee.length&&"string"!=typeof Ee[0])throw new Error("join.encode input should be array of strings");for(let fe of Ee)if("string"!=typeof fe)throw new Error(`join.encode: non-string input=${fe}`);return Ee.join(me)},decode:Ee=>{if("string"!=typeof Ee)throw new Error("join.decode input should be string");return Ee.split(me)}}},padding:function R(me,Ee="="){if("string"!=typeof Ee)throw new Error("padding chr should be string");return{encode(fe){if(!Array.isArray(fe)||fe.length&&"string"!=typeof fe[0])throw new Error("padding.encode input should be array of strings");for(let he of fe)if("string"!=typeof he)throw new Error(`padding.encode: non-string input=${he}`);for(;fe.length*me%8;)fe.push(Ee);return fe},decode(fe){if(!Array.isArray(fe)||fe.length&&"string"!=typeof fe[0])throw new Error("padding.encode input should be array of strings");for(let ae of fe)if("string"!=typeof ae)throw new Error(`padding.decode: non-string input=${ae}`);let he=fe.length;if(he*me%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;he>0&&fe[he-1]===Ee;he--)if(!((he-1)*me%8))throw new Error("Invalid padding: string has too much padding");return fe.slice(0,he)}}}}},63131:(Ne,V,E)=>{"use strict";E.d(V,{uW:()=>yN});var g={};E.r(g),E.d(g,{base10:()=>at});var w={};E.r(w),E.d(w,{base16:()=>Ft,base16upper:()=>Ht});var O={};E.r(O),E.d(O,{base2:()=>ln});var X={};E.r(X),E.d(X,{base256emoji:()=>tc});var _={};E.r(_),E.d(_,{base32:()=>ea,base32hex:()=>mt,base32hexpad:()=>Rt,base32hexpadupper:()=>dn,base32hexupper:()=>tt,base32pad:()=>xd,base32padupper:()=>yt,base32upper:()=>qd,base32z:()=>Ur});var R={};E.r(R),E.d(R,{base36:()=>$i,base36upper:()=>Yi});var A={};E.r(A),E.d(A,{base58btc:()=>Mc,base58flickr:()=>hu});var N={};E.r(N),E.d(N,{base64:()=>Jp,base64pad:()=>Ww,base64url:()=>Zh,base64urlpad:()=>qg});var L={};E.r(L),E.d(L,{base8:()=>tf});var F={};E.r(F),E.d(F,{identity:()=>vl});var C={};E.r(C),E.d(C,{code:()=>Ti,decode:()=>qh,encode:()=>Jh,name:()=>Xw});var Y={};E.r(Y),E.d(Y,{code:()=>Qh,decode:()=>eh,encode:()=>qp,name:()=>Qg});var j={};E.r(j),E.d(j,{identity:()=>mu});var G={};E.r(G),E.d(G,{sha256:()=>rt,sha512:()=>Mt});var te={};E.r(te),E.d(te,{Authorization:()=>g2,AuthorizationDelegatedGrant:()=>LT,AuthorizationOwner:()=>ga,Definitions:()=>j0,EventsFilter:()=>b2,EventsGet:()=>$T,EventsQuery:()=>Dk,EventsSubscribe:()=>zT,GeneralJwk:()=>Ua,GeneralJws:()=>Ik,GenericSignaturePayload:()=>wN,JwkVerificationMethod:()=>uv,MessagesGet:()=>kk,NumberRangeFilter:()=>Pk,PaginationCursor:()=>Qw,PermissionGrantData:()=>fr,PermissionRequestData:()=>WT,PermissionRevocationData:()=>K0,PermissionsDefinitions:()=>GT,PermissionsScopes:()=>Kl,ProtocolDefinition:()=>pv,ProtocolRuleSet:()=>_u,ProtocolsConfigure:()=>gv,ProtocolsQuery:()=>_2,PublicJwk:()=>bN,RecordsDelete:()=>sf,RecordsFilter:()=>vN,RecordsQuery:()=>U0,RecordsRead:()=>x2,RecordsSubscribe:()=>Ak,RecordsWrite:()=>Tk,RecordsWriteDataEncoded:()=>Fl,RecordsWriteSignaturePayload:()=>_N,RecordsWriteUnidentified:()=>F0,StringRangeFilter:()=>EN});var ee={};E.r(ee),E.d(ee,{code:()=>Iv,decode:()=>w8,encode:()=>v_,name:()=>nx});var q={};E.r(q),E.d(q,{code:()=>aI,createLink:()=>oI,createNode:()=>iI,decode:()=>mm,encode:()=>pm,name:()=>HN,prepare:()=>Qc,validate:()=>oy});var J={};E.r(J),E.d(J,{base10:()=>QN});var ne={};E.r(ne),E.d(ne,{base16:()=>wI,base16upper:()=>_I});var ie={};E.r(ie),E.d(ie,{base2:()=>e9});var re={};E.r(re),E.d(re,{base256emoji:()=>Cx});var ce={};E.r(ce),E.d(ce,{base32:()=>dy,base32hex:()=>aP,base32hexpad:()=>cP,base32hexpadupper:()=>dP,base32hexupper:()=>EI,base32pad:()=>$_,base32padupper:()=>sP,base32upper:()=>kx,base32z:()=>xI});var se={};E.r(se),E.d(se,{base36:()=>Px,base36upper:()=>Yv});var pe={};E.r(pe),E.d(pe,{base58btc:()=>zl,base58flickr:()=>Ox});var we={};E.r(we),E.d(we,{base64:()=>lP,base64pad:()=>uP,base64url:()=>Rx,base64urlpad:()=>MI});var Me={};E.r(Me),E.d(Me,{base8:()=>vm});var k={};E.r(k),E.d(k,{identity:()=>SI});var l={};E.r(l),E.d(l,{code:()=>V_,decode:()=>TI,encode:()=>hP,name:()=>t9});var h={};E.r(h),E.d(h,{code:()=>II,decode:()=>CI,encode:()=>Bx,name:()=>DI});var m={};E.r(m),E.d(m,{identity:()=>bP});var p={};E.r(p),E.d(p,{sha256:()=>_P,sha512:()=>EP});var x={};E.r(x),E.d(x,{code:()=>nb,decode:()=>PP,encode:()=>JI,name:()=>kP});var D={};E.r(D),E.d(D,{base10:()=>SC});var B={};E.r(B),E.d(B,{base16:()=>y9,base16upper:()=>Is});var M={};E.r(M),E.d(M,{base2:()=>yO});var d={};E.r(d),E.d(d,{base256emoji:()=>TC});var v={};E.r(v),E.d(v,{base32:()=>xm,base32hex:()=>_O,base32hexpad:()=>IC,base32hexpadupper:()=>vM,base32hexupper:()=>id,base32pad:()=>wO,base32padupper:()=>DC,base32upper:()=>bO,base32z:()=>CC});var W={};E.r(W),E.d(W,{base36:()=>kC,base36upper:()=>EO});var z={};E.r(z),E.d(z,{base58btc:()=>vf,base58flickr:()=>xO});var Q={};E.r(Q),E.d(Q,{base64:()=>MO,base64pad:()=>u1,base64url:()=>bM,base64urlpad:()=>pp});var de={};E.r(de),E.d(de,{base8:()=>f1});var xe={};E.r(xe),E.d(xe,{identity:()=>PC});var Ie={};E.r(Ie),E.d(Ie,{code:()=>wM,decode:()=>mp,encode:()=>OC,name:()=>AO});var Le={};E.r(Le),E.d(Le,{code:()=>g9,decode:()=>RC,encode:()=>h1,name:()=>yb});var ve={};E.r(ve),E.d(ve,{identity:()=>UO});var ye={};E.r(ye),E.d(ye,{sha256:()=>WC,sha512:()=>GC});var ke=E(49970),me=E(14725);const Ee=new TextEncoder,fe=new TextDecoder;class he{static base64UrlToBytes(t){return me.r0.baseDecode(t)}static base64UrlToObject(t){const n=me.r0.baseDecode(t);return he.bytesToObject(n)}static bytesToBase64Url(t){return me.r0.baseEncode(t)}static bytesToString(t){return fe.decode(t)}static bytesToObject(t){const n=he.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return Ee.encode(n)}static stringToBase64Url(t){const n=Ee.encode(t);return me.r0.baseEncode(n)}static stringToBytes(t){return Ee.encode(t)}}var ae=E(10467);const ue=2n**255n-19n,ge=2n**252n+27742317777372353535851937790883648493n,Ae=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Ue=0x6666666666666666666666666666666666666666666666666666666666666658n,Ve={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:ue,n:ge,h:8,Gx:Ae,Gy:Ue},ze=(r="")=>{throw new Error(r)},It=r=>"string"==typeof r,qe=(r,t)=>!(r instanceof Uint8Array)||"number"==typeof t&&t>0&&r.length!==t?ze("Uint8Array expected"):r,je=r=>new Uint8Array(r),ut=(r,t)=>qe(It(r)?Nt(r):je(r),t),$=(r,t=ue)=>{let n=r%t;return n>=0n?n:t+n},T=r=>r instanceof Z?r:ze("Point expected");let S;class Z{constructor(t,n,i,o){this.ex=t,this.ey=n,this.ez=i,this.et=o}static fromAffine(t){return new Z(t.x,t.y,1n,$(t.x*t.y))}static fromHex(t,n=!0){const{d:i}=Ve,o=(t=ut(t,32)).slice();o[31]=-129&t[31];const c=St(o);0n===c||(n&&!(0n<c&&c<ue)&&ze("bad y coord 1"),!n&&!(0n<c&&c<2n**256n)&&ze("bad y coord 2"));const a=$(c*c),u=$(a-1n),U=$(i*a+1n);let{isValid:P,value:b}=Bt(u,U);return P||ze("bad y coordinate 3"),!!(128&t[31])!=(1n===(1n&b))&&(b=$(-b)),new Z(b,c,1n,$(b*c))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(t){const{ex:n,ey:i,ez:o}=this,{ex:c,ey:a,ez:u}=T(t),U=$(n*u),P=$(c*o),b=$(i*u),K=$(a*o);return U===P&&b===K}is0(){return this.equals(De)}negate(){return new Z($(-this.ex),this.ey,this.ez,$(-this.et))}double(){const{ex:t,ey:n,ez:i}=this,{a:o}=Ve,c=$(t*t),a=$(n*n),u=$(2n*$(i*i)),U=$(o*c),P=t+n,b=$($(P*P)-c-a),K=U+a,_e=K-u,Te=U-a,Se=$(b*_e),Re=$(K*Te),Ge=$(b*Te),ct=$(_e*K);return new Z(Se,Re,ct,Ge)}add(t){const{ex:n,ey:i,ez:o,et:c}=this,{ex:a,ey:u,ez:U,et:P}=T(t),{a:b,d:K}=Ve,_e=$(n*a),Te=$(i*u),Se=$(c*K*P),Re=$(o*U),Ge=$((n+i)*(a+u)-_e-Te),ct=$(Re-Se),Xe=$(Re+Se),Je=$(Te-b*_e),lt=$(Ge*ct),Et=$(Xe*Je),wt=$(Ge*Je),Ct=$(ct*Xe);return new Z(lt,Et,Ct,wt)}mul(t,n=!0){if(0n===t)return!0===n?ze("cannot multiply by 0"):De;if("bigint"==typeof t&&0n<t&&t<ge||ze("invalid scalar, must be < L"),!n&&this.is0()||1n===t)return this;if(this.equals(le))return Dn(t).p;let i=De,o=le;for(let c=this;t>0n;c=c.double(),t>>=1n)1n&t?i=i.add(c):n&&(o=o.add(c));return i}multiply(t){return this.mul(t)}clearCofactor(){return this.mul(BigInt(Ve.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let t=this.mul(ge/2n,!1).double();return t=t.add(this),t.is0()}toAffine(){const{ex:t,ey:n,ez:i}=this;if(this.is0())return{x:0n,y:0n};const o=Gt(i);return 1n!==$(i*o)&&ze("invalid inverse"),{x:$(t*o),y:$(n*o)}}toRawBytes(){const{x:t,y:n}=this.toAffine(),i=ft(n);return i[31]|=1n&t?128:0,i}toHex(){return Qe(this.toRawBytes())}}Z.BASE=new Z(Ae,Ue,1n,$(Ae*Ue)),Z.ZERO=new Z(0n,1n,1n,0n);const{BASE:le,ZERO:De}=Z,Oe=(r,t)=>r.toString(16).padStart(t,"0"),Qe=r=>Array.from(r).map(t=>Oe(t,2)).join(""),Nt=r=>{const t=r.length;(!It(r)||t%2)&&ze("hex invalid 1");const n=je(t/2);for(let i=0;i<n.length;i++){const o=2*i,c=r.slice(o,o+2),a=Number.parseInt(c,16);(Number.isNaN(a)||a<0)&&ze("hex invalid 2"),n[i]=a}return n},ft=r=>Nt(Oe(r,64)).reverse(),St=r=>BigInt("0x"+Qe(je(qe(r)).reverse())),Lt=(...r)=>{const t=je(r.reduce((i,o)=>i+qe(o).length,0));let n=0;return r.forEach(i=>{t.set(i,n),n+=i.length}),t},Gt=(r,t=ue)=>{(0n===r||t<=0n)&&ze("no inverse n="+r+" mod="+t);let n=$(r,t),i=t,o=0n,c=1n,a=1n,u=0n;for(;0n!==n;){const U=i/n,P=i%n,b=o-a*U,K=c-u*U;i=n,n=P,o=a,c=u,a=b,u=K}return 1n===i?$(o,t):ze("no inverse")},Vt=(r,t)=>{let n=r;for(;t-- >0n;)n*=n,n%=ue;return n},cn=19681161376707505956807079304988542015446066515923890162744021073123829784752n,Bt=(r,t)=>{const n=$(t*t*t),o=(r=>{const n=r*r%ue*r%ue,i=Vt(n,2n)*n%ue,o=Vt(i,1n)*r%ue,c=Vt(o,5n)*o%ue,a=Vt(c,10n)*c%ue,u=Vt(a,20n)*a%ue,U=Vt(u,40n)*u%ue,P=Vt(U,80n)*U%ue,b=Vt(P,80n)*U%ue,K=Vt(b,10n)*c%ue;return{pow_p_5_8:Vt(K,2n)*r%ue,b2:n}})(r*$(n*n*t)).pow_p_5_8;let c=$(r*n*o);const a=$(t*c*c),u=c,U=$(c*cn),P=a===r,b=a===$(-r),K=a===$(-r*cn);return P&&(c=u),(b||K)&&(c=U),1n===(1n&$(c))&&(c=$(-c)),{isValid:P||b,value:c}},Dt=r=>$(St(r),ge);let nt;const Ye=(...r)=>un.sha512Async(...r),At=(...r)=>"function"==typeof nt?nt(...r):ze("etc.sha512Sync not set"),kt=r=>{const t=r.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=r.slice(32,64),i=Dt(t),o=le.mul(i),c=o.toRawBytes();return{head:t,prefix:n,scalar:i,point:o,pointBytes:c}},$t=r=>Ye(ut(r,32)).then(kt);function ot(r,t){return r?Ye(t.hashable).then(t.finish):t.finish(At(t.hashable))}const ht=function(){var r=(0,ae.A)(function*(t,n){const i=ut(t),o=yield $t(n);return ot(!0,((r,t,n)=>{const{pointBytes:i,scalar:o}=r,c=Dt(t),a=le.mul(c).toRawBytes();return{hashable:Lt(a,i,n),finish:P=>{const b=$(c+Dt(P)*o,ge);return qe(Lt(a,ft(b)),64)}}})(o,yield Ye(o.prefix,i),i))});return function(n,i){return r.apply(this,arguments)}}(),rn=function(){var r=(0,ae.A)(function*(t,n,i){return ot(!0,((r,t,n)=>{t=ut(t),r=ut(r,64);const i=Z.fromHex(n,!1),o=Z.fromHex(r.slice(0,32),!1),c=St(r.slice(32,64)),a=le.mul(c,!1);return{hashable:Lt(o.toRawBytes(),i.toRawBytes(),t),finish:P=>{const b=Dt(P);return o.add(i.mul(b,!1)).add(a.negate()).clearCofactor().is0()}}})(t,n,i))});return function(n,i,o){return r.apply(this,arguments)}}(),pn=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,un={bytesToHex:Qe,hexToBytes:Nt,concatBytes:Lt,mod:$,invert:Gt,randomBytes:r=>{const t=pn();return t||ze("crypto.getRandomValues must be defined"),t.getRandomValues(je(r))},sha512Async:(r=(0,ae.A)(function*(...t){const n=pn();n||ze("crypto.subtle or etc.sha512Async must be defined");const i=Lt(...t);return je(yield n.subtle.digest("SHA-512",i.buffer))}),function(){return r.apply(this,arguments)}),sha512Sync:void 0};var r;Object.defineProperties(un,{sha512Sync:{configurable:!1,get:()=>nt,set(r){nt||(nt=r)}}});const ur_randomPrivateKey=()=>un.randomBytes(32),Dn=r=>{const t=S||(S=(()=>{const r=[];let n=le,i=n;for(let o=0;o<33;o++){i=n,r.push(i);for(let c=1;c<128;c++)i=i.add(n),r.push(i);n=i.double()}return r})()),n=(b,K)=>{let _e=K.negate();return b?_e:K};let i=De,o=le;const u=BigInt(255),P=BigInt(8);for(let b=0;b<33;b++){const K=128*b;let _e=Number(r&u);r>>=P,_e>128&&(_e-=256,r+=1n);const Te=K,Se=K+Math.abs(_e)-1,Ge=_e<0;0===_e?o=o.add(n(b%2!=0,t[Te])):i=i.add(n(Ge,t[Se]))}return{p:i,f:o}};class qt extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var Yt=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.DidMethodNotSupported="DidMethodNotSupported",r.DidNotString="DidNotString",r.DidNotValid="DidNotValid",r.DidResolutionFailed="DidResolutionFailed",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.EventsSubscribeEventStreamUnimplemented="EventsSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessageGetInvalidCid="MessageGetInvalidCid",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeSchemaProhibitedProperties="PermissionsProtocolValidateScopeSchemaProhibitedProperties",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeMissingProtocol="RecordsGrantAuthorizationScopeMissingProtocol",r.RecordsGrantAuthorizationScopeNotRecords="RecordsGrantAuthorizationScopeNotRecords",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",r}(Yt||{}),Xn=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function $n(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new qt(Yt.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function yr(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:he.bytesToBase64Url(r)}}const hr={sign:(r,t)=>Xn(void 0,void 0,void 0,function*(){$n(t);const n=he.base64UrlToBytes(t.d);return ht(r,n)}),verify:(r,t,n)=>Xn(void 0,void 0,void 0,function*(){$n(n);const i=he.base64UrlToBytes(n.x);return rn(t,r,i)}),generateKeyPair:()=>Xn(void 0,void 0,void 0,function*(){const r=ur_randomPrivateKey(),t=yield(r=>$t(r).then(t=>t.pointBytes))(r),n=he.bytesToBase64Url(r),i=yr(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>Xn(void 0,void 0,void 0,function*(){return yr(r)})},vr=2n**256n,sr=vr-0x1000003d1n,pr=vr-0x14551231950b75fc4402da1732fc9bebfn,kr=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Tr=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,jr={p:sr,n:pr,a:0n,b:7n,Gx:kr,Gy:Tr},Ir=32,Ot=r=>tr(tr(r*r)*r+jr.b),Wt=(r="")=>{throw new Error(r)},en=r=>"bigint"==typeof r,Sn=r=>"string"==typeof r,xn=r=>en(r)&&0n<r&&r<sr,Vn=r=>en(r)&&0n<r&&r<pr,Jn=(r,t)=>!(r instanceof Uint8Array)||"number"==typeof t&&t>0&&r.length!==t?Wt("Uint8Array expected"):r,br=r=>new Uint8Array(r),lr=(r,t)=>Jn(Sn(r)?mo(r):br(r),t),tr=(r,t=sr)=>{let n=r%t;return n>=0n?n:t+n},Hi=r=>r instanceof Hr?r:Wt("Point expected");let li;class Hr{constructor(t,n,i){this.px=t,this.py=n,this.pz=i}static fromAffine(t){return new Hr(t.x,t.y,1n)}static fromHex(t){let n;const i=(t=lr(t))[0],o=t.subarray(1),c=ri(o,0,Ir),a=t.length;if(33===a&&[2,3].includes(i)){xn(c)||Wt("Point hex invalid: x not FE");let u=tn(Ot(c));!(1&~i)!=(1n===(1n&u))&&(u=tr(-u)),n=new Hr(c,u,1n)}return 65===a&&4===i&&(n=new Hr(c,ri(o,Ir,2*Ir),1n)),n?n.ok():Wt("Point is not on curve")}static fromPrivateKey(t){return Mi.mul(Rn(t))}get x(){return this.aff().x}get y(){return this.aff().y}equals(t){const{px:n,py:i,pz:o}=this,{px:c,py:a,pz:u}=Hi(t),U=tr(n*u),P=tr(c*o),b=tr(i*u),K=tr(a*o);return U===P&&b===K}negate(){return new Hr(this.px,tr(-this.py),this.pz)}double(){return this.add(this)}add(t){const{px:n,py:i,pz:o}=this,{px:c,py:a,pz:u}=Hi(t),{a:U,b:P}=jr;let b=0n,K=0n,_e=0n;const Te=tr(3n*P);let Se=tr(n*c),Re=tr(i*a),Ge=tr(o*u),ct=tr(n+i),Xe=tr(c+a);ct=tr(ct*Xe),Xe=tr(Se+Re),ct=tr(ct-Xe),Xe=tr(n+o);let Je=tr(c+u);return Xe=tr(Xe*Je),Je=tr(Se+Ge),Xe=tr(Xe-Je),Je=tr(i+o),b=tr(a+u),Je=tr(Je*b),b=tr(Re+Ge),Je=tr(Je-b),_e=tr(U*Xe),b=tr(Te*Ge),_e=tr(b+_e),b=tr(Re-_e),_e=tr(Re+_e),K=tr(b*_e),Re=tr(Se+Se),Re=tr(Re+Se),Ge=tr(U*Ge),Xe=tr(Te*Xe),Re=tr(Re+Ge),Ge=tr(Se-Ge),Ge=tr(U*Ge),Xe=tr(Xe+Ge),Se=tr(Re*Xe),K=tr(K+Se),Se=tr(Je*Xe),b=tr(ct*b),b=tr(b-Se),Se=tr(ct*Re),_e=tr(Je*_e),_e=tr(_e+Se),new Hr(b,K,_e)}mul(t,n=!0){if(!n&&0n===t)return Xi;if(Vn(t)||Wt("invalid scalar"),this.equals(Mi))return Rl(t).p;let i=Xi,o=Mi;for(let c=this;t>0n;c=c.double(),t>>=1n)1n&t?i=i.add(c):n&&(o=o.add(c));return i}mulAddQUns(t,n,i){return this.mul(n,!1).add(t.mul(i,!1)).ok()}toAffine(){const{px:t,py:n,pz:i}=this;if(this.equals(Xi))return{x:0n,y:0n};if(1n===i)return{x:t,y:n};const o=Ms(i);return 1n!==tr(i*o)&&Wt("invalid inverse"),{x:tr(t*o),y:tr(n*o)}}assertValidity(){const{x:t,y:n}=this.aff();return(!xn(t)||!xn(n))&&Wt("Point invalid: x or y"),tr(n*n)===Ot(t)?this:Wt("Point invalid: not on curve")}multiply(t){return this.mul(t)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(t=!0){const{x:n,y:i}=this.aff();return(t?0n===(1n&i)?"02":"03":"04")+fa(n)+(t?"":fa(i))}toRawBytes(t=!0){return mo(this.toHex(t))}}Hr.BASE=new Hr(kr,Tr,1n),Hr.ZERO=new Hr(0n,1n,0n);const{BASE:Mi,ZERO:Xi}=Hr,si=(r,t)=>r.toString(16).padStart(t,"0"),Li=r=>Array.from(r).map(t=>si(t,2)).join(""),mo=r=>{const t=r.length;(!Sn(r)||t%2)&&Wt("hex invalid 1");const n=br(t/2);for(let i=0;i<n.length;i++){const o=2*i,c=r.slice(o,o+2),a=Number.parseInt(c,16);(Number.isNaN(a)||a<0)&&Wt("hex invalid 2"),n[i]=a}return n},xs=r=>BigInt("0x"+(Li(r)||"0")),ri=(r,t,n)=>xs(r.slice(t,n)),xo=r=>en(r)&&r>=0n&&r<vr?mo(si(r,2*Ir)):Wt("bigint expected"),fa=r=>Li(xo(r)),Ns=(...r)=>{const t=br(r.reduce((i,o)=>i+Jn(o).length,0));let n=0;return r.forEach(i=>{t.set(i,n),n+=i.length}),t},Ms=(r,t=sr)=>{(0n===r||t<=0n)&&Wt("no inverse n="+r+" mod="+t);let n=tr(r,t),i=t,o=0n,c=1n,a=1n,u=0n;for(;0n!==n;){const U=i/n,P=i%n,b=o-a*U,K=c-u*U;i=n,n=P,o=a,c=u,a=b,u=K}return 1n===i?tr(o,t):Wt("no inverse")},tn=r=>{let t=1n;for(let n=r,i=(sr+1n)/4n;i>0n;i>>=1n)1n&i&&(t=t*n%sr),n=n*n%sr;return tr(t*t)===r?t:Wt("sqrt invalid")},Rn=r=>(en(r)||(r=xs(lr(r,Ir))),Vn(r)?r:Wt("private key out of range")),Ut=r=>r>pr>>1n;function mn(r,t=!0){return Hr.fromPrivateKey(r).toRawBytes(t)}class bn{constructor(t,n,i){this.r=t,this.s=n,this.recovery=i,this.assertValidity()}static fromCompact(t){return t=lr(t,64),new bn(ri(t,0,Ir),ri(t,Ir,2*Ir))}assertValidity(){return Vn(this.r)&&Vn(this.s)?this:Wt()}addRecoveryBit(t){return new bn(this.r,this.s,t)}hasHighS(){return Ut(this.s)}recoverPublicKey(t){const{r:n,s:i,recovery:o}=this;[0,1,2,3].includes(o)||Wt("recovery id invalid");const c=Rr(lr(t,32)),a=2===o||3===o?n+pr:n;a>=sr&&Wt("q.x invalid");const U=Hr.fromHex((1&o?"03":"02")+fa(a)),P=Ms(a,pr),b=tr(-c*P,pr),K=tr(i*P,pr);return Mi.mulAddQUns(U,b,K)}toCompactRawBytes(){return mo(this.toCompactHex())}toCompactHex(){return fa(this.r)+fa(this.s)}}const Kr=r=>{const t=8*r.length-256,n=xs(r);return t>0?n>>BigInt(t):n},Rr=r=>tr(Kr(r),pr),ys=r=>xo(r),Vs=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let ns;const Fi={lowS:!0},Xd={lowS:!0};function Qa(){return Qa=(0,ae.A)(function*(r,t,n=Fi){const{seed:i,k2sig:o}=function gd(r,t,n=Fi){["der","recovered","canonical"].some(K=>K in n)&&Wt("sign() legacy options not supported");let{lowS:i}=n;null==i&&(i=!0);const o=Rr(lr(r)),c=ys(o),a=Rn(t),u=[ys(a),c];let U=n.extraEntropy;if(U){!0===U&&(U=Gc.randomBytes(Ir));const K=lr(U);K.length!==Ir&&Wt(),u.push(K)}const P=o;return{seed:Ns(...u),k2sig:K=>{const _e=Kr(K);if(!Vn(_e))return;const Te=Ms(_e,pr),Se=Mi.mul(_e).aff(),Re=tr(Se.x,pr);if(0n===Re)return;const Ge=tr(Te*tr(P+tr(a*Re,pr),pr),pr);if(0n===Ge)return;let ct=Ge,Xe=(Se.x===Re?0:2)|Number(1n&Se.y);return i&&Ut(Ge)&&(ct=tr(-Ge,pr),Xe^=1),new bn(Re,ct,Xe)}}}(r,t,n);return function Qs(r){let t=br(Ir),n=br(Ir),i=0;const o=()=>{t.fill(1),n.fill(0),i=0},c="drbg: tried 1000 values";if(r){const a=(...P)=>Gc.hmacSha256Async(n,t,...P),u=function(){var P=(0,ae.A)(function*(b=br()){n=yield a(br([0]),b),t=yield a(),0!==b.length&&(n=yield a(br([1]),b),t=yield a())});return function(){return P.apply(this,arguments)}}(),U=function(){var P=(0,ae.A)(function*(){return i++>=1e3&&Wt(c),t=yield a(),t});return function(){return P.apply(this,arguments)}}();return function(){var P=(0,ae.A)(function*(b,K){let _e;for(o(),yield u(b);!(_e=K(yield U()));)yield u();return o(),_e});return function(b,K){return P.apply(this,arguments)}}()}{const a=(...P)=>{const b=ns;return b||Wt("etc.hmacSha256Sync not set"),b(n,t,...P)},u=(P=br())=>{n=a(br([0]),P),t=a(),0!==P.length&&(n=a(br([1]),P),t=a())},U=()=>(i++>=1e3&&Wt(c),t=a(),t);return(P,b)=>{let K;for(o(),u(P);!(K=b(U()));)u();return o(),K}}}(!0)(i,o)}),Qa.apply(this,arguments)}function vd(r){((r=lr(r)).length<Ir+8||r.length>1024)&&Wt("expected proper params");const n=tr(xs(r),pr-1n)+1n;return xo(n)}const Gc={hexToBytes:mo,bytesToHex:Li,concatBytes:Ns,bytesToNumberBE:xs,numberToBytesBE:xo,mod:tr,invert:Ms,hmacSha256Async:function(){var r=(0,ae.A)(function*(t,...n){const i=Vs();if(!i)return Wt("etc.hmacSha256Async not set");const o=i.subtle,c=yield o.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return br(yield o.sign("HMAC",c,Ns(...n)))});return function(n){return r.apply(this,arguments)}}(),hmacSha256Sync:ns,hashToPrivateKey:vd,randomBytes:r=>{const t=Vs();return t||Wt("crypto.getRandomValues must be defined"),t.getRandomValues(br(r))}},ha_randomPrivateKey=()=>vd(Gc.randomBytes(Ir+8));Object.defineProperties(Gc,{hmacSha256Sync:{configurable:!1,get:()=>ns,set(r){ns||(ns=r)}}});const Rl=r=>{const t=li||(li=(()=>{const r=[];let n=Mi,i=n;for(let o=0;o<33;o++){i=n,r.push(i);for(let c=1;c<128;c++)i=i.add(n),r.push(i);n=i.double()}return r})()),n=(b,K)=>{let _e=K.negate();return b?_e:K};let i=Xi,o=Mi;const u=BigInt(255),P=BigInt(8);for(let b=0;b<33;b++){const K=128*b;let _e=Number(r&u);r>>=P,_e>128&&(_e-=256,r+=1n);const Te=K,Se=K+Math.abs(_e)-1,Ge=_e<0;0===_e?o=o.add(n(b%2!=0,t[Te])):i=i.add(n(Ge,t[Se]))}return{p:i,f:o}};var Ju=E(92059);const Ec=r=>function(){var t=(0,ae.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Ta=(0,Ju.H)({name:"sha2-256",code:18,encode:Ec("SHA-256")});(0,Ju.H)({name:"sha2-512",code:19,encode:Ec("SHA-512")});var mr=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Qi{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new qt(Yt.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return mr(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Hr.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:he.bytesToBase64Url(n.subarray(1,33)),y:he.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return mr(this,void 0,void 0,function*(){const n=yield Qi.getPublicKey(t),i=yield Qi.publicKeyToJwk(n);return i.d=he.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=he.base64UrlToBytes(t.x),i=he.base64UrlToBytes(t.y);return Hr.fromAffine({x:Gc.bytesToNumberBE(n),y:Gc.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return he.base64UrlToBytes(t.d)}static sign(t,n){return mr(this,void 0,void 0,function*(){Qi.validateKey(n);const i=yield Ta.encode(t),o=Qi.privateJwkToBytes(n);return(yield function fu(r,t){return Qa.apply(this,arguments)}(i,o)).toCompactRawBytes()})}static verify(t,n,i){return mr(this,void 0,void 0,function*(){Qi.validateKey(i);const o=Qi.publicJwkToBytes(i),c=yield Ta.encode(t);return function Yd(r,t,n,i=Xd){let c,a,u,{lowS:o}=i;null==o&&(o=!0),"strict"in i&&Wt("verify() legacy options not supported");const U=r&&"object"==typeof r&&"r"in r;!U&&lr(r).length!==2*Ir&&Wt("signature must be 64 bytes");try{c=U?new bn(r.r,r.s).assertValidity():bn.fromCompact(r),a=Rr(lr(t,Ir)),u=n instanceof Hr?n.ok():Hr.fromHex(n)}catch{return!1}if(!c)return!1;const{r:P,s:b}=c;if(o&&Ut(b))return!1;let K;try{const Te=Ms(b,pr),Se=tr(a*Te,pr),Re=tr(P*Te,pr);K=Mi.mulAddQUns(u,Se,Re).aff()}catch{return!1}return!!K&&tr(K.x,pr)===P}(n,c,o)})}static generateKeyPair(){return mr(this,void 0,void 0,function*(){const t=ha_randomPrivateKey(),n=mn(t,!1),i=he.bytesToBase64Url(t),o=yield Qi.publicKeyToJwk(n);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:i})}})}static generateKeyPairRaw(){return mr(this,void 0,void 0,function*(){const t=ha_randomPrivateKey();return{publicKey:mn(t,!0),privateKey:t}})}static getPublicKey(t){return mr(this,void 0,void 0,function*(){return mn(t,!0)})}static getPublicJwk(t){return mr(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"])})}}var Nr=E(40499);function Jf(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const xc=function Jd(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),a=c.charCodeAt(0);if(255!==n[a])throw new TypeError(c+" is ambiguous");n[a]=o}var u=r.length,U=r.charAt(0),P=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function _e(Se){if("string"!=typeof Se)throw new TypeError("Expected String");if(0===Se.length)return new Uint8Array;var Re=0;if(" "!==Se[Re]){for(var Ge=0,ct=0;Se[Re]===U;)Ge++,Re++;for(var Xe=(Se.length-Re)*P+1>>>0,Je=new Uint8Array(Xe);Se[Re];){var lt=n[Se.charCodeAt(Re)];if(255===lt)return;for(var Et=0,wt=Xe-1;(0!==lt||Et<ct)&&-1!==wt;wt--,Et++)Je[wt]=(lt+=u*Je[wt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");ct=Et,Re++}if(" "!==Se[Re]){for(var Ct=Xe-ct;Ct!==Xe&&0===Je[Ct];)Ct++;for(var xt=new Uint8Array(Ge+(Xe-Ct)),Zt=Ge;Ct!==Xe;)xt[Zt++]=Je[Ct++];return xt}}}return{encode:function K(Se){if(Se instanceof Uint8Array||(ArrayBuffer.isView(Se)?Se=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength):Array.isArray(Se)&&(Se=Uint8Array.from(Se))),!(Se instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Se.length)return"";for(var Re=0,Ge=0,ct=0,Xe=Se.length;ct!==Xe&&0===Se[ct];)ct++,Re++;for(var Je=(Xe-ct)*b+1>>>0,lt=new Uint8Array(Je);ct!==Xe;){for(var Et=Se[ct],wt=0,Ct=Je-1;(0!==Et||wt<Ge)&&-1!==Ct;Ct--,wt++)lt[Ct]=(Et+=256*lt[Ct]>>>0)%u>>>0,Et=Et/u>>>0;if(0!==Et)throw new Error("Non-zero carry");Ge=wt,ct++}for(var xt=Je-Ge;xt!==Je&&0===lt[xt];)xt++;for(var Zt=U.repeat(Re);xt<Je;++xt)Zt+=r.charAt(lt[xt]);return Zt},decodeUnsafe:_e,decode:function Te(Se){var Re=_e(Se);if(Re)return Re;throw new Error(`Non-${t} character`)}}},pa=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class Qf{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class so{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return vs(this,t)}}class Qu{constructor(t){this.decoders=t}or(t){return vs(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vs=(r,t)=>new Qu({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Bl{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new Qf(t,n,i),this.decoder=new so(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ef=({name:r,prefix:t,encode:n,decode:i})=>new Bl(r,t,n,i),Ed=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=xc(n,t);return ef({prefix:r,name:t,encode:i,decode:c=>pa(o(c))})},st=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>ef({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a})(o,i,n,r)}),at=Ed({prefix:"9",name:"base10",alphabet:"0123456789"}),Ft=st({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ht=st({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ln=st({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),On=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),or=On.reduce((r,t,n)=>(r[n]=t,r),[]),nr=On.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),tc=ef({prefix:"\u{1f680}",name:"base256emoji",encode:function An(r){return r.reduce((t,n)=>t+or[n],"")},decode:function jn(r){const t=[];for(const n of r){const i=nr[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),ea=st({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qd=st({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xd=st({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yt=st({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mt=st({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tt=st({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rt=st({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dn=st({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ur=st({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$i=Ed({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yi=Ed({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Mc=Ed({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hu=Ed({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Jp=st({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ww=st({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zh=st({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qg=st({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),tf=st({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vl=ef({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),Xc=new TextEncoder,Gw=new TextDecoder,Xw="json",Ti=512,Jh=r=>Xc.encode(JSON.stringify(r)),qh=r=>JSON.parse(Gw.decode(r)),Qg="raw",Qh=85,qp=r=>pa(r),eh=r=>pa(r);var tv=128,th=-128,nh=Math.pow(2,31),D0=128,I0=127,ep=Math.pow(2,7),rv=Math.pow(2,14),Di=Math.pow(2,21),uo=Math.pow(2,28),l2=Math.pow(2,35),iv=Math.pow(2,42),C0=Math.pow(2,49),u2=Math.pow(2,56),ov=Math.pow(2,63),Zi={encode:function rh(r,t,n){t=t||[];for(var i=n=n||0;r>=nh;)t[n++]=255&r|tv,r/=128;for(;r&th;)t[n++]=255&r|tv,r>>>=7;return t[n]=0|r,rh.bytes=n-i+1,t},decode:function Qd(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw Qd.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&I0)<<o:(a&I0)*Math.pow(2,o),o+=7}while(a>=D0);return Qd.bytes=c-i,n},encodingLength:function(r){return r<ep?1:r<rv?2:r<Di?3:r<uo?4:r<l2?5:r<iv?6:r<C0?7:r<u2?8:r<ov?9:10}};const np=Zi,ih=(r,t,n=0)=>(np.encode(r,t,n),t),P0=r=>np.encodingLength(r),pu=(r,t)=>{const n=t.byteLength,i=P0(r),o=i+P0(n),c=new Uint8Array(o+n);return ih(r,c,0),ih(n,c,i),c.set(t,o),new el(r,n,t,c)};class el{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const sv=pa,mu={code:0,name:"identity",encode:sv,digest:r=>pu(0,sv(r))},av=({name:r,code:t,encode:n})=>new $e(r,t,n);class $e{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?pu(this.code,n):n.then(i=>pu(this.code,i))}throw Error("Unknown type, must be binary type")}}const Tt=r=>function(){var t=(0,ae.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),rt=av({name:"sha2-256",code:18,encode:Tt("SHA-256")}),Mt=av({name:"sha2-512",code:19,encode:Tt("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const ya={...F,...O,...L,...g,...w,..._,...R,...A,...N,...X};function yu(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const tm=yu("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Yw=yu("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function tl(r=0){return null!=globalThis.Buffer?.allocUnsafe?Jf(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),f2={utf8:tm,"utf-8":tm,hex:ya.base16,latin1:Yw,ascii:Yw,binary:Yw,...ya};function nc(r,t="utf8"){const n=f2[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):Jf(globalThis.Buffer.from(r,"utf-8"))}var gu=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const h2_toString=function O0(r,t="utf8"){const n=f2[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")};class Hs{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new qt(Yt.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return gu(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Nr.s9.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:he.bytesToBase64Url(n.subarray(1,33)),y:he.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return he.base64UrlToBytes(t.d)}static sign(t,n){return gu(this,void 0,void 0,function*(){Hs.validateKey(n);const i=yield Ta.encode(t),o=Hs.privateJwkToBytes(n);return Promise.resolve(Nr.s9.sign(i,o).toCompactRawBytes())})}static verify(t,n,i){return gu(this,void 0,void 0,function*(){let o;Hs.validateKey(i),o=64===n.length?Nr.s9.Signature.fromCompact(n):Nr.s9.Signature.fromDER(n);const c=yield Ta.encode(t),a=Nr.s9.ProjectivePoint.fromAffine({x:Hs.bytesToBigInt(he.base64UrlToBytes(i.x)),y:Hs.bytesToBigInt(he.base64UrlToBytes(i.y))}).toRawBytes(!1);return Nr.s9.verify(o,c,a)})}static generateKeyPair(){return gu(this,void 0,void 0,function*(){const t=Nr.s9.utils.randomPrivateKey(),n=Nr.Ag.getPublicKey(t,!1),i=he.bytesToBase64Url(t),o=yield Hs.publicKeyToJwk(n);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+h2_toString(t,"base16"))}}const Ad={Ed25519:hr,secp256k1:{sign:Qi.sign,verify:Qi.verify,generateKeyPair:Qi.generateKeyPair,publicKeyToJwk:Qi.publicKeyToJwk},"P-256":{sign:Hs.sign,verify:Hs.verify,generateKeyPair:Hs.generateKeyPair,publicKeyToJwk:Hs.publicKeyToJwk}};class Nl{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new qt(Yt.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new qt(Yt.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=Ad[t.privateJwk.crv],!this.signatureAlgorithm)throw new qt(Yt.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(Ad)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class Ko{static getKid(t){const{kid:n}=he.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=Ko.getKid(t);return Ko.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o=Ad[i.crv];if(!o)throw new qt(Yt.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Ad)}`);const c=he.stringToBytes(`${n.protected}.${t}`),a=he.base64UrlToBytes(n.signature);return yield o.verify(c,a,i)})}static decodePlainObjectPayload(t){let n;try{n=he.base64UrlToObject(t.payload)}catch{throw new qt(Yt.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!ke(n))throw new qt(Yt.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>Ko.createSigner(i))}static createSigner(t){return new Nl({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var ah=E(40573);const Ul="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,vu=new Set,Ll="object"==typeof ah&&ah?ah:{},m2=(r,t,n,i)=>{"function"==typeof Ll.emitWarning?Ll.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let ch=globalThis.AbortController,R0=globalThis.AbortSignal;if(typeof ch>"u"){R0=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,o){this._onabort.push(o)}},ch=class{constructor(){t()}signal=new R0;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const o of this.signal._onabort)o(i);this.signal.onabort?.(i)}}};let r="1"!==Ll.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,m2("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const nf=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),dv=r=>nf(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?B0:null:null;class B0 extends Array{constructor(t){super(t),this.fill(0)}}class dh{heap;length;static#e=!1;static create(t){const n=dv(t);if(!n)return[];dh.#e=!0;const i=new dh(t,n);return dh.#e=!1,i}constructor(t,n){if(!dh.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class N0{#e;#t;#n;#f;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#l;#c;#g;#d;#E;#x;#v;#b;#S;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#l},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,o,c)=>t.#P(n,i,o,c),moveToTail:n=>t.#I(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#A}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:o=1,ttlAutopurge:c,updateAgeOnGet:a,updateAgeOnHas:u,allowStale:U,dispose:P,disposeAfter:b,noDisposeOnSet:K,noUpdateTTL:_e,maxSize:Te=0,maxEntrySize:Se=0,sizeCalculation:Re,fetchMethod:Ge,noDeleteOnFetchRejection:ct,noDeleteOnStaleGet:Xe,allowStaleOnFetchRejection:Je,allowStaleOnFetchAbort:lt,ignoreFetchAbort:Et}=t;if(0!==n&&!nf(n))throw new TypeError("max option must be a nonnegative integer");const wt=n?dv(n):Array;if(!wt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Te,this.maxEntrySize=Se||this.#t,this.sizeCalculation=Re,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==Ge&&"function"!=typeof Ge)throw new TypeError("fetchMethod must be a function if specified");if(this.#A=Ge,this.#S=!!Ge,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new wt(n),this.#p=new wt(n),this.#l=0,this.#c=0,this.#g=dh.create(n),this.#s=0,this.#y=0,"function"==typeof P&&(this.#n=P),"function"==typeof b?(this.#f=b,this.#d=[]):(this.#f=void 0,this.#d=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!K,this.noUpdateTTL=!!_e,this.noDeleteOnFetchRejection=!!ct,this.allowStaleOnFetchRejection=!!Je,this.allowStaleOnFetchAbort=!!lt,this.ignoreFetchAbort=!!Et,0!==this.maxEntrySize){if(0!==this.#t&&!nf(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!nf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!Xe,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!u,this.ttlResolution=nf(o)||0===o?o:1,this.ttlAutopurge=!!c,this.ttl=i||0,this.ttl){if(!nf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const Ct="LRU_CACHE_UNBOUNDED";(r=>!vu.has(r))(Ct)&&(vu.add(Ct),m2("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Ct,N0))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#O(){const t=new B0(this.#e),n=new B0(this.#e);this.#v=t,this.#x=n,this.#R=(c,a,u=Ul.now())=>{if(n[c]=0!==a?u:0,t[c]=a,0!==a&&this.ttlAutopurge){const U=setTimeout(()=>{this.#m(c)&&this.delete(this.#o[c])},a+1);U.unref&&U.unref()}},this.#T=c=>{n[c]=0!==t[c]?Ul.now():0},this.#M=(c,a)=>{if(t[a]){const u=t[a],U=n[a];c.ttl=u,c.start=U,c.now=i||o(),c.remainingTTL=u-(c.now-U)}};let i=0;const o=()=>{const c=Ul.now();if(this.ttlResolution>0){i=c;const a=setTimeout(()=>i=0,this.ttlResolution);a.unref&&a.unref()}return c};this.getRemainingTTL=c=>{const a=this.#a.get(c);if(void 0===a)return 0;const u=t[a],U=n[a];return 0===u||0===U?1/0:u-((i||o())-U)},this.#m=c=>0!==t[c]&&0!==n[c]&&(i||o())-n[c]>t[c]}#T=()=>{};#M=()=>{};#R=()=>{};#m=()=>!1;#L(){const t=new B0(this.#e);this.#y=0,this.#E=t,this.#D=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,o,c)=>{if(this.#i(i))return 0;if(!nf(o)){if(!c)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof c)throw new TypeError("sizeCalculation must be a function");if(o=c(i,n),!nf(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return o},this.#C=(n,i,o)=>{if(t[n]=i,this.#t){const c=this.#t-t[n];for(;this.#y>c;)this.#k(!0)}this.#y+=t[n],o&&(o.entrySize=i,o.totalCalculatedSize=this.#y)}}#D=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,o)=>{if(i||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#l);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#l;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const o=this.#r[i],c=this.#i(o)?o.__staleWhileFetching:o;if(void 0!==c&&t(c,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const o=this.#r[i],c=this.#i(o)?o.__staleWhileFetching:o;void 0!==c&&t.call(n,c,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const o=this.#r[i],c=this.#i(o)?o.__staleWhileFetching:o;void 0!==c&&t.call(n,c,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],o=this.#r[n],c=this.#i(o)?o.__staleWhileFetching:o;if(void 0===c||void 0===i)continue;const a={value:c};if(this.#v&&this.#x){a.ttl=this.#v[n];const u=Ul.now()-this.#x[n];a.start=Math.floor(Date.now()-u)}this.#E&&(a.size=this.#E[n]),t.unshift([i,a])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const o=Date.now()-i.start;i.start=Ul.now()-o}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:o=this.ttl,start:c,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:U}=i;let{noUpdateTTL:P=this.noUpdateTTL}=i;const b=this.#B(t,n,i.size||0,u);if(this.maxEntrySize&&b>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),this.delete(t),this;let K=0===this.#s?void 0:this.#a.get(t);if(void 0===K)K=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[K]=t,this.#r[K]=n,this.#a.set(t,K),this.#u[this.#c]=K,this.#p[K]=this.#c,this.#c=K,this.#s++,this.#C(K,b,U),U&&(U.set="add"),P=!1;else{this.#I(K);const _e=this.#r[K];if(n!==_e){if(this.#S&&this.#i(_e)?_e.__abortController.abort(new Error("replaced")):a||(this.#b&&this.#n?.(_e,t,"set"),this.#h&&this.#d?.push([_e,t,"set"])),this.#D(K),this.#C(K,b,U),this.#r[K]=n,U){U.set="replace";const Te=_e&&this.#i(_e)?_e.__staleWhileFetching:_e;void 0!==Te&&(U.oldValue=Te)}}else U&&(U.set="update")}if(0!==o&&!this.#v&&this.#O(),this.#v&&(P||this.#R(K,o,c),U&&this.#M(U,K)),!a&&this.#h&&this.#d){const _e=this.#d;let Te;for(;Te=_e?.shift();)this.#f?.(...Te)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#l];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#l,i=this.#o[n],o=this.#r[n];return this.#S&&this.#i(o)?o.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(o,i,"evict"),this.#h&&this.#d?.push([o,i,"evict"])),this.#D(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#l=this.#c=0,this.#g.length=0):this.#l=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:o}=n,c=this.#a.get(t);if(void 0!==c){const a=this.#r[c];if(this.#i(a)&&void 0===a.__staleWhileFetching)return!1;if(!this.#m(c))return i&&this.#T(c),o&&(o.has="hit",this.#M(o,c)),!0;o&&(o.has="stale",this.#M(o,c))}else o&&(o.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,o=this.#a.get(t);if(void 0!==o&&(i||!this.#m(o))){const c=this.#r[o];return this.#i(c)?c.__staleWhileFetching:c}}#P(t,n,i,o){const c=void 0===n?void 0:this.#r[n];if(this.#i(c))return c;const a=new ch,{signal:u}=i;u?.addEventListener("abort",()=>a.abort(u.reason),{signal:a.signal});const U={signal:a.signal,options:i,context:o},P=(Re,Ge=!1)=>{const{aborted:ct}=a.signal,Xe=i.ignoreFetchAbort&&void 0!==Re;return i.status&&(ct&&!Ge?(i.status.fetchAborted=!0,i.status.fetchError=a.signal.reason,Xe&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!ct||Xe||Ge?(this.#r[n]===Te&&(void 0===Re?Te.__staleWhileFetching?this.#r[n]=Te.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,Re,U.options))),Re):K(a.signal.reason)},K=Re=>{const{aborted:Ge}=a.signal,ct=Ge&&i.allowStaleOnFetchAbort,Xe=ct||i.allowStaleOnFetchRejection,lt=Te;if(this.#r[n]===Te&&((Xe||i.noDeleteOnFetchRejection)&&void 0!==lt.__staleWhileFetching?ct||(this.#r[n]=lt.__staleWhileFetching):this.delete(t)),Xe)return i.status&&void 0!==lt.__staleWhileFetching&&(i.status.returnedStale=!0),lt.__staleWhileFetching;if(lt.__returned===lt)throw Re};i.status&&(i.status.fetchDispatched=!0);const Te=new Promise((Re,Ge)=>{const ct=this.#A?.(t,c,U);ct&&ct instanceof Promise&&ct.then(Xe=>Re(Xe),Ge),a.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(Re(),i.allowStaleOnFetchAbort&&(Re=Xe=>P(Xe,!0)))})}).then(P,Re=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=Re),K(Re))),Se=Object.assign(Te,{__abortController:a,__staleWhileFetching:c,__returned:void 0});return void 0===n?(this.set(t,Se,{...U.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Se,Se}#i(t){if(!this.#S)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof ch}fetch(t,n={}){var i=this;return(0,ae.A)(function*(){const{allowStale:o=i.allowStale,updateAgeOnGet:c=i.updateAgeOnGet,noDeleteOnStaleGet:a=i.noDeleteOnStaleGet,ttl:u=i.ttl,noDisposeOnSet:U=i.noDisposeOnSet,size:P=0,sizeCalculation:b=i.sizeCalculation,noUpdateTTL:K=i.noUpdateTTL,noDeleteOnFetchRejection:_e=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Te=i.allowStaleOnFetchRejection,ignoreFetchAbort:Se=i.ignoreFetchAbort,allowStaleOnFetchAbort:Re=i.allowStaleOnFetchAbort,context:Ge,forceRefresh:ct=!1,status:Xe,signal:Je}=n;if(!i.#S)return Xe&&(Xe.fetch="get"),i.get(t,{allowStale:o,updateAgeOnGet:c,noDeleteOnStaleGet:a,status:Xe});const lt={allowStale:o,updateAgeOnGet:c,noDeleteOnStaleGet:a,ttl:u,noDisposeOnSet:U,size:P,sizeCalculation:b,noUpdateTTL:K,noDeleteOnFetchRejection:_e,allowStaleOnFetchRejection:Te,allowStaleOnFetchAbort:Re,ignoreFetchAbort:Se,status:Xe,signal:Je};let Et=i.#a.get(t);if(void 0===Et){Xe&&(Xe.fetch="miss");const wt=i.#P(t,Et,lt,Ge);return wt.__returned=wt}{const wt=i.#r[Et];if(i.#i(wt)){const _n=o&&void 0!==wt.__staleWhileFetching;return Xe&&(Xe.fetch="inflight",_n&&(Xe.returnedStale=!0)),_n?wt.__staleWhileFetching:wt.__returned=wt}const Ct=i.#m(Et);if(!ct&&!Ct)return Xe&&(Xe.fetch="hit"),i.#I(Et),c&&i.#T(Et),Xe&&i.#M(Xe,Et),wt;const xt=i.#P(t,Et,lt,Ge),hn=void 0!==xt.__staleWhileFetching&&o;return Xe&&(Xe.fetch=Ct?"stale":"refresh",hn&&Ct&&(Xe.returnedStale=!0)),hn?xt.__staleWhileFetching:xt.__returned=xt}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:c=this.noDeleteOnStaleGet,status:a}=n,u=this.#a.get(t);if(void 0!==u){const U=this.#r[u],P=this.#i(U);return a&&this.#M(a,u),this.#m(u)?(a&&(a.get="stale"),P?(a&&i&&void 0!==U.__staleWhileFetching&&(a.returnedStale=!0),i?U.__staleWhileFetching:void 0):(c||this.delete(t),a&&i&&(a.returnedStale=!0),i?U:void 0)):(a&&(a.get="hit"),P?U.__staleWhileFetching:(this.#I(u),o&&this.#T(u),U))}a&&(a.get="miss")}#U(t,n){this.#p[n]=t,this.#u[t]=n}#I(t){t!==this.#c&&(t===this.#l?this.#l=this.#u[t]:this.#U(this.#p[t],this.#u[t]),this.#U(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#D(i);const o=this.#r[i];this.#i(o)?o.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(o,t,"delete"),this.#h&&this.#d?.push([o,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#l?this.#l=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#d?.length){const i=this.#d;let o;for(;o=i?.shift();)this.#f?.(...o)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#d?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#l=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var Zw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class wl{constructor(t){this.timeToLiveInSeconds=t,this.cache=new N0({max:1e5,ttl:1e3*t})}set(t,n){return Zw(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return Zw(this,void 0,void 0,function*(){return this.cache.get(t)})}}const g2=cs,lh=new RegExp("^[A-Za-z0-9_-]+$","u");function So(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=So.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return So.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const _e=0;for(const Te in r)if("payload"!==Te&&"signatures"!==Te)return So.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(0===_e){if(void 0!==r.payload){let Te=r.payload;const Se=0;if("string"!=typeof Te)return So.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(Te))return So.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var P=0===Se}else P=!0;if(P)if(void 0!==r.signatures){let Te=r.signatures;const Se=0;if(0===Se){if(!Array.isArray(Te))return So.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Te.length<1)return So.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Ge=Te.length;for(let ct=0;ct<Ge;ct++){let Xe=Te[ct];const Je=0;if(0===Je){if(!Xe||"object"!=typeof Xe||Array.isArray(Xe))return So.errors=[{instancePath:t+"/signatures/"+ct,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Xe.protected){let Et=Xe.protected;const wt=0;if("string"!=typeof Et)return So.errors=[{instancePath:t+"/signatures/"+ct+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(Et))return So.errors=[{instancePath:t+"/signatures/"+ct+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var K=0===wt}else K=!0;if(K)if(void 0!==Xe.signature){let Et=Xe.signature;const wt=0;if("string"!=typeof Et)return So.errors=[{instancePath:t+"/signatures/"+ct+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(Et))return So.errors=[{instancePath:t+"/signatures/"+ct+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;K=0===wt}else K=!0}if(0!==Je)break}}}P=0===Se}else P=!0}}return So.errors=null,!0}function cs(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=cs.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return cs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const P=u;for(const b in r)if("signature"!==b)return cs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;P===u&&void 0!==r.signature&&(So(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:c})||(a=null===a?So.errors:a.concat(So.errors),u=a.length))}}return cs.errors=a,0===u}So.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},cs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const LT=qo,rf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},Be=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Ze=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Fe=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),We=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),Pt={validate:no};function Xt(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Xt.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Xt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const b=u;for(const K in r)if("signature"!==K&&"authorDelegatedGrant"!==K&&"ownerSignature"!==K&&"ownerDelegatedGrant"!==K)return Xt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;if(b===u){let K;if(void 0!==r.ownerSignature&&void 0===r.signature&&(K="signature"))return Xt.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:K,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const _e=u;So(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:c})||(a=null===a?So.errors:a.concat(So.errors),u=a.length);var P=_e===u}else P=!0;if(P){if(void 0!==r.authorDelegatedGrant){const _e=u;Pt.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:o,dynamicAnchors:c})||(a=null===a?Pt.validate.errors:a.concat(Pt.validate.errors),u=a.length),P=_e===u}else P=!0;if(P){if(void 0!==r.ownerSignature){const _e=u;So(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:o,dynamicAnchors:c})||(a=null===a?So.errors:a.concat(So.errors),u=a.length),P=_e===u}else P=!0;if(P)if(void 0!==r.ownerDelegatedGrant){const _e=u;Pt.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:o,dynamicAnchors:c})||(a=null===a?Pt.validate.errors:a.concat(Pt.validate.errors),u=a.length),P=_e===u}else P=!0}}}}}return Xt.errors=a,0===u}Xt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const vn={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Zn(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Zn.evaluated;U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0);const P=u,b=u;let K=!1,_e=null;const Te=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.crv&&(yn="crv")||void 0===r.x&&(yn="x")){const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===a?a=[fn]:a.push(fn),u++}else{if(void 0!==r.kty){const fn=u;if("EC"!==r.kty){const wn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===a?a=[wn]:a.push(wn),u++}var Se=fn===u}else Se=!0;if(Se){if(void 0!==r.crv){const fn=u;if("string"!=typeof r.crv){const Qt={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Se=fn===u}else Se=!0;if(Se){if(void 0!==r.x){const fn=u;if("string"!=typeof r.x){const Qt={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Se=fn===u}else Se=!0;if(Se){if(void 0!==r.y){const fn=u;if("string"!=typeof r.y){const Qt={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Se=fn===u}else Se=!0;if(Se)if(void 0!==r.d){const fn=u;if("string"!=typeof r.d){const Qt={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Se=fn===u}else Se=!0}}}}}if(Xe=Te===u){K=!0,_e=0;var Re={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Ge=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.crv&&(yn="crv")||void 0===r.x&&(yn="x")){const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===a?a=[fn]:a.push(fn),u++}else{if(void 0!==r.kty){const fn=u;if("OKP"!==r.kty){const wn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===a?a=[wn]:a.push(wn),u++}var ct=fn===u}else ct=!0;if(ct){if(void 0!==r.crv){const fn=u;if("string"!=typeof r.crv){const Qt={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}ct=fn===u}else ct=!0;if(ct){if(void 0!==r.x){const fn=u;if("string"!=typeof r.x){const Qt={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}ct=fn===u}else ct=!0;if(ct)if(void 0!==r.d){const fn=u;if("string"!=typeof r.d){const Qt={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}ct=fn===u}else ct=!0}}}}if((Xe=Ge===u)&&K)K=!1,_e=[_e,1];else{Xe&&(K=!0,_e=1,!0!==Re&&((Re=Re||{}).kty=!0,Re.crv=!0,Re.x=!0,Re.d=!0));const yn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.n&&(wn="n")||void 0===r.e&&(wn="e")){const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"};null===a?a=[Qt]:a.push(Qt),u++}else{if(void 0!==r.kty){const Qt=u;if("RSA"!==r.kty){const Nn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===a?a=[Nn]:a.push(Nn),u++}var Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.n){const Qt=u;if("string"!=typeof r.n){const Fn={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.e){const Qt=u;if("string"!=typeof r.e){const Fn={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.d){const Qt=u;if("string"!=typeof r.d){const Fn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.p){const Qt=u;if("string"!=typeof r.p){const Fn={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.q){const Qt=u;if("string"!=typeof r.q){const Fn={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.dp){const Qt=u;if("string"!=typeof r.dp){const Fn={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.dq){const Qt=u;if("string"!=typeof r.dq){const Fn={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je){if(void 0!==r.qi){const Qt=u;if("string"!=typeof r.qi){const Fn={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Fn]:a.push(Fn),u++}Je=Qt===u}else Je=!0;if(Je)if(void 0!==r.oth){let Qt=r.oth;const Nn=u;if(!Qt||"object"!=typeof Qt||Array.isArray(Qt)){const Gn={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Gn]:a.push(Gn),u++}Je=Nn===u}else Je=!0}}}}}}}}}}if((Xe=yn===u)&&K)K=!1,_e=[_e,2];else{Xe&&(K=!0,_e=2,!0!==Re&&((Re=Re||{}).kty=!0,Re.n=!0,Re.e=!0,Re.d=!0,Re.p=!0,Re.q=!0,Re.dp=!0,Re.dq=!0,Re.qi=!0,Re.oth=!0));const wn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.k&&(Nn="k")){const Fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===a?a=[Fn]:a.push(Fn),u++}else{if(void 0!==r.kty){const Fn=u;if("oct"!==r.kty){const Gn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===a?a=[Gn]:a.push(Gn),u++}var lt=Fn===u}else lt=!0;if(lt)if(void 0!==r.k){const Fn=u;if("string"!=typeof r.k){const wr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[wr]:a.push(wr),u++}lt=Fn===u}else lt=!0}}var Xe;(Xe=wn===u)&&K?(K=!1,_e=[_e,3]):Xe&&(K=!0,_e=3,!0!==Re&&((Re=Re||{}).kty=!0,Re.k=!0))}}if(!K){const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:_e},message:"must match exactly one schema in oneOf"};return null===a?a=[yn]:a.push(yn),u++,Zn.errors=a,!1}if(u=b,null!==a&&(b?a.length=b:a=null),u===P){if(!r||"object"!=typeof r||Array.isArray(r))return Zn.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let yn;if(void 0===r.kty&&(yn="kty"))return Zn.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"}],!1;if(!0!==Re&&((Re=Re||{}).alg=!0,Re.kid=!0,Re.kty=!0,Re.crv=!0,Re.use=!0,Re.key_ops=!0,Re.x5u=!0,Re.x5c=!0,Re.x5t=!0,Re["x5t#S256"]=!0),void 0!==r.alg){const fn=u;if("string"!=typeof r.alg)return Zn.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Et=fn===u}else Et=!0;if(Et){if(void 0!==r.kid){const fn=u;if("string"!=typeof r.kid)return Zn.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et){if(void 0!==r.kty){let fn=r.kty;const wn=u;if("EC"!==fn&&"RSA"!==fn&&"oct"!==fn&&"OKP"!==fn)return Zn.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:vn.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Et=wn===u}else Et=!0;if(Et){if(void 0!==r.crv){const fn=u;if("string"!=typeof r.crv)return Zn.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et){if(void 0!==r.use){const fn=u;if("string"!=typeof r.use)return Zn.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et){if(void 0!==r.key_ops){const fn=u;if("string"!=typeof r.key_ops)return Zn.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et){if(void 0!==r.x5u){const fn=u;if("string"!=typeof r.x5u)return Zn.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et){if(void 0!==r.x5c){const fn=u;if("string"!=typeof r.x5c)return Zn.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et){if(void 0!==r.x5t){const fn=u;if("string"!=typeof r.x5t)return Zn.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0;if(Et)if(void 0!==r["x5t#S256"]){const fn=u;if("string"!=typeof r["x5t#S256"])return Zn.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=fn===u}else Et=!0}}}}}}}}}}if(P===u){const yn=u,fn=u,wn=u;let Qt=!1;const Nn=u,Fn=u;let Gn=!1;const wr=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.d&&(ar="d")){const ii={};null===a?a=[ii]:a.push(ii),u++}}if(Gn=Gn||wr===u,Gn)u=Fn,null!==a&&(Fn?a.length=Fn:a=null);else{const ar={};null===a?a=[ar]:a.push(ar),u++}if(u===Nn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const ar={};null===a?a=[ar]:a.push(ar),u++}}else{const ar={};null===a?a=[ar]:a.push(ar),u++}var Cn=Nn===u;if(Qt=Qt||Cn,Cn)var xt={kty:!0};const Or=u,nn=u;let Br=!1;const Ni=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.d&&(ar="d")){const ii={};null===a?a=[ii]:a.push(ii),u++}}if(Br=Br||Ni===u,Br)u=nn,null!==a&&(nn?a.length=nn:a=null);else{const ar={};null===a?a=[ar]:a.push(ar),u++}if(u===Or)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const ar={};null===a?a=[ar]:a.push(ar),u++}}else{const ar={};null===a?a=[ar]:a.push(ar),u++}Cn=Or===u,Qt=Qt||Cn,Cn&&!0!==xt&&((xt=xt||{}).kty=!0);const er=u,Tn=u;let qn=!1;const Cr=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.d&&(ar="d")){const ii={};null===a?a=[ii]:a.push(ii),u++}}var hn=Cr===u;qn=qn||hn;const yi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.p&&(ar="p")){const ii={};null===a?a=[ii]:a.push(ii),u++}}hn=yi===u,qn=qn||hn;const gi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.q&&(ar="q")){const ii={};null===a?a=[ii]:a.push(ii),u++}}hn=gi===u,qn=qn||hn;const Xr=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.dp&&(ar="dp")){const ii={};null===a?a=[ii]:a.push(ii),u++}}hn=Xr===u,qn=qn||hn;const Qr=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.dq&&(ar="dq")){const ii={};null===a?a=[ii]:a.push(ii),u++}}hn=Qr===u,qn=qn||hn;const zc=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.qi&&(ar="qi")){const ii={};null===a?a=[ii]:a.push(ii),u++}}hn=zc===u,qn=qn||hn;const Hw=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.oth&&(ar="oth")){const ii={};null===a?a=[ii]:a.push(ii),u++}}if(hn=Hw===u,qn=qn||hn,qn)u=Tn,null!==a&&(Tn?a.length=Tn:a=null);else{const ar={};null===a?a=[ar]:a.push(ar),u++}if(u===er)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const ar=u;if("RSA"!==r.kty){const ii={};null===a?a=[ii]:a.push(ii),u++}var _n=ar===u}else _n=!0;if(_n)if(void 0!==r.oth){let ar=r.oth;const ii=u;if(!ar||"object"!=typeof ar||Array.isArray(ar)){const Yr={};null===a?a=[Yr]:a.push(Yr),u++}_n=ii===u}else _n=!0}else{const ar={};null===a?a=[ar]:a.push(ar),u++}if(Cn=er===u,Qt=Qt||Cn,Cn&&!0!==xt&&((xt=xt||{}).kty=!0,xt.d=!0,xt.p=!0,xt.q=!0,xt.dp=!0,xt.dq=!0,xt.qi=!0,xt.oth=!0),Qt)u=wn,null!==a&&(wn?a.length=wn:a=null);else{const ar={};null===a?a=[ar]:a.push(ar),u++}if(fn===u)return Zn.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=yn,null!==a&&(yn?a.length=yn:a=null)}return Zn.errors=a,U.props=Re,0===u}Zn.evaluated={dynamicProps:!0,dynamicItems:!1};const ei=Object.prototype.hasOwnProperty;function Wn(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Wn.evaluated;U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0);const P=u;let b=!1;const K=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.contextId&&(Or="contextId")){const nn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"};null===a?a=[nn]:a.push(nn),u++}else if(void 0!==r.descriptor){let nn=r.descriptor;if(u==u)if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let Ni;if(void 0===nn.protocol&&(Ni="protocol")||void 0===nn.protocolPath&&(Ni="protocolPath")){const er={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:Ni},message:"must have required property '"+Ni+"'"};null===a?a=[er]:a.push(er),u++}}else{const Ni={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Ni]:a.push(Ni),u++}}}var Et=K===u;if(b=b||Et,Et)var _e={descriptor:!0};const Te=u,Se=u,Re=u,Ge=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.contextId&&(Or="contextId")){const nn={};null===a?a=[nn]:a.push(nn),u++}}if(Ge===u){const Or={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Or]:a.push(Or),u++}else u=Re,null!==a&&(Re?a.length=Re:a=null);if(Se===u){const Or=u;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Br=r.descriptor;if(!Br||"object"!=typeof Br||Array.isArray(Br)){const Tn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Tn]:a.push(Tn),u++}const Ni=u,er=u;if(Br&&"object"==typeof Br&&!Array.isArray(Br)){let Tn;if(void 0===Br.protocol&&(Tn="protocol")){const qn={};null===a?a=[qn]:a.push(qn),u++}}if(er===u){const Tn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Tn]:a.push(Tn),u++}else u=Ni,null!==a&&(Ni?a.length=Ni:a=null)}if(Or===u&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let er=r.descriptor;if(!er||"object"!=typeof er||Array.isArray(er)){const Cr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Cr]:a.push(Cr),u++}const Tn=u,qn=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Cr;if(void 0===er.protocolPath&&(Cr="protocolPath")){const yi={};null===a?a=[yi]:a.push(yi),u++}}if(qn===u){const Cr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Cr]:a.push(Cr),u++}else u=Tn,null!==a&&(Tn?a.length=Tn:a=null)}}if(Et=Te===u,b=b||Et,Et&&!0!==_e&&((_e=_e||{}).descriptor=!0),!b){const Or={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===a?a=[Or]:a.push(Or),u++,Wn.errors=a,!1}if(u=P,null!==a&&(P?a.length=P:a=null),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Wn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Or;if(void 0===r.descriptor&&(Or="descriptor"))return Wn.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"}],!1;if(!0!==_e&&((_e=_e||{}).recordId=!0,_e.contextId=!0,_e.attestation=!0,_e.authorization=!0,_e.encryption=!0,_e.descriptor=!0),void 0!==r.recordId){const nn=u;if("string"!=typeof r.recordId)return Wn.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var wt=nn===u}else wt=!0;if(wt){if(void 0!==r.contextId){let nn=r.contextId;const Br=u;if(u===Br){if("string"!=typeof nn)return Wn.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Be.test(nn))return Wn.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}wt=Br===u}else wt=!0;if(wt){if(void 0!==r.attestation){const nn=u;So(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:o,dynamicAnchors:c})||(a=null===a?So.errors:a.concat(So.errors),u=a.length),wt=nn===u}else wt=!0;if(wt){if(void 0!==r.authorization){const nn=u;Xt(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?Xt.errors:a.concat(Xt.errors),u=a.length),wt=nn===u}else wt=!0;if(wt){if(void 0!==r.encryption){let nn=r.encryption;const Br=u;if(u===Br){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Wn.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let er;if(void 0===nn.algorithm&&(er="algorithm")||void 0===nn.initializationVector&&(er="initializationVector")||void 0===nn.keyEncryption&&(er="keyEncryption"))return Wn.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:er},message:"must have required property '"+er+"'"}],!1;{const Tn=u;for(const qn in nn)if("algorithm"!==qn&&"initializationVector"!==qn&&"keyEncryption"!==qn)return Wn.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(Tn===u){if(void 0!==nn.algorithm){let qn=nn.algorithm;const Cr=u;if("string"!=typeof qn)return Wn.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==qn)return Wn.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:rf.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var Ct=Cr===u}else Ct=!0;if(Ct){if(void 0!==nn.initializationVector){let qn=nn.initializationVector;const Cr=u;if(u==u){if("string"!=typeof qn)return Wn.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(qn))return Wn.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Ct=Cr===u}else Ct=!0;if(Ct)if(void 0!==nn.keyEncryption){let qn=nn.keyEncryption;const Cr=u;if(u===Cr){if(!Array.isArray(qn))return Wn.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(qn.length<1)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const gi=qn.length;for(let Xr=0;Xr<gi;Xr++){let Qr=qn[Xr];const zc=u;if(u===zc){if(!Qr||"object"!=typeof Qr||Array.isArray(Qr))return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ar;if(void 0===Qr.rootKeyId&&(ar="rootKeyId")||void 0===Qr.derivationScheme&&(ar="derivationScheme")||void 0===Qr.algorithm&&(ar="algorithm")||void 0===Qr.encryptedKey&&(ar="encryptedKey")||void 0===Qr.initializationVector&&(ar="initializationVector")||void 0===Qr.ephemeralPublicKey&&(ar="ephemeralPublicKey")||void 0===Qr.messageAuthenticationCode&&(ar="messageAuthenticationCode"))return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"}],!1;{const ii=u;for(const oi in Qr)if("rootKeyId"!==oi&&"derivationScheme"!==oi&&"derivedPublicKey"!==oi&&"algorithm"!==oi&&"encryptedKey"!==oi&&"initializationVector"!==oi&&"ephemeralPublicKey"!==oi&&"messageAuthenticationCode"!==oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oi},message:"must NOT have additional properties"}],!1;if(ii===u){if(void 0!==Qr.rootKeyId){const oi=u;if("string"!=typeof Qr.rootKeyId)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Zt=oi===u}else Zt=!0;if(Zt){if(void 0!==Qr.derivationScheme){let oi=Qr.derivationScheme;const Yr=u;if("string"!=typeof oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==oi&&"protocolContext"!==oi&&"protocolPath"!==oi&&"schemas"!==oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:rf.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;Zt=Yr===u}else Zt=!0;if(Zt){if(void 0!==Qr.derivedPublicKey){const oi=u;Zn(Qr.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Xr+"/derivedPublicKey",parentData:Qr,parentDataProperty:"derivedPublicKey",rootData:o,dynamicAnchors:c})||(a=null===a?Zn.errors:a.concat(Zn.errors),u=a.length),Zt=oi===u}else Zt=!0;if(Zt){if(void 0!==Qr.algorithm){let oi=Qr.algorithm;const Yr=u;if("string"!=typeof oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:rf.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;Zt=Yr===u}else Zt=!0;if(Zt){if(void 0!==Qr.encryptedKey){let oi=Qr.encryptedKey;const Yr=u;if(u==u){if("string"!=typeof oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(oi))return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Zt=Yr===u}else Zt=!0;if(Zt){if(void 0!==Qr.initializationVector){let oi=Qr.initializationVector;const Yr=u;if(u==u){if("string"!=typeof oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(oi))return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Zt=Yr===u}else Zt=!0;if(Zt){if(void 0!==Qr.ephemeralPublicKey){const oi=u;Zn(Qr.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Xr+"/ephemeralPublicKey",parentData:Qr,parentDataProperty:"ephemeralPublicKey",rootData:o,dynamicAnchors:c})||(a=null===a?Zn.errors:a.concat(Zn.errors),u=a.length),Zt=oi===u}else Zt=!0;if(Zt)if(void 0!==Qr.messageAuthenticationCode){let oi=Qr.messageAuthenticationCode;const Yr=u;if(u==u){if("string"!=typeof oi)return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!lh.test(oi))return Wn.errors=[{instancePath:t+"/encryption/keyEncryption/"+Xr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Zt=Yr===u}else Zt=!0}}}}}}}}}}if(zc!==u)break}}}Ct=Cr===u}else Ct=!0}}}}}wt=Br===u}else wt=!0;if(wt)if(void 0!==r.descriptor){let nn=r.descriptor;const Br=u,Ni=u;let er=!1;const Tn=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let ar;if(void 0===nn.published&&(ar="published")||void 0===nn.datePublished&&(ar="datePublished")){const ii={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"};null===a?a=[ii]:a.push(ii),u++}else if(void 0!==nn.published){let ii=nn.published;if("boolean"!=typeof ii){const oi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[oi]:a.push(oi),u++}if(!0!==ii){const oi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[oi]:a.push(oi),u++}}}var fn=Tn===u;if(er=er||fn,fn)var hn={published:!0};const qn=u,Cr=u,yi=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let ar;if(void 0===nn.datePublished&&(ar="datePublished")){const ii={};null===a?a=[ii]:a.push(ii),u++}}if(yi===u){const ar={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ar]:a.push(ar),u++}else u=Cr,null!==a&&(Cr?a.length=Cr:a=null);if(u===qn&&nn&&"object"==typeof nn&&!Array.isArray(nn)&&void 0!==nn.published){let ar=nn.published;if("boolean"!=typeof ar){const ii={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ii]:a.push(ii),u++}if(!1!==ar){const ii={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[ii]:a.push(ii),u++}}fn=qn===u,er=er||fn,fn&&!0!==hn&&((hn=hn||{}).published=!0);const gi=u,Xr=u,Qr=u,zc=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let ar;if(void 0===nn.published&&(ar="published")){const ii={};null===a?a=[ii]:a.push(ii),u++}}if(zc===u){const ar={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ar]:a.push(ar),u++}else u=Qr,null!==a&&(Qr?a.length=Qr:a=null);if(Xr===u){const ii=u,oi=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let as;if(void 0===nn.datePublished&&(as="datePublished")){const yl={};null===a?a=[yl]:a.push(yl),u++}}if(oi===u){const as={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[as]:a.push(as),u++}else u=ii,null!==a&&(ii?a.length=ii:a=null)}if(fn=gi===u,er=er||fn,!er){const ar={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===a?a=[ar]:a.push(ar),u++,Wn.errors=a,!1}if(u=Ni,null!==a&&(Ni?a.length=Ni:a=null),u===Br){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Wn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ar;if(void 0===nn.interface&&(ar="interface")||void 0===nn.method&&(ar="method")||void 0===nn.dataCid&&(ar="dataCid")||void 0===nn.dataSize&&(ar="dataSize")||void 0===nn.dateCreated&&(ar="dateCreated")||void 0===nn.messageTimestamp&&(ar="messageTimestamp")||void 0===nn.dataFormat&&(ar="dataFormat"))return Wn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"}],!1;{const ii=u;for(const oi in nn)if(!ei.call(rf.properties.descriptor.properties,oi))return Wn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oi},message:"must NOT have additional properties"}],!1;if(ii===u){let oi;if(void 0!==nn.parentId&&void 0===nn.protocol&&(oi="protocol"))return Wn.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:oi,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==nn.interface){let Yr=nn.interface;const as=u;if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Yr)return Wn.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var wn=as===u}else wn=!0;if(wn){if(void 0!==nn.method){let Yr=nn.method;const as=u;if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==Yr)return Wn.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rf.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;wn=as===u}else wn=!0;if(wn){if(void 0!==nn.recipient){let Yr=nn.recipient;const as=u;if(u==u){if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(Yr))return Wn.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}wn=as===u}else wn=!0;if(wn){if(void 0!==nn.protocol){const Yr=u;if("string"!=typeof nn.protocol)return Wn.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;wn=Yr===u}else wn=!0;if(wn){if(void 0!==nn.protocolPath){let Yr=nn.protocolPath;const as=u;if(u===as){if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Fe.test(Yr))return Wn.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}wn=as===u}else wn=!0;if(wn){if(void 0!==nn.schema){const Yr=u;if("string"!=typeof nn.schema)return Wn.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;wn=Yr===u}else wn=!0;if(wn){if(void 0!==nn.tags){let Yr=nn.tags;const as=u;if(u===as){if(!Yr||"object"!=typeof Yr||Array.isArray(Yr))return Wn.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Yr).length>10)return Wn.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(Yr).length<1)return Wn.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const _o in Yr){let Eo=Yr[_o];const $s=u,Ro=u;let ni=!1,Bo=null;const Ol=u;if("string"!=typeof Eo){const Wc={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Wc]:a.push(Wc),u++}(Qt=Ol===u)&&(ni=!0,Bo=0);const Hc=u;if("number"!=typeof Eo||!isFinite(Eo)){const Wc={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Wc]:a.push(Wc),u++}if((Qt=Hc===u)&&ni)ni=!1,Bo=[Bo,1];else{Qt&&(ni=!0,Bo=1);const Wc=u;if("boolean"!=typeof Eo){const OT={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[OT]:a.push(OT),u++}if((Qt=Wc===u)&&ni)ni=!1,Bo=[Bo,2];else{Qt&&(ni=!0,Bo=2);const OT=u;if(u===OT)if(Array.isArray(Eo))if(Eo.length>10){const Zu={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===a?a=[Zu]:a.push(Zu),u++}else if(Eo.length<1){const Zu={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[Zu]:a.push(Zu),u++}else{const Zu=Eo.length;for(let bk=0;bk<Zu;bk++){const Yf=u;if("string"!=typeof Eo[bk]){const RT={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+bk,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[RT]:a.push(RT),u++}if(Yf!==u)break}}else{const Zu={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Zu]:a.push(Zu),u++}if((Qt=OT===u)&&ni)ni=!1,Bo=[Bo,3];else{if(Qt){ni=!0,Bo=3;var Fn=!0}const Zu=u;if(u===Zu)if(Array.isArray(Eo))if(Eo.length>10){const Yf={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===a?a=[Yf]:a.push(Yf),u++}else if(Eo.length<1){const Yf={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[Yf]:a.push(Yf),u++}else{const Yf=Eo.length;for(let wk=0;wk<Yf;wk++){let RT=Eo[wk];const Mz=u;if("number"!=typeof RT||!isFinite(RT)){const uF={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+wk,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[uF]:a.push(uF),u++}if(Mz!==u)break}}else{const Yf={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[Yf]:a.push(Yf),u++}var Qt;(Qt=Zu===u)&&ni?(ni=!1,Bo=[Bo,4]):Qt&&(ni=!0,Bo=4,!0!==Fn&&(Fn=!0))}}}if(!ni){const Wc={instancePath:t+"/descriptor/tags/"+_o.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Bo},message:"must match exactly one schema in oneOf"};return null===a?a=[Wc]:a.push(Wc),u++,Wn.errors=a,!1}if(u=Ro,null!==a&&(Ro?a.length=Ro:a=null),$s!==u)break}}wn=as===u}else wn=!0;if(wn){if(void 0!==nn.parentId){const Yr=u;if("string"!=typeof nn.parentId)return Wn.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;wn=Yr===u}else wn=!0;if(wn){if(void 0!==nn.dataCid){const Yr=u;if("string"!=typeof nn.dataCid)return Wn.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;wn=Yr===u}else wn=!0;if(wn){if(void 0!==nn.dataSize){let Yr=nn.dataSize;const as=u;if("number"!=typeof Yr||!isFinite(Yr))return Wn.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;wn=as===u}else wn=!0;if(wn){if(void 0!==nn.dateCreated){let Yr=nn.dateCreated;const as=u;if(u==u){if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Yr))return Wn.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}wn=as===u}else wn=!0;if(wn){if(void 0!==nn.messageTimestamp){let Yr=nn.messageTimestamp;const as=u;if(u==u){if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Yr))return Wn.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}wn=as===u}else wn=!0;if(wn){if(void 0!==nn.published){const Yr=u;if("boolean"!=typeof nn.published)return Wn.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;wn=Yr===u}else wn=!0;if(wn){if(void 0!==nn.datePublished){let Yr=nn.datePublished;const as=u;if(u==u){if("string"!=typeof Yr)return Wn.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Yr))return Wn.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}wn=as===u}else wn=!0;if(wn)if(void 0!==nn.dataFormat){const Yr=u;if("string"!=typeof nn.dataFormat)return Wn.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;wn=Yr===u}else wn=!0}}}}}}}}}}}}}}}}}wt=Br===u}else wt=!0}}}}}}return Wn.errors=a,U.props=_e,0===u}function no(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=no.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),Wn(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:o,dynamicAnchors:c}))var P=Wn.evaluated.props;else a=null===a?Wn.errors:a.concat(Wn.errors),u=a.length;if(0===u){if(!r||"object"!=typeof r||Array.isArray(r))return no.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.recordId&&(K="recordId")||void 0===r.authorization&&(K="authorization")||void 0===r.encodedData&&(K="encodedData"))return no.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;if(!0!==P&&((P=P||{}).encodedData=!0),void 0!==r.encodedData){const _e=u;if("string"!=typeof r.encodedData)return no.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=_e===u}else b=!0;if(b&&!0!==P)for(const _e in r)if(!P||!P[_e])return no.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:_e},message:"must NOT have unevaluated properties"}],!1}}return no.errors=a,0===u}function qo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=qo.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return qo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const b=u;for(const K in r)if("signature"!==K&&"authorDelegatedGrant"!==K)return qo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;if(b===u){if(void 0!==r.signature){const K=u;So(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:c})||(a=null===a?So.errors:a.concat(So.errors),u=a.length);var P=K===u}else P=!0;if(P)if(void 0!==r.authorDelegatedGrant){const K=u;no(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:o,dynamicAnchors:c})||(a=null===a?no.errors:a.concat(no.errors),u=a.length),P=K===u}else P=!0}}}return qo.errors=a,0===u}Wn.evaluated={dynamicProps:!0,dynamicItems:!1},no.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},qo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ga=Xt,sf=As,Yc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function As(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=As.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return As.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.authorization&&(K="authorization")||void 0===r.descriptor&&(K="descriptor"))return As.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=u;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return As.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(_e===u){if(void 0!==r.authorization){const Te=u;qo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?qo.errors:a.concat(qo.errors),u=a.length);var P=Te===u}else P=!0;if(P)if(void 0!==r.descriptor){let Te=r.descriptor;const Se=u;if(u===Se){if(!Te||"object"!=typeof Te||Array.isArray(Te))return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ge;if(void 0===Te.interface&&(Ge="interface")||void 0===Te.method&&(Ge="method")||void 0===Te.messageTimestamp&&(Ge="messageTimestamp")||void 0===Te.recordId&&(Ge="recordId")||void 0===Te.prune&&(Ge="prune"))return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ge},message:"must have required property '"+Ge+"'"}],!1;{const ct=u;for(const Xe in Te)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"recordId"!==Xe&&"prune"!==Xe)return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(ct===u){if(void 0!==Te.interface){let Xe=Te.interface;const Je=u;if("string"!=typeof Xe)return As.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Xe)return As.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Yc.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Je===u}else b=!0;if(b){if(void 0!==Te.method){let Xe=Te.method;const Je=u;if("string"!=typeof Xe)return As.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==Xe)return As.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Yc.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Je===u}else b=!0;if(b){if(void 0!==Te.messageTimestamp){let Xe=Te.messageTimestamp;const Je=u;if(u==u){if("string"!=typeof Xe)return As.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Xe))return As.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Je===u}else b=!0;if(b){if(void 0!==Te.recordId){const Xe=u;if("string"!=typeof Te.recordId)return As.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=Xe===u}else b=!0;if(b)if(void 0!==Te.prune){const Xe=u;if("boolean"!=typeof Te.prune)return As.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;b=Xe===u}else b=!0}}}}}}}P=Se===u}else P=!0}}}}return As.errors=a,0===u}As.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const U0=wo,nm={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},L0={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},FT={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Lr(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Lr.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Lr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Lr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Or=u;for(const nn in r)if(!ei.call(FT.properties,nn))return Lr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:nn},message:"must NOT have additional properties"}],!1;if(Or===u){if(void 0!==r.datePublished){const nn=u,Br=u;let Ni=!1,er=null;const Tn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let gi;if(void 0===r.published&&(gi="published")){const Xr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:gi},message:"must have required property '"+gi+"'"};null===a?a=[Xr]:a.push(Xr),u++}else if(void 0!==r.published&&!0!==r.published){const Xr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:FT.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[Xr]:a.push(Xr),u++}}Tn===u&&(Ni=!0,er=0);const qn=u,Cr=u,yi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let gi;if(void 0===r.published&&(gi="published")){const Xr={};null===a?a=[Xr]:a.push(Xr),u++}}var K;if(yi===u){const gi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[gi]:a.push(gi),u++}else u=Cr,null!==a&&(Cr?a.length=Cr:a=null);if((K=qn===u)&&Ni?(Ni=!1,er=[er,1]):K&&(Ni=!0,er=1),!Ni){const gi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:er},message:"must match exactly one schema in oneOf"};return null===a?a=[gi]:a.push(gi),u++,Lr.errors=a,!1}u=Br,null!==a&&(Br?a.length=Br:a=null);var _e=nn===u}else _e=!0;if(_e){if(void 0!==r.protocol){const nn=u;if("string"!=typeof r.protocol)return Lr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Te=nn===u}else Te=!0;if(Te){if(void 0!==r.protocolPath){const nn=u;if("string"!=typeof r.protocolPath)return Lr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.author){let nn=r.author;const Br=u;if(u==u){if("string"!=typeof nn)return Lr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(nn))return Lr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Br===u}else Te=!0;if(Te){if(void 0!==r.attester){let nn=r.attester;const Br=u;if(u==u){if("string"!=typeof nn)return Lr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(nn))return Lr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Br===u}else Te=!0;if(Te){if(void 0!==r.recipient){let nn=r.recipient;const Br=u;if(u==u){if("string"!=typeof nn)return Lr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(nn))return Lr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Br===u}else Te=!0;if(Te){if(void 0!==r.contextId){const nn=u;if("string"!=typeof r.contextId)return Lr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.schema){const nn=u;if("string"!=typeof r.schema)return Lr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.tags){let nn=r.tags;const Br=u;if(u===Br){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Lr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(nn).length<1)return Lr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const er in nn){let Tn=nn[er];const qn=u,Cr=u;let yi=!1,gi=null;const Xr=u;if("string"!=typeof Tn){const zc={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[zc]:a.push(zc),u++}(Se=Xr===u)&&(yi=!0,gi=0);const Qr=u;if("number"!=typeof Tn||!isFinite(Tn)){const zc={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[zc]:a.push(zc),u++}if((Se=Qr===u)&&yi)yi=!1,gi=[gi,1];else{Se&&(yi=!0,gi=1);const zc=u;if("boolean"!=typeof Tn){const ar={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===a?a=[ar]:a.push(ar),u++}if((Se=zc===u)&&yi)yi=!1,gi=[gi,2];else{Se&&(yi=!0,gi=2);const ar=u;if(u===ar)if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn))if(Object.keys(Tn).length<1){const oi={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===a?a=[oi]:a.push(oi),u++}else{const oi=u;for(const Yr in Tn)if("startsWith"!==Yr){const as={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yr},message:"must NOT have additional properties"};null===a?a=[as]:a.push(as),u++;break}if(oi===u&&void 0!==Tn.startsWith&&"string"!=typeof Tn.startsWith){const Yr={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Yr]:a.push(Yr),u++}}else{const oi={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[oi]:a.push(oi),u++}if((Se=ar===u)&&yi)yi=!1,gi=[gi,3];else{if(Se){yi=!0,gi=3;var Re=!0}const oi=u;if(u==u)if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn))if(Object.keys(Tn).length<1){const yl={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===a?a=[yl]:a.push(yl),u++}else{const yl=u;for(const _o in Tn)if("gt"!==_o&&"gte"!==_o&&"lt"!==_o&&"lte"!==_o){const Eo={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_o},message:"must NOT have additional properties"};null===a?a=[Eo]:a.push(Eo),u++;break}if(yl===u){if(void 0!==Tn.gt){const _o=u,Eo=u,$s=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Ro;if(void 0===Tn.gte&&(Ro="gte")){const ni={};null===a?a=[ni]:a.push(ni),u++}}if($s===u){const Ro={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ro]:a.push(Ro),u++}else u=Eo,null!==a&&(Eo?a.length=Eo:a=null);var ct=_o===u}else ct=!0;if(ct){if(void 0!==Tn.gte){const _o=u,Eo=u,$s=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let ni;if(void 0===Tn.gt&&(ni="gt")){const Bo={};null===a?a=[Bo]:a.push(Bo),u++}}if($s===u){const ni={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ni]:a.push(ni),u++}else u=Eo,null!==a&&(Eo?a.length=Eo:a=null);ct=_o===u}else ct=!0;if(ct){if(void 0!==Tn.lt){const _o=u,Eo=u,$s=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let ni;if(void 0===Tn.lte&&(ni="lte")){const Bo={};null===a?a=[Bo]:a.push(Bo),u++}}if($s===u){const ni={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ni]:a.push(ni),u++}else u=Eo,null!==a&&(Eo?a.length=Eo:a=null);ct=_o===u}else ct=!0;if(ct){if(void 0!==Tn.lte){const _o=u,Eo=u,$s=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let ni;if(void 0===Tn.lt&&(ni="lt")){const Bo={};null===a?a=[Bo]:a.push(Bo),u++}}if($s===u){const ni={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[ni]:a.push(ni),u++}else u=Eo,null!==a&&(Eo?a.length=Eo:a=null);ct=_o===u}else ct=!0;if(ct){if(void 0!==Tn.gt){const _o=u;if("string"!=typeof Tn.gt){const Eo={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Eo]:a.push(Eo),u++}var Et=_o===u}else Et=!0;if(Et){if(void 0!==Tn.gte){const _o=u;if("string"!=typeof Tn.gte){const $s={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[$s]:a.push($s),u++}Et=_o===u}else Et=!0;if(Et){if(void 0!==Tn.lt){const _o=u;if("string"!=typeof Tn.lt){const $s={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[$s]:a.push($s),u++}Et=_o===u}else Et=!0;if(Et)if(void 0!==Tn.lte){const _o=u;if("string"!=typeof Tn.lte){const $s={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[$s]:a.push($s),u++}Et=_o===u}else Et=!0}}}}}}}}else{const yl={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[yl]:a.push(yl),u++}if((Se=oi===u)&&yi)yi=!1,gi=[gi,4];else{Se&&(yi=!0,gi=4,!0!==Re&&(Re=!0));const yl=u;if(u==u)if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn))if(Object.keys(Tn).length<1){const $s={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===a?a=[$s]:a.push($s),u++}else{const $s=u;for(const Ro in Tn)if("gt"!==Ro&&"gte"!==Ro&&"lt"!==Ro&&"lte"!==Ro){const ni={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ro},message:"must NOT have additional properties"};null===a?a=[ni]:a.push(ni),u++;break}if($s===u){if(void 0!==Tn.gt){const Ro=u,ni=u,Bo=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Ol;if(void 0===Tn.gte&&(Ol="gte")){const Hc={};null===a?a=[Hc]:a.push(Hc),u++}}if(Bo===u){const Ol={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Ol]:a.push(Ol),u++}else u=ni,null!==a&&(ni?a.length=ni:a=null);var Ct=Ro===u}else Ct=!0;if(Ct){if(void 0!==Tn.gte){const Ro=u,ni=u,Bo=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Hc;if(void 0===Tn.gt&&(Hc="gt")){const Wc={};null===a?a=[Wc]:a.push(Wc),u++}}if(Bo===u){const Hc={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Hc]:a.push(Hc),u++}else u=ni,null!==a&&(ni?a.length=ni:a=null);Ct=Ro===u}else Ct=!0;if(Ct){if(void 0!==Tn.lt){const Ro=u,ni=u,Bo=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Hc;if(void 0===Tn.lte&&(Hc="lte")){const Wc={};null===a?a=[Wc]:a.push(Wc),u++}}if(Bo===u){const Hc={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Hc]:a.push(Hc),u++}else u=ni,null!==a&&(ni?a.length=ni:a=null);Ct=Ro===u}else Ct=!0;if(Ct){if(void 0!==Tn.lte){const Ro=u,ni=u,Bo=u;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Hc;if(void 0===Tn.lt&&(Hc="lt")){const Wc={};null===a?a=[Wc]:a.push(Wc),u++}}if(Bo===u){const Hc={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[Hc]:a.push(Hc),u++}else u=ni,null!==a&&(ni?a.length=ni:a=null);Ct=Ro===u}else Ct=!0;if(Ct){if(void 0!==Tn.gt){let Ro=Tn.gt;const ni=u;if("number"!=typeof Ro||!isFinite(Ro)){const Bo={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Bo]:a.push(Bo),u++}var _n=ni===u}else _n=!0;if(_n){if(void 0!==Tn.gte){let Ro=Tn.gte;const ni=u;if("number"!=typeof Ro||!isFinite(Ro)){const Ol={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ol]:a.push(Ol),u++}_n=ni===u}else _n=!0;if(_n){if(void 0!==Tn.lt){let Ro=Tn.lt;const ni=u;if("number"!=typeof Ro||!isFinite(Ro)){const Ol={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ol]:a.push(Ol),u++}_n=ni===u}else _n=!0;if(_n)if(void 0!==Tn.lte){let Ro=Tn.lte;const ni=u;if("number"!=typeof Ro||!isFinite(Ro)){const Ol={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===a?a=[Ol]:a.push(Ol),u++}_n=ni===u}else _n=!0}}}}}}}}else{const $s={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[$s]:a.push($s),u++}var Se;(Se=yl===u)&&yi?(yi=!1,gi=[gi,5]):Se&&(yi=!0,gi=5,!0!==Re&&(Re=!0))}}}}if(!yi){const zc={instancePath:t+"/tags/"+er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:gi},message:"must match exactly one schema in oneOf"};return null===a?a=[zc]:a.push(zc),u++,Lr.errors=a,!1}if(u=Cr,null!==a&&(Cr?a.length=Cr:a=null),qn!==u)break}}Te=Br===u}else Te=!0;if(Te){if(void 0!==r.recordId){const nn=u;if("string"!=typeof r.recordId)return Lr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.parentId){const nn=u;if("string"!=typeof r.parentId)return Lr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.published){const nn=u;if("boolean"!=typeof r.published)return Lr.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.dataFormat){const nn=u;if("string"!=typeof r.dataFormat)return Lr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.dataSize){let nn=r.dataSize;const Br=u;if(u==u){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(nn).length<1)return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Tn=u;for(const qn in nn)if("gt"!==qn&&"gte"!==qn&&"lt"!==qn&&"lte"!==qn)return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(Tn===u){if(void 0!==nn.gt){const qn=u,Cr=u,yi=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let gi;if(void 0===nn.gte&&(gi="gte")){const Xr={};null===a?a=[Xr]:a.push(Xr),u++}}if(yi===u)return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Cr,null!==a&&(Cr?a.length=Cr:a=null);var yn=qn===u}else yn=!0;if(yn){if(void 0!==nn.gte){const qn=u,Cr=u,yi=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let Xr;if(void 0===nn.gt&&(Xr="gt")){const Qr={};null===a?a=[Qr]:a.push(Qr),u++}}if(yi===u)return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Cr,null!==a&&(Cr?a.length=Cr:a=null),yn=qn===u}else yn=!0;if(yn){if(void 0!==nn.lt){const qn=u,Cr=u,yi=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let Xr;if(void 0===nn.lte&&(Xr="lte")){const Qr={};null===a?a=[Qr]:a.push(Qr),u++}}if(yi===u)return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Cr,null!==a&&(Cr?a.length=Cr:a=null),yn=qn===u}else yn=!0;if(yn){if(void 0!==nn.lte){const qn=u,Cr=u,yi=u;if(nn&&"object"==typeof nn&&!Array.isArray(nn)){let Xr;if(void 0===nn.lt&&(Xr="lt")){const Qr={};null===a?a=[Qr]:a.push(Qr),u++}}if(yi===u)return Lr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Cr,null!==a&&(Cr?a.length=Cr:a=null),yn=qn===u}else yn=!0;if(yn){if(void 0!==nn.gt){let qn=nn.gt;const Cr=u;if("number"!=typeof qn||!isFinite(qn))return Lr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Nn=Cr===u}else Nn=!0;if(Nn){if(void 0!==nn.gte){let qn=nn.gte;const Cr=u;if("number"!=typeof qn||!isFinite(qn))return Lr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Nn=Cr===u}else Nn=!0;if(Nn){if(void 0!==nn.lt){let qn=nn.lt;const Cr=u;if("number"!=typeof qn||!isFinite(qn))return Lr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Nn=Cr===u}else Nn=!0;if(Nn)if(void 0!==nn.lte){let qn=nn.lte;const Cr=u;if("number"!=typeof qn||!isFinite(qn))return Lr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Nn=Cr===u}else Nn=!0}}}}}}}}}Te=Br===u}else Te=!0;if(Te){if(void 0!==r.dataCid){const nn=u;if("string"!=typeof r.dataCid)return Lr.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=nn===u}else Te=!0;if(Te){if(void 0!==r.dateCreated){let nn=r.dateCreated;const Br=u;if(u===Br){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Lr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(nn).length<1)return Lr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const er=u;for(const Tn in nn)if("from"!==Tn&&"to"!==Tn)return Lr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tn},message:"must NOT have additional properties"}],!1;if(er===u){if(void 0!==nn.from){let Tn=nn.from;const qn=u;if(u==u){if("string"!=typeof Tn)return Lr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Tn))return Lr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Fn=qn===u}else Fn=!0;if(Fn)if(void 0!==nn.to){let Tn=nn.to;const qn=u;if(u==u){if("string"!=typeof Tn)return Lr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Tn))return Lr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Fn=qn===u}else Fn=!0}}}Te=Br===u}else Te=!0;if(Te){if(void 0!==r.datePublished){let nn=r.datePublished;const Br=u;if(u===Br){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Lr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(nn).length<1)return Lr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const er=u;for(const Tn in nn)if("from"!==Tn&&"to"!==Tn)return Lr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tn},message:"must NOT have additional properties"}],!1;if(er===u){if(void 0!==nn.from){let Tn=nn.from;const qn=u;if(u==u){if("string"!=typeof Tn)return Lr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Tn))return Lr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Gn=qn===u}else Gn=!0;if(Gn)if(void 0!==nn.to){let Tn=nn.to;const qn=u;if(u==u){if("string"!=typeof Tn)return Lr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Tn))return Lr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Gn=qn===u}else Gn=!0}}}Te=Br===u}else Te=!0;if(Te)if(void 0!==r.dateUpdated){let nn=r.dateUpdated;const Br=u;if(u===Br){if(!nn||"object"!=typeof nn||Array.isArray(nn))return Lr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(nn).length<1)return Lr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const er=u;for(const Tn in nn)if("from"!==Tn&&"to"!==Tn)return Lr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tn},message:"must NOT have additional properties"}],!1;if(er===u){if(void 0!==nn.from){let Tn=nn.from;const qn=u;if(u==u){if("string"!=typeof Tn)return Lr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Tn))return Lr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var wr=qn===u}else wr=!0;if(wr)if(void 0!==nn.to){let Tn=nn.to;const qn=u;if(u==u){if("string"!=typeof Tn)return Lr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Tn))return Lr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}wr=qn===u}else wr=!0}}}Te=Br===u}else Te=!0}}}}}}}}}}}}}}}}}}}return Lr.errors=a,0===u}function wo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=wo.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return wo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Te;if(void 0===r.descriptor&&(Te="descriptor"))return wo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"}],!1;{const Se=u;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return wo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(Se===u){if(void 0!==r.authorization){const Re=u;qo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?qo.errors:a.concat(qo.errors),u=a.length);var P=Re===u}else P=!0;if(P)if(void 0!==r.descriptor){let Re=r.descriptor;const Ge=u;if(u===Ge){if(!Re||"object"!=typeof Re||Array.isArray(Re))return wo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xe;if(void 0===Re.interface&&(Xe="interface")||void 0===Re.method&&(Xe="method")||void 0===Re.messageTimestamp&&(Xe="messageTimestamp")||void 0===Re.filter&&(Xe="filter"))return wo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Xe},message:"must have required property '"+Xe+"'"}],!1;{const Je=u;for(const lt in Re)if("interface"!==lt&&"method"!==lt&&"messageTimestamp"!==lt&&"filter"!==lt&&"pagination"!==lt&&"dateSort"!==lt)return wo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:lt},message:"must NOT have additional properties"}],!1;if(Je===u){if(void 0!==Re.interface){let lt=Re.interface;const Et=u;if("string"!=typeof lt)return wo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==lt)return wo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:nm.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Et===u}else b=!0;if(b){if(void 0!==Re.method){let lt=Re.method;const Et=u;if("string"!=typeof lt)return wo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==lt)return wo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:nm.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Et===u}else b=!0;if(b){if(void 0!==Re.messageTimestamp){let lt=Re.messageTimestamp;const Et=u;if(u==u){if("string"!=typeof lt)return wo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(lt))return wo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Et===u}else b=!0;if(b){if(void 0!==Re.filter){const lt=u;Lr(Re.filter,{instancePath:t+"/descriptor/filter",parentData:Re,parentDataProperty:"filter",rootData:o,dynamicAnchors:c})||(a=null===a?Lr.errors:a.concat(Lr.errors),u=a.length),b=lt===u}else b=!0;if(b){if(void 0!==Re.pagination){let lt=Re.pagination;const Et=u;if(u===Et){if(!lt||"object"!=typeof lt||Array.isArray(lt))return wo.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ct=u;for(const xt in lt)if("limit"!==xt&&"cursor"!==xt)return wo.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xt},message:"must NOT have additional properties"}],!1;if(Ct===u){if(void 0!==lt.limit){let xt=lt.limit;const Zt=u;if(u===Zt){if("number"!=typeof xt||!isFinite(xt))return wo.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(xt<1||isNaN(xt))return wo.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var K=Zt===u}else K=!0;if(K)if(void 0!==lt.cursor){let xt=lt.cursor;const Zt=u;if(u==u){if(!xt||"object"!=typeof xt||Array.isArray(xt))return wo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return wo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Cn;if(void 0===xt.messageCid&&(Cn="messageCid")||void 0===xt.value&&(Cn="value"))return wo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"}],!1;{const gn=u;for(const yn in xt)if("messageCid"!==yn&&"value"!==yn)return wo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:yn},message:"must NOT have additional properties"}],!1;if(gn===u){if(void 0!==xt.messageCid){const yn=u;if("string"!=typeof xt.messageCid)return wo.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _e=yn===u}else _e=!0;if(_e)if(void 0!==xt.value){let yn=xt.value;const fn=u;if("string"!=typeof yn&&("number"!=typeof yn||!isFinite(yn)))return wo.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:L0.properties.value.type},message:"must be string,number"}],!1;_e=fn===u}else _e=!0}}}}K=Zt===u}else K=!0}}}b=Et===u}else b=!0;if(b)if(void 0!==Re.dateSort){let lt=Re.dateSort;const Et=u;if("string"!=typeof lt)return wo.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==lt&&"createdDescending"!==lt&&"publishedAscending"!==lt&&"publishedDescending"!==lt)return wo.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:nm.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;b=Et===u}else b=!0}}}}}}}}P=Ge===u}else P=!0}}}}return wo.errors=a,0===u}Lr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},wo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ak=Ba,Jw={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Ba(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Ba.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ba.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.descriptor&&(K="descriptor"))return Ba.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=u;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return Ba.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(_e===u){if(void 0!==r.authorization){const Te=u;qo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?qo.errors:a.concat(qo.errors),u=a.length);var P=Te===u}else P=!0;if(P)if(void 0!==r.descriptor){let Te=r.descriptor;const Se=u;if(u===Se){if(!Te||"object"!=typeof Te||Array.isArray(Te))return Ba.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ge;if(void 0===Te.interface&&(Ge="interface")||void 0===Te.method&&(Ge="method")||void 0===Te.messageTimestamp&&(Ge="messageTimestamp")||void 0===Te.filter&&(Ge="filter"))return Ba.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ge},message:"must have required property '"+Ge+"'"}],!1;{const ct=u;for(const Xe in Te)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"filter"!==Xe)return Ba.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(ct===u){if(void 0!==Te.interface){let Xe=Te.interface;const Je=u;if("string"!=typeof Xe)return Ba.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Xe)return Ba.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Jw.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Je===u}else b=!0;if(b){if(void 0!==Te.method){let Xe=Te.method;const Je=u;if("string"!=typeof Xe)return Ba.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Xe)return Ba.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Jw.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Je===u}else b=!0;if(b){if(void 0!==Te.messageTimestamp){let Xe=Te.messageTimestamp;const Je=u;if(u==u){if("string"!=typeof Xe)return Ba.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Xe))return Ba.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Je===u}else b=!0;if(b)if(void 0!==Te.filter){const Xe=u;Lr(Te.filter,{instancePath:t+"/descriptor/filter",parentData:Te,parentDataProperty:"filter",rootData:o,dynamicAnchors:c})||(a=null===a?Lr.errors:a.concat(Lr.errors),u=a.length),b=Xe===u}else b=!0}}}}}}P=Se===u}else P=!0}}}}return Ba.errors=a,0===u}Ba.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Tk=af;function af(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=af.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),Wn(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:o,dynamicAnchors:c}))var P=Wn.evaluated.props;else a=null===a?Wn.errors:a.concat(Wn.errors),u=a.length;if(0===u){if(!r||"object"!=typeof r||Array.isArray(r))return af.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.recordId&&(b="recordId")||void 0===r.authorization&&(b="authorization"))return af.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;if(!0!==P)for(const K in r)if(!P||!P[K])return af.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:K},message:"must NOT have unevaluated properties"}],!1}}return af.errors=a,0===u}af.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Fl=no,F0=Wn,b2=Jr,qw={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Permissions","Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Grant","Revoke","Write"],type:"string"},protocol:{type:"string"},protocolPath:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Jr(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Jr.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Jr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Jr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ct=u;for(const xt in r)if(!ei.call(qw.properties,xt))return Jr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xt},message:"must NOT have additional properties"}],!1;if(Ct===u){if(void 0!==r.datePublished){const xt=u,Zt=u;let hn=!1,_n=null;const Cn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.published&&(wn="published")){const Qt={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"};null===a?a=[Qt]:a.push(Qt),u++}else if(void 0!==r.published&&!0!==r.published){const Qt={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:qw.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===a?a=[Qt]:a.push(Qt),u++}}Cn===u&&(hn=!0,_n=0);const gn=u,yn=u,fn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.published&&(wn="published")){const Qt={};null===a?a=[Qt]:a.push(Qt),u++}}var K;if(fn===u){const wn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===a?a=[wn]:a.push(wn),u++}else u=yn,null!==a&&(yn?a.length=yn:a=null);if((K=gn===u)&&hn?(hn=!1,_n=[_n,1]):K&&(hn=!0,_n=1),!hn){const wn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:_n},message:"must match exactly one schema in oneOf"};return null===a?a=[wn]:a.push(wn),u++,Jr.errors=a,!1}u=Zt,null!==a&&(Zt?a.length=Zt:a=null);var _e=xt===u}else _e=!0;if(_e){if(void 0!==r.interface){let xt=r.interface;const Zt=u;if("string"!=typeof xt)return Jr.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==xt&&"Protocols"!==xt&&"Records"!==xt)return Jr.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:qw.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Te=Zt===u}else Te=!0;if(Te){if(void 0!==r.method){let xt=r.method;const Zt=u;if("string"!=typeof xt)return Jr.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==xt&&"Delete"!==xt&&"Grant"!==xt&&"Revoke"!==xt&&"Write"!==xt)return Jr.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:qw.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Te=Zt===u}else Te=!0;if(Te){if(void 0!==r.protocol){const xt=u;if("string"!=typeof r.protocol)return Jr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.protocolPath){const xt=u;if("string"!=typeof r.protocolPath)return Jr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.recipient){let xt=r.recipient;const Zt=u;if(u==u){if("string"!=typeof xt)return Jr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(xt))return Jr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Zt===u}else Te=!0;if(Te){if(void 0!==r.contextId){const xt=u;if("string"!=typeof r.contextId)return Jr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.schema){const xt=u;if("string"!=typeof r.schema)return Jr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.recordId){const xt=u;if("string"!=typeof r.recordId)return Jr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.parentId){const xt=u;if("string"!=typeof r.parentId)return Jr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.dataFormat){const xt=u;if("string"!=typeof r.dataFormat)return Jr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=xt===u}else Te=!0;if(Te){if(void 0!==r.dataSize){let xt=r.dataSize;const Zt=u;if(u==u){if(!xt||"object"!=typeof xt||Array.isArray(xt))return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Cn=u;for(const gn in xt)if("gt"!==gn&&"gte"!==gn&&"lt"!==gn&&"lte"!==gn)return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gn},message:"must NOT have additional properties"}],!1;if(Cn===u){if(void 0!==xt.gt){const gn=u,yn=u,fn=u;if(xt&&"object"==typeof xt&&!Array.isArray(xt)){let wn;if(void 0===xt.gte&&(wn="gte")){const Qt={};null===a?a=[Qt]:a.push(Qt),u++}}if(fn===u)return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=yn,null!==a&&(yn?a.length=yn:a=null);var Re=gn===u}else Re=!0;if(Re){if(void 0!==xt.gte){const gn=u,yn=u,fn=u;if(xt&&"object"==typeof xt&&!Array.isArray(xt)){let Qt;if(void 0===xt.gt&&(Qt="gt")){const Nn={};null===a?a=[Nn]:a.push(Nn),u++}}if(fn===u)return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=yn,null!==a&&(yn?a.length=yn:a=null),Re=gn===u}else Re=!0;if(Re){if(void 0!==xt.lt){const gn=u,yn=u,fn=u;if(xt&&"object"==typeof xt&&!Array.isArray(xt)){let Qt;if(void 0===xt.lte&&(Qt="lte")){const Nn={};null===a?a=[Nn]:a.push(Nn),u++}}if(fn===u)return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=yn,null!==a&&(yn?a.length=yn:a=null),Re=gn===u}else Re=!0;if(Re){if(void 0!==xt.lte){const gn=u,yn=u,fn=u;if(xt&&"object"==typeof xt&&!Array.isArray(xt)){let Qt;if(void 0===xt.lt&&(Qt="lt")){const Nn={};null===a?a=[Nn]:a.push(Nn),u++}}if(fn===u)return Jr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=yn,null!==a&&(yn?a.length=yn:a=null),Re=gn===u}else Re=!0;if(Re){if(void 0!==xt.gt){let gn=xt.gt;const yn=u;if("number"!=typeof gn||!isFinite(gn))return Jr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Je=yn===u}else Je=!0;if(Je){if(void 0!==xt.gte){let gn=xt.gte;const yn=u;if("number"!=typeof gn||!isFinite(gn))return Jr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Je=yn===u}else Je=!0;if(Je){if(void 0!==xt.lt){let gn=xt.lt;const yn=u;if("number"!=typeof gn||!isFinite(gn))return Jr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Je=yn===u}else Je=!0;if(Je)if(void 0!==xt.lte){let gn=xt.lte;const yn=u;if("number"!=typeof gn||!isFinite(gn))return Jr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Je=yn===u}else Je=!0}}}}}}}}}Te=Zt===u}else Te=!0;if(Te){if(void 0!==r.dateCreated){let xt=r.dateCreated;const Zt=u;if(u===Zt){if(!xt||"object"!=typeof xt||Array.isArray(xt))return Jr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return Jr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const _n=u;for(const Cn in xt)if("from"!==Cn&&"to"!==Cn)return Jr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(_n===u){if(void 0!==xt.from){let Cn=xt.from;const gn=u;if(u==u){if("string"!=typeof Cn)return Jr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Cn))return Jr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var lt=gn===u}else lt=!0;if(lt)if(void 0!==xt.to){let Cn=xt.to;const gn=u;if(u==u){if("string"!=typeof Cn)return Jr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Cn))return Jr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}lt=gn===u}else lt=!0}}}Te=Zt===u}else Te=!0;if(Te){if(void 0!==r.datePublished){let xt=r.datePublished;const Zt=u;if(u===Zt){if(!xt||"object"!=typeof xt||Array.isArray(xt))return Jr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return Jr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const _n=u;for(const Cn in xt)if("from"!==Cn&&"to"!==Cn)return Jr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(_n===u){if(void 0!==xt.from){let Cn=xt.from;const gn=u;if(u==u){if("string"!=typeof Cn)return Jr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Cn))return Jr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Et=gn===u}else Et=!0;if(Et)if(void 0!==xt.to){let Cn=xt.to;const gn=u;if(u==u){if("string"!=typeof Cn)return Jr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Cn))return Jr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Et=gn===u}else Et=!0}}}Te=Zt===u}else Te=!0;if(Te)if(void 0!==r.dateUpdated){let xt=r.dateUpdated;const Zt=u;if(u===Zt){if(!xt||"object"!=typeof xt||Array.isArray(xt))return Jr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return Jr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const _n=u;for(const Cn in xt)if("from"!==Cn&&"to"!==Cn)return Jr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(_n===u){if(void 0!==xt.from){let Cn=xt.from;const gn=u;if(u==u){if("string"!=typeof Cn)return Jr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Cn))return Jr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var wt=gn===u}else wt=!0;if(wt)if(void 0!==xt.to){let Cn=xt.to;const gn=u;if(u==u){if("string"!=typeof Cn)return Jr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Cn))return Jr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}wt=gn===u}else wt=!0}}}Te=Zt===u}else Te=!0}}}}}}}}}}}}}}}}return Jr.errors=a,0===u}Jr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $T=va,rm={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function va(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=va.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return va.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _e;if(void 0===r.authorization&&(_e="authorization")||void 0===r.descriptor&&(_e="descriptor"))return va.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:_e},message:"must have required property '"+_e+"'"}],!1;{const Te=u;for(const Se in r)if("authorization"!==Se&&"descriptor"!==Se)return va.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties"}],!1;if(Te===u){if(void 0!==r.authorization){const Se=u;cs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?cs.errors:a.concat(cs.errors),u=a.length);var P=Se===u}else P=!0;if(P)if(void 0!==r.descriptor){let Se=r.descriptor;const Re=u;if(u===Re){if(!Se||"object"!=typeof Se||Array.isArray(Se))return va.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Se.interface&&(ct="interface")||void 0===Se.method&&(ct="method")||void 0===Se.messageTimestamp&&(ct="messageTimestamp"))return va.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const Xe=u;for(const Je in Se)if("interface"!==Je&&"method"!==Je&&"messageTimestamp"!==Je&&"cursor"!==Je)return va.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==Se.interface){let Je=Se.interface;const lt=u;if("string"!=typeof Je)return va.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==Je)return va.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rm.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=lt===u}else b=!0;if(b){if(void 0!==Se.method){let Je=Se.method;const lt=u;if("string"!=typeof Je)return va.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==Je)return va.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rm.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=lt===u}else b=!0;if(b){if(void 0!==Se.messageTimestamp){const Je=u;if("string"!=typeof Se.messageTimestamp)return va.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=Je===u}else b=!0;if(b)if(void 0!==Se.cursor){let Je=Se.cursor;const lt=u;if(u==u){if(!Je||"object"!=typeof Je||Array.isArray(Je))return va.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Je).length<1)return va.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Ct;if(void 0===Je.messageCid&&(Ct="messageCid")||void 0===Je.value&&(Ct="value"))return va.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Ct},message:"must have required property '"+Ct+"'"}],!1;{const xt=u;for(const Zt in Je)if("messageCid"!==Zt&&"value"!==Zt)return va.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Zt},message:"must NOT have additional properties"}],!1;if(xt===u){if(void 0!==Je.messageCid){const Zt=u;if("string"!=typeof Je.messageCid)return va.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=Zt===u}else K=!0;if(K)if(void 0!==Je.value){let Zt=Je.value;const hn=u;if("string"!=typeof Zt&&("number"!=typeof Zt||!isFinite(Zt)))return va.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:L0.properties.value.type},message:"must be string,number"}],!1;K=hn===u}else K=!0}}}}b=lt===u}else b=!0}}}}}}P=Re===u}else P=!0}}}}return va.errors=a,0===u}va.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Dk=bs,VT={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",minItems:1,items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function bs(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=bs.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return bs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Te;if(void 0===r.authorization&&(Te="authorization")||void 0===r.descriptor&&(Te="descriptor"))return bs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"}],!1;{const Se=u;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return bs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(Se===u){if(void 0!==r.authorization){const Re=u;cs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?cs.errors:a.concat(cs.errors),u=a.length);var P=Re===u}else P=!0;if(P)if(void 0!==r.descriptor){let Re=r.descriptor;const Ge=u;if(u===Ge){if(!Re||"object"!=typeof Re||Array.isArray(Re))return bs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xe;if(void 0===Re.interface&&(Xe="interface")||void 0===Re.method&&(Xe="method")||void 0===Re.messageTimestamp&&(Xe="messageTimestamp")||void 0===Re.filters&&(Xe="filters"))return bs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Xe},message:"must have required property '"+Xe+"'"}],!1;{const Je=u;for(const lt in Re)if("interface"!==lt&&"method"!==lt&&"messageTimestamp"!==lt&&"filters"!==lt&&"cursor"!==lt)return bs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:lt},message:"must NOT have additional properties"}],!1;if(Je===u){if(void 0!==Re.interface){let lt=Re.interface;const Et=u;if("string"!=typeof lt)return bs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==lt)return bs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:VT.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Et===u}else b=!0;if(b){if(void 0!==Re.method){let lt=Re.method;const Et=u;if("string"!=typeof lt)return bs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==lt)return bs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:VT.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Et===u}else b=!0;if(b){if(void 0!==Re.messageTimestamp){let lt=Re.messageTimestamp;const Et=u;if(u==u){if("string"!=typeof lt)return bs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(lt))return bs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Et===u}else b=!0;if(b){if(void 0!==Re.filters){let lt=Re.filters;const Et=u;if(u===Et){if(!Array.isArray(lt))return bs.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(lt.length<1)return bs.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Ct=lt.length;for(let xt=0;xt<Ct;xt++){const Zt=u;if(Jr(lt[xt],{instancePath:t+"/descriptor/filters/"+xt,parentData:lt,parentDataProperty:xt,rootData:o,dynamicAnchors:c})||(a=null===a?Jr.errors:a.concat(Jr.errors),u=a.length),Zt!==u)break}}}b=Et===u}else b=!0;if(b)if(void 0!==Re.cursor){let lt=Re.cursor;const Et=u;if(u==u){if(!lt||"object"!=typeof lt||Array.isArray(lt))return bs.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(lt).length<1)return bs.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let xt;if(void 0===lt.messageCid&&(xt="messageCid")||void 0===lt.value&&(xt="value"))return bs.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:xt},message:"must have required property '"+xt+"'"}],!1;{const Zt=u;for(const hn in lt)if("messageCid"!==hn&&"value"!==hn)return bs.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:hn},message:"must NOT have additional properties"}],!1;if(Zt===u){if(void 0!==lt.messageCid){const hn=u;if("string"!=typeof lt.messageCid)return bs.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _e=hn===u}else _e=!0;if(_e)if(void 0!==lt.value){let hn=lt.value;const _n=u;if("string"!=typeof hn&&("number"!=typeof hn||!isFinite(hn)))return bs.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:L0.properties.value.type},message:"must be string,number"}],!1;_e=_n===u}else _e=!0}}}}b=Et===u}else b=!0}}}}}}}P=Ge===u}else P=!0}}}}return bs.errors=a,0===u}bs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zT=Na,w2={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}}}}}};function Na(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Na.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Na.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _e;if(void 0===r.descriptor&&(_e="descriptor")||void 0===r.authorization&&(_e="authorization"))return Na.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:_e},message:"must have required property '"+_e+"'"}],!1;{const Te=u;for(const Se in r)if("authorization"!==Se&&"descriptor"!==Se)return Na.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties"}],!1;if(Te===u){if(void 0!==r.authorization){const Se=u;cs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?cs.errors:a.concat(cs.errors),u=a.length);var P=Se===u}else P=!0;if(P)if(void 0!==r.descriptor){let Se=r.descriptor;const Re=u;if(u===Re){if(!Se||"object"!=typeof Se||Array.isArray(Se))return Na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Se.interface&&(ct="interface")||void 0===Se.method&&(ct="method")||void 0===Se.messageTimestamp&&(ct="messageTimestamp")||void 0===Se.filters&&(ct="filters"))return Na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const Xe=u;for(const Je in Se)if("interface"!==Je&&"method"!==Je&&"messageTimestamp"!==Je&&"filters"!==Je)return Na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==Se.interface){let Je=Se.interface;const lt=u;if("string"!=typeof Je)return Na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==Je)return Na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:w2.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=lt===u}else b=!0;if(b){if(void 0!==Se.method){let Je=Se.method;const lt=u;if("string"!=typeof Je)return Na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Je)return Na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:w2.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=lt===u}else b=!0;if(b){if(void 0!==Se.messageTimestamp){const Je=u;if("string"!=typeof Se.messageTimestamp)return Na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=Je===u}else b=!0;if(b)if(void 0!==Se.filters){let Je=Se.filters;const lt=u;if(u===lt){if(!Array.isArray(Je))return Na.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const wt=Je.length;for(let Ct=0;Ct<wt;Ct++){const xt=u;if(Jr(Je[Ct],{instancePath:t+"/descriptor/filters/"+Ct,parentData:Je,parentDataProperty:Ct,rootData:o,dynamicAnchors:c})||(a=null===a?Jr.errors:a.concat(Jr.errors),u=a.length),xt!==u)break}}}b=lt===u}else b=!0}}}}}}P=Re===u}else P=!0}}}}return Na.errors=a,0===u}Na.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const j0=lv;function lv(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=lv.evaluated;return U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(lv.errors=null,!0):(lv.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}lv.evaluated={dynamicProps:!1,dynamicItems:!1};const Ua=rc;function rc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=rc.evaluated;U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0);const P=u;let b=!1,K=null;const _e=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Et;if(void 0===r.crv&&(Et="crv")||void 0===r.x&&(Et="x")){const wt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"};null===a?a=[wt]:a.push(wt),u++}else{if(void 0!==r.kty){const wt=u;if("EC"!==r.kty){const Ct={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===a?a=[Ct]:a.push(Ct),u++}var Te=wt===u}else Te=!0;if(Te){if(void 0!==r.crv){const wt=u;if("string"!=typeof r.crv){const xt={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Te=wt===u}else Te=!0;if(Te){if(void 0!==r.x){const wt=u;if("string"!=typeof r.x){const xt={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Te=wt===u}else Te=!0;if(Te){if(void 0!==r.y){const wt=u;if("string"!=typeof r.y){const xt={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Te=wt===u}else Te=!0;if(Te)if(void 0!==r.d){const wt=u;if("string"!=typeof r.d){const xt={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Te=wt===u}else Te=!0}}}}}if(ct=_e===u){b=!0,K=0;var Se={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Re=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Et;if(void 0===r.crv&&(Et="crv")||void 0===r.x&&(Et="x")){const wt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"};null===a?a=[wt]:a.push(wt),u++}else{if(void 0!==r.kty){const wt=u;if("OKP"!==r.kty){const Ct={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===a?a=[Ct]:a.push(Ct),u++}var Ge=wt===u}else Ge=!0;if(Ge){if(void 0!==r.crv){const wt=u;if("string"!=typeof r.crv){const xt={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Ge=wt===u}else Ge=!0;if(Ge){if(void 0!==r.x){const wt=u;if("string"!=typeof r.x){const xt={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Ge=wt===u}else Ge=!0;if(Ge)if(void 0!==r.d){const wt=u;if("string"!=typeof r.d){const xt={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[xt]:a.push(xt),u++}Ge=wt===u}else Ge=!0}}}}if((ct=Re===u)&&b)b=!1,K=[K,1];else{ct&&(b=!0,K=1,!0!==Se&&((Se=Se||{}).kty=!0,Se.crv=!0,Se.x=!0,Se.d=!0));const Et=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.n&&(Ct="n")||void 0===r.e&&(Ct="e")){const xt={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:Ct},message:"must have required property '"+Ct+"'"};null===a?a=[xt]:a.push(xt),u++}else{if(void 0!==r.kty){const xt=u;if("RSA"!==r.kty){const Zt={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===a?a=[Zt]:a.push(Zt),u++}var Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.n){const xt=u;if("string"!=typeof r.n){const hn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.e){const xt=u;if("string"!=typeof r.e){const hn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.d){const xt=u;if("string"!=typeof r.d){const hn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.p){const xt=u;if("string"!=typeof r.p){const hn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.q){const xt=u;if("string"!=typeof r.q){const hn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.dp){const xt=u;if("string"!=typeof r.dp){const hn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.dq){const xt=u;if("string"!=typeof r.dq){const hn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe){if(void 0!==r.qi){const xt=u;if("string"!=typeof r.qi){const hn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[hn]:a.push(hn),u++}Xe=xt===u}else Xe=!0;if(Xe)if(void 0!==r.oth){let xt=r.oth;const Zt=u;if(!xt||"object"!=typeof xt||Array.isArray(xt)){const _n={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0}}}}}}}}}}if((ct=Et===u)&&b)b=!1,K=[K,2];else{ct&&(b=!0,K=2,!0!==Se&&((Se=Se||{}).kty=!0,Se.n=!0,Se.e=!0,Se.d=!0,Se.p=!0,Se.q=!0,Se.dp=!0,Se.dq=!0,Se.qi=!0,Se.oth=!0));const Ct=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Zt;if(void 0===r.k&&(Zt="k")){const hn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:Zt},message:"must have required property '"+Zt+"'"};null===a?a=[hn]:a.push(hn),u++}else{if(void 0!==r.kty){const hn=u;if("oct"!==r.kty){const _n={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===a?a=[_n]:a.push(_n),u++}var Je=hn===u}else Je=!0;if(Je)if(void 0!==r.k){const hn=u;if("string"!=typeof r.k){const Cn={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Cn]:a.push(Cn),u++}Je=hn===u}else Je=!0}}var ct;(ct=Ct===u)&&b?(b=!1,K=[K,3]):ct&&(b=!0,K=3,!0!==Se&&((Se=Se||{}).kty=!0,Se.k=!0))}}if(!b){const Et={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:K},message:"must match exactly one schema in oneOf"};return null===a?a=[Et]:a.push(Et),u++,rc.errors=a,!1}if(u=P,null!==a&&(P?a.length=P:a=null),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return rc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Et;if(void 0===r.kty&&(Et="kty"))return rc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"}],!1;if(!0!==Se&&((Se=Se||{}).alg=!0,Se.kid=!0,Se.kty=!0,Se.crv=!0,Se.use=!0,Se.key_ops=!0,Se.x5u=!0,Se.x5c=!0,Se.x5t=!0,Se["x5t#S256"]=!0),void 0!==r.alg){const wt=u;if("string"!=typeof r.alg)return rc.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var lt=wt===u}else lt=!0;if(lt){if(void 0!==r.kid){const wt=u;if("string"!=typeof r.kid)return rc.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt){if(void 0!==r.kty){let wt=r.kty;const Ct=u;if("EC"!==wt&&"RSA"!==wt&&"oct"!==wt&&"OKP"!==wt)return rc.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:vn.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;lt=Ct===u}else lt=!0;if(lt){if(void 0!==r.crv){const wt=u;if("string"!=typeof r.crv)return rc.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt){if(void 0!==r.use){const wt=u;if("string"!=typeof r.use)return rc.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt){if(void 0!==r.key_ops){const wt=u;if("string"!=typeof r.key_ops)return rc.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt){if(void 0!==r.x5u){const wt=u;if("string"!=typeof r.x5u)return rc.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt){if(void 0!==r.x5c){const wt=u;if("string"!=typeof r.x5c)return rc.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt){if(void 0!==r.x5t){const wt=u;if("string"!=typeof r.x5t)return rc.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0;if(lt)if(void 0!==r["x5t#S256"]){const wt=u;if("string"!=typeof r["x5t#S256"])return rc.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=wt===u}else lt=!0}}}}}}}}}}return rc.errors=a,U.props=Se,0===u}rc.evaluated={dynamicProps:!0,dynamicItems:!1};const Ik=So,uv=bu,Ck={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function bu(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=bu.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return bu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.id&&(b="id")||void 0===r.type&&(b="type")||void 0===r.controller&&(b="controller")||void 0===r.publicKeyJwk&&(b="publicKeyJwk"))return bu.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=u;for(const _e in r)if("id"!==_e&&"type"!==_e&&"controller"!==_e&&"publicKeyJwk"!==_e)return bu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(K===u){if(void 0!==r.id){const _e=u;if("string"!=typeof r.id)return bu.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=_e===u}else P=!0;if(P){if(void 0!==r.type){let _e=r.type;const Te=u;if("JsonWebKey"!==_e&&"JsonWebKey2020"!==_e)return bu.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:Ck.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;P=Te===u}else P=!0;if(P){if(void 0!==r.controller){let _e=r.controller;const Te=u;if(u==u){if("string"!=typeof _e)return bu.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(_e))return bu.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}P=Te===u}else P=!0;if(P)if(void 0!==r.publicKeyJwk){const _e=u;Zn(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:o,dynamicAnchors:c})||(a=null===a?Zn.errors:a.concat(Zn.errors),u=a.length),P=_e===u}else P=!0}}}}}}return bu.errors=a,0===u}bu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const kk=La,HT={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function La(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=La.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return La.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _e;if(void 0===r.authorization&&(_e="authorization")||void 0===r.descriptor&&(_e="descriptor"))return La.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:_e},message:"must have required property '"+_e+"'"}],!1;{const Te=u;for(const Se in r)if("authorization"!==Se&&"descriptor"!==Se)return La.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties"}],!1;if(Te===u){if(void 0!==r.authorization){const Se=u;cs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?cs.errors:a.concat(cs.errors),u=a.length);var P=Se===u}else P=!0;if(P)if(void 0!==r.descriptor){let Se=r.descriptor;const Re=u;if(u===Re){if(!Se||"object"!=typeof Se||Array.isArray(Se))return La.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Se.interface&&(ct="interface")||void 0===Se.method&&(ct="method")||void 0===Se.messageTimestamp&&(ct="messageTimestamp"))return La.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const Xe=u;for(const Je in Se)if("interface"!==Je&&"method"!==Je&&"messageTimestamp"!==Je&&"messageCids"!==Je)return La.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==Se.interface){let Je=Se.interface;const lt=u;if("string"!=typeof Je)return La.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Je)return La.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:HT.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=lt===u}else b=!0;if(b){if(void 0!==Se.method){let Je=Se.method;const lt=u;if("string"!=typeof Je)return La.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==Je)return La.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:HT.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=lt===u}else b=!0;if(b){if(void 0!==Se.messageTimestamp){let Je=Se.messageTimestamp;const lt=u;if(u==u){if("string"!=typeof Je)return La.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Je))return La.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=lt===u}else b=!0;if(b)if(void 0!==Se.messageCids){let Je=Se.messageCids;const lt=u;if(u===lt){if(!Array.isArray(Je))return La.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Je.length<1)return La.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const wt=Je.length;for(let Ct=0;Ct<wt;Ct++){const xt=u;if("string"!=typeof Je[Ct])return La.errors=[{instancePath:t+"/descriptor/messageCids/"+Ct,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(xt!==u)break}}}b=lt===u}else b=!0}}}}}}P=Re===u}else P=!0}}}}return La.errors=a,0===u}La.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Pk=Sc;function Sc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Sc.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Sc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Sc.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Re=u;for(const Ge in r)if("gt"!==Ge&&"gte"!==Ge&&"lt"!==Ge&&"lte"!==Ge)return Sc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ge},message:"must NOT have additional properties"}],!1;if(Re===u){if(void 0!==r.gt){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Je;if(void 0===r.gte&&(Je="gte")){const lt={};null===a?a=[lt]:a.push(lt),u++}}if(Xe===u)return Sc.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null);var b=Ge===u}else b=!0;if(b){if(void 0!==r.gte){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.gt&&(lt="gt")){const Et={};null===a?a=[Et]:a.push(Et),u++}}if(Xe===u)return Sc.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null),b=Ge===u}else b=!0;if(b){if(void 0!==r.lt){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lte&&(lt="lte")){const Et={};null===a?a=[Et]:a.push(Et),u++}}if(Xe===u)return Sc.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null),b=Ge===u}else b=!0;if(b){if(void 0!==r.lte){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lt&&(lt="lt")){const Et={};null===a?a=[Et]:a.push(Et),u++}}if(Xe===u)return Sc.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null),b=Ge===u}else b=!0;if(b){if(void 0!==r.gt){let Ge=r.gt;const ct=u;if("number"!=typeof Ge||!isFinite(Ge))return Sc.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Se=ct===u}else Se=!0;if(Se){if(void 0!==r.gte){let Ge=r.gte;const ct=u;if("number"!=typeof Ge||!isFinite(Ge))return Sc.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Se=ct===u}else Se=!0;if(Se){if(void 0!==r.lt){let Ge=r.lt;const ct=u;if("number"!=typeof Ge||!isFinite(Ge))return Sc.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Se=ct===u}else Se=!0;if(Se)if(void 0!==r.lte){let Ge=r.lte;const ct=u;if("number"!=typeof Ge||!isFinite(Ge))return Sc.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Se=ct===u}else Se=!0}}}}}}}}}return Sc.errors=a,0===u}Sc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Qw=Ao;function Ao(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=Ao.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Ao.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Ao.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let b;if(void 0===r.messageCid&&(b="messageCid")||void 0===r.value&&(b="value"))return Ao.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=0;for(const _e in r)if("messageCid"!==_e&&"value"!==_e)return Ao.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.messageCid){const _e=0;if("string"!=typeof r.messageCid)return Ao.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=0===_e}else P=!0;if(P)if(void 0!==r.value){let _e=r.value;const Te=0;if("string"!=typeof _e&&("number"!=typeof _e||!isFinite(_e)))return Ao.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:L0.properties.value.type},message:"must be string,number"}],!1;P=0===Te}else P=!0}}}return Ao.errors=null,!0}Ao.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const fr=Ia,ba={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function ci(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=ci.evaluated;U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0);const P=u;let b=!1,K=null;const _e=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const xt=u;if("Protocols"!==r.interface){const Zt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===a?a=[Zt]:a.push(Zt),u++}var Se=xt===u}else Se=!0;if(Se)if(void 0!==r.method){const xt=u;if("Query"!==r.method){const hn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[hn]:a.push(hn),u++}Se=xt===u}else Se=!0}else{const xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[xt]:a.push(xt),u++}if(Je=_e===u){b=!0,K=0;var Re={interface:!0,method:!0}}const Ge=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let xt;if(void 0===r.interface&&(xt="interface")||void 0===r.method&&(xt="method")){const Zt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:xt},message:"must have required property '"+xt+"'"};null===a?a=[Zt]:a.push(Zt),u++}else{if(void 0!==r.interface){const Zt=u;if("Records"!==r.interface){const hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[hn]:a.push(hn),u++}var Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.method){const Zt=u;if("Read"!==r.method){const _n={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.schema){const Zt=u;if("string"!=typeof r.schema){const _n={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.protocol){const Zt=u;if("string"!=typeof r.protocol){const _n={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.contextId){const Zt=u;if("string"!=typeof r.contextId){const _n={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe)if(void 0!==r.protocolPath){const Zt=u;if("string"!=typeof r.protocolPath){const _n={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0}}}}}}else{const xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[xt]:a.push(xt),u++}if((Je=Ge===u)&&b)b=!1,K=[K,1];else{Je&&(b=!0,K=1,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.schema=!0,Re.protocol=!0,Re.contextId=!0,Re.protocolPath=!0));const xt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let _n;if(void 0===r.interface&&(_n="interface")||void 0===r.method&&(_n="method")){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===a?a=[Cn]:a.push(Cn),u++}else{if(void 0!==r.interface){const Cn=u;if("Records"!==r.interface){const gn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[gn]:a.push(gn),u++}var lt=Cn===u}else lt=!0;if(lt){if(void 0!==r.method){const Cn=u;if("Delete"!==r.method){const yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===a?a=[yn]:a.push(yn),u++}lt=Cn===u}else lt=!0;if(lt){if(void 0!==r.protocol){const Cn=u;if("string"!=typeof r.protocol){const yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yn]:a.push(yn),u++}lt=Cn===u}else lt=!0;if(lt)if(void 0!==r.schema){const Cn=u;if("string"!=typeof r.schema){const yn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yn]:a.push(yn),u++}lt=Cn===u}else lt=!0}}}}else{const _n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[_n]:a.push(_n),u++}if((Je=xt===u)&&b)b=!1,K=[K,2];else{Je&&(b=!0,K=2,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.protocol=!0,Re.schema=!0));const _n=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.interface&&(yn="interface")||void 0===r.method&&(yn="method")){const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===a?a=[fn]:a.push(fn),u++}else{if(void 0!==r.interface){const fn=u;if("Records"!==r.interface){const wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[wn]:a.push(wn),u++}var Et=fn===u}else Et=!0;if(Et){if(void 0!==r.method){const fn=u;if("Write"!==r.method){const Qt={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et){if(void 0!==r.schema){const fn=u;if("string"!=typeof r.schema){const Qt={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et){if(void 0!==r.protocol){const fn=u;if("string"!=typeof r.protocol){const Qt={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et){if(void 0!==r.contextId){const fn=u;if("string"!=typeof r.contextId){const Qt={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et)if(void 0!==r.protocolPath){const fn=u;if("string"!=typeof r.protocolPath){const Qt={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0}}}}}}else{const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[yn]:a.push(yn),u++}if((Je=_n===u)&&b)b=!1,K=[K,3];else{Je&&(b=!0,K=3,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.schema=!0,Re.protocol=!0,Re.contextId=!0,Re.protocolPath=!0));const yn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Qt;if(void 0===r.interface&&(Qt="interface")||void 0===r.method&&(Qt="method")){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Qt},message:"must have required property '"+Qt+"'"};null===a?a=[Nn]:a.push(Nn),u++}else{if(void 0!==r.interface){const Nn=u;if("Records"!==r.interface){const Fn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[Fn]:a.push(Fn),u++}var wt=Nn===u}else wt=!0;if(wt){if(void 0!==r.method){const Nn=u;if("Query"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[Gn]:a.push(Gn),u++}wt=Nn===u}else wt=!0;if(wt)if(void 0!==r.protocol){const Nn=u;if("string"!=typeof r.protocol){const Gn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gn]:a.push(Gn),u++}wt=Nn===u}else wt=!0}}}else{const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Qt]:a.push(Qt),u++}if((Je=yn===u)&&b)b=!1,K=[K,4];else{Je&&(b=!0,K=4,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.protocol=!0));const Qt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.interface&&(Gn="interface")||void 0===r.method&&(Gn="method")){const wr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===a?a=[wr]:a.push(wr),u++}else{if(void 0!==r.interface){const wr=u;if("Records"!==r.interface){const Or={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[Or]:a.push(Or),u++}var Ct=wr===u}else Ct=!0;if(Ct){if(void 0!==r.method){const wr=u;if("Subscribe"!==r.method){const nn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===a?a=[nn]:a.push(nn),u++}Ct=wr===u}else Ct=!0;if(Ct)if(void 0!==r.protocol){const wr=u;if("string"!=typeof r.protocol){const nn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[nn]:a.push(nn),u++}Ct=wr===u}else Ct=!0}}}else{const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Gn]:a.push(Gn),u++}var Je;(Je=Qt===u)&&b?(b=!1,K=[K,5]):Je&&(b=!0,K=5,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.protocol=!0))}}}}if(!b){const xt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:K},message:"must match exactly one schema in oneOf"};return null===a?a=[xt]:a.push(xt),u++,ci.errors=a,!1}return u=P,null!==a&&(P?a.length=P:a=null),ci.errors=a,U.props=Re,0===u}function Ia(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Ia.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ia.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.dateExpires&&(b="dateExpires")||void 0===r.scope&&(b="scope"))return Ia.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=u;for(const _e in r)if("description"!==_e&&"dateExpires"!==_e&&"requestId"!==_e&&"delegated"!==_e&&"scope"!==_e&&"conditions"!==_e)return Ia.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(K===u){if(void 0!==r.description){const _e=u;if("string"!=typeof r.description)return Ia.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=_e===u}else P=!0;if(P){if(void 0!==r.dateExpires){let _e=r.dateExpires;const Te=u;if(u==u){if("string"!=typeof _e)return Ia.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(_e))return Ia.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}P=Te===u}else P=!0;if(P){if(void 0!==r.requestId){const _e=u;if("string"!=typeof r.requestId)return Ia.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=_e===u}else P=!0;if(P){if(void 0!==r.delegated){const _e=u;if("boolean"!=typeof r.delegated)return Ia.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;P=_e===u}else P=!0;if(P){if(void 0!==r.scope){const _e=u;ci(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:o,dynamicAnchors:c})||(a=null===a?ci.errors:a.concat(ci.errors),u=a.length),P=_e===u}else P=!0;if(P)if(void 0!==r.conditions){let _e=r.conditions;const Te=u;if(u==u){if(!_e||"object"!=typeof _e||Array.isArray(_e))return Ia.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ge=u;for(const ct in _e)if("publication"!==ct)return Ia.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(Ge===u&&void 0!==_e.publication){let ct=_e.publication;if("string"!=typeof ct)return Ia.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ct&&"Prohibited"!==ct)return Ia.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:ba.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}P=Te===u}else P=!0}}}}}}}}return Ia.errors=a,0===u}ci.evaluated={dynamicProps:!0,dynamicItems:!1},Ia.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const WT=ja;function $o(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=$o.evaluated;U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0);const P=u;let b=!1,K=null;const _e=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const xt=u;if("Protocols"!==r.interface){const Zt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===a?a=[Zt]:a.push(Zt),u++}var Se=xt===u}else Se=!0;if(Se)if(void 0!==r.method){const xt=u;if("Query"!==r.method){const hn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[hn]:a.push(hn),u++}Se=xt===u}else Se=!0}else{const xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[xt]:a.push(xt),u++}if(Je=_e===u){b=!0,K=0;var Re={interface:!0,method:!0}}const Ge=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let xt;if(void 0===r.interface&&(xt="interface")||void 0===r.method&&(xt="method")){const Zt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:xt},message:"must have required property '"+xt+"'"};null===a?a=[Zt]:a.push(Zt),u++}else{if(void 0!==r.interface){const Zt=u;if("Records"!==r.interface){const hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[hn]:a.push(hn),u++}var Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.method){const Zt=u;if("Read"!==r.method){const _n={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.schema){const Zt=u;if("string"!=typeof r.schema){const _n={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.protocol){const Zt=u;if("string"!=typeof r.protocol){const _n={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe){if(void 0!==r.contextId){const Zt=u;if("string"!=typeof r.contextId){const _n={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0;if(Xe)if(void 0!==r.protocolPath){const Zt=u;if("string"!=typeof r.protocolPath){const _n={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[_n]:a.push(_n),u++}Xe=Zt===u}else Xe=!0}}}}}}else{const xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[xt]:a.push(xt),u++}if((Je=Ge===u)&&b)b=!1,K=[K,1];else{Je&&(b=!0,K=1,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.schema=!0,Re.protocol=!0,Re.contextId=!0,Re.protocolPath=!0));const xt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let _n;if(void 0===r.interface&&(_n="interface")||void 0===r.method&&(_n="method")){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===a?a=[Cn]:a.push(Cn),u++}else{if(void 0!==r.interface){const Cn=u;if("Records"!==r.interface){const gn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[gn]:a.push(gn),u++}var lt=Cn===u}else lt=!0;if(lt){if(void 0!==r.method){const Cn=u;if("Delete"!==r.method){const yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===a?a=[yn]:a.push(yn),u++}lt=Cn===u}else lt=!0;if(lt){if(void 0!==r.protocol){const Cn=u;if("string"!=typeof r.protocol){const yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yn]:a.push(yn),u++}lt=Cn===u}else lt=!0;if(lt)if(void 0!==r.schema){const Cn=u;if("string"!=typeof r.schema){const yn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yn]:a.push(yn),u++}lt=Cn===u}else lt=!0}}}}else{const _n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[_n]:a.push(_n),u++}if((Je=xt===u)&&b)b=!1,K=[K,2];else{Je&&(b=!0,K=2,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.protocol=!0,Re.schema=!0));const _n=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.interface&&(yn="interface")||void 0===r.method&&(yn="method")){const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===a?a=[fn]:a.push(fn),u++}else{if(void 0!==r.interface){const fn=u;if("Records"!==r.interface){const wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[wn]:a.push(wn),u++}var Et=fn===u}else Et=!0;if(Et){if(void 0!==r.method){const fn=u;if("Write"!==r.method){const Qt={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et){if(void 0!==r.schema){const fn=u;if("string"!=typeof r.schema){const Qt={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et){if(void 0!==r.protocol){const fn=u;if("string"!=typeof r.protocol){const Qt={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et){if(void 0!==r.contextId){const fn=u;if("string"!=typeof r.contextId){const Qt={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0;if(Et)if(void 0!==r.protocolPath){const fn=u;if("string"!=typeof r.protocolPath){const Qt={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Qt]:a.push(Qt),u++}Et=fn===u}else Et=!0}}}}}}else{const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[yn]:a.push(yn),u++}if((Je=_n===u)&&b)b=!1,K=[K,3];else{Je&&(b=!0,K=3,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.schema=!0,Re.protocol=!0,Re.contextId=!0,Re.protocolPath=!0));const yn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Qt;if(void 0===r.interface&&(Qt="interface")||void 0===r.method&&(Qt="method")){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Qt},message:"must have required property '"+Qt+"'"};null===a?a=[Nn]:a.push(Nn),u++}else{if(void 0!==r.interface){const Nn=u;if("Records"!==r.interface){const Fn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[Fn]:a.push(Fn),u++}var wt=Nn===u}else wt=!0;if(wt){if(void 0!==r.method){const Nn=u;if("Query"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===a?a=[Gn]:a.push(Gn),u++}wt=Nn===u}else wt=!0;if(wt)if(void 0!==r.protocol){const Nn=u;if("string"!=typeof r.protocol){const Gn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Gn]:a.push(Gn),u++}wt=Nn===u}else wt=!0}}}else{const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Qt]:a.push(Qt),u++}if((Je=yn===u)&&b)b=!1,K=[K,4];else{Je&&(b=!0,K=4,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.protocol=!0));const Qt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.interface&&(Gn="interface")||void 0===r.method&&(Gn="method")){const wr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===a?a=[wr]:a.push(wr),u++}else{if(void 0!==r.interface){const wr=u;if("Records"!==r.interface){const Or={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===a?a=[Or]:a.push(Or),u++}var Ct=wr===u}else Ct=!0;if(Ct){if(void 0!==r.method){const wr=u;if("Subscribe"!==r.method){const nn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===a?a=[nn]:a.push(nn),u++}Ct=wr===u}else Ct=!0;if(Ct)if(void 0!==r.protocol){const wr=u;if("string"!=typeof r.protocol){const nn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[nn]:a.push(nn),u++}Ct=wr===u}else Ct=!0}}}else{const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===a?a=[Gn]:a.push(Gn),u++}var Je;(Je=Qt===u)&&b?(b=!1,K=[K,5]):Je&&(b=!0,K=5,!0!==Re&&((Re=Re||{}).interface=!0,Re.method=!0,Re.protocol=!0))}}}}if(!b){const xt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:K},message:"must match exactly one schema in oneOf"};return null===a?a=[xt]:a.push(xt),u++,$o.errors=a,!1}return u=P,null!==a&&(P?a.length=P:a=null),$o.errors=a,U.props=Re,0===u}function ja(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=ja.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return ja.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.delegated&&(b="delegated")||void 0===r.scope&&(b="scope"))return ja.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=u;for(const _e in r)if("description"!==_e&&"delegated"!==_e&&"scope"!==_e&&"conditions"!==_e)return ja.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(K===u){if(void 0!==r.description){const _e=u;if("string"!=typeof r.description)return ja.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=_e===u}else P=!0;if(P){if(void 0!==r.delegated){const _e=u;if("boolean"!=typeof r.delegated)return ja.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;P=_e===u}else P=!0;if(P){if(void 0!==r.scope){const _e=u;$o(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:o,dynamicAnchors:c})||(a=null===a?$o.errors:a.concat($o.errors),u=a.length),P=_e===u}else P=!0;if(P)if(void 0!==r.conditions){let _e=r.conditions;const Te=u;if(u==u){if(!_e||"object"!=typeof _e||Array.isArray(_e))return ja.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ge=u;for(const ct in _e)if("publication"!==ct)return ja.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(Ge===u&&void 0!==_e.publication){let ct=_e.publication;if("string"!=typeof ct)return ja.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ct&&"Prohibited"!==ct)return ja.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:ba.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}P=Te===u}else P=!0}}}}}}return ja.errors=a,0===u}$o.evaluated={dynamicProps:!0,dynamicItems:!1},ja.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const K0=jl;function jl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=jl.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return jl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const P=0;for(const b in r)if("description"!==b)return jl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;if(0===P&&void 0!==r.description&&"string"!=typeof r.description)return jl.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return jl.errors=null,!0}jl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const GT=op;function op(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=op.evaluated;return U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(op.errors=null,!0):(op.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}op.evaluated={dynamicProps:!1,dynamicItems:!1};const Kl=om;function om(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=om.evaluated;return U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(om.errors=null,!0):(om.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}om.evaluated={dynamicProps:!1,dynamicItems:!1};const pv=Ws,mv=new RegExp(".*","u"),wu={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},ta=new RegExp("^[^$].*$","u"),e_=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),ic=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),Ac=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),yv={validate:Vi};function Vi(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Vi.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Vi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Cn=u;for(const gn in r)if("$encryption"!==gn&&"$actions"!==gn&&"$role"!==gn&&"$size"!==gn&&"$tags"!==gn&&!ta.test(gn))return Vi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gn},message:"must NOT have additional properties"}],!1;if(Cn===u){if(void 0!==r.$encryption){let gn=r.$encryption;const yn=u;if(u===yn){if(!gn||"object"!=typeof gn||Array.isArray(gn))return Vi.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let fn;if(void 0===gn.rootKeyId&&(fn="rootKeyId")||void 0===gn.publicKeyJwk&&(fn="publicKeyJwk"))return Vi.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"}],!1;{const wn=u;for(const Qt in gn)if("rootKeyId"!==Qt&&"publicKeyJwk"!==Qt)return Vi.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Qt},message:"must NOT have additional properties"}],!1;if(wn===u){if(void 0!==gn.rootKeyId){const Qt=u;if("string"!=typeof gn.rootKeyId)return Vi.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=Qt===u}else P=!0;if(P)if(void 0!==gn.publicKeyJwk){const Qt=u;Zn(gn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:gn,parentDataProperty:"publicKeyJwk",rootData:o,dynamicAnchors:c})||(a=null===a?Zn.errors:a.concat(Zn.errors),u=a.length),P=Qt===u}else P=!0}}}}var b=yn===u}else b=!0;if(b){if(void 0!==r.$actions){let gn=r.$actions;const yn=u;if(u===yn){if(!Array.isArray(gn))return Vi.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(gn.length<1)return Vi.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const wn=gn.length;for(let Qt=0;Qt<wn;Qt++){let Nn=gn[Qt];const Fn=u;if(!Nn||"object"!=typeof Nn||Array.isArray(Nn))return Vi.errors=[{instancePath:t+"/$actions/"+Qt,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Gn=u;let wr=!1,Or=null;const nn=u;if(Nn&&"object"==typeof Nn&&!Array.isArray(Nn)){let er;if(void 0===Nn.who&&(er="who")||void 0===Nn.can&&(er="can")){const Tn={instancePath:t+"/$actions/"+Qt,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:er},message:"must have required property '"+er+"'"};null===a?a=[Tn]:a.push(Tn),u++}else{const Tn=u;for(const qn in Nn)if("who"!==qn&&"of"!==qn&&"can"!==qn){const Cr={instancePath:t+"/$actions/"+Qt,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===a?a=[Cr]:a.push(Cr),u++;break}if(Tn===u){if(void 0!==Nn.who){let qn=Nn.who;const Cr=u;if("string"!=typeof qn){const yi={instancePath:t+"/$actions/"+Qt+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yi]:a.push(yi),u++}if("anyone"!==qn&&"author"!==qn&&"recipient"!==qn){const yi={instancePath:t+"/$actions/"+Qt+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:wu.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===a?a=[yi]:a.push(yi),u++}var _e=Cr===u}else _e=!0;if(_e){if(void 0!==Nn.of){const qn=u;if("string"!=typeof Nn.of){const yi={instancePath:t+"/$actions/"+Qt+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[yi]:a.push(yi),u++}_e=qn===u}else _e=!0;if(_e)if(void 0!==Nn.can){let qn=Nn.can;const Cr=u;if(u===Cr)if(Array.isArray(qn))if(qn.length<1){const gi={instancePath:t+"/$actions/"+Qt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[gi]:a.push(gi),u++}else{const gi=qn.length;for(let Xr=0;Xr<gi;Xr++){let Qr=qn[Xr];const zc=u;if("string"!=typeof Qr){const ar={instancePath:t+"/$actions/"+Qt+"/can/"+Xr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[ar]:a.push(ar),u++}if("co-delete"!==Qr&&"co-prune"!==Qr&&"co-update"!==Qr&&"create"!==Qr&&"delete"!==Qr&&"prune"!==Qr&&"read"!==Qr&&"update"!==Qr){const ar={instancePath:t+"/$actions/"+Qt+"/can/"+Xr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:wu.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===a?a=[ar]:a.push(ar),u++}if(zc!==u)break}}else{const gi={instancePath:t+"/$actions/"+Qt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[gi]:a.push(gi),u++}_e=Cr===u}else _e=!0}}}}if(nn===u){wr=!0,Or=0;var Se=!0}const Br=u;if(Nn&&"object"==typeof Nn&&!Array.isArray(Nn)){let er;if(void 0===Nn.role&&(er="role")||void 0===Nn.can&&(er="can")){const Tn={instancePath:t+"/$actions/"+Qt,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:er},message:"must have required property '"+er+"'"};null===a?a=[Tn]:a.push(Tn),u++}else{if(void 0!==Nn.role){const Tn=u;if("string"!=typeof Nn.role){const qn={instancePath:t+"/$actions/"+Qt+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[qn]:a.push(qn),u++}var Re=Tn===u}else Re=!0;if(Re)if(void 0!==Nn.can){let Tn=Nn.can;const qn=u;if(u===qn)if(Array.isArray(Tn))if(Tn.length<1){const yi={instancePath:t+"/$actions/"+Qt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===a?a=[yi]:a.push(yi),u++}else{const yi=Tn.length;for(let gi=0;gi<yi;gi++){let Xr=Tn[gi];const Qr=u;if("string"!=typeof Xr){const Hw={instancePath:t+"/$actions/"+Qt+"/can/"+gi,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===a?a=[Hw]:a.push(Hw),u++}if("co-delete"!==Xr&&"co-update"!==Xr&&"create"!==Xr&&"delete"!==Xr&&"query"!==Xr&&"subscribe"!==Xr&&"read"!==Xr&&"update"!==Xr){const Hw={instancePath:t+"/$actions/"+Qt+"/can/"+gi,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:wu.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===a?a=[Hw]:a.push(Hw),u++}if(Qr!==u)break}}else{const yi={instancePath:t+"/$actions/"+Qt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===a?a=[yi]:a.push(yi),u++}Re=qn===u}else Re=!0}}var ct;if((ct=Br===u)&&wr?(wr=!1,Or=[Or,1]):ct&&(wr=!0,Or=1,!0!==Se&&((Se=Se||{}).role=!0,Se.can=!0)),!wr){const er={instancePath:t+"/$actions/"+Qt,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:Or},message:"must match exactly one schema in oneOf"};return null===a?a=[er]:a.push(er),u++,Vi.errors=a,!1}if(u=Gn,null!==a&&(Gn?a.length=Gn:a=null),Fn!==u)break}}}b=yn===u}else b=!0;if(b){if(void 0!==r.$role){const gn=u;if("boolean"!=typeof r.$role)return Vi.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;b=gn===u}else b=!0;if(b){if(void 0!==r.$size){let gn=r.$size;const yn=u;if(u===yn){if(!gn||"object"!=typeof gn||Array.isArray(gn))return Vi.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const wn=u;for(const Qt in gn)if("min"!==Qt&&"max"!==Qt)return Vi.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Qt},message:"must NOT have additional properties"}],!1;if(wn===u){if(void 0!==gn.min){let Qt=gn.min;const Nn=u;if(u===Nn){if("number"!=typeof Qt||!isFinite(Qt))return Vi.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Qt<0||isNaN(Qt))return Vi.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var Xe=Nn===u}else Xe=!0;if(Xe)if(void 0!==gn.max){let Qt=gn.max;const Nn=u;if(u===Nn){if("number"!=typeof Qt||!isFinite(Qt))return Vi.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Qt<0||isNaN(Qt))return Vi.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}Xe=Nn===u}else Xe=!0}}}b=yn===u}else b=!0;if(b){if(void 0!==r.$tags){let gn=r.$tags;const yn=u;if(u===yn){if(!gn||"object"!=typeof gn||Array.isArray(gn))return Vi.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(gn).length<1)return Vi.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==gn.$requiredTags){let wn=gn.$requiredTags;const Qt=u;if(u===Qt){if(!Array.isArray(wn))return Vi.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Nn=wn.length;for(let Fn=0;Fn<Nn;Fn++){const Gn=u;if("string"!=typeof wn[Fn])return Vi.errors=[{instancePath:t+"/$tags/$requiredTags/"+Fn,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Gn!==u)break}}}var lt=Qt===u}else lt=!0;if(lt){if(void 0!==gn.$allowUndefinedTags){const wn=u;if("boolean"!=typeof gn.$allowUndefinedTags)return Vi.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;lt=wn===u}else lt=!0;if(lt){var Et={$requiredTags:!0,$allowUndefinedTags:!0};for(const wn in gn)if(e_.test(wn)){let Qt=gn[wn];if(u==u){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Fn=u;for(const Gn in Qt)if("type"!==Gn&&"items"!==Gn&&"contains"!==Gn&&!ic.test(Gn))return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Gn},message:"must NOT have additional properties"}],!1;if(Fn===u){if(void 0!==Qt.type){let Gn=Qt.type;const wr=u;if("string"!==Gn&&"number"!==Gn&&"integer"!==Gn&&"boolean"!==Gn&&"array"!==Gn)return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:wu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var wt=wr===u}else wt=!0;if(wt){if(void 0!==Qt.items){let Gn=Qt.items;const wr=u;if(u===wr){if(!Gn||"object"!=typeof Gn||Array.isArray(Gn))return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Gn.type){let nn=Gn.type;const Br=u;if("string"!==nn&&"number"!==nn&&"integer"!==nn)return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:wu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Ct=Br===u}else Ct=!0;if(Ct){var xt={type:!0};for(const nn in Gn)Ac.test(nn)&&(xt[nn]=!0)}}wt=wr===u}else wt=!0;if(wt)if(void 0!==Qt.contains){let Gn=Qt.contains;const wr=u;if(u===wr){if(!Gn||"object"!=typeof Gn||Array.isArray(Gn))return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Gn.type){let nn=Gn.type;const Br=u;if("string"!==nn&&"number"!==nn&&"integer"!==nn)return Vi.errors=[{instancePath:t+"/$tags/"+wn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:wu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Zt=Br===u}else Zt=!0;if(Zt){var hn={type:!0};for(const nn in Gn)Ac.test(nn)&&(hn[nn]=!0)}}wt=wr===u}else wt=!0}}}}Et[wn]=!0}}}}b=yn===u}else b=!0;if(b)for(const gn in r)if(ta.test(gn)){const yn=u;if(yv.validate(r[gn],{instancePath:t+"/"+gn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:gn,rootData:o,dynamicAnchors:c})||(a=null===a?yv.validate.errors:a.concat(yv.validate.errors),u=a.length),yn!==u)break}}}}}}}}return Vi.errors=a,0===u}function Ws(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Ws.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ws.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Se;if(void 0===r.protocol&&(Se="protocol")||void 0===r.published&&(Se="published")||void 0===r.types&&(Se="types")||void 0===r.structure&&(Se="structure"))return Ws.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Se},message:"must have required property '"+Se+"'"}],!1;{const Re=u;for(const Ge in r)if("protocol"!==Ge&&"published"!==Ge&&"types"!==Ge&&"structure"!==Ge)return Ws.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ge},message:"must NOT have additional properties"}],!1;if(Re===u){if(void 0!==r.protocol){const Ge=u;if("string"!=typeof r.protocol)return Ws.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=Ge===u}else P=!0;if(P){if(void 0!==r.published){const Ge=u;if("boolean"!=typeof r.published)return Ws.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;P=Ge===u}else P=!0;if(P){if(void 0!==r.types){let Ge=r.types;const ct=u;if(u===ct){if(!Ge||"object"!=typeof Ge||Array.isArray(Ge))return Ws.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var b={};for(const Je in Ge)if(mv.test(Je)){let lt=Ge[Je];if(u==u){if(!lt||"object"!=typeof lt||Array.isArray(lt))return Ws.errors=[{instancePath:t+"/types/"+Je.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const wt=u;for(const Ct in lt)if("schema"!==Ct&&"dataFormats"!==Ct)return Ws.errors=[{instancePath:t+"/types/"+Je.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ct},message:"must NOT have additional properties"}],!1;if(wt===u){if(void 0!==lt.schema){const Ct=u;if("string"!=typeof lt.schema)return Ws.errors=[{instancePath:t+"/types/"+Je.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=Ct===u}else K=!0;if(K)if(void 0!==lt.dataFormats){let Ct=lt.dataFormats;const xt=u;if(u===xt){if(!Array.isArray(Ct))return Ws.errors=[{instancePath:t+"/types/"+Je.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Ct.length<1)return Ws.errors=[{instancePath:t+"/types/"+Je.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const hn=Ct.length;for(let _n=0;_n<hn;_n++){const Cn=u;if("string"!=typeof Ct[_n])return Ws.errors=[{instancePath:t+"/types/"+Je.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+_n,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Cn!==u)break}}}K=xt===u}else K=!0}}}b[Je]=!0}}P=ct===u}else P=!0;if(P)if(void 0!==r.structure){let Ge=r.structure;const ct=u;if(u===ct){if(!Ge||"object"!=typeof Ge||Array.isArray(Ge))return Ws.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Te={};for(const Je in Ge)mv.test(Je)&&(Vi(Ge[Je],{instancePath:t+"/structure/"+Je.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:Ge,parentDataProperty:Je,rootData:o,dynamicAnchors:c})||(a=null===a?Vi.errors:a.concat(Vi.errors),u=a.length),Te[Je]=!0)}P=ct===u}else P=!0}}}}}}return Ws.errors=a,0===u}Vi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Ws.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const _u=Vi,gv=Jc,XT={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Jc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Jc.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Jc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.authorization&&(K="authorization")||void 0===r.descriptor&&(K="descriptor"))return Jc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=u;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return Jc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(_e===u){if(void 0!==r.authorization){const Te=u;cs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?cs.errors:a.concat(cs.errors),u=a.length);var P=Te===u}else P=!0;if(P)if(void 0!==r.descriptor){let Te=r.descriptor;const Se=u;if(u===Se){if(!Te||"object"!=typeof Te||Array.isArray(Te))return Jc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ge;if(void 0===Te.interface&&(Ge="interface")||void 0===Te.method&&(Ge="method")||void 0===Te.messageTimestamp&&(Ge="messageTimestamp")||void 0===Te.definition&&(Ge="definition"))return Jc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ge},message:"must have required property '"+Ge+"'"}],!1;{const ct=u;for(const Xe in Te)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"definition"!==Xe)return Jc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(ct===u){if(void 0!==Te.interface){let Xe=Te.interface;const Je=u;if("string"!=typeof Xe)return Jc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Xe)return Jc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:XT.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Je===u}else b=!0;if(b){if(void 0!==Te.method){let Xe=Te.method;const Je=u;if("string"!=typeof Xe)return Jc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Xe)return Jc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:XT.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Je===u}else b=!0;if(b){if(void 0!==Te.messageTimestamp){let Xe=Te.messageTimestamp;const Je=u;if(u==u){if("string"!=typeof Xe)return Jc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Xe))return Jc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Je===u}else b=!0;if(b)if(void 0!==Te.definition){const Xe=u;Ws(Te.definition,{instancePath:t+"/descriptor/definition",parentData:Te,parentDataProperty:"definition",rootData:o,dynamicAnchors:c})||(a=null===a?Ws.errors:a.concat(Ws.errors),u=a.length),b=Xe===u}else b=!0}}}}}}P=Se===u}else P=!0}}}}return Jc.errors=a,0===u}Jc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const _2=na,E2={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function na(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=na.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return na.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _e;if(void 0===r.descriptor&&(_e="descriptor"))return na.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:_e},message:"must have required property '"+_e+"'"}],!1;{const Te=u;for(const Se in r)if("authorization"!==Se&&"descriptor"!==Se)return na.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties"}],!1;if(Te===u){if(void 0!==r.authorization){const Se=u;cs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?cs.errors:a.concat(cs.errors),u=a.length);var P=Se===u}else P=!0;if(P)if(void 0!==r.descriptor){let Se=r.descriptor;const Re=u;if(u===Re){if(!Se||"object"!=typeof Se||Array.isArray(Se))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Se.interface&&(ct="interface")||void 0===Se.method&&(ct="method")||void 0===Se.messageTimestamp&&(ct="messageTimestamp"))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const Xe=u;for(const Je in Se)if("interface"!==Je&&"method"!==Je&&"messageTimestamp"!==Je&&"filter"!==Je)return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==Se.interface){let Je=Se.interface;const lt=u;if("string"!=typeof Je)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Je)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:E2.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=lt===u}else b=!0;if(b){if(void 0!==Se.method){let Je=Se.method;const lt=u;if("string"!=typeof Je)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Je)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:E2.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=lt===u}else b=!0;if(b){if(void 0!==Se.messageTimestamp){let Je=Se.messageTimestamp;const lt=u;if(u==u){if("string"!=typeof Je)return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Je))return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=lt===u}else b=!0;if(b)if(void 0!==Se.filter){let Je=Se.filter;const lt=u;if(u===lt){if(!Je||"object"!=typeof Je||Array.isArray(Je))return na.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Je).length<1)return na.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const wt=u;for(const Ct in Je)if("protocol"!==Ct&&"recipient"!==Ct)return na.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ct},message:"must NOT have additional properties"}],!1;if(wt===u){if(void 0!==Je.protocol){const Ct=u;if("string"!=typeof Je.protocol)return na.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=Ct===u}else K=!0;if(K)if(void 0!==Je.recipient){let Ct=Je.recipient;const xt=u;if(u==u){if("string"!=typeof Ct)return na.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ze.test(Ct))return na.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}K=xt===u}else K=!0}}}b=lt===u}else b=!0}}}}}}P=Re===u}else P=!0}}}}return na.errors=a,0===u}na.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const x2=Td,Ok={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Td(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=Td.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Td.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.descriptor&&(K="descriptor"))return Td.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=u;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return Td.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(_e===u){if(void 0!==r.authorization){const Te=u;qo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(a=null===a?qo.errors:a.concat(qo.errors),u=a.length);var P=Te===u}else P=!0;if(P)if(void 0!==r.descriptor){let Te=r.descriptor;const Se=u;if(u===Se){if(!Te||"object"!=typeof Te||Array.isArray(Te))return Td.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ge;if(void 0===Te.interface&&(Ge="interface")||void 0===Te.method&&(Ge="method")||void 0===Te.messageTimestamp&&(Ge="messageTimestamp")||void 0===Te.filter&&(Ge="filter"))return Td.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Ge},message:"must have required property '"+Ge+"'"}],!1;{const ct=u;for(const Xe in Te)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"filter"!==Xe)return Td.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(ct===u){if(void 0!==Te.interface){let Xe=Te.interface;const Je=u;if("string"!=typeof Xe)return Td.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Xe)return Td.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ok.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Je===u}else b=!0;if(b){if(void 0!==Te.method){let Xe=Te.method;const Je=u;if("string"!=typeof Xe)return Td.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==Xe)return Td.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ok.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Je===u}else b=!0;if(b){if(void 0!==Te.messageTimestamp){let Xe=Te.messageTimestamp;const Je=u;if(u==u){if("string"!=typeof Xe)return Td.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!We.test(Xe))return Td.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Je===u}else b=!0;if(b)if(void 0!==Te.filter){const Xe=u;Lr(Te.filter,{instancePath:t+"/descriptor/filter",parentData:Te,parentDataProperty:"filter",rootData:o,dynamicAnchors:c})||(a=null===a?Lr.errors:a.concat(Lr.errors),u=a.length),b=Xe===u}else b=!0}}}}}}P=Se===u}else P=!0}}}}return Td.errors=a,0===u}Td.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const vN=Lr,bN=Zn,wN=df;function df(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=df.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return df.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.descriptorCid&&(b="descriptorCid"))return df.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=0;for(const _e in r)if("descriptorCid"!==_e&&"delegatedGrantId"!==_e&&"permissionGrantId"!==_e&&"protocolRole"!==_e)return df.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.descriptorCid){const _e=0;if("string"!=typeof r.descriptorCid)return df.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=0===_e}else P=!0;if(P){if(void 0!==r.delegatedGrantId){const _e=0;if("string"!=typeof r.delegatedGrantId)return df.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P){if(void 0!==r.permissionGrantId){const _e=0;if("string"!=typeof r.permissionGrantId)return df.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P)if(void 0!==r.protocolRole){const _e=0;if("string"!=typeof r.protocolRole)return df.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0}}}}}return df.errors=null,!0}df.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const _N=rl;function rl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const U=rl.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return rl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.descriptorCid&&(b="descriptorCid")||void 0===r.recordId&&(b="recordId"))return rl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=0;for(const _e in r)if("descriptorCid"!==_e&&"recordId"!==_e&&"contextId"!==_e&&"attestationCid"!==_e&&"encryptionCid"!==_e&&"delegatedGrantId"!==_e&&"permissionGrantId"!==_e&&"protocolRole"!==_e)return rl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.descriptorCid){const _e=0;if("string"!=typeof r.descriptorCid)return rl.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=0===_e}else P=!0;if(P){if(void 0!==r.recordId){const _e=0;if("string"!=typeof r.recordId)return rl.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P){if(void 0!==r.contextId){const _e=0;if("string"!=typeof r.contextId)return rl.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P){if(void 0!==r.attestationCid){const _e=0;if("string"!=typeof r.attestationCid)return rl.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P){if(void 0!==r.encryptionCid){const _e=0;if("string"!=typeof r.encryptionCid)return rl.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P){if(void 0!==r.delegatedGrantId){const _e=0;if("string"!=typeof r.delegatedGrantId)return rl.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P){if(void 0!==r.permissionGrantId){const _e=0;if("string"!=typeof r.permissionGrantId)return rl.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0;if(P)if(void 0!==r.protocolRole){const _e=0;if("string"!=typeof r.protocolRole)return rl.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;P=0===_e}else P=!0}}}}}}}}}return rl.errors=null,!0}rl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const EN=il;function il(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let a=null,u=0;const U=il.evaluated;if(U.dynamicProps&&(U.props=void 0),U.dynamicItems&&(U.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return il.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return il.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Re=u;for(const Ge in r)if("gt"!==Ge&&"gte"!==Ge&&"lt"!==Ge&&"lte"!==Ge)return il.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ge},message:"must NOT have additional properties"}],!1;if(Re===u){if(void 0!==r.gt){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Je;if(void 0===r.gte&&(Je="gte")){const lt={};null===a?a=[lt]:a.push(lt),u++}}if(Xe===u)return il.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null);var b=Ge===u}else b=!0;if(b){if(void 0!==r.gte){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.gt&&(lt="gt")){const Et={};null===a?a=[Et]:a.push(Et),u++}}if(Xe===u)return il.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null),b=Ge===u}else b=!0;if(b){if(void 0!==r.lt){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lte&&(lt="lte")){const Et={};null===a?a=[Et]:a.push(Et),u++}}if(Xe===u)return il.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null),b=Ge===u}else b=!0;if(b){if(void 0!==r.lte){const Ge=u,ct=u,Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lt&&(lt="lt")){const Et={};null===a?a=[Et]:a.push(Et),u++}}if(Xe===u)return il.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ct,null!==a&&(ct?a.length=ct:a=null),b=Ge===u}else b=!0;if(b){if(void 0!==r.gt){const Ge=u;if("string"!=typeof r.gt)return il.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Se=Ge===u}else Se=!0;if(Se){if(void 0!==r.gte){const Ge=u;if("string"!=typeof r.gte)return il.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Se=Ge===u}else Se=!0;if(Se){if(void 0!==r.lt){const Ge=u;if("string"!=typeof r.lt)return il.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Se=Ge===u}else Se=!0;if(Se)if(void 0!==r.lte){const Ge=u;if("string"!=typeof r.lte)return il.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Se=Ge===u}else Se=!0}}}}}}}}}return il.errors=a,0===u}function sm(r,t){const n=te[r];if(!n)throw new qt(Yt.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:o,message:c,keyword:a}=i;if(o||(o=r),"additionalProperties"===a)throw new qt(Yt.SchemaValidatorAdditionalPropertyNotAllowed,`${c}: ${o}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===a)throw new qt(Yt.SchemaValidatorUnevaluatedPropertyNotAllowed,`${c}: ${o}: ${i.params.unevaluatedProperty}`);throw new qt(Yt.SchemaValidatorFailure,`${o}: ${c}`)}il.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var t_=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class lf{constructor(t){this.cache=t||new wl(600)}static get singleton(){return void 0===lf._singleton&&(lf._singleton=new lf),lf._singleton}static verifySignatures(t,n){return t_(this,void 0,void 0,function*(){return yield lf.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return t_(this,void 0,void 0,function*(){const i=[];for(const o of t.signatures){let c;const a=Ko.getKid(o),u=`${o.protected}.${t.payload}.${o.signature}`,U=yield this.cache.get(u);if(void 0===U){const b=yield lf.getPublicKey(a,n);c=yield Ko.verifySignature(t.payload,o,b),yield this.cache.set(u,c)}else c=U;const P=Ko.extractDid(a);if(!c)throw new qt(Yt.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${P}`);i.push(P)}return{signers:i}})}static getPublicKey(t,n){return t_(this,void 0,void 0,function*(){const i=Ko.extractDid(t),{didDocument:o}=yield n.resolve(i),{verificationMethod:c=[]}=o||{};let a;for(const U of c)if(t.endsWith(U.id)){a=U;break}if(!a)throw new qt(Yt.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");sm("JwkVerificationMethod",a);const{publicKeyJwk:u}=a;return u})}}const xN=["string","number","bigint","symbol"],MN=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Qn{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Qn.uint=new Qn(0,"uint",!0),Qn.negint=new Qn(1,"negint",!0),Qn.bytes=new Qn(2,"bytes",!0),Qn.string=new Qn(3,"string",!0),Qn.array=new Qn(4,"array",!1),Qn.map=new Qn(5,"map",!1),Qn.tag=new Qn(6,"tag",!1),Qn.float=new Qn(7,"float",!0),Qn.false=new Qn(7,"false",!0),Qn.true=new Qn(7,"true",!0),Qn.null=new Qn(7,"null",!0),Qn.undefined=new Qn(7,"undefined",!0),Qn.break=new Qn(7,"break",!0);class ti{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const $0=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,Bk=new TextDecoder,ZT=new TextEncoder;function vv(r){return $0&&globalThis.Buffer.isBuffer(r)}function JT(r){return r instanceof Uint8Array?vv(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const M2=$0?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):sp(r,t,n):(r,t,n)=>n-t>64?Bk.decode(r.subarray(t,n)):sp(r,t,n),Nk=$0?r=>r.length>64?globalThis.Buffer.from(r):V0(r):r=>r.length>64?ZT.encode(r):V0(r),oc=r=>Uint8Array.from(r),n_=$0?(r,t,n)=>vv(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),qT=$0?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),JT(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let o of r)i+o.length>n.length&&(o=o.subarray(0,n.length-i)),n.set(o,i),i+=o.length;return n},To=$0?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function V0(r,t=1/0){let n;const i=r.length;let o=null;const c=[];for(let a=0;a<i;++a){if(n=r.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&c.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&c.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&c.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&c.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;c.push(n)}else if(n<2048){if((t-=2)<0)break;c.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;c.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;c.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return c}function sp(r,t,n){const i=[];for(;t<n;){const o=r[t];let c=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=n){let u,U,P,b;switch(a){case 1:o<128&&(c=o);break;case 2:u=r[t+1],128==(192&u)&&(b=(31&o)<<6|63&u,b>127&&(c=b));break;case 3:u=r[t+1],U=r[t+2],128==(192&u)&&128==(192&U)&&(b=(15&o)<<12|(63&u)<<6|63&U,b>2047&&(b<55296||b>57343)&&(c=b));break;case 4:u=r[t+1],U=r[t+2],P=r[t+3],128==(192&u)&&128==(192&U)&&128==(192&P)&&(b=(15&o)<<18|(63&u)<<12|(63&U)<<6|63&P,b>65535&&b<1114112&&(c=b))}}null===c?(c=65533,a=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),t+=a}return function Lk(r){const t=r.length;if(t<=sl)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=sl));return n}(i)}const sl=4096;class eD{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const o=n.length-(this.maxCursor-this.cursor)-1;o<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=To(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=n_(i,0,this.cursor)}else n=qT(this.chunks,this.cursor);return t&&this.reset(),n}}const Bi="CBOR decode error:",A2="CBOR encode error:",z0=[];function am(r,t,n){if(r.length-t<n)throw new Error(`${Bi} not enough data for type`)}z0[23]=1,z0[24]=2,z0[25]=3,z0[26]=5,z0[27]=9;const wa=[24,256,65536,4294967296,BigInt("18446744073709551616")];function hh(r,t,n){am(r,t,1);const i=r[t];if(!0===n.strict&&i<wa[0])throw new Error(`${Bi} integer encoded in more bytes than necessary (strict decode)`);return i}function uf(r,t,n){am(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<wa[1])throw new Error(`${Bi} integer encoded in more bytes than necessary (strict decode)`);return i}function ff(r,t,n){am(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<wa[2])throw new Error(`${Bi} integer encoded in more bytes than necessary (strict decode)`);return i}function ph(r,t,n){am(r,t,8);const o=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],c=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(o);if(!0===n.strict&&c<wa[3])throw new Error(`${Bi} integer encoded in more bytes than necessary (strict decode)`);if(c<=Number.MAX_SAFE_INTEGER)return Number(c);if(!0===n.allowBigInt)return c;throw new Error(`${Bi} integers outside of the safe integer range are not supported`)}function ap(r,t){return Eu(r,0,t.value)}function Eu(r,t,n){if(n<wa[0]){const i=Number(n);r.push([t|i])}else if(n<wa[1]){const i=Number(n);r.push([24|t,i])}else if(n<wa[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<wa[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<wa[4]))throw new Error(`${Bi} encountered BigInt larger than allowable range`);{const o=[27|t,0,0,0,0,0,0,0];let c=Number(i&BigInt(4294967295)),a=Number(i>>BigInt(32)&BigInt(4294967295));o[8]=255&c,c>>=8,o[7]=255&c,c>>=8,o[6]=255&c,c>>=8,o[5]=255&c,o[4]=255&a,a>>=8,o[3]=255&a,a>>=8,o[2]=255&a,a>>=8,o[1]=255&a,r.push(o)}}}ap.encodedSize=function(t){return Eu.encodedSize(t.value)},Eu.encodedSize=function(t){return t<wa[0]?1:t<wa[1]?2:t<wa[2]?3:t<wa[3]?5:9},ap.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const o_=BigInt(-1),cp=BigInt(1);function D2(r,t){const n=t.value;Eu(r,t.type.majorEncoded,"bigint"==typeof n?n*o_-cp:-1*n-1)}function bv(r,t,n,i){am(r,t,n+i);const o=n_(r,t+n,t+n+i);return new ti(Qn.bytes,o,n+i)}function Vk(r,t,n,i){return bv(r,t,1,n)}function wv(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===Qn.string?Nk(r.value):r.value),r.encodedBytes}function ko(r,t){const n=wv(t);Eu(r,t.type.majorEncoded,n.length),r.push(n)}function yh(r,t,n,i,o){const c=n+i;am(r,t,c);const a=new ti(Qn.string,M2(r,t+n,t+c),c);return!0===o.retainStringBytes&&(a.byteValue=n_(r,t+n,t+c)),a}function xu(r,t,n,i){return yh(r,t,1,n,i)}D2.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*o_-cp:-1*n-1;return i<wa[0]?1:i<wa[1]?2:i<wa[2]?3:i<wa[3]?5:9},D2.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},ko.encodedSize=function(t){const n=wv(t);return Eu.encodedSize(n.length)+n.length},ko.compareTokens=function(t,n){return function nD(r,t){return r.length<t.length?-1:r.length>t.length?1:function Uk(r,t){if(vv(r)&&vv(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(wv(t),wv(n))};const TN=ko;function cm(r,t,n,i){return new ti(Qn.array,i,n)}function iD(r,t,n,i){return cm(0,0,1,n)}function Su(r,t){Eu(r,Qn.array.majorEncoded,t.value)}function H0(r,t,n,i){return new ti(Qn.map,i,n)}function aD(r,t,n,i){return H0(0,0,1,n)}function W0(r,t){Eu(r,Qn.map.majorEncoded,t.value)}function Gk(r,t,n,i){return new ti(Qn.tag,n,1)}function s_(r,t){Eu(r,Qn.tag.majorEncoded,t.value)}Su.compareTokens=ap.compareTokens,Su.encodedSize=function(t){return Eu.encodedSize(t.value)},W0.compareTokens=ap.compareTokens,W0.encodedSize=function(t){return Eu.encodedSize(t.value)},s_.compareTokens=ap.compareTokens,s_.encodedSize=function(t){return Eu.encodedSize(t.value)};function a_(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${Bi} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${Bi} Infinity values are not supported`)}return new ti(Qn.float,r,t)}function c_(r,t,n){const i=t.value;if(!1===i)r.push([20|Qn.float.majorEncoded]);else if(!0===i)r.push([21|Qn.float.majorEncoded]);else if(null===i)r.push([22|Qn.float.majorEncoded]);else if(void 0===i)r.push([23|Qn.float.majorEncoded]);else{let o,c=!1;(!n||!0!==n.float64)&&(hD(i),o=G0(Ca,1),i===o||Number.isNaN(i)?(Ca[0]=249,r.push(Ca.slice(0,3)),c=!0):(_v(i),o=X0(Ca,1),i===o&&(Ca[0]=250,r.push(Ca.slice(0,5)),c=!0))),c||(function U2(r){qc.setFloat64(0,r,!1)}(i),o=L2(Ca,1),Ca[0]=251,r.push(Ca.slice(0,9)))}}c_.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){hD(i);let o=G0(Ca,1);if(i===o||Number.isNaN(i))return 3;if(_v(i),o=X0(Ca,1),i===o)return 5}return 9};const N2=new ArrayBuffer(9),qc=new DataView(N2,1),Ca=new Uint8Array(N2,0);function hD(r){if(r===1/0)qc.setUint16(0,31744,!1);else if(r===-1/0)qc.setUint16(0,64512,!1);else if(Number.isNaN(r))qc.setUint16(0,32256,!1);else{qc.setFloat32(0,r);const t=qc.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)qc.setUint16(0,31744,!1);else if(0===n)qc.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const o=n-127;o<-24?qc.setUint16(0,0):qc.setUint16(0,o<-14?(2147483648&t)>>16|1<<24+o:(2147483648&t)>>16|o+15<<10|i>>13,!1)}}}function G0(r,t){if(r.length-t<2)throw new Error(`${Bi} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,o=1023&n;let c;return c=0===i?o*2**-24:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-c:c}function _v(r){qc.setFloat32(0,r,!1)}function X0(r,t){if(r.length-t<4)throw new Error(`${Bi} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function L2(r,t){if(r.length-t<8)throw new Error(`${Bi} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function Do(r,t,n){throw new Error(`${Bi} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function d_(r){return()=>{throw new Error(`${Bi} ${r}`)}}c_.compareTokens=ap.compareTokens;const xr=[];for(let r=0;r<=23;r++)xr[r]=Do;xr[24]=function mh(r,t,n,i){return new ti(Qn.uint,hh(r,t+1,i),2)},xr[25]=function Pi(r,t,n,i){return new ti(Qn.uint,uf(r,t+1,i),3)},xr[26]=function i_(r,t,n,i){return new ti(Qn.uint,ff(r,t+1,i),5)},xr[27]=function T2(r,t,n,i){return new ti(Qn.uint,ph(r,t+1,i),9)},xr[28]=Do,xr[29]=Do,xr[30]=Do,xr[31]=Do;for(let r=32;r<=55;r++)xr[r]=Do;xr[56]=function Fk(r,t,n,i){return new ti(Qn.negint,-1-hh(r,t+1,i),2)},xr[57]=function jk(r,t,n,i){return new ti(Qn.negint,-1-uf(r,t+1,i),3)},xr[58]=function Kk(r,t,n,i){return new ti(Qn.negint,-1-ff(r,t+1,i),5)},xr[59]=function $k(r,t,n,i){const o=ph(r,t+1,i);if("bigint"!=typeof o){const c=-1-o;if(c>=Number.MIN_SAFE_INTEGER)return new ti(Qn.negint,c,9)}if(!0!==i.allowBigInt)throw new Error(`${Bi} integers outside of the safe integer range are not supported`);return new ti(Qn.negint,o_-BigInt(o),9)},xr[60]=Do,xr[61]=Do,xr[62]=Do,xr[63]=Do;for(let r=64;r<=87;r++)xr[r]=Vk;xr[88]=function zk(r,t,n,i){return bv(r,t,2,hh(r,t+1,i))},xr[89]=function Ln(r,t,n,i){return bv(r,t,3,uf(r,t+1,i))},xr[90]=function Ji(r,t,n,i){return bv(r,t,5,ff(r,t+1,i))},xr[91]=function tD(r,t,n,i){const o=ph(r,t+1,i);if("bigint"==typeof o)throw new Error(`${Bi} 64-bit integer bytes lengths not supported`);return bv(r,t,9,o)},xr[92]=Do,xr[93]=Do,xr[94]=Do,xr[95]=d_("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)xr[r]=xu;xr[120]=function I2(r,t,n,i){return yh(r,t,2,hh(r,t+1,i),i)},xr[121]=function C2(r,t,n,i){return yh(r,t,3,uf(r,t+1,i),i)},xr[122]=function rD(r,t,n,i){return yh(r,t,5,ff(r,t+1,i),i)},xr[123]=function AN(r,t,n,i){const o=ph(r,t+1,i);if("bigint"==typeof o)throw new Error(`${Bi} 64-bit integer string lengths not supported`);return yh(r,t,9,o,i)},xr[124]=Do,xr[125]=Do,xr[126]=Do,xr[127]=d_("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)xr[r]=iD;xr[152]=function oD(r,t,n,i){return cm(0,0,2,hh(r,t+1,i))},xr[153]=function Dd(r,t,n,i){return cm(0,0,3,uf(r,t+1,i))},xr[154]=function gh(r,t,n,i){return cm(0,0,5,ff(r,t+1,i))},xr[155]=function sD(r,t,n,i){const o=ph(r,t+1,i);if("bigint"==typeof o)throw new Error(`${Bi} 64-bit integer array lengths not supported`);return cm(0,0,9,o)},xr[156]=Do,xr[157]=Do,xr[158]=Do,xr[159]=function Mu(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Bi} indefinite length items not allowed`);return cm(0,0,1,1/0)};for(let r=160;r<=183;r++)xr[r]=aD;xr[184]=function Hk(r,t,n,i){return H0(0,0,2,hh(r,t+1,i))},xr[185]=function Wk(r,t,n,i){return H0(0,0,3,uf(r,t+1,i))},xr[186]=function k2(r,t,n,i){return H0(0,0,5,ff(r,t+1,i))},xr[187]=function P2(r,t,n,i){const o=ph(r,t+1,i);if("bigint"==typeof o)throw new Error(`${Bi} 64-bit integer map lengths not supported`);return H0(0,0,9,o)},xr[188]=Do,xr[189]=Do,xr[190]=Do,xr[191]=function O2(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Bi} indefinite length items not allowed`);return H0(0,0,1,1/0)};for(let r=192;r<=215;r++)xr[r]=Gk;xr[216]=function cD(r,t,n,i){return new ti(Qn.tag,hh(r,t+1,i),2)},xr[217]=function R2(r,t,n,i){return new ti(Qn.tag,uf(r,t+1,i),3)},xr[218]=function dD(r,t,n,i){return new ti(Qn.tag,ff(r,t+1,i),5)},xr[219]=function lD(r,t,n,i){return new ti(Qn.tag,ph(r,t+1,i),9)},xr[220]=Do,xr[221]=Do,xr[222]=Do,xr[223]=Do;for(let r=224;r<=243;r++)xr[r]=d_("simple values are not supported");xr[244]=Do,xr[245]=Do,xr[246]=Do,xr[247]=function dm(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${Bi} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new ti(Qn.null,null,1):new ti(Qn.undefined,void 0,1)},xr[248]=d_("simple values are not supported"),xr[249]=function Yk(r,t,n,i){return a_(G0(r,t+1),3,i)},xr[250]=function fD(r,t,n,i){return a_(X0(r,t+1),5,i)},xr[251]=function Zk(r,t,n,i){return a_(L2(r,t+1),9,i)},xr[252]=Do,xr[253]=Do,xr[254]=Do,xr[255]=function ws(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Bi} indefinite length items not allowed`);return new ti(Qn.break,void 0,1)};const al=[];for(let r=0;r<24;r++)al[r]=new ti(Qn.uint,r,1);for(let r=-1;r>=-24;r--)al[31-r]=new ti(Qn.negint,r,1);al[64]=new ti(Qn.bytes,new Uint8Array(0),1),al[96]=new ti(Qn.string,"",1),al[128]=new ti(Qn.array,0,1),al[160]=new ti(Qn.map,0,1),al[244]=new ti(Qn.false,!1,1),al[245]=new ti(Qn.true,!0,1),al[246]=new ti(Qn.null,null,1);const F2={float64:!1,mapSorter:function Ev(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const c=mD[n.type.major].compareTokens(n,i);return 0===c&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),c},quickEncodeToken:function Jk(r){switch(r.type){case Qn.false:return oc([244]);case Qn.true:return oc([245]);case Qn.null:return oc([246]);case Qn.bytes:return r.value.length?void 0:oc([64]);case Qn.string:return""===r.value?oc([96]):void 0;case Qn.array:return 0===r.value?oc([128]):void 0;case Qn.map:return 0===r.value?oc([160]):void 0;case Qn.uint:return r.value<24?oc([Number(r.value)]):void 0;case Qn.negint:if(r.value>=-24)return oc([31-Number(r.value)])}}},mD=function pD(){const r=[];return r[Qn.uint.major]=ap,r[Qn.negint.major]=D2,r[Qn.bytes.major]=ko,r[Qn.string.major]=TN,r[Qn.array.major]=Su,r[Qn.map.major]=W0,r[Qn.tag.major]=s_,r[Qn.float.major]=c_,r}(),j2=new eD;class K2{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${A2} object contains circular references`);return new K2(n,t)}}const lm={null:new ti(Qn.null,null),undefined:new ti(Qn.undefined,void 0),true:new ti(Qn.true,!0),false:new ti(Qn.false,!1),emptyArray:new ti(Qn.array,0),emptyMap:new ti(Qn.map,0)},hf={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new ti(r>=0?Qn.uint:Qn.negint,r):new ti(Qn.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new ti(Qn.uint,r):new ti(Qn.negint,r),Uint8Array:(r,t,n,i)=>new ti(Qn.bytes,r),string:(r,t,n,i)=>new ti(Qn.string,r),boolean:(r,t,n,i)=>r?lm.true:lm.false,null:(r,t,n,i)=>lm.null,undefined:(r,t,n,i)=>lm.undefined,ArrayBuffer:(r,t,n,i)=>new ti(Qn.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new ti(Qn.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[lm.emptyArray,new ti(Qn.break)]:lm.emptyArray;i=K2.createCheck(i,r);const o=[];let c=0;for(const a of r)o[c++]=pf(a,n,i);return n.addBreakTokens?[new ti(Qn.array,r.length),o,new ti(Qn.break)]:[new ti(Qn.array,r.length),o]},Object(r,t,n,i){const o="Object"!==t,c=o?r.keys():Object.keys(r),a=o?r.size:c.length;if(!a)return!0===n.addBreakTokens?[lm.emptyMap,new ti(Qn.break)]:lm.emptyMap;i=K2.createCheck(i,r);const u=[];let U=0;for(const P of c)u[U++]=[pf(P,n,i),pf(o?r.get(P):r[P],n,i)];return function $2(r,t){t.mapSorter&&r.sort(t.mapSorter)}(u,n),n.addBreakTokens?[new ti(Qn.map,a),u,new ti(Qn.break)]:[new ti(Qn.map,a),u]}};hf.Map=hf.Object,hf.Buffer=hf.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))hf[`${r}Array`]=hf.DataView;function pf(r,t={},n){const i=function SN(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(xN.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function Rk(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function YT(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(MN.includes(t))return t}(r);return n||"Object"}(r),o=t&&t.typeEncoders&&t.typeEncoders[i]||hf[i];if("function"==typeof o){const a=o(r,i,t,n);if(null!=a)return a}const c=hf[i];if(!c)throw new Error(`${A2} unsupported type: ${i}`);return c(r,i,t,n)}function yD(r,t,n,i){if(Array.isArray(t))for(const o of t)yD(r,o,n,i);else n[t.type.major](r,t,i)}function xv(r,t,n){const i=pf(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const o=n.quickEncodeToken(i);if(o)return o;const c=t[i.type.major];if(c.encodedSize){const a=c.encodedSize(i,n),u=new eD(a);if(c(u,i,n),1!==u.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return JT(u.chunks[0])}}return j2.reset(),yD(j2,i,t,n),j2.toBytes(!0)}const V2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class l_{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=al[t];if(void 0===n){const i=xr[t];if(!i)throw new Error(`${Bi} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const u_=Symbol.for("DONE"),Mv=Symbol.for("BREAK");function cl(r,t){if(r.done())return u_;const n=r.next();if(n.type===Qn.break)return Mv;if(n.type.terminal)return n.value;if(n.type===Qn.array)return function gD(r,t,n){const i=[];for(let o=0;o<r.value;o++){const c=cl(t,n);if(c===Mv){if(r.value===1/0)break;throw new Error(`${Bi} got unexpected break to lengthed array`)}if(c===u_)throw new Error(`${Bi} found array but not enough entries (got ${o}, expected ${r.value})`);i[o]=c}return i}(n,r,t);if(n.type===Qn.map)return function Qk(r,t,n){const i=!0===n.useMaps,o=i?void 0:{},c=i?new Map:void 0;for(let a=0;a<r.value;a++){const u=cl(t,n);if(u===Mv){if(r.value===1/0)break;throw new Error(`${Bi} got unexpected break to lengthed map`)}if(u===u_)throw new Error(`${Bi} found map but not enough entries (got ${a} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof u)throw new Error(`${Bi} non-string keys not supported (got ${typeof u})`);if(!0===n.rejectDuplicateMapKeys&&(i&&c.has(u)||!i&&u in o))throw new Error(`${Bi} found repeat map key "${u}"`);const U=cl(t,n);if(U===u_)throw new Error(`${Bi} found map but not enough entries (got ${a} [no value], expected ${r.value})`);i?c.set(u,U):o[u]=U}return i?c:o}(n,r,t);if(n.type===Qn.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=cl(r,t);return t.tags[n.value](i)}throw new Error(`${Bi} tag not supported (${n.value})`)}throw new Error("unsupported")}const h_=function f_(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),a=c.charCodeAt(0);if(255!==n[a])throw new TypeError(c+" is ambiguous");n[a]=o}var u=r.length,U=r.charAt(0),P=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function _e(Se){if("string"!=typeof Se)throw new TypeError("Expected String");if(0===Se.length)return new Uint8Array;var Re=0;if(" "!==Se[Re]){for(var Ge=0,ct=0;Se[Re]===U;)Ge++,Re++;for(var Xe=(Se.length-Re)*P+1>>>0,Je=new Uint8Array(Xe);Se[Re];){var lt=n[Se.charCodeAt(Re)];if(255===lt)return;for(var Et=0,wt=Xe-1;(0!==lt||Et<ct)&&-1!==wt;wt--,Et++)Je[wt]=(lt+=u*Je[wt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");ct=Et,Re++}if(" "!==Se[Re]){for(var Ct=Xe-ct;Ct!==Xe&&0===Je[Ct];)Ct++;for(var xt=new Uint8Array(Ge+(Xe-Ct)),Zt=Ge;Ct!==Xe;)xt[Zt++]=Je[Ct++];return xt}}}return{encode:function K(Se){if(Se instanceof Uint8Array||(ArrayBuffer.isView(Se)?Se=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength):Array.isArray(Se)&&(Se=Uint8Array.from(Se))),!(Se instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Se.length)return"";for(var Re=0,Ge=0,ct=0,Xe=Se.length;ct!==Xe&&0===Se[ct];)ct++,Re++;for(var Je=(Xe-ct)*b+1>>>0,lt=new Uint8Array(Je);ct!==Xe;){for(var Et=Se[ct],wt=0,Ct=Je-1;(0!==Et||wt<Ge)&&-1!==Ct;Ct--,wt++)lt[Ct]=(Et+=256*lt[Ct]>>>0)%u>>>0,Et=Et/u>>>0;if(0!==Et)throw new Error("Non-zero carry");Ge=wt,ct++}for(var xt=Je-Ge;xt!==Je&&0===lt[xt];)xt++;for(var Zt=U.repeat(Re);xt<Je;++xt)Zt+=r.charAt(lt[xt]);return Zt},decodeUnsafe:_e,decode:function Te(Se){var Re=_e(Se);if(Re)return Re;throw new Error(`Non-${t} character`)}}},p_=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class um{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class r8{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return G2(this,t)}}class wD{constructor(t){this.decoders=t}or(t){return G2(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const G2=(r,t)=>new wD({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Y0{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new um(t,n,i),this.decoder=new r8(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const fm=({name:r,prefix:t,encode:n,decode:i})=>new Y0(r,t,n,i),ka=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=h_(n,t);return fm({prefix:r,name:t,encode:i,decode:c=>p_(o(c))})},Au=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>fm({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a})(o,i,n,r)}),m_=Au({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dp=(Au({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Au({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Au({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Au({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Au({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Au({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Au({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Au({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ka({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));ka({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var MD=128,c8=-128,d8=Math.pow(2,31),TD=128,Pa=127,u8=Math.pow(2,7),ON=Math.pow(2,14),ID=Math.pow(2,21),RN=Math.pow(2,28),Z2=Math.pow(2,35),Tu=Math.pow(2,42),CD=Math.pow(2,49),Sv=Math.pow(2,56),f8=Math.pow(2,63),kD={encode:function l8(r,t,n){t=t||[];for(var i=n=n||0;r>=d8;)t[n++]=255&r|MD,r/=128;for(;r&c8;)t[n++]=255&r|MD,r>>>=7;return t[n]=0|r,l8.bytes=n-i+1,t},decode:function DD(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw DD.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&Pa)<<o:(a&Pa)*Math.pow(2,o),o+=7}while(a>=TD);return DD.bytes=c-i,n},encodingLength:function(r){return r<u8?1:r<ON?2:r<ID?3:r<RN?4:r<Z2?5:r<Tu?6:r<CD?7:r<Sv?8:r<f8?9:10}};const J2=kD,PD=(r,t=0)=>[J2.decode(r,t),J2.decode.bytes],q2=(r,t,n=0)=>(J2.encode(r,t,n),t),Q2=r=>J2.encodingLength(r);class y_{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const vh=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?m8(n,ex(r),t||dp.encoder):OD(n,ex(r),t||m_.encoder)},Du=new WeakMap,ex=r=>{const t=Du.get(r);if(null==t){const n=new Map;return Du.set(r,n),n}return t};class ra{constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==J0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==g_)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ra.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=Q2(r),o=i+Q2(n),c=new Uint8Array(o+n);return q2(r,c,0),q2(n,c,i),c.set(t,o),new y_(r,n,t,c)})(t,n);return ra.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return ra.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return vh(this,t)}toJSON(){return{"/":vh(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof ra)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:c,bytes:a}=n;return new ra(i,o,c,a||Dv(i,o,c.bytes))}if(!0===n[tx]){const{version:i,multihash:o,code:c}=n,a=(r=>{const t=p_(r),[n,i]=PD(t),[o,c]=PD(t.subarray(i)),a=t.subarray(i+c);if(a.byteLength!==o)throw new Error("Incorrect length");return new y_(n,o,a,t)})(o);return ra.create(i,c,a)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==J0)throw new Error(`Version 0 CID must use dag-pb (code: ${J0}) block encoding`);return new ra(t,n,i,i.bytes);case 1:{const o=Dv(t,n,i.bytes);return new ra(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return ra.create(0,J0,t)}static createV1(t,n){return ra.create(1,t,n)}static decode(t){const[n,i]=ra.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=ra.inspectBytes(t),i=n.size-n.multihashSize,o=p_(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const c=o.subarray(n.multihashSize-n.digestSize),a=new y_(n.multihashCode,n.digestSize,c,o);return[0===n.version?ra.createV0(a):ra.createV1(n.codec,a),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[K,_e]=PD(t.subarray(n));return n+=_e,K};let o=i(),c=J0;if(18===o?(o=0,n=0):c=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const a=n,u=i(),U=i(),P=n+U;return{version:o,codec:c,multihashCode:u,digestSize:U,multihashSize:P-a,size:P}}static parse(t,n){const[i,o]=Tv(t,n),c=ra.decode(o);if(0===c.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return ex(c).set(i,t),c}}const Tv=(r,t)=>{switch(r[0]){case"Q":return[dp.prefix,(t||dp).decode(`${dp.prefix}${r}`)];case dp.prefix:return[dp.prefix,(t||dp).decode(r)];case m_.prefix:return[m_.prefix,(t||m_).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},m8=(r,t,n)=>{const{prefix:i}=n;if(i!==dp.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const c=n.encode(r).slice(1);return t.set(i,c),c}return o},OD=(r,t,n)=>{const{prefix:i}=n,o=t.get(i);if(null==o){const c=n.encode(r);return t.set(i,c),c}return o},J0=112,g_=18,Dv=(r,t,n)=>{const i=Q2(r),o=i+Q2(t),c=new Uint8Array(o+n.byteLength);return q2(r,c,0),q2(t,c,i),c.set(n,o),c},tx=Symbol.for("@ipld/js-cid/CID"),v8={float64:!0,typeEncoders:{Object:function y8(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=ra.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new ti(Qn.tag,42),new ti(Qn.bytes,n)]},undefined:function g8(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function BD(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},Id={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Id.tags[42]=function b8(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ra.decode(r.subarray(1))};const nx="dag-cbor",Iv=113,v_=r=>function qk(r,t){return t=Object.assign({},F2,t),xv(r,mD,t)}(r,v8),w8=r=>function e8(r,t){if(!(r instanceof Uint8Array))throw new Error(`${Bi} data to decode must be a Uint8Array`);const n=(t=Object.assign({},V2,t)).tokenizer||new l_(r,t),i=cl(n,t);if(i===u_)throw new Error(`${Bi} did not find any content to decode`);if(i===Mv)throw new Error(`${Bi} got unexpected break`);if(!n.done())throw new Error(`${Bi} too many terminals, data makes no sense`);return i}(r,Id);var mf=E(41405),Gs=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},bh=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(a){return new Promise(function(u,U){!function o(c,a,u,U){Promise.resolve(U).then(function(P){c({value:P,done:u})},a)}(u,U,(a=r[c](a)).done,a.value)})}}},Ka=function(r){return this instanceof Ka?(this.v=r,this):new Ka(r)},Cv=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(_e){i[_e]&&(o[_e]=function(Te){return new Promise(function(Se,Re){c.push([_e,Te,Se,Re])>1||u(_e,Te)})})}function u(_e,Te){try{!function U(_e){_e.value instanceof Ka?Promise.resolve(_e.value.v).then(P,b):K(c[0][2],_e)}(i[_e](Te))}catch(Se){K(c[0][3],Se)}}function P(_e){u("next",_e)}function b(_e){u("throw",_e)}function K(_e,Te){_e(Te),c.shift(),c.length&&u(c[0][0],c[0][1])}};class ND{open(){return Gs(this,void 0,void 0,function*(){})}close(){return Gs(this,void 0,void 0,function*(){})}put(t,n,i){return Gs(this,void 0,void 0,function*(){return t})}get(t,n){return Gs(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return Gs(this,void 0,void 0,function*(){return!1})}delete(t,n){return Gs(this,void 0,void 0,function*(){})}isEmpty(t){return Gs(this,void 0,void 0,function*(){return!0})}putMany(t,n){return Cv(this,arguments,function*(){var o,c,a;try{for(var b,U=!0,P=bh(t);!(o=(b=yield Ka(P.next())).done);U=!0){U=!1;const K=b.value;yield Ka(this.put(K.cid,K.block,n)),yield yield Ka(K.cid)}}catch(K){c={error:K}}finally{try{!U&&!o&&(a=P.return)&&(yield Ka(a.call(P)))}finally{if(c)throw c.error}}})}getMany(t,n){return Cv(this,arguments,function*(){var o,c,a;try{for(var b,U=!0,P=bh(t);!(o=(b=yield Ka(P.next())).done);U=!0){U=!1;const K=b.value;yield yield Ka({cid:K,block:yield Ka(this.get(K,n))})}}catch(K){c={error:K}}finally{try{!U&&!o&&(a=P.return)&&(yield Ka(a.call(P)))}finally{if(c)throw c.error}}})}getAll(t){return Cv(this,arguments,function*(){var i,o,c,a;const u=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var b,U=!0,P=bh(u);!(i=(b=yield Ka(P.next())).done);U=!0){a=b.value,U=!1;const[K,_e]=a;yield yield Ka({cid:mf.TO.decode(K),block:_e})}}catch(K){o={error:K}}finally{try{!U&&!i&&(c=P.return)&&(yield Ka(c.call(P)))}finally{if(o)throw o.error}}})}deleteMany(t,n){return Cv(this,arguments,function*(){var o,c,a;try{for(var b,U=!0,P=bh(t);!(o=(b=yield Ka(P.next())).done);U=!0){U=!1;const K=b.value;yield Ka(this.delete(K,n)),yield yield Ka(K)}}catch(K){c={error:K}}finally{try{!U&&!o&&(a=P.return)&&(yield Ka(a.call(P)))}finally{if(c)throw c.error}}})}clear(){return Gs(this,void 0,void 0,function*(){})}}var $l=E(41861);function rx(r,t){this.v=r,this.k=t}function $r(r){return new rx(r,0)}function Io(r){return function(){return new q0(r.apply(this,arguments))}}function q0(r){var t,n;function i(c,a){try{var u=r[c](a),U=u.value,P=U instanceof rx;Promise.resolve(P?U.v:U).then(function(b){if(P){var K="return"===c?"return":"next";if(!U.k||b.done)return i(K,b);b=r[K](b).value}o(u.done?"return":"normal",b)},function(b){i("throw",b)})}catch(b){o("throw",b)}}function o(c,a){switch(c){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(c,a){return new Promise(function(u,U){var P={key:c,arg:a,resolve:u,reject:U,next:null};n?n=n.next=P:(t=n=P,i(c,a))})},"function"!=typeof r.return&&(this.return=void 0)}function ro(r){var t,n,i,o=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new b_(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function b_(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(o){return{value:o,done:i}})}return(b_=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var o=this.s.return;return void 0===o?Promise.resolve({value:i,done:!0}):t(o.apply(this.s,arguments))},throw:function(i){var o=this.s.return;return void 0===o?Promise.reject(i):t(o.apply(this.s,arguments))}},new b_(r)}q0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},q0.prototype.next=function(r){return this._invoke("next",r)},q0.prototype.throw=function(r){return this._invoke("throw",r)},q0.prototype.return=function(r){return this._invoke("return",r)};var w_=E(5014);const ix=function UD(r,t=1){return t=Number(t),function _8(r){return null!=r[Symbol.asyncIterator]}(r)?Io(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var c,i=!1,o=!1;try{for(var u,a=ro(r);i=!(u=yield $r(a.next())).done;i=!1)for(n.push(u.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(U){o=!0,c=U}finally{try{i&&null!=a.return&&(yield $r(a.return()))}finally{if(o)throw c}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function ox(r){return Q0.apply(this,arguments)}function Q0(){return Q0=Io(function*(r,t=1){var o,n=!1,i=!1;try{for(var a,c=ro(ix(r,t));n=!(a=yield $r(c.next())).done;n=!1){const U=a.value.map(function(){var P=(0,ae.A)(function*(b){return b().then(K=>({ok:!0,value:K}),K=>({ok:!1,err:K}))});return function(b){return P.apply(this,arguments)}}());for(let P=0;P<U.length;P++){const b=yield $r(U[P]);if(!b.ok)throw b.err;yield b.value}}}catch(u){i=!0,o=u}finally{try{n&&null!=c.return&&(yield $r(c.return()))}finally{if(i)throw o}}}),Q0.apply(this,arguments)}function wh(r=0){return new Uint8Array(r)}function __(r=0){return new Uint8Array(r)}function sx(r,t){null==t&&(t=r.reduce((o,c)=>o+c.length,0));const n=__(t);let i=0;for(const o of r)n.set(o,i),i+=o.length;return n}function x8(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const LD=Symbol.for("@achingbrain/uint8arraylist");function FD(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const o=n+i.byteLength;if(t<o)return{buf:i,index:t-n};n=o}throw new RangeError("index is out of bounds")}function E_(r){return!!r?.[LD]}class lp{bufs;length;[LD]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!E_(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!E_(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=FD(this.bufs,t);return n.buf[n.index]}set(t,n){const i=FD(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!E_(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:o}=this._subList(t,n);return sx(i,o)}subarray(t,n){const{bufs:i,length:o}=this._subList(t,n);return 1===i.length?i[0]:sx(i,o)}sublist(t,n){const{bufs:i,length:o}=this._subList(t,n),c=new lp;return c.length=o,c.bufs=[...i],c}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let o=0;for(let c=0;c<this.bufs.length;c++){const a=this.bufs[c],u=o,U=u+a.byteLength;if(o=U,t>=U)continue;const P=t>=u&&t<U,b=n>u&&n<=U;if(P&&b){if(t===u&&n===U){i.push(a);break}const K=t-u;i.push(a.subarray(K,K+(n-t)));break}if(P){if(0===t){i.push(a);continue}i.push(a.subarray(t-u))}else{if(b){if(n===U){i.push(a);break}i.push(a.subarray(0,n-u));break}i.push(a)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(E_(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const o=i.byteLength;if(0===o)throw new TypeError("search must be at least 1 byte long");const a=new Int32Array(256);for(let K=0;K<256;K++)a[K]=-1;for(let K=0;K<o;K++)a[i[K]]=K;const u=a,U=this.byteLength-i.byteLength,P=i.byteLength-1;let b;for(let K=n;K<=U;K+=b){b=0;for(let _e=P;_e>=0;_e--){const Te=this.get(K+_e);if(i[_e]!==Te){b=Math.max(1,_e-u[Te]);break}}if(0===b)return K}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=__(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const o=wh(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,n,i),this.write(o,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const o=wh(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,n,i),this.write(o,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const o=wh(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,n,i),this.write(o,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=__(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const o=wh(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,n,i),this.write(o,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const o=wh(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,n,i),this.write(o,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const o=wh(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,n,i),this.write(o,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const o=wh(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,n,i),this.write(o,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const o=wh(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,n,i),this.write(o,t)}equals(t){if(null==t||!(t instanceof lp)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!x8(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new lp;return i.bufs=t,null==n&&(n=t.reduce((o,c)=>o+c.byteLength,0)),i.length=n,i}}const jD=(r={})=>{const t=r.chunkSize??262144;return function(){var n=Io(function*(o){let c=new lp,a=0,u=!1;var b,U=!1,P=!1;try{for(var _e,K=ro(o);U=!(_e=yield $r(K.next())).done;U=!1){const Te=_e.value;for(c.append(Te),a+=Te.length;a>=t;)if(yield c.slice(0,t),u=!0,t===c.length)c=new lp,a=0;else{const Se=new lp;Se.append(c.sublist(t)),c=Se,a-=t}}}catch(Te){P=!0,b=Te}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}(!u||a>0)&&(yield c.subarray(0,a))});return function i(o){return n.apply(this,arguments)}}()};function x_(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);const ax=function M_(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),a=c.charCodeAt(0);if(255!==n[a])throw new TypeError(c+" is ambiguous");n[a]=o}var u=r.length,U=r.charAt(0),P=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function _e(Se){if("string"!=typeof Se)throw new TypeError("Expected String");if(0===Se.length)return new Uint8Array;var Re=0;if(" "!==Se[Re]){for(var Ge=0,ct=0;Se[Re]===U;)Ge++,Re++;for(var Xe=(Se.length-Re)*P+1>>>0,Je=new Uint8Array(Xe);Se[Re];){var lt=n[Se.charCodeAt(Re)];if(255===lt)return;for(var Et=0,wt=Xe-1;(0!==lt||Et<ct)&&-1!==wt;wt--,Et++)Je[wt]=(lt+=u*Je[wt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");ct=Et,Re++}if(" "!==Se[Re]){for(var Ct=Xe-ct;Ct!==Xe&&0===Je[Ct];)Ct++;for(var xt=new Uint8Array(Ge+(Xe-Ct)),Zt=Ge;Ct!==Xe;)xt[Zt++]=Je[Ct++];return xt}}}return{encode:function K(Se){if(Se instanceof Uint8Array||(ArrayBuffer.isView(Se)?Se=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength):Array.isArray(Se)&&(Se=Uint8Array.from(Se))),!(Se instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Se.length)return"";for(var Re=0,Ge=0,ct=0,Xe=Se.length;ct!==Xe&&0===Se[ct];)ct++,Re++;for(var Je=(Xe-ct)*b+1>>>0,lt=new Uint8Array(Je);ct!==Xe;){for(var Et=Se[ct],wt=0,Ct=Je-1;(0!==Et||wt<Ge)&&-1!==Ct;Ct--,wt++)lt[Ct]=(Et+=256*lt[Ct]>>>0)%u>>>0,Et=Et/u>>>0;if(0!==Et)throw new Error("Non-zero carry");Ge=wt,ct++}for(var xt=Je-Ge;xt!==Je&&0===lt[xt];)xt++;for(var Zt=U.repeat(Re);xt<Je;++xt)Zt+=r.charAt(lt[xt]);return Zt},decodeUnsafe:_e,decode:function Te(Se){var Re=_e(Se);if(Re)return Re;throw new Error(`Non-${t} character`)}}};class jN{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class T8{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return VD(this,t)}}class D8{decoders;constructor(t){this.decoders=t}or(t){return VD(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function VD(r,t){return new D8({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class I8{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new jN(t,n,i),this.decoder=new T8(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function C8({name:r,prefix:t,encode:n,decode:i}){return new I8(r,t,n,i)}function k8({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=ax(n,r);return C8({prefix:t,name:r,encode:i,decode:c=>x_(o(c))})}function Iu({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return C8({prefix:t,name:r,encode:o=>function P8(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(0!==a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function S_(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a}(o,i,n,r)})}const ey=Iu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vl=(Iu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Iu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Iu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Iu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Iu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Iu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Iu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Iu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),k8({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));k8({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var T_=128,O8=-128,GD=Math.pow(2,31),ux=128,fx=127,B8=Math.pow(2,7),Rv=Math.pow(2,14),YD=Math.pow(2,21),px=Math.pow(2,28),N8=Math.pow(2,35),$N=Math.pow(2,42),VN=Math.pow(2,49),Bv=Math.pow(2,56),U8=Math.pow(2,63),mx={encode:function XD(r,t,n){t=t||[];for(var i=n=n||0;r>=GD;)t[n++]=255&r|T_,r/=128;for(;r&O8;)t[n++]=255&r|T_,r>>>=7;return t[n]=0|r,XD.bytes=n-i+1,t},decode:function hx(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw hx.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&fx)<<o:(a&fx)*Math.pow(2,o),o+=7}while(a>=ux);return hx.bytes=c-i,n},encodingLength:function(r){return r<B8?1:r<Rv?2:r<YD?3:r<px?4:r<N8?5:r<$N?6:r<VN?7:r<Bv?8:r<U8?9:10}};const I_=mx;function C_(r,t=0){return[I_.decode(r,t),I_.decode.bytes]}function ty(r,t,n=0){return I_.encode(r,t,n),t}function Nv(r){return I_.encodingLength(r)}class P_{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}function O_(r,t){const{bytes:n,version:i}=r;return 0===i?function ny(r,t,n){const{prefix:i}=n;if(i!==Vl.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const c=n.encode(r).slice(1);return t.set(i,c),c}return o}(n,B_(r),t??Vl.encoder):function F8(r,t,n){const{prefix:i}=n,o=t.get(i);if(null==o){const c=n.encode(r);return t.set(i,c),c}return o}(n,B_(r),t??ey.encoder)}const R_=new WeakMap;function B_(r){const t=R_.get(r);if(null==t){const n=new Map;return R_.set(r,n),n}return t}class Ds{code;version;multihash;bytes;"/";constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Lv)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==zN)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ds.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function Uv(r,t){const n=t.byteLength,i=Nv(r),o=i+Nv(n),c=new Uint8Array(o+n);return ty(r,c,0),ty(n,c,i),c.set(t,o),new P_(r,n,t,c)}(t,n);return Ds.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Ds.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function k_(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function S8(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return O_(this,t)}toJSON(){return{"/":O_(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Ds)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:c,bytes:a}=n;return new Ds(i,o,c,a??Fv(i,o,c.bytes))}if(!0===n[vx]){const{version:i,multihash:o,code:c}=n,a=function JD(r){const t=x_(r),[n,i]=C_(t),[o,c]=C_(t.subarray(i)),a=t.subarray(i+c);if(a.byteLength!==o)throw new Error("Incorrect length");return new P_(n,o,a,t)}(o);return Ds.create(i,c,a)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Lv)throw new Error(`Version 0 CID must use dag-pb (code: ${Lv}) block encoding`);return new Ds(t,n,i,i.bytes);case 1:{const o=Fv(t,n,i.bytes);return new Ds(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return Ds.create(0,Lv,t)}static createV1(t,n){return Ds.create(1,t,n)}static decode(t){const[n,i]=Ds.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Ds.inspectBytes(t),i=n.size-n.multihashSize,o=x_(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const c=o.subarray(n.multihashSize-n.digestSize),a=new P_(n.multihashCode,n.digestSize,c,o);return[0===n.version?Ds.createV0(a):Ds.createV1(n.codec,a),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[K,_e]=C_(t.subarray(n));return n+=_e,K};let o=i(),c=Lv;if(18===o?(o=0,n=0):c=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const a=n,u=i(),U=i(),P=n+U;return{version:o,codec:c,multihashCode:u,digestSize:U,multihashSize:P-a,size:P}}static parse(t,n){const[i,o]=function gx(r,t){switch(r[0]){case"Q":return[Vl.prefix,(t??Vl).decode(`${Vl.prefix}${r}`)];case Vl.prefix:return[Vl.prefix,(t??Vl).decode(r)];case ey.prefix:return[ey.prefix,(t??ey).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),c=Ds.decode(o);if(0===c.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return B_(c).set(i,t),c}}const Lv=112,zN=18;function Fv(r,t,n){const i=Nv(r),o=i+Nv(t),c=new Uint8Array(o+n.byteLength);return ty(r,c,0),ty(t,c,i),c.set(n,o),c}const vx=Symbol.for("@ipld/js-cid/CID"),qD=new TextDecoder;function N_(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const o=r[t++];if(n+=i<28?(127&o)<<i:(127&o)*2**i,o<128)break}return[n,t]}function jv(r,t){let n;[n,t]=N_(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function up(r,t){let n;return[n,t]=N_(r,t),[7&n,n>>3,t]}function j8(r){const t={},n=r.length;let i=0;for(;i<n;){let o,c;if([o,c,i]=up(r,i),1===c){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=jv(r,i)}else if(2===c){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,i]=jv(r,i),t.Name=qD.decode(a)}else{if(3!==c)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${c}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,i]=N_(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const QD=new TextEncoder,eI=2**32,$8=2**31;function _h(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=Kv(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=QD.encode(r.Name);n-=i.length,t.set(i,n),n=Kv(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=Kv(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function V8(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+iy(n)}if("string"==typeof r.Name){const n=QD.encode(r.Name).length;t+=1+n+iy(n)}return"number"==typeof r.Tsize&&(t+=1+iy(r.Tsize)),t}function Kv(r,t,n){const i=t-=iy(n);for(;n>=$8;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function iy(r){return r%2==0&&r++,Math.floor((function H8(r){let t=0;return r>=eI&&(r=Math.floor(r/eI),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+W8[r]}(r)+6)/7)}const W8=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],tI=["Data","Links"],G8=["Hash","Name","Tsize"],bx=new TextEncoder;function nI(r,t){if(r===t)return 0;const n=r.Name?bx.encode(r.Name):[],i=t.Name?bx.encode(t.Name):[];let o=n.length,c=i.length;for(let a=0,u=Math.min(o,c);a<u;++a)if(n[a]!==i[a]){o=n[a],c=i[a];break}return o<c?-1:c<o?1:0}function rI(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function $v(r){if("object"==typeof r.asCID){const n=Ds.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=Ds.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=Ds.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=Ds.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function Qc(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=bx.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map($v),t.Links.sort(nI)}else t.Links=[];return t}function oy(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!rI(r,tI))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!rI(n,G8))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===nI(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function iI(r,t=[]){return Qc({Data:r,Links:t})}function oI(r,t,n){return $v({Hash:n,Name:r,Tsize:t})}const HN="dag-pb",aI=112;function pm(r){oy(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function ry(r){const t=function z8(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+iy(n)}if(r.Links)for(const n of r.Links){const i=V8(n);t+=1+i+iy(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=Kv(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let o=r.Links.length-1;o>=0;o--){const c=_h(r.Links[o],n.subarray(0,i));i-=c,i=Kv(n,i,c)-1,n[i]=18}return n}(t)}function mm(r){const t=function sI(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function K8(r){const t=r.length;let i,c,n=0,o=!1;for(;n<t;){let u,U;if([u,U,n]=up(r,n),2!==u)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${u}`);if(1===U){if(c)throw new Error("protobuf: (PBNode) duplicate Data section");[c,n]=jv(r,n),i&&(o=!0)}else{if(2!==U)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${U}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let P;i||(i=[]),[P,n]=jv(r,n),i.push(j8(P))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const a={};return c&&(a.Data=c),a.Links=i||[],a}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(o=>{const c={};try{c.Hash=Ds.decode(o.Hash)}catch{}if(!c.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==o.Name&&(c.Name=o.Name),void 0!==o.Tsize&&(c.Tsize=o.Tsize),c})),i}var U_=E(3087);const WN=Math.pow(2,7),GN=Math.pow(2,14),cI=Math.pow(2,21),wx=Math.pow(2,28),_x=Math.pow(2,35),Ex=Math.pow(2,42),xx=Math.pow(2,49),Vo=128,Dc=127;function sy(r){if(r<WN)return 1;if(r<GN)return 2;if(r<cI)return 3;if(r<wx)return 4;if(r<_x)return 5;if(r<Ex)return 6;if(r<xx)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function dI(r,t,n=0){switch(sy(r)){case 8:t[n++]=255&r|Vo,r/=128;case 7:t[n++]=255&r|Vo,r/=128;case 6:t[n++]=255&r|Vo,r/=128;case 5:t[n++]=255&r|Vo,r/=128;case 4:t[n++]=255&r|Vo,r>>>=7;case 3:t[n++]=255&r|Vo,r>>>=7;case 2:t[n++]=255&r|Vo,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Vv=new Float32Array([-0]),ia=new Uint8Array(Vv.buffer);function uI(r,t,n){Vv[0]=r,t[n]=ia[0],t[n+1]=ia[1],t[n+2]=ia[2],t[n+3]=ia[3]}const zv=new Float64Array([-0]),Po=new Uint8Array(zv.buffer);function J8(r,t,n){zv[0]=r,t[n]=Po[0],t[n+1]=Po[1],t[n+2]=Po[2],t[n+3]=Po[3],t[n+4]=Po[4],t[n+5]=Po[5],t[n+6]=Po[6],t[n+7]=Po[7]}const ZN=BigInt(Number.MAX_SAFE_INTEGER),Hv=BigInt(Number.MIN_SAFE_INTEGER);class ed{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return ym;if(t<ZN&&t>Hv)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,o=t-(i<<32n);return n&&(i=0n|~i,o=0n|~o,++o>hI&&(o=0n,++i>hI&&(i=0n))),new ed(Number(o),Number(i))}static fromNumber(t){if(0===t)return ym;const n=t<0;n&&(t=-t);let i=t>>>0,o=(t-i)/4294967296>>>0;return n&&(o=~o>>>0,i=~i>>>0,++i>4294967295&&(i=0,++o>4294967295&&(o=0))),new ed(i,o)}static from(t){return"number"==typeof t?ed.fromNumber(t):"bigint"==typeof t?ed.fromBigInt(t):"string"==typeof t?ed.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new ed(t.low>>>0,t.high>>>0):ym}}const ym=new ed(0,0);ym.toBigInt=function(){return 0n},ym.zzEncode=ym.zzDecode=function(){return this},ym.length=function(){return 1};const hI=4294967296n;function mI(r,t,n){const i=n;let o,c;for(let a=0;a<r.length;++a)o=r.charCodeAt(a),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&56320==(64512&(c=r.charCodeAt(a+1)))?(o=65536+((1023&o)<<10)+(1023&c),++a,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128);return n-i}function Cu(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function F_(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class Q8{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Cu(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Cu(this,4);return F_(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Cu(this,4);return 0|F_(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Cu(this,4);const t=function Sx(r,t){return ia[0]=r[t],ia[1]=r[t+1],ia[2]=r[t+2],ia[3]=r[t+3],Vv[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Cu(this,4);const t=function fI(r,t){return Po[0]=r[t],Po[1]=r[t+1],Po[2]=r[t+2],Po[3]=r[t+3],Po[4]=r[t+4],Po[5]=r[t+5],Po[6]=r[t+6],Po[7]=r[t+7],zv[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Cu(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function q8(r,t,n){if(n-t<1)return"";let o;const c=[];let u,a=0;for(;t<n;)u=r[t++],u<128?c[a++]=u:u>191&&u<224?c[a++]=(31&u)<<6|63&r[t++]:u>239&&u<365?(u=((7&u)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,c[a++]=55296+(u>>10),c[a++]=56320+(1023&u)):c[a++]=(15&u)<<12|(63&r[t++])<<6|63&r[t++],a>8191&&((o??(o=[])).push(String.fromCharCode.apply(String,c)),a=0);return null!=o?(a>0&&o.push(String.fromCharCode.apply(String,c.slice(0,a))),o.join("")):String.fromCharCode.apply(String,c.slice(0,a))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Cu(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Cu(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new ed(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Cu(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Cu(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Cu(this,8);const t=F_(this.buf,this.pos+=4),n=F_(this.buf,this.pos+=4);return new ed(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function Mx(r,t){let n=r[t],i=0;if(i+=n&Dc,n<Vo||(n=r[t+1],i+=(n&Dc)<<7,n<Vo)||(n=r[t+2],i+=(n&Dc)<<14,n<Vo)||(n=r[t+3],i+=(n&Dc)<<21,n<Vo)||(n=r[t+4],i+=(n&Dc)*wx,n<Vo)||(n=r[t+5],i+=(n&Dc)*_x,n<Vo)||(n=r[t+6],i+=(n&Dc)*Ex,n<Vo)||(n=r[t+7],i+=(n&Dc)*xx,n<Vo))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=sy(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Wv(r,t,n){const i=function eP(r){return new Q8(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}function Ax(r=0){return new Uint8Array(r)}function Gv(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);const vI=function K_(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),a=c.charCodeAt(0);if(255!==n[a])throw new TypeError(c+" is ambiguous");n[a]=o}var u=r.length,U=r.charAt(0),P=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function _e(Se){if("string"!=typeof Se)throw new TypeError("Expected String");if(0===Se.length)return new Uint8Array;var Re=0;if(" "!==Se[Re]){for(var Ge=0,ct=0;Se[Re]===U;)Ge++,Re++;for(var Xe=(Se.length-Re)*P+1>>>0,Je=new Uint8Array(Xe);Se[Re];){var lt=n[Se.charCodeAt(Re)];if(255===lt)return;for(var Et=0,wt=Xe-1;(0!==lt||Et<ct)&&-1!==wt;wt--,Et++)Je[wt]=(lt+=u*Je[wt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");ct=Et,Re++}if(" "!==Se[Re]){for(var Ct=Xe-ct;Ct!==Xe&&0===Je[Ct];)Ct++;for(var xt=new Uint8Array(Ge+(Xe-Ct)),Zt=Ge;Ct!==Xe;)xt[Zt++]=Je[Ct++];return xt}}}return{encode:function K(Se){if(Se instanceof Uint8Array||(ArrayBuffer.isView(Se)?Se=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength):Array.isArray(Se)&&(Se=Uint8Array.from(Se))),!(Se instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Se.length)return"";for(var Re=0,Ge=0,ct=0,Xe=Se.length;ct!==Xe&&0===Se[ct];)ct++,Re++;for(var Je=(Xe-ct)*b+1>>>0,lt=new Uint8Array(Je);ct!==Xe;){for(var Et=Se[ct],wt=0,Ct=Je-1;(0!==Et||wt<Ge)&&-1!==Ct;Ct--,wt++)lt[Ct]=(Et+=256*lt[Ct]>>>0)%u>>>0,Et=Et/u>>>0;if(0!==Et)throw new Error("Non-zero carry");Ge=wt,ct++}for(var xt=Je-Ge;xt!==Je&&0===lt[xt];)xt++;for(var Zt=U.repeat(Re);xt<Je;++xt)Zt+=r.charAt(lt[xt]);return Zt},decodeUnsafe:_e,decode:function Te(Se){var Re=_e(Se);if(Re)return Re;throw new Error(`Non-${t} character`)}}};class nP{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class rP{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return gm(this,t)}}class bI{decoders;constructor(t){this.decoders=t}or(t){return gm(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function gm(r,t){return new bI({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class _l{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new nP(t,n,i),this.decoder=new rP(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function Ic({name:r,prefix:t,encode:n,decode:i}){return new _l(r,t,n,i)}function ay({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=vI(n,r);return Ic({prefix:t,name:r,encode:i,decode:c=>Gv(o(c))})}function td({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return Ic({prefix:t,name:r,encode:o=>function iP(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(0!==a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function qN(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a}(o,i,n,r)})}const QN=ay({prefix:"9",name:"base10",alphabet:"0123456789"}),wI=td({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_I=td({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),e9=td({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Xv=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Dx=Xv.reduce((r,t,n)=>(r[n]=t,r),[]),Ix=Xv.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),Cx=Ic({prefix:"\u{1f680}",name:"base256emoji",encode:function oP(r){return r.reduce((t,n)=>t+Dx[n],"")},decode:function cy(r){const t=[];for(const n of r){const i=Ix[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),dy=td({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kx=td({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$_=td({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sP=td({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aP=td({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),EI=td({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cP=td({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dP=td({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),xI=td({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Px=ay({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yv=ay({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),zl=ay({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ox=ay({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),lP=td({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uP=td({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Rx=td({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),MI=td({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),vm=td({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),SI=Ic({prefix:"\0",name:"identity",encode:r=>function j_(r){return(new TextDecoder).decode(r)}(r),decode:r=>function tP(r){return(new TextEncoder).encode(r)}(r)}),AI=new TextEncoder,fP=new TextDecoder,t9="json",V_=512;function hP(r){return AI.encode(JSON.stringify(r))}function TI(r){return JSON.parse(fP.decode(r))}const DI="raw",II=85;function Bx(r){return Gv(r)}function CI(r){return Gv(r)}var bm=128,Nx=-128,Zv=Math.pow(2,31),H_=128,PI=127,pP=Math.pow(2,7),mP=Math.pow(2,14),yP=Math.pow(2,21),OI=Math.pow(2,28),RI=Math.pow(2,35),ji=Math.pow(2,42),BI=Math.pow(2,49),NI=Math.pow(2,56),ly=Math.pow(2,63),LI={encode:function Ux(r,t,n){t=t||[];for(var i=n=n||0;r>=Zv;)t[n++]=255&r|bm,r/=128;for(;r&Nx;)t[n++]=255&r|bm,r>>>=7;return t[n]=0|r,Ux.bytes=n-i+1,t},decode:function W_(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw W_.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&PI)<<o:(a&PI)*Math.pow(2,o),o+=7}while(a>=H_);return W_.bytes=c-i,n},encodingLength:function(r){return r<pP?1:r<mP?2:r<yP?3:r<OI?4:r<RI?5:r<ji?6:r<BI?7:r<NI?8:r<ly?9:10}};const wm=LI;function uy(r,t,n=0){return wm.encode(r,t,n),t}function fp(r){return wm.encodingLength(r)}function Jv(r,t){const n=t.byteLength,i=fp(r),o=i+fp(n),c=new Uint8Array(o+n);return uy(r,c,0),uy(n,c,i),c.set(t,o),new qv(r,n,t,c)}class qv{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const FI=Gv,bP={code:0,name:"identity",encode:FI,digest:function vP(r){return Jv(0,FI(r))}};function Vx({name:r,code:t,encode:n}){return new wP(r,t,n)}class wP{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Jv(this.code,n):n.then(i=>Jv(this.code,i))}throw Error("Unknown type, must be binary type")}}function jI(r){return function(){var t=(0,ae.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const _P=Vx({name:"sha2-256",code:18,encode:jI("SHA-256")}),EP=Vx({name:"sha2-512",code:19,encode:jI("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Hx={...k,...ie,...Me,...J,...ne,...ce,...se,...pe,...we,...re};function X_(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const VI=X_("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Wx=X_("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=Ax((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),TP={utf8:VI,"utf-8":VI,hex:Hx.base16,latin1:Wx,ascii:Wx,binary:Wx,...Hx};class _m{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function Gx(){}class IP{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const zI=function yf(r){const t=r??8192,n=t>>>1;let i,o=t;return function(a){if(a<1||a>n)return Ax(a);o+a>t&&(i=Ax(t),o=0);const u=i.subarray(o,o+=a);return 7&o&&(o=1+(7|o)),u}}();class hy{len;head;tail;states;constructor(){this.len=0,this.head=new _m(Gx,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new _m(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new WI((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(eb,10,ed.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=ed.fromBigInt(t);return this._push(eb,n.length(),n)}uint64Number(t){return this._push(dI,sy(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=ed.fromBigInt(t).zzEncode();return this._push(eb,n.length(),n)}sint64Number(t){const n=ed.fromNumber(t).zzEncode();return this._push(eb,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(Qv,1,t?1:0)}fixed32(t){return this._push(py,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=ed.fromBigInt(t);return this._push(py,4,n.lo)._push(py,4,n.hi)}fixed64Number(t){const n=ed.fromNumber(t);return this._push(py,4,n.lo)._push(py,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(uI,4,t)}double(t){return this._push(J8,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(Qv,1,0):this.uint32(n)._push(Y_,n,t)}string(t){const n=function pI(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(mI,n,t):this._push(Qv,1,0)}fork(){return this.states=new IP(this),this.head=this.tail=new _m(Gx,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _m(Gx,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function HI(r){return null!=globalThis.Buffer?Ax(r):zI(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function Qv(r,t,n){t[n]=255&r}function a9(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class WI extends _m{next;constructor(t,n){super(a9,t,n),this.next=void 0}}function eb(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function py(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function Y_(r,t,n){t.set(r,n)}function Xx(r,t,n){t.set(r,n)}function xh(r,t,n){r.length<40?mI(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(function DP(r,t="utf8"){const n=TP[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(r),n)}function Yx(r,t){const n=function CP(){return new hy}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(hy.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(Xx,t,r),this},hy.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(xh,t,r),this});var Cd,gy,vy,tb=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(tb||{});function GI(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function Z_(r,t){return GI("message",tb.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var o;let n,i;(o=t=r.DataType||(r.DataType={})).Raw="Raw",o.Directory="Directory",o.File="File",o.Metadata="Metadata",o.Symlink="Symlink",o.HAMTShard="HAMTShard",function(o){o[o.Raw=0]="Raw",o[o.Directory=1]="Directory",o[o.File=2]="File",o[o.Metadata=3]="Metadata",o[o.Symlink=4]="Symlink",o[o.HAMTShard=5]="HAMTShard"}(n||(n={})),function(o){o.codec=()=>function my(r){function t(o){if(null==r[o.toString()])throw new Error("Invalid enum value");return r[o]}return GI("enum",tb.VARINT,function(c,a){const u=t(c);a.int32(u)},function(c){return t(c.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=Z_((o,c,a={})=>{if(!1!==a.lengthDelimited&&c.fork(),null!=o.Type&&(c.uint32(8),r.DataType.codec().encode(o.Type,c)),null!=o.Data&&(c.uint32(18),c.bytes(o.Data)),null!=o.filesize&&(c.uint32(24),c.uint64(o.filesize)),null!=o.blocksizes)for(const u of o.blocksizes)c.uint32(32),c.uint64(u);null!=o.hashType&&(c.uint32(40),c.uint64(o.hashType)),null!=o.fanout&&(c.uint32(48),c.uint64(o.fanout)),null!=o.mode&&(c.uint32(56),c.uint32(o.mode)),null!=o.mtime&&(c.uint32(66),gy.codec().encode(o.mtime,c)),!1!==a.lengthDelimited&&c.ldelim()},(o,c)=>{const a={blocksizes:[]},u=null==c?o.len:o.pos+c;for(;o.pos<u;){const U=o.uint32();switch(U>>>3){case 1:a.Type=r.DataType.codec().decode(o);break;case 2:a.Data=o.bytes();break;case 3:a.filesize=o.uint64();break;case 4:a.blocksizes.push(o.uint64());break;case 5:a.hashType=o.uint64();break;case 6:a.fanout=o.uint64();break;case 7:a.mode=o.uint32();break;case 8:a.mtime=gy.codec().decode(o,o.uint32());break;default:o.skipType(7&U)}}return a})),i),r.encode=o=>Yx(o,r.codec()),r.decode=o=>Wv(o,r.codec())}(Cd||(Cd={})),function(r){let t;r.codec=()=>(null==t&&(t=Z_((n,i,o={})=>{!1!==o.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==o.lengthDelimited&&i.ldelim()},(n,i)=>{const o={},c=null==i?n.len:n.pos+i;for(;n.pos<c;){const a=n.uint32();switch(a>>>3){case 1:o.Seconds=n.int64();break;case 2:o.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&a)}}return o})),t),r.encode=n=>Yx(n,r.codec()),r.decode=n=>Wv(n,r.codec())}(gy||(gy={})),function(r){let t;r.codec=()=>(null==t&&(t=Z_((n,i,o={})=>{!1!==o.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==o.lengthDelimited&&i.ldelim()},(n,i)=>{const o={},c=null==i?n.len:n.pos+i;for(;n.pos<c;){const a=n.uint32();a>>>3==1?o.MimeType=n.string():n.skipType(7&a)}return o})),t),r.encode=n=>Yx(n,r.codec()),r.decode=n=>Wv(n,r.codec())}(vy||(vy={}));const Zx={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},XI=["directory","hamt-sharded-directory"],YI=parseInt("0644",8),ZI=parseInt("0755",8);class ku{static unmarshal(t){const n=Cd.decode(t),i=new ku({type:Zx[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:o,hashType:c,fanout:a,mtime:u,mode:U}=t;if(null!=n&&!Object.values(Zx).includes(n))throw U_(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=c,this.fanout=a,this.blockSizes=o??[],this._originalMode=0,this.mode=U,this.mtime=u}set mode(t){this._mode=null==t?this.isDirectory()?ZI:YI:4095&t}get mode(){return this._mode}isDirectory(){return XI.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=Cd.DataType.Raw;break;case"directory":t=Cd.DataType.Directory;break;case"file":t=Cd.DataType.File;break;case"metadata":t=Cd.DataType.Metadata;break;case"symlink":t=Cd.DataType.Symlink;break;case"hamt-sharded-directory":t=Cd.DataType.HAMTShard;break;default:throw U_(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,o,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===YI&&!this.isDirectory()&&(i=void 0),i===ZI&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(o={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Cd.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:o})}}var Jx=E(52054);const kP="raw",nb=85,JI=r=>(0,Jx.au)(r),PP=r=>(0,Jx.au)(r);class kd extends Event{constructor(t,n){super(t),this.detail=n}}const by=function(){var r=(0,ae.A)(function*(t,n,i){null==i.codec&&(i.codec=q);const o=yield Ta.digest(t),c=$l.TO.create(i.cidVersion,i.codec.code,o);return yield n.put(c,t,i),c});return function(n,i,o){return r.apply(this,arguments)}}();function qI(r){return function(){var t=Io(function*(i,o){let c=0n;var U,a=!1,u=!1;try{for(var b,P=ro(i.content);a=!(b=yield $r(P.next())).done;a=!1){let K=b.value;yield(0,ae.A)(function*(){let _e;const Te={codec:q,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Te.codec=x,Te.cidVersion=1):(_e=new ku({type:r.leafType,data:K}),K=pm({Data:_e.marshal(),Links:[]}));const Se=yield by(K,o,Te);return c+=BigInt(K.byteLength),r.onProgress?.(new kd("unixfs:importer:progress:file:write",{bytesWritten:c,cid:Se,path:i.path})),{cid:Se,unixfs:_e,size:BigInt(K.length),block:K}})}}catch(K){u=!0,U=K}finally{try{a&&null!=P.return&&(yield $r(P.return()))}finally{if(u)throw U}}});return function n(i,o){return t.apply(this,arguments)}}()}function gf(r){var t={},n=!1;function i(o,c){return n=!0,{done:!1,value:new rx(c=new Promise(function(a){a(r[o](c))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(o){return n?(n=!1,o):i("next",o)},"function"==typeof r.throw&&(t.throw=function(o){if(n)throw n=!1,o;return i("throw",o)}),"function"==typeof r.return&&(t.return=function(o){return n?(n=!1,o):i("return",o)}),t}const QI=function(){var r=(0,ae.A)(function*(t,n,i){const o=new ku({type:"directory",mtime:t.mtime,mode:t.mode}),c=pm(Qc({Data:o.marshal()}));return{cid:yield by(c,n,i),path:t.path,unixfs:o,size:BigInt(c.length),originalPath:t.originalPath,block:c}});return function(n,i,o){return r.apply(this,arguments)}}();function qx(){return qx=Io(function*(r,t,n){let o,i=-1;var u,c=!1,a=!1;try{for(var P,U=ro(ox(n.bufferImporter(r,t),n.blockWriteConcurrency));c=!(P=yield $r(U.next())).done;c=!1){const b=P.value;i++,0!==i?(1===i&&null!=o&&(yield{...o,block:void 0,single:void 0},o=void 0),yield{...b,block:void 0}):o={...b,single:!0}}}catch(b){a=!0,u=b}finally{try{c&&null!=U.return&&(yield $r(U.return()))}finally{if(a)throw u}}null!=o&&(yield o)}),qx.apply(this,arguments)}function Qx(r){return!0===r.single}const eM=(r,t,n)=>function(){var o=(0,ae.A)(function*(c){if(1===c.length&&Qx(c[0])&&n.reduceSingleLeafToSelf){const K=c[0];let _e=K.block;return Qx(K)&&(void 0!==r.mtime||void 0!==r.mode)&&(K.unixfs=new ku({type:"file",mtime:r.mtime,mode:r.mode,data:K.block}),_e={Data:K.unixfs.marshal(),Links:[]},K.block=pm(Qc(_e)),K.cid=yield by(K.block,t,{...n,cidVersion:n.cidVersion}),K.size=BigInt(K.block.length)),n.onProgress?.(new kd("unixfs:importer:progress:file:layout",{cid:K.cid,path:K.originalPath})),{cid:K.cid,path:r.path,unixfs:K.unixfs,size:K.size,originalPath:K.originalPath}}const a=new ku({type:"file",mtime:r.mtime,mode:r.mode}),u=c.filter(K=>K.cid.code===nb&&K.size>0||null!=K.unixfs&&null==K.unixfs.data&&K.unixfs.fileSize()>0n||!!K.unixfs?.data?.length).map(K=>K.cid.code===nb?(a.addBlockSize(K.size),{Name:"",Tsize:Number(K.size),Hash:K.cid}):(a.addBlockSize(null==K.unixfs||null==K.unixfs.data?K.unixfs?.fileSize()??0n:BigInt(K.unixfs.data.length)),{Name:"",Tsize:Number(K.size),Hash:K.cid})),U={Data:a.marshal(),Links:u},P=pm(Qc(U)),b=yield by(P,t,n);return n.onProgress?.(new kd("unixfs:importer:progress:file:layout",{cid:b,path:r.originalPath})),{cid:b,path:r.path,unixfs:a,size:BigInt(P.length+U.Links.reduce((K,_e)=>K+(_e.Tsize??0),0)),originalPath:r.originalPath,block:P}});return function(a){return o.apply(this,arguments)}}(),eC=function(){var r=(0,ae.A)(function*(t,n,i){return i.layout(function OP(r,t,n){return qx.apply(this,arguments)}(t,n,i),eM(t,n,i))});return function(n,i,o){return r.apply(this,arguments)}}();function ob(r){try{if(r instanceof Uint8Array)return Io(function*(){yield r})();if(function rb(r){return Symbol.iterator in r}(r))return Io(function*(){yield*gf(ro(r))})();if(function ib(r){return Symbol.asyncIterator in r}(r))return r}catch{throw w_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw w_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function BP(r){return null!=r.content}const NP=()=>function(){var r=Io(function*(n){var c,i=!1,o=!1;try{for(var u,a=ro(n);i=!(u=yield $r(a.next())).done;i=!1){const U=u.value;if(void 0===U.length)throw w_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof U||U instanceof String)yield nc(U.toString());else if(Array.isArray(U))yield Uint8Array.from(U);else{if(!(U instanceof Uint8Array))throw w_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield U}}}catch(U){o=!0,c=U}finally{try{i&&null!=a.return&&(yield $r(a.return()))}finally{if(o)throw c}}});return function t(n){return r.apply(this,arguments)}}(),J_=174;function tM(r){const t=r?.maxChildrenPerNode??J_;return function(){var n=(0,ae.A)(function*(o,c){const a=[];var P,u=!1,U=!1;try{for(var K,b=ro(ix(o,t));u=!(K=yield b.next()).done;u=!1){const _e=K.value;a.push(yield c(_e))}}catch(_e){U=!0,P=_e}finally{try{u&&null!=b.return&&(yield b.return())}finally{if(U)throw P}}return a.length>1?i(a,c):a[0]});function i(o,c){return n.apply(this,arguments)}return i}()}class q_{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const nM=$l.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),nC=$l.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class rM extends q_{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,ae.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,ae.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return Io(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?nC.bytes.byteLength:nM.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return Io(function*(){const i=[];for(const[Se,Re]of n._children.entries()){let Ge=Re;if(Re instanceof q_){var a,o=!1,c=!1;try{for(var U,u=ro(Re.flush(t));o=!(U=yield $r(u.next())).done;o=!1){const ct=U.value;Ge=ct,yield ct}}catch(ct){c=!0,a=ct}finally{try{o&&null!=u.return&&(yield $r(u.return()))}finally{if(c)throw a}}}null!=Ge.size&&null!=Ge.cid&&i.push({Name:Se,Tsize:Number(Ge.size),Hash:Ge.cid})}const P=new ku({type:"directory",mtime:n.mtime,mode:n.mode}),b={Data:P.marshal(),Links:i},K=pm(Qc(b)),_e=yield $r(by(K,t,n.options)),Te=K.length+b.Links.reduce((Se,Re)=>Se+(null==Re.Tsize?0:Re.Tsize),0);n.cid=_e,n.size=Te,yield{cid:_e,unixfs:P,path:n.path,size:BigInt(Te)}})()}}const FP=new Uint8Array(0);function Q_(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):FP}const iC=function rC(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),a=c.charCodeAt(0);if(255!==n[a])throw new TypeError(c+" is ambiguous");n[a]=o}var u=r.length,U=r.charAt(0),P=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function _e(Se){if("string"!=typeof Se)throw new TypeError("Expected String");if(0===Se.length)return new Uint8Array;var Re=0;if(" "!==Se[Re]){for(var Ge=0,ct=0;Se[Re]===U;)Ge++,Re++;for(var Xe=(Se.length-Re)*P+1>>>0,Je=new Uint8Array(Xe);Se[Re];){var lt=n[Se.charCodeAt(Re)];if(255===lt)return;for(var Et=0,wt=Xe-1;(0!==lt||Et<ct)&&-1!==wt;wt--,Et++)Je[wt]=(lt+=u*Je[wt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");ct=Et,Re++}if(" "!==Se[Re]){for(var Ct=Xe-ct;Ct!==Xe&&0===Je[Ct];)Ct++;for(var xt=new Uint8Array(Ge+(Xe-Ct)),Zt=Ge;Ct!==Xe;)xt[Zt++]=Je[Ct++];return xt}}}return{encode:function K(Se){if(Se instanceof Uint8Array||(ArrayBuffer.isView(Se)?Se=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength):Array.isArray(Se)&&(Se=Uint8Array.from(Se))),!(Se instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Se.length)return"";for(var Re=0,Ge=0,ct=0,Xe=Se.length;ct!==Xe&&0===Se[ct];)ct++,Re++;for(var Je=(Xe-ct)*b+1>>>0,lt=new Uint8Array(Je);ct!==Xe;){for(var Et=Se[ct],wt=0,Ct=Je-1;(0!==Et||wt<Ge)&&-1!==Ct;Ct--,wt++)lt[Ct]=(Et+=256*lt[Ct]>>>0)%u>>>0,Et=Et/u>>>0;if(0!==Et)throw new Error("Non-zero carry");Ge=wt,ct++}for(var xt=Je-Ge;xt!==Je&&0===lt[xt];)xt++;for(var Zt=U.repeat(Re);xt<Je;++xt)Zt+=r.charAt(lt[xt]);return Zt},decodeUnsafe:_e,decode:function Te(Se){var Re=_e(Se);if(Re)return Re;throw new Error(`Non-${t} character`)}}};class oC{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class sC{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return cC(this,t)}}class aC{decoders;constructor(t){this.decoders=t}or(t){return cC(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function cC(r,t){return new aC({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class $P{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new oC(t,n,i),this.decoder=new sC(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function dC({name:r,prefix:t,encode:n,decode:i}){return new $P(r,t,n,i)}function wy({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=iC(n,r);return dC({prefix:t,name:r,encode:i,decode:c=>function ab(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(o(c))})}function Mh({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return dC({prefix:t,name:r,encode:o=>function zP(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(0!==a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function VP(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a}(o,i,n,r)})}Mh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Mh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Mh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Mh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Mh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Mh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),wy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uC=128,sM=-128,db=Math.pow(2,31),JP=128,_y=127,h9=Math.pow(2,7),qP=Math.pow(2,14),hC=Math.pow(2,21),cM=Math.pow(2,28),QP=Math.pow(2,35),pC=Math.pow(2,42),eO=Math.pow(2,49),mC=Math.pow(2,56),yC=Math.pow(2,63),dM={encode:function aM(r,t,n){t=t||[];for(var i=n=n||0;r>=db;)t[n++]=255&r|uC,r/=128;for(;r&sM;)t[n++]=255&r|uC,r>>>=7;return t[n]=0|r,aM.bytes=n-i+1,t},decode:function Ey(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw Ey.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&_y)<<o:(a&_y)*Math.pow(2,o),o+=7}while(a>=JP);return Ey.bytes=c-i,n},encodingLength:function(r){return r<h9?1:r<qP?2:r<hC?3:r<cM?4:r<QP?5:r<pC?6:r<eO?7:r<mC?8:r<yC?9:10}};const t1=dM;function n1(r,t,n=0){return t1.encode(r,t,n),t}function r1(r){return t1.encodingLength(r)}function uM(r,t){const n=t.byteLength,i=r1(r),o=i+r1(n),c=new Uint8Array(o+n);return n1(r,c,0),n1(n,c,i),c.set(t,o),new hM(r,n,t,c)}class hM{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}function a1({name:r,code:t,encode:n}){return new sO(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class sO{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?uM(this.code,n):n.then(i=>uM(this.code,i))}throw Error("Unknown type, must be binary type")}}var c1=E(13026);a1({name:"murmur3-32",code:35,encode:r=>function d1(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(c1.x86.hash32(r))});const wC=a1({name:"murmur3-128",code:34,encode:r=>Q_(c1.x64.hash128(r))});a1({name:"murmur3-x64-64",code:34,encode:r=>Q_(c1.x64.hash128(r)).subarray(0,8)});var cO=E(18876);function hb(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);const hO=function fO(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),a=c.charCodeAt(0);if(255!==n[a])throw new TypeError(c+" is ambiguous");n[a]=o}var u=r.length,U=r.charAt(0),P=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function _e(Se){if("string"!=typeof Se)throw new TypeError("Expected String");if(0===Se.length)return new Uint8Array;var Re=0;if(" "!==Se[Re]){for(var Ge=0,ct=0;Se[Re]===U;)Ge++,Re++;for(var Xe=(Se.length-Re)*P+1>>>0,Je=new Uint8Array(Xe);Se[Re];){var lt=n[Se.charCodeAt(Re)];if(255===lt)return;for(var Et=0,wt=Xe-1;(0!==lt||Et<ct)&&-1!==wt;wt--,Et++)Je[wt]=(lt+=u*Je[wt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");ct=Et,Re++}if(" "!==Se[Re]){for(var Ct=Xe-ct;Ct!==Xe&&0===Je[Ct];)Ct++;for(var xt=new Uint8Array(Ge+(Xe-Ct)),Zt=Ge;Ct!==Xe;)xt[Zt++]=Je[Ct++];return xt}}}return{encode:function K(Se){if(Se instanceof Uint8Array||(ArrayBuffer.isView(Se)?Se=new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength):Array.isArray(Se)&&(Se=Uint8Array.from(Se))),!(Se instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Se.length)return"";for(var Re=0,Ge=0,ct=0,Xe=Se.length;ct!==Xe&&0===Se[ct];)ct++,Re++;for(var Je=(Xe-ct)*b+1>>>0,lt=new Uint8Array(Je);ct!==Xe;){for(var Et=Se[ct],wt=0,Ct=Je-1;(0!==Et||wt<Ge)&&-1!==Ct;Ct--,wt++)lt[Ct]=(Et+=256*lt[Ct]>>>0)%u>>>0,Et=Et/u>>>0;if(0!==Et)throw new Error("Non-zero carry");Ge=wt,ct++}for(var xt=Je-Ge;xt!==Je&&0===lt[xt];)xt++;for(var Zt=U.repeat(Re);xt<Je;++xt)Zt+=r.charAt(lt[xt]);return Zt},decodeUnsafe:_e,decode:function Te(Se){var Re=_e(Se);if(Re)return Re;throw new Error(`Non-${t} character`)}}};class pb{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class mM{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return xC(this,t)}}class pO{decoders;constructor(t){this.decoders=t}or(t){return xC(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function xC(r,t){return new pO({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class mO{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new pb(t,n,i),this.decoder=new mM(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function yM({name:r,prefix:t,encode:n,decode:i}){return new mO(r,t,n,i)}function Ty({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=hO(n,r);return yM({prefix:t,name:r,encode:i,decode:c=>hb(o(c))})}function sc({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return yM({prefix:t,name:r,encode:o=>function MC(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(0!==a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function rd(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a}(o,i,n,r)})}const SC=Ty({prefix:"9",name:"base10",alphabet:"0123456789"}),y9=sc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Is=sc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),yO=sc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),l1=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),gO=l1.reduce((r,t,n)=>(r[n]=t,r),[]),vO=l1.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),TC=yM({prefix:"\u{1f680}",name:"base256emoji",encode:function gM(r){return r.reduce((t,n)=>t+gO[n],"")},decode:function AC(r){const t=[];for(const n of r){const i=vO[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),xm=sc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bO=sc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wO=sc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),DC=sc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_O=sc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),id=sc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IC=sc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vM=sc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CC=sc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),kC=Ty({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),EO=Ty({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),vf=Ty({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xO=Ty({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),MO=sc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),u1=sc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bM=sc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pp=sc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),f1=sc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),PC=yM({prefix:"\0",name:"identity",encode:r=>function _C(r){return(new TextDecoder).decode(r)}(r),decode:r=>function uO(r){return(new TextEncoder).encode(r)}(r)}),mb=new TextEncoder,SO=new TextDecoder,AO="json",wM=512;function OC(r){return mb.encode(JSON.stringify(r))}function mp(r){return JSON.parse(SO.decode(r))}const yb="raw",g9=85;function h1(r){return hb(r)}function RC(r){return hb(r)}var NC=128,TO=-128,DO=Math.pow(2,31),CO=128,LC=127,kO=Math.pow(2,7),p1=Math.pow(2,14),PO=Math.pow(2,21),OO=Math.pow(2,28),FC=Math.pow(2,35),jC=Math.pow(2,42),EM=Math.pow(2,49),KC=Math.pow(2,56),RO=Math.pow(2,63),xM={encode:function UC(r,t,n){t=t||[];for(var i=n=n||0;r>=DO;)t[n++]=255&r|NC,r/=128;for(;r&TO;)t[n++]=255&r|NC,r>>>=7;return t[n]=0|r,UC.bytes=n-i+1,t},decode:function _M(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw _M.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&LC)<<o:(a&LC)*Math.pow(2,o),o+=7}while(a>=CO);return _M.bytes=c-i,n},encodingLength:function(r){return r<kO?1:r<p1?2:r<PO?3:r<OO?4:r<FC?5:r<jC?6:r<EM?7:r<KC?8:r<RO?9:10}};const vb=xM;function m1(r,t,n=0){return vb.encode(r,t,n),t}function y1(r){return vb.encodingLength(r)}function Dy(r,t){const n=t.byteLength,i=y1(r),o=i+y1(n),c=new Uint8Array(o+n);return m1(r,c,0),m1(n,c,i),c.set(t,o),new bb(r,n,t,c)}class bb{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const HC=hb,UO={code:0,name:"identity",encode:HC,digest:function NO(r){return Dy(0,HC(r))}};function AM({name:r,code:t,encode:n}){return new TM(r,t,n)}class TM{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Dy(this.code,n):n.then(i=>Dy(this.code,i))}throw Error("Unknown type, must be binary type")}}function v1(r){return function(){var t=(0,ae.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const WC=AM({name:"sha2-256",code:18,encode:v1("SHA-256")}),GC=AM({name:"sha2-512",code:19,encode:v1("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const kM={...xe,...M,...de,...D,...B,...v,...W,...z,...Q,...d};function ZC(r=0){return new Uint8Array(r)}function PM(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const JC=PM("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),OM=PM("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=ZC((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),qC={utf8:JC,"utf-8":JC,hex:kM.base16,latin1:OM,ascii:OM,binary:OM,...kM};class El{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new cO,this.key=null}put(t,n){var i=this;return(0,ae.A)(function*(){const o=yield i._findNewBucketAndPos(t);o.bucket._putAt(o,t,n)})()}get(t){var n=this;return(0,ae.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,ae.A)(function*(){const i=yield n._findPlace(t),o=i.bucket._at(i.pos);null!=o&&o.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof El?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof El?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((o,c,a)=>(null!=c&&o.push(c instanceof El?c.serialize(t,n):t(c,a)),o),[]))}asyncTransform(t,n){var i=this;return(0,ae.A)(function*(){return RM(i,t,n)})()}toJSON(){return this.serialize(QC,e3)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,ae.A)(function*(){const i=yield n._findPlace(t),o=i.bucket._at(i.pos);if(!(o instanceof El)&&null!=o&&o.key===t)return o})()}_findPlace(t){var n=this;return(0,ae.A)(function*(){const i=n._options.hash("string"==typeof t?function $O(r,t="utf8"){const n=qC[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(t):t),o=yield i.take(n._options.bits),c=n._children.get(o);return c instanceof El?c._findPlace(i):{bucket:n,pos:o,hash:i,existingChild:c}})()}_findNewBucketAndPos(t){var n=this;return(0,ae.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const o=new El(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,o);const c=yield o._findPlace(i.existingChild.hash);return c.bucket._putAt(c,i.existingChild.key,i.existingChild.value),o._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(_9);if(null!=t&&!(t instanceof El)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function _9(r){return!!r}function QC(r,t){return r.key}function e3(r){return r}function RM(r,t,n){return BM.apply(this,arguments)}function BM(){return BM=(0,ae.A)(function*(r,t,n){const i=[];for(const o of r._children.compactArray())if(o instanceof El)yield RM(o,t,n);else{const c=yield t(o);i.push({bitField:r._children.bitField(),children:c})}return n(i)}),BM.apply(this,arguments)}const M9=[255,254,252,248,240,224,192,128],S9=[1,3,7,15,31,63,127,255];class A9{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const o=this._value[this._currentBytePos],c=this._currentBitPos+1,a=Math.min(c,n);i=(i<<a)+T9(o,c-a,a),n-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function T9(r,t,n){const i=function D9(r,t){return M9[r]&S9[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function VO(r){return function t(n){return n instanceof Mm?n:new Mm(n,r)}}class Mm{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,ae.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let o=0;for(;i>0;){const c=n._buffers[n._currentBufferIndex],a=Math.min(c.availableBits(),i);o=(o<<a)+c.take(a),i-=a,n._availableBits-=a,0===c.availableBits()&&n._currentBufferIndex++}return o})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],o=Math.min(i.totalBits()-i.availableBits(),n);i.untake(o),n-=o,this._availableBits+=o,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,ae.A)(function*(){t._depth++;const n=t._depth>0?function x9(r,t){null==t&&(t=r.reduce((o,c)=>o+c.length,0));const n=ZC(t);let i=0;for(const o of r)n.set(o,i),i+=o.length;return n}([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),o=new A9(i);t._buffers.push(o),t._availableBits+=o.availableBits()})()}}function Cy(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:VO(r.hashFn)};return new El(t)}function zO(r){return t3.apply(this,arguments)}function t3(){return t3=(0,ae.A)(function*(r){return(yield wC.encode(r)).slice(0,8).reverse()}),t3.apply(this,arguments)}const NM=BigInt(34),I9=class HO extends q_{_bucket;constructor(t,n){super(t,n),this._bucket=Cy({hashFn:zO,bits:8})}put(t,n){var i=this;return(0,ae.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,ae.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return Io(function*(){var o,n=!1,i=!1;try{for(var a,c=ro(t._bucket.eachLeafSeries());n=!(a=yield $r(c.next())).done;n=!1){const{key:u,value:U}=a.value;yield{key:u,child:U}}}catch(u){i=!0,o=u}finally{try{n&&null!=c.return&&(yield $r(c.return()))}finally{if(i)throw o}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=_b(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return Io(function*(){var c,i=!1,o=!1;try{for(var u,a=ro(n3(n._bucket,t,n,n.options));i=!(u=yield $r(a.next())).done;i=!1)yield{...u.value,path:n.path}}catch(U){o=!0,c=U}finally{try{i&&null!=a.return&&(yield $r(a.return()))}finally{if(o)throw c}}})()}};function n3(r,t,n,i){return UM.apply(this,arguments)}function UM(){return UM=Io(function*(r,t,n,i){const o=r._children,c=[];let a=0n;for(let Ct=0;Ct<o.length;Ct++){const xt=o.get(Ct);if(null==xt)continue;const Zt=Ct.toString(16).toUpperCase().padStart(2,"0");if(xt instanceof El){let hn;var P,u=!1,U=!1;try{for(var K,b=ro(n3(xt,t,null,i));u=!(K=yield $r(b.next())).done;u=!1)hn=K.value}catch(_n){U=!0,P=_n}finally{try{u&&null!=b.return&&(yield $r(b.return()))}finally{if(U)throw P}}if(null==hn)throw new Error("Could not flush sharded directory, no subshard found");c.push({Name:Zt,Tsize:Number(hn.size),Hash:hn.cid}),a+=hn.size}else if(WO(xt.value)){const hn=xt.value;let _n;var Se,_e=!1,Te=!1;try{for(var Ge,Re=ro(hn.flush(t));_e=!(Ge=yield $r(Re.next())).done;_e=!1)_n=Ge.value,yield _n}catch(gn){Te=!0,Se=gn}finally{try{_e&&null!=Re.return&&(yield $r(Re.return()))}finally{if(Te)throw Se}}if(null==_n)throw new Error("Did not flush dir");c.push({Name:Zt+xt.key,Tsize:Number(_n.size),Hash:_n.cid}),a+=_n.size}else{const hn=xt.value;if(null==hn.cid)continue;const Cn=hn.size;c.push({Name:Zt+xt.key,Tsize:Number(Cn),Hash:hn.cid}),a+=BigInt(Cn??0)}}const ct=Uint8Array.from(o.bitField().reverse()),Xe=new ku({type:"hamt-sharded-directory",data:ct,fanout:BigInt(r.tableSize()),hashType:NM,mtime:n?.mtime,mode:n?.mode}),lt=pm(Qc({Data:Xe.marshal(),Links:c})),Et=yield $r(by(lt,t,i)),wt=BigInt(lt.byteLength)+a;yield{cid:Et,unixfs:Xe,size:wt}}),UM.apply(this,arguments)}function WO(r){return"function"==typeof r.flush}function _b(r,t,n){const i=r._children,o=[];for(let U=0;U<i.length;U++){const P=i.get(U);if(null==P)continue;const b=U.toString(16).toUpperCase().padStart(2,"0");if(P instanceof El){const K=_b(P,null,n);o.push({Name:b,Tsize:Number(K),Hash:0===n.cidVersion?nM:nC})}else if("function"==typeof P.value.flush){const _e=P.value.nodeSize();o.push({Name:b+P.key,Tsize:Number(_e),Hash:0===n.cidVersion?nM:nC})}else{const K=P.value;if(null==K.cid)continue;o.push({Name:b+P.key,Tsize:Number(K.size),Hash:K.cid})}}const c=Uint8Array.from(i.bitField().reverse());return pm(Qc({Data:new ku({type:"hamt-sharded-directory",data:c,fanout:BigInt(r.tableSize()),hashType:NM,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:o})).length}function LM(r,t,n,i){return FM.apply(this,arguments)}function FM(){return FM=(0,ae.A)(function*(r,t,n,i){let o=t;t instanceof rM&&t.estimateNodeSize()>n&&(o=yield function r3(r,t){return i3.apply(this,arguments)}(t,i));const c=o.parent;if(null!=c){if(o!==t){if(null!=r&&(r.parent=o),null==o.parentKey)throw new Error("No parent key found");yield c.put(o.parentKey,o)}return LM(o,c,n,i)}return o}),FM.apply(this,arguments)}function i3(){return i3=(0,ae.A)(function*(r,t){const n=new I9({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var c,i=!1,o=!1;try{for(var u,a=ro(r.eachChildSeries());i=!(u=yield a.next()).done;i=!1){const{key:U,child:P}=u.value;yield n.put(U,P)}}catch(U){o=!0,c=U}finally{try{i&&null!=a.return&&(yield a.return())}finally{if(o)throw c}}return n}),i3.apply(this,arguments)}const o3=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function C9(r,t,n){return jM.apply(this,arguments)}function jM(){return jM=(0,ae.A)(function*(r,t,n){const i=o3(r.path??""),o=i.length-1;let c=t,a="";for(let u=0;u<i.length;u++){const U=i[u];a+=`${""!==a?"/":""}${U}`;const P=u===o;if(c.dirty=!0,c.cid=void 0,c.size=void 0,P)yield c.put(U,r),t=yield LM(null,c,n.shardSplitThresholdBytes,n);else{let b=yield c.get(U);(null==b||!(b instanceof q_))&&(b=new rM({root:!1,dir:!0,parent:c,parentKey:U,path:a,dirty:!0,flat:!0,mtime:b?.unixfs?.mtime,mode:b?.unixfs?.mode},n)),yield c.put(U,b),c=b}}return t}),jM.apply(this,arguments)}function KM(r,t){return Eb.apply(this,arguments)}function Eb(){return Eb=Io(function*(r,t){r instanceof q_?yield*gf(ro(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)}),Eb.apply(this,arguments)}function xb(r,t){return ky.apply(this,arguments)}function ky(){return ky=Io(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const o=n.wrapWithDirectory??!1,c=n.shardSplitThresholdBytes??262144,a=n.cidVersion??1,u=n.rawLeaves??!0,U=n.leafType??"file",P=n.fileImportConcurrency??50,b=n.blockWriteConcurrency??10,K=n.reduceSingleLeafToSelf??!0,_e=n.chunker??jD(),Te=n.chunkValidator??NP(),Se=n.dagBuilder??function RP(r){return function(){var t=Io(function*(i,o){var u,c=!1,a=!1;try{for(var P,U=ro(i);c=!(P=yield $r(U.next())).done;c=!1){const b=P.value;{let K;if(null!=b.path&&(K=b.path,b.path=b.path.split("/").filter(_e=>null!=_e&&"."!==_e).join("/")),BP(b)){const _e={path:b.path,mtime:b.mtime,mode:b.mode,content:Io(function*(){let Te=0n;var Ge,Se=!1,Re=!1;try{for(var Xe,ct=ro(r.chunker(r.chunkValidator(ob(b.content))));Se=!(Xe=yield $r(ct.next())).done;Se=!1){const Je=Xe.value;{const lt=BigInt(Je.byteLength);Te+=lt,r.onProgress?.(new kd("unixfs:importer:progress:file:read",{bytesRead:Te,chunkSize:lt,path:b.path})),yield Je}}}catch(Je){Re=!0,Ge=Je}finally{try{Se&&null!=ct.return&&(yield $r(ct.return()))}finally{if(Re)throw Ge}}})(),originalPath:K};yield(0,ae.A)(function*(){return eC(_e,o,r)})}else{if(null==b.path)throw new Error("Import candidate must have content or path or both");{const _e={path:b.path,mtime:b.mtime,mode:b.mode,originalPath:K};yield(0,ae.A)(function*(){return QI(_e,o,r)})}}}}}catch(b){a=!0,u=b}finally{try{c&&null!=U.return&&(yield $r(U.return()))}finally{if(a)throw u}}});return function n(i,o){return t.apply(this,arguments)}}()}({chunker:_e,chunkValidator:Te,wrapWithDirectory:o,layout:n.layout??tM(),bufferImporter:n.bufferImporter??qI({cidVersion:a,rawLeaves:u,leafType:U,onProgress:n.onProgress}),blockWriteConcurrency:b,reduceSingleLeafToSelf:K,cidVersion:a,onProgress:n.onProgress}),Re=n.treeBuilder??function GO(r){return function(){var t=Io(function*(i,o){let a,c=new rM({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),u=!1;var b,U=!1,P=!1;try{for(var _e,K=ro(i);U=!(_e=yield $r(K.next())).done;U=!1){const Xe=_e.value;{if(null==Xe)continue;const Je=`${Xe.originalPath??""}`.split("/")[0];null!=Je&&""!==Je&&(null==a?(a=Je,u=!0):a!==Je&&(u=!1)),c=yield $r(C9(Xe,c,r)),(null==Xe.unixfs||!Xe.unixfs.isDirectory())&&(yield Xe)}}}catch(Xe){P=!0,b=Xe}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}if(r.wrapWithDirectory||u&&c.childCount()>1)yield*gf(ro(KM(c,o)));else{var Re,Te=!1,Se=!1;try{for(var ct,Ge=ro(c.eachChildSeries());Te=!(ct=yield $r(Ge.next())).done;Te=!1){const Xe=ct.value;null!=Xe&&(yield*gf(ro(KM(Xe.child,o))))}}catch(Xe){Se=!0,Re=Xe}finally{try{Te&&null!=Ge.return&&(yield $r(Ge.return()))}finally{if(Se)throw Re}}}});return function n(i,o){return t.apply(this,arguments)}}()}({wrapWithDirectory:o,shardSplitThresholdBytes:c,cidVersion:a,onProgress:n.onProgress});var Xe,Ge=!1,ct=!1;try{for(var lt,Je=ro(Re(ox(Se(i,t),P),t));Ge=!(lt=yield $r(Je.next())).done;Ge=!1){const Et=lt.value;yield{cid:Et.cid,path:Et.path,unixfs:Et.unixfs,size:Et.size}}}catch(Et){ct=!0,Xe=Et}finally{try{Ge&&null!=Je.return&&(yield $r(Je.return()))}finally{if(ct)throw Xe}}}),ky.apply(this,arguments)}var _1=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},a3=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(a){return new Promise(function(u,U){!function o(c,a,u,U){Promise.resolve(U).then(function(P){c({value:P,done:u})},a)}(u,U,(a=r[c](a)).done,a.value)})}}};const YO={[Ta.code]:Ta},HM={[Iv]:ee};class cc{static computeCid(t,n=Iv,i=Ta.code){return _1(this,void 0,void 0,function*(){const o=HM[n];if(!o)throw new qt(Yt.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const c=YO[i];if(!c)throw new qt(Yt.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const a=o.encode(t),u=yield c.digest(a);return(yield $l.TO.createV1(o.code,u)).toString()})}static parseCid(t){const n=$l.TO.parse(t).toV1();if(!HM[n.code])throw new qt(Yt.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!YO[n.multihash.code])throw new qt(Yt.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,o;return _1(this,void 0,void 0,function*(){const a=xb([{content:t}],new ND,{cidVersion:1});let u;try{for(var b,U=!0,P=a3(a);b=yield P.next(),!(n=b.done);U=!0)U=!1,u=b.value}catch(K){i={error:K}}finally{try{!U&&!n&&(o=P.return)&&(yield o.call(P))}finally{if(i)throw i.error}}return u?u.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,o;return _1(this,void 0,void 0,function*(){const a=xb([{content:t}],new ND,{cidVersion:1});let u;try{for(var b,U=!0,P=a3(a);b=yield P.next(),!(n=b.done);U=!0)U=!1,u=b.value}catch(K){i={error:K}}finally{try{!U&&!n&&(o=P.return)&&(yield o.call(P))}finally{if(i)throw i.error}}return u?u.cid.toString():""})}}var yp=E(91426),Py=E(63397),Mb=E(65797),WM=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};Py.VV.isEphemeralKeyCompressed=!0;class Sm{static aes256CtrEncrypt(t,n,i){return WM(this,void 0,void 0,function*(){const o=yp.createCipheriv("aes-256-ctr",t,n),c=new Mb.Readable({read(){}});return i.on("data",a=>{const u=o.update(a);c.push(u)}),i.on("end",()=>{const a=o.final();c.push(a),c.push(null)}),i.on("error",a=>{c.emit("error",a)}),c})}static aes256CtrDecrypt(t,n,i){return WM(this,void 0,void 0,function*(){const o=yp.createDecipheriv("aes-256-ctr",t,n),c=new Mb.Readable({read(){}});return i.on("data",a=>{const u=o.update(a);c.push(u)}),i.on("end",()=>{const a=o.final();c.push(a),c.push(null)}),i.on("error",a=>{c.emit("error",a)}),c})}static eciesSecp256k1Encrypt(t,n){return WM(this,void 0,void 0,function*(){const i=Buffer.from(t),o=Buffer.from(n),c=Py.w(i,o);let a=0,u=Sm.isEphemeralKeyCompressed?33:65;const U=c.subarray(a,u);a=u,u+=Py.VV.symmetricNonceLength;const P=c.subarray(a,u);a=u,u+=16;const b=c.subarray(a,u);return{ciphertext:c.subarray(u),ephemeralPublicKey:U,initializationVector:P,messageAuthenticationCode:b}})}static eciesSecp256k1Decrypt(t){return WM(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return Py.Yc(n,i)})}static get isEphemeralKeyCompressed(){return Py.VV.isEphemeralKeyCompressed}}var Sb=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(Sb||{}),c3=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Oy{constructor(t){this.jws=t}static create(t,n=[]){return c3(this,void 0,void 0,function*(){const i={payload:he.bytesToBase64Url(t),signatures:[]},o=new Oy(i);for(const c of n)yield o.addSignature(c);return o})}addSignature(t){return c3(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),o=he.stringToBase64Url(i),a=he.stringToBytes(`${o}.${this.jws.payload}`),u=yield t.sign(a),U=he.bytesToBase64Url(u);this.jws.signatures.push({protected:o,signature:U})})}getJws(){return this.jws}}const Sh="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var Am=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},Hl=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(Hl||{});class Ry{static derivePrivateKey(t,n){var i;return Am(this,void 0,void 0,function*(){const o=Qi.privateJwkToBytes(t.derivedPrivateKey),c=null!==(i=t.derivationPath)&&void 0!==i?i:[],a=yield Ry.derivePrivateKeyBytes(o,n),u=yield Qi.privateKeyToJwk(a);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...c,...n],derivedPrivateKey:u}})}static derivePublicKey(t,n){return Am(this,void 0,void 0,function*(){const i=yield Ry.derivePrivateKey(t,n);return yield Qi.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return Am(this,void 0,void 0,function*(){Ry.validateKeyDerivationPath(n);let i=t;for(const o of n){const c=he.stringToBytes(o);i=yield Ry.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:c,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return Am(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:o,keyLengthInBytes:c}=t,u=yield function R9(){if(Sh&&"object"==typeof Sh.subtle&&null!=Sh.subtle)return Sh.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),U=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:o},u,8*c);return new Uint8Array(U)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new qt(Yt.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function Ab(r,t){return r>t?1:r<t?-1:0}function E1(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function dc(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&dc(r[t])})}var zo=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class cr{static validateJsonSchema(t){sm(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:Ko.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return zo(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield cc.computeCid(n)})}static compareCid(t,n){return zo(this,void 0,void 0,function*(){return Ab(yield cr.getCid(t),yield cr.getCid(n))})}static createAuthorization(t){return zo(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:o,permissionGrantId:c,protocolRole:a}=t;let u;void 0!==o&&(u=yield cr.getCid(o));const P={signature:yield cr.createSignature(n,i,{delegatedGrantId:u,permissionGrantId:c,protocolRole:a})};return void 0!==o&&(P.authorDelegatedGrant=o),P})}static createSignature(t,n,i){return zo(this,void 0,void 0,function*(){const o=yield cc.computeCid(t),c=Object.assign({descriptorCid:o},i);dc(c);const a=he.objectToBytes(c);return(yield Oy.create(a,[n])).getJws()})}static getNewestMessage(t){return zo(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield cr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return zo(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield cr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return zo(this,void 0,void 0,function*(){return(yield cr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return zo(this,void 0,void 0,function*(){return(yield cr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return zo(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:cr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return zo(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new qt(Yt.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const o=Ko.decodePlainObjectPayload(t);sm(i,o);const{descriptorCid:c}=o,a=yield cc.computeCid(n);if(c!==a)throw new qt(Yt.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${c} does not match expected CID ${a}`);return o})}}class oa{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new oa(t)})}constructor(t){this.id=t.recordId,this.grantor=cr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=he.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var lc=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(lc||{});class $a{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const o=n[i],c=t[i];if(void 0===c||!(Array.isArray(c)?this.matchAnyIndexValue(o,c):this.matchIndexValue(o,c)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class GM{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:o,parentId:c,recipient:a,contextId:u,protocolPath:P,schema:b,protocol:K}=t,_e=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==o)return{attester:o};if(void 0!==c)return{parentId:c};if(void 0!==a)return{recipient:a};if(void 0!==u)return{contextId:u};if(void 0!==P)return{protocolPath:P};if(void 0!==b)return{schema:b};if(void 0!==K)return{protocol:K};const Se=Object.keys(_e)[0],Re={};return Re[Se]=t[Se],Re}}var Ei=function(r){return r.Events="Events",r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Ei||{}),Vr=function(r){return r.Configure="Configure",r.Create="Create",r.Get="Get",r.Grant="Grant",r.Query="Query",r.Read="Read",r.Request="Request",r.Revoke="Revoke",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(Vr||{});function Tm(r){let t;try{t=By(r)}catch{t=void 0}if(r!==t)throw new qt(Yt.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function By(r){return d3(r)}function _s(r){let t;try{t=Ny(r)}catch{t=void 0}if(r!==t)throw new qt(Yt.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function Ny(r){return d3(r)}function d3(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function _a(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new qt(Yt.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var Dm=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Ii{static isRecordsWrite(t){return t.descriptor.interface===Ei.Records&&t.descriptor.method===Vr.Write}static getAuthor(t){let n;return n=cr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return Dm(this,void 0,void 0,function*(){const{encryption:o}=t,c=o.keyEncryption.find(Re=>Re.rootKeyId===n.rootKeyId&&Re.derivationScheme===n.derivationScheme);if(void 0===c)throw new qt(Yt.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const a=Ii.constructKeyDerivationPath(c.derivationScheme,t),u=yield Ii.derivePrivateKey(n,a),U=he.base64UrlToBytes(c.encryptedKey),P=Qi.publicJwkToBytes(c.ephemeralPublicKey),b=he.base64UrlToBytes(c.initializationVector),K=he.base64UrlToBytes(c.messageAuthenticationCode),_e=yield Sm.eciesSecp256k1Decrypt({ciphertext:U,ephemeralPublicKey:P,initializationVector:b,messageAuthenticationCode:K,privateKey:u}),Te=he.base64UrlToBytes(o.initializationVector);return yield Sm.aes256CtrDecrypt(_e,Te,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,o=n.contextId;let c;return c=t===Hl.DataFormats?Ii.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===Hl.ProtocolPath?Ii.constructKeyDerivationPathUsingProtocolPathScheme(i):t===Hl.ProtocolContext?Ii.constructKeyDerivationPathUsingProtocolContextScheme(o):Ii.constructKeyDerivationPathUsingSchemasScheme(i.schema),c}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[Hl.DataFormats,t,n]:[Hl.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new qt(Yt.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[Hl.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new qt(Yt.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[Hl.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new qt(Yt.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[Hl.Schemas,t]}static derivePrivateKey(t,n){var i;return Dm(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new qt(Yt.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const o=null!==(i=t.derivationPath)&&void 0!==i?i:[];Ii.validateAncestorKeyAndDescentKeyDerivationPathsMatch(o,n);const c=n.slice(o.length),a=Qi.privateJwkToBytes(t.derivedPrivateKey);return yield Ry.derivePrivateKeyBytes(a,c)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const o=t[i],c=n[i];if(o!==c)throw new qt(Yt.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${o}' mismatches against the descendant key derivation segment '${c}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:By(t.protocol),i=void 0===t.schema?void 0:Ny(t.schema);const o=Object.assign(Object.assign({},t),{protocol:n,schema:i});return dc(o),o}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const o=t[i];n[`tag.${i}`]=this.isStartsWithFilter(o)?$a.constructPrefixFilterAsRangeFilter(o.startsWith):o}return n}static convertFilter(t,n){const{tags:i}=t,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["tags"]);let c={};void 0!==i&&(c=Object.assign({},this.convertTagsFilter(i)));const a=Object.assign(Object.assign({},o),c),{dateCreated:u,datePublished:U,dateUpdated:P,contextId:b}=t,K=u?$a.convertRangeCriterion(u):void 0;K&&(a.dateCreated=K);const _e=U?$a.convertRangeCriterion(U):void 0;_e&&(a.published=!0,a.datePublished=_e),!0!==a.published&&(n===lc.PublishedAscending||n===lc.PublishedDescending)&&(a.published=!0);const Te=P?$a.convertRangeCriterion(P):void 0;Te&&(a.messageTimestamp=Te,delete a.dateUpdated);const Se=b?$a.constructPrefixFilterAsRangeFilter(b):void 0;return Se&&(a.contextId=Se),a}static validateDelegatedGrantReferentialIntegrity(t,n,i){var o,c;return Dm(this,void 0,void 0,function*(){const a=void 0!==n?.delegatedGrantId,u=void 0!==(null===(o=t.authorization)||void 0===o?void 0:o.authorDelegatedGrant);if(a!==u)throw new qt(Yt.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${a},          authorDelegatedGrant defined: ${u}`);if(u){const b=t.authorization.authorDelegatedGrant;if(!0!==(yield oa.parse(b)).delegated)throw new qt(Yt.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const _e=b.descriptor.recipient,Te=cr.getSigner(t);if(_e!==Te)throw new qt(Yt.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${_e} in author delegated grant must be the same as the signer ${Te} of the message signature.`);const Se=yield cr.getCid(b);if(Se!==n.delegatedGrantId)throw new qt(Yt.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Se} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const U=void 0!==i?.delegatedGrantId,P=void 0!==(null===(c=t.authorization)||void 0===c?void 0:c.ownerDelegatedGrant);if(U!==P)throw new qt(Yt.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${U},          ownerDelegatedGrant defined: ${P}`);if(P){const b=t.authorization.ownerDelegatedGrant;if(!0!==(yield oa.parse(b)).delegated)throw new qt(Yt.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const _e=b.descriptor.recipient,Te=Ko.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(_e!==Te)throw new qt(Yt.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${_e} in owner delegated grant must be the same as the signer ${Te} of the owner signature.`);const Se=yield cr.getCid(b);if(Se!==i.delegatedGrantId)throw new qt(Yt.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Se} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var Im=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Wl{static performBaseValidation(t){return Im(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:a}=t,u=n.descriptor;Wl.verifyExpectedGrantorAndGrantee(i,o,c);const U=i;yield Wl.verifyGrantActive(U,u.messageTimestamp,c,a),yield Wl.verifyGrantScopeInterfaceAndMethod(u.interface,u.method,c)})}static verifyExpectedGrantorAndGrantee(t,n,i){const o=i.grantee;if(n!==o)throw new qt(Yt.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${o}, but need to be granted to ${n}`);const c=i.grantor;if(t!==c)throw new qt(Yt.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${c}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,o){return Im(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new qt(Yt.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new qt(Yt.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const c={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:a}=yield o.query(t,[c]),u=yield cr.getOldestMessage(a);if(void 0!==u&&u.descriptor.messageTimestamp<=n)throw new qt(Yt.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return Im(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new qt(Yt.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new qt(Yt.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var M1=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(M1||{}),Tb=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class od{static authorizeWrite(t){return Tb(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:a}=t;yield Wl.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:a}),od.verifyScope(n,c.scope),od.verifyConditions(n,c.conditions)})}static authorizeRead(t){return Tb(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:o,expectedGrantee:c,permissionGrant:a,messageStore:u}=t;yield Wl.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:c,permissionGrant:a,messageStore:u}),od.verifyScope(i,a.scope)})}static authorizeQueryOrSubscribe(t){return Tb(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:a}=t;yield Wl.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:a});const U=c.scope.protocol,P=n.descriptor.filter.protocol;if(void 0!==U&&P!==U)throw new qt(Yt.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${U} does not match protocol in message ${P}`)})}static authorizeDelete(t){return Tb(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:o,expectedGrantee:c,permissionGrant:a,messageStore:u}=t;yield Wl.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:c,permissionGrant:a,messageStore:u});const P=a.scope.protocol,b=i.descriptor.protocol;if(void 0!==P&&b!==P)throw new qt(Yt.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${P} does not match protocol in record to delete ${b}`)})}static verifyScope(t,n){od.isUnrestrictedScope(n)||(void 0!==t.descriptor.protocol?od.verifyProtocolRecordScope(t,n):od.verifyFlatRecordScope(t,n))}static verifyProtocolRecordScope(t,n){if(void 0===n.protocol)throw new qt(Yt.RecordsGrantAuthorizationScopeMissingProtocol,"Grant for protocol record must specify protocol in its scope");if(n.protocol!==t.descriptor.protocol)throw new qt(Yt.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new qt(Yt.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new qt(Yt.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyFlatRecordScope(t,n){if(void 0!==n.schema&&n.schema!==t.descriptor.schema)throw new qt(Yt.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in permission grant scope with schema '${n.schema}'`)}static verifyConditions(t,n){if(n?.publication===M1.Required&&!t.descriptor.published)throw new qt(Yt.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===M1.Prohibited&&t.descriptor.published)throw new qt(Yt.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}static isUnrestrictedScope(t){return void 0===t.protocol&&void 0===t.schema}}var pt=E(89994);const Db={};function Pu(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}Ho(t,r),Ho(`${t}.prototype`,r.prototype)}function Ho(r,t){const n=`%${r}%`;if(void 0!==Db[n])throw new Error(`intrinsic ${r} already exists`);Db[n]=t}function rr(r){return Db[r]}var l3,dl;const Wr="slot-epochNanoSeconds",wf="slot-timezone-identifier",_r="slot-year",Mr="slot-month",Ar="slot-day",Si="slot-hour",Ci="slot-minute",Ai="slot-second",ui="slot-millisecond",vi="slot-microsecond",bi="slot-nanosecond",Mn="slot-calendar",XM="slot-date-brand",YM="slot-year-month-brand",Cm="slot-month-day-brand",Oa="slot-cached-instant",co="slot-time-zone",uc="slot-years",Ea="slot-months",Pc="slot-weeks",Oc="slot-days",Rc="slot-hours",sa="slot-minutes",fc="slot-seconds",Bc="slot-milliseconds",Nc="slot-microseconds",Uc="slot-nanoseconds",rs="slot-calendar-identifier",ZM=new WeakMap,JM=Symbol.for("@@Temporal__GetSlots");(l3=globalThis)[JM]||(l3[JM]=function(t){return ZM.get(t)});const u3=globalThis[JM],qM=Symbol.for("@@Temporal__CreateSlots");(dl=globalThis)[qM]||(dl[qM]=function(t){ZM.set(t,Object.create(null))});const Gl=globalThis[qM];function Xs(r,...t){if(!r||"object"!=typeof r)return!1;const n=u3(r);return!!n&&t.every(i=>i in n)}function Pe(r,t){const n=u3(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function Oi(r,t,n){const i=u3(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const f3=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Ib=new RegExp("(?:"+[`(?:${f3.source})(?:\\/(?:${f3.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),h3=/(?:[+\u2212-]\d{6}|\d{4})/,S1=/(?:0[1-9]|1[0-2])/,QM=/(?:0[1-9]|[12]\d|3[01])/,JO=new RegExp(`(${h3.source})(?:-(${S1.source})-(${QM.source})|(${S1.source})(${QM.source}))`),p3=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,m3=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,y3=new RegExp(`([zZ])|${m3.source}?`),gp=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,qO=new RegExp([`^${JO.source}`,`(?:(?:T|\\s+)${p3.source}(?:${y3.source})?)?`,`(?:\\[!?(${Ib.source})\\])?`,`((?:${gp.source})*)$`].join(""),"i"),QO=new RegExp([`^T?${p3.source}`,`(?:${y3.source})?`,`(?:\\[!?${Ib.source}\\])?`,`((?:${gp.source})*)$`].join(""),"i"),e4=new RegExp(`^(${h3.source})-?(${S1.source})(?:\\[!?${Ib.source}\\])?((?:${gp.source})*)$`),t4=new RegExp(`^(?:--)?(${S1.source})-?(${QM.source})(?:\\[!?${Ib.source}\\])?((?:${gp.source})*)$`),A1=/(\d+)(?:[.,](\d{1,9}))?/,g3=new RegExp(`(?:${A1.source}H)?(?:${A1.source}M)?(?:${A1.source}S)?`),vp=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${g3.source})?$`,"i"),eS=Array.prototype.includes,v3=Array.prototype.push,tS=globalThis.Intl.DateTimeFormat,n4=Math.min,b3=Math.max,Wo=Math.abs,Va=Math.floor,bp=Math.sign,Xl=Math.trunc,Cb=Number.isNaN,aa=Number.isFinite,nS=Number,_f=String,Ly=Number.MAX_SAFE_INTEGER,Ys=Object.create,Fy=Object.getOwnPropertyDescriptor,Ah=Reflect.apply,jy=Reflect.ownKeys,Uo=pt.BigInt(0),Ou=pt.BigInt(1),Pd=pt.BigInt(60),rS=pt.BigInt(24),eo=pt.BigInt(1e3),Od=pt.BigInt(1e6),Ru=pt.BigInt(1e9),w3=pt.BigInt(-1),iS=pt.multiply(pt.BigInt(3600),Ru),oS=pt.multiply(Pd,Ru),Bu=pt.multiply(iS,rS),Ky=pt.multiply(pt.BigInt(-86400),pt.BigInt(1e17)),Th=pt.multiply(pt.BigInt(86400),pt.BigInt(1e17)),Nu=-271821,T1=275760,$y=pt.multiply(pt.BigInt(-388152),pt.BigInt(1e13)),sS=pt.multiply(Bu,pt.BigInt(3660)),wp=pt.multiply(Bu,pt.BigInt(366)),D1=pt.multiply(Bu,pt.BigInt(14)),r4=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Rd(r){return pt.equal(r,Uo)}function fo(r,t){const n=r[t];if(void 0!==n)return n}function Fr(r,t,n){return Ah(r,t,arguments.length>2?n:[])}function Qo(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Vy(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return nS(r)}function Fs(r){const t=Vy(r);if(Cb(t)||0===t)return 0;if(!aa(t))return t;const n=Va(Wo(t));return 0===n?0:bp(t)*n}function ll(r){if("number"!=typeof r||Cb(r)||!aa(r))return!1;const t=Wo(r);return Va(t)===t}function yo(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return _f(r)}function qi(r){const t=Vy(r);if(0===t)return 0;if(Cb(t)||!aa(t))throw new RangeError("invalid number value");const n=Xl(t);return 0===n?0:n}function _3(r,t){const n=qi(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function xa(r){const t=Vy(r);if(!aa(t))throw new RangeError("infinity is out of range");if(!ll(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Cs(r,t){return{quotient:pt.divide(r,t),remainder:pt.remainder(r,t)}}function I1(r){return pt.lessThan(r,Uo)}function aS(r){return Rd(r)?0:I1(r)?-1:1}function Yl(r){return pt.lessThan(r,Uo)?pt.multiply(r,w3):r}const km=new Map([["year",qi],["month",_3],["monthCode",yo],["day",_3],["hour",qi],["minute",qi],["second",qi],["millisecond",qi],["microsecond",qi],["nanosecond",qi],["years",xa],["months",xa],["weeks",xa],["days",xa],["hours",xa],["minutes",xa],["seconds",xa],["milliseconds",xa],["microseconds",xa],["nanoseconds",xa],["era",yo],["eraYear",Fs],["offset",yo]]),i4=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),kb=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Pb=new Map(kb.map(r=>[r[0],r[1]])),o4=new Map(kb.map(([r,t])=>[t,r])),cS=kb.map(([,r])=>r),s4=Array.from(Pb.keys()).sort(),C1=new Map;function k1(r){let t=C1.get(r);return void 0===t&&(t=new tS("en-us",{timeZone:_f(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),C1.set(r,t)),t}function P1(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function _p(r,t,n,i){if(null==t)return;const o=jy(t);for(const c of o)if(!n.some(a=>Object.is(a,c))&&Object.prototype.propertyIsEnumerable.call(t,c)){const a=t[c];if(i&&i.some(u=>Object.is(u,a)))continue;r[c]=a}}function Lo(r){return Xs(r,Wr)&&!Xs(r,co,Mn)}function xl(r){return Xs(r,wf)}function ds(r){return Xs(r,rs)}function go(r){return Xs(r,uc,Ea,Oc,Rc,sa,fc,Bc,Nc,Uc)}function di(r){return Xs(r,XM)}function ho(r){return Xs(r,Si,Ci,Ai,ui,vi,bi)&&!Xs(r,_r,Mr,Ar)}function wi(r){return Xs(r,_r,Mr,Ar,Si,Ci,Ai,ui,vi,bi)}function to(r){return Xs(r,YM)}function Ma(r){return Xs(r,Cm)}function Pr(r){return Xs(r,Wr,co,Mn)}function zy(r){if(Xs(r,Mn)||Xs(r,co))throw new TypeError("with() does not support a calendar or timeZone property");if(ho(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function Ob(r,t){return"never"===t?"":Pm(hc(r),t)}function Pm(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function Ef(r){const t=qO.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Fs(n),o=Fs(t[2]||t[4]),c=Fs(t[3]||t[5]),a=Fs(t[6]),u=void 0!==t[6],U=Fs(t[7]||t[10]);let P=Fs(t[8]||t[11]);60===P&&(P=59);const b=(t[9]||t[12])+"000000000",K=Fs(b.slice(0,3)),_e=Fs(b.slice(3,6)),Te=Fs(b.slice(6,9));let Se,Re=!1;if(t[13])Se=void 0,Re=!0;else if(t[14]&&t[15]){const wt=t[17]||"00";let Ct=t[18]||"0";if(Se=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+Ct){for(;Ct.endsWith("0");)Ct=Ct.slice(0,-1);Se+=`:${wt}.${Ct}`}else+wt&&(Se+=`:${wt}`);"-00:00"===Se&&(Se="+00:00")}const Ge=t[19],ct=t[20];let Xe;for(const[,Je,lt,Et]of ct.matchAll(gp))if("u-ca"===lt)void 0===Xe&&(Xe=Et);else if("!"===Je)throw new RangeError(`Unrecognized annotation: !${lt}=${Et}`);return Z1(i,o,c,a,U,P,K,_e,Te),{year:i,month:o,day:c,hasTime:u,hour:a,minute:U,second:P,millisecond:K,microsecond:_e,nanosecond:Te,ianaName:Ge,offset:Se,z:Re,calendar:Xe}}function O1(r){const t=e4.exec(r);let n,i,o,c;if(t){let a=t[1];if("\u2212"===a[0]&&(a=`-${a.slice(1)}`),"-000000"===a)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Fs(a),i=Fs(t[2]);const u=t[3];for(const[,U,P,b]of u.matchAll(gp))if("u-ca"===P)void 0===o&&(o=b);else if("!"===U)throw new RangeError(`Unrecognized annotation: !${P}=${b}`);if(void 0!==o&&"iso8601"!==o)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let a;if(({year:n,month:i,calendar:o,day:c,z:a}=Ef(r)),a)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:o,referenceISODay:c}}function dS(r){const t=t4.exec(r);let n,i,o,c;if(t){n=Fs(t[1]),i=Fs(t[2]);const a=t[3];for(const[,u,U,P]of a.matchAll(gp))if("u-ca"===U)void 0===o&&(o=P);else if("!"===u)throw new RangeError(`Unrecognized annotation: !${U}=${P}`);if(void 0!==o&&"iso8601"!==o)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let a;if(({month:n,day:i,calendar:o,year:c,z:a}=Ef(r)),a)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:o,referenceISOYear:c}}function Rb(r,t,n,i){let o=r,c=t,a=n;switch(i){case"reject":Df(o,c,a);break;case"constrain":({year:o,month:c,day:a}=N3(o,c,a))}return{year:o,month:c,day:a}}function Bb(r,t,n,i,o,c,a){let u=r,U=t,P=n,b=i,K=o,_e=c;switch(a){case"reject":Y1(u,U,P,b,K,_e);break;case"constrain":({hour:u,minute:U,second:P,millisecond:b,microsecond:K,nanosecond:_e}=(Re=U,Ge=P,ct=b,Xe=K,Je=_e,{hour:ad(u,0,23),minute:ad(Re,0,59),second:ad(Ge,0,59),millisecond:ad(ct,0,999),microsecond:ad(Xe,0,999),nanosecond:ad(Je,0,999)}))}var Re,Ge,ct,Xe,Je;return{hour:u,minute:U,second:P,millisecond:b,microsecond:K,nanosecond:_e}}function xf(r){if(!Qo(r))return function(Se){const Re=vp.exec(Se);if(!Re)throw new RangeError(`invalid duration: ${Se}`);if(Re.slice(2).every(Qt=>void 0===Qt))throw new RangeError(`invalid duration: ${Se}`);const Ge="-"===Re[1]||"\u2212"===Re[1]?-1:1,ct=void 0===Re[2]?0:qi(Re[2])*Ge,Xe=void 0===Re[3]?0:qi(Re[3])*Ge,Je=void 0===Re[4]?0:qi(Re[4])*Ge,lt=void 0===Re[5]?0:qi(Re[5])*Ge,Et=void 0===Re[6]?0:qi(Re[6])*Ge,wt=Re[7],Ct=Re[8],xt=Re[9],Zt=Re[10],hn=Re[11];let _n=0,Cn=0,gn=0;if(void 0!==wt){if(Ct??xt??Zt??hn)throw new RangeError("only the smallest unit can be fractional");gn=3600*Fs((wt+"000000000").slice(0,9))*Ge}else if(_n=void 0===Ct?0:qi(Ct)*Ge,void 0!==xt){if(Zt??hn)throw new RangeError("only the smallest unit can be fractional");gn=60*Fs((xt+"000000000").slice(0,9))*Ge}else Cn=void 0===Zt?0:qi(Zt)*Ge,void 0!==hn&&(gn=Fs((hn+"000000000").slice(0,9))*Ge);const yn=gn%1e3,fn=Xl(gn/1e3)%1e3,wn=Xl(gn/1e6)%1e3;return Cn+=Xl(gn/1e9)%60,_n+=Xl(gn/6e10),J1(ct,Xe,Je,lt,Et,_n,Cn,wn,fn,yn),{years:ct,months:Xe,weeks:Je,days:lt,hours:Et,minutes:_n,seconds:Cn,milliseconds:wn,microseconds:fn,nanoseconds:yn}}(yo(r));if(go(r))return{years:Pe(r,uc),months:Pe(r,Ea),weeks:Pe(r,Pc),days:Pe(r,Oc),hours:Pe(r,Rc),minutes:Pe(r,sa),seconds:Pe(r,fc),milliseconds:Pe(r,Bc),microseconds:Pe(r,Nc),nanoseconds:Pe(r,Uc)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Se){if(!Qo(Se))throw new TypeError("invalid duration-like");const Re={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let Ge=!1;for(const ct of s4){const Xe=Se[ct];void 0!==Xe&&(Ge=!0,Re[ct]=xa(Xe))}if(!Ge)throw new TypeError("invalid duration-like");return Re}(r);for(const Te of s4){const Se=n[Te];void 0!==Se&&(t[Te]=Se)}let{years:i,months:o,weeks:c,days:a,hours:u,minutes:U,seconds:P,milliseconds:b,microseconds:K,nanoseconds:_e}=t;return J1(i,o,c,a,u,U,P,b,K,_e),{years:i,months:o,weeks:c,days:a,hours:u,minutes:U,seconds:P,milliseconds:b,microseconds:K,nanoseconds:_e}}function js(r){return void 0===r?"constrain":Rp(r,"overflow",["constrain","reject"],"constrain")}function Om(r){return void 0===r?"compatible":Rp(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Zl(r,t){return Rp(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function R1(r,t){return void 0===r?t:Rp(r,"offset",["prefer","use","ignore","reject"],t)}function Nb(r){return Rp(r,"calendarName",["auto","always","never","critical"],"auto")}function Hy(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Vy(t),!aa(t))throw new RangeError("roundingIncrement must be finite");const n=Xl(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function Wy(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function Ub(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==yo(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=Va(t);if(!aa(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function Lb(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Rm=Symbol("~required~");function Bd(r,t,n,i,o=[]){const c=[];for(const[,P,b]of kb)"datetime"!==n&&n!==b||c.push(P);c.push(...o);let a=i;a===Rm?a=void 0:void 0!==a&&c.push(a);const u=[...c];for(const P of c){const b=o4.get(P);void 0!==b&&u.push(b)}let U=Rp(r,t,u,a);if(void 0===U&&i===Rm)throw new RangeError(`${t} is required`);return Pb.has(U)?Pb.get(U):U}function B1(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,o,c,a,u,U,P,b,K,_e,Te,Se="option",Re=!1;if(Qo(t)){if(Pr(t)||di(t))return t;if(wi(t))return za(t);K=Um(t);const Ge=Es(K,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);Ge.push("timeZone","offset");const ct=Ui(t,Ge,[]),Xe=Ys(null);Xe.overflow="constrain",({year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b}=Gy(K,ct,Xe)),Te=ct.offset,void 0===Te&&(Se="wall"),_e=ct.timeZone,void 0!==_e&&(_e=Zs(_e))}else{let Ge,ct;if(({year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b,calendar:K,ianaName:Ge,offset:Te,z:ct}=Ef(yo(t))),Ge)_e=Zs(Ge),ct?Se="exact":Te||(Se="wall"),Re=!0;else if(ct)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(K||(K="iso8601"),!Nh(K))throw new RangeError(`invalid calendar identifier ${K}`);K=Cf(K)}return void 0===_e?ql(n,i,o,K):ca(U1(n,i,o,c,a,u,U,P,b,Se,"option"===Se?Km(Te):0,_e,"compatible","reject",Re),_e,K)}function lS(r,t,n,i,o,c,a,u,U,P){for(const[b,K]of[["years",r],["months",t],["weeks",n],["days",i],["hours",o],["minutes",c],["seconds",a],["milliseconds",u],["microseconds",U],["nanoseconds",P]])if(0!==K)return Pb.get(b);return"nanosecond"}function Dh(r,t){return cS.indexOf(r)>cS.indexOf(t)?t:r}function Ui(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const o=Ys(null);let c=!1;t.sort();for(const a of t){let u=r[a];if(void 0!==u)c=!0,km.has(a)&&(u=km.get(a)(u)),o[a]=u;else if("partial"!==n){if(eS.call(n,a))throw new TypeError(`required property '${a}' missing or undefined`);u=i4.get(a),o[a]=u}}if("partial"===n&&!c)throw new TypeError(i);return o}function N1(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=Ui(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),o={};for(const c of n){const a=Fy(i,c);void 0!==a?o[c]=a.value:"complete"===t&&(o[c]=0)}return o}function po(r,t){let n=r;if(Qo(n)){if(di(n))return n;if(Pr(n)&&(js(t),n=pc(Pe(n,co),Pe(n,Oa),Pe(n,Mn))),wi(n))return js(t),ql(Pe(n,_r),Pe(n,Mr),Pe(n,Ar),Pe(n,Mn));const U=Um(n);return kh(U,Ui(n,Es(U,["day","month","monthCode","year"]),[]),t)}js(t);let{year:i,month:o,day:c,calendar:a,z:u}=Ef(yo(n));if(u)throw new RangeError("Z designator not supported for PlainDate");if(a||(a="iso8601"),!Nh(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Cf(a),ql(i,o,c,a)}function Gy(r,t,n){let{hour:i,minute:o,second:c,millisecond:a,microsecond:u,nanosecond:U}=N1(t);const P=js(n),b=kh(r,t,n),K=Pe(b,_r),_e=Pe(b,Mr),Te=Pe(b,Ar);return({hour:i,minute:o,second:c,millisecond:a,microsecond:u,nanosecond:U}=Bb(i,o,c,a,u,U,P)),{year:K,month:_e,day:Te,hour:i,minute:o,second:c,millisecond:a,microsecond:u,nanosecond:U}}function Ep(r,t){let n,i,o,c,a,u,U,P,b,K;if(Qo(r)){if(wi(r))return r;if(Pr(r))return js(t),pc(Pe(r,co),Pe(r,Oa),Pe(r,Mn));if(di(r))return js(t),sd(Pe(r,_r),Pe(r,Mr),Pe(r,Ar),0,0,0,0,0,0,Pe(r,Mn));K=Um(r);const _e=Ui(r,Es(K,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b}=Gy(K,_e,t))}else{let _e;if(js(t),({year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b,calendar:K,z:_e}=Ef(yo(r))),_e)throw new RangeError("Z designator not supported for PlainDateTime");if(Z1(n,i,o,c,a,u,U,P,b),K||(K="iso8601"),!Nh(K))throw new RangeError(`invalid calendar identifier ${K}`);K=Cf(K)}return sd(n,i,o,c,a,u,U,P,b,K)}function Bm(r){if(go(r))return r;let{years:t,months:n,weeks:i,days:o,hours:c,minutes:a,seconds:u,milliseconds:U,microseconds:P,nanoseconds:b}=xf(r);return new(rr("%Temporal.Duration%"))(t,n,i,o,c,a,u,U,P,b)}function Jl(r){if(Lo(r))return r;if(Pr(r))return new(rr("%Temporal.Instant%"))(Pe(r,Wr));const t=function c4(r){let{year:t,month:n,day:i,hour:o,minute:c,second:a,millisecond:u,microsecond:U,nanosecond:P,offset:b,z:K}=function(Re){const Ge=Ef(Re);if(!Ge.z&&!Ge.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return Ge}(r);if(!K&&!b)throw new RangeError("Temporal.Instant requires a time zone offset");const _e=K?0:Km(b);({year:t,month:n,day:i,hour:o,minute:c,second:a,millisecond:u,microsecond:U,nanosecond:P}=SS(t,n,i,o,c,a,u,U,P-_e));const Te=Uu(t,n,i,o,c,a,u,U,P);if(null===Te)throw new RangeError("DateTime outside of supported range");return Te}(yo(r));return new(rr("%Temporal.Instant%"))(t)}function E3(r,t){let n=r;if(Qo(n)){if(Ma(n))return n;let u,U;if(Xs(n,Mn))u=Pe(n,Mn),U=!1;else{let b=n.calendar;U=void 0===b,void 0===b&&(b="iso8601"),u=ul(b)}const P=Ui(n,Es(u,["day","month","monthCode","year"]),[]);return U&&void 0!==P.month&&void 0===P.monthCode&&void 0===P.year&&(P.year=1972),qy(u,P,t)}js(t);let{month:i,day:o,referenceISOYear:c,calendar:a}=dS(yo(n));if(void 0===a&&(a="iso8601"),!Nh(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Cf(a),void 0===c?(Df(1972,i,o),jb(i,o,a)):qy(a,jb(i,o,a,c))}function Mf(r,t="constrain"){let n,i,o,c,a,u,U=r;if(Qo(U)){if(ho(U))return U;if(Pr(U)&&(U=pc(Pe(U,co),Pe(U,Oa),Pe(U,Mn))),wi(U))return new(rr("%Temporal.PlainTime%"))(Pe(U,Si),Pe(U,Ci),Pe(U,Ai),Pe(U,ui),Pe(U,vi),Pe(U,bi));({hour:n,minute:i,second:o,millisecond:c,microsecond:a,nanosecond:u}=N1(U)),({hour:n,minute:i,second:o,millisecond:c,microsecond:a,nanosecond:u}=Bb(n,i,o,c,a,u,t))}else({hour:n,minute:i,second:o,millisecond:c,microsecond:a,nanosecond:u}=function(b){const K=QO.exec(b);let _e,Te,Se,Re,Ge,ct,Xe;if(K){_e=Fs(K[1]),Te=Fs(K[2]||K[5]),Se=Fs(K[3]||K[6]),60===Se&&(Se=59);const Je=(K[4]||K[7])+"000000000";Re=Fs(Je.slice(0,3)),Ge=Fs(Je.slice(3,6)),ct=Fs(Je.slice(6,9)),Xe=K[14];for(const[,lt,Et,wt]of Xe.matchAll(gp))if("u-ca"!==Et&&"!"===lt)throw new RangeError(`Unrecognized annotation: !${Et}=${wt}`);if(K[8])throw new RangeError("Z designator not supported for PlainTime")}else{let Je,lt;if(({hasTime:lt,hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct,z:Je}=Ef(b)),!lt)throw new RangeError(`time is missing in string: ${b}`);if(Je)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(b))return{hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct};try{const{month:Je,day:lt}=dS(b);Df(1972,Je,lt)}catch{try{const{year:Je,month:lt}=O1(b);Df(Je,lt,1)}catch{return{hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct}}}throw new RangeError(`invalid ISO 8601 time-only string ${b}; may need a T prefix`)}(yo(U))),Y1(n,i,o,c,a,u);return new(rr("%Temporal.PlainTime%"))(n,i,o,c,a,u)}function Xy(r,t){if(Qo(r)){if(to(r))return r;const a=Um(r);return jm(a,Ui(r,Es(a,["month","monthCode","year"]),[]),t)}js(t);let{year:n,month:i,referenceISODay:o,calendar:c}=O1(yo(r));if(void 0===c&&(c="iso8601"),!Nh(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Cf(c),void 0===o?(Df(n,i,1),Nm(n,i,c)):jm(c,Nm(n,i,c,o))}function U1(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te,Se){const Re=new(rr("%Temporal.PlainDateTime%"))(r,t,n,i,o,c,a,u,U);if("wall"===P||"ignore"===Te)return Pe(Sa(K,Re,_e),Wr);if("exact"===P||"use"===Te){const ct=Uu(r,t,n,i,o,c,a,u,U);if(null===ct)throw new RangeError("ZonedDateTime outside of supported range");return pt.subtract(ct,pt.BigInt(b))}const Ge=z1(K,Re);for(const ct of Ge){const Xe=Ql(K,ct),Je=pt.toNumber(Ud(pt.BigInt(Xe),oS,"halfExpand"));if(Xe===b||Se&&Je===b)return Pe(ct,Wr)}if("reject"===Te){const ct=wS(b),Xe=xl(K)?Pe(K,wf):"time zone";throw new RangeError(`Offset ${ct} is invalid for ${Re.toString()} in ${Xe}`)}return Pe(A3(Ge,K,Re,_e),Wr)}function Yy(r,t){let n,i,o,c,a,u,U,P,b,K,_e,Te,Se,Re,Ge=!1,ct="option";if(Qo(r)){if(Pr(r))return r;Te=Um(r);const Je=Es(Te,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);Je.push("timeZone","offset");const lt=Ui(r,Je,["timeZone"]);K=Zs(lt.timeZone),_e=lt.offset,void 0===_e&&(ct="wall"),Se=Om(t),Re=R1(t,"reject"),({year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b}=Gy(Te,lt,t))}else{let Je,lt;if(({year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b,ianaName:Je,offset:_e,z:lt,calendar:Te}=function(wt){const Ct=Ef(wt);if(!Ct.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return Ct}(yo(r))),K=Zs(Je),lt?ct="exact":_e||(ct="wall"),Te||(Te="iso8601"),!Nh(Te))throw new RangeError(`invalid calendar identifier ${Te}`);Te=Cf(Te),Ge=!0,Se=Om(t),Re=R1(t,"reject"),js(t)}let Xe=0;return"option"===ct&&(Xe=Km(_e)),ca(U1(n,i,o,c,a,u,U,P,b,ct,Xe,K,Se,Re,Ge),K,Te)}function d4(r,t,n,i,o){Df(t,n,i),X1(t,n,i),Gl(r),Oi(r,_r,t),Oi(r,Mr,n),Oi(r,Ar,i),Oi(r,Mn,o),Oi(r,XM,!0)}function ql(r,t,n,i="iso8601"){const o=rr("%Temporal.PlainDate%"),c=Ys(o.prototype);return d4(c,r,t,n,i),c}function x3(r,t,n,i,o,c,a,u,U,P,b){Z1(t,n,i,o,c,a,u,U,P),U3(t,n,i,o,c,a,u,U,P),Gl(r),Oi(r,_r,t),Oi(r,Mr,n),Oi(r,Ar,i),Oi(r,Si,o),Oi(r,Ci,c),Oi(r,Ai,a),Oi(r,ui,u),Oi(r,vi,U),Oi(r,bi,P),Oi(r,Mn,b)}function sd(r,t,n,i,o,c,a,u,U,P="iso8601"){const b=rr("%Temporal.PlainDateTime%"),K=Ys(b.prototype);return x3(K,r,t,n,i,o,c,a,u,U,P),K}function Fb(r,t,n,i,o){Df(o,t,n),X1(o,t,n),Gl(r),Oi(r,Mr,t),Oi(r,Ar,n),Oi(r,_r,o),Oi(r,Mn,i),Oi(r,Cm,!0)}function jb(r,t,n="iso8601",i=1972){const o=rr("%Temporal.PlainMonthDay%"),c=Ys(o.prototype);return Fb(c,r,t,n,i),c}function M3(r,t,n,i,o){var a,u;Df(t,n,o),u=n,Ha(a=t,Nu,T1),a===Nu?Ha(u,4,12):a===T1&&Ha(u,1,9),Gl(r),Oi(r,_r,t),Oi(r,Mr,n),Oi(r,Ar,o),Oi(r,Mn,i),Oi(r,YM,!0)}function Nm(r,t,n="iso8601",i=1){const o=rr("%Temporal.PlainYearMonth%"),c=Ys(o.prototype);return M3(c,r,t,n,i),c}function S3(r,t,n,i){Vm(t),Gl(r),Oi(r,Wr,t),Oi(r,co,n),Oi(r,Mn,i);const o=new(rr("%Temporal.Instant%"))(Pe(r,Wr));Oi(r,Oa,o)}function ca(r,t,n="iso8601"){const i=rr("%Temporal.ZonedDateTime%"),o=Ys(i.prototype);return S3(o,r,t,n),o}function Es(r,t){if("string"==typeof r){const o=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.fields%"),o,[t])}const n=Fr(fo(r,"fields"),r,[t]),i=[];for(const o of n){if("string"!=typeof o)throw new TypeError("bad return from calendar.fields()");v3.call(i,o)}return i}function Ih(r,t,n){if("string"==typeof r){const o=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.mergeFields%"),o,[t,n])}const i=Fr(fo(r,"mergeFields"),r,[t,n]);if(!Qo(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Ra(r,t,n,i,o){let c=o;if("string"==typeof r){const u=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.dateAdd%"),u,[t,n,i])}void 0===c&&(c=fo(r,"dateAdd"));const a=Ah(c,r,[t,n,i]);if(!di(a))throw new TypeError("invalid result");return a}function xp(r,t,n,i,o){let c=o;if("string"==typeof r){const u=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.dateUntil%"),u,[t,n,i])}void 0===c&&(c=fo(r,"dateUntil"));const a=Ah(c,r,[t,n,i]);if(!go(a))throw new TypeError("invalid result");return a}function L1(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.year%"),i,[t])}let n=Fr(fo(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!ll(n))throw new RangeError("calendar year result must be an integer");return n}function F1(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.month%"),i,[t])}let n=Fr(fo(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function Mp(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=Fr(fo(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function Sp(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.day%"),i,[t])}const n=Fr(fo(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function Zy(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.era%"),i,[t])}let n=Fr(fo(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function Kb(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=Fr(fo(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!ll(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function uS(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=Fr(fo(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function fS(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=Fr(fo(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function j1(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=Fr(fo(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function $b(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=Fr(fo(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!ll(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function Vb(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=Fr(fo(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function Sf(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=Fr(fo(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function K1(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=Fr(fo(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function $1(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=Fr(fo(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!ll(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function Ch(r,t){if("string"==typeof r){const i=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=Fr(fo(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function ul(r){if(Qo(r)){if(Xs(r,Mn))return Pe(r,Mn);if(!(ds(o=r)||"dateAdd"in o&&"dateFromFields"in o&&"dateUntil"in o&&"day"in o&&"dayOfWeek"in o&&"dayOfYear"in o&&"daysInMonth"in o&&"daysInWeek"in o&&"daysInYear"in o&&"fields"in o&&"id"in o&&"inLeapYear"in o&&"mergeFields"in o&&"month"in o&&"monthCode"in o&&"monthDayFromFields"in o&&"monthsInYear"in o&&"weekOfYear"in o&&"year"in o&&"yearMonthFromFields"in o&&"yearOfWeek"in o))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var o;const t=yo(r);if(Nh(t))return Cf(t);let n;try{({calendar:n}=Ef(t))}catch{try{({calendar:n}=O1(t))}catch{({calendar:n}=dS(t))}}if(n||(n="iso8601"),!Nh(n))throw new RangeError(`invalid calendar identifier ${n}`);return Cf(n)}function Um(r){if(Xs(r,Mn))return Pe(r,Mn);const{calendar:t}=r;return void 0===t?"iso8601":ul(t)}function hc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function Lm(r){return Qo(r)?r:new(rr("%Temporal.Calendar%"))(r)}function Jy(r,t){return r===t||hc(r)===hc(t)}function hS(r,t,n){if(r===t)return;const i=hc(r),o=hc(t);if(i!==o)throw new RangeError(`cannot ${n} of ${i} and ${o} calendars`)}function Fm(r,t){if(r===t)return t;const n=hc(r),i=hc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function kh(r,t,n,i){if("string"==typeof r){const c=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.dateFromFields%"),c,[t,n])}const o=Fr(i??fo(r,"dateFromFields"),r,[t,n]);if(!di(o))throw new TypeError("invalid result");return o}function jm(r,t,n){if("string"==typeof r){const o=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.yearMonthFromFields%"),o,[t,n])}let i=Fr(fo(r,"yearMonthFromFields"),r,[t,n]);if(!to(i))throw new TypeError("invalid result");return i}function qy(r,t,n){if("string"==typeof r){const o=new(rr("%Temporal.Calendar%"))(r);return Fr(rr("%Temporal.Calendar.prototype.monthDayFromFields%"),o,[t,n])}let i=Fr(fo(r,"monthDayFromFields"),r,[t,n]);if(!Ma(i))throw new TypeError("invalid result");return i}function Zs(r){if(Qo(r)){if(Pr(r))return Pe(r,co);if(!(xl(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function a4(r){const{ianaName:t,offset:n,z:i}=function(c){if(new RegExp(`^${Ib.source}$`,"i").test(c))return{ianaName:c};try{const a=Ef(c);if(a.z||a.offset||a.ianaName)return a}catch{}throw new RangeError(`Invalid time zone: ${c}`)}(r);return t?I3(t):i?"UTC":wS(Km(n))}(yo(r))}function zb(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function Hb(r){return Qo(r)?r:new(rr("%Temporal.TimeZone%"))(r)}function Wb(r,t){return r===t||zb(r)===zb(t)}function za(r){return ql(Pe(r,_r),Pe(r,Mr),Pe(r,Ar),Pe(r,Mn))}function V1(r){return new(rr("%Temporal.PlainTime%"))(Pe(r,Si),Pe(r,Ci),Pe(r,Ai),Pe(r,ui),Pe(r,vi),Pe(r,bi))}function Ql(r,t,n){if("string"==typeof r){const o=new(rr("%Temporal.TimeZone%"))(r);return Fr(rr("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),o,[t])}const i=Fr(n??fo(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!ll(i)||Wo(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function pS(r,t){return wS(Ql(r,t))}function pc(r,t,n){const i=Pe(t,Wr),o=Ql(r,t);let{year:c,month:a,day:u,hour:U,minute:P,second:b,millisecond:K,microsecond:_e,nanosecond:Te}=C3(i);return({year:c,month:a,day:u,hour:U,minute:P,second:b,millisecond:K,microsecond:_e,nanosecond:Te}=SS(c,a,u,U,P,b,K,_e,Te+o)),sd(c,a,u,U,P,b,K,_e,Te,n)}function Sa(r,t,n){return A3(z1(r,t),r,t,n)}function A3(r,t,n,i){const o=rr("%Temporal.Instant%"),c=r.length;if(1===c)return r[0];if(c)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[c-1];case"reject":throw new RangeError("multiple instants found")}const a=Pe(n,_r),u=Pe(n,Mr),U=Pe(n,Ar),P=Pe(n,Si),b=Pe(n,Ci),K=Pe(n,Ai),_e=Pe(n,ui),Te=Pe(n,vi),Se=Pe(n,bi),Re=Uu(a,u,U,P,b,K,_e,Te,Se);if(null===Re)throw new RangeError("DateTime outside of supported range");const Ge=new o(pt.subtract(Re,Bu)),ct=new o(pt.add(Re,Bu)),Xe=Ql(t,Ge),Je=Ql(t,ct)-Xe;switch(i){case"earlier":{const lt=Pe(n,Mn),Et=rr("%Temporal.PlainDateTime%"),wt=RS(a,u,U,P,b,K,_e,Te,Se,lt,0,0,0,0,0,0,0,0,0,-Je,void 0);return z1(t,new Et(wt.year,wt.month,wt.day,wt.hour,wt.minute,wt.second,wt.millisecond,wt.microsecond,wt.nanosecond,lt))[0]}case"compatible":case"later":{const lt=Pe(n,Mn),Et=rr("%Temporal.PlainDateTime%"),wt=RS(a,u,U,P,b,K,_e,Te,Se,lt,0,0,0,0,0,0,0,0,0,Je,void 0),Ct=z1(t,new Et(wt.year,wt.month,wt.day,wt.hour,wt.minute,wt.second,wt.millisecond,wt.microsecond,wt.nanosecond,lt));return Ct[Ct.length-1]}case"reject":throw new RangeError("no such instant found")}}function z1(r,t,n){if("string"==typeof r){const c=new(rr("%Temporal.TimeZone%"))(r);return Fr(rr("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),c,[t])}const i=Fr(n??fo(r,"getPossibleInstantsFor"),r,[t]),o=[];for(const c of i){if(!Lo(c))throw new TypeError("bad return from getPossibleInstantsFor");v3.call(o,c)}return o}function Ap(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Wo(r)}`.slice(-6):`0000${r}`.slice(-4),t}function Oo(r){return`00${r}`.slice(-2)}function H1(r,t,n,i,o){if("minute"===o)return"";const c=`:${Oo(r)}`;let a,u=1e6*t+1e3*n+i;if("auto"===o){if(0===u)return c;for(a=`${u}`.padStart(9,"0");"0"===a[a.length-1];)a=a.slice(0,-1)}else{if(0===o)return c;a=`${u}`.padStart(9,"0").slice(0,o)}return`${c}.${a}`}function T3(r,t,n){let i=t;void 0===i&&(i="UTC");const o=pc(i,r,"iso8601"),c=Ap(Pe(o,_r)),a=Oo(Pe(o,Mr)),u=Oo(Pe(o,Ar)),U=Oo(Pe(o,Si)),P=Oo(Pe(o,Ci)),b=H1(Pe(o,Ai),Pe(o,ui),Pe(o,vi),Pe(o,bi),n);let K="Z";return void 0!==t&&(K=_S(Ql(i,r))),`${c}-${a}-${u}T${U}:${P}${b}${K}`}function mS(r,t="auto",n){function i(Zt){return Zt<=Ly?Zt.toString(10):pt.BigInt(Zt).toString(10)}const o=Pe(r,uc),c=Pe(r,Ea),a=Pe(r,Pc),u=Pe(r,Oc),U=Pe(r,Rc),P=Pe(r,sa);let b=Pe(r,fc),K=Pe(r,Bc),_e=Pe(r,Nc),Te=Pe(r,Uc);const Se=Af(o,c,a,u,U,P,b,K,_e,Te);if(n){const{unit:Zt,increment:hn,roundingMode:_n}=n;({seconds:b,milliseconds:K,microseconds:_e,nanoseconds:Te}=If(0,0,0,0,0,0,b,K,_e,Te,hn,Zt,_n))}const Re=[];o&&Re.push(`${i(Wo(o))}Y`),c&&Re.push(`${i(Wo(c))}M`),a&&Re.push(`${i(Wo(a))}W`),u&&Re.push(`${i(Wo(u))}D`);const Ge=[];U&&Ge.push(`${i(Wo(U))}H`),P&&Ge.push(`${i(Wo(P))}M`);const ct=[];let Xe,Je,lt,Et,wt=$m(0,0,0,b,K,_e,Te,0);({quotient:wt,remainder:Xe}=Cs(wt,eo)),({quotient:wt,remainder:Je}=Cs(wt,eo)),({quotient:Et,remainder:lt}=Cs(wt,eo));const Ct=1e6*Wo(pt.toNumber(lt))+1e3*Wo(pt.toNumber(Je))+Wo(pt.toNumber(Xe));let xt;if("auto"===t){if(0!==Ct)for(xt=`${Ct}`.padStart(9,"0");"0"===xt[xt.length-1];)xt=xt.slice(0,-1)}else 0!==t&&(xt=`${Ct}`.padStart(9,"0").slice(0,t));return xt&&ct.unshift(".",xt),pt.equal(Et,Uo)&&!ct.length&&"auto"===t||ct.unshift(Yl(Et).toString()),ct.length&&Ge.push(`${ct.join("")}S`),Ge.length&&Ge.unshift("T"),Re.length||Ge.length?`${Se<0?"-":""}P${Re.join("")}${Ge.join("")}`:"PT0S"}function yS(r,t="auto"){return`${Ap(Pe(r,_r))}-${Oo(Pe(r,Mr))}-${Oo(Pe(r,Ar))}${Ob(Pe(r,Mn),t)}`}function gS(r,t,n="auto",i){let o=Pe(r,_r),c=Pe(r,Mr),a=Pe(r,Ar),u=Pe(r,Si),U=Pe(r,Ci),P=Pe(r,Ai),b=Pe(r,ui),K=Pe(r,vi),_e=Pe(r,bi);if(i){const{unit:Te,increment:Se,roundingMode:Re}=i;({year:o,month:c,day:a,hour:u,minute:U,second:P,millisecond:b,microsecond:K,nanosecond:_e}=Xb(o,c,a,u,U,P,b,K,_e,Se,Te,Re))}return`${Ap(o)}-${Oo(c)}-${Oo(a)}T${Oo(u)}:${Oo(U)}${H1(P,b,K,_e,t)}${Ob(Pe(r,Mn),n)}`}function vS(r,t="auto"){let n=`${Oo(Pe(r,Mr))}-${Oo(Pe(r,Ar))}`;const i=hc(Pe(r,Mn));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${Ap(Pe(r,_r))}-${n}`);const o=Pm(i,t);return o&&(n+=o),n}function D3(r,t="auto"){let n=`${Ap(Pe(r,_r))}-${Oo(Pe(r,Mr))}`;const i=hc(Pe(r,Mn));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${Oo(Pe(r,Ar))}`);const o=Pm(i,t);return o&&(n+=o),n}function bS(r,t,n="auto",i="auto",o="auto",c){let a=Pe(r,Oa);if(c){const{unit:b,increment:K,roundingMode:_e}=c,Te=eE(Pe(r,Wr),K,b,_e);a=new(rr("%Temporal.Instant%"))(Te)}const u=Pe(r,co),U=pc(u,a,"iso8601");let P=`${Ap(Pe(U,_r))}-${Oo(Pe(U,Mr))}-${Oo(Pe(U,Ar))}T${Oo(Pe(U,Si))}:${Oo(Pe(U,Ci))}${H1(Pe(U,Ai),Pe(U,ui),Pe(U,vi),Pe(U,bi),t)}`;return"never"!==o&&(P+=_S(Ql(u,a))),"never"!==i&&(P+=`[${"critical"===i?"!":""}${zb(u)}]`),P+=Ob(Pe(r,Mn),n),P}function Qy(r){return z3.test(_f(r))}function Km(r){const t=z3.exec(_f(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function I3(r){return Qy(r)?wS(Km(r)):k1(_f(r)).resolvedOptions().timeZone}function Tp(r,t){const{year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P,nanosecond:b}=k3(r,t),K=n%400,_e=(n-K)/400,Te=pt.multiply(pt.BigInt(146097),Bu),Se=Uu(K,i,o,c,a,u,U,P,b),Re=pt.add(Se,pt.multiply(Te,pt.BigInt(_e)));return pt.toNumber(pt.subtract(Re,t))}function wS(r){const t=r<0?"-":"+",n=Wo(r),i=n%1e9,o=Va(n/1e9)%60,c=Va(n/6e10)%60,a=Oo(Va(n/36e11)),u=Oo(c),U=Oo(o);let P="";if(i){let b=`${i}`.padStart(9,"0");for(;"0"===b[b.length-1];)b=b.slice(0,-1);P=`:${U}.${b}`}else o&&(P=`:${U}`);return`${t}${a}:${u}${P}`}function _S(r){let t=pt.toNumber(Ud(pt.BigInt(r),oS,"halfExpand"));const n=t<0?"-":"+";t=Wo(t);const i=t/6e10%60;return`${n}${Oo(Va(t/36e11))}:${Oo(i)}`}function Uu(r,t,n,i,o,c,a,u,U){const P=new Date;P.setUTCHours(i,o,c,a),P.setUTCFullYear(r,t-1,n);const b=P.getTime();if(Cb(b))return null;let K=pt.multiply(pt.BigInt(b),Od);return K=pt.add(K,pt.multiply(pt.BigInt(u),eo)),K=pt.add(K,pt.BigInt(U)),pt.lessThan(K,Ky)||pt.greaterThan(K,Th)?null:K}function C3(r){const{quotient:t,remainder:n}=Cs(r,Od);let i=pt.toNumber(t),o=pt.toNumber(n);o<0&&(o+=1e6,i-=1);const c=Va(o/1e3)%1e3,a=o%1e3,u=new Date(i);return{epochMilliseconds:i,year:u.getUTCFullYear(),month:u.getUTCMonth()+1,day:u.getUTCDate(),hour:u.getUTCHours(),minute:u.getUTCMinutes(),second:u.getUTCSeconds(),millisecond:u.getUTCMilliseconds(),microsecond:c,nanosecond:a}}function k3(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:o,nanosecond:c}=C3(t),{year:a,month:u,day:U,hour:P,minute:b,second:K}=(Se=n,function(ct){const Xe=ct.split(/[^\w]+/);if(7!==Xe.length)throw new RangeError(`expected 7 parts in "${ct}`);const Je=+Xe[0],lt=+Xe[1];let Et=+Xe[2];const wt=Xe[3].toUpperCase();if("B"===wt||"BC"===wt)Et=1-Et;else if("A"!==wt&&"AD"!==wt)throw new RangeError(`Unknown era ${wt} in "${ct}`);let Ct=+Xe[4];24===Ct&&(Ct=0);const xt=+Xe[5],Zt=+Xe[6];if(!(aa(Et)&&aa(Je)&&aa(lt)&&aa(Ct)&&aa(xt)&&aa(Zt)))throw new RangeError(`Invalid number in "${ct}`);return{year:Et,month:Je,day:lt,hour:Ct,minute:xt,second:Zt}}(k1(r).format(new Date(Se))));var Se;return SS(a,u,U,P,b,K,i,o,c)}function ES(r,t){return pt.lessThan(r,t)?t:r}function eg(){return pt.add(tE(),sS)}function P3(r,t){if(pt.lessThan(t,$y))return P3(r,$y);const n=pt.add(t,wp),i=ES(eg(),n);let o=ES($y,t);const c=Tp(r,o);let a=o,u=c;for(;c===u&&pt.lessThan(pt.BigInt(o),i);){if(a=pt.add(o,D1),pt.greaterThan(a,Th))return null;u=Tp(r,a),c===u&&(o=a)}return c===u?null:H3(U=>Tp(r,U),o,a,c,u)}function xS(r,t){const n=eg(),i=pt.greaterThan(t,n),o=i?pt.subtract(t,wp):$y;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const P=Pe(Jl("2088-01-01T00Z"),Wr);if(pt.lessThan(P,t))return xS(r,P)}let c=pt.subtract(t,Ou);if(pt.lessThan(c,$y))return null;const a=Tp(r,c);let u=c,U=a;for(;a===U&&pt.greaterThan(c,o);){if(u=pt.subtract(c,D1),pt.lessThan(u,$y))return null;U=Tp(r,u),a===U&&(c=u)}if(a===U){if(i){const P=pt.subtract(n,Bu);return xS(r,P)}return null}return H3(P=>Tp(r,P),u,c,U,a)}function Dp(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Ph(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Dp(r)?"leapyear":"standard"][t-1]}function O3(r,t,n){const i=t+(t<3?10:-2),o=r-(t<3?1:0),c=Va(o/100),a=o-100*c,u=(n+Va(2.6*i-.2)+(a+Va(a/4))+(Va(c/4)-2*c))%7;return u+(u<=0?7:0)}function W1(r,t,n){let i=n;for(let o=t-1;o>0;o--)i+=Ph(r,o);return i}function MS(r,t,n){const i=W1(r,t,n),o=O3(r,t,n)||7,c=O3(r,1,1),a=Va((i-o+10)/7);return a<1?5===c||6===c&&Dp(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===a&&(Dp(r)?366:365)-i<4-o?{week:1,year:r+1}:{week:a,year:r}}function Af(r,t,n,i,o,c,a,u,U,P){for(const b of[r,t,n,i,o,c,a,u,U,P])if(0!==b)return b<0?-1:1;return 0}function G1(r,t){let n=r,i=t;if(!aa(n)||!aa(i))throw new RangeError("infinity is out of range");return i-=1,n+=Va(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function Ip(r,t,n){let i=r,o=t,c=n;if(!aa(c))throw new RangeError("infinity is out of range");({year:i,month:o}=G1(i,o));const a=146097;if(Wo(c)>a){const P=Xl(c/a);i+=400*P,c-=P*a}let u=0,U=o>2?i:i-1;for(;u=Dp(U)?366:365,c<-u;)i-=1,U-=1,c+=u;for(U+=1;u=Dp(U)?366:365,c>u;)i+=1,U+=1,c-=u;for(;c<1;)({year:i,month:o}=G1(i,o-1)),c+=Ph(i,o);for(;c>Ph(i,o);)c-=Ph(i,o),({year:i,month:o}=G1(i,o+1));return{year:i,month:o,day:c}}function SS(r,t,n,i,o,c,a,u,U){const{deltaDays:P,hour:b,minute:K,second:_e,millisecond:Te,microsecond:Se,nanosecond:Re}=Tf(i,o,c,a,u,U),{year:Ge,month:ct,day:Xe}=Ip(r,t,n+P);return{year:Ge,month:ct,day:Xe,hour:b,minute:K,second:_e,millisecond:Te,microsecond:Se,nanosecond:Re}}function Tf(r,t,n,i,o,c){let a,u=pt.BigInt(r),U=pt.BigInt(t),P=pt.BigInt(n),b=pt.BigInt(i),K=pt.BigInt(o),_e=pt.BigInt(c);return({quotient:a,remainder:_e}=kp(_e,eo)),K=pt.add(K,a),({quotient:a,remainder:K}=kp(K,eo)),b=pt.add(b,a),({quotient:a,remainder:b}=kp(b,eo)),P=pt.add(P,a),({quotient:a,remainder:P}=kp(P,Pd)),U=pt.add(U,a),({quotient:a,remainder:U}=kp(U,Pd)),u=pt.add(u,a),({quotient:a,remainder:u}=kp(u,rS)),{deltaDays:pt.toNumber(a),hour:pt.toNumber(u),minute:pt.toNumber(U),second:pt.toNumber(P),millisecond:pt.toNumber(b),microsecond:pt.toNumber(K),nanosecond:pt.toNumber(_e)}}function $m(r,t,n,i,o,c,a,u){const U=pt.BigInt(r);let P=pt.BigInt(a);0!==r&&(P=pt.subtract(pt.BigInt(a),pt.BigInt(u)));const b=pt.add(pt.BigInt(t),pt.multiply(U,pt.BigInt(24))),K=pt.add(pt.BigInt(n),pt.multiply(b,Pd)),_e=pt.add(pt.BigInt(i),pt.multiply(K,Pd)),Te=pt.add(pt.BigInt(o),pt.multiply(_e,eo)),Se=pt.add(pt.BigInt(c),pt.multiply(Te,eo));return pt.add(pt.BigInt(P),pt.multiply(Se,eo))}function AS(r,t){const n=rr("%Temporal.Instant%"),i=bp(pt.toNumber(r));let o=pt.BigInt(r),c=864e11;if(0===i)return{days:0,nanoseconds:Uo,dayLengthNs:c};if(!Pr(t)){let Je;return({quotient:Je,remainder:o}=Cs(o,pt.BigInt(c))),{days:pt.toNumber(Je),nanoseconds:o,dayLengthNs:c}}const a=Pe(t,Wr),u=Pe(t,Oa),U=pt.add(a,o),P=new n(U),b=Pe(t,co),K=Pe(t,Mn),_e=pc(b,u,K),Te=pc(b,P,K);let{days:Se}=CS(Pe(_e,_r),Pe(_e,Mr),Pe(_e,Ar),Pe(_e,Si),Pe(_e,Ci),Pe(_e,Ai),Pe(_e,ui),Pe(_e,vi),Pe(_e,bi),Pe(Te,_r),Pe(Te,Mr),Pe(Te,Ar),Pe(Te,Si),Pe(Te,Ci),Pe(Te,Ai),Pe(Te,ui),Pe(Te,vi),Pe(Te,bi),K,"day",Ys(null)),Re=Nd(u,b,K,0,0,0,Se,0,0,0,0,0,0),Ge=pt.BigInt(Se);if(1===i)for(;pt.greaterThan(Ge,Uo)&&pt.greaterThan(Re,U);)Ge=pt.subtract(Ge,Ou),Re=Nd(u,b,K,0,0,0,pt.toNumber(Ge),0,0,0,0,0,0);o=pt.subtract(U,Re);let ct=!1,Xe=new n(Re);do{const Je=Nd(Xe,b,K,0,0,0,i,0,0,0,0,0,0),lt=Pe(Xe,Wr);c=pt.toNumber(pt.subtract(Je,lt)),ct=pt.greaterThanOrEqual(pt.multiply(pt.subtract(o,pt.BigInt(c)),pt.BigInt(i)),Uo),ct&&(o=pt.subtract(o,pt.BigInt(c)),Xe=new n(Je),Ge=pt.add(Ge,pt.BigInt(i)))}while(ct);if(!Rd(Ge)&&aS(Ge)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Rd(o)&&aS(o)!==i)throw I1(o)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(pt.greaterThanOrEqual(Yl(o),Yl(pt.BigInt(c))))throw new Error("assert not reached");return{days:pt.toNumber(Ge),nanoseconds:o,dayLengthNs:Wo(c)}}function Ml(r,t,n,i,o,c,a,u,U){let P=R3(r,t,n,i,o,c,a,u,U);if("positive overflow"===P||"negative overflow"===P)throw new RangeError("Duration out of range");return P}function R3(r,t,n,i,o,c,a,u,U){let P,b,K,_e,Te,Se,Re=r;if(Pr(U)){const Ct=Nd(Pe(U,Oa),Pe(U,co),Pe(U,Mn),0,0,0,Re,t,n,i,o,c,a),xt=Pe(U,Wr);P=pt.subtract(Ct,xt)}else P=$m(Re,t,n,i,o,c,a,0);"year"===u||"month"===u||"week"===u||"day"===u?({days:Re,nanoseconds:P}=AS(P,U)):Re=0;const Ge=pt.lessThan(P,Uo)?-1:1;switch(P=Yl(P),b=K=_e=Te=Se=Uo,u){case"year":case"month":case"week":case"day":case"hour":({quotient:b,remainder:P}=Cs(P,eo)),({quotient:K,remainder:b}=Cs(b,eo)),({quotient:_e,remainder:K}=Cs(K,eo)),({quotient:Te,remainder:_e}=Cs(_e,Pd)),({quotient:Se,remainder:Te}=Cs(Te,Pd));break;case"minute":({quotient:b,remainder:P}=Cs(P,eo)),({quotient:K,remainder:b}=Cs(b,eo)),({quotient:_e,remainder:K}=Cs(K,eo)),({quotient:Te,remainder:_e}=Cs(_e,Pd));break;case"second":({quotient:b,remainder:P}=Cs(P,eo)),({quotient:K,remainder:b}=Cs(b,eo)),({quotient:_e,remainder:K}=Cs(K,eo));break;case"millisecond":({quotient:b,remainder:P}=Cs(P,eo)),({quotient:K,remainder:b}=Cs(b,eo));break;case"microsecond":({quotient:b,remainder:P}=Cs(P,eo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const ct=pt.toNumber(Se)*Ge,Xe=pt.toNumber(Te)*Ge,Je=pt.toNumber(_e)*Ge,lt=pt.toNumber(K)*Ge,Et=pt.toNumber(b)*Ge,wt=pt.toNumber(P)*Ge;for(const Ct of[Re,ct,Xe,Je,lt,Et,wt])if(!aa(Ct))return 1===Ge?"positive overflow":"negative overflow";return{days:Re,hours:ct,minutes:Xe,seconds:Je,milliseconds:lt,microseconds:Et,nanoseconds:wt}}function tg(r,t,n,i,o,c){const a=rr("%Temporal.Duration%"),u=Af(r,t,n,i,0,0,0,0,0,0);if(0===u)return{years:r,months:t,weeks:n,days:i};const U=pt.BigInt(u);let P,b,K=pt.BigInt(r),_e=pt.BigInt(t),Te=pt.BigInt(n),Se=pt.BigInt(i);c&&(b=po(c),P=Pe(b,Mn));const Re=new a(u),Ge=new a(0,u),ct=new a(0,0,u);switch(o){case"year":break;case"month":{if(!P)throw new RangeError("a starting point is required for months balancing");let Xe,Je;for("string"!=typeof P&&(Xe=fo(P,"dateAdd"),Je=fo(P,"dateUntil"));!Rd(K);){const lt=Ra(P,b,Re,void 0,Xe),Et=Ys(null);Et.largestUnit="month";const wt=xp(P,b,lt,Et,Je),Ct=pt.BigInt(Pe(wt,Ea));b=lt,_e=pt.add(_e,Ct),K=pt.subtract(K,U)}}break;case"week":{if(!P)throw new RangeError("a starting point is required for weeks balancing");const Xe="string"!=typeof P?fo(P,"dateAdd"):void 0;for(;!Rd(K);){let Je;({relativeTo:b,days:Je}=Wa(P,b,Re,Xe)),Se=pt.add(Se,pt.BigInt(Je)),K=pt.subtract(K,U)}for(;!Rd(_e);){let Je;({relativeTo:b,days:Je}=Wa(P,b,Ge,Xe)),Se=pt.add(Se,pt.BigInt(Je)),_e=pt.subtract(_e,U)}break}default:{if(Rd(K)&&Rd(_e)&&Rd(Te))break;if(!P)throw new RangeError("a starting point is required for balancing calendar units");const Xe="string"!=typeof P?fo(P,"dateAdd"):void 0;for(;!Rd(K);){let Je;({relativeTo:b,days:Je}=Wa(P,b,Re,Xe)),Se=pt.add(Se,pt.BigInt(Je)),K=pt.subtract(K,U)}for(;!Rd(_e);){let Je;({relativeTo:b,days:Je}=Wa(P,b,Ge,Xe)),Se=pt.add(Se,pt.BigInt(Je)),_e=pt.subtract(_e,U)}for(;!Rd(Te);){let Je;({relativeTo:b,days:Je}=Wa(P,b,ct,Xe)),Se=pt.add(Se,pt.BigInt(Je)),Te=pt.subtract(Te,U)}break}}return{years:pt.toNumber(K),months:pt.toNumber(_e),weeks:pt.toNumber(Te),days:pt.toNumber(Se)}}function B3(r,t,n,i,o){if(Pr(r)){const c=Pe(r,Oa),a=Pe(r,co),u=Pe(r,Mn),U=Ql(a,c),P=Nd(c,a,u,t,n,i,o,0,0,0,0,0,0);return Ql(a,new(rr("%Temporal.Instant%"))(P))-U}return 0}function TS(r){return new(rr("%Temporal.Duration%"))(-Pe(r,uc),-Pe(r,Ea),-Pe(r,Pc),-Pe(r,Oc),-Pe(r,Rc),-Pe(r,sa),-Pe(r,fc),-Pe(r,Bc),-Pe(r,Nc),-Pe(r,Uc))}function ad(r,t,n){return n4(n,b3(t,r))}function N3(r,t,n){const i=ad(t,1,12);return{year:r,month:i,day:ad(n,1,Ph(r,i))}}function Ha(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Df(r,t,n){Ha(t,1,12),Ha(n,1,Ph(r,t))}function X1(r,t,n){U3(r,t,n,12,0,0,0,0,0)}function Y1(r,t,n,i,o,c){Ha(r,0,23),Ha(t,0,59),Ha(n,0,59),Ha(i,0,999),Ha(o,0,999),Ha(c,0,999)}function Z1(r,t,n,i,o,c,a,u,U){Df(r,t,n),Y1(i,o,c,a,u,U)}function U3(r,t,n,i,o,c,a,u,U){if(Ha(r,Nu,T1),r===Nu&&null==Uu(r,t,n+1,i,o,c,a,u,U-1)||r===T1&&null==Uu(r,t,n-1,i,o,c,a,u,U+1))throw new RangeError("DateTime outside of supported range")}function Vm(r){if(pt.lessThan(r,Ky)||pt.greaterThan(r,Th))throw new RangeError("Instant outside of supported range")}function J1(r,t,n,i,o,c,a,u,U,P){const b=Af(r,t,n,i,o,c,a,u,U,P);for(const K of[r,t,n,i,o,c,a,u,U,P]){if(!aa(K))throw new RangeError("infinite values not allowed as duration fields");const _e=bp(K);if(0!==_e&&_e!==b)throw new RangeError("mixed-sign values not allowed as duration fields")}}function DS(r,t,n,i,o,c,a){switch(a){case"year":case"month":{const u=-Oh(r,t,n,i,o,c);if(0===u)return{years:0,months:0,weeks:0,days:0};const U={year:r,month:t,day:n},P={year:i,month:o,day:c};let b=P.year-U.year,K=Cp(r,t,n,b,0,0,0,"constrain"),_e=-Oh(K.year,K.month,K.day,i,o,c);if(0===_e)return"year"===a?{years:b,months:0,weeks:0,days:0}:{years:0,months:12*b,weeks:0,days:0};let Te=P.month-U.month;if(_e!==u&&(b-=u,Te+=12*u),K=Cp(r,t,n,b,Te,0,0,"constrain"),_e=-Oh(K.year,K.month,K.day,i,o,c),0===_e)return"year"===a?{years:b,months:Te,weeks:0,days:0}:{years:0,months:Te+12*b,weeks:0,days:0};_e!==u&&(Te-=u,Te===-u&&(b-=u,Te=11*u),K=Cp(r,t,n,b,Te,0,0,"constrain"));let Se=0;return Se=K.month===P.month?P.day-K.day:u<0?-K.day-(Ph(P.year,P.month)-P.day):P.day+(Ph(K.year,K.month)-K.day),"month"===a&&(Te+=12*b,b=0),{years:b,months:Te,weeks:0,days:Se}}case"week":case"day":{let u,U,P;Oh(r,t,n,i,o,c)<0?(U={year:r,month:t,day:n},u={year:i,month:o,day:c},P=1):(U={year:i,month:o,day:c},u={year:r,month:t,day:n},P=-1);let b=W1(u.year,u.month,u.day)-W1(U.year,U.month,U.day);for(let _e=U.year;_e<u.year;++_e)b+=Dp(_e)?366:365;let K=0;return"week"===a&&(K=Va(b/7),b%=7),K*=P,b*=P,{years:0,months:0,weeks:K,days:b}}default:throw new Error("assert not reached")}}function L3(r,t,n,i,o,c,a,u,U,P,b,K){let _e=a-r,Te=u-t,Se=U-n,Re=P-i,Ge=b-o,ct=K-c;const Xe=Af(0,0,0,0,_e,Te,Se,Re,Ge,ct);_e*=Xe,Te*=Xe,Se*=Xe,Re*=Xe,Ge*=Xe,ct*=Xe;let Je=0;if(({deltaDays:Je,hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct}=Tf(_e,Te,Se,Re,Ge,ct)),0!=Je)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return _e*=Xe,Te*=Xe,Se*=Xe,Re*=Xe,Ge*=Xe,ct*=Xe,{hours:_e,minutes:Te,seconds:Se,milliseconds:Re,microseconds:Ge,nanoseconds:ct}}function IS(r,t,n,i,o,c){const a=pt.subtract(t,r);let u=0,U=0,P=pt.toNumber(pt.remainder(a,eo)),b=pt.toNumber(pt.remainder(pt.divide(a,eo),eo)),K=pt.toNumber(pt.remainder(pt.divide(a,Od),eo)),_e=pt.toNumber(pt.divide(a,Ru));return({hours:u,minutes:U,seconds:_e,milliseconds:K,microseconds:b,nanoseconds:P}=If(0,0,0,0,0,0,_e,K,b,P,n,i,c)),Ml(0,u,U,_e,K,b,P,o)}function CS(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt){let Et=r,wt=t,Ct=n,{hours:xt,minutes:Zt,seconds:hn,milliseconds:_n,microseconds:Cn,nanoseconds:gn}=L3(i,o,c,a,u,U,_e,Te,Se,Re,Ge,ct);const yn=Af(0,0,0,0,xt,Zt,hn,_n,Cn,gn);Oh(P,b,K,Et,wt,Ct)===-yn&&(({year:Et,month:wt,day:Ct}=Ip(Et,wt,Ct-yn)),({hours:xt,minutes:Zt,seconds:hn,milliseconds:_n,microseconds:Cn,nanoseconds:gn}=Ml(-yn,xt,Zt,hn,_n,Cn,gn,Je)));const fn=ql(Et,wt,Ct,Xe),wn=ql(P,b,K,Xe),Qt=Dh("day",Je),Nn=Bh(lt);Nn.largestUnit=Qt;let{years:Fn,months:Gn,weeks:wr,days:Or}=xp(Xe,fn,wn,Nn);return({days:Or,hours:xt,minutes:Zt,seconds:hn,milliseconds:_n,microseconds:Cn,nanoseconds:gn}=Ml(Or,xt,Zt,hn,_n,Cn,gn,Je)),{years:Fn,months:Gn,weeks:wr,days:Or,hours:xt,minutes:Zt,seconds:hn,milliseconds:_n,microseconds:Cn,nanoseconds:gn}}function F3(r,t,n,i,o,c){const a=pt.subtract(t,r);if(pt.equal(a,Uo))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const u=rr("%Temporal.Instant%"),U=new u(r),P=new u(t),b=pc(n,U,i),K=pc(n,P,i);let{years:_e,months:Te,weeks:Se,days:Re}=CS(Pe(b,_r),Pe(b,Mr),Pe(b,Ar),Pe(b,Si),Pe(b,Ci),Pe(b,Ai),Pe(b,ui),Pe(b,vi),Pe(b,bi),Pe(K,_r),Pe(K,Mr),Pe(K,Ar),Pe(K,Si),Pe(K,Ci),Pe(K,Ai),Pe(K,ui),Pe(K,vi),Pe(K,bi),i,o,c);const Ge=Nd(U,n,i,_e,Te,Se,0,0,0,0,0,0,0);let ct=pt.subtract(t,Ge);const Xe=ca(Ge,n,i);({nanoseconds:ct,days:Re}=AS(ct,Xe));const{hours:Je,minutes:lt,seconds:Et,milliseconds:wt,microseconds:Ct,nanoseconds:xt}=Ml(0,0,0,0,0,0,pt.toNumber(ct),"hour");return{years:_e,months:Te,weeks:Se,days:Re,hours:Je,minutes:lt,seconds:Et,milliseconds:wt,microseconds:Ct,nanoseconds:xt}}function zm(r,t,n,i,o,c){const a=kb.reduce((Te,Se)=>{const Re=Se[0],Ge=Se[1];return"datetime"!==n&&Se[2]!==n||i.includes(Ge)||Te.push(Ge,Re),Te},[]);let u=Bd(t,"largestUnit",n,"auto");if(i.includes(u))throw new RangeError(`largestUnit must be one of ${a.join(", ")}, not ${u}`);const U=Hy(t);let P=Zl(t,"trunc");"since"===r&&(P=function(Se){switch(Se){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Se}}(P));const b=Bd(t,"smallestUnit",n,o);if(i.includes(b))throw new RangeError(`smallestUnit must be one of ${a.join(", ")}, not ${b}`);const K=Dh(c,b);if("auto"===u&&(u=K),Dh(u,b)!==u)throw new RangeError(`largestUnit ${u} cannot be smaller than smallestUnit ${b}`);const _e={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[b];return void 0!==_e&&Wy(U,_e,!1),{largestUnit:u,roundingIncrement:U,roundingMode:P,smallestUnit:b}}function kS(r,t,n,i){const o="since"===r?-1:1,c=Jl(n),a=zm(r,Bh(i),"time",[],"nanosecond","second"),u=Pe(t,Wr),U=Pe(c,Wr);let{hours:P,minutes:b,seconds:K,milliseconds:_e,microseconds:Te,nanoseconds:Se}=IS(u,U,a.roundingIncrement,a.smallestUnit,a.largestUnit,a.roundingMode);return new(rr("%Temporal.Duration%"))(0,0,0,0,o*P,o*b,o*K,o*_e,o*Te,o*Se)}function PS(r,t,n,i){const o="since"===r?-1:1,c=po(n),a=Pe(t,Mn);hS(a,Pe(c,Mn),"compute difference between dates");const u=Bh(i),U=zm(r,u,"date",[],"day","day");u.largestUnit=U.largestUnit;let{years:P,months:b,weeks:K,days:_e}=xp(a,t,c,u);return"day"===U.smallestUnit&&1===U.roundingIncrement||({years:P,months:b,weeks:K,days:_e}=If(P,b,K,_e,0,0,0,0,0,0,U.roundingIncrement,U.smallestUnit,U.roundingMode,t)),new(rr("%Temporal.Duration%"))(o*P,o*b,o*K,o*_e,0,0,0,0,0,0)}function j3(r,t,n,i){const o="since"===r?-1:1,c=Ep(n),a=Pe(t,Mn);hS(a,Pe(c,Mn),"compute difference between dates");const u=Bh(i),U=zm(r,u,"datetime",[],"nanosecond","day");let{years:P,months:b,weeks:K,days:_e,hours:Te,minutes:Se,seconds:Re,milliseconds:Ge,microseconds:ct,nanoseconds:Xe}=CS(Pe(t,_r),Pe(t,Mr),Pe(t,Ar),Pe(t,Si),Pe(t,Ci),Pe(t,Ai),Pe(t,ui),Pe(t,vi),Pe(t,bi),Pe(c,_r),Pe(c,Mr),Pe(c,Ar),Pe(c,Si),Pe(c,Ci),Pe(c,Ai),Pe(c,ui),Pe(c,vi),Pe(c,bi),a,U.largestUnit,u);const Je=za(t);return({years:P,months:b,weeks:K,days:_e,hours:Te,minutes:Se,seconds:Re,milliseconds:Ge,microseconds:ct,nanoseconds:Xe}=If(P,b,K,_e,Te,Se,Re,Ge,ct,Xe,U.roundingIncrement,U.smallestUnit,U.roundingMode,Je)),({days:_e,hours:Te,minutes:Se,seconds:Re,milliseconds:Ge,microseconds:ct,nanoseconds:Xe}=Ml(_e,Te,Se,Re,Ge,ct,Xe,U.largestUnit)),new(rr("%Temporal.Duration%"))(o*P,o*b,o*K,o*_e,o*Te,o*Se,o*Re,o*Ge,o*ct,o*Xe)}function OS(r,t,n,i){const o="since"===r?-1:1,c=Mf(n),a=zm(r,Bh(i),"time",[],"nanosecond","hour");let{hours:u,minutes:U,seconds:P,milliseconds:b,microseconds:K,nanoseconds:_e}=L3(Pe(t,Si),Pe(t,Ci),Pe(t,Ai),Pe(t,ui),Pe(t,vi),Pe(t,bi),Pe(c,Si),Pe(c,Ci),Pe(c,Ai),Pe(c,ui),Pe(c,vi),Pe(c,bi));return({hours:u,minutes:U,seconds:P,milliseconds:b,microseconds:K,nanoseconds:_e}=If(0,0,0,0,u,U,P,b,K,_e,a.roundingIncrement,a.smallestUnit,a.roundingMode)),({hours:u,minutes:U,seconds:P,milliseconds:b,microseconds:K,nanoseconds:_e}=Ml(0,u,U,P,b,K,_e,a.largestUnit)),new(rr("%Temporal.Duration%"))(0,0,0,0,o*u,o*U,o*P,o*b,o*K,o*_e)}function K3(r,t,n,i){const o="since"===r?-1:1,c=Xy(n),a=Pe(t,Mn);hS(a,Pe(c,Mn),"compute difference between months");const u=Bh(i),U=zm(r,u,"date",["week","day"],"month","year");u.largestUnit=U.largestUnit;const P=Es(a,["monthCode","year"]),b=Ui(t,P,[]);b.day=1;const K=kh(a,b),_e=Ui(c,P,[]);_e.day=1;const Te=kh(a,_e);let{years:Se,months:Re}=xp(a,K,Te,u);return"month"===U.smallestUnit&&1===U.roundingIncrement||({years:Se,months:Re}=If(Se,Re,0,0,0,0,0,0,0,0,U.roundingIncrement,U.smallestUnit,U.roundingMode,K)),new(rr("%Temporal.Duration%"))(o*Se,o*Re,0,0,0,0,0,0,0,0)}function $3(r,t,n,i){const o="since"===r?-1:1,c=Yy(n),a=Pe(t,Mn);hS(a,Pe(c,Mn),"compute difference between dates");const u=Bh(i),U=zm(r,u,"datetime",[],"nanosecond","hour");u.largestUnit=U.largestUnit;const P=Pe(t,Wr),b=Pe(c,Wr);let K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt;if("year"!==U.largestUnit&&"month"!==U.largestUnit&&"week"!==U.largestUnit&&"day"!==U.largestUnit)K=0,_e=0,Te=0,Se=0,({hours:Re,minutes:Ge,seconds:ct,milliseconds:Xe,microseconds:Je,nanoseconds:lt}=IS(P,b,U.roundingIncrement,U.smallestUnit,U.largestUnit,U.roundingMode));else{const Et=Pe(t,co);if(!Wb(Et,Pe(c,co)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:K,months:_e,weeks:Te,days:Se,hours:Re,minutes:Ge,seconds:ct,milliseconds:Xe,microseconds:Je,nanoseconds:lt}=F3(P,b,Et,a,U.largestUnit,u)),({years:K,months:_e,weeks:Te,days:Se,hours:Re,minutes:Ge,seconds:ct,milliseconds:Xe,microseconds:Je,nanoseconds:lt}=If(K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt,U.roundingIncrement,U.smallestUnit,U.roundingMode,t)),({years:K,months:_e,weeks:Te,days:Se,hours:Re,minutes:Ge,seconds:ct,milliseconds:Xe,microseconds:Je,nanoseconds:lt}=jS(K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt,U.roundingIncrement,U.smallestUnit,U.roundingMode,t))}return new(rr("%Temporal.Duration%"))(o*K,o*_e,o*Te,o*Se,o*Re,o*Ge,o*ct,o*Xe,o*Je,o*lt)}function Cp(r,t,n,i,o,c,a,u){let U=r,P=t,b=n,K=c,_e=a;return U+=i,P+=o,({year:U,month:P}=G1(U,P)),({year:U,month:P,day:b}=Rb(U,P,b,u)),_e+=7*K,b+=_e,({year:U,month:P,day:b}=Ip(U,P,b)),{year:U,month:P,day:b}}function q1(r,t,n,i,o,c,a,u,U,P,b,K){let _e=r,Te=t,Se=n,Re=i,Ge=o,ct=c;_e+=a,Te+=u,Se+=U,Re+=P,Ge+=b,ct+=K;let Xe=0;return({deltaDays:Xe,hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct}=Tf(_e,Te,Se,Re,Ge,ct)),{deltaDays:Xe,hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct}}function Q1(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt){const Et=Dh(lS(r,t,n,i,o,c,a,u,U,P),lS(b,K,_e,Te,Se,Re,Ge,ct,Xe,Je));let wt,Ct,xt,Zt,hn,_n,Cn,gn,yn,fn;if(lt)if(di(lt)){const wn=rr("%Temporal.Duration%"),Qt=Pe(lt,Mn),Nn=new wn(r,t,n,i,0,0,0,0,0,0),Fn=new wn(b,K,_e,Te,0,0,0,0,0,0),Gn="string"!=typeof Qt?fo(Qt,"dateAdd"):void 0,wr=Ra(Qt,lt,Nn,void 0,Gn),Or=Ra(Qt,wr,Fn,void 0,Gn),nn=Dh("day",Et),Br=Ys(null);Br.largestUnit=nn,({years:wt,months:Ct,weeks:xt,days:Zt}=xp(Qt,lt,Or,Br)),({days:Zt,hours:hn,minutes:_n,seconds:Cn,milliseconds:gn,microseconds:yn,nanoseconds:fn}=Ml(Zt,pt.add(pt.BigInt(o),pt.BigInt(Se)),pt.add(pt.BigInt(c),pt.BigInt(Re)),pt.add(pt.BigInt(a),pt.BigInt(Ge)),pt.add(pt.BigInt(u),pt.BigInt(ct)),pt.add(pt.BigInt(U),pt.BigInt(Xe)),pt.add(pt.BigInt(P),pt.BigInt(Je)),Et))}else{const wn=rr("%Temporal.Instant%"),Qt=Pe(lt,co),Nn=Pe(lt,Mn),Fn=Nd(Pe(lt,Oa),Qt,Nn,r,t,n,i,o,c,a,u,U,P),Gn=Nd(new wn(Fn),Qt,Nn,b,K,_e,Te,Se,Re,Ge,ct,Xe,Je);"year"!==Et&&"month"!==Et&&"week"!==Et&&"day"!==Et?(wt=0,Ct=0,xt=0,Zt=0,({hours:hn,minutes:_n,seconds:Cn,milliseconds:gn,microseconds:yn,nanoseconds:fn}=IS(Pe(lt,Wr),Gn,1,"nanosecond",Et,"halfExpand"))):({years:wt,months:Ct,weeks:xt,days:Zt,hours:hn,minutes:_n,seconds:Cn,milliseconds:gn,microseconds:yn,nanoseconds:fn}=F3(Pe(lt,Wr),Gn,Qt,Nn,Et,Ys(null)))}else{if("year"===Et||"month"===Et||"week"===Et)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");wt=Ct=xt=0,({days:Zt,hours:hn,minutes:_n,seconds:Cn,milliseconds:gn,microseconds:yn,nanoseconds:fn}=Ml(i+Te,pt.add(pt.BigInt(o),pt.BigInt(Se)),pt.add(pt.BigInt(c),pt.BigInt(Re)),pt.add(pt.BigInt(a),pt.BigInt(Ge)),pt.add(pt.BigInt(u),pt.BigInt(ct)),pt.add(pt.BigInt(U),pt.BigInt(Xe)),pt.add(pt.BigInt(P),pt.BigInt(Je)),Et))}return J1(wt,Ct,xt,Zt,hn,_n,Cn,gn,yn,fn),{years:wt,months:Ct,weeks:xt,days:Zt,hours:hn,minutes:_n,seconds:Cn,milliseconds:gn,microseconds:yn,nanoseconds:fn}}function Gb(r,t,n,i,o,c,a){let u=Uo;u=pt.add(u,pt.BigInt(a)),u=pt.add(u,pt.multiply(pt.BigInt(c),eo)),u=pt.add(u,pt.multiply(pt.BigInt(o),Od)),u=pt.add(u,pt.multiply(pt.BigInt(i),Ru)),u=pt.add(u,pt.multiply(pt.BigInt(n),pt.BigInt(6e10))),u=pt.add(u,pt.multiply(pt.BigInt(t),pt.BigInt(36e11)));const U=pt.add(r,u);return Vm(U),U}function RS(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt){let Et=Te,{deltaDays:wt,hour:Ct,minute:xt,second:Zt,millisecond:hn,microsecond:_n,nanosecond:Cn}=q1(i,o,c,a,u,U,Se,Re,Ge,ct,Xe,Je);Et+=wt;const gn=rr("%Temporal.Duration%"),yn=Ra(P,ql(r,t,n,P),new gn(b,K,_e,Et,0,0,0,0,0,0),lt);return{year:Pe(yn,_r),month:Pe(yn,Mr),day:Pe(yn,Ar),hour:Ct,minute:xt,second:Zt,millisecond:hn,microsecond:_n,nanosecond:Cn}}function Nd(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te){const Se=rr("%Temporal.Duration%");if(0===Af(i,o,c,a,0,0,0,0,0,0))return Gb(Pe(r,Wr),u,U,P,b,K,_e);const Re=pc(t,r,n),Ge=Ra(n,ql(Pe(Re,_r),Pe(Re,Mr),Pe(Re,Ar),n),new Se(i,o,c,a,0,0,0,0,0,0),Te),ct=sd(Pe(Ge,_r),Pe(Ge,Mr),Pe(Ge,Ar),Pe(Re,Si),Pe(Re,Ci),Pe(Re,Ai),Pe(Re,ui),Pe(Re,vi),Pe(Re,bi),n);return Gb(Pe(Sa(t,ct,"compatible"),Wr),u,U,P,b,K,_e)}function BS(r,t,n,i){const o="subtract"===r?-1:1;let{years:c,months:a,weeks:u,days:U,hours:P,minutes:b,seconds:K,milliseconds:_e,microseconds:Te,nanoseconds:Se}=xf(n);const Re=B1(zi(i));return({years:c,months:a,weeks:u,days:U,hours:P,minutes:b,seconds:K,milliseconds:_e,microseconds:Te,nanoseconds:Se}=Q1(Pe(t,uc),Pe(t,Ea),Pe(t,Pc),Pe(t,Oc),Pe(t,Rc),Pe(t,sa),Pe(t,fc),Pe(t,Bc),Pe(t,Nc),Pe(t,Uc),o*c,o*a,o*u,o*U,o*P,o*b,o*K,o*_e,o*Te,o*Se,Re)),new(rr("%Temporal.Duration%"))(c,a,u,U,P,b,K,_e,Te,Se)}function NS(r,t,n){const i="subtract"===r?-1:1,{hours:o,minutes:c,seconds:a,milliseconds:u,microseconds:U,nanoseconds:P}=function(_e,Te){let Se=xf(_e);for(const Re of["years","months","weeks","days"])if(0!==Se[Re])throw new RangeError(`Duration field ${Re} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Se}(n),b=Gb(Pe(t,Wr),i*o,i*c,i*a,i*u,i*U,i*P);return new(rr("%Temporal.Instant%"))(b)}function l4(r,t,n,i){const o="subtract"===r?-1:1,{years:c,months:a,weeks:u,days:U,hours:P,minutes:b,seconds:K,milliseconds:_e,microseconds:Te,nanoseconds:Se}=xf(n),Re=zi(i),Ge=Pe(t,Mn),{year:ct,month:Xe,day:Je,hour:lt,minute:Et,second:wt,millisecond:Ct,microsecond:xt,nanosecond:Zt}=RS(Pe(t,_r),Pe(t,Mr),Pe(t,Ar),Pe(t,Si),Pe(t,Ci),Pe(t,Ai),Pe(t,ui),Pe(t,vi),Pe(t,bi),Ge,o*c,o*a,o*u,o*U,o*P,o*b,o*K,o*_e,o*Te,o*Se,Re);return sd(ct,Xe,Je,lt,Et,wt,Ct,xt,Zt,Ge)}function US(r,t,n){const i="subtract"===r?-1:1,{hours:o,minutes:c,seconds:a,milliseconds:u,microseconds:U,nanoseconds:P}=xf(n);let{hour:b,minute:K,second:_e,millisecond:Te,microsecond:Se,nanosecond:Re}=q1(Pe(t,Si),Pe(t,Ci),Pe(t,Ai),Pe(t,ui),Pe(t,vi),Pe(t,bi),i*o,i*c,i*a,i*u,i*U,i*P);return({hour:b,minute:K,second:_e,millisecond:Te,microsecond:Se,nanosecond:Re}=Bb(b,K,_e,Te,Se,Re,"reject")),new(rr("%Temporal.PlainTime%"))(b,K,_e,Te,Se,Re)}function V3(r,t,n,i){let o=xf(n);"subtract"===r&&(o={years:-o.years,months:-o.months,weeks:-o.weeks,days:-o.days,hours:-o.hours,minutes:-o.minutes,seconds:-o.seconds,milliseconds:-o.milliseconds,microseconds:-o.microseconds,nanoseconds:-o.nanoseconds});let{years:c,months:a,weeks:u,days:U,hours:P,minutes:b,seconds:K,milliseconds:_e,microseconds:Te,nanoseconds:Se}=o;({days:U}=Ml(U,P,b,K,_e,Te,Se,"day"));const Re=zi(i),Ge=Pe(t,Mn),ct=Es(Ge,["monthCode","year"]),Xe=Ui(t,ct,[]),Je=Ys(null);_p(Je,Xe,[]),Xe.day=1;let lt=kh(Ge,Xe);const Et=Af(c,a,u,U,0,0,0,0,0,0),wt=fo(Ge,"dateAdd"),Ct=rr("%Temporal.Duration%");if(Et<0){const hn=Ra(Ge,lt,new Ct(0,1,0,0,0,0,0,0,0,0),void 0,wt),_n=Ra(Ge,hn,new Ct(0,0,0,-1,0,0,0,0,0,0),void 0,wt);Je.day=Sp(Ge,_n),lt=kh(Ge,Je)}const xt=new Ct(c,a,u,U,0,0,0,0,0,0),Zt=Bh(Re);return jm(Ge,Ui(Ra(Ge,lt,xt,Re,wt),ct,[]),Zt)}function LS(r,t,n,i){const o="subtract"===r?-1:1,{years:c,months:a,weeks:u,days:U,hours:P,minutes:b,seconds:K,milliseconds:_e,microseconds:Te,nanoseconds:Se}=xf(n),Re=zi(i),Ge=Pe(t,co),ct=Pe(t,Mn);return ca(Nd(Pe(t,Oa),Ge,ct,o*c,o*a,o*u,o*U,o*P,o*b,o*K,o*_e,o*Te,o*Se,Re),Ge,ct)}function Ud(r,t,n){if(pt.equal(t,Ou))return r;let{quotient:i,remainder:o}=Cs(r,t);if(pt.equal(o,Uo))return r;const c=pt.lessThan(o,Uo)?-1:1,a=Yl(pt.multiply(o,pt.BigInt(2))),u=pt.equal(a,t),U=pt.greaterThan(a,t);switch(n){case"ceil":c>0&&(i=pt.add(i,pt.BigInt(c)));break;case"floor":c<0&&(i=pt.add(i,pt.BigInt(c)));break;case"expand":i=pt.add(i,pt.BigInt(c));break;case"trunc":break;case"halfCeil":(U||u&&c>0)&&(i=pt.add(i,pt.BigInt(c)));break;case"halfFloor":(U||u&&c<0)&&(i=pt.add(i,pt.BigInt(c)));break;case"halfExpand":(U||u)&&(i=pt.add(i,pt.BigInt(c)));break;case"halfTrunc":U&&(i=pt.add(i,pt.BigInt(c)));break;case"halfEven":(U||u&&1===pt.toNumber(pt.remainder(Yl(i),pt.BigInt(2))))&&(i=pt.add(i,pt.BigInt(c)))}return pt.multiply(i,t)}function eE(r,t,n,i){let{remainder:o}=kp(r,Bu);const c=pt.subtract(r,o),a=Ud(o,pt.BigInt(W3[n]*t),i);return pt.add(c,a)}function Xb(r,t,n,i,o,c,a,u,U,P,b,K,_e=864e11){const{deltaDays:Te,hour:Se,minute:Re,second:Ge,millisecond:ct,microsecond:Xe,nanosecond:Je}=Yb(i,o,c,a,u,U,P,b,K,_e),{year:lt,month:Et,day:wt}=Ip(r,t,n+Te);return{year:lt,month:Et,day:wt,hour:Se,minute:Re,second:Ge,millisecond:ct,microsecond:Xe,nanosecond:Je}}function Yb(r,t,n,i,o,c,a,u,U,P=864e11){let b=Uo;switch(u){case"day":case"hour":b=pt.BigInt(r);case"minute":b=pt.add(pt.multiply(b,Pd),pt.BigInt(t));case"second":b=pt.add(pt.multiply(b,Pd),pt.BigInt(n));case"millisecond":b=pt.add(pt.multiply(b,eo),pt.BigInt(i));case"microsecond":b=pt.add(pt.multiply(b,eo),pt.BigInt(o));case"nanosecond":b=pt.add(pt.multiply(b,eo),pt.BigInt(c))}const K="day"===u?P:W3[u],_e=Ud(b,pt.BigInt(K*a),U),Te=pt.toNumber(pt.divide(_e,pt.BigInt(K)));switch(u){case"day":return{deltaDays:Te,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Tf(Te,0,0,0,0,0);case"minute":return Tf(r,Te,0,0,0,0);case"second":return Tf(r,t,Te,0,0,0);case"millisecond":return Tf(r,t,n,Te,0,0);case"microsecond":return Tf(r,t,n,i,Te,0);case"nanosecond":return Tf(r,t,n,i,o,Te);default:throw new Error(`Invalid unit ${u}`)}}function Zb(r,t){return DS(Pe(r,_r),Pe(r,Mr),Pe(r,Ar),Pe(t,_r),Pe(t,Mr),Pe(t,Ar),"day").days}function Wa(r,t,n,i){const o=Ra(r,t,n,void 0,i);return{relativeTo:o,days:Zb(t,o)}}function FS(r,t,n,i,o){const c=Pe(r,co),a=Pe(r,Mn);return ca(Nd(Pe(r,Oa),c,a,t,n,i,o,0,0,0,0,0,0),c,a)}function jS(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te){let Se=r,Re=t,Ge=n,ct=i,Xe=o,Je=c,lt=a,Et=u,wt=U,Ct=P;if(!Pr(Te)||"year"===K||"month"===K||"week"===K||"day"===K||"nanosecond"===K&&1===b)return{years:Se,months:Re,weeks:Ge,days:ct,hours:Xe,minutes:Je,seconds:lt,milliseconds:Et,microseconds:wt,nanoseconds:Ct};let xt=$m(0,Xe,Je,lt,Et,wt,Ct,0);const Zt=bp(pt.toNumber(xt)),hn=Pe(Te,co),_n=Pe(Te,Mn),Cn=Nd(Pe(Te,Oa),hn,_n,Se,Re,Ge,ct,0,0,0,0,0,0),gn=Nd(new(rr("%Temporal.Instant%"))(Cn),hn,_n,0,0,0,Zt,0,0,0,0,0,0),yn=pt.subtract(gn,Cn);return pt.greaterThanOrEqual(pt.multiply(pt.subtract(xt,yn),pt.BigInt(Zt)),Uo)&&(({years:Se,months:Re,weeks:Ge,days:ct}=Q1(Se,Re,Ge,ct,0,0,0,0,0,0,0,0,0,Zt,0,0,0,0,0,0,Te)),xt=eE(pt.subtract(xt,yn),b,K,_e),({hours:Xe,minutes:Je,seconds:lt,milliseconds:Et,microseconds:wt,nanoseconds:Ct}=Ml(0,0,0,0,0,0,pt.toNumber(xt),"hour"))),{years:Se,months:Re,weeks:Ge,days:ct,hours:Xe,minutes:Je,seconds:lt,milliseconds:Et,microseconds:wt,nanoseconds:Ct}}function If(r,t,n,i,o,c,a,u,U,P,b,K,_e,Te){let Se=r,Re=t,Ge=n,ct=i,Xe=o,Je=c,lt=a,Et=u,wt=U,Ct=pt.BigInt(P);const xt=rr("%Temporal.Duration%");let Zt,hn,_n,Cn,gn=Te;if(gn){if(Pr(gn))hn=gn,gn=po(gn);else if(!di(gn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");Zt=Pe(gn,Mn)}if("year"===K||"month"===K||"week"===K||"day"===K){let yn,fn,wn;Ct=$m(0,Xe,Je,lt,Et,wt,P,0),hn&&(yn=FS(hn,Se,Re,Ge,ct)),({days:fn,nanoseconds:Ct,dayLengthNs:wn}=AS(Ct,yn)),_n=pt.BigInt(wn),ct+=fn,Xe=Je=lt=Et=wt=0}switch(K){case"year":{if(!Zt)throw new RangeError("A starting point is required for years rounding");const yn=new xt(Se),fn="string"!=typeof Zt?fo(Zt,"dateAdd"):void 0,wn=Ra(Zt,gn,yn,void 0,fn),Qt=Ra(Zt,gn,new xt(Se,Re,Ge),void 0,fn);gn=wn,ct+=Zb(wn,Qt);const Nn=Ra(Zt,gn,new xt(0,0,0,ct),void 0,fn),Fn=Ys(null);Fn.largestUnit="year";const Gn=xp(Zt,gn,Nn,Fn).years;Se+=Gn;const wr=gn;gn=Ra(Zt,gn,new xt(Gn),void 0,fn),ct-=Zb(wr,gn);const Or=new xt(ct<0?-1:1);let{days:nn}=Wa(Zt,gn,Or,fn);nn=Wo(nn);const Br=pt.multiply(pt.BigInt(nn),_n);Ct=pt.add(pt.add(pt.multiply(Br,pt.BigInt(Se)),pt.multiply(pt.BigInt(ct),_n)),Ct);const Ni=Ud(Ct,pt.multiply(Br,pt.BigInt(b)),_e);Cn=Lu(Ct,Br),Se=pt.toNumber(pt.divide(Ni,Br)),Ct=Uo,Re=Ge=ct=0;break}case"month":{if(!Zt)throw new RangeError("A starting point is required for months rounding");const yn=new xt(Se,Re),fn="string"!=typeof Zt?fo(Zt,"dateAdd"):void 0,wn=Ra(Zt,gn,yn,void 0,fn),Qt=Ra(Zt,gn,new xt(Se,Re,Ge),void 0,fn);gn=wn,ct+=Zb(wn,Qt);const Nn=bp(ct),Fn=new xt(0,ct<0?-1:1);let Gn;for(({relativeTo:gn,days:Gn}=Wa(Zt,gn,Fn,fn));Wo(ct)>=Wo(Gn);)Re+=Nn,ct-=Gn,({relativeTo:gn,days:Gn}=Wa(Zt,gn,Fn,fn));Gn=Wo(Gn);const wr=pt.multiply(pt.BigInt(Gn),_n);Ct=pt.add(pt.add(pt.multiply(wr,pt.BigInt(Re)),pt.multiply(pt.BigInt(ct),_n)),Ct);const Or=Ud(Ct,pt.multiply(wr,pt.BigInt(b)),_e);Cn=Lu(Ct,wr),Re=pt.toNumber(pt.divide(Or,wr)),Ct=Uo,Ge=ct=0;break}case"week":{if(!Zt)throw new RangeError("A starting point is required for weeks rounding");const yn=bp(ct),fn=new xt(0,0,ct<0?-1:1),wn="string"!=typeof Zt?fo(Zt,"dateAdd"):void 0;let Qt;for(({relativeTo:gn,days:Qt}=Wa(Zt,gn,fn,wn));Wo(ct)>=Wo(Qt);)Ge+=yn,ct-=Qt,({relativeTo:gn,days:Qt}=Wa(Zt,gn,fn,wn));Qt=Wo(Qt);const Nn=pt.multiply(pt.BigInt(Qt),_n);Ct=pt.add(pt.add(pt.multiply(Nn,pt.BigInt(Ge)),pt.multiply(pt.BigInt(ct),_n)),Ct);const Fn=Ud(Ct,pt.multiply(Nn,pt.BigInt(b)),_e);Cn=Lu(Ct,Nn),Ge=pt.toNumber(pt.divide(Fn,Nn)),Ct=Uo,ct=0;break}case"day":{const yn=_n;Ct=pt.add(pt.multiply(yn,pt.BigInt(ct)),Ct);const fn=Ud(Ct,pt.multiply(yn,pt.BigInt(b)),_e);Cn=Lu(Ct,yn),ct=pt.toNumber(pt.divide(fn,yn)),Ct=Uo;break}case"hour":{let fn=pt.multiply(pt.BigInt(Xe),pt.BigInt(36e11));fn=pt.add(fn,pt.multiply(pt.BigInt(Je),pt.BigInt(6e10))),fn=pt.add(fn,pt.multiply(pt.BigInt(lt),Ru)),fn=pt.add(fn,pt.multiply(pt.BigInt(Et),Od)),fn=pt.add(fn,pt.multiply(pt.BigInt(wt),eo)),fn=pt.add(fn,Ct),Cn=Lu(fn,pt.BigInt(36e11));const wn=Ud(fn,pt.BigInt(36e11*b),_e);Xe=pt.toNumber(pt.divide(wn,pt.BigInt(36e11))),Ct=Uo,Je=lt=Et=wt=0;break}case"minute":{let fn=pt.multiply(pt.BigInt(Je),pt.BigInt(6e10));fn=pt.add(fn,pt.multiply(pt.BigInt(lt),Ru)),fn=pt.add(fn,pt.multiply(pt.BigInt(Et),Od)),fn=pt.add(fn,pt.multiply(pt.BigInt(wt),eo)),fn=pt.add(fn,Ct),Cn=Lu(fn,pt.BigInt(6e10));const wn=Ud(fn,pt.BigInt(6e10*b),_e);Je=pt.toNumber(pt.divide(wn,pt.BigInt(6e10))),Ct=Uo,lt=Et=wt=0;break}case"second":{let fn=pt.multiply(pt.BigInt(lt),Ru);fn=pt.add(fn,pt.multiply(pt.BigInt(Et),Od)),fn=pt.add(fn,pt.multiply(pt.BigInt(wt),eo)),fn=pt.add(fn,Ct),Cn=Lu(fn,pt.BigInt(1e9));const wn=Ud(fn,pt.BigInt(1e9*b),_e);lt=pt.toNumber(pt.divide(wn,pt.BigInt(1e9))),Ct=Uo,Et=wt=0;break}case"millisecond":{let fn=pt.multiply(pt.BigInt(Et),Od);fn=pt.add(fn,pt.multiply(pt.BigInt(wt),eo)),fn=pt.add(fn,Ct),Cn=Lu(fn,pt.BigInt(1e6));const wn=Ud(fn,pt.BigInt(1e6*b),_e);Et=pt.toNumber(pt.divide(wn,pt.BigInt(1e6))),Ct=Uo,wt=0;break}case"microsecond":{let fn=pt.multiply(pt.BigInt(wt),eo);fn=pt.add(fn,Ct),Cn=Lu(fn,pt.BigInt(1e3));const wn=Ud(fn,pt.BigInt(1e3*b),_e);wt=pt.toNumber(pt.divide(wn,pt.BigInt(1e3))),Ct=Uo;break}case"nanosecond":Cn=pt.toNumber(Ct),Ct=Ud(pt.BigInt(Ct),pt.BigInt(b),_e)}return{years:Se,months:Re,weeks:Ge,days:ct,hours:Xe,minutes:Je,seconds:lt,milliseconds:Et,microseconds:wt,nanoseconds:pt.toNumber(Ct),total:Cn}}function Oh(r,t,n,i,o,c){for(const[a,u]of[[r,i],[t,o],[n,c]])if(a!==u)return Pp(a-u);return 0}function kp(r,t){let{quotient:n,remainder:i}=Cs(r,t);return pt.lessThan(i,Uo)&&(n=pt.subtract(n,Ou),i=pt.add(i,t)),{quotient:n,remainder:i}}function Hm(r,t){const{quotient:n,remainder:i}=Cs(r,t);return Rd(i)||!I1(r)==!I1(t)?n:pt.subtract(n,Ou)}function Lu(r,t){const{quotient:n,remainder:i}=Cs(r,t);return pt.toNumber(n)+pt.toNumber(i)/pt.toNumber(t)}function Jb(r){const t=ng(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function ng(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=Ah(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return pt.BigInt("bigint"==typeof t?t.toString(10):t)}const tE=(()=>{let r=pt.BigInt(Date.now()%1e6);return()=>{const t=pt.BigInt(Date.now()),n=pt.add(pt.multiply(t,Od),r);return r=pt.remainder(t,Od),pt.greaterThan(n,Th)?Th:pt.lessThan(n,Ky)?Ky:n}})();function Rh(){return(new tS).resolvedOptions().timeZone}function Pp(r){return r<0?-1:r>0?1:r}function zi(r){if(void 0===r)return Ys(null);if(Qo(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function Op(r,t){const n=Ys(null);return n[r]=t,n}function Bh(r){const t=Ys(null);return _p(t,zi(r),[]),t}function Rp(r,t,n,i){let o=r[t];if(void 0!==o){if(o=yo(o),!n.includes(o))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${o}`);return o}return i}function Nh(r){return r4.includes(Cf(r))}function Cf(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const z3=new RegExp(`^${m3.source}$`);function H3(r,t,n,i=r(t),o=r(n)){let c=pt.BigInt(t),a=pt.BigInt(n),u=i,U=o;for(;pt.greaterThan(pt.subtract(a,c),Ou);){const P=pt.divide(pt.add(c,a),pt.BigInt(2)),b=r(P);if(b===u)c=P,u=b;else{if(b!==U)throw new Error(`invalid state in bisection ${u} - ${b} - ${U}`);a=P,U=b}}return a}const W3={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},G3=Symbol("date"),X3=Symbol("ym"),Y3=Symbol("md"),KS=Symbol("time"),$S=Symbol("datetime"),VS=Symbol("instant"),Wm=Symbol("original"),Gm=Symbol("timezone"),Sl=Symbol("calendar-id"),zS=Symbol("locale"),nE=Symbol("options"),rg=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),Xm=globalThis.Intl.DateTimeFormat,kf=Object.assign,u4=Object.prototype.hasOwnProperty,f4=Reflect.apply;function Bp(r,t){let n=r[t];return"function"==typeof n&&(n=new Xm(r[zS],n(r[nE])),r[t]=n),n}function Pf(r,t={}){if(!(this instanceof Pf))return new Pf(r,t);const n=void 0!==t,i=n?kf({},t):{},o=new Xm(r,i),c=o.resolvedOptions();if(n){const a=kf({},c);for(const u in a)f4(u4,i,[u])||delete a[u];this[nE]=a}else this[nE]=i;this[zS]=c.locale,this[Wm]=o,this[Gm]=c.timeZone,this[Sl]=c.calendar,this[G3]=Q3,this[X3]=J3,this[Y3]=q3,this[KS]=Z3,this[$S]=e6,this[VS]=HS}Object.defineProperty(Pf,"name",{writable:!0,value:"DateTimeFormat"}),Pf.supportedLocalesOf=function(r,t){return Xm.supportedLocalesOf(r,t)};const qb={resolvedOptions:rg(function(){return this[Wm].resolvedOptions()}),format:rg(function(t,...n){let{instant:i,formatter:o}=og(t,this);return i&&o?o.format(i.epochMilliseconds):this[Wm].format(t,...n)}),formatRange:rg(function(t,n){if(Ym(t)||Ym(n)){if(!WS(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:o}=og(t,this),{instant:c,formatter:a}=og(n,this);if(i&&c&&o&&a&&o===a)return o.formatRange(i.epochMilliseconds,c.epochMilliseconds)}return this[Wm].formatRange(t,n)})};"formatToParts"in Xm.prototype&&(qb.formatToParts=rg(function(t,...n){let{instant:i,formatter:o}=og(t,this);return i&&o?o.formatToParts(i.epochMilliseconds):this[Wm].formatToParts(t,...n)})),"formatRangeToParts"in Xm.prototype&&(qb.formatRangeToParts=rg(function(t,n){if(Ym(t)||Ym(n)){if(!WS(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:o}=og(t,this),{instant:c,formatter:a}=og(n,this);if(i&&c&&o&&a&&o===a)return o.formatRangeToParts(i.epochMilliseconds,c.epochMilliseconds)}return this[Wm].formatRangeToParts(t,n)})),Pf.prototype=Object.create(Xm.prototype,qb),Object.defineProperty(Pf,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Of=Pf;function ig(r={},t={}){const n=kf({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function Z3(r){let t=ig(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return Qb(t)||(t=kf({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function J3(r){let t=ig(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=kf(t,{year:"numeric",month:"numeric"})),t}function q3(r){let t=ig(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=kf({},t,{month:"numeric",day:"numeric"})),t}function Q3(r){let t=ig(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return rE(t)||(t=kf({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function e6(r){let t=ig(r,{timeZoneName:!1});return Qb(t)||rE(t)||(t=kf({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function HS(r){let t=r;return Qb(t)||rE(t)||(t=kf({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function rE(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function Qb(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function Ym(r){return di(r)||ho(r)||wi(r)||Pr(r)||to(r)||Ma(r)||Lo(r)}function WS(r,t){return!(!Ym(r)||!Ym(t)||ho(r)&&!ho(t)||di(r)&&!di(t)||wi(r)&&!wi(t)||Pr(r)&&!Pr(t)||to(r)&&!to(t)||Ma(r)&&!Ma(t)||Lo(r)&&!Lo(t))}function og(r,t){const n=rr("%Temporal.PlainDateTime%");if(ho(r)){const i=new n(1970,1,1,Pe(r,Si),Pe(r,Ci),Pe(r,Ai),Pe(r,ui),Pe(r,vi),Pe(r,bi),t[Sl]);return{instant:Sa(t[Gm],i,"compatible"),formatter:Bp(t,KS)}}if(to(r)){const i=Pe(r,_r),o=Pe(r,Mr),c=Pe(r,Ar),a=hc(Pe(r,Mn));if(a!==t[Sl])throw new RangeError(`cannot format PlainYearMonth with calendar ${a} in locale with calendar ${t[Sl]}`);const u=new n(i,o,c,12,0,0,0,0,0,a);return{instant:Sa(t[Gm],u,"compatible"),formatter:Bp(t,X3)}}if(Ma(r)){const i=Pe(r,_r),o=Pe(r,Mr),c=Pe(r,Ar),a=hc(Pe(r,Mn));if(a!==t[Sl])throw new RangeError(`cannot format PlainMonthDay with calendar ${a} in locale with calendar ${t[Sl]}`);const u=new n(i,o,c,12,0,0,0,0,0,a);return{instant:Sa(t[Gm],u,"compatible"),formatter:Bp(t,Y3)}}if(di(r)){const i=Pe(r,_r),o=Pe(r,Mr),c=Pe(r,Ar),a=hc(Pe(r,Mn));if("iso8601"!==a&&a!==t[Sl])throw new RangeError(`cannot format PlainDate with calendar ${a} in locale with calendar ${t[Sl]}`);const u=new n(i,o,c,12,0,0,0,0,0,t[Sl]);return{instant:Sa(t[Gm],u,"compatible"),formatter:Bp(t,G3)}}if(wi(r)){const i=Pe(r,_r),o=Pe(r,Mr),c=Pe(r,Ar),a=Pe(r,Si),u=Pe(r,Ci),U=Pe(r,Ai),P=Pe(r,ui),b=Pe(r,vi),K=Pe(r,bi),_e=hc(Pe(r,Mn));if("iso8601"!==_e&&_e!==t[Sl])throw new RangeError(`cannot format PlainDateTime with calendar ${_e} in locale with calendar ${t[Sl]}`);let Te=r;return"iso8601"===_e&&(Te=new n(i,o,c,a,u,U,P,b,K,t[Sl])),{instant:Sa(t[Gm],Te,"compatible"),formatter:Bp(t,$S)}}if(Pr(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Lo(r)?{instant:r,formatter:Bp(t,VS)}:{}}Object.freeze({__proto__:null,DateTimeFormat:Of});class eu{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=ng(t);Vm(n),Gl(this),Oi(this,Wr,n)}get epochSeconds(){if(!Lo(this))throw new TypeError("invalid receiver");const t=Pe(this,Wr);return pt.toNumber(Hm(t,Ru))}get epochMilliseconds(){if(!Lo(this))throw new TypeError("invalid receiver");const t=pt.BigInt(Pe(this,Wr));return pt.toNumber(Hm(t,Od))}get epochMicroseconds(){if(!Lo(this))throw new TypeError("invalid receiver");return Jb(Hm(pt.BigInt(Pe(this,Wr)),eo))}get epochNanoseconds(){if(!Lo(this))throw new TypeError("invalid receiver");return Jb(pt.BigInt(Pe(this,Wr)))}add(t){if(!Lo(this))throw new TypeError("invalid receiver");return NS("add",this,t)}subtract(t){if(!Lo(this))throw new TypeError("invalid receiver");return NS("subtract",this,t)}until(t,n){if(!Lo(this))throw new TypeError("invalid receiver");return kS("until",this,t,n)}since(t,n){if(!Lo(this))throw new TypeError("invalid receiver");return kS("since",this,t,n)}round(t){if(!Lo(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Op("smallestUnit",t):zi(t),i=Hy(n),o=Zl(n,"halfExpand"),c=Bd(n,"smallestUnit","time",Rm);Wy(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[c],!0);const a=eE(Pe(this,Wr),i,c,o);return new eu(a)}equals(t){if(!Lo(this))throw new TypeError("invalid receiver");const n=Jl(t),i=Pe(this,Wr),o=Pe(n,Wr);return pt.equal(pt.BigInt(i),pt.BigInt(o))}toString(t){if(!Lo(this))throw new TypeError("invalid receiver");const n=zi(t),i=Ub(n),o=Zl(n,"trunc"),c=Bd(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');let a=n.timeZone;void 0!==a&&(a=Zs(a));const{precision:u,unit:U,increment:P}=Lb(c,i),b=eE(Pe(this,Wr),P,U,o);return T3(new eu(b),a,u)}toJSON(){if(!Lo(this))throw new TypeError("invalid receiver");return T3(this,void 0,"auto")}toLocaleString(t,n){if(!Lo(this))throw new TypeError("invalid receiver");return new Of(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!Lo(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=ul(n),o=t.timeZone;if(void 0===o)throw new TypeError("missing timeZone property in toZonedDateTime");const c=Zs(o);return ca(Pe(this,Wr),c,i)}toZonedDateTimeISO(t){if(!Lo(this))throw new TypeError("invalid receiver");const n=Zs(t);return ca(Pe(this,Wr),n,"iso8601")}static fromEpochSeconds(t){const n=Vy(t),i=pt.multiply(pt.BigInt(n),Ru);return Vm(i),new eu(i)}static fromEpochMilliseconds(t){const n=Vy(t),i=pt.multiply(pt.BigInt(n),Od);return Vm(i),new eu(i)}static fromEpochMicroseconds(t){const n=ng(t),i=pt.multiply(n,eo);return Vm(i),new eu(i)}static fromEpochNanoseconds(t){const n=ng(t);return Vm(n),new eu(n)}static from(t){return Lo(t)?new eu(Pe(t,Wr)):Jl(t)}static compare(t,n){const i=Jl(t),o=Jl(n),c=Pe(i,Wr),a=Pe(o,Wr);return pt.lessThan(c,a)?-1:pt.greaterThan(c,a)?1:0}}Pu(eu,"Temporal.Instant");const iE=Array.prototype.includes,GS=Array.prototype.push,t6=globalThis.Intl.DateTimeFormat,XS=Array.prototype.sort,h4=Math.abs,p4=Math.floor,ew=Object.create,YS=Object.entries,ZS=Set,n6=Reflect.ownKeys,Ga=Set.prototype.add,r6=Set.prototype.values,is={};class es{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=yo(t);if(!Nh(n))throw new RangeError(`invalid calendar identifier ${n}`);Gl(this),Oi(this,rs,Cf(n))}get id(){if(!ds(this))throw new TypeError("invalid receiver");return Pe(this,rs)}dateFromFields(t,n){if(!ds(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid fields");const i=zi(n),o=Pe(this,rs);return is[o].dateFromFields(t,i,o)}yearMonthFromFields(t,n){if(!ds(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid fields");const i=zi(n),o=Pe(this,rs);return is[o].yearMonthFromFields(t,i,o)}monthDayFromFields(t,n){if(!ds(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid fields");const i=zi(n),o=Pe(this,rs);return is[o].monthDayFromFields(t,i,o)}fields(t){if(!ds(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const o of t){if("string"!=typeof o)throw new TypeError("invalid fields");if(!i.has(o))throw new RangeError(`invalid field name ${o}`);i.delete(o),GS.call(n,o)}return is[Pe(this,rs)].fields(n)}mergeFields(t,n){if(!ds(this))throw new TypeError("invalid receiver");const i=P1(t),o=ew(null);_p(o,i,[],[void 0]);const c=P1(n),a=ew(null);_p(a,c,[],[void 0]);const u=n6(a),U=is[Pe(this,rs)].fieldKeysToIgnore(u),P=ew(null),b=n6(o);for(const K of b){let _e;_e=Fr(iE,U,[K])?a[K]:o[K],void 0!==_e&&(P[K]=_e)}return _p(P,a,[]),P}dateAdd(t,n,i){if(!ds(this))throw new TypeError("invalid receiver");const o=po(t),c=Bm(n),a=js(zi(i)),{days:u}=Ml(Pe(c,Oc),Pe(c,Rc),Pe(c,sa),Pe(c,fc),Pe(c,Bc),Pe(c,Nc),Pe(c,Uc),"day"),U=Pe(this,rs);return is[U].dateAdd(o,Pe(c,uc),Pe(c,Ea),Pe(c,Pc),u,a,U)}dateUntil(t,n,i){if(!ds(this))throw new TypeError("invalid receiver");const o=po(t),c=po(n);let a=Bd(zi(i),"largestUnit","date","auto");"auto"===a&&(a="day");const{years:u,months:U,weeks:P,days:b}=is[Pe(this,rs)].dateUntil(o,c,a);return new(rr("%Temporal.Duration%"))(u,U,P,b,0,0,0,0,0,0)}year(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].year(n)}month(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");if(Ma(n))throw new TypeError("use monthCode on PlainMonthDay instead");return to(n)||(n=po(n)),is[Pe(this,rs)].month(n)}monthCode(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||Ma(n)||(n=po(n)),is[Pe(this,rs)].monthCode(n)}day(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return Ma(n)||(n=po(n)),is[Pe(this,rs)].day(n)}era(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].era(n)}eraYear(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].eraYear(n)}dayOfWeek(t){if(!ds(this))throw new TypeError("invalid receiver");const n=po(t);return is[Pe(this,rs)].dayOfWeek(n)}dayOfYear(t){if(!ds(this))throw new TypeError("invalid receiver");const n=po(t);return is[Pe(this,rs)].dayOfYear(n)}weekOfYear(t){if(!ds(this))throw new TypeError("invalid receiver");const n=po(t);return is[Pe(this,rs)].weekOfYear(n)}yearOfWeek(t){if(!ds(this))throw new TypeError("invalid receiver");const n=po(t);return is[Pe(this,rs)].yearOfWeek(n)}daysInWeek(t){if(!ds(this))throw new TypeError("invalid receiver");const n=po(t);return is[Pe(this,rs)].daysInWeek(n)}daysInMonth(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].daysInMonth(n)}daysInYear(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].daysInYear(n)}monthsInYear(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].monthsInYear(n)}inLeapYear(t){let n=t;if(!ds(this))throw new TypeError("invalid receiver");return to(n)||(n=po(n)),is[Pe(this,rs)].inLeapYear(n)}toString(){if(!ds(this))throw new TypeError("invalid receiver");return Pe(this,rs)}toJSON(){if(!ds(this))throw new TypeError("invalid receiver");return Pe(this,rs)}static from(t){return Lm(ul(t))}}function oE(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function tu(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function JS(r,t,n=12){let{month:i,monthCode:o}=r;if(void 0===o){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&Ha(i,1,n),"constrain"===t&&(i=ad(i,1,n)),o=tu(i)}else{const c=oE(o);if(void 0!==i&&i!==c)throw new RangeError(`monthCode ${o} and month ${i} must match if both are present`);if(o!==tu(c))throw new RangeError(`Invalid month code: ${o}`);if(i=c,i<1||i>n)throw new RangeError(`Invalid monthCode: ${o}`)}return{...r,month:i,monthCode:o}}Pu(es,"Temporal.Calendar"),Ho("Temporal.Calendar.from",es.from),Ho("Temporal.Calendar.prototype.dateAdd",es.prototype.dateAdd),Ho("Temporal.Calendar.prototype.dateFromFields",es.prototype.dateFromFields),Ho("Temporal.Calendar.prototype.dateUntil",es.prototype.dateUntil),Ho("Temporal.Calendar.prototype.day",es.prototype.day),Ho("Temporal.Calendar.prototype.dayOfWeek",es.prototype.dayOfWeek),Ho("Temporal.Calendar.prototype.dayOfYear",es.prototype.dayOfYear),Ho("Temporal.Calendar.prototype.daysInMonth",es.prototype.daysInMonth),Ho("Temporal.Calendar.prototype.daysInWeek",es.prototype.daysInWeek),Ho("Temporal.Calendar.prototype.daysInYear",es.prototype.daysInYear),Ho("Temporal.Calendar.prototype.era",es.prototype.era),Ho("Temporal.Calendar.prototype.eraYear",es.prototype.eraYear),Ho("Temporal.Calendar.prototype.fields",es.prototype.fields),Ho("Temporal.Calendar.prototype.inLeapYear",es.prototype.inLeapYear),Ho("Temporal.Calendar.prototype.mergeFields",es.prototype.mergeFields),Ho("Temporal.Calendar.prototype.month",es.prototype.month),Ho("Temporal.Calendar.prototype.monthCode",es.prototype.monthCode),Ho("Temporal.Calendar.prototype.monthDayFromFields",es.prototype.monthDayFromFields),Ho("Temporal.Calendar.prototype.monthsInYear",es.prototype.monthsInYear),Ho("Temporal.Calendar.prototype.weekOfYear",es.prototype.weekOfYear),Ho("Temporal.Calendar.prototype.year",es.prototype.year),Ho("Temporal.Calendar.prototype.yearMonthFromFields",es.prototype.yearMonthFromFields),Ho("Temporal.Calendar.prototype.yearOfWeek",es.prototype.yearOfWeek),is.iso8601={dateFromFields(r,t,n){let i=Ui(r,["day","month","monthCode","year"],["year","day"]);const o=js(t);i=JS(i);let{year:c,month:a,day:u}=i;return({year:c,month:a,day:u}=Rb(c,a,u,o)),ql(c,a,u,n)},yearMonthFromFields(r,t,n){let i=Ui(r,["month","monthCode","year"],["year"]);const o=js(t);i=JS(i);let{year:c,month:a}=i;return({year:c,month:a}=function(U,P,b){let K=U,_e=P;switch(b){case"reject":Df(K,_e,1);break;case"constrain":({year:K,month:_e}=N3(K,_e))}return{year:K,month:_e}}(c,a,o)),Nm(c,a,n,1)},monthDayFromFields(r,t,n){let i=Ui(r,["day","month","monthCode","year"],["day"]);const o=js(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const c=void 0===i.monthCode;i=JS(i);let{month:a,day:u,year:U}=i;return({month:a,day:u}=Rb(c?U:1972,a,u,o)),jb(a,u,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new ZS;for(let n=0;n<r.length;n++){const i=r[n];Fr(Ga,t,[i]),"month"===i?Fr(Ga,t,["monthCode"]):"monthCode"===i&&Fr(Ga,t,["month"])}return[...Fr(r6,t,[])]},dateAdd(r,t,n,i,o,c,a){let u=Pe(r,_r),U=Pe(r,Mr),P=Pe(r,Ar);return({year:u,month:U,day:P}=Cp(u,U,P,t,n,i,o,c)),ql(u,U,P,a)},dateUntil:(r,t,n)=>DS(Pe(r,_r),Pe(r,Mr),Pe(r,Ar),Pe(t,_r),Pe(t,Mr),Pe(t,Ar),n),year:r=>Pe(r,_r),era(){},eraYear(){},month:r=>Pe(r,Mr),monthCode:r=>tu(Pe(r,Mr)),day:r=>Pe(r,Ar),dayOfWeek:r=>O3(Pe(r,_r),Pe(r,Mr),Pe(r,Ar)),dayOfYear:r=>W1(Pe(r,_r),Pe(r,Mr),Pe(r,Ar)),weekOfYear:r=>MS(Pe(r,_r),Pe(r,Mr),Pe(r,Ar)).week,yearOfWeek:r=>MS(Pe(r,_r),Pe(r,Mr),Pe(r,Ar)).year,daysInWeek:()=>7,daysInMonth:r=>Ph(Pe(r,_r),Pe(r,Mr)),daysInYear(r){let t=r;return Xs(t,_r)||(t=po(t)),Dp(Pe(t,_r))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return Xs(t,_r)||(t=po(t)),Dp(Pe(t,_r))}};class ls{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>ls.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(ls.objectMap.get(t))throw new RangeError("object already cached");ls.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=ls.objectMap.get(t);return n||(n=new ls,ls.objectMap.set(t,n)),n}}function qS({isoYear:r,isoMonth:t,isoDay:n}){return`${Ap(r)}-${Oo(t)}-${Oo(n)}T00:00Z`}function sE(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}ls.objectMap=new WeakMap,ls.MAX_CACHE_ENTRIES=1e3;class Zm{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new t6(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:o,day:c}=t,a=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:o,isoDay:c,id:this.id}),u=n.get(a);if(u)return u;const U=this.getFormatter();let P,b;try{b=qS({isoYear:i,isoMonth:o,isoDay:c}),P=U.formatToParts(new Date(b))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:o,isoDay:c})}`)}const K={};for(let{type:Te,value:Se}of P){if("year"===Te&&(K.eraYear=+Se),"relatedYear"===Te&&(K.eraYear=+Se),"month"===Te){const Re=/^([0-9]*)(.*?)$/.exec(Se);if(!Re||3!=Re.length||!Re[1]&&!Re[2])throw new RangeError(`Unexpected month: ${Se}`);if(K.month=Re[1]?+Re[1]:1,K.month<1)throw new RangeError(`Invalid month ${Se} from ${b}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(K.month>13)throw new RangeError(`Invalid month ${Se} from ${b}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Re[2]&&(K.monthExtra=Re[2])}"day"===Te&&(K.day=+Se),this.hasEra&&"era"===Te&&null!=Se&&""!==Se&&(Se=Se.split(" (")[0],K.era=Se.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===K.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Te,eraYear:Se}=this.reviseIntlEra(K,t);K.era=Te,K.eraYear=Se}this.checkIcuBugs&&this.checkIcuBugs(t);const _e=this.adjustCalendarDate(K,n,"constrain",!0);if(void 0===_e.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===_e.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===_e.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(a,_e),["constrain","reject"].forEach(Te=>{const Se=JSON.stringify({func:"calendarToIsoDate",year:_e.year,month:_e.month,day:_e.day,overflow:Te,id:this.id});n.set(Se,t)}),_e}validateCalendarDate(t){const{era:n,month:i,year:o,day:c,eraYear:a,monthCode:u,monthExtra:U}=t;if(void 0!==U)throw new RangeError("Unexpected `monthExtra` value");if(void 0===o&&void 0===a)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===u)throw new TypeError("month or monthCode is required");if(void 0===c)throw new RangeError("Missing day");if(void 0!==u){if("string"!=typeof u)throw new RangeError("monthCode must be a string, not "+typeof u);if(!/^M([01]?\d)(L?)$/.test(u))throw new RangeError(`Invalid monthCode: ${u}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==a&&void 0!==o&&a!==o)throw new RangeError(`eraYear ${a} does not match year ${o}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",o=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let c=t;if(this.validateCalendarDate(c),this.constantEra){const{year:P,eraYear:b}=c;c={...c,era:this.constantEra,year:void 0!==P?P:b,eraYear:void 0!==b?b:P}}const a=this.monthsInYear(c,n);let{month:u,monthCode:U}=c;return({month:u,monthCode:U}=JS(c,i,a)),{...c,month:u,monthCode:U}}regulateMonthDayNaive(t,n,i){const o=this.monthsInYear(t,i);let{month:c,day:a}=t;return"reject"===n?(Ha(c,1,o),Ha(a,1,this.maximumMonthLength(t))):(c=ad(c,1,o),a=ad(a,1,this.maximumMonthLength({...t,month:c}))),{...t,month:c,day:a}}calendarToIsoDate(t,n="constrain",i){const o=t;let c=this.adjustCalendarDate(t,i,n,!1);c=this.regulateMonthDayNaive(c,n,i);const{year:a,month:u,day:U}=c,P=JSON.stringify({func:"calendarToIsoDate",year:a,month:u,day:U,overflow:n,id:this.id});let b,K=i.get(P);if(K||void 0!==o.year&&void 0!==o.month&&void 0!==o.day&&(o.year!==c.year||o.month!==c.month||o.day!==c.day)&&(b=JSON.stringify({func:"calendarToIsoDate",year:o.year,month:o.month,day:o.day,overflow:n,id:this.id}),K=i.get(b),K))return K;let _e=this.estimateIsoDate({year:a,month:u,day:U});const Te=Xe=>{let Je=this.addDaysIso(_e,Xe);if(c.day>this.minimumMonthLength(c)){let lt=this.isoToCalendarDate(Je,i);for(;lt.month!==u||lt.year!==a;){if("reject"===n)throw new RangeError(`day ${U} does not exist in month ${u} of year ${a}`);Je=this.addDaysIso(Je,-1),lt=this.isoToCalendarDate(Je,i)}}return Je};let Se=0,Re=this.isoToCalendarDate(_e,i),Ge=sE(c,Re);0===Ge.years&&0===Ge.months&&0===Ge.days||(_e=this.addDaysIso(_e,365*Ge.years+30*Ge.months+Ge.days),Re=this.isoToCalendarDate(_e,i),Ge=sE(c,Re),0===Ge.years&&0===Ge.months?_e=Te(Ge.days):Se=this.compareCalendarDates(c,Re));let ct=8;for(;Se;){_e=this.addDaysIso(_e,Se*ct);const Xe=Re;Re=this.isoToCalendarDate(_e,i);const Je=Se;if(Se=this.compareCalendarDates(c,Re),Se)if(Ge=sE(c,Re),0===Ge.years&&0===Ge.months)_e=Te(Ge.days),Se=0;else if(Je&&Se!==Je)if(ct>1)ct/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...o})}`);this.compareCalendarDates(Re,Xe)>0&&(_e=this.addDaysIso(_e,-1)),Se=0}}if(i.set(P,_e),b&&i.set(b,_e),void 0===c.year||void 0===c.month||void 0===c.day||void 0===c.monthCode||this.hasEra&&(void 0===c.era||void 0===c.eraYear))throw new RangeError("Unexpected missing property");return _e}temporalToCalendarDate(t,n){const i={year:Pe(t,_r),month:Pe(t,Mr),day:Pe(t,Ar)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=Ui(t,["day","month","year"],["day","month","year"]),o=Ui(n,["day","month","year"],["day","month","year"]);return i.year!==o.year?Pp(i.year-o.year):i.month!==o.month?Pp(i.month-o.month):i.day!==o.day?Pp(i.day-o.day):0}regulateDate(t,n="constrain",i){const o=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(o,i)}addDaysIso(t,n){return Cp(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const o=this.calendarToIsoDate(t,"constrain",i),c=this.addDaysIso(o,n);return this.isoToCalendarDate(c,i)}addMonthsCalendar(t,n,i,o){let c=t;const{day:a}=c;for(let u=0,U=h4(n);u<U;u++){const{month:P}=c,b=c,K=n<0?-Math.max(a,this.daysInPreviousMonth(c,o)):this.daysInMonth(c,o),_e=this.calendarToIsoDate(c,"constrain",o);let Te=this.addDaysIso(_e,K);if(c=this.isoToCalendarDate(Te,o),n>0){const Se=this.monthsInYear(b,o);for(;c.month-1!=P%Se;)Te=this.addDaysIso(Te,-1),c=this.isoToCalendarDate(Te,o)}c.day!==a&&(c=this.regulateDate({...c,day:a},"constrain",o))}if("reject"===i&&c.day!==a)throw new RangeError(`Day ${a} does not exist in resulting calendar month`);return c}addCalendar(t,{years:n=0,months:i=0,weeks:o=0,days:c=0},a,u){const{year:U,day:P,monthCode:b}=t,K=this.adjustCalendarDate({year:U+n,monthCode:b,day:P},u),_e=this.addMonthsCalendar(K,i,a,u);return this.addDaysCalendar(_e,c+7*o,u)}untilCalendar(t,n,i,o){let c=0,a=0,u=0,U=0;switch(i){case"day":c=this.calendarDaysUntil(t,n,o);break;case"week":{const P=this.calendarDaysUntil(t,n,o);c=P%7,a=(P-c)/7;break}case"month":case"year":{const P=this.compareCalendarDates(n,t);if(!P)return{years:0,months:0,weeks:0,days:0};const b=n.year-t.year;if("year"===i&&b){let Se=0;n.monthCode>t.monthCode&&(Se=1),n.monthCode<t.monthCode&&(Se=-1),Se||(Se=Math.sign(n.day-t.day)),U=Se*P<0?b-P:b}let _e,Te=U?this.addCalendar(t,{years:U},"constrain",o):t;do{u+=P,_e=Te,Te=this.addMonthsCalendar(_e,P,"constrain",o),Te.day!==t.day&&(Te=this.regulateDate({...Te,day:t.day},"constrain",o))}while(this.compareCalendarDates(n,Te)*P>=0);u-=P,c=this.calendarDaysUntil(_e,n,o);break}}return{years:U,months:u,weeks:a,days:c}}daysInMonth(t,n){const{day:i}=t,o=this.maximumMonthLength(t),c=this.minimumMonthLength(t);if(c===o)return c;const a=i<=o-c?o:c,u=this.calendarToIsoDate(t,"constrain",n),U=this.addDaysIso(u,a),P=this.isoToCalendarDate(U,n),b=this.addDaysIso(U,-P.day);return this.isoToCalendarDate(b,n).day}daysInPreviousMonth(t,n){const{day:i,month:o,year:c}=t;let a={year:o>1?c:c-1,month:o,day:1};const u=o>1?o-1:this.monthsInYear(a,n);a={...a,month:u};const U=this.minimumMonthLength(a),P=this.maximumMonthLength(a);if(U===P)return P;const b=this.calendarToIsoDate(t,"constrain",n),K=this.addDaysIso(b,-i);return this.isoToCalendarDate(K,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const o=this.calendarToIsoDate(t,"constrain",i),c=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(o,c)}isoDaysUntil(t,n){return DS(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let o,c,a,u,U,{monthCode:P,day:b}=t;if(void 0===P){let{year:Te,era:Se,eraYear:Re}=t;if(void 0===Te&&(void 0===Se||void 0===Re))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:P,day:b}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const K=this.isoToCalendarDate({year:1972,month:12,day:31},i),_e=K.monthCode>P||K.monthCode===P&&K.day>=b?K.year:K.year-1;for(let Te=0;Te<100;Te++){const Se=this.adjustCalendarDate({day:b,monthCode:P,year:_e-Te},i),Re=this.calendarToIsoDate(Se,"constrain",i),Ge=this.isoToCalendarDate(Re,i);if(({year:o,month:c,day:a}=Re),Ge.monthCode===P&&Ge.day===b)return{month:c,day:a,year:o};"constrain"===n&&(void 0===u||Ge.monthCode===u.monthCode&&Ge.day>u.day)&&(u=Ge,U=Re)}if("constrain"===n&&void 0!==U)return U;throw new RangeError(`No recent ${this.id} year with monthCode ${P} and day ${b}`)}}class i6 extends Zm{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:o}=t,c=this.getMonthCode(o,i),a=YS(this.months).find(U=>U[1].monthCode===c);if(void 0===a)throw new RangeError(`unmatched Hebrew month: ${i}`);const u=a[1].days;return"number"==typeof u?u:u[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?tu(5,!0):tu(n<6?n:n-1):tu(n)}adjustCalendarDate(t,n,i="constrain",o=!1){let{year:c,eraYear:a,month:u,monthCode:U,day:P,monthExtra:b}=t;if(void 0===c&&void 0!==a&&(c=a),void 0===a&&void 0!==c&&(a=c),o){if(b){const K=this.months[b];if(!K)throw new RangeError(`Unrecognized month from formatToParts: ${b}`);u=this.inLeapYear({year:c})?K.leap:K.regular}return U=this.getMonthCode(c,u),{year:c,month:u,day:P,era:void 0,eraYear:a,monthCode:U}}if(this.validateCalendarDate(t),void 0===u)if(U.endsWith("L")){if("M05L"!==U)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${U}`);if(u=6,!this.inLeapYear({year:c})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${c} which is not a leap year`);u=6,U="M06"}}else{u=oE(U),this.inLeapYear({year:c})&&u>=6&&u++;const K=this.monthsInYear({year:c});if(u<1||u>K)throw new RangeError(`Invalid monthCode: ${U}`)}else if("reject"===i?(Ha(u,1,this.monthsInYear({year:c})),Ha(P,1,this.maximumMonthLength({year:c,month:u}))):(u=ad(u,1,this.monthsInYear({year:c})),P=ad(P,1,this.maximumMonthLength({year:c,month:u}))),void 0===U)U=this.getMonthCode(c,u);else if(this.getMonthCode(c,u)!==U)throw new RangeError(`monthCode ${U} doesn't correspond to month ${u} in Hebrew year ${c}`);return{...t,day:P,month:u,monthCode:U,year:c,eraYear:a}}}class sg extends Zm{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:p4(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class o6 extends sg{constructor(){super(...arguments),this.id="islamic"}}class m4 extends sg{constructor(){super(...arguments),this.id="islamic-umalqura"}}class y4 extends sg{constructor(){super(...arguments),this.id="islamic-tbla"}}class g4 extends sg{constructor(){super(...arguments),this.id="islamic-civil"}}class v4 extends sg{constructor(){super(...arguments),this.id="islamic-rgsa"}}class b4 extends sg{constructor(){super(...arguments),this.id="islamicc"}}class tw extends Zm{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return o6.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class s6 extends Zm{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return QS(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return Cp(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function QS(r){return r%4==0&&(r%100!=0||r%400==0)}class ag extends Zm{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:o}=function(a){let u,U=a;if(0===U.length)throw new RangeError("Invalid era data: eras are required");if(1===U.length&&U[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===U.length&&!U[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(U.filter(b=>null!=b.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");U.forEach(b=>{if(b.isAnchor||!b.anchorEpoch&&!b.reverseOf){if(u)throw new RangeError("Invalid era data: cannot have multiple anchor eras");u=b,b.anchorEpoch={year:b.hasYearZero?0:1}}else if(!b.name)throw new RangeError("If era name is blank, it must be the anchor era")}),U=U.filter(b=>b.name),U.forEach(b=>{const{reverseOf:K}=b;if(K){const _e=U.find(Te=>Te.name===K);if(void 0===_e)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${K}`);b.reverseOf=_e,b.anchorEpoch=_e.anchorEpoch,b.isoEpoch=_e.isoEpoch}void 0===b.anchorEpoch.month&&(b.anchorEpoch.month=1),void 0===b.anchorEpoch.day&&(b.anchorEpoch.day=1)}),XS.call(U,(b,K)=>{if(b.reverseOf)return 1;if(K.reverseOf)return-1;if(!b.isoEpoch||!K.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return K.isoEpoch.year-b.isoEpoch.year});const P=U[U.length-1].reverseOf;if(P&&P!==U[U.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return U.forEach((b,K)=>{b.genericName="era"+(U.length-1-K)}),{eras:U,anchorEra:u||U[0]}}(n);this.anchorEra=o,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return QS(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(u,U)=>{const P=t[u];if(null!=P&&P!=U)throw new RangeError(`Input ${u} ${P} doesn't match calculated value ${U}`)},i=u=>{let U;const P={...t,year:u},b=this.eras.find((K,_e)=>{if(_e===this.eras.length-1){if(K.reverseOf){if(u>0)throw new RangeError(`Signed year ${u} is invalid for era ${K.name}`);return U=K.anchorEpoch.year-u,!0}return U=u-K.anchorEpoch.year+(K.hasYearZero?0:1),!0}return this.compareCalendarDates(P,K.anchorEpoch)>=0&&(U=u-K.anchorEpoch.year+(K.hasYearZero?0:1),!0)});if(!b)throw new RangeError(`Year ${u} was not matched by any era`);return{eraYear:U,era:b.name}};let{year:o,eraYear:c,era:a}=t;if(null!=o)({eraYear:c,era:a}=i(o)),n("era",a),n("eraYear",c);else{if(null==c)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const u=void 0===a?void 0:this.eras.find(U=>U.name===a||U.genericName===a);if(!u)throw new RangeError(`Era ${a} (ISO year ${c}) was not matched by any era`);if(c<1&&u.reverseOf)throw new RangeError(`Years in ${a} era must be positive, not ${o}`);o=u.reverseOf?u.anchorEpoch.year-c:c+u.anchorEpoch.year-(u.hasYearZero?0:1),n("year",o),({eraYear:c,era:a}=i(o))}}return{...t,year:o,eraYear:c,era:a}}adjustCalendarDate(t,n,i="constrain"){let o=t;const{month:c,monthCode:a}=o;return void 0===c&&(o={...o,month:oE(a)}),this.validateCalendarDate(o),o=this.completeEraYear(o),super.adjustCalendarDate(o,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:o,day:c}=n,{anchorEra:a}=this;return Rb(i+a.isoEpoch.year-(a.hasYearZero?0:1),o,c,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Oh(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class aE extends ag{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class a6 extends aE{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class c6 extends aE{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class w4 extends aE{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class N9 extends ag{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class U9 extends ag{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class d6 extends ag{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class l6 extends ag{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:o}=t,{year:c}=n;return this.eras.find(a=>a.name===i)?{era:i,eraYear:o}:c<1?{era:"bce",eraYear:1-c}:{era:"ce",eraYear:c}}}class u6 extends Zm{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===YS(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),o=n.get(i);if(o)return o;const c=this.getFormatter(),a=(Ge,ct)=>{const Xe=qS({isoYear:Ge,isoMonth:2,isoDay:1}),Je=new Date(Xe);Je.setUTCDate(ct+1);const lt=c.formatToParts(Je),Et=lt.find(xt=>"month"===xt.type).value,wt=+lt.find(xt=>"day"===xt.type).value;let Ct=lt.find(xt=>"relatedYear"===xt.type);if(void 0===Ct)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return Ct=+Ct.value,{calendarMonthString:Et,calendarDay:wt,calendarYearToVerify:Ct}};let u=17,{calendarMonthString:U,calendarDay:P,calendarYearToVerify:b}=a(t,u);"1"!==U&&(u+=29,({calendarMonthString:U,calendarDay:P}=a(t,u))),u-=P-5;const K={};let _e,Te,Se=1,Re=!1;do{({calendarMonthString:U,calendarDay:P,calendarYearToVerify:b}=a(t,u)),_e&&(K[Te].daysInMonth=_e+30-P),b!==t?Re=!0:(K[U]={monthIndex:Se++},u+=30),_e=P,Te=U}while(!Re);return K[Te].daysInMonth=_e+30-P,n.set(i,K),K}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",o=!1){let{year:c,month:a,monthExtra:u,day:U,monthCode:P,eraYear:b}=t;if(o){if(c=b,u&&"bis"!==u)throw new RangeError(`Unexpected leap month suffix: ${u}`);const K=tu(a,void 0!==u),_e=`${a}${u||""}`,Te=this.getMonthList(c,n)[_e];if(void 0===Te)throw new RangeError(`Unmatched month ${_e} in Chinese year ${c}`);return a=Te.monthIndex,{year:c,month:a,day:U,era:void 0,eraYear:b,monthCode:K}}if(this.validateCalendarDate(t),void 0===c&&(c=b),void 0===b&&(b=c),void 0===a){const K=this.getMonthList(c,n);let _e=P.replace("L","bis").slice(1);"0"===_e[0]&&(_e=_e.slice(1));let Te=K[_e];if(a=Te&&Te.monthIndex,void 0===a&&P.endsWith("L")&&"M13L"!=P&&"constrain"===i){let Se=P.slice(1,-1);"0"===Se[0]&&(Se=Se.slice(1)),Te=K[Se],Te&&(a=Te.monthIndex,P=tu(Se))}if(void 0===a)throw new RangeError(`Unmatched month ${P} in Chinese year ${c}`)}else if(void 0===P){const K=this.getMonthList(c,n),_e=YS(K),Te=_e.length;"reject"===i?(Ha(a,1,Te),Ha(U,1,this.maximumMonthLength())):(a=ad(a,1,Te),U=ad(U,1,this.maximumMonthLength()));const Se=_e.find(([,Re])=>Re.monthIndex===a);if(void 0===Se)throw new RangeError(`Invalid month ${a} in Chinese year ${c}`);P=tu(Se[0].replace("bis",""),-1!==Se[0].indexOf("bis"))}else{const K=this.getMonthList(c,n);let _e=P.replace("L","bis").slice(1);"0"===_e[0]&&(_e=_e.slice(1));const Te=K[_e];if(!Te)throw new RangeError(`Unmatched monthCode ${P} in Chinese year ${c}`);if(a!==Te.monthIndex)throw new RangeError(`monthCode ${P} doesn't correspond to month ${a} in Chinese year ${c}`)}return{...t,year:c,eraYear:b,month:a,monthCode:P,day:U}}}class _4 extends u6{constructor(){super(...arguments),this.id="chinese"}}class E4 extends u6{constructor(){super(...arguments),this.id="dangi"}}class nw{constructor(t){this.helper=t}dateFromFields(t,n,i){const o=new ls,c=Ui(t,this.fields(["day","month","monthCode","year"]),[]),a=js(n),{year:u,month:U,day:P}=this.helper.calendarToIsoDate(c,a,o),b=ql(u,U,P,i);return o.setObject(b),b}yearMonthFromFields(t,n,i){const o=new ls,c=Ui(t,this.fields(["month","monthCode","year"]),[]),a=js(n),{year:u,month:U,day:P}=this.helper.calendarToIsoDate({...c,day:1},a,o),b=Nm(u,U,i,P);return o.setObject(b),b}monthDayFromFields(t,n,i){const o=new ls,c=Ui(t,this.fields(["day","month","monthCode","year"]),[]),a=js(n),{year:u,month:U,day:P}=this.helper.monthDayFromFields(c,a,o),b=jb(U,P,i,u);return o.setObject(b),b}fields(t){let n=t;return iE.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new ZS;for(let i=0;i<t.length;i++){const o=t[i];switch(Fr(Ga,n,[o]),o){case"era":Fr(Ga,n,["eraYear"]),Fr(Ga,n,["year"]);break;case"eraYear":Fr(Ga,n,["era"]),Fr(Ga,n,["year"]);break;case"year":Fr(Ga,n,["era"]),Fr(Ga,n,["eraYear"]);break;case"month":Fr(Ga,n,["monthCode"]),this.helper.erasBeginMidYear&&(Fr(Ga,n,["era"]),Fr(Ga,n,["eraYear"]));break;case"monthCode":Fr(Ga,n,["month"]),this.helper.erasBeginMidYear&&(Fr(Ga,n,["era"]),Fr(Ga,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Fr(Ga,n,["era"]),Fr(Ga,n,["eraYear"]))}}return[...Fr(r6,n,[])]}dateAdd(t,n,i,o,c,a,u){const U=ls.getCacheForObject(t),P=this.helper.temporalToCalendarDate(t,U),b=this.helper.addCalendar(P,{years:n,months:i,weeks:o,days:c},a,U),K=this.helper.calendarToIsoDate(b,"constrain",U),{year:_e,month:Te,day:Se}=K,Re=ql(_e,Te,Se,u);return new ls(U).setObject(Re),Re}dateUntil(t,n,i){const o=ls.getCacheForObject(t),c=ls.getCacheForObject(n),a=this.helper.temporalToCalendarDate(t,o),u=this.helper.temporalToCalendarDate(n,c);return this.helper.untilCalendar(a,u,i,o)}year(t){const n=ls.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=ls.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=ls.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=ls.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=ls.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=ls.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return is.iso8601.dayOfWeek(t)}dayOfYear(t){const n=ls.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),o=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(o,i,n)+1}weekOfYear(t){return is.iso8601.weekOfYear(t)}yearOfWeek(t){return is.iso8601.yearOfWeek(t)}daysInWeek(t){return is.iso8601.daysInWeek(t)}daysInMonth(t){const n=ls.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),o=this.helper.maximumMonthLength(i);if(o===this.helper.minimumMonthLength(i))return o;const c=this.helper.startOfCalendarMonth(i),a=this.helper.addMonthsCalendar(c,1,"constrain",n);return this.helper.calendarDaysUntil(c,a,n)}daysInYear(t){let n=t;Xs(n,_r)||(n=po(n));const i=ls.getCacheForObject(n),o=this.helper.temporalToCalendarDate(n,i),c=this.helper.startOfCalendarYear(o),a=this.helper.addCalendar(c,{years:1},"constrain",i);return this.helper.calendarDaysUntil(c,a,i)}monthsInYear(t){const n=ls.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;Xs(n,_r)||(n=po(n));const i=ls.getCacheForObject(n),o=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(o,i)}}for(const r of[i6,tw,w4,a6,c6,_4,E4,N9,s6,U9,d6,l6,o6,m4,y4,g4,v4,b4]){const t=new r;is[t.id]=new nw(t)}class cg{constructor(t,n,i,o="iso8601"){d4(this,qi(t),qi(n),qi(i),ul(o))}get calendarId(){if(!di(this))throw new TypeError("invalid receiver");return hc(Pe(this,Mn))}get era(){if(!di(this))throw new TypeError("invalid receiver");return Zy(Pe(this,Mn),this)}get eraYear(){if(!di(this))throw new TypeError("invalid receiver");return Kb(Pe(this,Mn),this)}get year(){if(!di(this))throw new TypeError("invalid receiver");return L1(Pe(this,Mn),this)}get month(){if(!di(this))throw new TypeError("invalid receiver");return F1(Pe(this,Mn),this)}get monthCode(){if(!di(this))throw new TypeError("invalid receiver");return Mp(Pe(this,Mn),this)}get day(){if(!di(this))throw new TypeError("invalid receiver");return Sp(Pe(this,Mn),this)}get dayOfWeek(){if(!di(this))throw new TypeError("invalid receiver");return uS(Pe(this,Mn),this)}get dayOfYear(){if(!di(this))throw new TypeError("invalid receiver");return fS(Pe(this,Mn),this)}get weekOfYear(){if(!di(this))throw new TypeError("invalid receiver");return j1(Pe(this,Mn),this)}get yearOfWeek(){if(!di(this))throw new TypeError("invalid receiver");return $b(Pe(this,Mn),this)}get daysInWeek(){if(!di(this))throw new TypeError("invalid receiver");return Vb(Pe(this,Mn),this)}get daysInMonth(){if(!di(this))throw new TypeError("invalid receiver");return Sf(Pe(this,Mn),this)}get daysInYear(){if(!di(this))throw new TypeError("invalid receiver");return K1(Pe(this,Mn),this)}get monthsInYear(){if(!di(this))throw new TypeError("invalid receiver");return $1(Pe(this,Mn),this)}get inLeapYear(){if(!di(this))throw new TypeError("invalid receiver");return Ch(Pe(this,Mn),this)}with(t,n){if(!di(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument");zy(t);const i=zi(n),o=Pe(this,Mn),c=Es(o,["day","month","monthCode","year"]);let a=Ui(this,c,[]);return a=Ih(o,a,Ui(t,c,"partial")),a=Ui(a,c,[]),kh(o,a,i)}withCalendar(t){if(!di(this))throw new TypeError("invalid receiver");const n=ul(t);return new cg(Pe(this,_r),Pe(this,Mr),Pe(this,Ar),n)}add(t,n){if(!di(this))throw new TypeError("invalid receiver");const i=Bm(t),o=zi(n);return Ra(Pe(this,Mn),this,i,o)}subtract(t,n){if(!di(this))throw new TypeError("invalid receiver");const i=TS(Bm(t)),o=zi(n);return Ra(Pe(this,Mn),this,i,o)}until(t,n){if(!di(this))throw new TypeError("invalid receiver");return PS("until",this,t,n)}since(t,n){if(!di(this))throw new TypeError("invalid receiver");return PS("since",this,t,n)}equals(t){if(!di(this))throw new TypeError("invalid receiver");const n=po(t);for(const i of[_r,Mr,Ar])if(Pe(this,i)!==Pe(n,i))return!1;return Jy(Pe(this,Mn),Pe(n,Mn))}toString(t){if(!di(this))throw new TypeError("invalid receiver");return yS(this,Nb(zi(t)))}toJSON(){if(!di(this))throw new TypeError("invalid receiver");return yS(this)}toLocaleString(t,n){if(!di(this))throw new TypeError("invalid receiver");return new Of(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!di(this))throw new TypeError("invalid receiver");const n=Pe(this,_r),i=Pe(this,Mr),o=Pe(this,Ar),c=Pe(this,Mn);if(void 0===t)return sd(n,i,o,0,0,0,0,0,0,c);const a=Mf(t);return sd(n,i,o,Pe(a,Si),Pe(a,Ci),Pe(a,Ai),Pe(a,ui),Pe(a,vi),Pe(a,bi),c)}toZonedDateTime(t){if(!di(this))throw new TypeError("invalid receiver");let n,i;if(Qo(t))if(xl(t))n=t;else{const Se=t.timeZone;void 0===Se?n=Zs(t):(n=Zs(Se),i=t.plainTime)}else n=Zs(t);const o=Pe(this,_r),c=Pe(this,Mr),a=Pe(this,Ar),u=Pe(this,Mn);let U=0,P=0,b=0,K=0,_e=0,Te=0;return void 0!==i&&(i=Mf(i),U=Pe(i,Si),P=Pe(i,Ci),b=Pe(i,Ai),K=Pe(i,ui),_e=Pe(i,vi),Te=Pe(i,bi)),ca(Pe(Sa(n,sd(o,c,a,U,P,b,K,_e,Te,u),"compatible"),Wr),n,u)}toPlainYearMonth(){if(!di(this))throw new TypeError("invalid receiver");const t=Pe(this,Mn);return jm(t,Ui(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!di(this))throw new TypeError("invalid receiver");const t=Pe(this,Mn);return qy(t,Ui(this,Es(t,["day","monthCode"]),[]))}getISOFields(){if(!di(this))throw new TypeError("invalid receiver");return{calendar:Pe(this,Mn),isoDay:Pe(this,Ar),isoMonth:Pe(this,Mr),isoYear:Pe(this,_r)}}getCalendar(){if(!di(this))throw new TypeError("invalid receiver");return Lm(Pe(this,Mn))}static from(t,n){const i=zi(n);return di(t)?(js(i),ql(Pe(t,_r),Pe(t,Mr),Pe(t,Ar),Pe(t,Mn))):po(t,i)}static compare(t,n){const i=po(t),o=po(n);return Oh(Pe(i,_r),Pe(i,Mr),Pe(i,Ar),Pe(o,_r),Pe(o,Mr),Pe(o,Ar))}}Pu(cg,"Temporal.PlainDate");class rw{constructor(t,n,i,o=0,c=0,a=0,u=0,U=0,P=0,b="iso8601"){x3(this,qi(t),qi(n),qi(i),void 0===o?0:qi(o),void 0===c?0:qi(c),void 0===a?0:qi(a),void 0===u?0:qi(u),void 0===U?0:qi(U),void 0===P?0:qi(P),ul(b))}get calendarId(){if(!wi(this))throw new TypeError("invalid receiver");return hc(Pe(this,Mn))}get year(){if(!wi(this))throw new TypeError("invalid receiver");return L1(Pe(this,Mn),this)}get month(){if(!wi(this))throw new TypeError("invalid receiver");return F1(Pe(this,Mn),this)}get monthCode(){if(!wi(this))throw new TypeError("invalid receiver");return Mp(Pe(this,Mn),this)}get day(){if(!wi(this))throw new TypeError("invalid receiver");return Sp(Pe(this,Mn),this)}get hour(){if(!wi(this))throw new TypeError("invalid receiver");return Pe(this,Si)}get minute(){if(!wi(this))throw new TypeError("invalid receiver");return Pe(this,Ci)}get second(){if(!wi(this))throw new TypeError("invalid receiver");return Pe(this,Ai)}get millisecond(){if(!wi(this))throw new TypeError("invalid receiver");return Pe(this,ui)}get microsecond(){if(!wi(this))throw new TypeError("invalid receiver");return Pe(this,vi)}get nanosecond(){if(!wi(this))throw new TypeError("invalid receiver");return Pe(this,bi)}get era(){if(!wi(this))throw new TypeError("invalid receiver");return Zy(Pe(this,Mn),this)}get eraYear(){if(!wi(this))throw new TypeError("invalid receiver");return Kb(Pe(this,Mn),this)}get dayOfWeek(){if(!wi(this))throw new TypeError("invalid receiver");return uS(Pe(this,Mn),this)}get dayOfYear(){if(!wi(this))throw new TypeError("invalid receiver");return fS(Pe(this,Mn),this)}get weekOfYear(){if(!wi(this))throw new TypeError("invalid receiver");return j1(Pe(this,Mn),this)}get yearOfWeek(){if(!wi(this))throw new TypeError("invalid receiver");return $b(Pe(this,Mn),this)}get daysInWeek(){if(!wi(this))throw new TypeError("invalid receiver");return Vb(Pe(this,Mn),this)}get daysInYear(){if(!wi(this))throw new TypeError("invalid receiver");return K1(Pe(this,Mn),this)}get daysInMonth(){if(!wi(this))throw new TypeError("invalid receiver");return Sf(Pe(this,Mn),this)}get monthsInYear(){if(!wi(this))throw new TypeError("invalid receiver");return $1(Pe(this,Mn),this)}get inLeapYear(){if(!wi(this))throw new TypeError("invalid receiver");return Ch(Pe(this,Mn),this)}with(t,n){if(!wi(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument");zy(t);const i=zi(n),o=Pe(this,Mn),c=Es(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let a=Ui(this,c,[]);a=Ih(o,a,Ui(t,c,"partial")),a=Ui(a,c,[]);const{year:u,month:U,day:P,hour:b,minute:K,second:_e,millisecond:Te,microsecond:Se,nanosecond:Re}=Gy(o,a,i);return sd(u,U,P,b,K,_e,Te,Se,Re,o)}withPlainTime(t){if(!wi(this))throw new TypeError("invalid receiver");const n=Pe(this,_r),i=Pe(this,Mr),o=Pe(this,Ar),c=Pe(this,Mn);if(void 0===t)return sd(n,i,o,0,0,0,0,0,0,c);const a=Mf(t);return sd(n,i,o,Pe(a,Si),Pe(a,Ci),Pe(a,Ai),Pe(a,ui),Pe(a,vi),Pe(a,bi),c)}withPlainDate(t){if(!wi(this))throw new TypeError("invalid receiver");const n=po(t),i=Pe(n,_r),o=Pe(n,Mr),c=Pe(n,Ar);let a=Pe(n,Mn);const u=Pe(this,Si),U=Pe(this,Ci),P=Pe(this,Ai),b=Pe(this,ui),K=Pe(this,vi),_e=Pe(this,bi);return a=Fm(Pe(this,Mn),a),sd(i,o,c,u,U,P,b,K,_e,a)}withCalendar(t){if(!wi(this))throw new TypeError("invalid receiver");const n=ul(t);return new rw(Pe(this,_r),Pe(this,Mr),Pe(this,Ar),Pe(this,Si),Pe(this,Ci),Pe(this,Ai),Pe(this,ui),Pe(this,vi),Pe(this,bi),n)}add(t,n){if(!wi(this))throw new TypeError("invalid receiver");return l4("add",this,t,n)}subtract(t,n){if(!wi(this))throw new TypeError("invalid receiver");return l4("subtract",this,t,n)}until(t,n){if(!wi(this))throw new TypeError("invalid receiver");return j3("until",this,t,n)}since(t,n){if(!wi(this))throw new TypeError("invalid receiver");return j3("since",this,t,n)}round(t){if(!wi(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Op("smallestUnit",t):zi(t),i=Hy(n),o=Zl(n,"halfExpand"),c=Bd(n,"smallestUnit","time",Rm,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c];Wy(i,a,1===a);let u=Pe(this,_r),U=Pe(this,Mr),P=Pe(this,Ar),b=Pe(this,Si),K=Pe(this,Ci),_e=Pe(this,Ai),Te=Pe(this,ui),Se=Pe(this,vi),Re=Pe(this,bi);return({year:u,month:U,day:P,hour:b,minute:K,second:_e,millisecond:Te,microsecond:Se,nanosecond:Re}=Xb(u,U,P,b,K,_e,Te,Se,Re,i,c,o)),sd(u,U,P,b,K,_e,Te,Se,Re,Pe(this,Mn))}equals(t){if(!wi(this))throw new TypeError("invalid receiver");const n=Ep(t);for(const i of[_r,Mr,Ar,Si,Ci,Ai,ui,vi,bi])if(Pe(this,i)!==Pe(n,i))return!1;return Jy(Pe(this,Mn),Pe(n,Mn))}toString(t){if(!wi(this))throw new TypeError("invalid receiver");const n=zi(t),i=Nb(n),o=Ub(n),c=Zl(n,"trunc"),a=Bd(n,"smallestUnit","time",void 0);if("hour"===a)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:u,unit:U,increment:P}=Lb(a,o);return gS(this,u,i,{unit:U,increment:P,roundingMode:c})}toJSON(){if(!wi(this))throw new TypeError("invalid receiver");return gS(this,"auto")}toLocaleString(t,n){if(!wi(this))throw new TypeError("invalid receiver");return new Of(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!wi(this))throw new TypeError("invalid receiver");const i=Zs(t);return ca(Pe(Sa(i,this,Om(zi(n))),Wr),i,Pe(this,Mn))}toPlainDate(){if(!wi(this))throw new TypeError("invalid receiver");return za(this)}toPlainYearMonth(){if(!wi(this))throw new TypeError("invalid receiver");const t=Pe(this,Mn);return jm(t,Ui(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!wi(this))throw new TypeError("invalid receiver");const t=Pe(this,Mn);return qy(t,Ui(this,Es(t,["day","monthCode"]),[]))}toPlainTime(){if(!wi(this))throw new TypeError("invalid receiver");return V1(this)}getISOFields(){if(!wi(this))throw new TypeError("invalid receiver");return{calendar:Pe(this,Mn),isoDay:Pe(this,Ar),isoHour:Pe(this,Si),isoMicrosecond:Pe(this,vi),isoMillisecond:Pe(this,ui),isoMinute:Pe(this,Ci),isoMonth:Pe(this,Mr),isoNanosecond:Pe(this,bi),isoSecond:Pe(this,Ai),isoYear:Pe(this,_r)}}getCalendar(){if(!wi(this))throw new TypeError("invalid receiver");return Lm(Pe(this,Mn))}static from(t,n){const i=zi(n);return wi(t)?(js(i),sd(Pe(t,_r),Pe(t,Mr),Pe(t,Ar),Pe(t,Si),Pe(t,Ci),Pe(t,Ai),Pe(t,ui),Pe(t,vi),Pe(t,bi),Pe(t,Mn))):Ep(t,i)}static compare(t,n){const i=Ep(t),o=Ep(n);for(const c of[_r,Mr,Ar,Si,Ci,Ai,ui,vi,bi]){const a=Pe(i,c),u=Pe(o,c);if(a!==u)return Pp(a-u)}return 0}}Pu(rw,"Temporal.PlainDateTime");class Np{constructor(t=0,n=0,i=0,o=0,c=0,a=0,u=0,U=0,P=0,b=0){const K=void 0===t?0:xa(t),_e=void 0===n?0:xa(n),Te=void 0===i?0:xa(i),Se=void 0===o?0:xa(o),Re=void 0===c?0:xa(c),Ge=void 0===a?0:xa(a),ct=void 0===u?0:xa(u),Xe=void 0===U?0:xa(U),Je=void 0===P?0:xa(P),lt=void 0===b?0:xa(b);J1(K,_e,Te,Se,Re,Ge,ct,Xe,Je,lt),Gl(this),Oi(this,uc,K),Oi(this,Ea,_e),Oi(this,Pc,Te),Oi(this,Oc,Se),Oi(this,Rc,Re),Oi(this,sa,Ge),Oi(this,fc,ct),Oi(this,Bc,Xe),Oi(this,Nc,Je),Oi(this,Uc,lt)}get years(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,uc)}get months(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Ea)}get weeks(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Pc)}get days(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Oc)}get hours(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Rc)}get minutes(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,sa)}get seconds(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,fc)}get milliseconds(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Bc)}get microseconds(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Nc)}get nanoseconds(){if(!go(this))throw new TypeError("invalid receiver");return Pe(this,Uc)}get sign(){if(!go(this))throw new TypeError("invalid receiver");return Af(Pe(this,uc),Pe(this,Ea),Pe(this,Pc),Pe(this,Oc),Pe(this,Rc),Pe(this,sa),Pe(this,fc),Pe(this,Bc),Pe(this,Nc),Pe(this,Uc))}get blank(){if(!go(this))throw new TypeError("invalid receiver");return 0===Af(Pe(this,uc),Pe(this,Ea),Pe(this,Pc),Pe(this,Oc),Pe(this,Rc),Pe(this,sa),Pe(this,fc),Pe(this,Bc),Pe(this,Nc),Pe(this,Uc))}with(t){if(!go(this))throw new TypeError("invalid receiver");const n=Ui(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=Pe(this,uc),months:o=Pe(this,Ea),weeks:c=Pe(this,Pc),days:a=Pe(this,Oc),hours:u=Pe(this,Rc),minutes:U=Pe(this,sa),seconds:P=Pe(this,fc),milliseconds:b=Pe(this,Bc),microseconds:K=Pe(this,Nc),nanoseconds:_e=Pe(this,Uc)}=n;return new Np(i,o,c,a,u,U,P,b,K,_e)}negated(){if(!go(this))throw new TypeError("invalid receiver");return TS(this)}abs(){if(!go(this))throw new TypeError("invalid receiver");return new Np(Math.abs(Pe(this,uc)),Math.abs(Pe(this,Ea)),Math.abs(Pe(this,Pc)),Math.abs(Pe(this,Oc)),Math.abs(Pe(this,Rc)),Math.abs(Pe(this,sa)),Math.abs(Pe(this,fc)),Math.abs(Pe(this,Bc)),Math.abs(Pe(this,Nc)),Math.abs(Pe(this,Uc)))}add(t,n){if(!go(this))throw new TypeError("invalid receiver");return BS("add",this,t,n)}subtract(t,n){if(!go(this))throw new TypeError("invalid receiver");return BS("subtract",this,t,n)}round(t){if(!go(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=Pe(this,uc),i=Pe(this,Ea),o=Pe(this,Pc),c=Pe(this,Oc),a=Pe(this,Rc),u=Pe(this,sa),U=Pe(this,fc),P=Pe(this,Bc),b=Pe(this,Nc),K=Pe(this,Uc),_e=lS(n,i,o,c,a,u,U,P,b,K);const Te="string"==typeof t?Op("smallestUnit",t):zi(t);let Se=Bd(Te,"largestUnit","datetime",void 0,["auto"]),Re=B1(Te);const Ge=Hy(Te),ct=Zl(Te,"halfExpand");let Xe=Bd(Te,"smallestUnit","datetime",void 0),Je=!0;Xe||(Je=!1,Xe="nanosecond"),_e=Dh(_e,Xe);let lt=!0;if(Se||(lt=!1,Se=_e),"auto"===Se&&(Se=_e),!Je&&!lt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Dh(Se,Xe)!==Se)throw new RangeError(`largestUnit ${Se} cannot be smaller than smallestUnit ${Xe}`);const Et={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[Xe];return void 0!==Et&&Wy(Ge,Et,!1),({years:n,months:i,weeks:o,days:c}=tg(n,i,o,c,Se,Re)),({years:n,months:i,weeks:o,days:c,hours:a,minutes:u,seconds:U,milliseconds:P,microseconds:b,nanoseconds:K}=If(n,i,o,c,a,u,U,P,b,K,Ge,Xe,ct,Re)),({years:n,months:i,weeks:o,days:c,hours:a,minutes:u,seconds:U,milliseconds:P,microseconds:b,nanoseconds:K}=jS(n,i,o,c,a,u,U,P,b,K,Ge,Xe,ct,Re)),({days:c,hours:a,minutes:u,seconds:U,milliseconds:P,microseconds:b,nanoseconds:K}=Ml(c,a,u,U,P,b,K,Se,Re)),({years:n,months:i,weeks:o,days:c}=function(Ct,xt,Zt,hn,_n,Cn){const gn=rr("%Temporal.Duration%"),yn=Af(Ct,xt,Zt,hn,0,0,0,0,0,0);if(0===yn)return{years:Ct,months:xt,weeks:Zt,days:hn};const fn=pt.BigInt(yn);let wn,Qt,Nn=pt.BigInt(Ct),Fn=pt.BigInt(xt),Gn=pt.BigInt(Zt),wr=pt.BigInt(hn);Cn&&(Qt=po(Cn),wn=Pe(Qt,Mn));const Or=new gn(yn),nn=new gn(0,yn),Br=new gn(0,0,yn);switch(_n){case"year":{if(!wn)throw new RangeError("a starting point is required for years balancing");const Ni="string"!=typeof wn?fo(wn,"dateAdd"):void 0;let er,Tn,qn;for(({relativeTo:er,days:Tn}=Wa(wn,Qt,Or,Ni));pt.greaterThanOrEqual(Yl(wr),pt.BigInt(Wo(Tn)));)wr=pt.subtract(wr,pt.BigInt(Tn)),Nn=pt.add(Nn,fn),Qt=er,({relativeTo:er,days:Tn}=Wa(wn,Qt,Or,Ni));for(({relativeTo:er,days:qn}=Wa(wn,Qt,nn,Ni));pt.greaterThanOrEqual(Yl(wr),pt.BigInt(Wo(qn)));)wr=pt.subtract(wr,pt.BigInt(qn)),Fn=pt.add(Fn,fn),Qt=er,({relativeTo:er,days:qn}=Wa(wn,Qt,nn,Ni));er=Ra(wn,Qt,Or,void 0,Ni);const Cr="string"!=typeof wn?fo(wn,"dateUntil"):void 0,yi=Ys(null);yi.largestUnit="month";let gi=xp(wn,Qt,er,yi,Cr),Xr=Pe(gi,Ea);for(;pt.greaterThanOrEqual(Yl(Fn),pt.BigInt(Wo(Xr)));){Fn=pt.subtract(Fn,pt.BigInt(Xr)),Nn=pt.add(Nn,fn),Qt=er,er=Ra(wn,Qt,Or,void 0,Ni);const Qr=Ys(null);Qr.largestUnit="month",gi=xp(wn,Qt,er,Qr,Cr),Xr=Pe(gi,Ea)}break}case"month":{if(!wn)throw new RangeError("a starting point is required for months balancing");const Ni="string"!=typeof wn?fo(wn,"dateAdd"):void 0;let er,Tn;for(({relativeTo:er,days:Tn}=Wa(wn,Qt,nn,Ni));pt.greaterThanOrEqual(Yl(wr),pt.BigInt(Wo(Tn)));)wr=pt.subtract(wr,pt.BigInt(Tn)),Fn=pt.add(Fn,fn),Qt=er,({relativeTo:er,days:Tn}=Wa(wn,Qt,nn,Ni));break}case"week":{if(!wn)throw new RangeError("a starting point is required for weeks balancing");const Ni="string"!=typeof wn?fo(wn,"dateAdd"):void 0;let er,Tn;for(({relativeTo:er,days:Tn}=Wa(wn,Qt,Br,Ni));pt.greaterThanOrEqual(Yl(wr),pt.BigInt(Wo(Tn)));)wr=pt.subtract(wr,pt.BigInt(Tn)),Gn=pt.add(Gn,fn),Qt=er,({relativeTo:er,days:Tn}=Wa(wn,Qt,Br,Ni));break}}return{years:pt.toNumber(Nn),months:pt.toNumber(Fn),weeks:pt.toNumber(Gn),days:pt.toNumber(wr)}}(n,i,o,c,Se,Re)),new Np(n,i,o,c,a,u,U,P,b,K)}total(t){if(!go(this))throw new TypeError("invalid receiver");let n=Pe(this,uc),i=Pe(this,Ea),o=Pe(this,Pc),c=Pe(this,Oc),a=Pe(this,Rc),u=Pe(this,sa),U=Pe(this,fc),P=Pe(this,Bc),b=Pe(this,Nc),K=Pe(this,Uc);if(void 0===t)throw new TypeError("options argument is required");const _e="string"==typeof t?Op("unit",t):zi(t),Te=B1(_e),Se=Bd(_e,"unit","datetime",Rm);let Re;({years:n,months:i,weeks:o,days:c}=tg(n,i,o,c,Se,Te)),Pr(Te)&&(Re=FS(Te,n,i,o,0));let Ge=R3(c,a,u,U,P,b,K,Se,Re);if("positive overflow"===Ge)return 1/0;if("negative overflow"===Ge)return-1/0;({days:c,hours:a,minutes:u,seconds:U,milliseconds:P,microseconds:b,nanoseconds:K}=Ge);const{total:ct}=If(n,i,o,c,a,u,U,P,b,K,1,Se,"trunc",Te);return ct}toString(t){if(!go(this))throw new TypeError("invalid receiver");const n=zi(t),i=Ub(n),o=Zl(n,"trunc"),c=Bd(n,"smallestUnit","time",void 0);if("hour"===c||"minute"===c)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:a,unit:u,increment:U}=Lb(c,i);return mS(this,a,{unit:u,increment:U,roundingMode:o})}toJSON(){if(!go(this))throw new TypeError("invalid receiver");return mS(this)}toLocaleString(t,n){if(!go(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),mS(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return go(t)?new Np(Pe(t,uc),Pe(t,Ea),Pe(t,Pc),Pe(t,Oc),Pe(t,Rc),Pe(t,sa),Pe(t,fc),Pe(t,Bc),Pe(t,Nc),Pe(t,Uc)):Bm(t)}static compare(t,n,i){const o=Bm(t),c=Bm(n),a=B1(zi(i)),u=Pe(o,uc),U=Pe(o,Ea),P=Pe(o,Pc);let b=Pe(o,Oc);const K=Pe(o,Rc),_e=Pe(o,sa),Te=Pe(o,fc),Se=Pe(o,Bc),Re=Pe(o,Nc);let Ge=Pe(o,Uc);const ct=Pe(c,uc),Xe=Pe(c,Ea),Je=Pe(c,Pc);let lt=Pe(c,Oc);const Et=Pe(c,Rc),wt=Pe(c,sa),Ct=Pe(c,fc),xt=Pe(c,Bc),Zt=Pe(c,Nc);let hn=Pe(c,Uc);const _n=B3(a,u,U,P,b),Cn=B3(a,ct,Xe,Je,lt);0===u&&0===ct&&0===U&&0===Xe&&0===P&&0===Je||(({days:b}=tg(u,U,P,b,"day",a)),({days:lt}=tg(ct,Xe,Je,lt,"day",a)));const gn=$m(b,K,_e,Te,Se,Re,Ge,_n),yn=$m(lt,Et,wt,Ct,xt,Zt,hn,Cn);return Pp(pt.toNumber(pt.subtract(gn,yn)))}}Pu(Np,"Temporal.Duration");const Ld=Object.create;class Up{constructor(t,n,i="iso8601",o=1972){Fb(this,qi(t),qi(n),ul(i),qi(o))}get monthCode(){if(!Ma(this))throw new TypeError("invalid receiver");return Mp(Pe(this,Mn),this)}get day(){if(!Ma(this))throw new TypeError("invalid receiver");return Sp(Pe(this,Mn),this)}get calendarId(){if(!Ma(this))throw new TypeError("invalid receiver");return hc(Pe(this,Mn))}with(t,n){if(!Ma(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument");zy(t);const i=zi(n),o=Pe(this,Mn),c=Es(o,["day","month","monthCode","year"]);let a=Ui(this,c,[]);return a=Ih(o,a,Ui(t,c,"partial")),a=Ui(a,c,[]),qy(o,a,i)}equals(t){if(!Ma(this))throw new TypeError("invalid receiver");const n=E3(t);for(const i of[Mr,Ar,_r])if(Pe(this,i)!==Pe(n,i))return!1;return Jy(Pe(this,Mn),Pe(n,Mn))}toString(t){if(!Ma(this))throw new TypeError("invalid receiver");return vS(this,Nb(zi(t)))}toJSON(){if(!Ma(this))throw new TypeError("invalid receiver");return vS(this)}toLocaleString(t,n){if(!Ma(this))throw new TypeError("invalid receiver");return new Of(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!Ma(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("argument should be an object");const n=Pe(this,Mn),i=Es(n,["day","monthCode"]),o=Ui(this,i,[]),c=Es(n,["year"]);let a=Ih(n,o,Ui(t,c,[]));a=Ui(a,[...new Set([...i,...c])],[]);const u=Ld(null);return u.overflow="reject",kh(n,a,u)}getISOFields(){if(!Ma(this))throw new TypeError("invalid receiver");return{calendar:Pe(this,Mn),isoDay:Pe(this,Ar),isoMonth:Pe(this,Mr),isoYear:Pe(this,_r)}}getCalendar(){if(!Ma(this))throw new TypeError("invalid receiver");return Lm(Pe(this,Mn))}static from(t,n){const i=zi(n);return Ma(t)?(js(i),jb(Pe(t,Mr),Pe(t,Ar),Pe(t,Mn),Pe(t,_r))):E3(t,i)}}Pu(Up,"Temporal.PlainMonthDay");const eA=()=>new(rr("%Temporal.Instant%"))(tE()),f6=(r,t=Rh())=>{const n=Zs(t),i=ul(r);return pc(n,eA(),i)},h6=(r=Rh())=>pc(Zs(r),eA(),"iso8601"),x4=(r,t=Rh())=>{const n=Zs(t),i=ul(r);return ca(tE(),n,i)},dg={instant:eA,plainDateTime:f6,plainDateTimeISO:h6,plainDate:(r,t=Rh())=>za(f6(r,t)),plainDateISO:(r=Rh())=>za(h6(r)),plainTimeISO:(r=Rh())=>V1(h6(r)),timeZoneId:()=>Rh(),zonedDateTime:x4,zonedDateTimeISO:(r=Rh())=>x4("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(dg,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const M4=Object.assign;function cE(r,t,n){let i=Pe(r,Si),o=Pe(r,Ci),c=Pe(r,Ai),a=Pe(r,ui),u=Pe(r,vi),U=Pe(r,bi);if(n){const{unit:P,increment:b,roundingMode:K}=n;({hour:i,minute:o,second:c,millisecond:a,microsecond:u,nanosecond:U}=Yb(i,o,c,a,u,U,b,P,K))}return`${Oo(i)}:${Oo(o)}${H1(c,a,u,U,t)}`}class Jm{constructor(t=0,n=0,i=0,o=0,c=0,a=0){const u=void 0===t?0:qi(t),U=void 0===n?0:qi(n),P=void 0===i?0:qi(i),b=void 0===o?0:qi(o),K=void 0===c?0:qi(c),_e=void 0===a?0:qi(a);Y1(u,U,P,b,K,_e),Gl(this),Oi(this,Si,u),Oi(this,Ci,U),Oi(this,Ai,P),Oi(this,ui,b),Oi(this,vi,K),Oi(this,bi,_e)}get hour(){if(!ho(this))throw new TypeError("invalid receiver");return Pe(this,Si)}get minute(){if(!ho(this))throw new TypeError("invalid receiver");return Pe(this,Ci)}get second(){if(!ho(this))throw new TypeError("invalid receiver");return Pe(this,Ai)}get millisecond(){if(!ho(this))throw new TypeError("invalid receiver");return Pe(this,ui)}get microsecond(){if(!ho(this))throw new TypeError("invalid receiver");return Pe(this,vi)}get nanosecond(){if(!ho(this))throw new TypeError("invalid receiver");return Pe(this,bi)}with(t,n){if(!ho(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument");zy(t);const i=js(zi(n)),o=N1(t,"partial"),c=N1(this);let{hour:a,minute:u,second:U,millisecond:P,microsecond:b,nanosecond:K}=M4(c,o);return({hour:a,minute:u,second:U,millisecond:P,microsecond:b,nanosecond:K}=Bb(a,u,U,P,b,K,i)),new Jm(a,u,U,P,b,K)}add(t){if(!ho(this))throw new TypeError("invalid receiver");return US("add",this,t)}subtract(t){if(!ho(this))throw new TypeError("invalid receiver");return US("subtract",this,t)}until(t,n){if(!ho(this))throw new TypeError("invalid receiver");return OS("until",this,t,n)}since(t,n){if(!ho(this))throw new TypeError("invalid receiver");return OS("since",this,t,n)}round(t){if(!ho(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Op("smallestUnit",t):zi(t),i=Hy(n),o=Zl(n,"halfExpand"),c=Bd(n,"smallestUnit","time",Rm);Wy(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c],!1);let a=Pe(this,Si),u=Pe(this,Ci),U=Pe(this,Ai),P=Pe(this,ui),b=Pe(this,vi),K=Pe(this,bi);return({hour:a,minute:u,second:U,millisecond:P,microsecond:b,nanosecond:K}=Yb(a,u,U,P,b,K,i,c,o)),new Jm(a,u,U,P,b,K)}equals(t){if(!ho(this))throw new TypeError("invalid receiver");const n=Mf(t);for(const i of[Si,Ci,Ai,ui,vi,bi])if(Pe(this,i)!==Pe(n,i))return!1;return!0}toString(t){if(!ho(this))throw new TypeError("invalid receiver");const n=zi(t),i=Ub(n),o=Zl(n,"trunc"),c=Bd(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:a,unit:u,increment:U}=Lb(c,i);return cE(this,a,{unit:u,increment:U,roundingMode:o})}toJSON(){if(!ho(this))throw new TypeError("invalid receiver");return cE(this,"auto")}toLocaleString(t,n){if(!ho(this))throw new TypeError("invalid receiver");return new Of(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!ho(this))throw new TypeError("invalid receiver");const n=po(t),i=Pe(n,_r),o=Pe(n,Mr),c=Pe(n,Ar),a=Pe(n,Mn);return sd(i,o,c,Pe(this,Si),Pe(this,Ci),Pe(this,Ai),Pe(this,ui),Pe(this,vi),Pe(this,bi),a)}toZonedDateTime(t){if(!ho(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=po(n),o=t.timeZone;if(void 0===o)throw new TypeError("missing timeZone property");const c=Zs(o),a=Pe(i,_r),u=Pe(i,Mr),U=Pe(i,Ar),P=Pe(i,Mn),b=Pe(this,Si),K=Pe(this,Ci),_e=Pe(this,Ai),Te=Pe(this,ui),Se=Pe(this,vi),Re=Pe(this,bi);return ca(Pe(Sa(c,new(rr("%Temporal.PlainDateTime%"))(a,u,U,b,K,_e,Te,Se,Re,P),"compatible"),Wr),c,P)}getISOFields(){if(!ho(this))throw new TypeError("invalid receiver");return{isoHour:Pe(this,Si),isoMicrosecond:Pe(this,vi),isoMillisecond:Pe(this,ui),isoMinute:Pe(this,Ci),isoNanosecond:Pe(this,bi),isoSecond:Pe(this,Ai)}}static from(t,n){const i=js(zi(n));return ho(t)?new Jm(Pe(t,Si),Pe(t,Ci),Pe(t,Ai),Pe(t,ui),Pe(t,vi),Pe(t,bi)):Mf(t,i)}static compare(t,n){const i=Mf(t),o=Mf(n);for(const c of[Si,Ci,Ai,ui,vi,bi]){const a=Pe(i,c),u=Pe(o,c);if(a!==u)return Pp(a-u)}return 0}}Pu(Jm,"Temporal.PlainTime");class lg{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=I3(t);Gl(this),Oi(this,wf,n)}get id(){if(!xl(this))throw new TypeError("invalid receiver");return Pe(this,wf)}getOffsetNanosecondsFor(t){if(!xl(this))throw new TypeError("invalid receiver");const n=Jl(t),i=Pe(this,wf);return Qy(i)?Km(i):Tp(i,Pe(n,Wr))}getOffsetStringFor(t){if(!xl(this))throw new TypeError("invalid receiver");return pS(this,Jl(t))}getPlainDateTimeFor(t,n="iso8601"){if(!xl(this))throw new TypeError("invalid receiver");return pc(this,Jl(t),ul(n))}getInstantFor(t,n){if(!xl(this))throw new TypeError("invalid receiver");return Sa(this,Ep(t),Om(zi(n)))}getPossibleInstantsFor(t){if(!xl(this))throw new TypeError("invalid receiver");const n=Ep(t),i=rr("%Temporal.Instant%"),o=Pe(this,wf);if(Qy(o)){const a=Uu(Pe(n,_r),Pe(n,Mr),Pe(n,Ar),Pe(n,Si),Pe(n,Ci),Pe(n,Ai),Pe(n,ui),Pe(n,vi),Pe(n,bi));if(null===a)throw new RangeError("DateTime outside of supported range");const u=Km(o);return[new i(pt.subtract(a,pt.BigInt(u)))]}return function(u,U,P,b,K,_e,Te,Se,Re,Ge){const ct=Uu(U,P,b,K,_e,Te,Se,Re,Ge);if(null===ct)throw new RangeError("DateTime outside of supported range");let Xe=pt.subtract(ct,Bu);pt.lessThan(Xe,Ky)&&(Xe=ct);let Je=pt.add(ct,Bu);pt.greaterThan(Je,Th)&&(Je=ct);const lt=Tp(u,Xe),Et=Tp(u,Je);return(lt===Et?[lt]:[lt,Et]).map(wt=>{const Ct=pt.subtract(ct,pt.BigInt(wt)),xt=k3(u,Ct);if(U===xt.year&&P===xt.month&&b===xt.day&&K===xt.hour&&_e===xt.minute&&Te===xt.second&&Se===xt.millisecond&&Re===xt.microsecond&&Ge===xt.nanosecond)return Ct}).filter(wt=>void 0!==wt)}(o,Pe(n,_r),Pe(n,Mr),Pe(n,Ar),Pe(n,Si),Pe(n,Ci),Pe(n,Ai),Pe(n,ui),Pe(n,vi),Pe(n,bi)).map(a=>new i(a))}getNextTransition(t){if(!xl(this))throw new TypeError("invalid receiver");const n=Jl(t),i=Pe(this,wf);if(Qy(i)||"UTC"===i)return null;let o=Pe(n,Wr);const c=rr("%Temporal.Instant%");return o=P3(i,o),null===o?null:new c(o)}getPreviousTransition(t){if(!xl(this))throw new TypeError("invalid receiver");const n=Jl(t),i=Pe(this,wf);if(Qy(i)||"UTC"===i)return null;let o=Pe(n,Wr);const c=rr("%Temporal.Instant%");return o=xS(i,o),null===o?null:new c(o)}toString(){if(!xl(this))throw new TypeError("invalid receiver");return Pe(this,wf)}toJSON(){if(!xl(this))throw new TypeError("invalid receiver");return Pe(this,wf)}static from(t){return Hb(Zs(t))}}Pu(lg,"Temporal.TimeZone"),Ho("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",lg.prototype.getOffsetNanosecondsFor),Ho("Temporal.TimeZone.prototype.getPossibleInstantsFor",lg.prototype.getPossibleInstantsFor);const S4=Object.create;class tA{constructor(t,n,i="iso8601",o=1){M3(this,qi(t),qi(n),ul(i),qi(o))}get year(){if(!to(this))throw new TypeError("invalid receiver");return L1(Pe(this,Mn),this)}get month(){if(!to(this))throw new TypeError("invalid receiver");return F1(Pe(this,Mn),this)}get monthCode(){if(!to(this))throw new TypeError("invalid receiver");return Mp(Pe(this,Mn),this)}get calendarId(){if(!to(this))throw new TypeError("invalid receiver");return hc(Pe(this,Mn))}get era(){if(!to(this))throw new TypeError("invalid receiver");return Zy(Pe(this,Mn),this)}get eraYear(){if(!to(this))throw new TypeError("invalid receiver");return Kb(Pe(this,Mn),this)}get daysInMonth(){if(!to(this))throw new TypeError("invalid receiver");return Sf(Pe(this,Mn),this)}get daysInYear(){if(!to(this))throw new TypeError("invalid receiver");return K1(Pe(this,Mn),this)}get monthsInYear(){if(!to(this))throw new TypeError("invalid receiver");return $1(Pe(this,Mn),this)}get inLeapYear(){if(!to(this))throw new TypeError("invalid receiver");return Ch(Pe(this,Mn),this)}with(t,n){if(!to(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid argument");zy(t);const i=zi(n),o=Pe(this,Mn),c=Es(o,["month","monthCode","year"]);let a=Ui(this,c,[]);return a=Ih(o,a,Ui(t,c,"partial")),a=Ui(a,c,[]),jm(o,a,i)}add(t,n){if(!to(this))throw new TypeError("invalid receiver");return V3("add",this,t,n)}subtract(t,n){if(!to(this))throw new TypeError("invalid receiver");return V3("subtract",this,t,n)}until(t,n){if(!to(this))throw new TypeError("invalid receiver");return K3("until",this,t,n)}since(t,n){if(!to(this))throw new TypeError("invalid receiver");return K3("since",this,t,n)}equals(t){if(!to(this))throw new TypeError("invalid receiver");const n=Xy(t);for(const i of[_r,Mr,Ar])if(Pe(this,i)!==Pe(n,i))return!1;return Jy(Pe(this,Mn),Pe(n,Mn))}toString(t){if(!to(this))throw new TypeError("invalid receiver");return D3(this,Nb(zi(t)))}toJSON(){if(!to(this))throw new TypeError("invalid receiver");return D3(this)}toLocaleString(t,n){if(!to(this))throw new TypeError("invalid receiver");return new Of(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!to(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("argument should be an object");const n=Pe(this,Mn),i=Es(n,["monthCode","year"]),o=Ui(this,i,[]),c=Es(n,["day"]);let a=Ih(n,o,Ui(t,c,[]));a=Ui(a,[...new Set([...i,...c])],[]);const u=S4(null);return u.overflow="reject",kh(n,a,u)}getISOFields(){if(!to(this))throw new TypeError("invalid receiver");return{calendar:Pe(this,Mn),isoDay:Pe(this,Ar),isoMonth:Pe(this,Mr),isoYear:Pe(this,_r)}}getCalendar(){if(!to(this))throw new TypeError("invalid receiver");return Lm(Pe(this,Mn))}static from(t,n){const i=zi(n);return to(t)?(js(i),Nm(Pe(t,_r),Pe(t,Mr),Pe(t,Mn),Pe(t,Ar))):Xy(t,i)}static compare(t,n){const i=Xy(t),o=Xy(n);return Oh(Pe(i,_r),Pe(i,Mr),Pe(i,Ar),Pe(o,_r),Pe(o,Mr),Pe(o,Ar))}}Pu(tA,"Temporal.PlainYearMonth");const A4=Of.prototype.resolvedOptions,nA=Object.create;class dE{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");S3(this,ng(t),Zs(n),ul(i))}get calendarId(){if(!Pr(this))throw new TypeError("invalid receiver");return hc(Pe(this,Mn))}get timeZoneId(){if(!Pr(this))throw new TypeError("invalid receiver");return zb(Pe(this,co))}get year(){if(!Pr(this))throw new TypeError("invalid receiver");return L1(Pe(this,Mn),Go(this))}get month(){if(!Pr(this))throw new TypeError("invalid receiver");return F1(Pe(this,Mn),Go(this))}get monthCode(){if(!Pr(this))throw new TypeError("invalid receiver");return Mp(Pe(this,Mn),Go(this))}get day(){if(!Pr(this))throw new TypeError("invalid receiver");return Sp(Pe(this,Mn),Go(this))}get hour(){if(!Pr(this))throw new TypeError("invalid receiver");return Pe(Go(this),Si)}get minute(){if(!Pr(this))throw new TypeError("invalid receiver");return Pe(Go(this),Ci)}get second(){if(!Pr(this))throw new TypeError("invalid receiver");return Pe(Go(this),Ai)}get millisecond(){if(!Pr(this))throw new TypeError("invalid receiver");return Pe(Go(this),ui)}get microsecond(){if(!Pr(this))throw new TypeError("invalid receiver");return Pe(Go(this),vi)}get nanosecond(){if(!Pr(this))throw new TypeError("invalid receiver");return Pe(Go(this),bi)}get era(){if(!Pr(this))throw new TypeError("invalid receiver");return Zy(Pe(this,Mn),Go(this))}get eraYear(){if(!Pr(this))throw new TypeError("invalid receiver");return Kb(Pe(this,Mn),Go(this))}get epochSeconds(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Pe(this,Wr);return pt.toNumber(Hm(t,Ru))}get epochMilliseconds(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Pe(this,Wr);return pt.toNumber(Hm(t,Od))}get epochMicroseconds(){if(!Pr(this))throw new TypeError("invalid receiver");return Jb(Hm(Pe(this,Wr),eo))}get epochNanoseconds(){if(!Pr(this))throw new TypeError("invalid receiver");return Jb(Pe(this,Wr))}get dayOfWeek(){if(!Pr(this))throw new TypeError("invalid receiver");return uS(Pe(this,Mn),Go(this))}get dayOfYear(){if(!Pr(this))throw new TypeError("invalid receiver");return fS(Pe(this,Mn),Go(this))}get weekOfYear(){if(!Pr(this))throw new TypeError("invalid receiver");return j1(Pe(this,Mn),Go(this))}get yearOfWeek(){if(!Pr(this))throw new TypeError("invalid receiver");return $b(Pe(this,Mn),Go(this))}get hoursInDay(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Go(this),n=rr("%Temporal.PlainDateTime%"),i=Pe(t,_r),o=Pe(t,Mr),c=Pe(t,Ar),a=new n(i,o,c,0,0,0,0,0,0),u=Cp(i,o,c,0,0,0,1,"reject"),U=new n(u.year,u.month,u.day,0,0,0,0,0,0),P=Pe(this,co),b=Pe(Sa(P,a,"compatible"),Wr),K=Pe(Sa(P,U,"compatible"),Wr);return Lu(pt.subtract(K,b),iS)}get daysInWeek(){if(!Pr(this))throw new TypeError("invalid receiver");return Vb(Pe(this,Mn),Go(this))}get daysInMonth(){if(!Pr(this))throw new TypeError("invalid receiver");return Sf(Pe(this,Mn),Go(this))}get daysInYear(){if(!Pr(this))throw new TypeError("invalid receiver");return K1(Pe(this,Mn),Go(this))}get monthsInYear(){if(!Pr(this))throw new TypeError("invalid receiver");return $1(Pe(this,Mn),Go(this))}get inLeapYear(){if(!Pr(this))throw new TypeError("invalid receiver");return Ch(Pe(this,Mn),Go(this))}get offset(){if(!Pr(this))throw new TypeError("invalid receiver");return pS(Pe(this,co),Pe(this,Oa))}get offsetNanoseconds(){if(!Pr(this))throw new TypeError("invalid receiver");return Ql(Pe(this,co),Pe(this,Oa))}with(t,n){if(!Pr(this))throw new TypeError("invalid receiver");if(!Qo(t))throw new TypeError("invalid zoned-date-time-like");zy(t);const i=zi(n),o=Pe(this,Mn);let c=Es(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);c.push("offset");let a=Ui(this,c,["offset"]);a=Ih(o,a,Ui(t,c,"partial")),a=Ui(a,c,["offset"]);const u=Om(i),U=R1(i,"prefer");let{year:P,month:b,day:K,hour:_e,minute:Te,second:Se,millisecond:Re,microsecond:Ge,nanosecond:ct}=Gy(o,a,i);const Xe=Km(a.offset),Je=Pe(this,co);return ca(U1(P,b,K,_e,Te,Se,Re,Ge,ct,"option",Xe,Je,u,U,!1),Je,o)}withPlainDate(t){if(!Pr(this))throw new TypeError("invalid receiver");const n=po(t),i=Pe(n,_r),o=Pe(n,Mr),c=Pe(n,Ar);let a=Pe(n,Mn);const u=Go(this),U=Pe(u,Si),P=Pe(u,Ci),b=Pe(u,Ai),K=Pe(u,ui),_e=Pe(u,vi),Te=Pe(u,bi);a=Fm(Pe(this,Mn),a);const Se=Pe(this,co);return ca(Pe(Sa(Se,new(rr("%Temporal.PlainDateTime%"))(i,o,c,U,P,b,K,_e,Te,a),"compatible"),Wr),Se,a)}withPlainTime(t){if(!Pr(this))throw new TypeError("invalid receiver");const n=rr("%Temporal.PlainTime%"),i=void 0===t?new n:Mf(t),o=Go(this),c=Pe(o,_r),a=Pe(o,Mr),u=Pe(o,Ar),U=Pe(this,Mn),P=Pe(i,Si),b=Pe(i,Ci),K=Pe(i,Ai),_e=Pe(i,ui),Te=Pe(i,vi),Se=Pe(i,bi),Re=Pe(this,co);return ca(Pe(Sa(Re,new(rr("%Temporal.PlainDateTime%"))(c,a,u,P,b,K,_e,Te,Se,U),"compatible"),Wr),Re,U)}withTimeZone(t){if(!Pr(this))throw new TypeError("invalid receiver");const n=Zs(t);return ca(Pe(this,Wr),n,Pe(this,Mn))}withCalendar(t){if(!Pr(this))throw new TypeError("invalid receiver");const n=ul(t);return ca(Pe(this,Wr),Pe(this,co),n)}add(t,n){if(!Pr(this))throw new TypeError("invalid receiver");return LS("add",this,t,n)}subtract(t,n){if(!Pr(this))throw new TypeError("invalid receiver");return LS("subtract",this,t,n)}until(t,n){if(!Pr(this))throw new TypeError("invalid receiver");return $3("until",this,t,n)}since(t,n){if(!Pr(this))throw new TypeError("invalid receiver");return $3("since",this,t,n)}round(t){if(!Pr(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Op("smallestUnit",t):zi(t),i=Hy(n),o=Zl(n,"halfExpand"),c=Bd(n,"smallestUnit","time",Rm,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c];Wy(i,a,1===a);const u=Go(this);let U=Pe(u,_r),P=Pe(u,Mr),b=Pe(u,Ar),K=Pe(u,Si),_e=Pe(u,Ci),Te=Pe(u,Ai),Se=Pe(u,ui),Re=Pe(u,vi),Ge=Pe(u,bi);const ct=rr("%Temporal.PlainDateTime%"),Xe=Pe(this,co),Je=Pe(this,Mn),lt=Sa(Xe,new ct(Pe(u,_r),Pe(u,Mr),Pe(u,Ar),0,0,0,0,0,0),"compatible"),Et=Nd(lt,Xe,Je,0,0,0,1,0,0,0,0,0,0),wt=pt.subtract(Et,pt.BigInt(Pe(lt,Wr)));if(pt.lessThanOrEqual(wt,Uo))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:U,month:P,day:b,hour:K,minute:_e,second:Te,millisecond:Se,microsecond:Re,nanosecond:Ge}=Xb(U,P,b,K,_e,Te,Se,Re,Ge,i,c,o,pt.toNumber(wt))),ca(U1(U,P,b,K,_e,Te,Se,Re,Ge,"option",Ql(Xe,Pe(this,Oa)),Xe,"compatible","prefer",!1),Xe,Pe(this,Mn))}equals(t){if(!Pr(this))throw new TypeError("invalid receiver");const n=Yy(t),i=Pe(this,Wr),o=Pe(n,Wr);return!!pt.equal(pt.BigInt(i),pt.BigInt(o))&&!!Wb(Pe(this,co),Pe(n,co))&&Jy(Pe(this,Mn),Pe(n,Mn))}toString(t){if(!Pr(this))throw new TypeError("invalid receiver");const n=zi(t),i=Nb(n),o=Ub(n),c=Rp(n,"offset",["auto","never"],"auto"),a=Zl(n,"trunc"),u=Bd(n,"smallestUnit","time",void 0);if("hour"===u)throw new RangeError('smallestUnit must be a time unit other than "hour"');const U=Rp(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:P,unit:b,increment:K}=Lb(u,o);return bS(this,P,i,U,c,{unit:b,increment:K,roundingMode:a})}toLocaleString(t,n){if(!Pr(this))throw new TypeError("invalid receiver");const i=zi(n),o=nA(null);if(_p(o,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===o.year&&void 0===o.month&&void 0===o.day&&void 0===o.weekday&&void 0===o.dateStyle&&void 0===o.hour&&void 0===o.minute&&void 0===o.second&&void 0===o.timeStyle&&void 0===o.dayPeriod&&void 0===o.timeZoneName&&(o.timeZoneName="short");let c=zb(Pe(this,co));if(Qy(c))throw new RangeError("toLocaleString does not support offset string time zones");c=I3(c),o.timeZone=c;const a=new Of(t,o),u=Fr(A4,a,[]).calendar,U=hc(Pe(this,Mn));if("iso8601"!==U&&"iso8601"!==u&&u!==U)throw new RangeError(`cannot format ZonedDateTime with calendar ${U} in locale with calendar ${u}`);return a.format(Pe(this,Oa))}toJSON(){if(!Pr(this))throw new TypeError("invalid receiver");return bS(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Go(this),n=rr("%Temporal.PlainDateTime%"),i=Pe(this,Mn),o=new n(Pe(t,_r),Pe(t,Mr),Pe(t,Ar),0,0,0,0,0,0,i),c=Pe(this,co);return ca(Pe(Sa(c,o,"compatible"),Wr),c,i)}toInstant(){if(!Pr(this))throw new TypeError("invalid receiver");return new(rr("%Temporal.Instant%"))(Pe(this,Wr))}toPlainDate(){if(!Pr(this))throw new TypeError("invalid receiver");return za(Go(this))}toPlainTime(){if(!Pr(this))throw new TypeError("invalid receiver");return V1(Go(this))}toPlainDateTime(){if(!Pr(this))throw new TypeError("invalid receiver");return Go(this)}toPlainYearMonth(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Pe(this,Mn);return jm(t,Ui(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Pe(this,Mn);return qy(t,Ui(this,Es(t,["day","monthCode"]),[]))}getISOFields(){if(!Pr(this))throw new TypeError("invalid receiver");const t=Go(this),n=Pe(this,co);return{calendar:Pe(this,Mn),isoDay:Pe(t,Ar),isoHour:Pe(t,Si),isoMicrosecond:Pe(t,vi),isoMillisecond:Pe(t,ui),isoMinute:Pe(t,Ci),isoMonth:Pe(t,Mr),isoNanosecond:Pe(t,bi),isoSecond:Pe(t,Ai),isoYear:Pe(t,_r),offset:pS(n,Pe(this,Oa)),timeZone:n}}getCalendar(){if(!Pr(this))throw new TypeError("invalid receiver");return Lm(Pe(this,Mn))}getTimeZone(){if(!Pr(this))throw new TypeError("invalid receiver");return Hb(Pe(this,co))}static from(t,n){const i=zi(n);return Pr(t)?(Om(i),R1(i,"reject"),js(i),ca(Pe(t,Wr),Pe(t,co),Pe(t,Mn))):Yy(t,i)}static compare(t,n){const i=Yy(t),o=Yy(n),c=Pe(i,Wr),a=Pe(o,Wr);return pt.lessThan(pt.BigInt(c),pt.BigInt(a))?-1:pt.greaterThan(pt.BigInt(c),pt.BigInt(a))?1:0}}function Go(r){return pc(Pe(r,co),Pe(r,Oa),Pe(r,Mn))}Pu(dE,"Temporal.ZonedDateTime");var Uh=Object.freeze({__proto__:null,Calendar:es,Duration:Np,Instant:eu,Now:dg,PlainDate:cg,PlainDateTime:rw,PlainMonthDay:Up,PlainTime:Jm,PlainYearMonth:tA,TimeZone:lg,ZonedDateTime:dE});const L9=[eu,es,cg,rw,Np,Up,Jm,lg,tA,dE];for(const r of L9){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var rA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class us{static sleep(t){return rA(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return rA(this,void 0,void 0,function*(){yield us.sleep(2)})}static getCurrentTimestamp(){return Uh.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P}=t;return Uh.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:o,hour:c,minute:a,second:u,millisecond:U,microsecond:P}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?Uh.Instant.from(n):Uh.Now.instant(),o=Uh.Duration.from(t);return i.add(o).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{Uh.Instant.from(t)}catch{throw new qt(Yt.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var da=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class io{get message(){if(void 0===this._message.authorization)throw new qt(Yt.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return cr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return cr.isSignedByOwnerDelegate(this._message)}get signer(){return cr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:Ko.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=Ii.getAuthor(t),this._signaturePayload=Ko.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?cr.getSigner(t.authorization.ownerDelegatedGrant):Ko.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=Ko.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=io.getAttesters(t)}static parse(t){return da(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield cr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield cr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield io.validateAttestationIntegrity(n);const i=new io(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,o,c;return da(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new qt(Yt.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new qt(Yt.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new qt(Yt.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new qt(Yt.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const a=null!==(n=t.dataCid)&&void 0!==n?n:yield cc.computeDagPbCidFromBytes(t.data),u=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,U=us.getCurrentTimestamp(),P={interface:Ei.Records,method:Vr.Write,protocol:void 0!==t.protocol?By(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?Ny(t.schema):void 0,tags:t.tags,parentId:io.getRecordIdFromContextId(t.parentContextId),dataCid:a,dataSize:u,dateCreated:null!==(o=t.dateCreated)&&void 0!==o?o:U,messageTimestamp:null!==(c=t.messageTimestamp)&&void 0!==c?c:U,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(P.datePublished=U),dc(P);const b=t.recordId,K=yield cc.computeCid(P),_e=yield io.createAttestation(K,t.attestationSigners),Te=yield io.createEncryptionProperty(P,t.encryptionInput),Se={recordId:b,descriptor:P};void 0!==_e&&(Se.attestation=_e),void 0!==Te&&(Se.encryption=Te);const Re=new io(Se,t.parentContextId);return void 0!==t.signer&&(yield Re.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Re})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,o,c;return da(this,void 0,void 0,function*(){const a=t.recordsWriteMessage,u=yield io.parse(a),U=us.getCurrentTimestamp(),P=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||a.descriptor.published;let b;t.datePublished?b=t.datePublished:P&&(b=a.descriptor.published?a.descriptor.datePublished:U);const K={recipient:a.descriptor.recipient,recordId:a.recordId,dateCreated:a.descriptor.dateCreated,protocol:a.descriptor.protocol,protocolPath:a.descriptor.protocolPath,schema:a.descriptor.schema,parentContextId:Ii.getParentContextFromOfContextId(a.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:U,published:P,datePublished:b,tags:t.tags,data:t.data,dataCid:t.data?void 0:a.descriptor.dataCid,dataSize:t.data?void 0:a.descriptor.dataSize,dataFormat:null!==(o=t.dataFormat)&&void 0!==o?o:a.descriptor.dataFormat,protocolRole:null!==(c=t.protocolRole)&&void 0!==c?c:u.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield io.create(K)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return da(this,void 0,void 0,function*(){this._message.encryption=yield io.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return da(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:o,permissionGrantId:c,protocolRole:a}=t;let u,U;void 0!==o?(u=yield cr.getCid(o),U=Ko.getSignerDid(o.authorization.signature.signatures[0])):U=Ko.extractDid(i.keyId);const P=this._message.descriptor,b=yield cc.computeCid(P);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield io.getEntryId(U,P),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const K=yield io.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:b,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:u,permissionGrantId:c,protocolRole:a});this._message.authorization={signature:K},void 0!==o&&(this._message.authorization.authorDelegatedGrant=o),this._signaturePayload=Ko.decodePlainObjectPayload(K),this._author=U})}signAsOwner(t){return da(this,void 0,void 0,function*(){if(void 0===this._author)throw new qt(Yt.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield cr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=Ko.decodePlainObjectPayload(i),this._owner=Ko.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return da(this,void 0,void 0,function*(){if(void 0===this._author)throw new qt(Yt.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield cr.getCid(n),o=this._message.descriptor,c=yield cr.createSignature(o,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=c,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=Ko.decodePlainObjectPayload(c),this._owner=Ko.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return da(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,o=this.message.descriptor.messageTimestamp;if(o!==i)throw new qt(Yt.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${o} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const c=yield this.getEntryId();if(this.message.contextId!==c)throw new qt(Yt.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${c}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new qt(Yt.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new qt(Yt.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield Ii.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield cc.computeCid(this.message.attestation),o=n.attestationCid;if(o!==i)throw new qt(Yt.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${o}`)}if(void 0!==n.encryptionCid){const i=yield cc.computeCid(this.message.encryption),o=n.encryptionCid;if(o!==i)throw new qt(Yt.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${o}`)}void 0!==this.message.descriptor.protocol&&Tm(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&_s(this.message.descriptor.schema),us.validateTimestamp(this.message.descriptor.messageTimestamp),us.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&us.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return da(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new qt(Yt.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=Ko.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,o=yield cc.computeCid(t.descriptor);if(i!==o)throw new qt(Yt.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${o}`);const c=Object.keys(n).length;if(c>1)throw new qt(Yt.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${c} properties.`)})}getEntryId(){return da(this,void 0,void 0,function*(){return yield io.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return da(this,void 0,void 0,function*(){if(void 0===t)throw new qt(Yt.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield cc.computeCid(i)})}isInitialWrite(){return da(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return da(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:o}=i,c=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i,["tags"]);delete c.published;let a=Object.assign(Object.assign({},c),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield io.getEntryId(this.author,this.message.descriptor)});if(void 0!==o&&!0===t){const u=Ii.buildTagIndexes(Object.assign({},o));a=Object.assign(Object.assign({},a),u)}return this.attesters.length>0&&(a.attester=this.attesters[0]),void 0!==n.contextId&&(a.contextId=n.contextId),a})}authorizeAuthorDelegate(t){return da(this,void 0,void 0,function*(){const n=yield oa.parse(this.message.authorization.authorDelegatedGrant);yield od.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return da(this,void 0,void 0,function*(){const n=yield oa.parse(this.message.authorization.ownerDelegatedGrant);yield od.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return da(this,void 0,void 0,function*(){if(t.descriptor.interface!==Ei.Records||t.descriptor.method!==Vr.Write)return!1;const n=t,i=Ii.getAuthor(n);return(yield io.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,o;return da(this,void 0,void 0,function*(){if(void 0===n)return;const c=[];for(const u of n.keyEncryptionInputs){if(u.derivationScheme===Hl.ProtocolPath&&void 0===t.protocol)throw new qt(Yt.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(u.derivationScheme===Hl.Schemas&&void 0===t.schema)throw new qt(Yt.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const U=Qi.publicJwkToBytes(u.publicKey),P=yield Sm.eciesSecp256k1Encrypt(U,n.key),b=he.bytesToBase64Url(P.ciphertext),K=yield Qi.publicKeyToJwk(P.ephemeralPublicKey),_e=he.bytesToBase64Url(P.initializationVector),Te=he.bytesToBase64Url(P.messageAuthenticationCode),Se={rootKeyId:u.publicKeyId,algorithm:null!==(i=u.algorithm)&&void 0!==i?i:Sb.EciesSecp256k1,derivationScheme:u.derivationScheme,ephemeralPublicKey:K,initializationVector:_e,messageAuthenticationCode:Te,encryptedKey:b};u.derivationScheme===Hl.ProtocolContext&&(Se.derivedPublicKey=u.publicKey),c.push(Se)}return{algorithm:null!==(o=n.algorithm)&&void 0!==o?o:Sb.Aes256Ctr,initializationVector:he.bytesToBase64Url(n.initializationVector),keyEncryption:c}})}static createAttestation(t,n){return da(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const o=he.objectToBytes({descriptorCid:t});return(yield Oy.create(o,n)).getJws()})}static createSignerSignature(t){return da(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:o,attestation:c,encryption:a,signer:u,delegatedGrantId:U,permissionGrantId:P,protocolRole:b}=t,Te={recordId:n,descriptorCid:o,contextId:i,attestationCid:c?yield cc.computeCid(c):void 0,encryptionCid:a?yield cc.computeCid(a):void 0,delegatedGrantId:U,permissionGrantId:P,protocolRole:b};dc(Te);const Se=he.objectToBytes(Te);return(yield Oy.create(Se,[u])).getJws()})}static getInitialWrite(t){return da(this,void 0,void 0,function*(){for(const n of t)if(yield io.isInitialWrite(n))return n;throw new qt(Yt.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let o=[];o.push(...Object.keys(t.descriptor)),o.push(...Object.keys(n.descriptor)),o=[...new Set(o)];for(const c of o)if(-1===i.indexOf(c)){const a=t.descriptor[c],u=n.descriptor[c];if(u!==a)throw new qt(Yt.RecordsWriteImmutablePropertyChanged,`${c} is an immutable property: cannot change '${a}' to '${u}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(a=>Ko.getSignerDid(a))}static fetchInitialRecordsWrite(t,n,i){return da(this,void 0,void 0,function*(){const o={entryId:i},{messages:c}=yield t.query(n,[o]);return 0===c.length?void 0:yield io.parse(c[0])})}}var iA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function Al(r,t){return iA(this,void 0,void 0,function*(){if(void 0===r)throw new qt(Yt.AuthenticateJwsMissing,"Missing JWS.");if(yield lf.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield lf.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield io.parse(r.authorDelegatedGrant);yield lf.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield io.parse(r.ownerDelegatedGrant);yield lf.verifySignatures(n.message.authorization.signature,t)}})}function lE(r,t){return iA(this,void 0,void 0,function*(){if(t.author!==r)throw new qt(Yt.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}class D4{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class Rf{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=cr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?cr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=Ko.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var uE=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class fg extends Rf{static parse(t){return uE(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===lc.PublishedAscending||t.descriptor.dateSort===lc.PublishedDescending))throw new qt(Yt.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Ii.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new qt(Yt.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&Tm(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&_s(t.descriptor.filter.schema),us.validateTimestamp(t.descriptor.messageTimestamp),new fg(t)})}static create(t){var n;return uE(this,void 0,void 0,function*(){const i={interface:Ei.Records,method:Vr.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp(),filter:Ii.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===lc.PublishedAscending||t.dateSort===lc.PublishedDescending))throw new qt(Yt.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);dc(i);const o=t.signer;let c;o&&(c=yield cr.createAuthorization({descriptor:i,signer:o,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const a={descriptor:i,authorization:c};return cr.validateJsonSchema(a),new fg(a)})}authorizeDelegate(t){return uE(this,void 0,void 0,function*(){const n=yield oa.parse(this.message.authorization.authorDelegatedGrant);yield od.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var m6=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Lh{static toBytes(t){return m6(this,void 0,void 0,function*(){return new Promise((n,i)=>{const o=[];t.on("data",c=>{o.push(c)}),t.on("end",()=>{const c=Lh.concatenateArrayOfBytes(o);n(c)}),t.on("error",i)})})}static toObject(t){return m6(this,void 0,void 0,function*(){const n=yield Lh.toBytes(t);return he.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((c,a)=>c+a.length,0),i=new Uint8Array(n);let o=0;for(const c of t)i.set(c,o),o+=c.length;return i}static fromBytes(t){let i=0;return new Mb.Readable({read(c){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=he.objectToBytes(t);return Lh.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let o=0;o<n;o++){const c=new Mb.PassThrough;t.pipe(c),i.push(c)}return i}}var oA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class iw extends Rf{static parse(t){return oA(this,void 0,void 0,function*(){return cr.validateJsonSchema(t),yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor),us.validateTimestamp(t.descriptor.messageTimestamp),new iw(t)})}static create(t){var n;return oA(this,void 0,void 0,function*(){const i={interface:Ei.Events,method:Vr.Get,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp()};t.cursor&&(i.cursor=t.cursor);const c={descriptor:i,authorization:yield cr.createAuthorization({descriptor:i,signer:t.signer})};return cr.validateJsonSchema(c),new iw(c)})}}function Xo(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class I4{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield iw.parse(n)}catch(u){return Xo(u,400)}try{yield Al(n.authorization,this.didResolver),yield lE(t,i)}catch(u){return Xo(u,401)}const{cursor:o}=n.descriptor,{events:c,cursor:a}=yield this.eventLog.getEvents(t,o);return{status:{code:200,detail:"OK"},entries:c,cursor:a}})}}class fE{static normalizeFilters(t){const n=[];for(const i of t){let o;o=this.isRecordsFilter(i)?Ii.normalizeFilter(i):i,dc(o),E1(o)||n.push(o)}return n}static convertFilters(t){const n=[];for(const i of t)this.isRecordsFilter(i)?n.push(Ii.convertFilter(i)):n.push(this.convertFilter(i));return n}static convertFilter(t){const n=Object.assign({},t),{dateUpdated:i}=t,o=i?$a.convertRangeCriterion(i):void 0;return o&&(n.messageTimestamp=o,delete n.dateUpdated),n}static isRecordsFilter(t){return"author"in t||"dateCreated"in t||"dataFormat"in t||"dataSize"in t||"parentId"in t||"recordId"in t||"schema"in t||"protocol"in t||"protocolPath"in t||"recipient"in t}}var sA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class hg extends Rf{static parse(t){return sA(this,void 0,void 0,function*(){cr.validateJsonSchema(t),yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&Tm(n.protocol),"schema"in n&&void 0!==n.schema&&_s(n.schema);return new hg(t)})}static create(t){var n;return sA(this,void 0,void 0,function*(){const i={interface:Ei.Events,method:Vr.Query,filters:fE.normalizeFilters(t.filters),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp(),cursor:t.cursor};dc(i);const c={descriptor:i,authorization:yield cr.createAuthorization({descriptor:i,signer:t.signer})};return cr.validateJsonSchema(c),new hg(c)})}}class C4{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield hg.parse(n)}catch(u){return Xo(u,400)}try{yield Al(n.authorization,this.didResolver),yield lE(t,i)}catch(u){return Xo(u,401)}const o=fE.convertFilters(n.descriptor.filters),{events:c,cursor:a}=yield this.eventLog.queryEvents(t,o,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:c,cursor:a}})}}var v6=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class hE extends Rf{static parse(t){return v6(this,void 0,void 0,function*(){cr.validateJsonSchema(t),yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&Tm(n.protocol),"schema"in n&&void 0!==n.schema&&_s(n.schema);return us.validateTimestamp(t.descriptor.messageTimestamp),new hE(t)})}static create(t){var n,i;return v6(this,void 0,void 0,function*(){const o=us.getCurrentTimestamp(),c={interface:Ei.Events,method:Vr.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:o};dc(c);const u={descriptor:c,authorization:yield cr.createAuthorization({descriptor:c,signer:t.signer})};return cr.validateJsonSchema(u),new hE(u)})}}class F9{constructor(t,n){this.didResolver=t,this.eventStream=n}handle({tenant:t,message:n,subscriptionHandler:i}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Xo(new qt(Yt.EventsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let o;try{o=yield hE.parse(n)}catch(b){return Xo(b,400)}try{yield Al(n.authorization,this.didResolver),yield lE(t,o)}catch(b){return Xo(b,401)}const{filters:c}=n.descriptor,a=fE.convertFilters(c),u=yield cr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,u,(b,K,_e)=>{t===b&&$a.matchAnyFilter(_e,a)&&i(K)})}})}}var k4=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class ow extends Rf{static parse(t){return k4(this,void 0,void 0,function*(){return cr.validateJsonSchema(t),this.validateMessageCids(t.descriptor.messageCids),yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor),us.validateTimestamp(t.descriptor.messageTimestamp),new ow(t)})}static create(t){var n;return k4(this,void 0,void 0,function*(){const i={interface:Ei.Messages,method:Vr.Get,messageCids:t.messageCids,messageTimestamp:null!==(n=t?.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp()},c={descriptor:i,authorization:yield cr.createAuthorization({descriptor:i,signer:t.signer})};return cr.validateJsonSchema(c),ow.validateMessageCids(t.messageCids),new ow(c)})}static validateMessageCids(t){for(const n of t)try{cc.parseCid(n)}catch{throw new qt(Yt.MessageGetInvalidCid,`${n} is not a valid CID`)}}}class K9{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield ow.parse(n)}catch(u){return Xo(u,400)}try{yield Al(n.authorization,this.didResolver),yield lE(t,i)}catch(u){return Xo(u,401)}const o=[],c=new Set(n.descriptor.messageCids);for(const u of c){const U=this.messageStore.get(t,u).then(P=>({messageCid:u,message:P})).catch(P=>({messageCid:u,message:void 0,error:`Failed to get message ${u}`}));o.push(U)}const a=yield Promise.all(o);for(const u of a){const{message:U}=u;if(!U)continue;const{interface:P,method:b}=U.descriptor;if(P!==Ei.Records||b!==Vr.Write)continue;const K=U;void 0!==K.encodedData&&(u.encodedData=K.encodedData,delete K.encodedData)}return{status:{code:200,detail:"OK"},entries:a}})}}var P4=E(20844),sw=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(sw||{}),mc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(mc||{}),aA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class nu extends Rf{static parse(t){return aA(this,void 0,void 0,function*(){return cr.validateJsonSchema(t),nu.validateProtocolDefinition(t.descriptor.definition),yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor),us.validateTimestamp(t.descriptor.messageTimestamp),new nu(t)})}static create(t){var n;return aA(this,void 0,void 0,function*(){const i={interface:Ei.Protocols,method:Vr.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp(),definition:nu.normalizeDefinition(t.definition)},c={descriptor:i,authorization:yield cr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return cr.validateJsonSchema(c),nu.validateProtocolDefinition(c.descriptor.definition),new nu(c)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;Tm(n);for(const o in i){const c=i[o].schema;void 0!==c&&_s(c)}nu.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=nu.fetchAllRolePathsRecursively("",t.structure,[]);nu.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new qt(Yt.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const o in n){if(o.startsWith("$"))continue;const c=n[o];let a;a=""===t?o:`${t}/${o}`,c.$role?i.push(a):nu.fetchAllRolePathsRecursively(a,c,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:o,recordTypes:c,roles:a}=t;if(void 0!==i.$size){const{min:U=0,max:P}=i.$size;if(void 0!==P&&P<U)throw new qt(Yt.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${P} less than min limit ${U} at protocol path '${o}'`)}if(i.$tags){const U=new P4.default,_e=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Te in _e)if(!U.validateSchema(_e[Te])){const Re=U.errorsText(U.errors,{dataVar:`${o}/$tags/${Te}`});throw new qt(Yt.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Re}`)}}const u=null!==(n=i.$actions)&&void 0!==n?n:[];for(let U=0;U<u.length;U++){const P=u[U];if(void 0!==P.role&&!a.includes(P.role))throw new qt(Yt.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(P)} for rule set ${o} does not exist.`);if("anyone"===P.who&&P.of)throw new qt(Yt.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${o})`);if(P.who===sw.Recipient&&void 0===P.of&&P.can.some(K=>![mc.CoUpdate,mc.CoDelete,mc.CoPrune].includes(K)))throw new qt(Yt.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(P.who===sw.Author&&!P.of)throw new qt(Yt.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==P.can){if(P.can.includes(mc.Update)&&!P.can.includes(mc.Create))throw new qt(Yt.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(P)} contains 'update' action but missing the required 'create' action.`);if(P.can.includes(mc.Delete)&&!P.can.includes(mc.Create))throw new qt(Yt.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(P)} contains 'delete' action but missing the required 'create' action.`)}for(let b=U+1;b<u.length;b++){const K=u[b];if(void 0!==P.who){if(P.who===K.who&&P.of===K.of)throw new qt(Yt.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${P.who} of ${P.of} not allowed within a rule set: ${JSON.stringify(P)}`)}else if(P.role===K.role)throw new qt(Yt.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${P.role} not allowed within a rule set: ${JSON.stringify(P)}`)}}for(const U in i){if(U.startsWith("$"))continue;if(!c.includes(U))throw new qt(Yt.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${U} is not declared as an allowed type in the protocol definition.`);let b;b=""===o?U:`${o}/${U}`,nu.validateRuleSetRecursively({ruleSet:i[U],ruleSetProtocolPath:b,recordTypes:c,roles:a})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const o=n[i].schema;void 0!==o&&(n[i].schema=Ny(o))}return Object.assign(Object.assign({},t),{protocol:By(t.protocol),types:n})}}class qm{constructor(t,n,i,o){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=o}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield nu.parse(n)}catch(b){return Xo(b,400)}try{yield Al(n.authorization,this.didResolver),yield lE(t,i)}catch(b){return Xo(b,401)}const o={interface:Ei.Protocols,method:Vr.Configure,protocol:n.descriptor.definition.protocol},{messages:c}=yield this.messageStore.query(t,[o]);let U,a=yield cr.getNewestMessage(c),u=!1;if((void 0===a||(yield cr.isNewer(n,a)))&&(u=!0,a=n),u){const b=qm.constructIndexes(i);yield this.messageStore.put(t,n,b);const K=yield cr.getCid(n);yield this.eventLog.append(t,K,b),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},b),U={status:{code:202,detail:"Accepted"}}}else U={status:{code:409,detail:"Conflict"}};const P=[];for(const b of c)if(yield cr.isNewer(a,b)){const K=yield cr.getCid(b);P.push(K),yield this.messageStore.delete(t,K)}return yield this.eventLog.deleteEventsByCid(t,P),U})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["definition"]),{author:c}=t;return Object.assign(Object.assign({},o),{author:c,protocol:i.protocol,published:i.published})}}var Qm=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Yo{static parseRequest(t){return he.base64UrlToObject(t)}static createRequest(t){return Qm(this,void 0,void 0,function*(){const n=Yo.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},o=he.objectToBytes(i);return{recordsWrite:yield io.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:Yo.uri,protocolPath:Yo.requestPath,dataFormat:"application/json",data:o}),permissionRequestData:i,permissionRequestBytes:o}})}static createGrant(t){return Qm(this,void 0,void 0,function*(){const n=Yo.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},o=he.objectToBytes(i),c=yield io.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:Yo.uri,protocolPath:Yo.grantPath,dataFormat:"application/json",data:o});return{recordsWrite:c,permissionGrantData:i,permissionGrantBytes:o,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:he.bytesToBase64Url(o)})}})}static createRevocation(t){return Qm(this,void 0,void 0,function*(){const n={description:t.description},i=he.objectToBytes(n);return{recordsWrite:yield io.create({signer:t.signer,parentContextId:t.grantId,protocol:Yo.uri,protocolPath:Yo.revocationPath,dataFormat:"application/json",data:i}),permissionRevocationData:n,permissionRevocationBytes:i}})}static validateSchema(t,n){const i=he.bytesToString(n),o=JSON.parse(i);if(t.descriptor.protocolPath===Yo.requestPath)sm("PermissionRequestData",o);else if(t.descriptor.protocolPath===Yo.grantPath){sm("PermissionGrantData",o);const c=o;Yo.validateScope(c.scope),us.validateTimestamp(c.dateExpires)}else{if(t.descriptor.protocolPath!==Yo.revocationPath)throw new qt(Yt.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);sm("PermissionRevocationData",o)}}static fetchGrant(t,n,i){return Qm(this,void 0,void 0,function*(){const o={recordId:i,isLatestBaseState:!0},{messages:c}=yield n.query(t,[o]),a=c[0],u=a?.descriptor.interface,U=a?.descriptor.method;if(u!==Ei.Records||U!==Vr.Write||a.descriptor.protocolPath!==Yo.grantPath)throw new qt(Yt.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const P=a;return yield oa.parse(P)})}static normalizePermissionScope(t){const n=Object.assign({},t);return Yo.isRecordPermissionScope(n)&&(void 0!==n.protocol&&(n.protocol=By(n.protocol)),void 0!==n.schema&&(n.schema=Ny(n.schema))),n}static isRecordPermissionScope(t){return"Records"===t.interface}static validateScope(t){if(this.isRecordPermissionScope(t)){if(void 0!==t.schema&&(void 0!==t.protocol||void 0!==t.contextId||t.protocolPath))throw new qt(Yt.PermissionsProtocolValidateScopeSchemaProhibitedProperties,"Permission grants that have `schema` present cannot also have protocol-related properties present");if(void 0!==t.protocol&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new qt(Yt.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}}Yo.uri="https://tbd.website/dwn/permissions",Yo.requestPath="request",Yo.grantPath="grant",Yo.revocationPath="grant/revocation",Yo.definition={published:!0,protocol:Yo.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};var cA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class pg extends Rf{static parse(t){return cA(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&Tm(t.descriptor.filter.protocol),us.validateTimestamp(t.descriptor.messageTimestamp),new pg(t)})}static create(t){var n;return cA(this,void 0,void 0,function*(){const i={interface:Ei.Protocols,method:Vr.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp(),filter:t.filter?pg.normalizeFilter(t.filter):void 0};let o;dc(i),void 0!==t.signer&&(o=yield cr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const c={descriptor:i,authorization:o};return cr.validateJsonSchema(c),new pg(c)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:By(t.protocol)})}authorize(t,n){return cA(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new qt(Yt.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield Yo.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield Wl.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var _6=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class R4{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return _6(this,void 0,void 0,function*(){let i;try{i=yield pg.parse(n)}catch(a){return Xo(a,400)}try{yield Al(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(a){return a.code===Yt.AuthenticateJwsMissing||a.code===Yt.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:Xo(a,401)}const o=Object.assign(Object.assign({},n.descriptor.filter),{interface:Ei.Protocols,method:Vr.Configure});dc(o);const{messages:c}=yield this.messageStore.query(t,[o]);return{status:{code:200,detail:"OK"},entries:c}})}fetchPublishedProtocolsConfigure(t,n){return _6(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Ei.Protocols,method:Vr.Configure,published:!0}),{messages:o}=yield this.messageStore.query(t,[i]);return o})}}var fl=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Ki{static validateReferentialIntegrity(t,n,i){return fl(this,void 0,void 0,function*(){const o=yield Ki.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);Ki.verifyType(n.message,o.types),yield Ki.verifyProtocolPathAndContextId(t,n,i);const c=Ki.getRuleSet(n.message.descriptor.protocolPath,o);yield Ki.verifyAsRoleRecordIfNeeded(t,n,c,i),Ki.verifySizeLimit(n,c),Ki.verifyTagsIfNeeded(n,c)})}static authorizeWrite(t,n,i){return fl(this,void 0,void 0,function*(){let c;c=void 0===(yield Ki.fetchInitialWrite(t,n.message.recordId,i))?yield Ki.constructRecordChain(t,n.message.descriptor.parentId,i):yield Ki.constructRecordChain(t,n.message.recordId,i);const a=yield Ki.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),u=Ki.getRuleSet(n.message.descriptor.protocolPath,a);yield Ki.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,a,i),yield Ki.authorizeAgainstAllowedActions(t,n,u,c,i)})}static authorizeRead(t,n,i,o){return fl(this,void 0,void 0,function*(){const c=yield Ki.constructRecordChain(t,i.message.recordId,o),a=yield Ki.fetchProtocolDefinition(t,i.message.descriptor.protocol,o),u=Ki.getRuleSet(i.message.descriptor.protocolPath,a);yield Ki.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,a,o),yield Ki.authorizeAgainstAllowedActions(t,n,u,c,o)})}static authorizeQueryOrSubscribe(t,n,i){return fl(this,void 0,void 0,function*(){const{protocol:o,protocolPath:c,contextId:a}=n.message.descriptor.filter,u=yield Ki.fetchProtocolDefinition(t,o,i),U=Ki.getRuleSet(c,u);yield Ki.verifyInvokedRole(t,n,o,a,u,i),yield Ki.authorizeAgainstAllowedActions(t,n,U,[],i)})}static authorizeDelete(t,n,i,o){return fl(this,void 0,void 0,function*(){const c=yield Ki.constructRecordChain(t,n.message.descriptor.recordId,o),a=yield Ki.fetchProtocolDefinition(t,i.message.descriptor.protocol,o),u=Ki.getRuleSet(i.message.descriptor.protocolPath,a);yield Ki.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,a,o),yield Ki.authorizeAgainstAllowedActions(t,n,u,c,o)})}static fetchProtocolDefinition(t,n,i){return fl(this,void 0,void 0,function*(){if(n===Yo.uri)return Yo.definition;const o={interface:Ei.Protocols,method:Vr.Configure,protocol:n},{messages:c}=yield i.query(t,[o]);if(0===c.length)throw new qt(Yt.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return c[0].descriptor.definition})}static constructRecordChain(t,n,i){return fl(this,void 0,void 0,function*(){if(void 0===n)return[];const o=[];let c=n;for(;void 0!==c;){const a=yield Ki.fetchInitialWrite(t,c,i);if(void 0===a)throw new qt(Yt.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${c} when constructing record chain.`);o.push(a),c=a.descriptor.parentId}return o.reverse()})}static fetchInitialWrite(t,n,i){return fl(this,void 0,void 0,function*(){const o={interface:Ei.Records,method:Vr.Write,recordId:n},{messages:c}=yield i.query(t,[o]);return 0===c.length?void 0:yield io.getInitialWrite(c)})}static getRuleSet(t,n){const i=Ki.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new qt(Yt.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var o;return fl(this,void 0,void 0,function*(){const c=n.message.descriptor.protocolPath,a=Ki.getTypeName(c),u=n.message.descriptor.parentId;if(void 0===u){if(c!==a)throw new qt(Yt.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${c}' is not valid for records with no parent'.`);return}const P={isLatestBaseState:!0,interface:Ei.Records,method:Vr.Write,protocol:n.message.descriptor.protocol,recordId:u},{messages:b}=yield i.query(t,[P]),K=b[0];if(`${null===(o=K?.descriptor)||void 0===o?void 0:o.protocolPath}/${a}`!==c)throw new qt(Yt.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${c}'.`);const Se=`${K.contextId}/${n.message.recordId}`,Re=n.message.contextId;if(Re!==Se)throw new qt(Yt.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Re}' is not the same as expected: '${Se}'.`)})}static verifyType(t,n){const i=Object.keys(n),c=Ki.getTypeName(t.descriptor.protocolPath);if(!i.includes(c))throw new qt(Yt.ProtocolAuthorizationInvalidType,`record with type ${c} not allowed in protocol`);const u=Ki.getTypeName(t.descriptor.protocolPath),U=n[u],{schema:P}=t.descriptor;if(void 0!==U.schema&&U.schema!==P)throw new qt(Yt.ProtocolAuthorizationInvalidSchema,`type '${u}' must have schema '${U.schema}',         instead has '${P}'`);const{dataFormat:b}=t.descriptor;if(void 0!==U.dataFormats&&!U.dataFormats.includes(b))throw new qt(Yt.ProtocolAuthorizationIncorrectDataFormat,`type '${u}' must have data format in (${U.dataFormats}),         instead has '${b}'`)}static verifyInvokedRole(t,n,i,o,c,a){var u;return fl(this,void 0,void 0,function*(){const U=null===(u=n.signaturePayload)||void 0===u?void 0:u.protocolRole;if(void 0===U)return;const P=Ki.getRuleSetAtProtocolPath(U,c);if(void 0===P||!P.$role)throw new qt(Yt.ProtocolAuthorizationNotARole,`Protocol path ${U} does not match role record type.`);const b={interface:Ei.Records,method:Vr.Write,protocol:i,protocolPath:U,recipient:n.author,isLatestBaseState:!0},K=U.split("/").length-1;if(void 0===o&&K>0)throw new qt(Yt.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(K>0){const Se=o.split("/").slice(0,K).join("/"),Re=$a.constructPrefixFilterAsRangeFilter(Se);b.contextId=Re}const{messages:_e}=yield a.query(t,[b]);if(0===_e.length)throw new qt(Yt.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${U}`)})}static getActionsSeekingARuleMatch(t,n,i){return fl(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case Vr.Delete:const o=n,c=o.message.descriptor.recordId,a=yield io.fetchInitialRecordsWrite(i,t,c);if(void 0===a)return[];const u=[];return o.message.descriptor.prune?(u.push(mc.CoPrune),n.author===a.author&&u.push(mc.Prune)):(u.push(mc.CoDelete),n.author===a.author&&u.push(mc.Delete)),u;case Vr.Query:return[mc.Query];case Vr.Read:return[mc.Read];case Vr.Subscribe:return[mc.Subscribe];case Vr.Write:if(yield n.isInitialWrite())return[mc.Create];{const b=n.message.recordId,K=yield io.fetchInitialRecordsWrite(i,t,b);return void 0===K?[]:n.author===K.author?[mc.CoUpdate,mc.Update]:[mc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,o,c){var a;return fl(this,void 0,void 0,function*(){const u=n.message.descriptor.method,U=yield Ki.getActionsSeekingARuleMatch(t,n,c),P=n.author,b=i.$actions;if(void 0===b)throw new qt(Yt.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${u}, ${P} is unauthorized`);const K=null===(a=n.signaturePayload)||void 0===a?void 0:a.protocolRole;for(const _e of b)if(_e.can.some(Re=>U.includes(Re))){if(_e.who===sw.Anyone)return;if(void 0!==P)if(void 0===K)if(_e.who!==sw.Recipient||void 0!==_e.of){if(yield Ki.checkActor(P,_e,o))return}else{let Re;if(Re=n.message.descriptor.method===Vr.Write?n.message:o[o.length-1],Re.descriptor.recipient===P)return}else if(_e.role===K)return}throw new qt(Yt.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${u} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:o}=n.$size||{},c=t.message.descriptor.dataSize;if(c<i)throw new qt(Yt.ProtocolAuthorizationMinSizeInvalid,`data size ${c} is less than allowed ${i}`);if(void 0!==o&&c>o)throw new qt(Yt.ProtocolAuthorizationMaxSizeInvalid,`data size ${c} is more than allowed ${o}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:o,protocolPath:c}=t.message.descriptor,a=n.$tags,{$allowUndefinedTags:u,$requiredTags:U}=a,P=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(a,["$allowUndefinedTags","$requiredTags"]),b=u||!1,K=U||[],_e=new P4.default,Te=_e.compile({type:"object",properties:P,required:K,additionalProperties:b});if(!Te(i)){const Re=_e.errorsText(Te.errors,{dataVar:`${o}/${c}/$tags`});throw new qt(Yt.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Re}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,o){return fl(this,void 0,void 0,function*(){if(!i.$role)return;const c=n,a=c.message.descriptor.recipient;if(void 0===a)throw new qt(Yt.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const u=c.message.descriptor.protocolPath,U={interface:Ei.Records,method:Vr.Write,isLatestBaseState:!0,protocol:c.message.descriptor.protocol,protocolPath:u,recipient:a},P=Ii.getParentContextFromOfContextId(c.message.contextId);if(""!==P){const Te=$a.constructPrefixFilterAsRangeFilter(P);U.contextId=Te}const{messages:b}=yield o.query(t,[U]);if(b.filter(Te=>Te.recordId!==c.message.recordId).length>0)throw new qt(Yt.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${a}' is already recipient of a role record at protocol path '${u} under the parent context ${P}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let o=n.structure,c=0;for(;c<i.length;){const u=o[i[c]];if(void 0===u)return;o=u,c++}return o}static checkActor(t,n,i){return fl(this,void 0,void 0,function*(){const o=i.find(c=>c.descriptor.protocolPath===n.of);if(void 0===o)return!1;if(n.who===sw.Recipient)return t===o.descriptor.recipient;{const c=(yield io.parse(o)).author;return t===c}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var dA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class aw extends Rf{static parse(t){return dA(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Ii.validateDelegatedGrantReferentialIntegrity(t,n),us.validateTimestamp(t.descriptor.messageTimestamp),new aw(t)})}static create(t){var n,i;return dA(this,void 0,void 0,function*(){const o=t.recordId,c=us.getCurrentTimestamp(),a={interface:Ei.Records,method:Vr.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:c,recordId:o,prune:null!==(i=t.prune)&&void 0!==i&&i},U={descriptor:a,authorization:yield cr.createAuthorization({descriptor:a,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return cr.validateJsonSchema(U),new aw(U)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:o,protocolPath:c,recipient:a,schema:u,parentId:U,dateCreated:P}=t.descriptor,b=Object.assign({protocol:o,protocolPath:c,recipient:a,schema:u,parentId:U,dateCreated:P,contextId:t.contextId,author:this.author},i);return dc(b),b}authorizeDelegate(t,n){return dA(this,void 0,void 0,function*(){const i=yield oa.parse(this.message.authorization.authorDelegatedGrant);yield od.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}let lA=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var pE=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class e0{static deleteFromDataStoreIfNeeded(t,n,i,o){return pE(this,void 0,void 0,function*(){if(i.descriptor.method!==Vr.Write)return;const c=i;c.descriptor.dataSize<=lA.maxDataSizeAllowedToBeEncoded||c.descriptor.dataCid!==o.descriptor.dataCid&&(yield t.delete(n,c.recordId,c.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,o,c){return pE(this,void 0,void 0,function*(){const a={interface:Ei.Records,parentId:n},{messages:u}=yield i.query(t,[a]),U=new Map;for(const P of u){let b;b=Ii.isRecordsWrite(P)?P.recordId:P.descriptor.recordId,U.has(b)||U.set(b,[]),U.get(b).push(P)}for(const P of U.keys())yield e0.purgeRecordDescendants(t,P,i,o,c);for(const P of U.keys())yield e0.purgeRecordMessages(t,U.get(P),i,o,c)})}static purgeRecordMessages(t,n,i,o,c){return pE(this,void 0,void 0,function*(){const a=n.filter(P=>P.descriptor.method===Vr.Write),u=yield cr.getNewestMessage(a);yield o.delete(t,u.recordId,u.descriptor.dataCid);const U=yield Promise.all(n.map(P=>cr.getCid(P)));yield c.deleteEventsByCid(t,U),yield Promise.all(U.map(P=>i.delete(t,P)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,o,c,a){return pE(this,void 0,void 0,function*(){const u=[];for(const U of n){if(yield cr.isOlder(U,i)){yield e0.deleteFromDataStoreIfNeeded(c,t,U,i);const b=yield cr.getCid(U);if(yield o.delete(t,b),yield io.isInitialWrite(U)){const Se=yield(yield io.parse(U)).constructIndexes(!1),Re=U;delete Re.encodedData,yield o.put(t,Re,Se)}else{const _e=yield cr.getCid(U);u.push(_e)}}yield a.deleteEventsByCid(t,u)}})}}var E6=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class uA{constructor(t,n,i,o,c){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=o,this.eventStream=c}handle({tenant:t,message:n}){return E6(this,void 0,void 0,function*(){let i;try{i=yield aw.parse(n)}catch(Te){return Xo(Te,400)}try{yield Al(n.authorization,this.didResolver)}catch(Te){return Xo(Te,401)}const o={interface:Ei.Records,recordId:n.descriptor.recordId},{messages:c}=yield this.messageStore.query(t,[o]),a=yield cr.getNewestMessage(c);let U,u=!1;if(void 0===a||(yield cr.isNewer(n,a))?(u=!0,U=n):U=a,!u)return{status:{code:409,detail:"Conflict"}};if(void 0===a||a.descriptor.method===Vr.Delete)return{status:{code:404,detail:"Not Found"}};try{yield uA.authorizeRecordsDelete(t,i,yield io.parse(a),this.messageStore)}catch(Te){return Xo(Te,401)}const P=yield io.getInitialWrite(c),b=i.constructIndexes(P),K=yield cr.getCid(n);return yield this.messageStore.put(t,n,b),yield this.eventLog.append(t,K,b),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:P},b),n.descriptor.prune&&(yield e0.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield e0.deleteAllOlderMessagesButKeepInitialWrite(t,c,U,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,o){return E6(this,void 0,void 0,function*(){if(cr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,o)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new qt(Yt.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield Ki.authorizeDelete(t,n,i,o)}})}}var ru=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(ru||{}),cw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Lp{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return cw(this,void 0,void 0,function*(){let i,o,c;try{i=yield fg.parse(n)}catch(a){return Xo(a,400)}if(Ii.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const a=yield this.fetchPublishedRecords(t,i);o=a.messages,c=a.cursor}else{try{yield Al(n.authorization,this.didResolver),yield Lp.authorizeRecordsQuery(t,i,this.messageStore)}catch(a){return Xo(a,401)}if(i.author===t){const a=yield this.fetchRecordsAsOwner(t,i);o=a.messages,c=a.cursor}else{const a=yield this.fetchRecordsAsNonOwner(t,i);o=a.messages,c=a.cursor}}for(const a of o)if(!(yield io.isInitialWrite(a))){const U=(yield this.messageStore.query(t,[{recordId:a.recordId,isLatestBaseState:!1,method:Vr.Write}])).messages[0];delete U.encodedData,a.initialWrite=U}return{status:{code:200,detail:"OK"},entries:o,cursor:c}})}convertDateSort(t){switch(t){case lc.CreatedAscending:return{dateCreated:ru.Ascending};case lc.CreatedDescending:return{dateCreated:ru.Descending};case lc.PublishedAscending:return{datePublished:ru.Ascending};case lc.PublishedDescending:return{datePublished:ru.Descending};default:return{dateCreated:ru.Ascending}}}fetchRecordsAsOwner(t,n){return cw(this,void 0,void 0,function*(){const{dateSort:i,filter:o,pagination:c}=n.message.descriptor,a=Object.assign(Object.assign({},Ii.convertFilter(o,i)),{interface:Ei.Records,method:Vr.Write,isLatestBaseState:!0}),u=this.convertDateSort(i);return this.messageStore.query(t,[a],u,c)})}fetchRecordsAsNonOwner(t,n){return cw(this,void 0,void 0,function*(){const{dateSort:i,pagination:o,filter:c}=n.message.descriptor,a=[];if(Ii.filterIncludesPublishedRecords(c)&&a.push(Lp.buildPublishedRecordsFilter(n)),Ii.filterIncludesUnpublishedRecords(c)){a.push(Lp.buildUnpublishedRecordsByQueryAuthorFilter(n));const U=n.message.descriptor.filter.recipient;(void 0===U||U===n.author)&&a.push(Lp.buildUnpublishedRecordsForQueryAuthorFilter(n)),Ii.shouldProtocolAuthorize(n.signaturePayload)&&a.push(Lp.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const u=this.convertDateSort(i);return this.messageStore.query(t,a,u,o)})}fetchPublishedRecords(t,n){return cw(this,void 0,void 0,function*(){const{dateSort:i,pagination:o}=n.message.descriptor,c=Lp.buildPublishedRecordsFilter(n),a=this.convertDateSort(i);return this.messageStore.query(t,[c],a,o)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Ii.convertFilter(i,n)),{interface:Ei.Records,method:Vr.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Ii.convertFilter(i,n)),{interface:Ei.Records,method:Vr.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Ii.convertFilter(i,n)),{interface:Ei.Records,method:Vr.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Ii.convertFilter(i,n)),{author:t.author,interface:Ei.Records,method:Vr.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return cw(this,void 0,void 0,function*(){cr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),Ii.shouldProtocolAuthorize(n.signaturePayload)&&(yield Ki.authorizeQueryOrSubscribe(t,n,i))})}}var fA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class dw extends Rf{static parse(t){return fA(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Ii.validateDelegatedGrantReferentialIntegrity(t,n),us.validateTimestamp(t.descriptor.messageTimestamp),new dw(t)})}static create(t){var n;return fA(this,void 0,void 0,function*(){const{filter:i,signer:o,permissionGrantId:c,protocolRole:a}=t,u=us.getCurrentTimestamp(),U={interface:Ei.Records,method:Vr.Read,filter:Ii.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:u};let P;dc(U),void 0!==o&&(P=yield cr.createAuthorization({descriptor:U,signer:o,permissionGrantId:c,protocolRole:a,delegatedGrant:t.delegatedGrant}));const b={descriptor:U,authorization:P};return cr.validateJsonSchema(b),new dw(b)})}authorizeDelegate(t,n){return fA(this,void 0,void 0,function*(){const i=yield oa.parse(this.message.authorization.authorDelegatedGrant);yield od.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var x6=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class mE{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return x6(this,void 0,void 0,function*(){let i;try{i=yield dw.parse(n)}catch(b){return Xo(b,400)}try{void 0!==i.author&&(yield Al(n.authorization,this.didResolver))}catch(b){return Xo(b,401)}const o=Object.assign({interface:Ei.Records,isLatestBaseState:!0},Ii.convertFilter(n.descriptor.filter)),{messages:c}=yield this.messageStore.query(t,[o]);if(0===c.length)return{status:{code:404,detail:"Not Found"}};if(c.length>1)return Xo(new qt(Yt.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const a=c[0];try{yield mE.authorizeRecordsRead(t,i,yield io.parse(a),this.messageStore)}catch(b){return Xo(b,401)}let u;if(void 0!==a.encodedData){const b=he.base64UrlToBytes(a.encodedData);u=Lh.fromBytes(b),delete a.encodedData}else{const b=yield this.dataStore.get(t,a.recordId,a.descriptor.dataCid);if(void 0===b?.dataStream)return{status:{code:404,detail:"Not Found"}};u=b.dataStream}const U=Object.assign(Object.assign({},a),{data:u});if(!(yield io.isInitialWrite(U))){const K=(yield this.messageStore.query(t,[{recordId:U.recordId,isLatestBaseState:!1,method:Vr.Write}])).messages[0];delete K.encodedData,U.initialWrite=K}return{status:{code:200,detail:"OK"},record:U}})}static authorizeRecordsRead(t,n,i,o){return x6(this,void 0,void 0,function*(){cr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,o));const{descriptor:c}=i.message;if(n.author!==t){if(!0===c.published)return;if(void 0!==n.author&&n.author===c.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const a=yield Yo.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield od.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:a,messageStore:o})}else{if(void 0===c.protocol)throw new qt(Yt.RecordsReadAuthorizationFailed,"message failed authorization");yield Ki.authorizeRead(t,n,i,o)}}})}}var lw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class uw extends Rf{static parse(t){return lw(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield cr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Ii.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new qt(Yt.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&Tm(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&_s(t.descriptor.filter.schema),us.validateTimestamp(t.descriptor.messageTimestamp),new uw(t)})}static create(t){var n;return lw(this,void 0,void 0,function*(){const i={interface:Ei.Records,method:Vr.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:us.getCurrentTimestamp(),filter:Ii.normalizeFilter(t.filter)};dc(i);const o=t.signer;let c;o&&(c=yield cr.createAuthorization({descriptor:i,signer:o,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const a={descriptor:i,authorization:c};return cr.validateJsonSchema(a),new uw(a)})}authorizeDelegate(t){return lw(this,void 0,void 0,function*(){const n=yield oa.parse(this.message.authorization.authorDelegatedGrant);yield od.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var yE=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Fu{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return yE(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Xo(new qt(Yt.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let o;try{o=yield uw.parse(n)}catch(P){return Xo(P,400)}let c=[];if(Ii.filterIncludesPublishedRecords(o.message.descriptor.filter)&&void 0===o.author)c=[Fu.buildPublishedRecordsFilter(o)],delete n.authorization;else{try{yield Al(n.authorization,this.didResolver),yield Fu.authorizeRecordsSubscribe(t,o,this.messageStore)}catch(P){return Xo(P,401)}c=o.author===t?yield Fu.filterAsOwner(o):yield Fu.filterAsNonOwner(o)}const u=yield cr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,u,(P,b,K)=>{t===P&&$a.matchAnyFilter(K,c)&&i(b)})}})}static filterAsOwner(t){return yE(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},Ii.convertFilter(n)),{interface:Ei.Records,method:[Vr.Write,Vr.Delete]})]})}static filterAsNonOwner(t){return yE(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(Ii.filterIncludesPublishedRecords(i)&&n.push(Fu.buildPublishedRecordsFilter(t)),Ii.filterIncludesUnpublishedRecords(i)){n.push(Fu.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const o=t.message.descriptor.filter.recipient;(void 0===o||o===t.author)&&n.push(Fu.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),Ii.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Fu.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},Ii.convertFilter(t.message.descriptor.filter)),{interface:Ei.Records,method:[Vr.Write,Vr.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},Ii.convertFilter(t.message.descriptor.filter)),{interface:Ei.Records,method:[Vr.Write,Vr.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},Ii.convertFilter(t.message.descriptor.filter)),{interface:Ei.Records,method:[Vr.Write,Vr.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},Ii.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Ei.Records,method:[Vr.Write,Vr.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return yE(this,void 0,void 0,function*(){cr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),Ii.shouldProtocolAuthorize(n.signaturePayload)&&(yield Ki.authorizeQueryOrSubscribe(t,n,i))})}}var mg=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Fp{constructor(t,n,i,o,c){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=o,this.eventStream=c}handle({tenant:t,message:n,dataStream:i}){return mg(this,void 0,void 0,function*(){let o;try{o=yield io.parse(n),void 0!==n.descriptor.protocol&&(yield Ki.validateReferentialIntegrity(t,o,this.messageStore))}catch(Te){return Xo(Te,400)}try{yield Al(n.authorization,this.didResolver),yield Fp.authorizeRecordsWrite(t,o,this.messageStore)}catch(Te){return Xo(Te,401)}const c={interface:Ei.Records,recordId:n.recordId},{messages:a}=yield this.messageStore.query(t,[c]),u=yield o.isInitialWrite();let U;if(!u)try{U=yield io.getInitialWrite(a),io.verifyEqualityOfImmutableProperties(U,n)}catch(Te){return Xo(Te,400)}const P=yield cr.getNewestMessage(a);let K,b=!1;if(void 0===P||(yield cr.isNewer(n,P))?(b=!0,K=n):K=P,!b)return{status:{code:409,detail:"Conflict"}};try{let Te=!1,Se=n;if(void 0!==i)Se=yield this.processMessageWithDataStream(t,n,i),Te=!0;else{if(P?.descriptor.method===Vr.Delete)throw new qt(Yt.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!u){const Ge=P;Se=yield this.processMessageWithoutDataStream(t,n,Ge),Te=!0}}const Re=yield o.constructIndexes(Te);yield this.messageStore.put(t,Se,Re),yield this.eventLog.append(t,yield cr.getCid(n),Re),void 0!==this.eventStream&&Te&&this.eventStream.emit(t,{message:n,initialWrite:U},Re)}catch(Te){const Se=Te;if(void 0!==Se.code&&(Se.code===Yt.RecordsWriteMissingEncodedDataInPrevious||Se.code===Yt.RecordsWriteMissingDataInPrevious||Se.code===Yt.RecordsWriteMissingDataStream||Se.code===Yt.RecordsWriteDataCidMismatch||Se.code===Yt.RecordsWriteDataSizeMismatch||Se.code.startsWith("PermissionsProtocolValidate")||Se.code.startsWith("SchemaValidator")))return Xo(Te,400);throw Te}return yield e0.deleteAllOlderMessagesButKeepInitialWrite(t,a,K,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,o),{status:{code:202,detail:"Accepted"}}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===Yo.uri&&Yo.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return mg(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===Yo.uri&&n.message.descriptor.protocolPath===Yo.revocationPath){const o={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:c}=yield this.messageStore.query(t,[o]),a=[];for(const u of c){const U=yield cr.getCid(u);yield this.messageStore.delete(t,U)}this.eventLog.deleteEventsByCid(t,a)}})}cloneAndAddEncodedData(t,n){return mg(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=he.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return mg(this,void 0,void 0,function*(){let o=n;if(n.descriptor.dataSize<=lA.maxDataSizeAllowedToBeEncoded){const c=yield Lh.toBytes(i),a=yield cc.computeDagPbCidFromBytes(c);Fp.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,a,c.length),Fp.validateSchemaForCoreRecordsWrite(n,c),o=yield this.cloneAndAddEncodedData(n,c)}else{const[c,a]=Lh.duplicateDataStream(i,2);try{const[u,U]=yield Promise.all([cc.computeDagPbCidFromStream(c),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,a)]);Fp.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,u,U.dataSize)}catch(u){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),u}}return o})}processMessageWithoutDataStream(t,n,i){return mg(this,void 0,void 0,function*(){const o=Object.assign({},n),{dataCid:c,dataSize:a}=n.descriptor;if(Fp.validateDataIntegrity(c,a,i.descriptor.dataCid,i.descriptor.dataSize),a<=lA.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new qt(Yt.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");o.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new qt(Yt.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return o})}static validateDataIntegrity(t,n,i,o){if(t!==i)throw new qt(Yt.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==o)throw new qt(Yt.RecordsWriteDataSizeMismatch,`actual data size ${o} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return mg(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new qt(Yt.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const o=yield Yo.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield od.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new qt(Yt.RecordsWriteAuthorizationFailed,"message failed authorization");yield Ki.authorizeWrite(t,n,i)}}})}}var hA=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(hA||{});const Bf={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Zo{constructor({method:t,id:n,path:i,query:o,fragment:c,params:a}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=a}static parse(t){if(!t)return null;const n=Zo.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:a,fragment:u}=n.groups,U={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(U.path=c),a&&(U.query=a.slice(1)),u&&(U.fragment=u.slice(1)),a){const P={},b=a.slice(1).split("&");for(const K of b){const[_e,Te]=K.split("=");P[_e]=Te}U.params=P}return U}}Zo.METHOD_PATTERN="([a-z0-9]+)",Zo.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Zo.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Zo.PCT_ENCODED_PATTERN})`,Zo.METHOD_ID_PATTERN=`((?:${Zo.ID_CHAR_PATTERN}*:)*(${Zo.ID_CHAR_PATTERN}+))`,Zo.PATH_PATTERN="(/[^#?]*)?",Zo.QUERY_PATTERN="([?][^#]*)?",Zo.FRAGMENT_PATTERN="(#.*)?",Zo.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Zo.METHOD_PATTERN}):(?<id>${Zo.METHOD_ID_PATTERN})(?<path>${Zo.PATH_PATTERN})(?<query>${Zo.QUERY_PATTERN})(?<fragment>${Zo.FRAGMENT_PATTERN})$`);class fi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fi)}}var _i=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(_i||{}),Jt=E(37475),la=E(47565);class gE{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,la.s)(t)})}}class vE{}var xi=E(94256),Fd=E(91006);const U4="urn:jwk:";function os({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,Jt.E8)(n);const i=function S6(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const a of o)c[a]=t(i[a]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=Jt.U$.string(i).toUint8Array(),c=yield gE.digest({data:o});return Jt.U$.uint8Array(c).toBase64Url()})}function jp(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function bE(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Uf(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function yg(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Lc=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Js{static adjustSignatureToLowS({signature:t}){return Lc(this,void 0,void 0,function*(){const n=xi.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Lc(this,void 0,void 0,function*(){const n=yield Js.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield os({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Lc(this,void 0,void 0,function*(){const n=yield Js.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield os({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Lc(this,void 0,void 0,function*(){return xi.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Lc(this,void 0,void 0,function*(){const n=yield Js.privateKeyToBytes({privateKey:t}),i=yield Js.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:Jt.U$.uint8Array(i.x).toBase64Url(),y:Jt.U$.uint8Array(i.y).toBase64Url()};return o.kid=yield os({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Lc(this,void 0,void 0,function*(){return xi.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Lc(this,void 0,void 0,function*(){return xi.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Lc(this,void 0,void 0,function*(){const t=xi.bI.utils.randomPrivateKey(),n=yield Js.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield os({jwk:n}),n})}static getPublicKey({key:t}){var n;return Lc(this,void 0,void 0,function*(){if(!jp(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield os({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Lc(this,void 0,void 0,function*(){if(!jp(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Lc(this,void 0,void 0,function*(){if(!bE(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=Jt.U$.base64Url(t.x).toUint8Array(),o=Jt.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Lc(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Js.privateKeyToBytes({privateKey:t}),o=yield Js.publicKeyToBytes({publicKey:n});return xi.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Lc(this,void 0,void 0,function*(){const i=yield Js.privateKeyToBytes({privateKey:n}),o=(0,la.s)(t);return xi.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Lc(this,void 0,void 0,function*(){return xi.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Lc(this,void 0,void 0,function*(){try{xi.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Lc(this,void 0,void 0,function*(){const o=yield Js.publicKeyToBytes({publicKey:t}),c=(0,la.s)(i);return xi.bI.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Lc(this,void 0,void 0,function*(){32===t.byteLength&&(t=xi.bI.getPublicKey(t));const n=xi.bI.ProjectivePoint.fromHex(t);return{x:(0,Fd.lq)(n.x,32),y:(0,Fd.lq)(n.y,32)}})}}var cd=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class qs{static adjustSignatureToLowS({signature:t}){return cd(this,void 0,void 0,function*(){const n=Nr.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return cd(this,void 0,void 0,function*(){const n=yield qs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield os({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return cd(this,void 0,void 0,function*(){const n=yield qs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield os({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return cd(this,void 0,void 0,function*(){return Nr.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return cd(this,void 0,void 0,function*(){const n=yield qs.privateKeyToBytes({privateKey:t}),i=yield qs.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:Jt.U$.uint8Array(i.x).toBase64Url(),y:Jt.U$.uint8Array(i.y).toBase64Url()};return o.kid=yield os({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return cd(this,void 0,void 0,function*(){return Nr.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return cd(this,void 0,void 0,function*(){return Nr.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return cd(this,void 0,void 0,function*(){const t=Nr.Ag.utils.randomPrivateKey(),n=yield qs.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield os({jwk:n}),n})}static getPublicKey({key:t}){var n;return cd(this,void 0,void 0,function*(){if(!jp(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield os({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return cd(this,void 0,void 0,function*(){if(!jp(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return cd(this,void 0,void 0,function*(){if(!bE(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=Jt.U$.base64Url(t.x).toUint8Array(),o=Jt.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return cd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield qs.privateKeyToBytes({privateKey:t}),o=yield qs.publicKeyToBytes({publicKey:n});return Nr.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return cd(this,void 0,void 0,function*(){const i=yield qs.privateKeyToBytes({privateKey:n}),o=(0,la.s)(t);return Nr.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return cd(this,void 0,void 0,function*(){return Nr.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return cd(this,void 0,void 0,function*(){try{Nr.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return cd(this,void 0,void 0,function*(){const o=yield qs.publicKeyToBytes({publicKey:t}),c=(0,la.s)(i);return Nr.Ag.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return cd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Nr.Ag.getPublicKey(t));const n=Nr.Ag.ProjectivePoint.fromHex(t);return{x:(0,Fd.lq)(n.x,32),y:(0,Fd.lq)(n.y,32)}})}}var fw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class T6 extends vE{computePublicKey({key:t}){return fw(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Js.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield qs.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return fw(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Js.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield qs.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return fw(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Js.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield qs.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return fw(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Js.sign({key:t,data:n});case"P-256":return yield qs.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return fw(this,void 0,void 0,function*(){if(!bE(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Js.verify({key:t,signature:n,data:i});case"P-256":return yield qs.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var hi=E(86295),iu=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Ks{static bytesToPrivateKey({privateKeyBytes:t}){return iu(this,void 0,void 0,function*(){const n=hi.ev.getPublicKey(t),i={crv:"Ed25519",d:Jt.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:Jt.U$.uint8Array(n).toBase64Url()};return i.kid=yield os({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return iu(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:Jt.U$.uint8Array(t).toBase64Url()};return n.kid=yield os({jwk:n}),n})}static computePublicKey({key:t}){return iu(this,void 0,void 0,function*(){const n=yield Ks.privateKeyToBytes({privateKey:t}),i=hi.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:Jt.U$.uint8Array(i).toBase64Url()};return o.kid=yield os({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return iu(this,void 0,void 0,function*(){const n=yield Ks.privateKeyToBytes({privateKey:t}),i=(0,hi.OA)(n),o=hi.TU.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:Jt.U$.uint8Array(i).toBase64Url(),x:Jt.U$.uint8Array(o).toBase64Url()};return c.kid=yield os({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return iu(this,void 0,void 0,function*(){const n=yield Ks.publicKeyToBytes({publicKey:t});if(!(yield Ks.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,hi.GU)(n),c={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(o).toBase64Url()};return c.kid=yield os({jwk:c}),c})}static generateKey(){return iu(this,void 0,void 0,function*(){const t=hi.ev.utils.randomPrivateKey(),n=yield Ks.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield os({jwk:n}),n})}static getPublicKey({key:t}){var n;return iu(this,void 0,void 0,function*(){if(!Uf(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield os({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return iu(this,void 0,void 0,function*(){if(!Uf(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return iu(this,void 0,void 0,function*(){if(!yg(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Jt.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return iu(this,void 0,void 0,function*(){const i=yield Ks.privateKeyToBytes({privateKey:t});return hi.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return iu(this,void 0,void 0,function*(){try{hi.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return iu(this,void 0,void 0,function*(){const o=yield Ks.publicKeyToBytes({publicKey:t});return hi.ev.verify(n,i,o)})}}var hw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},ju=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const wE={Ed25519:{implementation:class D6 extends vE{computePublicKey({key:t}){return hw(this,void 0,void 0,function*(){if(!Uf(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ks.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return hw(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Ks.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return hw(this,void 0,void 0,function*(){if(!Uf(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ks.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return hw(this,void 0,void 0,function*(){if(!Uf(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Ks.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return hw(this,void 0,void 0,function*(){if(!yg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Ks.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:T6,names:["ES256K","secp256k1"]},secp256r1:{implementation:T6,names:["ES256","secp256r1"]},"SHA-256":{implementation:class mA extends vE{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield gE.digest({data:n})})}},names:["SHA-256"]}};class gg{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Jt.ny}digest({algorithm:t,data:n}){return ju(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ju(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ju(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${U4}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return ju(this,void 0,void 0,function*(){const n=yield os({jwk:t});return`${U4}${n}`})}getPublicKey({keyUri:t}){return ju(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ju(this,void 0,void 0,function*(){if(!function A6(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield os({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return ju(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ju(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=wE[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in wE){const c=wE[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ju(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var t0=E(86703),Fc=E(62953);function K4(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const Fh=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function _E(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function O6(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function EE(r){if("string"==typeof r)r=O6(r);else{if(!_E(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function xE(r,t){if(!_E(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function pw(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),c=BigInt(4294967295),a=Number(n>>o&c),u=Number(n&c),P=i?0:4;r.setUint32(t+(i?4:0),a,i),r.setUint32(t+P,u,i)}function vg(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function bA(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function ou(r,...t){if(!function R6(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function mw(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var o0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class wg{static bytesToPrivateKey({privateKeyBytes:t}){return o0(this,void 0,void 0,function*(){const n=hi.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n).toBase64Url()};return i.kid=yield os({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return o0(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(t).toBase64Url()};return n.kid=yield os({jwk:n}),n})}static computePublicKey({key:t}){return o0(this,void 0,void 0,function*(){const n=yield wg.privateKeyToBytes({privateKey:t}),i=hi.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(i).toBase64Url()};return o.kid=yield os({jwk:o}),o})}static generateKey(){return o0(this,void 0,void 0,function*(){const t=hi.TU.utils.randomPrivateKey(),n=yield wg.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield os({jwk:n}),n})}static getPublicKey({key:t}){var n;return o0(this,void 0,void 0,function*(){if(!Uf(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield os({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return o0(this,void 0,void 0,function*(){if(!Uf(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return o0(this,void 0,void 0,function*(){if(!yg(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return Jt.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return o0(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield wg.privateKeyToBytes({privateKey:t}),o=yield wg.publicKeyToBytes({publicKey:n});return hi.TU.getSharedSecret(i,o)})}}const dd=(r,t)=>255&r[t++]|(255&r[t++])<<8;class Xa{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,xE(t=EE(t),32);const n=dd(t,0),i=dd(t,2),o=dd(t,4),c=dd(t,6),a=dd(t,8),u=dd(t,10),U=dd(t,12),P=dd(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|o<<6),this.r[3]=8191&(o>>>7|c<<9),this.r[4]=255&(c>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|u<<2),this.r[7]=8065&(u>>>11|U<<5),this.r[8]=8191&(U>>>8|P<<8),this.r[9]=P>>>5&127;for(let b=0;b<8;b++)this.pad[b]=dd(t,16+2*b)}process(t,n,i=!1){const o=i?0:2048,{h:c,r:a}=this,u=a[0],U=a[1],P=a[2],b=a[3],K=a[4],_e=a[5],Te=a[6],Se=a[7],Re=a[8],Ge=a[9],ct=dd(t,n+0),Xe=dd(t,n+2),Je=dd(t,n+4),lt=dd(t,n+6),Et=dd(t,n+8),wt=dd(t,n+10),Ct=dd(t,n+12),xt=dd(t,n+14);let Zt=c[0]+(8191&ct),hn=c[1]+(8191&(ct>>>13|Xe<<3)),_n=c[2]+(8191&(Xe>>>10|Je<<6)),Cn=c[3]+(8191&(Je>>>7|lt<<9)),gn=c[4]+(8191&(lt>>>4|Et<<12)),yn=c[5]+(Et>>>1&8191),fn=c[6]+(8191&(Et>>>14|wt<<2)),wn=c[7]+(8191&(wt>>>11|Ct<<5)),Qt=c[8]+(8191&(Ct>>>8|xt<<8)),Nn=c[9]+(xt>>>5|o),Fn=0,Gn=Fn+Zt*u+hn*(5*Ge)+_n*(5*Re)+Cn*(5*Se)+gn*(5*Te);Fn=Gn>>>13,Gn&=8191,Gn+=yn*(5*_e)+fn*(5*K)+wn*(5*b)+Qt*(5*P)+Nn*(5*U),Fn+=Gn>>>13,Gn&=8191;let wr=Fn+Zt*U+hn*u+_n*(5*Ge)+Cn*(5*Re)+gn*(5*Se);Fn=wr>>>13,wr&=8191,wr+=yn*(5*Te)+fn*(5*_e)+wn*(5*K)+Qt*(5*b)+Nn*(5*P),Fn+=wr>>>13,wr&=8191;let Or=Fn+Zt*P+hn*U+_n*u+Cn*(5*Ge)+gn*(5*Re);Fn=Or>>>13,Or&=8191,Or+=yn*(5*Se)+fn*(5*Te)+wn*(5*_e)+Qt*(5*K)+Nn*(5*b),Fn+=Or>>>13,Or&=8191;let nn=Fn+Zt*b+hn*P+_n*U+Cn*u+gn*(5*Ge);Fn=nn>>>13,nn&=8191,nn+=yn*(5*Re)+fn*(5*Se)+wn*(5*Te)+Qt*(5*_e)+Nn*(5*K),Fn+=nn>>>13,nn&=8191;let Br=Fn+Zt*K+hn*b+_n*P+Cn*U+gn*u;Fn=Br>>>13,Br&=8191,Br+=yn*(5*Ge)+fn*(5*Re)+wn*(5*Se)+Qt*(5*Te)+Nn*(5*_e),Fn+=Br>>>13,Br&=8191;let Ni=Fn+Zt*_e+hn*K+_n*b+Cn*P+gn*U;Fn=Ni>>>13,Ni&=8191,Ni+=yn*u+fn*(5*Ge)+wn*(5*Re)+Qt*(5*Se)+Nn*(5*Te),Fn+=Ni>>>13,Ni&=8191;let er=Fn+Zt*Te+hn*_e+_n*K+Cn*b+gn*P;Fn=er>>>13,er&=8191,er+=yn*U+fn*u+wn*(5*Ge)+Qt*(5*Re)+Nn*(5*Se),Fn+=er>>>13,er&=8191;let Tn=Fn+Zt*Se+hn*Te+_n*_e+Cn*K+gn*b;Fn=Tn>>>13,Tn&=8191,Tn+=yn*P+fn*U+wn*u+Qt*(5*Ge)+Nn*(5*Re),Fn+=Tn>>>13,Tn&=8191;let qn=Fn+Zt*Re+hn*Se+_n*Te+Cn*_e+gn*K;Fn=qn>>>13,qn&=8191,qn+=yn*b+fn*P+wn*U+Qt*u+Nn*(5*Ge),Fn+=qn>>>13,qn&=8191;let Cr=Fn+Zt*Ge+hn*Re+_n*Se+Cn*Te+gn*_e;Fn=Cr>>>13,Cr&=8191,Cr+=yn*K+fn*b+wn*P+Qt*U+Nn*u,Fn+=Cr>>>13,Cr&=8191,Fn=(Fn<<2)+Fn|0,Fn=Fn+Gn|0,Gn=8191&Fn,Fn>>>=13,wr+=Fn,c[0]=Gn,c[1]=wr,c[2]=Or,c[3]=nn,c[4]=Br,c[5]=Ni,c[6]=er,c[7]=Tn,c[8]=qn,c[9]=Cr}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let u=2;u<10;u++)t[u]+=o,o=t[u]>>>13,t[u]&=8191;t[0]+=5*o,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,i[0]=t[0]+5,o=i[0]>>>13,i[0]&=8191;for(let u=1;u<10;u++)i[u]=t[u]+o,o=i[u]>>>13,i[u]&=8191;i[9]-=8192;let c=(1^o)-1;for(let u=0;u<10;u++)i[u]&=c;c=~c;for(let u=0;u<10;u++)t[u]=t[u]&c|i[u];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let a=t[0]+n[0];t[0]=65535&a;for(let u=1;u<8;u++)a=(t[u]+n[u]|0)+(a>>>16)|0,t[u]=65535&a}update(t){mw(this);const{buffer:n,blockLen:i}=this,o=(t=EE(t)).length;for(let c=0;c<o;){const a=Math.min(i-this.pos,o-c);if(a!==i)n.set(t.subarray(c,c+a),this.pos),this.pos+=a,c+=a,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=o-c;c+=i)this.process(t,c)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){mw(this),function ME(r,t){ou(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let c=0;for(let a=0;a<8;a++)t[c++]=i[a]>>>0,t[c++]=i[a]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const DE=function vw(r){const t=(i,o)=>r(o).update(EE(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new Xa(r)),IE=O6("expand 16-byte k"),$6=O6("expand 32-byte k"),e7=Fh(IE),Q4=Fh($6);function zr(r,t){return r<<t|r>>>32-t}function V6(r){return r.byteOffset%4==0}const MA=2**32-1,SA=new Uint32Array;function Eg(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:o,counterRight:c,rounds:a}=function X9(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return vg(o),vg(a),bA(c),bA(n),(u,U,P,b,K=0)=>{ou(u),ou(U),ou(P);const _e=P.length;if(b||(b=new Uint8Array(_e)),ou(b),vg(K),K<0||K>=MA)throw new Error("arx: counter overflow");if(b.length<_e)throw new Error(`arx: output (${b.length}) is shorter than data (${_e})`);const Te=[];let Re,Ge,Se=u.length;if(32===Se)Re=u.slice(),Te.push(Re),Ge=Q4;else{if(16!==Se||!n)throw new Error(`arx: invalid 32-byte key, got length=${Se}`);Re=new Uint8Array(32),Re.set(u),Re.set(u,16),Ge=e7,Te.push(Re)}V6(U)||(U=U.slice(),Te.push(U));const ct=Fh(Re);if(i){if(24!==U.length)throw new Error("arx: extended nonce must be 24 bytes");i(Ge,ct,Fh(U.subarray(0,16)),ct),U=U.subarray(16)}const Xe=16-o;if(Xe!==U.length)throw new Error(`arx: nonce must be ${Xe} or 16 bytes`);if(12!==Xe){const lt=new Uint8Array(12);lt.set(U,c?0:12-U.length),Te.push(U=lt)}const Je=Fh(U);for(function z6(r,t,n,i,o,c,a,u){const U=o.length,P=new Uint8Array(64),b=Fh(P),K=V6(o)&&V6(c),_e=K?Fh(o):SA,Te=K?Fh(c):SA;for(let Se=0;Se<U;a++){if(r(t,n,i,b,a,u),a>=MA)throw new Error("arx: counter overflow");const Re=Math.min(64,U-Se);if(K&&64===Re){const Ge=Se/4;if(Se%4!=0)throw new Error("arx: invalid block position");for(let Xe,ct=0;ct<16;ct++)Xe=Ge+ct,Te[Xe]=_e[Xe]^b[ct];Se+=64}else{for(let ct,Ge=0;Ge<Re;Ge++)ct=Se+Ge,c[ct]=o[ct]^P[Ge];Se+=Re}}}(r,Ge,ct,Je,P,b,K,a);Te.length>0;)Te.pop().fill(0);return b}}function bw(r,t,n,i,o,c=20){let a=r[0],u=r[1],U=r[2],P=r[3],b=t[0],K=t[1],_e=t[2],Te=t[3],Se=t[4],Re=t[5],Ge=t[6],ct=t[7],Xe=o,Je=n[0],lt=n[1],Et=n[2],wt=a,Ct=u,xt=U,Zt=P,hn=b,_n=K,Cn=_e,gn=Te,yn=Se,fn=Re,wn=Ge,Qt=ct,Nn=Xe,Fn=Je,Gn=lt,wr=Et;for(let nn=0;nn<c;nn+=2)wt=wt+hn|0,Nn=zr(Nn^wt,16),yn=yn+Nn|0,hn=zr(hn^yn,12),wt=wt+hn|0,Nn=zr(Nn^wt,8),yn=yn+Nn|0,hn=zr(hn^yn,7),Ct=Ct+_n|0,Fn=zr(Fn^Ct,16),fn=fn+Fn|0,_n=zr(_n^fn,12),Ct=Ct+_n|0,Fn=zr(Fn^Ct,8),fn=fn+Fn|0,_n=zr(_n^fn,7),xt=xt+Cn|0,Gn=zr(Gn^xt,16),wn=wn+Gn|0,Cn=zr(Cn^wn,12),xt=xt+Cn|0,Gn=zr(Gn^xt,8),wn=wn+Gn|0,Cn=zr(Cn^wn,7),Zt=Zt+gn|0,wr=zr(wr^Zt,16),Qt=Qt+wr|0,gn=zr(gn^Qt,12),Zt=Zt+gn|0,wr=zr(wr^Zt,8),Qt=Qt+wr|0,gn=zr(gn^Qt,7),wt=wt+_n|0,wr=zr(wr^wt,16),wn=wn+wr|0,_n=zr(_n^wn,12),wt=wt+_n|0,wr=zr(wr^wt,8),wn=wn+wr|0,_n=zr(_n^wn,7),Ct=Ct+Cn|0,Nn=zr(Nn^Ct,16),Qt=Qt+Nn|0,Cn=zr(Cn^Qt,12),Ct=Ct+Cn|0,Nn=zr(Nn^Ct,8),Qt=Qt+Nn|0,Cn=zr(Cn^Qt,7),xt=xt+gn|0,Fn=zr(Fn^xt,16),yn=yn+Fn|0,gn=zr(gn^yn,12),xt=xt+gn|0,Fn=zr(Fn^xt,8),yn=yn+Fn|0,gn=zr(gn^yn,7),Zt=Zt+hn|0,Gn=zr(Gn^Zt,16),fn=fn+Gn|0,hn=zr(hn^fn,12),Zt=Zt+hn|0,Gn=zr(Gn^Zt,8),fn=fn+Gn|0,hn=zr(hn^fn,7);let Or=0;i[Or++]=a+wt|0,i[Or++]=u+Ct|0,i[Or++]=U+xt|0,i[Or++]=P+Zt|0,i[Or++]=b+hn|0,i[Or++]=K+_n|0,i[Or++]=_e+Cn|0,i[Or++]=Te+gn|0,i[Or++]=Se+yn|0,i[Or++]=Re+fn|0,i[Or++]=Ge+wn|0,i[Or++]=ct+Qt|0,i[Or++]=Xe+Nn|0,i[Or++]=Je+Fn|0,i[Or++]=lt+Gn|0,i[Or++]=Et+wr|0}const rR=Eg(bw,{counterRight:!1,counterLength:4,allowShortKeys:!1}),H6=Eg(bw,{counterRight:!1,counterLength:8,extendNonceFn:function tR(r,t,n,i){let o=r[0],c=r[1],a=r[2],u=r[3],U=t[0],P=t[1],b=t[2],K=t[3],_e=t[4],Te=t[5],Se=t[6],Re=t[7],Ge=n[0],ct=n[1],Xe=n[2],Je=n[3];for(let Et=0;Et<20;Et+=2)o=o+U|0,Ge=zr(Ge^o,16),_e=_e+Ge|0,U=zr(U^_e,12),o=o+U|0,Ge=zr(Ge^o,8),_e=_e+Ge|0,U=zr(U^_e,7),c=c+P|0,ct=zr(ct^c,16),Te=Te+ct|0,P=zr(P^Te,12),c=c+P|0,ct=zr(ct^c,8),Te=Te+ct|0,P=zr(P^Te,7),a=a+b|0,Xe=zr(Xe^a,16),Se=Se+Xe|0,b=zr(b^Se,12),a=a+b|0,Xe=zr(Xe^a,8),Se=Se+Xe|0,b=zr(b^Se,7),u=u+K|0,Je=zr(Je^u,16),Re=Re+Je|0,K=zr(K^Re,12),u=u+K|0,Je=zr(Je^u,8),Re=Re+Je|0,K=zr(K^Re,7),o=o+P|0,Je=zr(Je^o,16),Se=Se+Je|0,P=zr(P^Se,12),o=o+P|0,Je=zr(Je^o,8),Se=Se+Je|0,P=zr(P^Se,7),c=c+b|0,Ge=zr(Ge^c,16),Re=Re+Ge|0,b=zr(b^Re,12),c=c+b|0,Ge=zr(Ge^c,8),Re=Re+Ge|0,b=zr(b^Re,7),a=a+K|0,ct=zr(ct^a,16),_e=_e+ct|0,K=zr(K^_e,12),a=a+K|0,ct=zr(ct^a,8),_e=_e+ct|0,K=zr(K^_e,7),u=u+U|0,Xe=zr(Xe^u,16),Te=Te+Xe|0,U=zr(U^Te,12),u=u+U|0,Xe=zr(Xe^u,8),Te=Te+Xe|0,U=zr(U^Te,7);let lt=0;i[lt++]=o,i[lt++]=c,i[lt++]=a,i[lt++]=u,i[lt++]=Ge,i[lt++]=ct,i[lt++]=Xe,i[lt++]=Je},allowShortKeys:!1}),kE=new Uint8Array(16),TA=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(kE.subarray(n))},W6=new Uint8Array(32);function iR(r,t,n,i,o){const c=r(t,n,W6),a=DE.create(c);o&&TA(a,o),TA(a,i);const u=new Uint8Array(16),U=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(u);pw(U,0,BigInt(o?o.length:0),!0),pw(U,8,BigInt(i.length),!0),a.update(u);const P=a.digest();return c.fill(0),P}const oR=r=>(t,n,i)=>(xE(t,32),xE(n),{encrypt:(c,a)=>{const u=c.length,U=u+16;a?xE(a,U):a=new Uint8Array(U),r(t,n,c,a,1);const P=iR(r,t,n,a.subarray(0,-16),i);return a.set(P,u),a},decrypt:(c,a)=>{const u=c.length,U=u-16;if(u<16)throw new Error("encrypted data must be at least 16 bytes");a?xE(a,U):a=new Uint8Array(U);const P=c.subarray(0,-16);if(!function Y9(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(c.subarray(-16),iR(r,t,n,P,i)))throw new Error("invalid tag");return r(t,n,P,a,1),a}});function Lf(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function X6({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(IA))&&void 0!==n?n:[]),Object.keys(hA).forEach(o=>{var c,a;i.push(...null!==(a=null===(c=r[o])||void 0===c?void 0:c.filter(IA))&&void 0!==a?a:[])}),i}function aR({didDocument:r,methodId:t}){const n=[];return Object.keys(hA).forEach(i=>{if(Array.isArray(r[i])){const o=r[i],c=Lf(t);o.some(u=>{const U=Lf(u)===c,P=IA(u)&&Lf(u.id)===c;return U||P})&&n.push(i)}}),n}function IA(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function dR({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=Jt.Gs.addPrefix({code:t,data:r,name:n}),o=Jt.U$.uint8Array(i).toBase58Btc();return Jt.U$.base58Btc(o).toMultibase()}function Y6({multibaseKeyId:r}){try{const t=Jt.U$.multibase(r).toBase58Btc(),n=Jt.U$.base58Btc(t).toUint8Array(),{code:i,data:o,name:c}=Jt.Gs.removePrefix({prefixedData:n});return{keyBytes:o,multicodecCode:i,multicodecName:c}}catch{throw new fi(_i.InvalidDid,`Invalid multibase identifier: ${r}`)}}oR(rR),oR(H6);var Mg=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class s0{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return Mg(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return Mg(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(U=>{var P,b;return Lf(U.id)===(null!==(P=Lf(t?.methodId))&&void 0!==P?P:Lf(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new fi(_i.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),a=this.keyManager;return{algorithm:K4(c),keyId:i.id,sign(U){return Mg(this,arguments,void 0,function*({data:P}){return yield a.sign({data:P,keyUri:o})})},verify(U){return Mg(this,arguments,void 0,function*({data:P,signature:b}){return yield a.verify({data:P,key:c,signature:b})})}}})}static import(t){return Mg(this,arguments,void 0,function*({portableDid:n,keyManager:i=new gg}){var o;const c=X6({didDocument:n.document});if(0===c.length)throw new fi(_i.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:u});for(let u of c){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const U=yield i.getKeyUri({key:u.publicKeyJwk});yield i.getPublicKey({keyUri:U})}return new s0({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}const Z6="0123456789abcdef",J6=[],OE=[];for(let r=0;r<256;r++)J6[r]=Z6[r>>4&15]+Z6[15&r],r<16&&(r<10?OE[48+r]=r:OE[87+r]=r);const CA=r=>{const t=r.length;let n="",i=0;for(;i<t;)n+=J6[r[i++]];return n};for(var a0=typeof Uint8Array>"u"?[]:new Uint8Array(256),_w=0;_w<64;_w++)a0["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(_w)]=_w;const q6=new TextDecoder,kA=(r,t)=>t?new TextDecoder(t).decode(r):q6.decode(r),pR=new TextEncoder,Ff=r=>pR.encode(r);function BE(r){const t=r<0?1:0;return r=Math.abs(Number(r||1)),Math.floor(Math.log10(r))+1+t}function t5(r){return ArrayBuffer.isView(r)?"arraybufferview":Array.isArray(r)?"array":r instanceof Number?"number":r instanceof Boolean?"boolean":r instanceof Set?"set":r instanceof Map?"map":r instanceof String?"string":r instanceof ArrayBuffer?"arraybuffer":typeof r}function vo(r,t,n){const i=[];let o=null;return vo._encode(i,r),o=((r,t=0)=>{const n=r.length||0;if(!t){let a=n;for(;a--;)t+=r[a].length}const i=new Uint8Array(t);let o=t,c=n;for(;c--;)o-=r[c].length,i.set(r[c],o);return i})(i),vo.bytes=o.length,ArrayBuffer.isView(t)?(t.set(o,n),t):o}typeof window<"u"?window:self,vo.bytes=-1,vo._floatConversionDetected=!1,vo._encode=function(r,t){if(null!=t)switch(t5(t)){case"object":vo.dict(r,t);break;case"map":vo.dictMap(r,t);break;case"array":vo.list(r,t);break;case"set":vo.listSet(r,t);break;case"string":vo.string(r,t);break;case"number":case"boolean":vo.number(r,t);break;case"arraybufferview":vo.buffer(r,new Uint8Array(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":vo.buffer(r,new Uint8Array(t))}};const Ag=new Uint8Array([101]),PA=new Uint8Array([100]),n5=new Uint8Array([108]);vo.buffer=function(r,t){r.push(Ff(t.length+":"),t)},vo.string=function(r,t){r.push(Ff(Ff(t).byteLength+":"+t))},vo.number=function(r,t){if(Number.isInteger(t))return r.push(Ff("i"+BigInt(t)+"e"));const n=2147483648,c=(t/n|0)*n+(t%n|0);r.push(Ff("i"+c+"e")),c!==t&&!vo._floatConversionDetected&&(vo._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+c+'"'),console.trace())},vo.dict=function(r,t){r.push(PA);let i,n=0;const o=Object.keys(t).sort(),c=o.length;for(;n<c;n++)i=o[n],null!=t[i]&&(vo.string(r,i),vo._encode(r,t[i]));r.push(Ag)},vo.dictMap=function(r,t){r.push(PA);const n=Array.from(t.keys()).sort();for(const i of n)null!=t.get(i)&&(ArrayBuffer.isView(i)?vo._encode(r,i):vo.string(r,String(i)),vo._encode(r,t.get(i)));r.push(Ag)},vo.list=function(r,t){let n=0;const i=t.length;for(r.push(n5);n<i;n++)null!=t[n]&&vo._encode(r,t[n]);r.push(Ag)},vo.listSet=function(r,t){r.push(n5);for(const n of t)null!=n&&vo._encode(r,n);r.push(Ag)};const vR=vo;function _R(r,t,n){let i=0,o=1;for(let c=t;c<n;c++){const a=r[c];if(a<58&&a>=48)i=10*i+(a-48);else if(c!==t||43!==a){if(c===t&&45===a){o=-1;continue}if(46===a)break;throw new Error("not a number: buffer["+c+"] = "+a)}}return i*o}function ki(r,t,n,i){return null==r||0===r.length?null:("number"!=typeof t&&null==i&&(i=t,t=void 0),"number"!=typeof n&&null==i&&(i=n,n=void 0),ki.position=0,ki.encoding=i||null,ki.data=ArrayBuffer.isView(r)?new Uint8Array(r.slice(t,n)):Ff(r),ki.bytes=ki.data.length,ki.next())}function LE(r){if(null==r)return 0;const n=t5(r);switch(n){case"arraybufferview":return function y7(r){const t=r.byteLength-r.byteOffset;return BE(t)+1+t}(r);case"string":return function m7(r){const t=Ff(r).byteLength;return BE(t)+1+t}(r);case"array":case"set":return function h7(r){let t=2;for(const n of r)t+=LE(n);return t}(r);case"number":return 1+BE(Math.floor(r))+1;case"bigint":return 1+r.toString().length+1;case"object":return function p7(r){let t=2;const n=Object.keys(r);for(let i=0;i<n.length;i++){const o=Ff(n[i]).byteLength;t+=BE(o)+1+o,t+=LE(r[n[i]])}return t}(r);case"map":return function xR(r){let t=2;for(const[n,i]of r){const o=Ff(n).byteLength;t+=BE(o)+1+o,t+=LE(i)}return t}(r);default:throw new TypeError(`Unsupported value of type "${n}"`)}}ki.bytes=0,ki.position=0,ki.data=null,ki.encoding=null,ki.next=function(){switch(ki.data[ki.position]){case 100:return ki.dictionary();case 108:return ki.list();case 105:return ki.integer();default:return ki.buffer()}},ki.find=function(r){let t=ki.position;const n=ki.data.length,i=ki.data;for(;t<n;){if(i[t]===r)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(r)+'" [0x'+r.toString(16)+"]")},ki.dictionary=function(){ki.position++;const r={};for(;101!==ki.data[ki.position];){const t=ki.buffer();let n=kA(t);n.includes("\ufffd")&&(n=CA(t)),r[n]=ki.next()}return ki.position++,r},ki.list=function(){ki.position++;const r=[];for(;101!==ki.data[ki.position];)r.push(ki.next());return ki.position++,r},ki.integer=function(){const r=ki.find(101),t=_R(ki.data,ki.position+1,r);return ki.position+=r+1-ki.position,t},ki.buffer=function(){let r=ki.find(58);const t=_R(ki.data,ki.position,r),n=++r+t;return ki.position=n,ki.encoding?kA(ki.data.slice(r,n)):ki.data.slice(r,n)};const Tg={encode:vR,decode:ki,byteLength:LE,encodingLength:LE},SR=/^(\d{1,3}\.){3,3}\d{1,3}$/,v7=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,jh={name:"v4",size:4,isFormat:r=>SR.test(r),encode(r,t,n){n=~~n,t=t||new Uint8Array(n+4);const i=r.length;let o=0;for(let c=0;c<i;){const a=r.charCodeAt(c++);46===a?(t[n++]=o,o=0):o=10*o+(a-48)}return t[n]=o,t},decode:(r,t)=>(t=~~t,`${r[t++]}.${r[t++]}.${r[t++]}.${r[t]}`)},c0={name:"v6",size:16,isFormat:r=>r.length>0&&v7.test(r),encode(r,t,n){let i=16+(n=~~n),o=-1,c=0,a=0,u=!0,U=!1;t=t||new Uint8Array(n+16);for(let P=0;P<r.length;P++){let b=r.charCodeAt(P);58===b?(u?-1!==o?(n<i&&(t[n]=0),n<i-1&&(t[n+1]=0),n+=2):n<i&&(o=n):(!0===U?(n<i&&(t[n]=a),n++):(n<i&&(t[n]=c>>8),n<i-1&&(t[n+1]=255&c),n+=2),c=0,a=0),u=!0,U=!1):46===b?(n<i&&(t[n]=a),n++,a=0,c=0,u=!1,U=!0):(u=!1,b>=97?b-=87:b>=65?b-=55:(b-=48,a=10*a+b),c=(c<<4)+b)}if(!1===u)!0===U?(n<i&&(t[n]=a),n++):(n<i&&(t[n]=c>>8),n<i-1&&(t[n+1]=255&c),n+=2);else if(0===o)n<i&&(t[n]=0),n<i-1&&(t[n+1]=0),n+=2;else if(-1!==o){n+=2;for(let P=Math.min(n-1,i-1);P>=o+2;P--)t[P]=t[P-2];t[o]=0,t[o+1]=0,o=n}if(o!==n&&-1!==o)for(n>i-2&&(n=i-2);i>o;)t[--i]=n<i&&n>o?t[--n]:0;else for(;n<i;)t[n++]=0;return t},decode(r,t){t=~~t;let n="";for(let i=0;i<16;i+=2)0!==i&&(n+=":"),n+=(r[t+i]<<8|r[t+i+1]).toString(16);return n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function TR(r){if(jh.isFormat(r))return jh.size;if(c0.isFormat(r))return c0.size;throw Error(`Invalid ip address: ${r}`)}function FE(r){switch(r){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+r}function Ew(r){switch(r.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return r.toUpperCase().startsWith("UNKNOWN_")?parseInt(r.slice(8)):0}function DR(r){switch(r){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+r}function IR(r){switch(r){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+r}function RA(r){switch(r){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+r}function i5(r){switch(r.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function kR(r){if("number"==typeof r)return r;if(!r)return-1;switch(r.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const t=r.match(/_(\d+)$/);return t?parseInt(t[1],10):-1}const s=55296,f=56320;function I(r){let t=0;const n=r.length;for(let i=0;i<n;i+=1){const o=r.charCodeAt(i);if(o<=127)t+=1;else if(o<=2047)t+=2;else if((63488&o)!==s)t+=3;else{const c=i+1;c===n||o>=f||(64512&r.charCodeAt(c))!==f?t+=3:(i=c,t+=4)}}return t}function H(r,t,n){const i=r.length;null==n&&(n=0),void 0===t&&(t=new Uint8Array(I(r)+n));let o=n;for(let c=0;c<i;c+=1){let a=r.charCodeAt(c);if(a<=127)t[o++]=a;else if(a<=2047)t[o++]=192|(1984&a)>>6,t[o++]=128|63&a;else if((63488&a)!==s)t[o++]=224|(61440&a)>>12,t[o++]=128|(4032&a)>>6,t[o++]=128|63&a;else{const u=c+1;if(u===i||a>=f)t[o++]=239,t[o++]=191,t[o++]=189;else{const U=r.charCodeAt(u);(64512&U)!==f?(t[o++]=239,t[o++]=191,t[o++]=189):(c=u,a=65536|(1023&a)<<10|1023&U,t[o++]=240|(1835008&a)>>18,t[o++]=128|(258048&a)>>12,t[o++]=128|(4032&a)>>6,t[o++]=128|63&a)}}}return H.bytes=o-n,t}function oe(r,t,n){let i="";null==t&&(t=0),null==n&&(n=r.length);for(let o=t;o<n;){const c=r[o++];let a;c<=128?a=c:c>191&&c<224?a=(31&c)<<6|63&r[o++]:c>239&&c<365?(a=((7&c)<<18|(63&r[o++])<<12|(63&r[o++])<<6|63&r[o++])-65536,i+=String.fromCharCode(s|a>>10&1023),a=f|1023&a):a=(15&c)<<12|(63&r[o++])<<6|63&r[o++],i+=String.fromCharCode(a)}return oe.bytes=n-t,i}H.bytes=0,oe.bytes=0;const be=r=>r instanceof Uint8Array;function Ce(r){return"string"==typeof r?I(r):r.byteLength}function Ke(r){return r instanceof Uint8Array?r:Array.isArray(r)?new Uint8Array(r):H(r)}function dt(r,t,n){if("string"!=typeof t)throw new Error("unknown input type");return H(t,r,n),H.bytes}const _t={},jt=new Array(255);for(let r=0;r<=15;r+=1){const t=r.toString(16),n=t.toUpperCase();for(let i=0;i<=15;i+=1){const o=i.toString(16),c=o.toUpperCase(),a=r<<4|i,u=`${t}${o}`;jt[a]=u,_t[u]=a,_t[`${n}${o}`]=a,_t[`${t}${c}`]=a,_t[`${n}${c}`]=a}}function an(r){return r.length>>>1}const Un=Math.pow(2,24),dr=Math.pow(2,16),Er=Math.pow(2,8),Kn=(r,t)=>r[t]*Un+r[t+1]*dr+r[t+2]*Er+r[t+3],gr=(r,t)=>r[t]<<8|r[t+1],Gi=(r,t,n)=>(r[n+3]=t=+t,r[n+2]=t>>>=8,r[n+1]=t>>>=8,r[n]=t>>>=8,n+4),Sr=(r,t,n)=>(r[n]=t>>8,r[n+1]=255&t,n+2);function Fo(r,t,n,i,o){return n<0&&(i-=n,n=0),i<0&&(i=0),o<0?new Uint8Array(0):n>=t.length||i>=o?0:function hl(r,t,n,i,o){o-i>t.length-n&&(o=i+t.length-n);let c=o-i;const a=r.length-i;return c>a&&(c=a),(0!==i||o<r.length)&&(r=new Uint8Array(r.buffer,r.byteOffset+i,c)),t.set(r,n),c}(r,t,n,i,o)}function ks({bytes:r=0,encode:t,decode:n,encodingLength:i}){return t.bytes=r,n.bytes=r,{encode:t,decode:n,encodingLength:i||(()=>r)}}const Gr=ks({encode(r,t,n){t||(t=new Uint8Array(Gr.encodingLength(r))),n||(n=0);const i=n,o=r.replace(/^\.|\.$/gm,"");if(o.length){const c=o.split(".");for(let a=0;a<c.length;a++){const u=dt(t,c[a],n+1);t[n]=u,n+=u+1}}return t[n++]=0,Gr.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=[];let i=t,o=0,c=0,a=!1;for(;;){if(t>=r.length)throw new Error("Cannot decode name (buffer overflow)");const u=r[t++];if(c+=a?0:1,0===u)break;if(192&u){if(192&~u)throw new Error("Cannot decode name (bad label)");{if(t+1>r.length)throw new Error("Cannot decode name (buffer overflow)");const U=gr(r,t-1)-49152;if(U>=i)throw new Error("Cannot decode name (bad pointer)");t=U,i=U,c+=a?0:1,a=!0}}else{if(t+u>r.length)throw new Error("Cannot decode name (buffer overflow)");if(o+=u+1,o>254)throw new Error("Cannot decode name (name too long)");n.push(oe(r,t,t+u)),t+=u,c+=a?0:u}}return Gr.decode.bytes=c,0===n.length?".":n.join(".")},encodingLength:r=>"."===r||".."===r?1:Ce(r.replace(/^\.|\.$/gm,""))+2}),jc=ks({encode(r,t,n){t||(t=new Uint8Array(jc.encodingLength(r))),n||(n=0);const i=dt(t,r,n+1);return t[n]=i,jc.encode.bytes=i+1,t},decode(r,t){t||(t=0);const n=r[t],i=oe(r,t+1,t+1+n);return jc.decode.bytes=n+1,i},encodingLength:r=>Ce(r)+1}),jE=ks({bytes:12,encode(r,t,n){t||(t=new Uint8Array(jE.encodingLength(r))),n||(n=0);const i=32767&(r.flags||0),o="response"===r.type?32768:0;return Sr(t,r.id||0,n),Sr(t,i|o,n+2),Sr(t,r.questions.length,n+4),Sr(t,r.answers.length,n+6),Sr(t,r.authorities.length,n+8),Sr(t,r.additionals.length,n+10),t},decode(r,t){if(t||(t=0),r.length<12)throw new Error("Header must be 12 bytes");const n=gr(r,t+2);return{id:gr(r,t),type:32768&n?"response":"query",flags:32767&n,flag_qr:1==(n>>15&1),opcode:IR(n>>11&15),flag_aa:1==(n>>10&1),flag_tc:1==(n>>9&1),flag_rd:1==(n>>8&1),flag_ra:1==(n>>7&1),flag_z:1==(n>>6&1),flag_ad:1==(n>>5&1),flag_cd:1==(n>>4&1),rcode:DR(15&n),questions:new Array(gr(r,t+4)),answers:new Array(gr(r,t+6)),authorities:new Array(gr(r,t+8)),additionals:new Array(gr(r,t+10))}},encodingLength:()=>12}),o5=ks({encode(r,t,n){t||(t=new Uint8Array(o5.encodingLength(r))),n||(n=0);const i=r.length;return Sr(t,i,n),Fo(r,t,n+2,0,i),o5.encode.bytes=i+2,t},decode(r,t){t||(t=0);const n=gr(r,t),i=r.slice(t+2,t+2+n);return o5.decode.bytes=n+2,i},encodingLength:r=>r.length+2}),s5=ks({encode:(r,t,n)=>(t||(t=new Uint8Array(s5.encodingLength(r))),n||(n=0),Gr.encode(r,t,n+2),Sr(t,Gr.encode.bytes,n),s5.encode.bytes=Gr.encode.bytes+2,t),decode(r,t){t||(t=0);const n=gr(r,t),i=Gr.decode(r,t+2);return s5.decode.bytes=n+2,i},encodingLength:r=>Gr.encodingLength(r)+2}),a5=ks({encode(r,t,n){t||(t=new Uint8Array(a5.encodingLength(r))),n||(n=0);const i=n;return Gr.encode(r.mname,t,n+=2),Gr.encode(r.rname,t,n+=Gr.encode.bytes),Gi(t,r.serial||0,n+=Gr.encode.bytes),Gi(t,r.refresh||0,n+=4),Gi(t,r.retry||0,n+=4),Gi(t,r.expire||0,n+=4),Gi(t,r.minimum||0,n+=4),Sr(t,(n+=4)-i-2,i),a5.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i={};return i.mname=Gr.decode(r,t+=2),i.rname=Gr.decode(r,t+=Gr.decode.bytes),i.serial=Kn(r,t+=Gr.decode.bytes),i.refresh=Kn(r,t+=4),i.retry=Kn(r,t+=4),i.expire=Kn(r,t+=4),i.minimum=Kn(r,t+=4),a5.decode.bytes=(t+=4)-n,i},encodingLength:r=>22+Gr.encodingLength(r.mname)+Gr.encodingLength(r.rname)}),c5=ks({encode(r,t,n){Array.isArray(r)||(r=[r]);for(let o=0;o<r.length;o++)if("string"==typeof r[o]&&(r[o]=Ke(r[o])),!be(r[o]))throw new Error("Must be a Buffer");t||(t=new Uint8Array(c5.encodingLength(r))),n||(n=0);const i=n;return n+=2,r.forEach(function(o){t[n++]=o.length,Fo(o,t,n,0,o.length),n+=o.length}),Sr(t,n-i-2,i),c5.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t;let i=gr(r,t);t+=2;const o=[];for(;i>0;){const c=r[t++];if(--i,i<c)throw new Error("Buffer overflow");o.push(r.slice(t,t+c)),t+=c,i-=c}return c5.decode.bytes=t-n,o},encodingLength(r){Array.isArray(r)||(r=[r]);let t=2;return r.forEach(function(n){t+="string"==typeof n?Ce(n)+1:n.length+1}),t}}),d5=ks({encode(r,t,n){t||(t=new Uint8Array(d5.encodingLength(r))),n||(n=0),"string"==typeof r&&(r=Ke(r)),r||(r=new Uint8Array(0));const i=n,o=r.length;return Fo(r,t,n+=2,0,o),Sr(t,(n+=o)-i-2,i),d5.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i=gr(r,t),o=r.slice(t+=2,t+i);return d5.decode.bytes=(t+=i)-n,o},encodingLength:r=>r?(be(r)?r.length:Ce(r))+2:2}),l5=ks({encode(r,t,n){t||(t=new Uint8Array(l5.encodingLength(r))),n||(n=0);const i=n;return jc.encode(r.cpu,t,n+=2),jc.encode(r.os,t,n+=jc.encode.bytes),Sr(t,(n+=jc.encode.bytes)-i-2,i),l5.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i={};return i.cpu=jc.decode(r,t+=2),i.os=jc.decode(r,t+=jc.decode.bytes),l5.decode.bytes=(t+=jc.decode.bytes)-n,i},encodingLength:r=>jc.encodingLength(r.cpu)+jc.encodingLength(r.os)+2}),KE=ks({encode:(r,t,n)=>(t||(t=new Uint8Array(KE.encodingLength(r))),n||(n=0),Gr.encode(r,t,n+2),Sr(t,Gr.encode.bytes,n),KE.encode.bytes=Gr.encode.bytes+2,t),decode(r,t){t||(t=0);const n=Gr.decode(r,t+2);return KE.decode.bytes=Gr.decode.bytes+2,n},encodingLength:r=>Gr.encodingLength(r)+2}),u5=ks({encode(r,t,n){t||(t=new Uint8Array(u5.encodingLength(r))),n||(n=0),Sr(t,r.priority||0,n+2),Sr(t,r.weight||0,n+4),Sr(t,r.port||0,n+6),Gr.encode(r.target,t,n+8);const i=Gr.encode.bytes+6;return Sr(t,i,n),u5.encode.bytes=i+2,t},decode(r,t){t||(t=0);const n=gr(r,t),i={};return i.priority=gr(r,t+2),i.weight=gr(r,t+4),i.port=gr(r,t+6),i.target=Gr.decode(r,t+8),u5.decode.bytes=n+2,i},encodingLength:r=>8+Gr.encodingLength(r.target)}),Ig=ks({encode(r,t,n){const i=Ig.encodingLength(r);return t||(t=new Uint8Array(Ig.encodingLength(r))),n||(n=0),r.issuerCritical&&(r.flags=Ig.ISSUER_CRITICAL),Sr(t,i-2,n),t[n+=2]=r.flags||0,jc.encode(r.tag,t,n+=1),dt(t,r.value,n+=jc.encode.bytes),n+=Ce(r.value),Ig.encode.bytes=i,t},decode(r,t){t||(t=0);const n=gr(r,t),i=t+=2,o={};return o.flags=r[t],o.tag=jc.decode(r,t+=1),o.value=oe(r,t+=jc.decode.bytes,i+n),o.issuerCritical=!!(o.flags&Ig.ISSUER_CRITICAL),Ig.decode.bytes=n+2,o},encodingLength:r=>jc.encodingLength(r.tag)+jc.encodingLength(r.value)+2});Ig.ISSUER_CRITICAL=128;const f5=ks({encode(r,t,n){t||(t=new Uint8Array(f5.encodingLength(r))),n||(n=0);const i=n;return Sr(t,r.preference||0,n+=2),Gr.encode(r.exchange,t,n+=2),Sr(t,(n+=Gr.encode.bytes)-i-2,i),f5.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i={};return i.preference=gr(r,t+=2),i.exchange=Gr.decode(r,t+=2),f5.decode.bytes=(t+=Gr.decode.bytes)-n,i},encodingLength:r=>4+Gr.encodingLength(r.exchange)}),A7=ks({encode:(r,t,n)=>(t||(t=new Uint8Array(A7.encodingLength(r))),n||(n=0),Sr(t,4,n),jh.encode(r,t,n+=2),t),decode:(r,t)=>(t||(t=0),jh.decode(r,t+=2)),bytes:6}),h5=ks({encode:(r,t,n)=>(t||(t=new Uint8Array(h5.encodingLength(r))),n||(n=0),Sr(t,16,n),c0.encode(r,t,n+=2),h5.encode.bytes=18,t),decode(r,t){t||(t=0);const n=c0.decode(r,t+=2);return h5.decode.bytes=18,n},bytes:18}),T7=r=>new Uint8Array(r),d0=ks({encode(r,t,n){t||(t=new Uint8Array(d0.encodingLength(r))),n||(n=0);const i=n,o=kR(r.code);if(Sr(t,o,n),n+=2,r.data)Sr(t,r.data.length,n),Fo(r.data,t,n+=2),n+=r.data.length;else switch(o){case 8:{const c=r.sourcePrefixLength||0,a=r.family||function w7(r){return TR(r)===jh.size?1:2}(r.ip),u=function _7(r,t,n){n=~~n;const i=TR(r);return"function"==typeof t&&(t=t(n+i)),i===jh.size?jh.encode(r,t,n):c0.encode(r,t,n)}(r.ip,T7),U=Math.ceil(c/8);Sr(t,U+4,n),Sr(t,a,n+=2),n+=2,t[n++]=c,t[n++]=r.scopePrefixLength||0,Fo(u,t,n,0,U),n+=U}break;case 11:r.timeout?(Sr(t,2,n),Sr(t,r.timeout,n+=2),n+=2):(Sr(t,0,n),n+=2);break;case 12:{const c=r.length||0;Sr(t,c,n),t.fill(0,n+=2,n+c),n+=c}break;case 14:Sr(t,2*r.tags.length,n),n+=2;for(const a of r.tags)Sr(t,a,n),n+=2;break;default:throw new Error(`Unknown roption code: ${r.code}`)}return d0.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n={};n.code=gr(r,t),n.type=function CR(r){switch(r){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return r<0?null:`OPTION_${r}`}(n.code);const i=gr(r,t+=2);switch(n.data=r.slice(t+=2,t+i),n.code){case 8:n.family=gr(r,t),t+=2,n.sourcePrefixLength=r[t++],n.scopePrefixLength=r[t++];{const o=new Uint8Array(1===n.family?4:16);Fo(r,o,0,t,t+i-4),n.ip=function E7(r,t,n){if(t=~~t,(n=n||r.length-t)===jh.size)return jh.decode(r,t,n);if(n===c0.size)return c0.decode(r,t,n);throw Error(`Invalid buffer size needs to be ${jh.size} for v4 or ${c0.size} for v6.`)}(o)}break;case 11:i>0&&(n.timeout=gr(r,t),t+=2);break;case 14:n.tags=[];for(let o=0;o<i;o+=2)n.tags.push(gr(r,t)),t+=2}return d0.decode.bytes=i+4,n},encodingLength(r){if(r.data)return r.data.length+4;switch(kR(r.code)){case 8:return Math.ceil((r.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof r.timeout?6:4;case 12:return r.length+4;case 14:return 4+2*r.tags.length}throw new Error(`Unknown roption code: ${r.code}`)}}),Cg=ks({encode(r,t,n){t||(t=new Uint8Array(Cg.encodingLength(r))),n||(n=0);const i=n,o=HE(r,d0);return Sr(t,o,n),n=VA(r,d0,t,n+2),Cg.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i=[];let o=gr(r,t);t+=2;let c=0;for(;o>0;)i[c++]=d0.decode(r,t),t+=d0.decode.bytes,o-=d0.decode.bytes;return Cg.decode.bytes=t-n,i},encodingLength:r=>2+HE(r||[],d0)}),$p=ks({encode(r,t,n){t||(t=new Uint8Array($p.encodingLength(r))),n||(n=0);const i=n,o=r.key;if(!be(o))throw new Error("Key must be a Buffer");return Sr(t,r.flags,n+=2),t[n+=2]=$p.PROTOCOL_DNSSEC,t[n+=1]=r.algorithm,Fo(o,t,n+=1,0,o.length),$p.encode.bytes=(n+=o.length)-i,Sr(t,$p.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=gr(r,t);if(i.flags=gr(r,t+=2),r[t+=2]!==$p.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return i.algorithm=r[t+=1],i.key=r.slice(t+=1,n+o+2),$p.decode.bytes=(t+=i.key.length)-n,i},encodingLength:r=>6+Ce(r.key)});$p.PROTOCOL_DNSSEC=3,$p.ZONE_KEY=128,$p.SECURE_ENTRYPOINT=32768;const UA=ks({encode(r,t,n){t||(t=new Uint8Array(UA.encodingLength(r))),n||(n=0);const i=n,o=r.signature;if(!be(o))throw new Error("Signature must be a Buffer");return n+=2,Sr(t,Ew(r.typeCovered),n),t[n+=2]=r.algorithm,t[n+=1]=r.labels,Gi(t,r.originalTTL,n+=1),Gi(t,r.expiration,n+=4),Gi(t,r.inception,n+=4),Sr(t,r.keyTag,n+=4),Gr.encode(r.signersName,t,n+=2),Fo(o,t,n+=Gr.encode.bytes,0,o.length),UA.encode.bytes=(n+=o.length)-i,Sr(t,UA.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=gr(r,t);return i.typeCovered=FE(gr(r,t+=2)),i.algorithm=r[t+=2],i.labels=r[t+=1],i.originalTTL=Kn(r,t+=1),i.expiration=Kn(r,t+=4),i.inception=Kn(r,t+=4),i.keyTag=gr(r,t+=4),i.signersName=Gr.decode(r,t+=2),i.signature=r.slice(t+=Gr.decode.bytes,n+o+2),UA.decode.bytes=(t+=i.signature.length)-n,i},encodingLength:r=>20+Gr.encodingLength(r.signersName)+Ce(r.signature)}),LA=ks({encode(r,t,n){t||(t=new Uint8Array(LA.encodingLength(r))),n||(n=0);const i=n;return Gr.encode(r.mbox||".",t,n+=2),Gr.encode(r.txt||".",t,n+=Gr.encode.bytes),LA.encode.bytes=(n+=Gr.encode.bytes)-i,Sr(t,LA.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={};return i.mbox=Gr.decode(r,t+=2)||".",i.txt=Gr.decode(r,t+=Gr.decode.bytes)||".",LA.decode.bytes=(t+=Gr.decode.bytes)-n,i},encodingLength:r=>2+Gr.encodingLength(r.mbox||".")+Gr.encodingLength(r.txt||".")}),Ku=ks({encode(r,t,n){t||(t=new Uint8Array(Ku.encodingLength(r))),n||(n=0);const i=n,o=[];for(let c=0;c<r.length;c++){const a=Ew(r[c]);void 0===o[a>>8]&&(o[a>>8]=[]),o[a>>8][a>>3&31]|=1<<7-(7&a)}for(let c=0;c<o.length;c++)if(void 0!==o[c]){const a=Ke(o[c]);t[n]=c,t[n+=1]=a.length,Fo(a,t,n+=1,0,a.length),n+=a.length}return Ku.encode.bytes=n-i,t},decode(r,t,n){t||(t=0);const i=t,o=[];for(;t-i<n;){const c=r[t],a=r[t+=1];t+=1;for(let u=0;u<a;u++){const U=r[t+u];for(let P=0;P<8;P++)if(U&1<<7-P){const b=FE(c<<8|u<<3|P);o.push(b)}}t+=a}return Ku.decode.bytes=t-i,o},encodingLength(r){const t=[];for(let i=0;i<r.length;i++){const o=Ew(r[i]);t[o>>8]=Math.max(t[o>>8]||0,255&o)}let n=0;for(let i=0;i<t.length;i++)void 0!==t[i]&&(n+=2+Math.ceil((t[i]+1)/8));return n}}),FA=ks({encode(r,t,n){t||(t=new Uint8Array(FA.encodingLength(r))),n||(n=0);const i=n;return Gr.encode(r.nextDomain,t,n+=2),Ku.encode(r.rrtypes,t,n+=Gr.encode.bytes),FA.encode.bytes=(n+=Ku.encode.bytes)-i,Sr(t,FA.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=gr(r,t);return i.nextDomain=Gr.decode(r,t+=2),i.rrtypes=Ku.decode(r,t+=Gr.decode.bytes,o-(t-n)),FA.decode.bytes=(t+=Ku.decode.bytes)-n,i},encodingLength:r=>2+Gr.encodingLength(r.nextDomain)+Ku.encodingLength(r.rrtypes)}),jA=ks({encode(r,t,n){t||(t=new Uint8Array(jA.encodingLength(r))),n||(n=0);const i=n,o=r.salt;if(!be(o))throw new Error("salt must be a Buffer");const c=r.nextDomain;if(!be(c))throw new Error("nextDomain must be a Buffer");return t[n+=2]=r.algorithm,t[n+=1]=r.flags,Sr(t,r.iterations,n+=1),t[n+=2]=o.length,Fo(o,t,n+=1,0,o.length),t[n+=o.length]=c.length,Fo(c,t,n+=1,0,c.length),Ku.encode(r.rrtypes,t,n+=c.length),jA.encode.bytes=(n+=Ku.encode.bytes)-i,Sr(t,jA.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=gr(r,t);i.algorithm=r[t+=2],i.flags=r[t+=1],i.iterations=gr(r,t+=1);const c=r[t+=2];i.salt=r.slice(t+=1,t+c);const a=r[t+=c];return i.nextDomain=r.slice(t+=1,t+a),i.rrtypes=Ku.decode(r,t+=a,o-(t-n)),jA.decode.bytes=(t+=Ku.decode.bytes)-n,i},encodingLength:r=>8+r.salt.length+r.nextDomain.length+Ku.encodingLength(r.rrtypes)}),KA=ks({encode(r,t,n){t||(t=new Uint8Array(KA.encodingLength(r))),n||(n=0);const i=n,o=r.digest;if(!be(o))throw new Error("Digest must be a Buffer");return Sr(t,r.keyTag,n+=2),t[n+=2]=r.algorithm,t[n+=1]=r.digestType,Fo(o,t,n+=1,0,o.length),KA.encode.bytes=(n+=o.length)-i,Sr(t,KA.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=gr(r,t);return i.keyTag=gr(r,t+=2),i.algorithm=r[t+=2],i.digestType=r[t+=1],i.digest=r.slice(t+=1,n+o+2),KA.decode.bytes=(t+=i.digest.length)-n,i},encodingLength:r=>6+Ce(r.digest)}),$E=ks({encode(r,t,n){t||(t=new Uint8Array($E.encodingLength(r))),n||(n=0);const i=n;t[n+=2]=r.algorithm,t[n+=1]=r.hash,n+=1;const o=an(r.fingerprint),c=PR(r.hash);if(o!==c)throw new Error(`Invalid length of fingerprint "${r.fingerprint}" for hashType=${r.hash}: ${o} != ${c}`);return function En(r,t,n,i){let o=0;for(;n<i;){const c=t.substr(o,2),a=_t[c];if(void 0===a)return;r[n++]=a,o+=2}}(t,r.fingerprint,n,n+=o),$E.encode.bytes=n-i,Sr(t,$E.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={};i.algorithm=r[t+=2],i.hash=r[t+=1],t+=1;const o=PR(i.hash);return i.fingerprint=function on(r,t,n){let i="";for(let o=t;o<n;){const c=r[o++];i+=jt[c]}return i}(r,t,t+o),$E.decode.bytes=(t+=o)-n,i},encodingLength:r=>4+an(r.fingerprint)});function PR(r){if(1===r)return 20;if(2===r)return 32;throw new Error(`Invalid hashType=${r}, supported=1,2`)}function OR(r){switch(r.toUpperCase()){case"A":return A7;case"PTR":case"CNAME":case"DNAME":return KE;case"TXT":return c5;case"NULL":return d5;case"AAAA":return h5;case"SRV":return u5;case"HINFO":return l5;case"CAA":return Ig;case"NS":return s5;case"SOA":return a5;case"MX":return f5;case"OPT":return Cg;case"DNSKEY":return $p;case"RRSIG":return UA;case"RP":return LA;case"NSEC":return FA;case"NSEC3":return jA;case"SSHFP":return $E;case"DS":return KA}return o5}$E.getFingerprintLengthForHashType=PR;const jf=ks({encode(r,t,n){t||(t=new Uint8Array(jf.encodingLength(r))),n||(n=0);const i=n;if(Gr.encode(r.name,t,n),n+=Gr.encode.bytes,Sr(t,Ew(r.type),n),"OPT"===r.type.toUpperCase()){if("."!==r.name)throw new Error("OPT name must be root.");Sr(t,r.udpPayloadSize||4096,n+2),t[n+4]=r.extendedRcode||0,t[n+5]=r.ednsVersion||0,Sr(t,r.flags||0,n+6),Cg.encode(r.options||[],t,n+=8),n+=Cg.encode.bytes}else{let o=i5(void 0===r.class?"IN":r.class);r.flush&&(o|=32768),Sr(t,o,n+2),Gi(t,r.ttl||0,n+4),n+=8;const c=OR(r.type);c.encode(r.data,t,n),n+=c.encode.bytes}return jf.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n={},i=t;if(n.name=Gr.decode(r,t),n.type=FE(gr(r,t+=Gr.decode.bytes)),"OPT"===n.type)n.udpPayloadSize=gr(r,t+2),n.extendedRcode=r[t+4],n.ednsVersion=r[t+5],n.flags=gr(r,t+6),n.flag_do=1==(n.flags>>15&1),n.options=Cg.decode(r,t+8),t+=8+Cg.decode.bytes;else{const o=gr(r,t+2);n.ttl=Kn(r,t+4),n.class=RA(-32769&o),n.flush=!!(32768&o);const c=OR(n.type);n.data=c.decode(r,t+8),t+=8+c.decode.bytes}return jf.decode.bytes=t-i,n},encodingLength(r){const t=null!=r.data?r.data:r.options;return Gr.encodingLength(r.name)+8+OR(r.type).encodingLength(t)}}),VE=ks({encode(r,t,n){t||(t=new Uint8Array(VE.encodingLength(r))),n||(n=0);const i=n;return Gr.encode(r.name,t,n),n+=Gr.encode.bytes,Sr(t,Ew(r.type),n),n+=2,Sr(t,i5(void 0===r.class?"IN":r.class),n),VE.encode.bytes=(n+=2)-i,r},decode(r,t){t||(t=0);const n=t,i={};return i.name=Gr.decode(r,t),i.type=FE(gr(r,t+=Gr.decode.bytes)),i.class=RA(gr(r,t+=2)),t+=2,!!(32768&i.class)&&(i.class&=-32769),VE.decode.bytes=t-n,i},encodingLength:r=>Gr.encodingLength(r.name)+4}),jd={encode:function(r,t,n){const i=!t;i&&(t=new Uint8Array(BF(r))),n||(n=0);const o=n;return r.questions||(r.questions=[]),r.answers||(r.answers=[]),r.authorities||(r.authorities=[]),r.additionals||(r.additionals=[]),jE.encode(r,t,n),n=VA(r.questions,VE,t,n+=jE.encode.bytes),n=VA(r.answers,jf,t,n),n=VA(r.authorities,jf,t,n),n=VA(r.additionals,jf,t,n),jd.encode.bytes=n-o,i&&zE.bytes!==t.length?t.slice(0,zE.bytes):t},decode:function(r,t){t||(t=0);const n=t,i=jE.decode(r,t);return t=g5(i.questions,VE,r,t+=jE.decode.bytes),t=g5(i.answers,jf,r,t),t=g5(i.authorities,jf,r,t),t=g5(i.additionals,jf,r,t),jd.decode.bytes=t-n,i},encodingLength:function(r){return jE.encodingLength(r)+HE(r.questions||[],VE)+HE(r.answers||[],jf)+HE(r.authorities||[],jf)+HE(r.additionals||[],jf)}};function p5(r,t){if(r.questions)throw new Error("Only one .question object expected instead of a .questions array!");const n=Object.assign({type:t},r);return n.question&&(n.questions=[n.question],delete n.question),n}jd.encode.bytes=0,jd.decode.bytes=0;const m5={encode:function(r,t,n){return t=jd.encode(p5(r,"query"),t,n),m5.encode.bytes=jd.encode.bytes,t},decode:function(r,t){const n=jd.decode(r,t);return m5.decode.bytes=jd.decode.bytes,n.questions&&(n.question=n.questions[0],delete n.questions),n},encodingLength:function(r){return jd.encodingLength(p5(r,"query"))}};m5.encode.bytes=0,m5.decode.bytes=0;const y5={encode:function(r,t,n){return t=jd.encode(p5(r,"response"),t,n),y5.encode.bytes=jd.encode.bytes,t},decode:function(r,t){const n=jd.decode(r,t);return y5.decode.bytes=jd.decode.bytes,n.questions&&(n.question=n.questions[0],delete n.questions),n},encodingLength:function(r){return jd.encodingLength(p5(r,"response"))}};y5.encode.bytes=0,y5.decode.bytes=0;const zE=jd.encode,$A=jd.decode,BF=jd.encodingLength;function HE(r,t){let n=0;for(let i=0;i<r.length;i++)n+=t.encodingLength(r[i]);return n}function VA(r,t,n,i){for(let o=0;o<r.length;o++)t.encode(r[o],n,i),i+=t.encode.bytes;return i}function g5(r,t,n,i){for(let o=0;o<r.length;o++)r[o]=t.decode(n,i),i+=t.decode.bytes;return i}var C7=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class BR{static getSigningMethod(t){return C7(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return C7(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var ld=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},k7=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const P7="https://diddht.tbddev.org",kg=7200,Tl=",";var O7=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(O7||{}),su=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(su||{}),R7=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(R7||{});const B7={Ed25519:su.Ed25519,ES256K:su.secp256k1,ES256:su.secp256r1,"P-256":su.secp256r1,secp256k1:su.secp256k1,secp256r1:su.secp256r1,X25519:su.X25519},N7={[su.Ed25519]:"Ed25519",[su.secp256k1]:"ES256K",[su.secp256r1]:"ES256",[su.X25519]:"ECDH-ES+A256KW"};let NR=(()=>{class r extends BR{static create(){return ld(this,arguments,void 0,function*({keyManager:n=new gg,options:i={}}={}){var o,c,a,u,U,P,b,K,_e,Te,Se;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(wt=>!(wt.algorithm in B7)))throw new Error("One or more verification method algorithms are not supported");const Re=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(wt=>"id"in wt).map(wt=>wt.id);if(Re&&Re.length!==new Set(Re).size)throw new Error("One or more verification method IDs are not unique");if(null!==(a=i.services)&&void 0!==a&&a.some(wt=>!wt.id||!wt.type||!wt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ge=yield n.generateKey({algorithm:"Ed25519"}),ct=yield n.getPublicKey({keyUri:Ge}),Xe=yield yc.identityKeyToIdentifier({identityKey:ct}),Je=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(u=i.verificationMethods)&&void 0!==u?u:[]];lt?.some(wt=>{var Ct;return"0"===(null===(Ct=wt.id)||void 0===Ct?void 0:Ct.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const wt of lt){const Ct=wt.id&&"0"===wt.id.split("#").pop()?Ge:yield n.generateKey({algorithm:wt.algorithm}),xt=yield n.getPublicKey({keyUri:Ct});let Zt=null!==(P=null!==(U=wt.id)&&void 0!==U?U:xt.kid)&&void 0!==P?P:yield os({jwk:xt});Zt=`${Xe}#${Lf(Zt)}`,null!==(b=Je.verificationMethod)&&void 0!==b||(Je.verificationMethod=[]),Je.verificationMethod.push({id:Zt,type:"JsonWebKey",controller:null!==(K=wt.controller)&&void 0!==K?K:Xe,publicKeyJwk:xt});for(const hn of null!==(_e=wt.purposes)&&void 0!==_e?_e:[])Je[hn]||(Je[hn]=[]),Je[hn].push(Zt)}null===(Te=i.services)||void 0===Te||Te.forEach(wt=>{var Ct;null!==(Ct=Je.service)&&void 0!==Ct||(Je.service=[]),wt.id=`${Xe}#${wt.id.split("#").pop()}`,Je.service.push(wt)});const Et=new s0({uri:Xe,document:Je,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Se=i.publish)||void 0===Se||Se){const wt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=wt.didDocumentMetadata}return Et})}static import(n){return ld(this,arguments,void 0,function*({portableDid:i,keyManager:o=new gg}){var c;const a=Zo.parse(i.uri);if(a?.method!==r.methodName)throw new fi(_i.MethodNotSupported,"Method not supported");const u=yield s0.import({portableDid:i,keyManager:o});if(null===(c=u.document.verificationMethod)||void 0===c||!c.some(U=>{var P;return"0"===(null===(P=U.id)||void 0===P?void 0:P.split("#").pop())}))throw new fi(_i.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return ld(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const a=Zo.parse(i.id);if(a&&a.method!==this.methodName)throw new fi(_i.MethodNotSupported,`Method not supported: ${a.method}`);const u=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(U=>{var P,b;return Lf(U.id)===(null!==(P=Lf(o))&&void 0!==P?P:Lf(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!u||!u.publicKeyJwk)throw new fi(_i.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return ld(this,arguments,void 0,function*({did:i,gatewayUri:o=P7}){return yield l0.put({did:i,gatewayUri:o})})}static resolve(n){return ld(this,arguments,void 0,function*(i,o={}){var c;const a=null!==(c=o?.gatewayUri)&&void 0!==c?c:P7;try{yield yc.identifierToIdentityKey({didUri:i});const{didDocument:u,didDocumentMetadata:U}=yield l0.get({didUri:i,gatewayUri:a});return Object.assign(Object.assign({},Bf),{didDocument:u,didDocumentMetadata:U})}catch(u){if(!(u instanceof fi))throw new Error(u);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class l0{static get(t){return ld(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=yc.identifierToIdentityKeyBytes({didUri:n}),c=yield l0.pkarrGet({gatewayUri:i,publicKeyBytes:o}),a=yield yc.parseBep44GetMessage({bep44Message:c}),u=yield l0.fromDnsPacket({didUri:n,dnsPacket:a});return u.didDocumentMetadata.versionId=c.seq.toString(),u})}static put(t){return ld(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield l0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield yc.createBep44PutMessage({dnsPacket:o,publicKeyBytes:yc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),a=yield l0.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:a,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return ld(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=Jt.U$.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let a;try{if(a=yield fetch(c,{method:"GET"}),!a.ok)throw new fi(_i.NotFound,`Pkarr record not found for: ${o}`)}catch(P){throw P instanceof fi?P:new fi(_i.InternalError,`Failed to fetch Pkarr record: ${P.message}`)}const u=yield a.arrayBuffer();if(!u)throw new fi(_i.NotFound,`Pkarr record not found for: ${o}`);if(u.byteLength<72)throw new fi(_i.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new fi(_i.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:i,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return ld(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=Jt.U$.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,a=new Uint8Array(i.v.length+72);let u;a.set(i.sig,0),new DataView(a.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),a.set(i.v,i.sig.length+8);try{u=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a})}catch(U){throw new fi(_i.InternalError,`Failed to put Pkarr record for identifier ${o}: ${U.message}`)}return u.ok})}static fromDnsPacket(t){return ld(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,a;const u={id:n},U={published:!0},P=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=yc.parseTxtDataToString(b.data);u.alsoKnownAs=_e.split(Tl);break}case K.startsWith("cnt"):{const _e=yc.parseTxtDataToString(b.data);u.controller=_e.includes(Tl)?_e.split(Tl):_e;break}case K.startsWith("k"):{const{id:_e,t:Te,k:Se,c:Re,a:Ge}=yc.parseTxtDataToObject(b.data),ct=Jt.U$.base64Url(Se).toUint8Array(),Xe=su[Number(Te)];let Je=yield yc.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:ct});Je.alg=Ge||N7[Number(Te)];const lt="k0"===K?"0":void 0!==_e?_e:yield os({jwk:Je});null!==(c=u.verificationMethod)&&void 0!==c||(u.verificationMethod=[]);const Et=`${n}#${lt}`;u.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Re??n,publicKeyJwk:Je}),P.set(K,Et);break}case K.startsWith("s"):{const _e=yc.parseTxtDataToObject(b.data),{id:Te,t:Se,se:Re}=_e,Ge=k7(_e,["id","t","se"]),ct=Re.includes(Tl)?Re.split(Tl):[Re],Xe=Object.fromEntries(Object.entries(Ge).map(([Je,lt])=>[Je,lt.includes(Tl)?lt.split(Tl):lt]));null!==(a=u.service)&&void 0!==a||(u.service=[]),u.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Te}`,type:Se,serviceEndpoint:ct}));break}case K.startsWith("typ"):{const{id:_e}=yc.parseTxtDataToObject(b.data);U.types=_e.split(Tl).map(Te=>Number(Te));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Tl).map(Je=>P.get(Je)).filter(Je=>"string"==typeof Je),{auth:Te,asm:Se,del:Re,inv:Ge,agm:ct}=yc.parseTxtDataToObject(b.data);Te&&(u.authentication=_e(Te)),Se&&(u.assertionMethod=_e(Se)),Re&&(u.capabilityDelegation=_e(Re)),Ge&&(u.capabilityInvocation=_e(Ge)),ct&&(u.keyAgreement=_e(ct));break}}}return{didDocument:u,didDocumentMetadata:U,didResolutionMetadata:{}}})}static toDnsPacket(t){return ld(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var a,u,U,P,b;const K=[],_e=[],Te=new Map,Se=[],Re=[];if(void 0!==c){const{signature:Xe,previousDid:Je}=c;yield yc.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:kg,data:`id=${Je};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:kg,data:n.alsoKnownAs.join(Tl)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Tl):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:kg,data:Xe})}for(const[Xe,Je]of null!==(u=null===(a=n.verificationMethod)||void 0===a?void 0:a.entries())&&void 0!==u?u:[]){const lt=`k${Xe}`;Re.push(lt);let Et=Je.id.split("#").pop();Te.set(Et,lt);const wt=Je.publicKeyJwk;if(!wt?.crv||!(wt.crv in B7))throw new fi(_i.InvalidPublicKeyType,`Verification method '${Je.id}' contains an unsupported key type: ${null!==(U=wt?.crv)&&void 0!==U?U:"undefined"}`);const Ct=su[wt.crv],xt=yield yc.keyConverter(wt.crv).publicKeyToBytes({publicKey:wt}),hn=[`t=${Ct}`,`k=${Jt.U$.uint8Array(xt).toBase64Url()}`];"0"!==Et&&(yield os({jwk:wt}))!==Et&&hn.unshift(`id=${Et}`),wt.alg!==N7[Ct]&&hn.push(`a=${wt.alg}`),Je.controller!==n.id&&hn.push(`c=${Je.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:kg,data:hn.join(";")})}null===(P=n.service)||void 0===P||P.forEach((Xe,Je)=>{const lt=`s${Je}`;Se.push(lt);let{id:Et,type:wt,serviceEndpoint:Ct}=Xe,xt=k7(Xe,["id","type","serviceEndpoint"]);Et=Lf(Et),Ct=Array.isArray(Ct)?Ct.join(","):Ct;const hn=Object.entries(Object.assign({id:Et,t:wt,se:Ct},xt)).map(([Cn,gn])=>`${Cn}=${gn}`).join(";"),_n=yc.chunkDataIfNeeded(hn);K.push({type:"TXT",name:`_${lt}._did.`,ttl:kg,data:_n})});const Ge=["v=0"];if(Re.length&&Ge.push(`vm=${Re.join(Tl)}`),Object.keys(hA).forEach(Xe=>{var Je;const lt=null===(Je=n[Xe])||void 0===Je?void 0:Je.map(Et=>Te.get(Et.split("#").pop()));lt&&Ge.push(`${R7[Xe]}=${lt.join(Tl)}`)}),Se.length&&Ge.push(`svc=${Se.join(Tl)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Je=i.types.map(lt=>"string"==typeof lt?O7[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:kg,data:`id=${Je.join(Tl)}`})}K.push({type:"TXT",name:"_did."+l0.getUniqueDidSuffix(n.id)+".",ttl:kg,data:Ge.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+l0.getUniqueDidSuffix(n.id)+".",ttl:kg,data:Xe+"."});return{id:0,type:"response",flags:1024,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class yc{static createBep44PutMessage(t){return ld(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),a=zE(n),u=Tg.encode({seq:c,v:a}).subarray(1,-1);if(u.length>1e3)throw new fi(_i.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:u}),v:a}})}static identifierToIdentityKey(t){return ld(this,arguments,void 0,function*({didUri:n}){let i=yc.identifierToIdentityKeyBytes({didUri:n});return yield Ks.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Zo.parse(t);if(!n)throw new fi(_i.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==NR.methodName)throw new fi(_i.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=Jt.U$.base32Z(n.id).toUint8Array()}catch{throw new fi(_i.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new fi(_i.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return ld(this,arguments,void 0,function*({identityKey:n}){const i=yield Ks.publicKeyToBytes({publicKey:n}),o=Jt.U$.uint8Array(i).toBase32Z();return`did:${NR.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:Ks,"P-256":{publicKeyToBytes:o=>ld(this,[o],void 0,function*({publicKey:c}){const a=yield qs.publicKeyToBytes({publicKey:c});return yield qs.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:qs.bytesToPublicKey,privateKeyToBytes:qs.privateKeyToBytes,bytesToPrivateKey:qs.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>ld(this,[o],void 0,function*({publicKey:c}){const a=yield Js.publicKeyToBytes({publicKey:c});return yield Js.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:Js.bytesToPublicKey,privateKeyToBytes:Js.privateKeyToBytes,bytesToPrivateKey:Js.bytesToPrivateKey},X25519:wg}[t];if(!i)throw new fi(_i.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return ld(this,arguments,void 0,function*({bep44Message:n}){const i=yield Ks.bytesToPublicKey({publicKeyBytes:n.k}),o=Tg.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield Ks.verify({key:i,signature:n.sig,data:o})))throw new fi(_i.InvalidSignature,"Invalid signature for DHT BEP44 message");return $A(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Jt.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new fi(_i.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return ld(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield yc.identifierToIdentityKey({didUri:i.previousDid}),c=yc.identifierToIdentityKeyBytes({didUri:n}),a=Jt.U$.base64Url(i.signature).toUint8Array();if(!(yield Ks.verify({key:o,data:c,signature:a})))throw new fi(_i.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}class Za extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class FF{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class jF{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return U7(this,t)}}class KF{constructor(t){this.decoders=t}or(t){return U7(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const U7=(r,t)=>new KF({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class $F{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new FF(t,n,i),this.decoder=new jF(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const b5=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>(({name:r,prefix:t,encode:n,decode:i})=>new $F(r,t,n,i))({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let c="",a=0,u=0;for(let U=0;U<r.length;++U)for(u=u<<8|r[U],a+=8;a>n;)a-=n,c+=t[o&u>>a];if(a&&(c+=t[o&u<<n-a]),i)for(;c.length*n&7;)c+="=";return c})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const a=new Uint8Array(c*n/8|0);let u=0,U=0,P=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);U=U<<n|K,u+=n,u>=8&&(u-=8,a[P++]=255&U>>u)}if(u>=n||255&U<<8-u)throw new SyntaxError("Unexpected end of data");return a})(o,i,n,r)}),F7=(b5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),b5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),b5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));b5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class Vp{static encode(t){return F7.baseEncode(t)}static decodeAsBytes(t,n){if(!Vp.isBase64UrlString(t))throw new Za("EncodedStringIncorrectEncoding",`Given ${n} must be base64url string.`);return F7.baseDecode(t)}static decodeAsString(t,n){const i=Vp.decodeAsBytes(t,n);return Vp.bytesToString(i)}static isBase64UrlString(t){return/^[A-Za-z0-9_-]+$/.test(t)}static stringToBytes(t){return(new TextEncoder).encode(t)}static bytesToString(t){return(new TextDecoder).decode(t)}}var HF=E(95568),j7=function(r){return r.Public="public",r.Private="private",r}(j7||{});const zp=j7;class $u{static validateEs256kOperationKey(t,n){const i=new Set(["kty","crv","x","y"]);n===zp.Private&&i.add("d");for(const o in t)if(!i.has(o))throw new Za("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${o}'.`);if("secp256k1"!==t.crv)throw new Za("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${t.crv}.'`);if("EC"!==t.kty)throw new Za("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${t.kty}.'`);if(43!==t.x.length)throw new Za("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==t.y.length)throw new Za("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(n===zp.Private&&(void 0===t.d||43!==t.d.length))throw new Za("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(t){if(t.length>50)throw new Za("IdTooLong",`Key ID length ${t.length} exceed max allowed length of 50.`);if(!Vp.isBase64UrlString(t))throw new Za("IdNotUsingBase64UrlCharacterSet",`Key ID '${t}' is not a Base64URL string.`)}static validatePublicKeyPurposes(t){if(void 0===t)return;const n=new Set;for(const i of t){if(n.has(i))throw new Za("PublicKeyPurposeDuplicated",`Public key purpose '${i}' already specified.`);n.add(i)}}}const Kh=(()=>{class r{}return r.hashAlgorithmInMultihashCode=18,r.maxCanonicalizedDeltaSizeInBytes=1e3,r})();var WF=E(28846);class Pg{static canonicalizeAsBytes(t){const n=Pg.removeAllUndefinedProperties(t),i=WF(n);return Vp.stringToBytes(i)}static removeAllUndefinedProperties(t){for(const n in t)"object"==typeof t[n]?Pg.removeAllUndefinedProperties(t[n]):void 0===t[n]&&delete t[n];return t}}var K7=128,YF=-128,ZF=Math.pow(2,31),qF=128,V7=127,QF=Math.pow(2,7),ej=Math.pow(2,14),tj=Math.pow(2,21),nj=Math.pow(2,28),rj=Math.pow(2,35),ij=Math.pow(2,42),oj=Math.pow(2,49),sj=Math.pow(2,56),aj=Math.pow(2,63),dj={encode:function $7(r,t,n){t=t||[];for(var i=n=n||0;r>=ZF;)t[n++]=255&r|K7,r/=128;for(;r&YF;)t[n++]=255&r|K7,r>>>=7;return t[n]=0|r,$7.bytes=n-i+1,t},decode:function UR(r,i){var a,n=0,o=0,c=i=i||0,u=r.length;do{if(c>=u)throw UR.bytes=0,new RangeError("Could not decode varint");a=r[c++],n+=o<28?(a&V7)<<o:(a&V7)*Math.pow(2,o),o+=7}while(a>=qF);return UR.bytes=c-i,n},encodingLength:function(r){return r<QF?1:r<ej?2:r<tj?3:r<nj?4:r<rj?5:r<ij?6:r<oj?7:r<sj?8:r<aj?9:10}};const w5=dj,z7=(r,t=0)=>[w5.decode(r,t),w5.decode.bytes],H7=(r,t,n=0)=>(w5.encode(r,t,n),t),W7=r=>w5.encodingLength(r),G7=(r,t)=>{const n=t.byteLength,i=W7(r),o=i+W7(n),c=new Uint8Array(o+n);return H7(r,c,0),H7(n,c,i),c.set(t,o),new X7(r,n,t,c)};class X7{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const Y7=({name:r,code:t,encode:n})=>new fj(r,t,n);class fj{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?G7(this.code,n):n.then(i=>G7(this.code,i))}throw Error("Unknown type, must be binary type")}}const Z7=r=>function(){var t=(0,ae.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),J7=Y7({name:"sha2-256",code:18,encode:Z7("SHA-256")});Y7({name:"sha2-512",code:19,encode:Z7("SHA-512")});var zA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class ud{static hash(t,n){return zA(this,void 0,void 0,function*(){let i;if(18!==n)throw new Za("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${n} is not supported.`);return i=(yield J7.digest(t)).bytes,i})}static hashAsNonMultihashBytes(t,n){return zA(this,void 0,void 0,function*(){let i;if(18!==n)throw new Za("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${n} is not supported.`);return i=yield J7.encode(t),i})}static canonicalizeThenHashThenEncode(t,n){return zA(this,void 0,void 0,function*(){const i=Pg.canonicalizeAsBytes(t);return yield ud.hashThenEncode(i,n)})}static canonicalizeThenDoubleHashThenEncode(t,n){return zA(this,void 0,void 0,function*(){const i=Pg.canonicalizeAsBytes(t),o=yield ud.hashAsNonMultihashBytes(i,n);return yield ud.hashThenEncode(o,n)})}static hashThenEncode(t,n){return zA(this,void 0,void 0,function*(){const i=yield ud.hash(t,n);return Vp.encode(i)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(t,n){let i;const o=Vp.decodeAsBytes(t,n);try{i=(r=>{const t=(r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")})(r),[n,i]=z7(t),[o,c]=z7(t.subarray(i)),a=t.subarray(i+c);if(a.byteLength!==o)throw new Error("Incorrect length");return new X7(n,o,a,t)})(o)}catch{throw new Za("MultihashStringNotAMultihash",`Given ${n} string '${t}' is not a multihash after decoding.`)}const c=Kh.hashAlgorithmInMultihashCode;if(c!==i.code)throw new Za("MultihashUnsupportedHashAlgorithm",`Given ${n} uses unsupported multihash algorithm with code ${i.code}, should use ${c} or change IonSdkConfig to desired hashing algorithm.`)}}var q7=function(r){return r.Create="create",r.Update="update",r.Deactivate="deactivate",r.Recover="recover",r}(q7||{});const _5=q7;var Q7=function(r){return r.Replace="replace",r.AddPublicKeys="add-public-keys",r.RemovePublicKeys="remove-public-keys",r.AddServices="add-services",r.RemoveServices="remove-services",r}(Q7||{});const WE=Q7;var E5=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class au{static createCreateRequest(t){return E5(this,void 0,void 0,function*(){const n=t.recoveryKey,i=t.updateKey,o=t.document.publicKeys,c=t.document.services;$u.validateEs256kOperationKey(n,zp.Public),$u.validateEs256kOperationKey(i,zp.Public),au.validateDidDocumentKeys(o),au.validateServices(c);const a=Kh.hashAlgorithmInMultihashCode,u=[{action:WE.Replace,document:t.document}],U={updateCommitment:yield ud.canonicalizeThenDoubleHashThenEncode(i,a),patches:u};au.validateDeltaSize(U);const b={deltaHash:yield ud.canonicalizeThenHashThenEncode(U,a),recoveryCommitment:yield ud.canonicalizeThenDoubleHashThenEncode(n,a)};return{type:_5.Create,suffixData:b,delta:U}})}static createDeactivateRequest(t){return E5(this,void 0,void 0,function*(){au.validateDidSuffix(t.didSuffix),$u.validateEs256kOperationKey(t.recoveryPublicKey,zp.Public);const n=Kh.hashAlgorithmInMultihashCode,i=yield ud.canonicalizeThenHashThenEncode(t.recoveryPublicKey,n),o={didSuffix:t.didSuffix,recoveryKey:t.recoveryPublicKey},c=yield t.signer.sign({alg:"ES256K"},o);return{type:_5.Deactivate,didSuffix:t.didSuffix,revealValue:i,signedData:c}})}static createRecoverRequest(t){return E5(this,void 0,void 0,function*(){au.validateDidSuffix(t.didSuffix),$u.validateEs256kOperationKey(t.recoveryPublicKey,zp.Public),$u.validateEs256kOperationKey(t.nextRecoveryPublicKey,zp.Public),$u.validateEs256kOperationKey(t.nextUpdatePublicKey,zp.Public),au.validateDidDocumentKeys(t.document.publicKeys),au.validateServices(t.document.services);const n=Kh.hashAlgorithmInMultihashCode,i=yield ud.canonicalizeThenHashThenEncode(t.recoveryPublicKey,n),a={patches:[{action:WE.Replace,document:t.document}],updateCommitment:yield ud.canonicalizeThenDoubleHashThenEncode(t.nextUpdatePublicKey,n)},u=yield ud.canonicalizeThenHashThenEncode(a,n),P={recoveryCommitment:yield ud.canonicalizeThenDoubleHashThenEncode(t.nextRecoveryPublicKey,n),recoveryKey:t.recoveryPublicKey,deltaHash:u},b=yield t.signer.sign({alg:"ES256K"},P);return{type:_5.Recover,didSuffix:t.didSuffix,revealValue:i,delta:a,signedData:b}})}static createUpdateRequest(t){return E5(this,void 0,void 0,function*(){if(au.validateDidSuffix(t.didSuffix),$u.validateEs256kOperationKey(t.updatePublicKey,zp.Public),$u.validateEs256kOperationKey(t.nextUpdatePublicKey,zp.Public),au.validateServices(t.servicesToAdd),au.validateDidDocumentKeys(t.publicKeysToAdd),void 0!==t.idsOfServicesToRemove)for(const Se of t.idsOfServicesToRemove)$u.validateId(Se);if(void 0!==t.idsOfPublicKeysToRemove)for(const Se of t.idsOfPublicKeysToRemove)$u.validateId(Se);const n=[],i=t.servicesToAdd;void 0!==i&&i.length>0&&n.push({action:WE.AddServices,services:i});const o=t.idsOfServicesToRemove;void 0!==o&&o.length>0&&n.push({action:WE.RemoveServices,ids:o});const c=t.publicKeysToAdd;void 0!==c&&c.length>0&&n.push({action:WE.AddPublicKeys,publicKeys:c});const a=t.idsOfPublicKeysToRemove;void 0!==a&&a.length>0&&n.push({action:WE.RemovePublicKeys,ids:a});const u=Kh.hashAlgorithmInMultihashCode,U=yield ud.canonicalizeThenHashThenEncode(t.updatePublicKey,u),b={patches:n,updateCommitment:yield ud.canonicalizeThenDoubleHashThenEncode(t.nextUpdatePublicKey,u)},K=yield ud.canonicalizeThenHashThenEncode(b,u),_e={updateKey:t.updatePublicKey,deltaHash:K},Te=yield t.signer.sign({alg:"ES256K"},_e);return{type:_5.Update,didSuffix:t.didSuffix,revealValue:U,delta:b,signedData:Te}})}static validateDidSuffix(t){ud.validateEncodedHashComputedUsingSupportedHashAlgorithm(t,"didSuffix")}static validateDidDocumentKeys(t){if(void 0===t)return;const n=new Set;for(const i of t){if(Array.isArray(i.publicKeyJwk))throw new Za("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if($u.validateId(i.id),n.has(i.id))throw new Za("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${i.id}' already exists.`);n.add(i.id),$u.validatePublicKeyPurposes(i.purposes)}}static validateServices(t){if(void 0!==t&&0!==t.length){const n=new Set;for(const i of t){if(au.validateService(i),n.has(i.id))throw new Za("DidDocumentServiceIdDuplicated","Service id has to be unique");n.add(i.id)}}}static validateService(t){if($u.validateId(t.id),t.type.length>30)throw new Za("ServiceTypeTooLong",`Service endpoint type length ${t.type.length} exceeds max allowed length of 30.`);if(Array.isArray(t.serviceEndpoint))throw new Za("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof t.serviceEndpoint&&void 0!==HF.parse(t.serviceEndpoint).error)throw new Za("ServiceEndpointStringNotValidUri",`Service endpoint string '${t.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(t){const n=Pg.canonicalizeAsBytes(t);if(n.length>Kh.maxCanonicalizedDeltaSizeInBytes)throw new Za("DeltaExceedsMaximumSize",`Delta of ${n.length} bytes exceeded limit of ${Kh.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var eU=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class LR{static createLongFormDid(t){return eU(this,void 0,void 0,function*(){const n=yield au.createCreateRequest(t),i=yield LR.computeDidUniqueSuffix(n.suffixData);let o;o=void 0===Kh.network||"mainnet"===Kh.network?`did:ion:${i}`:`did:ion:${Kh.network}:${i}`;const a=Pg.canonicalizeAsBytes({suffixData:n.suffixData,delta:n.delta});return`${o}:${Vp.encode(a)}`})}static computeDidUniqueSuffix(t){return eU(this,void 0,void 0,function*(){const n=Pg.canonicalizeAsBytes(t),i=yield ud.hash(n,Kh.hashAlgorithmInMultihashCode);return Vp.encode(i)})}}var Og=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},u0=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(u0||{});const yj={Ed25519:u0.Ed25519,ES256K:u0.secp256k1,ES256:u0.secp256r1,"P-256":u0.secp256r1,secp256k1:u0.secp256k1,secp256r1:u0.secp256r1},nU="https://ion.tbd.engineering";let gj=(()=>{class r extends BR{static create(){return Og(this,arguments,void 0,function*({keyManager:n=new gg,options:i={}}={}){var o,c,a,u,U,P,b;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(wt=>!(wt.algorithm in yj)))throw new Error("One or more verification method algorithms are not supported");const K=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(wt=>"id"in wt).map(wt=>wt.id);if(K&&K.length!==new Set(K).size)throw new Error("One or more verification method IDs are not unique");if(null!==(a=i.services)&&void 0!==a&&a.some(wt=>!wt.id||!wt.type||!wt.serviceEndpoint))throw new Error("One or more services are missing required properties");const _e={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Te=[];for(const wt of null!==(u=i.verificationMethods)&&void 0!==u?u:[_e]){const Ct=yield n.generateKey({algorithm:wt.algorithm}),xt=yield n.getPublicKey({keyUri:Ct});Te.push({id:wt.id,publicKeyJwk:xt,purposes:null!==(U=wt.purposes)&&void 0!==U?U:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Se=yield n.generateKey({algorithm:u0.secp256k1}),Re=yield n.getPublicKey({keyUri:Se}),Ge=yield n.generateKey({algorithm:u0.secp256k1}),ct=yield n.getPublicKey({keyUri:Ge}),Xe=yield Kf.computeLongFormDidUri({recoveryKey:Re,updateKey:ct,services:null!==(P=i.services)&&void 0!==P?P:[],verificationMethods:Te}),{didDocument:Je,didResolutionMetadata:lt}=yield r.resolve(Xe,{gatewayUri:i.gatewayUri});if(null===Je)throw new Error(`Unable to resolve DID during creation: ${lt?.error}`);const Et=new s0({uri:Xe,document:Je,metadata:{published:!1,canonicalId:Xe.split(":",3).join(":"),recoveryKey:Re,updateKey:ct},keyManager:n});if(null===(b=i.publish)||void 0===b||b){const wt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=wt.didDocumentMetadata}return Et})}static getSigningMethod(n){return Og(this,arguments,void 0,function*({didDocument:i,methodId:o}){var c;const a=Zo.parse(i.id);if(a&&a.method!==this.methodName)throw new fi(_i.MethodNotSupported,`Method not supported: ${a.method}`);const u=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(U=>{var P;return U.id===(o??(null===(P=i.assertionMethod)||void 0===P?void 0:P[0]))});if(!u||!u.publicKeyJwk)throw new fi(_i.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static import(n){return Og(this,arguments,void 0,function*({portableDid:i,keyManager:o=new gg}){const c=Zo.parse(i.uri);if(c?.method!==r.methodName)throw new fi(_i.MethodNotSupported,"Method not supported");return yield s0.import({portableDid:i,keyManager:o})})}static publish(n){return Og(this,arguments,void 0,function*({did:i,gatewayUri:o=nU}){var c,a,u;const U=null!==(a=null===(c=i.document.verificationMethod)||void 0===c?void 0:c.map(K=>({id:K.id,publicKeyJwk:K.publicKeyJwk,purposes:aR({didDocument:i.document,methodId:K.id})})))&&void 0!==a?a:[],P=yield Kf.createIonDocument({services:null!==(u=i.document.service)&&void 0!==u?u:[],verificationMethods:U}),b=yield Kf.constructCreateRequest({ionDocument:P,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const K=Kf.appendPathToUrl({baseUrl:o,path:"/operations"}),_e=yield fetch(K,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:_e.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:_i.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return Og(this,arguments,void 0,function*(i,o={}){var c,a;const u=Zo.parse(i);if(!u)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:"methodNotSupported"}});const U=null!==(c=o?.gatewayUri)&&void 0!==c?c:nU;try{const P=Kf.appendPathToUrl({baseUrl:U,path:`/identifiers/${i}`}),b=yield fetch(P);if(!b.ok)throw new fi(_i.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:K,didDocumentMetadata:_e}=yield b.json();return Object.assign(Object.assign(Object.assign({},Bf),K&&{didDocument:K}),{didDocumentMetadata:Object.assign({published:null===(a=_e?.method)||void 0===a?void 0:a.published},_e)})}catch(P){if(!(P instanceof fi))throw new Error(P);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:P.code},P.message&&{errorMessage:P.message})})}})}}return r.methodName="ion",r})();class Kf{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return Og(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:o,verificationMethods:c}){const a=yield Kf.createIonDocument({services:o,verificationMethods:c}),u=Kf.normalizeJwk(n),U=Kf.normalizeJwk(i);return yield LR.createLongFormDid({document:a,recoveryKey:u,updateKey:U})})}static constructCreateRequest(t){return Og(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:o}){return yield au.createCreateRequest({document:n,recoveryKey:Kf.normalizeJwk(i),updateKey:Kf.normalizeJwk(o)})})}static createIonDocument(t){return Og(this,arguments,void 0,function*({services:n,verificationMethods:i}){var o,c;const a=[];for(const P of i){let b=null!==(c=null!==(o=P.id)&&void 0!==o?o:P.publicKeyJwk.kid)&&void 0!==c?c:yield os({jwk:P.publicKeyJwk});b=`${b.split("#").pop()}`;const K={id:b,publicKeyJwk:Kf.normalizeJwk(P.publicKeyJwk),purposes:P.purposes,type:"JsonWebKey2020"};a.push(K)}return{publicKeys:a,services:n.map(P=>Object.assign(Object.assign({},P),{id:`${P.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var $h=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},Rg=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Rg||{});const FR={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},vj={Ed25519:Rg.Ed25519,ES256K:Rg.secp256k1,ES256:Rg.secp256r1,"P-256":Rg.secp256r1,secp256k1:Rg.secp256k1,secp256r1:Rg.secp256r1,X25519:Rg.X25519};let bj=(()=>{class r extends BR{static create(){return $h(this,arguments,void 0,function*({keyManager:n=new gg,options:i={}}={}){var o,c,a,u;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const U=null!==(u=null!==(o=i.algorithm)&&void 0!==o?o:null===(a=null===(c=i.verificationMethods)||void 0===c?void 0:c[0])||void 0===a?void 0:a.algorithm)&&void 0!==u?u:"Ed25519",P=yield n.generateKey({algorithm:U}),b=yield n.getPublicKey({keyUri:P}),K=yield f0.publicKeyToMultibaseId({publicKey:b}),_e=`did:${r.methodName}:${K}`,Se=(yield r.resolve(_e,i)).didDocument;return new s0({uri:_e,document:Se,metadata:{},keyManager:n})})}static getSigningMethod(n){return $h(this,arguments,void 0,function*({didDocument:i}){var o;const c=Zo.parse(i.id);if(c&&c.method!==this.methodName)throw new fi(_i.MethodNotSupported,`Method not supported: ${c.method}`);const[a]=i.assertionMethod||[],u=null===(o=i.verificationMethod)||void 0===o?void 0:o.find(U=>U.id===a);if(!u||!u.publicKeyJwk)throw new fi(_i.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static import(n){return $h(this,arguments,void 0,function*({portableDid:i,keyManager:o=new gg}){const c=Zo.parse(i.uri);if(c?.method!==r.methodName)throw new fi(_i.MethodNotSupported,"Method not supported");const a=yield s0.import({portableDid:i,keyManager:o});if(1!==a.document.verificationMethod.length)throw new fi(_i.InvalidDidDocument,"DID document must contain exactly one verification method");return a})}static resolve(n,i){return $h(this,void 0,void 0,function*(){try{const o=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},Bf),{didDocument:o})}catch(o){if(!(o instanceof fi))throw new Error(o);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:o.code},o.message&&{errorMessage:o.message})})}})}static createDocument(n){return $h(this,arguments,void 0,function*({didUri:i,options:o={}}){const{defaultContext:c="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:a=!1,enableExperimentalPublicKeyTypes:u=!1,publicKeyFormat:U="JsonWebKey2020"}=o,P={id:""},b=Zo.parse(i);if(!b)throw new fi(_i.InvalidDid,`Invalid DID URI: ${i}`);const K=b.id;if(b.method!==r.methodName)throw new fi(_i.MethodNotSupported,`Method not supported: ${b.method}`);if(!r.validateIdentifier(b))throw new fi(_i.InvalidDid,`Invalid DID URI: ${i}`);const _e=yield r.createSignatureMethod({didUri:i,multibaseValue:K,options:{enableExperimentalPublicKeyTypes:u,publicKeyFormat:U}});if(P.id=b.uri,P.verificationMethod=[_e],P.authentication=[_e.id],P.assertionMethod=[_e.id],P.capabilityInvocation=[_e.id],P.capabilityDelegation=[_e.id],!0===a){const Re="Ed25519VerificationKey2020"===U?"X25519KeyAgreementKey2020":"JsonWebKey2020",Ge=yield this.createEncryptionMethod({didUri:i,multibaseValue:K,options:{enableExperimentalPublicKeyTypes:u,publicKeyFormat:Re}});P.verificationMethod.push(Ge),P.keyAgreement=[Ge.id]}const Te=[c];return function sR({didDocument:r}){const n=X6({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:P}).forEach(Re=>{Te.push(FR[Re])}),P["@context"]=Te,P})}static createEncryptionMethod(n){return $h(this,arguments,void 0,function*({didUri:i,multibaseValue:o,options:c}){const{enableExperimentalPublicKeyTypes:a,publicKeyFormat:u}=c,U={id:"",type:"",controller:""},{keyBytes:P,multicodecCode:b}=yield r.deriveEncryptionKey({multibaseValue:o}),K=P.byteLength,_e=f0.MULTICODEC_PUBLIC_KEY_LENGTH[b];if(K!==_e)throw new fi(_i.InvalidPublicKeyLength,`Expected ${K} bytes. Actual: ${_e}`);const Te=dR({keyBytes:P,multicodecCode:b});U.id=`${i}#${Te}`;try{new URL(U.id)}catch{throw new fi(_i.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(u in FR))throw new fi(_i.UnsupportedPublicKeyType,`Unsupported format: ${u}`);if(!1===a&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(u))throw new fi(_i.InvalidPublicKeyType,`Specified '${u}' without setting enableExperimentalPublicKeyTypes to true.`);if(U.type=u,U.controller=i,"X25519KeyAgreementKey2020"===u&&(U.publicKeyMultibase=Te),"JsonWebKey2020"===u){const{crv:Re}=yield f0.multicodecToJwk({code:b});U.publicKeyJwk=yield f0.keyConverter(Re).bytesToPublicKey({publicKeyBytes:P})}return U})}static createSignatureMethod(n){return $h(this,arguments,void 0,function*({didUri:i,multibaseValue:o,options:c}){const{enableExperimentalPublicKeyTypes:a,publicKeyFormat:u}=c,U={id:"",type:"",controller:""},{keyBytes:P,multicodecCode:b,multicodecName:K}=Y6({multibaseKeyId:o}),_e=P.byteLength,Te=f0.MULTICODEC_PUBLIC_KEY_LENGTH[b];if(_e!==Te)throw new fi(_i.InvalidPublicKeyLength,`Expected ${_e} bytes. Actual: ${Te}`);let Se=!1;switch(K){case"secp256k1-pub":Se=yield Js.validatePublicKey({publicKeyBytes:P});break;case"ed25519-pub":Se=yield Ks.validatePublicKey({publicKeyBytes:P});break;case"x25519-pub":Se=!0}if(!Se)throw new fi(_i.InvalidPublicKey,"Invalid public key detected.");U.id=`${i}#${o}`;try{new URL(U.id)}catch{throw new fi(_i.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(u in FR))throw new fi(_i.UnsupportedPublicKeyType,`Unsupported format: ${u}`);if(!1===a&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(u))throw new fi(_i.InvalidPublicKeyType,`Specified '${u}' without setting enableExperimentalPublicKeyTypes to true.`);if(U.type=u,U.controller=i,"Ed25519VerificationKey2020"===u&&(U.publicKeyMultibase=o),"JsonWebKey2020"===u){const{crv:Ge}=yield f0.multicodecToJwk({code:b});U.publicKeyJwk=yield f0.keyConverter(Ge).bytesToPublicKey({publicKeyBytes:P})}return U})}static deriveEncryptionKey(n){return $h(this,arguments,void 0,function*({multibaseValue:i}){let o={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:c,multicodecCode:a}=Y6({multibaseKeyId:i});if(237===a){const u=yield f0.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:c}),U=yield Ks.convertPublicKeyToX25519({publicKey:u});o={keyBytes:yield f0.keyConverter("Ed25519").publicKeyToBytes({publicKey:U}),multicodecCode:236}}return o})}static validateIdentifier(n){const{method:i,id:o}=n,[c]=n.uri.split(":",1);return"did"===c&&"key"===i&&Number("1")>0&&"String"===(0,Jt.fc)(o)&&o.startsWith("z")}}return r.methodName="key",r})(),f0=(()=>{class r{static jwkToMulticodec(n){return $h(this,arguments,void 0,function*({jwk:i}){const o=[];i.crv&&(o.push(i.crv),o.push(i.d?"private":"public"));const c=o.join(":"),a=r.JWK_TO_MULTICODEC[c];if(void 0===a)throw new Error(`Unsupported JWK to Multicodec conversion: '${c}'`);return{code:Jt.Gs.getCodeFromName({name:a}),name:a}})}static keyCompressor(n){const o={"P-256":qs.compressPublicKey,secp256k1:Js.compressPublicKey}[n];if(!o)throw new fi(_i.InvalidPublicKeyType,`Unsupported curve: ${n}`);return o}static keyConverter(n){const o={Ed25519:Ks,"P-256":qs,secp256k1:Js,X25519:wg}[n];if(!o)throw new fi(_i.InvalidPublicKeyType,`Unsupported curve: ${n}`);return o}static multicodecToJwk(n){return $h(this,arguments,void 0,function*({code:i,name:o}){if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");o=void 0===o?Jt.Gs.getNameFromCode({code:i}):o;const a=r.MULTICODEC_TO_JWK[o];if(void 0===a)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},a)})}static publicKeyToMultibaseId(n){return $h(this,arguments,void 0,function*({publicKey:i}){var o;if(!i?.crv||!(i.crv in vj))throw new fi(_i.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(o=i?.crv)&&void 0!==o?o:"undefined"}`);let c=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(c=yield r.keyCompressor(i.crv)({publicKeyBytes:c}));const{name:a}=yield r.jwkToMulticodec({jwk:i});return dR({keyBytes:c,multicodecName:a})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var wj=E(14078),_j=E(42064);class xj{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new _j.Level(n),this.ttl=wj(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const Mj={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var rU=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Sj{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||Mj;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return rU(this,void 0,void 0,function*(){const i=Zo.parse(t);if(!i)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:_i.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:_i.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const c=yield this.cache.get(i.uri);if(c)return c;{const a=yield o.resolve(i.uri,n);return a.didResolutionMetadata.error||(yield this.cache.set(i.uri,a)),a}})}dereference(t,n){return rU(this,void 0,void 0,function*(){const i=Zo.parse(t);if(!i)return{dereferencingMetadata:{error:_i.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:c,didDocumentMetadata:a}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:c.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:a};const{service:u=[],verificationMethod:U=[]}=o,P=new Set([t,i.fragment,`#${i.fragment}`]);let b;for(let K of U)if(P.has(K.id)){b=K;break}for(let K of u)if(P.has(K.id)){b=K;break}return b?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:b,contentMetadata:c}:{dereferencingMetadata:{error:_i.NotFound},contentStream:null,contentMetadata:{}}})}}var XE=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class jR{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.methodHandlers={[Ei.Events+Vr.Get]:new I4(this.didResolver,this.eventLog),[Ei.Events+Vr.Query]:new C4(this.didResolver,this.eventLog),[Ei.Events+Vr.Subscribe]:new F9(this.didResolver,this.eventStream),[Ei.Messages+Vr.Get]:new K9(this.didResolver,this.messageStore,this.dataStore),[Ei.Protocols+Vr.Configure]:new qm(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Ei.Protocols+Vr.Query]:new R4(this.didResolver,this.messageStore,this.dataStore),[Ei.Records+Vr.Delete]:new uA(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream),[Ei.Records+Vr.Query]:new Lp(this.didResolver,this.messageStore,this.dataStore),[Ei.Records+Vr.Read]:new mE(this.didResolver,this.messageStore,this.dataStore),[Ei.Records+Vr.Subscribe]:new Fu(this.didResolver,this.messageStore,this.eventStream),[Ei.Records+Vr.Write]:new Fp(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return XE(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new Sj({didResolvers:[NR,gj,bj],cache:new xj({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new D4);const o=new jR(t);return yield o.open(),o})}open(){var t;return XE(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open()})}close(){var t;return XE(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var o;return XE(this,void 0,void 0,function*(){const c=null!==(o=yield this.validateTenant(t))&&void 0!==o?o:yield this.validateMessageIntegrity(n);if(void 0!==c)return c;const{dataStream:a,subscriptionHandler:u}=i,U=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[U].handle({tenant:t,message:n,dataStream:a,subscriptionHandler:u})})}validateTenant(t){var n;return XE(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return XE(this,void 0,void 0,function*(){const o=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,c=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===o||void 0===c)return{status:{code:400,detail:`Both interface and method must be present, interface: ${o}, method: ${c}`}};try{cr.validateJsonSchema(t)}catch(a){return Xo(a,400)}})}}function Tj(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Kd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,Tj(t)]):r})}var oU=E(54626),Vu=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},Vh=function(r){return this instanceof Vh?(this.v=r,this):new Vh(r)},KR=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(a){return new Promise(function(u,U){!function o(c,a,u,U){Promise.resolve(U).then(function(P){c({value:P,done:u})},a)}(u,U,(a=r[c](a)).done,a.value)})}}},sU=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(_e){i[_e]&&(o[_e]=function(Te){return new Promise(function(Se,Re){c.push([_e,Te,Se,Re])>1||u(_e,Te)})})}function u(_e,Te){try{!function U(_e){_e.value instanceof Vh?Promise.resolve(_e.value.v).then(P,b):K(c[0][2],_e)}(i[_e](Te))}catch(Se){K(c[0][3],Se)}}function P(_e){u("next",_e)}function b(_e){u("throw",_e)}function K(_e,Te){_e(Te),c.shift(),c.length&&u(c[0][0],c[0][1])}};function YE(r,t){return Vu(this,void 0,void 0,function*(){return new oU.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class WA{constructor(t,n){this.config=Object.assign({createLevelDatabase:YE},t),this.db=n}open(){return Vu(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Vu(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Vu(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new WA(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Vu(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Kd(this.createLevelDatabase(),n?.signal);try{return yield Kd(this.db.get(String(t)),n?.signal)}catch(o){if("LEVEL_NOT_FOUND"===o.code)return;throw o}})}has(t,n){return Vu(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return sU(this,arguments,function*(){var c,a,u;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Vh(Kd(this.createLevelDatabase(),t?.signal));try{for(var K,P=!0,b=KR(this.db.keys());!(c=(K=yield Vh(b.next())).done);P=!0){P=!1;const _e=K.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Vh(_e)}}catch(_e){a={error:_e}}finally{try{!P&&!c&&(u=b.return)&&(yield Vh(u.call(b)))}finally{if(a)throw a.error}}})}iterator(t,n){var i,o;return sU(this,arguments,function*(){var a,u,U;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Vh(Kd(this.createLevelDatabase(),n?.signal));try{for(var _e,b=!0,K=KR(this.db.iterator(t));!(a=(_e=yield Vh(K.next())).done);b=!0){b=!1;const Te=_e.value;null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield yield Vh(Te)}}catch(Te){u={error:Te}}finally{try{!b&&!a&&(U=K.return)&&(yield Vh(U.call(K)))}finally{if(u)throw u.error}}})}put(t,n,i){var o;return Vu(this,void 0,void 0,function*(){return null===(o=i?.signal)||void 0===o||o.throwIfAborted(),yield Kd(this.createLevelDatabase(),i?.signal),Kd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Vu(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Kd(this.createLevelDatabase(),n?.signal),Kd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,o;return Vu(this,void 0,void 0,function*(){try{for(var U,a=!0,u=KR(this.keys(t));U=yield u.next(),!(n=U.done);a=!0)return a=!1,!1}catch(P){i={error:P}}finally{try{!a&&!n&&(o=u.return)&&(yield o.call(u))}finally{if(i)throw i.error}}return!0})}clear(){return Vu(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Vu(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Kd(this.createLevelDatabase(),n?.signal),Kd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,o;return Vu(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Kd(this.createLevelDatabase(),t?.signal);const c=this.sublevelRange;if(!c)return;const a=this.root;return a.db.supports.additionalMethods.compactRange?Kd(null===(o=(i=a.db).compactRange)||void 0===o?void 0:o.call(i,...c),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new WA(this.config,t)}createLevelDatabase(){var t;return Vu(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var h0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},x5=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(a){return new Promise(function(u,U){!function o(c,a,u,U){Promise.resolve(U).then(function(P){c({value:P,done:u})},a)}(u,U,(a=r[c](a)).done,a.value)})}}},fd=function(r){return this instanceof fd?(this.v=r,this):new fd(r)},M5=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(_e){i[_e]&&(o[_e]=function(Te){return new Promise(function(Se,Re){c.push([_e,Te,Se,Re])>1||u(_e,Te)})})}function u(_e,Te){try{!function U(_e){_e.value instanceof fd?Promise.resolve(_e.value.v).then(P,b):K(c[0][2],_e)}(i[_e](Te))}catch(Se){K(c[0][3],Se)}}function P(_e){u("next",_e)}function b(_e){u("throw",_e)}function K(_e,Te){_e(Te),c.shift(),c.length&&u(c[0][0],c[0][1])}};class S5{constructor(t,n){this.config=Object.assign({createLevelDatabase:YE},t),this.db=n??new WA(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return h0(this,void 0,void 0,function*(){return this.db.open()})}close(){return h0(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return h0(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new S5(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return h0(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),mf.TO.parse(t.toString())})}get(t,n){return h0(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return h0(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return h0(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return h0(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return M5(this,arguments,function*(){var o,c,a;try{for(var b,U=!0,P=x5(t);!(o=(b=yield fd(P.next())).done);U=!0){U=!1;const K=b.value;yield fd(this.put(K.cid,K.block,n)),yield yield fd(K.cid)}}catch(K){c={error:K}}finally{try{!U&&!o&&(a=P.return)&&(yield fd(a.call(P)))}finally{if(c)throw c.error}}})}getMany(t,n){return M5(this,arguments,function*(){var o,c,a;try{for(var b,U=!0,P=x5(t);!(o=(b=yield fd(P.next())).done);U=!0){U=!1;const K=b.value;yield yield fd({cid:K,block:yield fd(this.get(K,n))})}}catch(K){c={error:K}}finally{try{!U&&!o&&(a=P.return)&&(yield fd(a.call(P)))}finally{if(c)throw c.error}}})}getAll(t){return M5(this,arguments,function*(){var i,o,c,a;const u=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var b,U=!0,P=x5(u);!(i=(b=yield fd(P.next())).done);U=!0){a=b.value,U=!1;const[K,_e]=a;yield yield fd({cid:mf.TO.decode(K),block:_e})}}catch(K){o={error:K}}finally{try{!U&&!i&&(c=P.return)&&(yield fd(c.call(P)))}finally{if(o)throw o.error}}})}deleteMany(t,n){return M5(this,arguments,function*(){var o,c,a;try{for(var b,U=!0,P=x5(t);!(o=(b=yield fd(P.next())).done);U=!0){U=!1;const K=b.value;yield fd(this.delete(K,n)),yield yield fd(K)}}catch(K){c={error:K}}finally{try{!U&&!o&&(a=P.return)&&(yield fd(a.call(P)))}finally{if(c)throw c.error}}})}clear(){return h0(this,void 0,void 0,function*(){return this.db.clear()})}}var Ja=E(42853);const Cj=function Ij(r){if(function Dj(r){return null!=r[Symbol.asyncIterator]}(r))return(0,ae.A)(function*(){let n;var c,i=!1,o=!1;try{for(var u,a=ro(r);i=!(u=yield a.next()).done;i=!1)n=u.value}catch(U){o=!0,c=U}finally{try{i&&null!=a.return&&(yield a.return())}finally{if(o)throw c}}return n})();let t;for(const n of r)t=n;return t};var aU=E(56580);const Oj=function(){var r=(0,ae.A)(function*(t,n,i,o,c,a,u,U){const P=yield u.get(t,U),b=w8(P);let K=b,_e=i;for(;o.length>0;){const Te=o[0];if(!(Te in K))throw Ja(new Error(`No property named ${Te} found in cbor node ${t}`),"ERR_NO_PROP");{o.shift(),_e=`${_e}/${Te}`;const Se=$l.TO.asCID(K[Te]);if(null!=Se)return{entry:{type:"object",name:n,path:i,cid:t,node:P,depth:a,size:BigInt(P.length),content:function(){var Re=Io(function*(){yield b});return function(){return Re.apply(this,arguments)}}()},next:{cid:Se,name:Te,path:_e,toResolve:o}};K=K[Te]}}return{entry:{type:"object",name:n,path:i,cid:t,node:P,depth:a,size:BigInt(P.length),content:(Te=Io(function*(){yield b}),function(){return Te.apply(this,arguments)})}};var Te});return function(n,i,o,c,a,u,U,P){return r.apply(this,arguments)}}(),A5=function Rj(r,t,n,i){const o=BigInt(r.length),c=BigInt(t+o);return n>=c||i<t?new Uint8Array(0):(i>=t&&i<c&&(r=r.subarray(0,Number(i-t))),n>=t&&n<c&&(r=r.subarray(Number(n-t))),r)},$R=(r,t=0,n=r)=>{const i=BigInt(r),o=BigInt(t??0);let c=BigInt(n);if(c!==i&&(c=o+c),c>i&&(c=i),o<0n)throw Ja(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw Ja(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(c<0n)throw Ja(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(c>i)throw Ja(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:o,end:c}},Bj=r=>{function n(){return(n=Io(function*(i={}){const{start:o,end:c}=$R(r.length,i.offset,i.length),a=A5(r,0n,o,c);i.onProgress?.(new kd("unixfs:exporter:progress:identity",{bytesRead:BigInt(a.byteLength),totalBytes:c-o,fileSize:BigInt(r.byteLength)})),yield a})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},Nj=function(){var r=(0,ae.A)(function*(t,n,i,o,c,a,u,U){if(o.length>0)throw Ja(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const P=aU.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:Bj(P.digest),depth:a,size:BigInt(P.digest.length),node:P.digest}}});return function(n,i,o,c,a,u,U,P){return r.apply(this,arguments)}}(),Uj=r=>{function n(){return(n=Io(function*(i={}){const{start:o,end:c}=$R(r.length,i.offset,i.length),a=A5(r,0n,o,c);i.onProgress?.(new kd("unixfs:exporter:progress:raw",{bytesRead:BigInt(a.byteLength),totalBytes:c-o,fileSize:BigInt(r.byteLength)})),yield a})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},Lj=function(){var r=(0,ae.A)(function*(t,n,i,o,c,a,u,U){if(o.length>0)throw Ja(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const P=yield u.get(t,U);return{entry:{type:"raw",name:n,path:i,cid:t,content:Uj(P),depth:a,size:BigInt(P.length),node:P}}});return function(n,i,o,c,a,u,U,P){return r.apply(this,arguments)}}(),Fj=function(){var r=(0,ae.A)(function*(t){return(yield wC.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),jj=function(){var r=(0,ae.A)(function*(t,n,i){yield Promise.all(t.map(function(){var o=(0,ae.A)(function*(c){if(null==c.Name)throw new Error("Unexpected Link without a Name");if(2!==c.Name.length)yield i.put(c.Name.substring(2),!0);else{const a=parseInt(c.Name,16);n._putObjectAt(a,new El({hash:i._options.hash,bits:i._options.bits},n,a))}});return function(c){return o.apply(this,arguments)}}()))});return function(n,i,o){return r.apply(this,arguments)}}(),lU=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),uU=function(){var r=(0,ae.A)(function*(t,n,i,o,c){if(null==o){const K=Cy({hashFn:Fj});o={rootBucket:K,hamtDepth:1,lastBucket:K}}yield jj(t.Links,o.lastBucket,o.rootBucket);const a=yield o.rootBucket._findNewBucketAndPos(n);let u=lU(a.pos);const U=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(a);U.length>o.hamtDepth&&(o.lastBucket=U[o.hamtDepth],u=lU(o.lastBucket._posAtParent));const P=t.Links.find(K=>{if(null==K.Name)return!1;const _e=K.Name.substring(0,2),Te=K.Name.substring(2);return!(_e!==u||""!==Te&&Te!==n)});if(null!=P)return null!=P.Name&&P.Name.substring(2)===n?P.Hash:(o.hamtDepth++,t=mm(yield i.get(P.Hash,c)),uU(t,n,i,o,c))});return function(n,i,o,c,a){return r.apply(this,arguments)}}(),$j=uU,fU=function Vj(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:o=>{i.push(o)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},VR=function Xj(r,t){let n=0;if(function Gj(r){return null!=r[Symbol.asyncIterator]}(r))return Io(function*(){var b,U=!1,P=!1;try{for(var _e,K=ro(r);U=!(_e=yield $r(K.next())).done;U=!1){const Te=_e.value;yield t(Te,n++)}}catch(Te){P=!0,b=Te}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}})();const i=fU(r),{value:o,done:c}=i.next();if(!0===c)return function*(){}();const a=t(o,n++);if("function"==typeof a.then)return Io(function*(){yield yield $r(a);var b,U=!1,P=!1;try{for(var _e,K=ro(i);U=!(_e=yield $r(K.next())).done;U=!1){const Te=_e.value;yield t(Te,n++)}}catch(Te){P=!0,b=Te}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}})();const u=t;return function*(){yield a;for(const U of i)yield u(U,n++)}()};function ZE(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const T5=globalThis.CustomEvent??Event;function zR(r){return HR.apply(this,arguments)}function HR(){return HR=Io(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,o=new EventTarget,c=[];let P,a=ZE(),u=ZE(),U=!1,b=!1;function K(){return i?c[0]?.done:!!c.find(Se=>Se.done)}function*_e(){for(;c.length>0&&c[0].done;){const Se=c[0];if(c.shift(),!Se.ok)throw b=!0,a.resolve(),Se.err;yield Se.value,a.resolve()}}function*Te(){for(;K();)for(let Se=0;Se<c.length;Se++)if(c[Se].done){const Re=c[Se];if(c.splice(Se,1),Se--,!Re.ok)throw b=!0,a.resolve(),Re.err;yield Re.value,a.resolve()}}for(o.addEventListener("task-complete",()=>{u.resolve()}),Promise.resolve().then((0,ae.A)(function*(){try{var Ge,Se=!1,Re=!1;try{for(var Xe,ct=ro(r);Se=!(Xe=yield ct.next()).done;Se=!1){const Je=Xe.value;{if(c.length===n&&(a=ZE(),yield a.promise),b)break;const lt={done:!1};c.push(lt),Je().then(Et=>{lt.done=!0,lt.ok=!0,lt.value=Et,o.dispatchEvent(new T5("task-complete"))},Et=>{lt.done=!0,lt.err=Et,o.dispatchEvent(new T5("task-complete"))})}}}catch(Je){Re=!0,Ge=Je}finally{try{Se&&null!=ct.return&&(yield ct.return())}finally{if(Re)throw Ge}}U=!0,o.dispatchEvent(new T5("task-complete"))}catch(Je){P=Je,o.dispatchEvent(new T5("task-complete"))}}));;){if(K()||(u=ZE(),yield $r(u.promise)),null!=P)throw P;if(i?yield*gf(ro(_e())):yield*gf(ro(Te())),U&&0===c.length)break}}),HR.apply(this,arguments)}class hU{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class WR{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new hU(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new hU(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class Yj extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function GR(r={}){return function pU(r,t){let o,c,a,n=(t=t??{}).onEnd,i=new WR,u=ZE();const U=function(){var Ge=(0,ae.A)(function*(){try{return i.isEmpty()?a?{done:!0}:yield new Promise((ct,Xe)=>{c=Je=>{c=null,i.push(Je);try{ct(r(i))}catch(lt){Xe(lt)}return o}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{u.resolve(),u=ZE()})}});return function(){return Ge.apply(this,arguments)}}(),P=Ge=>null!=c?c(Ge):(i.push(Ge),o),K=Ge=>{if(a)return o;if(!0!==t?.objectMode&&null==Ge?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return P({done:!1,value:Ge})},_e=Ge=>a?o:(a=!0,null!=Ge?(Ge=>(i=new WR,null!=c?c({error:Ge}):(i.push({error:Ge}),o)))(Ge):P({done:!0}));if(o={[Symbol.asyncIterator](){return this},next:U,return:()=>(i=new WR,_e(),{done:!0}),throw:Ge=>(_e(Ge),{done:!0}),push:K,end:_e,get readableLength(){return i.size},onEmpty:(Ge=(0,ae.A)(function*(ct){const Xe=ct?.signal;if(Xe?.throwIfAborted(),i.isEmpty())return;let Je,lt;null!=Xe&&(Je=new Promise((Et,wt)=>{lt=()=>{wt(new Yj)},Xe.addEventListener("abort",lt)}));try{yield Promise.race([u.promise,Je])}finally{null!=lt&&null!=Xe&&Xe?.removeEventListener("abort",lt)}}),function(Xe){return Ge.apply(this,arguments)})},null==n)return o;var Ge;const Re=o;return o={[Symbol.asyncIterator](){return this},next:()=>Re.next(),throw:Ge=>(Re.throw(Ge),null!=n&&(n(Ge),n=void 0),{done:!0}),return:()=>(Re.return(),null!=n&&(n(),n=void 0),{done:!0}),push:K,end:Ge=>(Re.end(Ge),null!=n&&(n(Ge),n=void 0),o),get readableLength(){return Re.readableLength},onEmpty:Ge=>Re.onEmpty(Ge)},o}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function Zj(r){return null!=r[Symbol.asyncIterator]}function XR(r,...t){if(null==r)throw new Error("Empty pipeline");if(YR(r)){const i=r;r=()=>i.source}else if(yU(r)||mU(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&YR(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)YR(n[i])&&(n[i]=eK(n[i]));return Qj(...n)}const Qj=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},mU=r=>null!=r?.[Symbol.asyncIterator],yU=r=>null!=r?.[Symbol.iterator],YR=r=>null!=r&&null!=r.sink&&null!=r.source,eK=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=GR({objectMode:!0});let o;n.then(()=>{i.end()},a=>{i.end(a)});const c=r.source;if(mU(c))o=function(){var a=Io(function*(){yield*gf(ro(c)),i.end()});return function(){return a.apply(this,arguments)}}();else{if(!yU(c))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");o=function*(){yield*c,i.end()}}return function Jj(...r){const t=[];for(const n of r)Zj(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():Io(function*(){const n=GR({objectMode:!0});Promise.resolve().then((0,ae.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,ae.A)(function*(o){var u,c=!1,a=!1;try{for(var P,U=ro(o);c=!(P=yield U.next()).done;c=!1)n.push(P.value)}catch(b){a=!0,u=b}finally{try{c&&null!=U.return&&(yield U.return())}finally{if(a)throw u}}});return function(o){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*gf(ro(n))})()}(i,o())}return r.source};var nK=E(50233);class gU extends Error{constructor(t){super(t),this.name="TimeoutError"}}class rK extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const vU=r=>void 0===globalThis.DOMException?new rK(r):new DOMException(r),bU=r=>{const t=void 0===r.reason?vU("This operation was aborted."):r.reason;return t instanceof Error?t:vU(t)};var p0,xw=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};p0=new WeakMap;const aK=class sK{constructor(){p0.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&xw(this,p0,"f")[this.size-1].priority>=n.priority)return void xw(this,p0,"f").push(i);const o=function oK(r,t,n){let i=0,o=r.length;for(;o>0;){const c=Math.trunc(o/2);let a=i+c;n(r[a],t)<=0?(i=++a,o-=c+1):o=c}return i}(xw(this,p0,"f"),i,(c,a)=>a.priority-c.priority);xw(this,p0,"f").splice(o,0,i)}dequeue(){const t=xw(this,p0,"f").shift();return t?.run}filter(t){return xw(this,p0,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return xw(this,p0,"f").length}};var qa,GA,XA,Bg,D5,YA,I5,zh,ZA,zu,C5,Hu,JA,Ng,k5,wU,_U,EU,xU,MU,P5,ZR,JR,O5,SU,R5,Aa=function(r,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(r,n):o?o.value=n:t.set(r,n),n},Zr=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class AU extends Error{}GA=new WeakMap,XA=new WeakMap,Bg=new WeakMap,D5=new WeakMap,YA=new WeakMap,I5=new WeakMap,zh=new WeakMap,ZA=new WeakMap,zu=new WeakMap,C5=new WeakMap,Hu=new WeakMap,JA=new WeakMap,Ng=new WeakMap,k5=new WeakMap,qa=new WeakSet,wU=function(){return Zr(this,XA,"f")||Zr(this,Bg,"f")<Zr(this,D5,"f")},_U=function(){return Zr(this,Hu,"f")<Zr(this,JA,"f")},EU=function(){var t;Aa(this,Hu,(t=Zr(this,Hu,"f"),--t),"f"),Zr(this,qa,"m",P5).call(this),this.emit("next")},xU=function(){Zr(this,qa,"m",JR).call(this),Zr(this,qa,"m",ZR).call(this),Aa(this,ZA,void 0,"f")},MU=function(){const t=Date.now();if(void 0===Zr(this,zh,"f")){const n=Zr(this,I5,"f")-t;if(!(n<0))return void 0===Zr(this,ZA,"f")&&Aa(this,ZA,setTimeout(()=>{Zr(this,qa,"m",xU).call(this)},n),"f"),!0;Aa(this,Bg,Zr(this,GA,"f")?Zr(this,Hu,"f"):0,"f")}return!1},P5=function(){if(0===Zr(this,zu,"f").size)return Zr(this,zh,"f")&&clearInterval(Zr(this,zh,"f")),Aa(this,zh,void 0,"f"),this.emit("empty"),0===Zr(this,Hu,"f")&&this.emit("idle"),!1;if(!Zr(this,Ng,"f")){const t=!Zr(this,qa,"a",MU);if(Zr(this,qa,"a",wU)&&Zr(this,qa,"a",_U)){const n=Zr(this,zu,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&Zr(this,qa,"m",ZR).call(this),!0)}}return!1},ZR=function(){Zr(this,XA,"f")||void 0!==Zr(this,zh,"f")||(Aa(this,zh,setInterval(()=>{Zr(this,qa,"m",JR).call(this)},Zr(this,YA,"f")),"f"),Aa(this,I5,Date.now()+Zr(this,YA,"f"),"f"))},JR=function(){0===Zr(this,Bg,"f")&&0===Zr(this,Hu,"f")&&Zr(this,zh,"f")&&(clearInterval(Zr(this,zh,"f")),Aa(this,zh,void 0,"f")),Aa(this,Bg,Zr(this,GA,"f")?Zr(this,Hu,"f"):0,"f"),Zr(this,qa,"m",O5).call(this)},O5=function(){for(;Zr(this,qa,"m",P5).call(this););},SU=function(){var r=(0,ae.A)(function*(n){return new Promise((i,o)=>{n.addEventListener("abort",()=>{o(new AU("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),R5=function(){var r=(0,ae.A)(function*(n,i){return new Promise(o=>{const c=()=>{i&&!i()||(this.off(n,c),o())};this.on(n,c)})});return function t(n,i){return r.apply(this,arguments)}}();const dK=class cK extends nK{constructor(t){var n,i,o,c;if(super(),qa.add(this),GA.set(this,void 0),XA.set(this,void 0),Bg.set(this,0),D5.set(this,void 0),YA.set(this,void 0),I5.set(this,0),zh.set(this,void 0),ZA.set(this,void 0),zu.set(this,void 0),C5.set(this,void 0),Hu.set(this,0),JA.set(this,void 0),Ng.set(this,void 0),k5.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:aK,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(c=null===(o=t.interval)||void 0===o?void 0:o.toString())&&void 0!==c?c:""}\` (${typeof t.interval})`);Aa(this,GA,t.carryoverConcurrencyCount,"f"),Aa(this,XA,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),Aa(this,D5,t.intervalCap,"f"),Aa(this,YA,t.interval,"f"),Aa(this,zu,new t.queueClass,"f"),Aa(this,C5,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Aa(this,k5,!0===t.throwOnTimeout,"f"),Aa(this,Ng,!1===t.autoStart,"f")}get concurrency(){return Zr(this,JA,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Aa(this,JA,t,"f"),Zr(this,qa,"m",O5).call(this)}add(t,n={}){var i=this;return(0,ae.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:Zr(i,k5,"f"),...n},new Promise((o,c)=>{Zr(i,zu,"f").enqueue((0,ae.A)(function*(){var a,u,U;Aa(i,Hu,(u=Zr(i,Hu,"f"),++u),"f"),Aa(i,Bg,(U=Zr(i,Bg,"f"),++U),"f");try{if(null!==(a=n.signal)&&void 0!==a&&a.aborted)throw new AU("The task was aborted.");let P=t({signal:n.signal});n.timeout&&(P=function iK(r,t,n,i){let o;const c=new Promise((a,u)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:U}=i;U.aborted&&u(bU(U)),U.addEventListener("abort",()=>{u(bU(U))})}o=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{a(n())}catch(b){u(b)}return}const P=n instanceof Error?n:new gU("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),u(P)},t),(0,ae.A)(function*(){try{a(yield r)}catch(U){u(U)}finally{i.customTimers.clearTimeout.call(void 0,o)}})()}else a(r)});return c.clear=()=>{clearTimeout(o),o=void 0},c}(Promise.resolve(P),n.timeout)),n.signal&&(P=Promise.race([P,Zr(i,qa,"m",SU).call(i,n.signal)]));const b=yield P;o(b),i.emit("completed",b)}catch(P){if(P instanceof gU&&!n.throwOnTimeout)return void o();c(P),i.emit("error",P)}finally{Zr(i,qa,"m",EU).call(i)}}),n),i.emit("add"),Zr(i,qa,"m",P5).call(i)})})()}addAll(t,n){var i=this;return(0,ae.A)(function*(){return Promise.all(t.map(function(){var o=(0,ae.A)(function*(c){return i.add(c,n)});return function(c){return o.apply(this,arguments)}}()))})()}start(){return Zr(this,Ng,"f")?(Aa(this,Ng,!1,"f"),Zr(this,qa,"m",O5).call(this),this):this}pause(){Aa(this,Ng,!0,"f")}clear(){Aa(this,zu,new(Zr(this,C5,"f")),"f")}onEmpty(){var t=this;return(0,ae.A)(function*(){0!==Zr(t,zu,"f").size&&(yield Zr(t,qa,"m",R5).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,ae.A)(function*(){Zr(n,zu,"f").size<t||(yield Zr(n,qa,"m",R5).call(n,"next",()=>Zr(n,zu,"f").size<t))})()}onIdle(){var t=this;return(0,ae.A)(function*(){0===Zr(t,Hu,"f")&&0===Zr(t,zu,"f").size||(yield Zr(t,qa,"m",R5).call(t,"idle"))})()}get size(){return Zr(this,zu,"f").size}sizeBy(t){return Zr(this,zu,"f").filter(t).length}get pending(){return Zr(this,Hu,"f")}get isPaused(){return Zr(this,Ng,"f")}};function TU(r,t,n,i,o,c,a){return qR.apply(this,arguments)}function qR(){return qR=(0,ae.A)(function*(r,t,n,i,o,c,a){if(t instanceof Uint8Array){const P=A5(t,i,o,c);return void n.push(P)}if(null==t.Data)throw Ja(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let u;try{u=ku.unmarshal(t.Data)}catch(P){throw Ja(P,"ERR_NOT_UNIXFS")}if(null!=u.data){const b=A5(u.data,i,o,c);n.push(b),i+=BigInt(b.byteLength)}const U=[];if(t.Links.length!==u.blockSizes.length)throw Ja(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let P=0;P<t.Links.length;P++){const _e=i+u.blockSizes[P];if((o>=i&&o<_e||c>=i&&c<=_e||o<i&&c>_e)&&U.push({link:t.Links[P],blockStart:i}),(i=_e)>c)break}yield XR(U,P=>VR(P,b=>(0,ae.A)(function*(){const K=yield r.get(b.link.Hash,a);return{...b,block:K}})),P=>zR(P,{ordered:!0}),function(){var P=(0,ae.A)(function*(b){var Te,K=!1,_e=!1;try{for(var Re,Se=ro(b);K=!(Re=yield Se.next()).done;K=!1){const{link:Ge,block:ct,blockStart:Xe}=Re.value;{let Je;switch(Ge.Hash.code){case aI:Je=mm(ct);break;case nb:Je=ct;break;default:return void n.end(Ja(new Error(`Unsupported codec: ${Ge.Hash.code}`),"ERR_NOT_UNIXFS"))}const lt=new dK({concurrency:1});lt.on("error",Et=>{n.end(Et)}),lt.add((0,ae.A)(function*(){a.onProgress?.(new kd("unixfs:exporter:walk:file",{cid:Ge.Hash})),yield TU(r,Je,n,Xe,o,c,a)})),yield lt.onIdle()}}}catch(Ge){_e=!0,Te=Ge}finally{try{K&&null!=Se.return&&(yield Se.return())}finally{if(_e)throw Te}}});return function(b){return P.apply(this,arguments)}}()),i>=c&&n.end()}),qR.apply(this,arguments)}const DU=(r,t,n,i,o,c,a)=>{function U(){return(U=Io(function*(P={}){const b=n.fileSize();if(void 0===b)throw new Error("File was a directory");const{start:K,end:_e}=$R(b,P.offset,P.length);if(0n===_e)return;let Te=0n;const Se=_e-K,Re=GR();P.onProgress?.(new kd("unixfs:exporter:walk:file",{cid:r})),TU(a,t,Re,0n,K,_e,P).catch(Et=>{Re.end(Et)});var Xe,Ge=!1,ct=!1;try{for(var lt,Je=ro(Re);Ge=!(lt=yield $r(Je.next())).done;Ge=!1){const Et=lt.value;if(null!=Et){if(Te+=BigInt(Et.byteLength),Te>Se)throw Re.end(),Ja(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Te===Se&&Re.end(),P.onProgress?.(new kd("unixfs:exporter:progress:unixfs:file",{bytesRead:Te,totalBytes:Se,fileSize:b})),yield Et}}}catch(Et){ct=!0,Xe=Et}finally{try{Ge&&null!=Je.return&&(yield $r(Je.return()))}finally{if(ct)throw Xe}}if(Te<Se)throw Ja(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function u(){return U.apply(this,arguments)}};function IU(r,t,n,i,o,c){return QR.apply(this,arguments)}function QR(){return QR=Io(function*(r,t,n,i,o,c){const u=XR(r.Links,Te=>VR(Te,Se=>(0,ae.A)(function*(){const Re=null!=Se.Name?Se.Name.substring(2):null;if(null!=Re&&""!==Re){const Ge=yield n(Se.Hash,Re,`${t}/${Re}`,[],i+1,o,c);return{entries:null==Ge.entry?[]:[Ge.entry]}}{const Ge=yield o.get(Se.Hash,c);return r=mm(Ge),c.onProgress?.(new kd("unixfs:exporter:walk:hamt-sharded-directory",{cid:Se.Hash})),{entries:IU(r,t,n,i,o,c)}}})),Te=>zR(Te,{ordered:!0}));var b,U=!1,P=!1;try{for(var _e,K=ro(u);U=!(_e=yield $r(K.next())).done;U=!1){const{entries:Te}=_e.value;yield*gf(ro(Te))}}catch(Te){P=!0,b=Te}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}}),QR.apply(this,arguments)}const hK={raw:DU,file:DU,directory:(r,t,n,i,o,c,a)=>{function U(){return(U=Io(function*(P={}){const _e=t.Links.slice(P.offset??0,P.length??t.Links.length);P.onProgress?.(new kd("unixfs:exporter:walk:directory",{cid:r})),yield*gf(ro(XR(_e,Te=>VR(Te,Se=>(0,ae.A)(function*(){const Re=Se.Name??"",Ge=`${i}/${Re}`;return(yield o(Se.Hash,Re,Ge,[],c+1,a,P)).entry})),Te=>zR(Te,{ordered:!0}),Te=>function Hj(r,t){let n=0;if(function zj(r){return null!=r[Symbol.asyncIterator]}(r))return Io(function*(){var b,U=!1,P=!1;try{for(var _e,K=ro(r);U=!(_e=yield $r(K.next())).done;U=!1){const Te=_e.value;(yield $r(t(Te,n++)))&&(yield Te)}}catch(Te){P=!0,b=Te}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}})();const i=fU(r),{value:o,done:c}=i.next();if(!0===c)return function*(){}();const a=t(o,n++);if("function"==typeof a.then)return Io(function*(){(yield $r(a))&&(yield o);var b,U=!1,P=!1;try{for(var _e,K=ro(i);U=!(_e=yield $r(K.next())).done;U=!1){const Te=_e.value;(yield $r(t(Te,n++)))&&(yield Te)}}catch(Te){P=!0,b=Te}finally{try{U&&null!=K.return&&(yield $r(K.return()))}finally{if(P)throw b}}})();const u=t;return function*(){!0===a&&(yield o);for(const U of i)u(U,n++)&&(yield U)}()}(Te,Se=>null!=Se))))})).apply(this,arguments)}return function u(){return U.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,o,c,a)=>function u(U={}){return U.onProgress?.(new kd("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),IU(t,i,o,c,a,U)},metadata:(r,t,n,i,o,c,a)=>()=>[],symlink:(r,t,n,i,o,c,a)=>()=>[]},pK=function(){var r=(0,ae.A)(function*(t,n,i,o,c,a,u,U){const b=mm(yield u.get(t,U));let K,_e;if(null==n&&(n=t.toString()),null==b.Data)throw Ja(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{K=ku.unmarshal(b.Data)}catch(Se){throw Ja(Se,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),o.length>0){let Se;if(Se="hamt-sharded-directory"===K?.type?yield $j(b,o[0],u):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(b,o[0]),null==Se)throw Ja(new Error("file does not exist"),"ERR_NOT_FOUND");const Re=o.shift();_e={cid:Se,toResolve:o,name:Re??"",path:`${i}/${Re}`}}const Te=hK[K.type](t,b,K,i,c,a,u);if(null==Te)throw Ja(new Error("could not find content exporter"),"ERR_NOT_FOUND");return K.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:Te,unixfs:K,depth:a,node:b,size:K.fileSize()},next:_e}:{entry:{type:"file",name:n,path:i,cid:t,content:Te,unixfs:K,depth:a,node:b,size:K.fileSize()},next:_e}});return function(n,i,o,c,a,u,U,P){return r.apply(this,arguments)}}(),mK={[aI]:pK,[nb]:Lj,[Iv]:Oj,0:Nj},CU=function(){var r=(0,ae.A)(function*(t,n,i,o,c,a,u){const U=mK[t.code];if(null==U)throw Ja(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return U(t,n,i,o,CU,c,a,u)});return function(n,i,o,c,a,u,U){return r.apply(this,arguments)}}(),yK=CU,vK=r=>{if(r instanceof Uint8Array)return{cid:$l.TO.decode(r),toResolve:[]};const t=$l.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:$l.TO.parse(n[0]),toResolve:n.slice(1)}}throw Ja(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function eB(){return eB=Io(function*(r,t,n={}){let{cid:i,toResolve:o}=vK(r),c=i.toString(),a=c;const u=o.length;for(;;){const U=yield $r(yK(i,c,a,o,u,t,n));if(null==U.entry&&null==U.next)throw Ja(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=U.entry&&(yield U.entry),null==U.next)return;o=U.next.toResolve,i=U.next.cid,c=U.next.name,a=U.next.path}}),eB.apply(this,arguments)}function tB(){return tB=(0,ae.A)(function*(r,t,n={}){const i=yield Cj(function bK(r,t){return eB.apply(this,arguments)}(r,t,n));if(null==i)throw Ja(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),tB.apply(this,arguments)}var Ug=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class _K{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:YE},t),this.blockstore=new S5({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Ug(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Ug(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,o){var c,a,u,P,b;return Ug(this,void 0,void 0,function*(){const K=yield this.getBlockstoreForStoringData(t,n,i),_e=xb([{content:o}],K,{cidVersion:1});let Te;try{for(var Ge,Se=!0,Re=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(a){return new Promise(function(u,U){!function o(c,a,u,U){Promise.resolve(U).then(function(P){c({value:P,done:u})},a)}(u,U,(a=r[c](a)).done,a.value)})}}}(_e);Ge=yield Re.next(),!(c=Ge.done);Se=!0)Se=!1,Te=Ge.value}catch(ct){a={error:ct}}finally{try{!Se&&!c&&(u=Re.return)&&(yield u.call(Re))}finally{if(a)throw a.error}}return{dataSize:Number(null!==(b=null===(P=Te.unixfs)||void 0===P?void 0:P.fileSize())&&void 0!==b?b:Te.size)}})}get(t,n,i){return Ug(this,void 0,void 0,function*(){const o=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield o.has(i)))return;const a=yield function kU(r,t){return tB.apply(this,arguments)}(i,o),u=a.content(),U=new Mb.Readable({read(){return Ug(this,void 0,void 0,function*(){const b=yield u.next();this.push(b.done?null:b.value)})}});let P=a.size;return("file"===a.type||"directory"===a.type)&&(P=a.unixfs.fileSize()),{dataSize:Number(P),dataStream:U}})}delete(t,n,i){return Ug(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return Ug(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return Ug(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var Kc=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},qA=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(a){return new Promise(function(u,U){!function o(c,a,u,U){Promise.resolve(U).then(function(P){c({value:P,done:u})},a)}(u,U,(a=r[c](a)).done,a.value)})}}},Mw=function(r){return this instanceof Mw?(this.v=r,this):new Mw(r)};let B5=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:YE},n),this.db=new WA({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Kc(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Kc(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return Kc(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,o,c){return Kc(this,void 0,void 0,function*(){if(E1(o))throw new qt(Yt.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const a={messageCid:i,indexes:o},u=[];for(const K in o){const _e=o[K];if(Array.isArray(_e))for(const Te of _e){const Se=this.createPutIndexedItemOperation(n,a,K,Te);u.push(Se)}else{const Te=this.createPutIndexedItemOperation(n,a,K,_e);u.push(Te)}}const U=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(o)});u.push(U);const P=yield Promise.all(u);yield(yield this.db.partition(n)).batch(P,c)})}delete(n,i,o){return Kc(this,void 0,void 0,function*(){const c=[],a=yield this.getIndexes(n,i);if(void 0===a)return;const u=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});c.push(u);for(const b in a){const K=a[b];if(Array.isArray(K))for(const _e of K){const Te=this.createDeleteIndexedItemOperation(n,i,b,_e);c.push(Te)}else{const _e=this.createDeleteIndexedItemOperation(n,i,b,K);c.push(_e)}}const U=yield Promise.all(c);yield(yield this.db.partition(n)).batch(U,o)})}createPutIndexedItemOperation(n,i,o,c){return Kc(this,void 0,void 0,function*(){const{messageCid:a}=i,u=r.keySegmentJoin(r.encodeValue(c),a);return this.createOperationForIndexPartition(n,o,{type:"put",key:u,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,o,c){return Kc(this,void 0,void 0,function*(){const a=r.keySegmentJoin(r.encodeValue(c),i);return this.createOperationForIndexPartition(n,o,{type:"del",key:a})})}createOperationForIndexPartition(n,i,o){return Kc(this,void 0,void 0,function*(){const c=yield this.db.partition(n),a=r.getIndexPartitionName(i);return c.createPartitionOperation(a,o)})}createOperationForIndexesLookupPartition(n,i){return Kc(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return Kc(this,void 0,void 0,function*(){const o=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(o)})}getIndexesLookupPartition(n){return Kc(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,o,c){return Kc(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,o)?this.queryWithInMemoryPaging(n,i,o,c):this.queryWithIteratorPaging(n,i,o,c)})}queryWithIteratorPaging(n,i,o,c){var a,u,U;return Kc(this,void 0,void 0,function*(){const{cursor:b,limit:K}=o,_e=b?this.createStartingKeyFromCursor(b):"",Te=[];try{for(var Ge,Se=!0,Re=qA(this.getIndexIterator(n,_e,o,c));Ge=yield Re.next(),!(a=Ge.done);Se=!0){Se=!1;const ct=Ge.value;if(void 0!==K&&K===Te.length)break;const{indexes:Xe}=ct;$a.matchAnyFilter(Xe,i)&&Te.push(ct)}}catch(ct){u={error:ct}}finally{try{!Se&&!a&&(U=Re.return)&&(yield U.call(Re))}finally{if(u)throw u.error}}return Te})}getIndexIterator(n,i,o,c){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(_e){i[_e]&&(o[_e]=function(Te){return new Promise(function(Se,Re){c.push([_e,Te,Se,Re])>1||u(_e,Te)})})}function u(_e,Te){try{!function U(_e){_e.value instanceof Mw?Promise.resolve(_e.value.v).then(P,b):K(c[0][2],_e)}(i[_e](Te))}catch(Se){K(c[0][3],Se)}}function P(_e){u("next",_e)}function b(_e){u("throw",_e)}function K(_e,Te){_e(Te),c.shift(),c.length&&u(c[0][0],c[0][1])}}(this,arguments,function*(){var u,U,P,b;const{sortProperty:K,sortDirection:_e=ru.Ascending,cursor:Te}=o,Se={gt:i};_e===ru.Descending&&(Se.reverse=!0,void 0!==Te&&(Se.lt=i,delete Se.gt));const Re=yield Mw(this.getIndexPartition(n,K));try{for(var Xe,Ge=!0,ct=qA(Re.iterator(Se,c));!(u=(Xe=yield Mw(ct.next())).done);Ge=!0){b=Xe.value,Ge=!1;const[Je,lt]=b,{indexes:Et,messageCid:wt}=JSON.parse(lt);yield yield Mw({indexes:Et,messageCid:wt})}}catch(Je){U={error:Je}}finally{try{!Ge&&!u&&(P=ct.return)&&(yield Mw(P.call(ct)))}finally{if(U)throw U.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:o}=n;return r.keySegmentJoin(r.encodeValue(o),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:o,indexes:c}=n,a=c[i];if(void 0===a)throw new qt(Yt.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof a||Array.isArray(a))throw new qt(Yt.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof a} was given.`);return{messageCid:o,value:a}}queryWithInMemoryPaging(n,i,o,c){return Kc(this,void 0,void 0,function*(){const{sortProperty:a,sortDirection:u=ru.Ascending,cursor:U,limit:P}=o,b=U?this.createStartingKeyFromCursor(U):void 0,K=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(Re=>this.executeSingleFilterQuery(n,Re,a,K,c)))}catch(Re){if(Re.code===Yt.IndexInvalidSortPropertyInMemory)return[]}const _e=[...K.values()].sort((Re,Ge)=>this.sortItems(Re,Ge,a,u)),Te=void 0!==b?this.findCursorStartingIndex(_e,u,a,b):0;return Te<0?[]:_e.slice(Te,void 0!==P?Te+P:void 0)})}executeSingleFilterQuery(n,i,o,c,a){return Kc(this,void 0,void 0,function*(){const u=[];if(E1(i)){const P=this.getAllItems(n,o);u.push(P)}const U=GM.reduceFilter(i);for(const P in U){const b=U[P];if($a.isEqualFilter(b)){const K=this.filterExactMatches(n,P,b,a);u.push(K)}else if($a.isOneOfFilter(b))for(const K of new Set(b)){const _e=this.filterExactMatches(n,P,K,a);u.push(_e)}else if($a.isRangeFilter(b)){const K=this.filterRangeMatches(n,P,b,a);u.push(K)}}for(const P of u){const b=yield P;for(const K of b)if(!c.has(K.messageCid)&&$a.matchFilter(K.indexes,i)){if(void 0===K.indexes[o])throw new qt(Yt.IndexInvalidSortPropertyInMemory,`invalid sort property ${o}`);c.set(K.messageCid,K)}}})}getAllItems(n,i){var o,c,a,u;return Kc(this,void 0,void 0,function*(){const U=yield this.getIndexPartition(n,i),P=[];try{for(var _e,b=!0,K=qA(U.iterator());_e=yield K.next(),!(o=_e.done);b=!0){u=_e.value,b=!1;const[Te,Se]=u;P.push(JSON.parse(Se))}}catch(Te){c={error:Te}}finally{try{!b&&!o&&(a=K.return)&&(yield a.call(K))}finally{if(c)throw c.error}}return P})}filterExactMatches(n,i,o,c){var a,u,U,P;return Kc(this,void 0,void 0,function*(){const b=r.keySegmentJoin(r.encodeValue(o)),K={gt:b},_e=yield this.getIndexPartition(n,i),Te=[];try{for(var Ge,Se=!0,Re=qA(_e.iterator(K,c));Ge=yield Re.next(),!(a=Ge.done);Se=!0){P=Ge.value,Se=!1;const[ct,Xe]=P;if(!ct.startsWith(b))break;Te.push(JSON.parse(Xe))}}catch(ct){u={error:ct}}finally{try{!Se&&!a&&(U=Re.return)&&(yield U.call(Re))}finally{if(u)throw u.error}}return Te})}filterRangeMatches(n,i,o,c){var a,u,U,P;return Kc(this,void 0,void 0,function*(){const b={};for(const Ge in o)b[Ge]=r.encodeValue(o[Ge]);void 0===b.gt&&void 0===b.gte&&(b.reverse=!0);const K=[],_e=yield this.getIndexPartition(n,i);try{for(var Re,Te=!0,Se=qA(_e.iterator(b,c));Re=yield Se.next(),!(a=Re.done);Te=!0){P=Re.value,Te=!1;const[Ge,ct]=P;"gt"in o&&this.extractIndexValueFromKey(Ge)===r.encodeValue(o.gt)||K.push(JSON.parse(ct))}}catch(Ge){u={error:Ge}}finally{try{!Te&&!a&&(U=Se.return)&&(yield U.call(Se))}finally{if(u)throw u.error}}if("lte"in o)for(const Ge of yield this.filterExactMatches(n,i,o.lte,c))K.push(Ge);return K})}sortItems(n,i,o,c){const u=i.indexes[o],U=r.encodeValue(n.indexes[o])+n.messageCid,P=r.encodeValue(u)+i.messageCid;return c===ru.Ascending?Ab(U,P):Ab(P,U)}findCursorStartingIndex(n,i,o,c){return n.findIndex(u=>{const{messageCid:U,indexes:P}=u,K=r.keySegmentJoin(r.encodeValue(P[o]),U);return i===ru.Ascending?K>c:K<c})}getIndexes(n,i){return Kc(this,void 0,void 0,function*(){const c=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==c)return JSON.parse(c)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,c=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(c,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const o of n)if(!r.isFilterConcise(o,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function rB(r){if(!iB(r))throw new Error("Parameter was not an error")}function iB(r){return"[object Error]"===function xK(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class Wu extends Error{constructor(t,n){const i=[...arguments],{options:o,shortMessage:c}=function MK(r){let t,n="";if(0===r.length)t={};else if(iB(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let a=c;o.cause&&(a=`${a}: ${o.cause.message}`),super(a),this.message=a,this.name=o.name&&"string"==typeof o.name?o.name:"Layerr",o.cause&&Object.defineProperty(this,"_cause",{value:o.cause}),Object.defineProperty(this,"_info",{value:{}}),o.info&&"object"==typeof o.info&&Object.assign(this._info,o.info),Error.captureStackTrace&&Error.captureStackTrace(this,o.constructorOpt||this.constructor)}static cause(t){return rB(t),t._cause&&iB(t._cause)?t._cause:null}static fullStack(t){rB(t);const n=Wu.cause(t);return n?`${t.stack}\ncaused by: ${Wu.fullStack(n)}`:t.stack}static info(t){rB(t);const n={},i=Wu.cause(t);return i&&Object.assign(n,Wu.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return Wu.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const Sw="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Aw=32,oB=0xffffffffffff,Hp=Object.freeze({source:"ulid"});function sB(r,t){if(isNaN(r))throw new Wu({info:{code:"ENC_TIME_NAN",...Hp}},`Time must be a number: ${r}`);if(r>oB)throw new Wu({info:{code:"ENC_TIME_SIZE_EXCEED",...Hp}},`Cannot encode a time larger than ${oB}: ${r}`);if(r<0)throw new Wu({info:{code:"ENC_TIME_NEG",...Hp}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new Wu({info:{code:"ENC_TIME_TYPE",...Hp}},`Time must be an integer: ${r}`);let n,i="";for(let o=t;o>0;o--)n=r%Aw,i=Sw.charAt(n)+i,r=(r-n)/Aw;return i}function BU(r){const t=r||function OU(r){const t=r||function SK(){return function TK(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new Wu({info:{code:"PRNG_DETECT",...Hp}},"Failed to find a reliable PRNG")}();let i,n=0;return function(c){const a=isNaN(c)?Date.now():c;if(a<=n){const U=i=function AK(r){let t,i,o,n=r.length,c=r;const a=Aw-1;for(;!t&&n-- >=0;){if(i=c[n],o=Sw.indexOf(i),-1===o)throw new Wu({info:{code:"B32_INC_ENC",...Hp}},"Incorrectly encoded string");o!==a?t=NU(c,n,Sw[o+1]):c=NU(c,n,Sw[0])}if("string"==typeof t)return t;throw new Wu({info:{code:"B32_INC_INVALID",...Hp}},"Failed incrementing string")}(i);return sB(n,10)+U}n=a;const u=i=function RU(r,t){let n="";for(;r>0;r--)n=DK(t)+n;return n}(16,t);return sB(a,10)+u}}function DK(r){let t=Math.floor(r()*Aw);return t===Aw&&(t=Aw-1),Sw.charAt(t)}function NU(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Tw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class IK{constructor(t){this.index=new B5(Object.assign({location:"EVENTLOG",createLevelDatabase:YE},t)),this.ulidFactory=BU()}open(){return Tw(this,void 0,void 0,function*(){return this.index.open()})}close(){return Tw(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Tw(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return Tw(this,void 0,void 0,function*(){const o=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:o}))})}queryEvents(t,n,i){return Tw(this,void 0,void 0,function*(){const o=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:o.map(({messageCid:c})=>c),cursor:B5.createCursorFromLastArrayItem(o,"watermark")}})}getEvents(t,n){return Tw(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Tw(this,void 0,void 0,function*(){const i=[];for(const o of n)i.push(this.index.delete(t,o));yield Promise.all(i)})}}function U5({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*CK(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const o=[...r,n],c=mf.TO.asCID(i);c?yield[o.join("/"),c]:"object"==typeof i&&(yield*aB(i,o))}else{const n=mf.TO.asCID(t);n?yield[r.join("/"),n]:yield*aB(t,r)}}function*aB(r,t){if(null==r||r instanceof Uint8Array)return;const n=mf.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,o]of Object.entries(r)){const c=[...t,i];yield*CK(c,o)}}function*kK(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const o=[...r,n];yield o.join("/"),"object"==typeof i&&!mf.TO.asCID(i)&&(yield*cB(i,o))}else yield*cB(t,r)}function*cB(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const o=[...t,n];yield o.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!mf.TO.asCID(i)&&(yield*kK(o,i))}}class dB{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:U5(),bytes:U5(),value:U5(),asBlock:U5()})}links(){return aB(this.value,[])}tree(){return cB(this.value,[])}get(t="/"){return function PK(r,t){let n=r;for(const[i,o]of t.entries()){if(n=n[o],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);const c=mf.TO.asCID(n);if(c)return{value:c,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function lB(){return lB=(0,ae.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),o=yield n.digest(i),c=mf.TO.create(1,t.code,o);return new dB({value:r,bytes:i,cid:c})}),lB.apply(this,arguments)}function uB(){return uB=(0,ae.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),o=yield n.digest(r),c=mf.TO.create(1,t.code,o);return new dB({value:i,bytes:r,cid:c})}),uB.apply(this,arguments)}var Dw=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class hB{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:YE},t),this.blockstore=new S5({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new B5({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Dw(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return Dw(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var o;return Dw(this,void 0,void 0,function*(){null===(o=i?.signal)||void 0===o||o.throwIfAborted();const c=yield Kd(this.blockstore.partition(t),i?.signal),a=$l.TO.parse(n),u=yield c.get(a,i);return u?(yield Kd(function RK(r){return uB.apply(this,arguments)}({bytes:u,codec:ee,hasher:Ta}),i?.signal)).value:void 0})}query(t,n,i,o,c){var a;return Dw(this,void 0,void 0,function*(){null===(a=c?.signal)||void 0===a||a.throwIfAborted();const u=hB.buildQueryOptions(i,o),U=yield this.index.query(t,n,u,c);let P;void 0!==o?.limit&&o.limit<U.length&&(U.splice(-1),P=B5.createCursorFromLastArrayItem(U,u.sortProperty));const b=[];for(let K=0;K<U.length;K++){const{messageCid:_e}=U[K],Te=yield this.get(t,_e,c);Te&&b.push(Te)}return{messages:b,cursor:P}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:o}=n;const{dateCreated:c,datePublished:a,messageTimestamp:u}=t;let U=ru.Ascending,P="messageTimestamp";return void 0!==c?P="dateCreated":void 0!==a?P="datePublished":void 0!==u&&(P="messageTimestamp"),void 0!==t[P]&&(U=t[P]),void 0!==i&&i>0&&(i+=1),{sortDirection:U,sortProperty:P,limit:i,cursor:o}}delete(t,n,i){var o;return Dw(this,void 0,void 0,function*(){null===(o=i?.signal)||void 0===o||o.throwIfAborted();const c=yield Kd(this.blockstore.partition(t),i?.signal),a=$l.TO.parse(n);yield c.delete(a,i),yield this.index.delete(t,n,i)})}put(t,n,i,o){var c;return Dw(this,void 0,void 0,function*(){null===(c=o?.signal)||void 0===c||c.throwIfAborted();const a=yield Kd(this.blockstore.partition(t),o?.signal),u=yield Kd(function OK(r){return lB.apply(this,arguments)}({value:n,codec:ee,hasher:Ta}),o?.signal),U=cc.parseCid(yield cr.getCid(n));yield a.put(U,u.bytes,o);const P=U.toString();yield this.index.put(t,P,i,o)})}clear(){return Dw(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}E(44356);var oo=function(r){return r.EventsGet="EventsGet",r.EventsQuery="EventsQuery",r.EventsSubscribe="EventsSubscribe",r.MessagesGet="MessagesGet",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(oo||{});const F5={[oo.EventsGet]:iw,[oo.EventsQuery]:hg,[oo.EventsSubscribe]:hE,[oo.MessagesGet]:ow,[oo.ProtocolsConfigure]:nu,[oo.ProtocolsQuery]:pg,[oo.RecordsDelete]:aw,[oo.RecordsQuery]:fg,[oo.RecordsRead]:dw,[oo.RecordsSubscribe]:uw,[oo.RecordsWrite]:io};class j5{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}})}}class UU{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,la.s)(t)})}}class Wp{}class mB extends Wp{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield UU.digest({data:n})})}}const K5="urn:jwk:";function lo({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,Jt.E8)(n);const i=function FK(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const a of o)c[a]=t(i[a]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=Jt.U$.string(i).toUint8Array(),c=yield UU.digest({data:o});return Jt.U$.uint8Array(c).toBase64Url()})}function Gp(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function $5(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function LU(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function Xp(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function V5(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function yB(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var $d=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class fs{static adjustSignatureToLowS({signature:t}){return $d(this,void 0,void 0,function*(){const n=xi.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return $d(this,void 0,void 0,function*(){const n=yield fs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield lo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return $d(this,void 0,void 0,function*(){const n=yield fs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield lo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return $d(this,void 0,void 0,function*(){return xi.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return $d(this,void 0,void 0,function*(){const n=yield fs.privateKeyToBytes({privateKey:t}),i=yield fs.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:Jt.U$.uint8Array(i.x).toBase64Url(),y:Jt.U$.uint8Array(i.y).toBase64Url()};return o.kid=yield lo({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return $d(this,void 0,void 0,function*(){return xi.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return $d(this,void 0,void 0,function*(){return xi.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return $d(this,void 0,void 0,function*(){const t=xi.bI.utils.randomPrivateKey(),n=yield fs.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield lo({jwk:n}),n})}static getPublicKey({key:t}){var n;return $d(this,void 0,void 0,function*(){if(!Gp(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield lo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return $d(this,void 0,void 0,function*(){if(!Gp(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return $d(this,void 0,void 0,function*(){if(!$5(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=Jt.U$.base64Url(t.x).toUint8Array(),o=Jt.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return $d(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield fs.privateKeyToBytes({privateKey:t}),o=yield fs.publicKeyToBytes({publicKey:n});return xi.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return $d(this,void 0,void 0,function*(){const i=yield fs.privateKeyToBytes({privateKey:n}),o=(0,la.s)(t);return xi.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return $d(this,void 0,void 0,function*(){return xi.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return $d(this,void 0,void 0,function*(){try{xi.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return $d(this,void 0,void 0,function*(){const o=yield fs.publicKeyToBytes({publicKey:t}),c=(0,la.s)(i);return xi.bI.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return $d(this,void 0,void 0,function*(){32===t.byteLength&&(t=xi.bI.getPublicKey(t));const n=xi.bI.ProjectivePoint.fromHex(t);return{x:(0,Fd.lq)(n.x,32),y:(0,Fd.lq)(n.y,32)}})}}var Vd=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class hs{static adjustSignatureToLowS({signature:t}){return Vd(this,void 0,void 0,function*(){const n=Nr.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Vd(this,void 0,void 0,function*(){const n=yield hs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield lo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){const n=yield hs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield lo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){return Nr.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Vd(this,void 0,void 0,function*(){const n=yield hs.privateKeyToBytes({privateKey:t}),i=yield hs.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:Jt.U$.uint8Array(i.x).toBase64Url(),y:Jt.U$.uint8Array(i.y).toBase64Url()};return o.kid=yield lo({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Vd(this,void 0,void 0,function*(){return Nr.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){return Nr.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Vd(this,void 0,void 0,function*(){const t=Nr.Ag.utils.randomPrivateKey(),n=yield hs.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield lo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Vd(this,void 0,void 0,function*(){if(!Gp(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield lo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Vd(this,void 0,void 0,function*(){if(!Gp(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Vd(this,void 0,void 0,function*(){if(!$5(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=Jt.U$.base64Url(t.x).toUint8Array(),o=Jt.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Vd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield hs.privateKeyToBytes({privateKey:t}),o=yield hs.publicKeyToBytes({publicKey:n});return Nr.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Vd(this,void 0,void 0,function*(){const i=yield hs.privateKeyToBytes({privateKey:n}),o=(0,la.s)(t);return Nr.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Vd(this,void 0,void 0,function*(){return Nr.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){try{Nr.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Vd(this,void 0,void 0,function*(){const o=yield hs.publicKeyToBytes({publicKey:t}),c=(0,la.s)(i);return Nr.Ag.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Vd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Nr.Ag.getPublicKey(t));const n=Nr.Ag.ProjectivePoint.fromHex(t);return{x:(0,Fd.lq)(n.x,32),y:(0,Fd.lq)(n.y,32)}})}}var QA=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class z5 extends Wp{computePublicKey({key:t}){return QA(this,void 0,void 0,function*(){if(!Gp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield fs.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield hs.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return QA(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield fs.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield hs.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return QA(this,void 0,void 0,function*(){if(!Gp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield fs.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield hs.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return QA(this,void 0,void 0,function*(){if(!Gp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield fs.sign({key:t,data:n});case"P-256":return yield hs.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return QA(this,void 0,void 0,function*(){if(!$5(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield fs.verify({key:t,signature:n,data:i});case"P-256":return yield hs.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var $f=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class ps{static bytesToPrivateKey({privateKeyBytes:t}){return $f(this,void 0,void 0,function*(){const n=hi.ev.getPublicKey(t),i={crv:"Ed25519",d:Jt.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:Jt.U$.uint8Array(n).toBase64Url()};return i.kid=yield lo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return $f(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:Jt.U$.uint8Array(t).toBase64Url()};return n.kid=yield lo({jwk:n}),n})}static computePublicKey({key:t}){return $f(this,void 0,void 0,function*(){const n=yield ps.privateKeyToBytes({privateKey:t}),i=hi.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:Jt.U$.uint8Array(i).toBase64Url()};return o.kid=yield lo({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return $f(this,void 0,void 0,function*(){const n=yield ps.privateKeyToBytes({privateKey:t}),i=(0,hi.OA)(n),o=hi.TU.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:Jt.U$.uint8Array(i).toBase64Url(),x:Jt.U$.uint8Array(o).toBase64Url()};return c.kid=yield lo({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return $f(this,void 0,void 0,function*(){const n=yield ps.publicKeyToBytes({publicKey:t});if(!(yield ps.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,hi.GU)(n),c={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(o).toBase64Url()};return c.kid=yield lo({jwk:c}),c})}static generateKey(){return $f(this,void 0,void 0,function*(){const t=hi.ev.utils.randomPrivateKey(),n=yield ps.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield lo({jwk:n}),n})}static getPublicKey({key:t}){var n;return $f(this,void 0,void 0,function*(){if(!Xp(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield lo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return $f(this,void 0,void 0,function*(){if(!Xp(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return $f(this,void 0,void 0,function*(){if(!V5(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Jt.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return $f(this,void 0,void 0,function*(){const i=yield ps.privateKeyToBytes({privateKey:t});return hi.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return $f(this,void 0,void 0,function*(){try{hi.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return $f(this,void 0,void 0,function*(){const o=yield ps.publicKeyToBytes({publicKey:t});return hi.ev.verify(n,i,o)})}}var eT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class FU extends Wp{computePublicKey({key:t}){return eT(this,void 0,void 0,function*(){if(!Xp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ps.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return eT(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ps.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return eT(this,void 0,void 0,function*(){if(!Xp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ps.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return eT(this,void 0,void 0,function*(){if(!Xp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ps.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return eT(this,void 0,void 0,function*(){if(!V5(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ps.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var m0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const gB={Ed25519:{implementation:FU,names:["Ed25519"]},secp256k1:{implementation:z5,names:["ES256K","secp256k1"]},secp256r1:{implementation:z5,names:["ES256","secp256r1"]},"SHA-256":{implementation:mB,names:["SHA-256"]}};class Yp{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Jt.ny}digest({algorithm:t,data:n}){return m0(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return m0(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return m0(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${K5}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return m0(this,void 0,void 0,function*(){const n=yield lo({jwk:t});return`${K5}${n}`})}getPublicKey({keyUri:t}){return m0(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return m0(this,void 0,void 0,function*(){if(!yB(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield lo({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return m0(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return m0(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=gB[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in gB){const c=gB[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return m0(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function jU(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function Iw(){return t0.E.randomUUID()}var Lg=E(91879),nT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const $U=[128,192,256],X5=[96,104,112,120,128];class Fg{static bytesToPrivateKey({privateKeyBytes:t}){return nT(this,void 0,void 0,function*(){const n={k:Jt.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield lo({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:o,tagLength:c}){return nT(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(c&&!X5.includes(c))throw new RangeError(`The tag length is invalid: Must be ${X5.join(", ")} bits`);const a=(0,Lg.NZ)(),u=yield a.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),U=Object.assign(Object.assign({name:"AES-GCM",iv:i},c&&{tagLength:c}),o&&{additionalData:o}),P=yield a.decrypt(U,u,n);return new Uint8Array(P)})}static encrypt({data:t,iv:n,key:i,additionalData:o,tagLength:c}){return nT(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(c&&!X5.includes(c))throw new RangeError(`The tag length is invalid: Must be ${X5.join(", ")} bits`);const a=(0,Lg.NZ)(),u=yield a.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),U=Object.assign(Object.assign({name:"AES-GCM",iv:n},c&&{tagLength:c}),o&&{additionalData:o}),P=yield a.encrypt(U,u,t);return new Uint8Array(P)})}static generateKey({length:t}){return nT(this,void 0,void 0,function*(){if(!$U.includes(t))throw new RangeError(`The key length is invalid: Must be ${$U.join(", ")} bits`);const n=(0,Lg.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return u.kid=yield lo({jwk:u}),u})}static privateKeyToBytes({privateKey:t}){return nT(this,void 0,void 0,function*(){if(!LU(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return Jt.U$.base64Url(t.k).toUint8Array()})}}var bB=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},jg=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class qE{static bytesToPrivateKey({privateKeyBytes:t}){return jg(this,void 0,void 0,function*(){const n=hi.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n).toBase64Url()};return i.kid=yield lo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return jg(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(t).toBase64Url()};return n.kid=yield lo({jwk:n}),n})}static computePublicKey({key:t}){return jg(this,void 0,void 0,function*(){const n=yield qE.privateKeyToBytes({privateKey:t}),i=hi.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(i).toBase64Url()};return o.kid=yield lo({jwk:o}),o})}static generateKey(){return jg(this,void 0,void 0,function*(){const t=hi.TU.utils.randomPrivateKey(),n=yield qE.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield lo({jwk:n}),n})}static getPublicKey({key:t}){var n;return jg(this,void 0,void 0,function*(){if(!Xp(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield lo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return jg(this,void 0,void 0,function*(){if(!Xp(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return jg(this,void 0,void 0,function*(){if(!V5(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return Jt.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return jg(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield qE.privateKeyToBytes({privateKey:t}),o=yield qE.publicKeyToBytes({publicKey:n});return hi.TU.getSharedSecret(i,o)})}}E(94730);class e${static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:o,info:c=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=yield(0,Lg.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);o="string"==typeof o?Jt.U$.string(o).toUint8Array():o,c="string"==typeof c?Jt.U$.string(c).toUint8Array():c;const U=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:o,info:c},u,n);return new Uint8Array(U)})}}class pi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pi)}}var mi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(mi||{}),y0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class VU extends Wp{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return y0(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield fs.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield hs.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return y0(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield fs.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield hs.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return y0(this,void 0,void 0,function*(){if(!Gp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield fs.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield hs.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return y0(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield fs.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield hs.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return y0(this,void 0,void 0,function*(){if(!Gp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield fs.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield hs.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return y0(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield fs.privateKeyToBytes({privateKey:t});case"P-256":return yield hs.privateKeyToBytes({privateKey:t});default:throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return y0(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield fs.publicKeyToBytes({publicKey:t});case"P-256":return yield hs.publicKeyToBytes({publicKey:t});default:throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return y0(this,void 0,void 0,function*(){if(!Gp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield fs.sign({key:t,data:n});case"P-256":return yield hs.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return y0(this,void 0,void 0,function*(){if(!$5(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield fs.verify({key:t,signature:n,data:i});case"P-256":return yield hs.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var g0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},oT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},zU=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const HU=[128,192,256];class sT{static bytesToPrivateKey({privateKeyBytes:t}){return oT(this,void 0,void 0,function*(){const n={k:Jt.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield lo({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return oT(this,void 0,void 0,function*(){if(!HU.includes(t))throw new RangeError(`The key length is invalid: Must be ${HU.join(", ")} bits`);const n=(0,Lg.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),o=yield n.exportKey("jwk",i),u=zU(o,["ext","key_ops"]);return u.kid=yield lo({jwk:u}),u})}static privateKeyToBytes({privateKey:t}){return oT(this,void 0,void 0,function*(){if(!LU(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return Jt.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return oT(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new pi(mi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new pi(mi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const o=(0,Lg.NZ)(),c=yield o.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),a={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!a)throw new pi(mi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const u=yield o.unwrapKey("raw",t.buffer,c,"AES-KW",{name:a},!0,["unwrapKey"]),U=yield o.exportKey("jwk",u),_e=zU(U,["ext","key_ops"]);return _e.kid=yield lo({jwk:_e}),_e})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return oT(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new pi(mi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new pi(mi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new pi(mi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,Lg.NZ)(),o=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),c={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!c)throw new pi(mi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const a=yield i.importKey("jwk",t,{name:c},!0,["unwrapKey"]),u=yield i.wrapKey("raw",a,o,"AES-KW");return new Uint8Array(u)})}}var aT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class WU extends Wp{bytesToPrivateKey({privateKeyBytes:t}){return aT(this,void 0,void 0,function*(){const n=yield sT.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return aT(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield sT.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return aT(this,void 0,void 0,function*(){return yield sT.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return aT(this,void 0,void 0,function*(){return yield sT.unwrapKey(t)})}wrapKey(t){return aT(this,void 0,void 0,function*(){return sT.wrapKey(t)})}}class s${static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:o,length:c}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const a=(0,Lg.NZ)(),u=yield a.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),U=yield a.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:o},u,c);return new Uint8Array(U)})}}var cT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},ml=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const EB={"AES-GCM":{implementation:class l$ extends Wp{bytesToPrivateKey({privateKeyBytes:t}){return cT(this,void 0,void 0,function*(){const n=yield Fg.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return cT(this,void 0,void 0,function*(){return Fg.decrypt(t)})}encrypt(t){return cT(this,void 0,void 0,function*(){return Fg.encrypt(t)})}generateKey({algorithm:t}){return cT(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Fg.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return cT(this,void 0,void 0,function*(){return yield Fg.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:WU,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class i$ extends Wp{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return g0(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield ps.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return g0(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield ps.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return g0(this,void 0,void 0,function*(){if(!Xp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ps.computePublicKey({key:t});return n.alg="EdDSA",n}throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return g0(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ps.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return g0(this,void 0,void 0,function*(){if(!Xp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ps.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return g0(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ps.privateKeyToBytes({privateKey:t});throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return g0(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ps.publicKeyToBytes({publicKey:t});throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return g0(this,void 0,void 0,function*(){if(!Xp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ps.sign({key:t,data:n});throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return g0(this,void 0,void 0,function*(){if(!V5(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ps.verify({key:t,signature:n,data:i});throw new pi(mi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class r$ extends Wp{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield e$.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:o}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class d$ extends Wp{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,o]=n.split(/[-+]/),c={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[o];return yield s$.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:c}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:VU,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:VU,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:mB,names:["SHA-256"],operations:["digest"]}};class QE{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ml(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ml(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return ml(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t.algorithm}),c=this.getAlgorithm({algorithm:o});let a;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":a=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":a=t.algorithm.split(/[-+]/)[2];break;default:throw new pi(mi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const u=+(null!==(i=null===(n=a.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===u)throw new pi(mi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${a}`);const U=yield c.deriveKeyBytes(Object.assign(Object.assign({},t),{length:u}));return yield this.bytesToPrivateKey({algorithm:a,privateKeyBytes:U})})}deriveKeyBytes(t){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return ml(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return ml(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),c=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=c.kid)&&void 0!==n||(c.kid=yield lo({jwk:c})),c})}getKeyUri(t){return ml(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return ml(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return ml(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}wrapKey(t){return ml(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=EB[t])||void 0===n?void 0:n.implementation;if(!i)throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const o=null!==(i=n?.alg)&&void 0!==i?i:t,c=n?.crv;for(const a of Object.keys(EB)){const u=EB[a].names;if(o&&u.includes(o))return a;if(c&&u.includes(c))return a}throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${o}, crv=${c}. Please check the documentation for the list of supported algorithms.`)}}var Y5=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(Y5||{});const kw={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Os{constructor({method:t,id:n,path:i,query:o,fragment:c,params:a}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=a}static parse(t){if(!t)return null;const n=Os.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:a,fragment:u}=n.groups,U={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(U.path=c),a&&(U.query=a.slice(1)),u&&(U.fragment=u.slice(1)),a){const P={},b=a.slice(1).split("&");for(const K of b){const[_e,Te]=K.split("=");P[_e]=Te}U.params=P}return U}}Os.METHOD_PATTERN="([a-z0-9]+)",Os.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Os.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Os.PCT_ENCODED_PATTERN})`,Os.METHOD_ID_PATTERN=`((?:${Os.ID_CHAR_PATTERN}*:)*(${Os.ID_CHAR_PATTERN}+))`,Os.PATH_PATTERN="(/[^#?]*)?",Os.QUERY_PATTERN="([?][^#]*)?",Os.FRAGMENT_PATTERN="(#.*)?",Os.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Os.METHOD_PATTERN}):(?<id>${Os.METHOD_ID_PATTERN})(?<path>${Os.PATH_PATTERN})(?<query>${Os.QUERY_PATTERN})(?<fragment>${Os.FRAGMENT_PATTERN})$`);class ts extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ts)}}var Jo=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Jo||{});function Hh(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function MB(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var dT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class v0{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return dT(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return dT(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(U=>{var P,b;return Hh(U.id)===(null!==(P=Hh(t?.methodId))&&void 0!==P?P:Hh(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new ts(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),a=this.keyManager;return{algorithm:jU(c),keyId:i.id,sign(U){return dT(this,arguments,void 0,function*({data:P}){return yield a.sign({data:P,keyUri:o})})},verify(U){return dT(this,arguments,void 0,function*({data:P,signature:b}){return yield a.verify({data:P,key:c,signature:b})})}}})}static import(t){return dT(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Yp}){var o;const c=function xB({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(MB))&&void 0!==n?n:[]),Object.keys(Y5).forEach(o=>{var c,a;i.push(...null!==(a=null===(c=r[o])||void 0===c?void 0:c.filter(MB))&&void 0!==a?a:[])}),i}({didDocument:n.document});if(0===c.length)throw new ts(Jo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:u});for(let u of c){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const U=yield i.getKeyUri({key:u.publicKeyJwk});yield i.getPublicKey({keyUri:U})}return new v0({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var GU=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class XU{static getSigningMethod(t){return GU(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return GU(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var hd=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},YU=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const ZU="https://diddht.tbddev.org",Kg=7200,Dl=",";var JU=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(JU||{}),cu=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(cu||{}),qU=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(qU||{});const QU={Ed25519:cu.Ed25519,ES256K:cu.secp256k1,ES256:cu.secp256r1,"P-256":cu.secp256r1,secp256k1:cu.secp256k1,secp256r1:cu.secp256r1,X25519:cu.X25519},eL={[cu.Ed25519]:"Ed25519",[cu.secp256k1]:"ES256K",[cu.secp256r1]:"ES256",[cu.X25519]:"ECDH-ES+A256KW"};let J5=(()=>{class r extends XU{static create(){return hd(this,arguments,void 0,function*({keyManager:n=new Yp,options:i={}}={}){var o,c,a,u,U,P,b,K,_e,Te,Se;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(wt=>!(wt.algorithm in QU)))throw new Error("One or more verification method algorithms are not supported");const Re=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(wt=>"id"in wt).map(wt=>wt.id);if(Re&&Re.length!==new Set(Re).size)throw new Error("One or more verification method IDs are not unique");if(null!==(a=i.services)&&void 0!==a&&a.some(wt=>!wt.id||!wt.type||!wt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ge=yield n.generateKey({algorithm:"Ed25519"}),ct=yield n.getPublicKey({keyUri:Ge}),Xe=yield gc.identityKeyToIdentifier({identityKey:ct}),Je=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(u=i.verificationMethods)&&void 0!==u?u:[]];lt?.some(wt=>{var Ct;return"0"===(null===(Ct=wt.id)||void 0===Ct?void 0:Ct.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const wt of lt){const Ct=wt.id&&"0"===wt.id.split("#").pop()?Ge:yield n.generateKey({algorithm:wt.algorithm}),xt=yield n.getPublicKey({keyUri:Ct});let Zt=null!==(P=null!==(U=wt.id)&&void 0!==U?U:xt.kid)&&void 0!==P?P:yield lo({jwk:xt});Zt=`${Xe}#${Hh(Zt)}`,null!==(b=Je.verificationMethod)&&void 0!==b||(Je.verificationMethod=[]),Je.verificationMethod.push({id:Zt,type:"JsonWebKey",controller:null!==(K=wt.controller)&&void 0!==K?K:Xe,publicKeyJwk:xt});for(const hn of null!==(_e=wt.purposes)&&void 0!==_e?_e:[])Je[hn]||(Je[hn]=[]),Je[hn].push(Zt)}null===(Te=i.services)||void 0===Te||Te.forEach(wt=>{var Ct;null!==(Ct=Je.service)&&void 0!==Ct||(Je.service=[]),wt.id=`${Xe}#${wt.id.split("#").pop()}`,Je.service.push(wt)});const Et=new v0({uri:Xe,document:Je,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Se=i.publish)||void 0===Se||Se){const wt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=wt.didDocumentMetadata}return Et})}static import(n){return hd(this,arguments,void 0,function*({portableDid:i,keyManager:o=new Yp}){var c;const a=Os.parse(i.uri);if(a?.method!==r.methodName)throw new ts(Jo.MethodNotSupported,"Method not supported");const u=yield v0.import({portableDid:i,keyManager:o});if(null===(c=u.document.verificationMethod)||void 0===c||!c.some(U=>{var P;return"0"===(null===(P=U.id)||void 0===P?void 0:P.split("#").pop())}))throw new ts(Jo.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return hd(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const a=Os.parse(i.id);if(a&&a.method!==this.methodName)throw new ts(Jo.MethodNotSupported,`Method not supported: ${a.method}`);const u=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(U=>{var P,b;return Hh(U.id)===(null!==(P=Hh(o))&&void 0!==P?P:Hh(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!u||!u.publicKeyJwk)throw new ts(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return hd(this,arguments,void 0,function*({did:i,gatewayUri:o=ZU}){return yield b0.put({did:i,gatewayUri:o})})}static resolve(n){return hd(this,arguments,void 0,function*(i,o={}){var c;const a=null!==(c=o?.gatewayUri)&&void 0!==c?c:ZU;try{yield gc.identifierToIdentityKey({didUri:i});const{didDocument:u,didDocumentMetadata:U}=yield b0.get({didUri:i,gatewayUri:a});return Object.assign(Object.assign({},kw),{didDocument:u,didDocumentMetadata:U})}catch(u){if(!(u instanceof ts))throw new Error(u);return Object.assign(Object.assign({},kw),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class b0{static get(t){return hd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=gc.identifierToIdentityKeyBytes({didUri:n}),c=yield b0.pkarrGet({gatewayUri:i,publicKeyBytes:o}),a=yield gc.parseBep44GetMessage({bep44Message:c}),u=yield b0.fromDnsPacket({didUri:n,dnsPacket:a});return u.didDocumentMetadata.versionId=c.seq.toString(),u})}static put(t){return hd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield b0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield gc.createBep44PutMessage({dnsPacket:o,publicKeyBytes:gc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),a=yield b0.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:a,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return hd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=Jt.U$.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let a;try{if(a=yield fetch(c,{method:"GET"}),!a.ok)throw new ts(Jo.NotFound,`Pkarr record not found for: ${o}`)}catch(P){throw P instanceof ts?P:new ts(Jo.InternalError,`Failed to fetch Pkarr record: ${P.message}`)}const u=yield a.arrayBuffer();if(!u)throw new ts(Jo.NotFound,`Pkarr record not found for: ${o}`);if(u.byteLength<72)throw new ts(Jo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new ts(Jo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:i,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return hd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=Jt.U$.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,a=new Uint8Array(i.v.length+72);let u;a.set(i.sig,0),new DataView(a.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),a.set(i.v,i.sig.length+8);try{u=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a})}catch(U){throw new ts(Jo.InternalError,`Failed to put Pkarr record for identifier ${o}: ${U.message}`)}return u.ok})}static fromDnsPacket(t){return hd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,a;const u={id:n},U={published:!0},P=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=gc.parseTxtDataToString(b.data);u.alsoKnownAs=_e.split(Dl);break}case K.startsWith("cnt"):{const _e=gc.parseTxtDataToString(b.data);u.controller=_e.includes(Dl)?_e.split(Dl):_e;break}case K.startsWith("k"):{const{id:_e,t:Te,k:Se,c:Re,a:Ge}=gc.parseTxtDataToObject(b.data),ct=Jt.U$.base64Url(Se).toUint8Array(),Xe=cu[Number(Te)];let Je=yield gc.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:ct});Je.alg=Ge||eL[Number(Te)];const lt="k0"===K?"0":void 0!==_e?_e:yield lo({jwk:Je});null!==(c=u.verificationMethod)&&void 0!==c||(u.verificationMethod=[]);const Et=`${n}#${lt}`;u.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Re??n,publicKeyJwk:Je}),P.set(K,Et);break}case K.startsWith("s"):{const _e=gc.parseTxtDataToObject(b.data),{id:Te,t:Se,se:Re}=_e,Ge=YU(_e,["id","t","se"]),ct=Re.includes(Dl)?Re.split(Dl):[Re],Xe=Object.fromEntries(Object.entries(Ge).map(([Je,lt])=>[Je,lt.includes(Dl)?lt.split(Dl):lt]));null!==(a=u.service)&&void 0!==a||(u.service=[]),u.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Te}`,type:Se,serviceEndpoint:ct}));break}case K.startsWith("typ"):{const{id:_e}=gc.parseTxtDataToObject(b.data);U.types=_e.split(Dl).map(Te=>Number(Te));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Dl).map(Je=>P.get(Je)).filter(Je=>"string"==typeof Je),{auth:Te,asm:Se,del:Re,inv:Ge,agm:ct}=gc.parseTxtDataToObject(b.data);Te&&(u.authentication=_e(Te)),Se&&(u.assertionMethod=_e(Se)),Re&&(u.capabilityDelegation=_e(Re)),Ge&&(u.capabilityInvocation=_e(Ge)),ct&&(u.keyAgreement=_e(ct));break}}}return{didDocument:u,didDocumentMetadata:U,didResolutionMetadata:{}}})}static toDnsPacket(t){return hd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var a,u,U,P,b;const K=[],_e=[],Te=new Map,Se=[],Re=[];if(void 0!==c){const{signature:Xe,previousDid:Je}=c;yield gc.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:Kg,data:`id=${Je};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:Kg,data:n.alsoKnownAs.join(Dl)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Dl):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:Kg,data:Xe})}for(const[Xe,Je]of null!==(u=null===(a=n.verificationMethod)||void 0===a?void 0:a.entries())&&void 0!==u?u:[]){const lt=`k${Xe}`;Re.push(lt);let Et=Je.id.split("#").pop();Te.set(Et,lt);const wt=Je.publicKeyJwk;if(!wt?.crv||!(wt.crv in QU))throw new ts(Jo.InvalidPublicKeyType,`Verification method '${Je.id}' contains an unsupported key type: ${null!==(U=wt?.crv)&&void 0!==U?U:"undefined"}`);const Ct=cu[wt.crv],xt=yield gc.keyConverter(wt.crv).publicKeyToBytes({publicKey:wt}),hn=[`t=${Ct}`,`k=${Jt.U$.uint8Array(xt).toBase64Url()}`];"0"!==Et&&(yield lo({jwk:wt}))!==Et&&hn.unshift(`id=${Et}`),wt.alg!==eL[Ct]&&hn.push(`a=${wt.alg}`),Je.controller!==n.id&&hn.push(`c=${Je.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:Kg,data:hn.join(";")})}null===(P=n.service)||void 0===P||P.forEach((Xe,Je)=>{const lt=`s${Je}`;Se.push(lt);let{id:Et,type:wt,serviceEndpoint:Ct}=Xe,xt=YU(Xe,["id","type","serviceEndpoint"]);Et=Hh(Et),Ct=Array.isArray(Ct)?Ct.join(","):Ct;const hn=Object.entries(Object.assign({id:Et,t:wt,se:Ct},xt)).map(([Cn,gn])=>`${Cn}=${gn}`).join(";"),_n=gc.chunkDataIfNeeded(hn);K.push({type:"TXT",name:`_${lt}._did.`,ttl:Kg,data:_n})});const Ge=["v=0"];if(Re.length&&Ge.push(`vm=${Re.join(Dl)}`),Object.keys(Y5).forEach(Xe=>{var Je;const lt=null===(Je=n[Xe])||void 0===Je?void 0:Je.map(Et=>Te.get(Et.split("#").pop()));lt&&Ge.push(`${qU[Xe]}=${lt.join(Dl)}`)}),Se.length&&Ge.push(`svc=${Se.join(Dl)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Je=i.types.map(lt=>"string"==typeof lt?JU[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:Kg,data:`id=${Je.join(Dl)}`})}K.push({type:"TXT",name:"_did."+b0.getUniqueDidSuffix(n.id)+".",ttl:Kg,data:Ge.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+b0.getUniqueDidSuffix(n.id)+".",ttl:Kg,data:Xe+"."});return{id:0,type:"response",flags:1024,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class gc{static createBep44PutMessage(t){return hd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),a=zE(n),u=Tg.encode({seq:c,v:a}).subarray(1,-1);if(u.length>1e3)throw new ts(Jo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:u}),v:a}})}static identifierToIdentityKey(t){return hd(this,arguments,void 0,function*({didUri:n}){let i=gc.identifierToIdentityKeyBytes({didUri:n});return yield ps.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Os.parse(t);if(!n)throw new ts(Jo.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==J5.methodName)throw new ts(Jo.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=Jt.U$.base32Z(n.id).toUint8Array()}catch{throw new ts(Jo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new ts(Jo.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return hd(this,arguments,void 0,function*({identityKey:n}){const i=yield ps.publicKeyToBytes({publicKey:n}),o=Jt.U$.uint8Array(i).toBase32Z();return`did:${J5.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:ps,"P-256":{publicKeyToBytes:o=>hd(this,[o],void 0,function*({publicKey:c}){const a=yield hs.publicKeyToBytes({publicKey:c});return yield hs.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:hs.bytesToPublicKey,privateKeyToBytes:hs.privateKeyToBytes,bytesToPrivateKey:hs.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>hd(this,[o],void 0,function*({publicKey:c}){const a=yield fs.publicKeyToBytes({publicKey:c});return yield fs.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:fs.bytesToPublicKey,privateKeyToBytes:fs.privateKeyToBytes,bytesToPrivateKey:fs.bytesToPrivateKey},X25519:qE}[t];if(!i)throw new ts(Jo.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return hd(this,arguments,void 0,function*({bep44Message:n}){const i=yield ps.bytesToPublicKey({publicKeyBytes:n.k}),o=Tg.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield ps.verify({key:i,signature:n.sig,data:o})))throw new ts(Jo.InvalidSignature,"Invalid signature for DHT BEP44 message");return $A(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Jt.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new ts(Jo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return hd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield gc.identifierToIdentityKey({didUri:i.previousDid}),c=gc.identifierToIdentityKeyBytes({didUri:n}),a=Jt.U$.base64Url(i.signature).toUint8Array();if(!(yield ps.verify({key:o,data:c,signature:a})))throw new ts(Jo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var q5=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};let m$=(()=>{class r extends XU{static create(){return q5(this,arguments,void 0,function*({keyManager:n=new Yp,options:i={}}={}){var o,c,a,u;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const U=null!==(u=null!==(o=i.algorithm)&&void 0!==o?o:null===(a=null===(c=i.verificationMethods)||void 0===c?void 0:c[0])||void 0===a?void 0:a.algorithm)&&void 0!==u?u:"Ed25519",P=yield n.generateKey({algorithm:U}),b=yield n.getPublicKey({keyUri:P}),K=Jt.U$.object(b).toBase64Url(),_e=`did:${r.methodName}:${K}`,Se=(yield r.resolve(_e)).didDocument;return new v0({uri:_e,document:Se,metadata:{},keyManager:n})})}static getSigningMethod(n){return q5(this,arguments,void 0,function*({didDocument:i}){var o;const c=Os.parse(i.id);if(c&&c.method!==this.methodName)throw new ts(Jo.MethodNotSupported,`Method not supported: ${c.method}`);const[a]=null!==(o=i.verificationMethod)&&void 0!==o?o:[];if(!a||!a.publicKeyJwk)throw new ts(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return a})}static import(n){return q5(this,arguments,void 0,function*({portableDid:i,keyManager:o=new Yp}){const c=Os.parse(i.uri);if(c?.method!==r.methodName)throw new ts(Jo.MethodNotSupported,"Method not supported");const a=yield v0.import({portableDid:i,keyManager:o});if(1!==a.document.verificationMethod.length)throw new ts(Jo.InvalidDidDocument,"DID document must contain exactly one verification method");return a})}static resolve(n,i){return q5(this,void 0,void 0,function*(){const o=Os.parse(n);let c;try{c=Jt.U$.base64Url(o.id).toObject()}catch{}if(!o||!c)return Object.assign(Object.assign({},kw),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},kw),{didResolutionMetadata:{error:"methodNotSupported"}});const a={"@context":["https://www.w3.org/ns/did/v1"],id:o.uri},u=`${a.id}#0`;switch(a.verificationMethod=[{id:u,type:"JsonWebKey",controller:a.id,publicKeyJwk:c}],a.authentication=[u],a.assertionMethod=[u],a.capabilityInvocation=[u],a.capabilityDelegation=[u],a.keyAgreement=[u],c.use){case"sig":delete a.keyAgreement;break;case"enc":delete a.authentication,delete a.assertionMethod,delete a.capabilityInvocation,delete a.capabilityDelegation}return Object.assign(Object.assign({},kw),{didDocument:a})})}}return r.methodName="jwk",r})();var e2=E(81447),y$=E(94787);class v${constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new y$.Level(n),this.ttl=e2(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const b$={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var tL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class nL{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||b$;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return tL(this,void 0,void 0,function*(){const i=Os.parse(t);if(!i)return Object.assign(Object.assign({},kw),{didResolutionMetadata:{error:Jo.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},kw),{didResolutionMetadata:{error:Jo.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const c=yield this.cache.get(i.uri);if(c)return c;{const a=yield o.resolve(i.uri,n);return a.didResolutionMetadata.error||(yield this.cache.set(i.uri,a)),a}})}dereference(t,n){return tL(this,void 0,void 0,function*(){const i=Os.parse(t);if(!i)return{dereferencingMetadata:{error:Jo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:c,didDocumentMetadata:a}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:c.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:a};const{service:u=[],verificationMethod:U=[]}=o,P=new Set([t,i.fragment,`#${i.fragment}`]);let b;for(let K of U)if(P.has(K.id)){b=K;break}for(let K of u)if(P.has(K.id)){b=K;break}return b?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:b,contentMetadata:c}:{dereferencingMetadata:{error:Jo.NotFound},contentStream:null,contentMetadata:{}}})}}var t2=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const Gu="^";class _$ extends Yp{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return t2(this,void 0,void 0,function*(){const i={};for(const o of t)null!==(n=o.kid)&&void 0!==n||(o.kid=yield lo({jwk:o})),i[yield this.getKeyUri({key:o})]=o;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return t2(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return t2(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return t2(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return t2(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield ps.sign({data:n,key:i})})}}function Vg({agent:r,tenant:t,didUri:n}){return t2(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}function rL(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var Wh=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class AB{constructor(){this.name="DwnDataStore",this._cache=new Jt.LC({ttl:e2("15 minutes"),max:100}),this._index=new Jt.LC({ttl:e2("2 hours"),max:1e3}),this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete({id:t,agent:n,tenant:i}){return Wh(this,void 0,void 0,function*(){const o=yield Vg({agent:n,tenant:i,didUri:t});let c=yield this.lookupRecordId({id:t,tenantDid:o,agent:n});if(!c)return!1;const{reply:{status:a}}=yield n.dwn.processRequest({author:o,target:o,messageType:oo.RecordsDelete,messageParams:{recordId:c}});if(202===a.code)return this._index.delete(`${o}${Gu}${t}`),this._cache.delete(c),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${a.code}) ${a.detail}`)})}get({id:t,agent:n,tenant:i,useCache:o=!1}){return Wh(this,void 0,void 0,function*(){const c=yield Vg({agent:n,tenant:i,didUri:t});let a=yield this.lookupRecordId({id:t,tenantDid:c,agent:n});if(a)return yield this.getRecord({recordId:a,tenantDid:c,agent:n,useCache:o})})}list({agent:t,tenant:n}){return Wh(this,void 0,void 0,function*(){const i=yield Vg({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:o,preventDuplicates:c=!0,useCache:a=!1}){return Wh(this,void 0,void 0,function*(){const u=yield Vg({agent:o,tenant:i,didUri:t});if(c&&(yield this.lookupRecordId({id:t,tenantDid:u,agent:o})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const U=Jt.U$.object(n).toUint8Array(),{message:P,reply:{status:b}}=yield o.dwn.processRequest({author:u,target:u,messageType:oo.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([U],{type:"application/json"})});if(!P||202!==b.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${u}${Gu}${t}`,P.recordId),a&&this._cache.set(P.recordId,n)})}getAllRecords(t){return Wh(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:o}){var c;return Wh(this,void 0,void 0,function*(){if(o){const U=this._cache.get(t);if(U)return U}const{reply:a}=yield i.dwn.processRequest({author:n,target:n,messageType:oo.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(c=a.record)||void 0===c||!c.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const u=yield Jt.VS.consumeToJson({readable:a.record.data});return o&&this._cache.set(t,u),u})}lookupRecordId({id:t,tenantDid:n,agent:i}){return Wh(this,void 0,void 0,function*(){let o=this._index.get(`${n}${Gu}${t}`,{updateAgeOnGet:!0});return o||(yield this.getAllRecords({agent:i,tenantDid:n}),o=this._index.get(`${n}${Gu}${t}`)),o})}}class TB{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return Wh(this,void 0,void 0,function*(){const o=yield Vg({agent:n,tenant:i,didUri:t});return!!this.store.has(`${o}${Gu}${t}`)&&(this.store.delete(`${o}${Gu}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return Wh(this,void 0,void 0,function*(){const o=yield Vg({agent:n,tenant:i,didUri:t});return this.store.get(`${o}${Gu}${t}`)})}list({agent:t,tenant:n}){return Wh(this,void 0,void 0,function*(){const i=yield Vg({tenant:n,agent:t}),o=[];for(const[c,a]of this.store.entries())c.startsWith(`${i}${Gu}`)&&o.push(a);return o})}set({id:t,data:n,tenant:i,agent:o,preventDuplicates:c}){return Wh(this,void 0,void 0,function*(){const a=yield Vg({agent:o,tenant:i,didUri:t});if(c&&this.store.has(`${a}${Gu}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const u=structuredClone(n);this.store.set(`${a}${Gu}${t}`,u)})}}var w0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class E$ extends AB{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/portable-did"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return w0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return w0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return w0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return w0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return w0(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:oo.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let c=[];for(const a of null!==(i=o.entries)&&void 0!==i?i:[]){if(!a.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Jt.U$.base64Url(a.encodedData).toObject();rL(u)&&(this._index.set(`${n}${Gu}${u.uri}`,a.recordId),this._cache.set(a.recordId,u),c.push(u))}return c})}}class x$ extends TB{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return w0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return w0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return w0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return w0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var lT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class M${constructor({ttl:t="15m"}={}){this.cache=new Jt.LC({ttl:e2(t)})}get(t){return lT(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return lT(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return lT(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return lT(this,void 0,void 0,function*(){this.cache.clear()})}close(){return lT(this,void 0,void 0,function*(){})}}var n2=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},uT=function(r){return r.Create="Create",r.Resolve="Resolve",r}(uT||{});function iL(r,t){return r.messageType===t}class S$ extends nL{constructor({agent:t,didMethods:n,resolverCache:i,store:o}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new M$}),this._didMethods=new Map,this._agent=t,this._store=o??new x$;for(const c of n)this._didMethods.set(c.methodName,c)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:o}){return n2(this,void 0,void 0,function*(){const a=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(o??1){const{uri:u,document:U,metadata:P}=a,b={uri:u,document:U,metadata:P};yield this._store.set({id:b.uri,data:b,agent:this.agent,tenant:n??b.uri,preventDuplicates:!1,useCache:!0})}return a})}export({didUri:t,tenant:n}){return n2(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return n2(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield v0.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return n2(this,void 0,void 0,function*(){const i=Os.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const o=this.getMethod(i.method),{didDocument:c,didResolutionMetadata:a}=yield this.resolve(t);if(!c)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(a)}`);return yield o.getSigningMethod({didDocument:c,methodId:n})})}import({portableDid:t,tenant:n}){return n2(this,void 0,void 0,function*(){const i=yield v0.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:o,document:c,metadata:a}=i,u={uri:o,document:c,metadata:a};return yield this._store.set({id:u.uri,data:u,agent:this.agent,tenant:n??u.uri,preventDuplicates:!0,useCache:!0}),i})}processRequest(t){var n;return n2(this,void 0,void 0,function*(){if(iL(t,uT.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(iL(t,uT.Resolve)){const{didUri:i,options:o}=t.messageParams;return{result:yield this.resolve(i,o),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var A$=E(85493),oL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function sL(r){return DB(r.stream())}function aL(r,t){return oL(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function h$(r){if(!function f$(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,o="string"==typeof i?[i]:Array.isArray(i)&&i.every(c=>"string"==typeof c)?i:[];if(o.length>0)return o}return[]})}function cL(r){return Ii.getAuthor(r)}function Q5(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Ei.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===Vr.Write}function T$(r){return cr.getCid(r)}function DB(r){return new A$.s(r)}var Gh=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class dL{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:o,eventStream:c,messageStore:a,tenantGate:u}){return Gh(this,void 0,void 0,function*(){return n??(n=new _K({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new nL({didResolvers:[J5,m$],cache:new v$({location:`${t}/DID_RESOLVERCACHE`})})),o??(o=new IK({location:`${t}/DWN_EVENTLOG`})),a??(a=new hB({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),yield jR.create({dataStore:n,didResolver:i,eventLog:o,eventStream:c,messageStore:a,tenantGate:u})})}processRequest(t){return Gh(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:o}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:o}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield cr.getCid(n)}})}sendRequest(t){return Gh(this,void 0,void 0,function*(){const n=yield aL(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,o,c,a;if("messageCid"in t)({message:o,data:c}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:o}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");c=t.dataStream,a=t.subscriptionHandler}const u=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:o,data:c,subscriptionHandler:a});return i??(i=yield cr.getCid(o)),{reply:u,message:o,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:o,subscriptionHandler:c}){return Gh(this,void 0,void 0,function*(){const a=[];if(i.descriptor.method===Vr.Subscribe&&void 0===c)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let u of n)try{if(void 0!==c){if(!(yield this.agent.rpc.getServerInfo(u)).webSocketSupport){a.push({url:u,message:"WebSocket support is not enabled on the server."});continue}const b=new URL(u);b.protocol="http:"===b.protocol?"ws:":"wss:",u=b.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:u,targetDid:t,message:i,data:o,subscriptionHandler:c})}catch(U){a.push({url:u,message:U instanceof Error?U.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(a)}`)})}constructDwnMessage({request:t}){var n;return Gh(this,void 0,void 0,function*(){const i=t.rawMessage;let o;if(function I$(r,t){return r.messageType===t}(t,oo.RecordsWrite)){const U=t.messageParams;if(t.dataStream&&!U?.data){const{dataStream:P}=t;let b;if(P instanceof Blob)b=sL(P),o=sL(P);else if(P instanceof ReadableStream){const[K,_e]=P.tee();b=DB(K),o=DB(_e)}i||(U.dataCid=yield cc.computeDagPbCidFromStream(b),null!==(n=U.dataSize)&&void 0!==n||(U.dataSize=b.bytesRead))}}const c=yield this.getSigner(t.author),a=F5[t.messageType],u=i?yield a.parse(i):yield a.create(Object.assign(Object.assign({},t.messageParams),{signer:c}));return Q5(u)&&t.signAsOwner&&(yield u.signAsOwner(c)),{message:u.message,dataStream:o}})}getSigner(t){return Gh(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>Gh(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),o=yield this.agent.keyManager.getPublicKey({keyUri:i}),c=this.agent.keyManager;return{algorithm:jU(o),keyId:n.id,sign:a=>Gh(this,void 0,void 0,function*(){return yield c.sign({data:a,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return Gh(this,void 0,void 0,function*(){const i=yield this.getSigner(t),o=yield F5[oo.MessagesGet].create({messageCids:[n],signer:i}),c=yield this._dwn.processMessage(t,o.message);if(!c.entries||1!==c.entries.length)throw new Error("AgentDwnApi: Expected 1 message entry in the MessagesGet response but received none or more than one.");const[a]=c.entries,u=a.message;if(!u)throw new Error(`AgentDwnApi: Message not found with CID: ${n}`);let U={message:u};if(Q5(a))if(a.encodedData){const P=Jt.U$.base64Url(a.encodedData).toUint8Array();U.data=new Blob([P])}else{const P=yield F5[oo.RecordsRead].create({filter:{recordId:a.message.recordId},signer:i}),b=yield this._dwn.processMessage(t,P.message);if(b.status.code>=400){const{status:{code:K,detail:_e}}=b;throw new Error(`AgentDwnApi: (${K}) Failed to read data associated with record ${a.message.recordId}. ${_e}}`)}if(b.record){const K=yield Jt.VS.consumeToBytes({readable:b.record.data});U.data=new Blob([K])}}return U})}createMessage({author:t,messageParams:n,messageType:i}){return Gh(this,void 0,void 0,function*(){const o=yield this.getSigner(t);return yield F5[i].create(Object.assign(Object.assign({},n),{signer:o}))})}processMessage({dataStream:t,message:n,targetDid:i}){return Gh(this,void 0,void 0,function*(){return yield this._dwn.processMessage(i,n,{dataStream:t})})}}var IB=E(75781),C$=E(36405);const k$=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),lL=Uint8Array.from({length:16},(r,t)=>t),P$=lL.map(r=>(9*r+5)%16);let CB=[lL],kB=[P$];for(let r=0;r<4;r++)for(let t of[CB,kB])t.push(t[r].map(n=>k$[n]));const uL=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),O$=CB.map((r,t)=>r.map(n=>uL[t][n])),R$=kB.map((r,t)=>r.map(n=>uL[t][n])),B$=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),N$=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),ek=(r,t)=>r<<t|r>>>32-t;function fL(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const tk=new Uint32Array(16);class U$ extends C$.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:o,h4:c}=this;return[t,n,i,o,c]}set(t,n,i,o,c){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|o,this.h4=0|c}process(t,n){for(let Te=0;Te<16;Te++,n+=4)tk[Te]=t.getUint32(n,!0);let i=0|this.h0,o=i,c=0|this.h1,a=c,u=0|this.h2,U=u,P=0|this.h3,b=P,K=0|this.h4,_e=K;for(let Te=0;Te<5;Te++){const Se=4-Te,Re=B$[Te],Ge=N$[Te],ct=CB[Te],Xe=kB[Te],Je=O$[Te],lt=R$[Te];for(let Et=0;Et<16;Et++){const wt=ek(i+fL(Te,c,u,P)+tk[ct[Et]]+Re,Je[Et])+K|0;i=K,K=P,P=0|ek(u,10),u=c,c=wt}for(let Et=0;Et<16;Et++){const wt=ek(o+fL(Se,a,U,b)+tk[Xe[Et]]+Ge,lt[Et])+_e|0;o=_e,_e=b,b=0|ek(U,10),U=a,a=wt}}this.set(this.h1+u+b|0,this.h2+P+_e|0,this.h3+K+o|0,this.h4+i+a|0,this.h0+c+U|0)}roundClean(){tk.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const L$=(0,Fc.ld)(()=>new U$);var PB=E(25431),_0=E(37099);const F$=(0,Fc.AI)("ed25519 seed"),OB=2147483648,hL=new Uint8Array([0]);function pL(r,...t){return"string"==typeof r&&(r=(0,Fc.aT)(r)),(0,_0.ee)(r,...t),r}const RB=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Fc.O8)(t).setUint32(0,r,!1),t};class nk{get publicKeyRaw(){return hi.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Fc.Id)(hL,this.publicKeyRaw)}get pubHash(){return(r=>L$((0,la.s)(this.publicKey)))()}get fingerprint(){return(r=>(0,Fc.O8)(this.pubHash).getUint32(0,!1))()}get fingerprintHex(){return(0,Fc.My)(RB(this.fingerprint))}get parentFingerprintHex(){return(0,Fc.My)(RB(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=pL(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,IB.w)(PB.Zf,F$,t);return new nk({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,_0.ee)(t.privateKey,32),(0,_0.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let o=this;for(const c of i){const a=/^(\d+)('?)$/.exec(c);if(!a||3!==a.length)throw new Error(`Invalid child index: ${c}`);let u=+a[1];if(!Number.isSafeInteger(u)||u>=OB)throw new Error("Invalid index");(n||"'"===a[2])&&(u+=OB),o=o.deriveChild(u)}return o}deriveChild(t){if(t<OB)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Fc.Id)(hL,this.privateKey,RB(t)),i=(0,IB.w)(PB.Zf,this.chainCode,n);return new nk({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return hi.ev.sign(t,this.privateKey)}verify(t,n){return n=pL(n,64),hi.ev.verify(n,t,this.publicKeyRaw)}}const mL="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function BB(){return BB=(0,ae.A)(function*(r,t,n,i){const{c:o,dkLen:c,asyncTick:a,DK:u,PRF:U,PRFSalt:P}=function yL(r,t,n,i){(0,_0.tW)(r);const o=(0,Fc.tY)({dkLen:32,asyncTick:10},i),{c,dkLen:a,asyncTick:u}=o;if((0,_0.ai)(c),(0,_0.ai)(a),(0,_0.ai)(u),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const U=(0,Fc.ZJ)(t),P=(0,Fc.ZJ)(n),b=new Uint8Array(a),K=IB.w.create(r,U),_e=K._cloneInto().update(P);return{c,dkLen:a,asyncTick:u,DK:b,PRF:K,PRFSalt:_e}}(r,t,n,i);let b;const K=new Uint8Array(4),_e=(0,Fc.O8)(K),Te=new Uint8Array(U.outputLen);for(let Se=1,Re=0;Re<c;Se++,Re+=U.outputLen){const Ge=u.subarray(Re,Re+U.outputLen);_e.setInt32(0,Se,!1),(b=P._cloneInto(b)).update(K).digestInto(Te),Ge.set(Te.subarray(0,Ge.length)),yield(0,Fc.$h)(o-1,a,()=>{U._cloneInto(b).update(Te).digestInto(Te);for(let ct=0;ct<Ge.length;ct++)Ge[ct]^=Te[ct]})}return function gL(r,t,n,i,o){return r.destroy(),t.destroy(),i&&i.destroy(),o.fill(0),n}(U,P,u,b,Te)}),BB.apply(this,arguments)}var rk=E(53813);function vL(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function NB(r){const t=vL(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function bL(r){(0,_0.ee)(r,16,20,24,28,32)}const H$=r=>{const t=8-r.length/4;return new Uint8Array([(0,la.s)(r)[0]>>t<<t])};function wL(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),rk.Wp.chain(rk.Wp.checksum(1,H$),rk.Wp.radix2(11,!0),rk.Wp.alphabet(r))}function Y$(r,t=""){return function $$(r,t,n,i){return BB.apply(this,arguments)}(PB.Zf,NB(r).nfkd,(r=>vL(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var E0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class Z$ extends AB{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return E0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return E0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return E0(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return E0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return E0(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:oo.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let c=[];for(const a of null!==(i=o.entries)&&void 0!==i?i:[]){if(!a.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Jt.U$.base64Url(a.encodedData).toObject();yB(u)&&(this._index.set(`${n}${Gu}${K5}${u.kid}`,a.recordId),this._cache.set(a.recordId,u),c.push(u))}return c})}}class J$ extends TB{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return E0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return E0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return E0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return E0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Vf=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},EL=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const UB={"AES-GCM":{implementation:class GK extends Wp{decrypt(t){return bB(this,void 0,void 0,function*(){return Fg.decrypt(t)})}encrypt(t){return bB(this,void 0,void 0,function*(){return Fg.encrypt(t)})}generateKey({algorithm:t}){return bB(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Fg.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:WU,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:FU,names:["Ed25519"]},secp256k1:{implementation:z5,names:["ES256K","secp256k1"]},secp256r1:{implementation:z5,names:["ES256","secp256r1"]},"SHA-256":{implementation:mB,names:["SHA-256"]}};class Rw{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new J$}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=EL(t,["keyUri"]);return Vf(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),c=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:c}).decrypt(Object.assign({key:o},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=EL(t,["keyUri"]);return Vf(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),c=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:c}).encrypt(Object.assign({key:o},i))})}exportKey({keyUri:t}){return Vf(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return Vf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),c=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=c.kid)&&void 0!==n||(c.kid=yield lo({jwk:c}));const a=yield this.getKeyUri({key:c});return yield this._keyStore.set({id:a,data:c,agent:this.agent,preventDuplicates:!1,useCache:!0}),a})}getKeyUri({key:t}){return Vf(this,void 0,void 0,function*(){const n=yield lo({jwk:t});return`${K5}${n}`})}getPublicKey({keyUri:t}){return Vf(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Vf(this,void 0,void 0,function*(){if(!yB(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield lo({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:o,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),o})}sign({keyUri:t,data:n}){return Vf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return Vf(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:i}),c=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:c}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:o})})}verify({key:t,signature:n,data:i}){return Vf(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return Vf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),o=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:o}).wrapKey({unwrappedKey:t,encryptionKey:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=UB[t])||void 0===n?void 0:n.implementation;if(!i)throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o of Object.keys(UB)){const c=UB[o].names;if(n&&c.includes(n))return o;if(i&&c.includes(i))return o}throw new pi(mi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return Vf(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var xL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function LB(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class ML{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:o}){return xL(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new pi(mi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new pi(mi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new pi(mi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new pi(mi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new pi(mi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new pi(mi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let c;try{c=new Uint8Array([...Jt.U$.string(i.alg).toUint8Array(),0,...Jt.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new pi(mi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const a=yield o.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:c});if(!a.alg||!["A128KW","A192KW","A256KW"].includes(a.alg))throw new pi(mi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${a.alg}`);return yield o.unwrapKey({decryptionKey:a,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new pi(mi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return xL(this,void 0,void 0,function*(){let o,c;switch(n.alg){case"dir":if(void 0!==c)throw new pi(mi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new pi(mi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');o=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new pi(mi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new pi(mi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new pi(mi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let a;o=yield i.generateKey({algorithm:n.enc});try{a=new Uint8Array([...Jt.U$.string(n.alg).toUint8Array(),0,...Jt.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new pi(mi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const u=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:a});c=yield i.wrapKey({encryptionKey:u,unwrappedKey:o});break}default:throw new pi(mi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:o,encryptedKey:c}})}}function ik(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function SL(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const o in i){if(t.has(o))return!0;t.add(o)}return!1}var AL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function FB(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return Jt.U$.base64Url(t).toUint8Array()}catch{throw new pi(mi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class ok{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new Yp,crypto:o=new QE,options:c={}}){var a,u;return AL(this,void 0,void 0,function*(){if(!ik(o))throw new pi(mi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!ik(i))throw new pi(mi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new pi(mi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new pi(mi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let U;if(t.protected)try{U=Jt.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(SL(U,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const P=Object.assign(Object.assign(Object.assign({},U),t.header),t.unprotected);if(!LB(P))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(c.allowedAlgValues)&&!c.allowedAlgValues.includes(P.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${P.alg}`);if(Array.isArray(c.allowedEncValues)&&!c.allowedEncValues.includes(P.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${P.enc}`);let b;try{const Ge=t.encrypted_key?Jt.U$.base64Url(t.encrypted_key).toUint8Array():void 0;b=yield ML.decrypt({key:n,encryptedKey:Ge,joseHeader:P,keyManager:i,crypto:o})}catch(Ge){if(Ge instanceof pi&&(Ge.code===mi.InvalidJwe||Ge.code===mi.AlgorithmNotSupported))throw Ge;b="string"==typeof n?yield i.generateKey({algorithm:P.enc}):yield o.generateKey({algorithm:P.enc})}const K=FB("iv",t.iv),_e=FB("tag",t.tag),Te=void 0!==_e?new Uint8Array([...Jt.U$.base64Url(t.ciphertext).toUint8Array(),..._e??[]]):Jt.U$.base64Url(t.ciphertext).toUint8Array(),Se=void 0!==t.aad?new Uint8Array([...Jt.U$.string(null!==(a=t.protected)&&void 0!==a?a:"").toUint8Array(),...Jt.U$.string(".").toUint8Array(),...Jt.U$.string(t.aad).toUint8Array()]):Jt.U$.string(null!==(u=t.protected)&&void 0!==u?u:"").toUint8Array();return{plaintext:"string"==typeof b?yield i.decrypt({keyUri:b,data:Te,iv:K,additionalData:Se}):yield o.decrypt({key:b,data:Te,iv:K,additionalData:Se}),protectedHeader:U,additionalAuthenticatedData:FB("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:o,sharedUnprotectedHeader:c,unprotectedHeader:a,keyManager:u=new Yp,crypto:U=new QE}){return AL(this,void 0,void 0,function*(){if(!ik(U))throw new pi(mi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!ik(u))throw new pi(mi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!o&&!c&&!a)throw new pi(mi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new pi(mi.InvalidJwe,"Plaintext is missing or not a byte array.");if(SL(o,c,a))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const P=Object.assign(Object.assign(Object.assign({},o),c),a);if(!LB(P))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:b,encryptedKey:K}=yield ML.encrypt({key:t,joseHeader:P,keyManager:u,crypto:U});let _e;switch(P.enc){case"A128GCM":case"A192GCM":case"A256GCM":_e=function zK(r){return(0,Fc.po)(r)}(12);break;default:_e=new Uint8Array(0)}const Te=o?Jt.U$.object(o).toBase64Url():"";let Se,Re;i?(Re=Jt.U$.uint8Array(i).toBase64Url(),Se=Jt.U$.string(Te+"."+Re).toUint8Array()):Se=Jt.U$.string(Te).toUint8Array();const Ge="string"==typeof b?yield u.encrypt({keyUri:b,data:n,iv:_e,additionalData:Se}):yield U.encrypt({key:b,data:n,iv:_e,additionalData:Se}),ct=Ge.slice(0,-16),Xe=Ge.slice(-16),Je=new ok({ciphertext:Jt.U$.uint8Array(ct).toBase64Url()});return K&&(Je.encrypted_key=Jt.U$.uint8Array(K).toBase64Url()),o&&(Je.protected=Te),c&&(Je.unprotected=c),a&&(Je.header=a),_e&&(Je.iv=Jt.U$.uint8Array(_e).toBase64Url()),Re&&(Je.aad=Re),Xe&&(Je.tag=Jt.U$.uint8Array(Xe).toBase64Url()),Je})}}var TL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class r2{static decrypt({jwe:t,key:n,keyManager:i=new Yp,crypto:o=new QE,options:c={}}){return TL(this,void 0,void 0,function*(){if("string"!=typeof t)throw new pi(mi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:a,1:u,2:U,3:P,4:b,length:K}=t.split(".");if(5!==K)throw new pi(mi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const _e=yield ok.decrypt({jwe:{ciphertext:P,encrypted_key:u||void 0,iv:U||void 0,protected:a,tag:b||void 0},key:n,keyManager:i,crypto:o,options:c});if(!LB(_e.protectedHeader))throw new pi(mi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:_e.plaintext,protectedHeader:_e.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:o=new Yp,crypto:c=new QE,options:a={}}){return TL(this,void 0,void 0,function*(){const u=yield ok.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:o,crypto:c,options:a});return[u.protected,u.encrypted_key,u.iv,u.ciphertext,u.tag].join(".")})}}var zf=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function DL(r){return"string"!=typeof r||0===r.trim().length}class eV{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new QE,this._keyDerivationWorkFactor=t??21e4,this._store=n??new Jt.ny}backup(){return zf(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=Jt.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return zf(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let o,c;try{let u;({plaintext:u,protectedHeader:o}=yield r2.decrypt({jwe:i,key:Jt.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Rw})),c=Jt.U$.uint8Array(u).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const a=yield r2.encrypt({key:Jt.U$.string(n).toUint8Array(),protectedHeader:o,plaintext:Jt.U$.object(c).toUint8Array(),crypto:this.crypto,keyManager:new Rw});yield this._store.set("contentEncryptionKey",a),this._contentEncryptionKey=c})}getDid(){return zf(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield r2.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new Rw}),i=Jt.U$.uint8Array(n).toObject();if(!rL(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield v0.import({portableDid:i})})}getStatus(){return zf(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=Jt.U$.string(t).toObject();if(!function Q$(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return zf(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(DL(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&DL(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function z$(r,t=128){if((0,_0.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function G$(r,t){return bL(r),wL(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Fc.po)(t/8),r)}(mL,128)),!function X$(r,t){try{!function W$(r,t){const{words:n}=NB(r);bL(wL(t).decode(n))}(r,t)}catch{return!1}return!0}(n,mL))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield Y$(n),o=nk.fromMasterSeed(i),c=o.derive("m/44'/0'/0'/0'/0'"),a=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:c.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),u=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:c.publicKey,salt:"",info:"vault_unlock_salt",length:256}),U={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:Jt.U$.uint8Array(u).toBase64Url()},P=yield r2.encrypt({key:Jt.U$.string(t).toUint8Array(),protectedHeader:U,plaintext:Jt.U$.object(a).toUint8Array(),crypto:this.crypto,keyManager:new Rw});yield this._store.set("contentEncryptionKey",P);const b=o.derive("m/44'/0'/1708523827'/0'/0'"),K=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:b.privateKey});let _e=o.derive("m/44'/0'/1708523827'/0'/1'");const Te=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:_e.privateKey}),Se=new _$;yield Se.addPredefinedKeys({privateKeys:[K,Te]});const Ge=yield(yield J5.create({keyManager:Se,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),Xe=yield r2.encrypt({key:a,plaintext:Jt.U$.object(Ge).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new Rw});return yield this._store.set("did",Xe),this._contentEncryptionKey=a,yield this.setStatus({initialized:!0}),n})}isInitialized(){return zf(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return zf(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return zf(this,void 0,void 0,function*(){if(!function q$(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,o,c;try{c=yield this.getStoredDid(),o=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const a=Jt.U$.base64Url(t.data).toObject();yield this._store.set("did",a.did),yield this._store.set("contentEncryptionKey",a.contentEncryptionKey),yield this.setStatus(a.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",o),yield this._store.set("did",c),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return zf(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield r2.decrypt({jwe:n,key:Jt.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Rw}),o=Jt.U$.uint8Array(i).toObject();this._contentEncryptionKey=o}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return zf(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return zf(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return zf(this,void 0,void 0,function*(){let o=yield this.getStatus();return o.initialized=t??o.initialized,o.lastBackup=n??o.lastBackup,o.lastRestore=i??o.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(o)),!0})}}var x0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};function tV(r){return!(!r||"object"!=typeof r||null===r)&&"name"in r}class nV extends AB{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/identity-metadata"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return x0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return x0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return x0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return x0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return x0(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:oo.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let c=[];for(const a of null!==(i=o.entries)&&void 0!==i?i:[]){if(!a.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Jt.U$.base64Url(a.encodedData).toObject();tV(u)&&(this._index.set(`${n}${Gu}${u.uri}`,a.recordId),this._cache.set(a.recordId,u),c.push(u))}return c})}}class rV extends TB{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return x0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return x0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return x0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return x0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var o2=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class iV{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new rV}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:o,tenant:c}){return o2(this,void 0,void 0,function*(){const a=yield this.agent.did.create({method:n,options:i,store:o,tenant:c}),u=new j5({did:a,metadata:Object.assign(Object.assign({},t),{uri:a.uri,tenant:c??a.uri})});return(o??!0)&&(yield this._store.set({id:u.did.uri,data:u.metadata,agent:this.agent,tenant:u.metadata.tenant,preventDuplicates:!1,useCache:!0})),u})}export({didUri:t,tenant:n}){return o2(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return o2(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const o=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!o)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new j5({did:o,metadata:i})})}import({portableIdentity:t}){return o2(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new j5({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return o2(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const o of n){const c=yield this.get({didUri:o.uri,tenant:o.tenant});i.push(c)}return i})}manage({portableIdentity:t}){return o2(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new j5({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}}const jB=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),IL=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function sk(r){try{return JSON.parse(r)}catch{return null}}var fT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class sV{constructor({ttl:t="15m"}={}){this.cache=new Jt.LC({ttl:e2(t)})}get(t){return fT(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return fT(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return fT(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return fT(this,void 0,void 0,function*(){this.cache.clear()})}close(){return fT(this,void 0,void 0,function*(){})}}var CL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class aV{constructor(t){this.serverInfoCache=t??new sV}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return CL(this,void 0,void 0,function*(){const n=Iw(),i=jB(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),o={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(o.headers["content-type"]="application/octet-stream",o.body=t.data);const c=yield fetch(t.dwnUrl,o);let a,u;const{headers:U}=c;if(U.has("dwn-response")){const b=sk(U.get("dwn-response"));if(null==b)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);u=c.body,a=b}else{const b=yield c.text();a=JSON.parse(b)}if(a.error){const{code:b,message:K}=a.error;throw new Error(`(${b}) - ${K}`)}const{reply:P}=a.result;return u&&(P.record.data=u),P})}getServerInfo(t){return CL(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const o=yield fetch(i.toString());if(o.ok){const c=yield o.json(),a={registrationRequirements:c.registrationRequirements,maxFileSize:c.maxFileSize,webSocketSupport:c.webSocketSupport};return this.serverInfoCache.set(t,a),a}throw new Error(`HTTP (${o.status}) - ${o.statusText}`)}catch(o){throw new Error(`Error encountered while processing response from ${i.toString()}: ${o.message}`)}})}}var s2=null;typeof WebSocket<"u"?s2=WebSocket:typeof MozWebSocket<"u"?s2=MozWebSocket:typeof globalThis<"u"?s2=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?s2=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(s2=self.WebSocket||self.MozWebSocket);const cV=s2;var ak=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const dV=3e3,lV=3e4;class KB{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return ak(this,void 0,void 0,function*(){const{connectTimeout:i=dV,responseTimeout:o=lV,onclose:c,onerror:a}=n,u=new cV(t);return u.onclose=c||(()=>{console.info(`JSON RPC Socket close ${t}`)}),u.onerror=a||(U=>{console.error(`JSON RPC Socket error ${t}`,U)}),new Promise((U,P)=>{u.addEventListener("open",()=>{const b=new KB(u,o);u.addEventListener("message",K=>{const _e=sk(K.data),Te=b.messageHandlers.get(_e.id);Te&&Te(K)}),U(b)}),u.addEventListener("error",b=>{P(b)}),setTimeout(()=>P,i)})})}close(){this.socket.close()}request(t){return ak(this,void 0,void 0,function*(){return new Promise((n,i)=>{var o;null!==(o=t.id)&&void 0!==o||(t.id=Iw()),this.messageHandlers.set(t.id,a=>{const u=sk(a.data);if(u.id===t.id)return this.messageHandlers.delete(t.id),n(u)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return ak(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,u=>{const U=sk(u.data.toString());U.id===i&&(void 0!==U.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(U))});const c=yield this.request(t);return c.error?(this.messageHandlers.delete(i),{response:c}):{response:c,close:()=>ak(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=Iw(),i=IL(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var $B=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class zg{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return $B(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!zg.connections.has(i.host))try{const P=yield KB.connect(i.toString(),n);zg.connections.set(i.host,{socket:P,subscriptions:new Map})}catch(P){throw new Error(`Error connecting to ${i.host}: ${P.message}`)}const c=zg.connections.get(i.host),{targetDid:a,message:u,subscriptionHandler:U}=t;return U?zg.subscriptionRequest(c,a,u,U):zg.processMessage(c,a,u)})}static processMessage(t,n,i){return $B(this,void 0,void 0,function*(){const o=Iw(),c=jB(o,"dwn.processMessage",{target:n,message:i}),{socket:a}=t,u=yield a.request(c),{error:U,result:P}=u;if(void 0!==U)throw new Error(`error sending DWN request: ${U.message}`);return P.reply})}static subscriptionRequest(t,n,i,o){return $B(this,void 0,void 0,function*(){const c=Iw(),a=Iw(),u=IL(c,"dwn.processMessage",a,{target:n,message:i}),{socket:U,subscriptions:P}=t,{response:b,close:K}=yield U.subscribe(u,Re=>{const{result:Ge,error:ct}=Re;if(ct){const Je=P.get(a);return Je&&Je.close(),void P.delete(a)}const{event:Xe}=Ge;o(Xe)}),{error:_e,result:Te}=b;if(_e)throw new Error(`could not subscribe via jsonrpc socket: ${_e.message}`);const{reply:Se}=Te;return Se.subscription&&K&&(P.set(a,Object.assign(Object.assign({},Se.subscription),{close:K})),Se.subscription.close=K),Se})}}zg.connections=new Map;var hT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class fV{constructor(t=[]){this.transportClients=new Map,t=[new hV,new pV,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return hT(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.sendDwnRequest(t)}getServerInfo(t){return hT(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.getServerInfo(t)})}}class hV extends aV{sendDidRequest(t){return hT(this,void 0,void 0,function*(){const n=Iw(),i=jB(n,t.method,{data:t.data}),o=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let c;try{const a=yield fetch(o);if(!a.ok)throw new Error(`HTTP (${a.status}) - ${a.statusText}`);if(c=yield a.json(),c.error){const{code:u,message:U}=c.error;throw new Error(`JSON RPC (${u}) - ${U}`)}}catch(a){throw new Error(`Error encountered while processing response from ${t.url}: ${a.message}`)}return c.result})}}class pV extends zg{sendDidRequest(t){return hT(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return hT(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class yV{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var du=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const kL=r=>r>=200&&r<=299;class vV{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new oU.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=BU()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return du(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return du(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return du(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),o=yield i.iterator().all(),c=[],a=new Set;for(let u of o){const[U]=u,[P,b,K,_e]=U.split("~");if(a.has(b))continue;if(yield this.messageExists(P,_e)){c.push({type:"del",key:U});continue}const Se=yield this.agent.dwn.createMessage({author:P,messageType:oo.MessagesGet,messageParams:{messageCids:[_e]}});let Re;try{Re=yield this.agent.rpc.sendDwnRequest({dwnUrl:b,targetDid:P,message:Se})}catch{a.add(b);continue}for(let Ge of null!==(t=Re.entries)&&void 0!==t?t:[]){if(Ge.error||!Ge.message){yield this.addMessage(P,_e),c.push({type:"del",key:U});continue}let ct;if(Q5(Ge)){const{encodedData:Je}=Ge,lt=Ge.message;if(Je){const Et=Jt.U$.base64Url(Je).toUint8Array();ct=Lh.fromBytes(Et)}else{const Et=yield this.agent.dwn.createMessage({author:P,messageType:oo.RecordsRead,messageParams:{filter:{recordId:lt.recordId}}}),wt=yield this.agent.rpc.sendDwnRequest({dwnUrl:b,targetDid:P,message:Et.message}),{record:Ct,status:xt}=wt;if(kL(xt.code)&&Ct)ct=Jt.VS.fromWebReadable({readableStream:Ct.data});else if(xt.code>=400){const Zt=yield this.agent.dwn.processMessage({targetDid:P,message:lt});if(202===Zt.status.code||409===Zt.status.code){yield this.addMessage(P,_e),c.push({type:"del",key:U});continue}throw new Error(`SyncManager: Failed to sync tombstone for message '${_e}'`)}}}const Xe=yield this.agent.dwn.processMessage({targetDid:P,message:Ge.message,dataStream:ct});(202===Xe.status.code||409===Xe.status.code)&&(yield this.addMessage(P,_e),c.push({type:"del",key:U}))}}yield i.batch(c)})}push(){return du(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),o=[],c=new Set;for(let a of i){const[u]=a,[U,P,b,K]=u.split("~");if(c.has(P))continue;const _e=yield this.getDwnMessage({author:U,messageCid:K});if(_e)try{const Te=yield this.agent.rpc.sendDwnRequest({dwnUrl:P,targetDid:U,data:_e.data,message:_e.message});(202===Te.status.code||409===Te.status.code)&&(yield this.addMessage(U,K),o.push({type:"del",key:u}))}catch{c.add(P)}else o.push({type:"del",key:u}),yield this.addMessage(U,K)}yield n.batch(o)})}registerIdentity({did:t}){return du(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=e2(t);return new Promise((i,o)=>{const c=()=>du(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(a){this.stopSync(),o(a)}this._syncIntervalId=setInterval(c,n)});this._syncIntervalId=setInterval(c,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations({syncDirection:t,syncPeerState:n}){return du(this,void 0,void 0,function*(){for(let i of n){const o=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),c=[];for(let a of o){const u=this._ulidFactory(),U=[i.did,i.dwnUrl,u,a].join("~");c.push({type:"put",key:U,value:""})}c.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(c))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:o}){var c;return du(this,void 0,void 0,function*(){let a={};if("pull"===i){const U=yield this.agent.dwn.createMessage({author:t,messageType:oo.EventsGet,messageParams:{cursor:o}});try{a=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:U})}catch{}}else"push"===i&&(a=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:oo.EventsGet,messageParams:{cursor:o}})).reply);const u=null!==(c=a.entries)&&void 0!==c?c:[];return a.cursor&&this.setCursor(t,n,i,a.cursor),u})}getDwnMessage({author:t,messageCid:n}){return du(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:oo.MessagesGet,messageParams:{messageCids:[n]}});if(!i.entries||1!==i.entries.length)return;const[o]=i.entries,c=o.message;if(!c)return;let a={message:c};if(Q5(o))if(o.encodedData){const u=Jt.U$.base64Url(o.encodedData).toUint8Array();a.data=new Blob([u])}else{const U=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:oo.RecordsRead,messageParams:{filter:{recordId:o.message.recordId}}})).reply;if(kL(U.status.code)&&U.record)a.data=yield Jt.VS.consumeToBlob({readable:U.record.data});else if(!(r=>r>=400&&r<=499)(U.status.code)){const{status:{code:P,detail:b}}=U;throw new Error(`SyncEngineLevel: (${P}) Failed to read data associated with record ${o.message.recordId}. ${b}}`)}}return a})}getSyncPeerState({syncDirection:t}){return du(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let o of n){const c=yield aL(o,this.agent.did);if(0!==c.length)for(let a of c){const u=yield this.getCursor(o,a,t);i.push({did:o,dwnUrl:a,cursor:u})}}return i})}getCursor(t,n,i){return du(this,void 0,void 0,function*(){const o=`${t}~${n}~${i}`,c=this.getCursorStore();try{const a=yield c.get(o);if(a)return JSON.parse(a)}catch(a){if(a.notFound)return}})}setCursor(t,n,i,o){return du(this,void 0,void 0,function*(){const c=`${t}~${n}~${i}`;yield this.getCursorStore().put(c,JSON.stringify(o))})}messageExists(t,n){return du(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(o){if(o.notFound)return!1;throw o}})}addMessage(t,n){return du(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}var PL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class wV{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}create(t){return PL(this,void 0,void 0,function*(){const n=yield this.agent.processDidRequest({messageType:uT.Create,messageParams:Object.assign({},t)}),{result:i}=n,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["result"]);return Object.assign({did:i},o)})}resolve(t,n){return PL(this,void 0,void 0,function*(){const{result:i}=yield this.agent.processDidRequest({messageParams:{didUri:t,options:n},messageType:uT.Resolve});return i})}}function OL(r,t){let n;const i=(0,Jt.fc)(r);if("text/plain"===t||"String"===i)n=new Blob([r],{type:"text/plain"});else if("application/json"===t||"Object"===i){const o=Jt.U$.object(r).toUint8Array();n=new Blob([o],{type:"application/json"})}else if("Uint8Array"===i||"ArrayBuffer"===i)n=new Blob([r],{type:"application/octet-stream"});else{if("Blob"!==i)throw new Error("data type not supported.");n=r}return{dataBlob:n,dataFormat:t=t||n.type||"application/octet-stream"}}class Hf{static check(t,n){let i=Hf.cache.get(t);return!!i&&i.has(n)}static set(t,n){let i=Hf.cache.get(t)||new Set;if(Hf.cache.delete(t),Hf.cache.set(t,i),this.cache.size>Hf.sendCacheLimit){const o=Hf.cache.keys().next().value;Hf.cache.delete(o)}if(i.delete(n),i.add(n),i.size>Hf.sendCacheLimit){const o=i.keys().next().value;i.delete(o)}}}Hf.cache=new Map,Hf.sendCacheLimit=100;var Wf=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},RL=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};let VB=(()=>{class r{get attestation(){return this._attestation}get authorization(){return this._authorization}get author(){return this._author}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get initialWrite(){return this._initialWrite}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get protocolRole(){return this._protocolRole}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}get tags(){return this._descriptor.tags}get rawMessage(){const n=JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption}));return(0,Jt.E8)(n),n}constructor(n,i){this._agent=n,this._author=i.author,this._connectedDid=i.connectedDid,this._remoteOrigin=i.remoteOrigin,this._attestation=i.attestation,this._authorization=i.authorization,this._contextId=i.contextId,this._descriptor=i.descriptor,this._encryption=i.encryption,this._initialWrite=i.initialWrite,this._recordId=i.recordId,this._protocolRole=i.protocolRole,i.encodedData&&(this._encodedData="string"==typeof i.encodedData?new Blob([Jt.U$.base64Url(i.encodedData).toUint8Array()],{type:this.dataFormat}):i.encodedData),i.data&&(this._readableStream=Jt.Z6.isReadableStream(i.data)?Jt.VS.fromWebReadable({readableStream:i.data}):i.data)}get data(){const n=this;return{blob(){return Wf(this,void 0,void 0,function*(){return new Blob([yield Jt.VS.consumeToBytes({readable:yield this.stream()})],{type:n.dataFormat})})},bytes(){return Wf(this,void 0,void 0,function*(){return yield Jt.VS.consumeToBytes({readable:yield this.stream()})})},json(){return Wf(this,void 0,void 0,function*(){return yield Jt.VS.consumeToJson({readable:yield this.stream()})})},text(){return Wf(this,void 0,void 0,function*(){return yield Jt.VS.consumeToText({readable:yield this.stream()})})},stream(){return Wf(this,void 0,void 0,function*(){if(n._encodedData?n._readableStream=Jt.VS.fromWebReadable({readableStream:n._encodedData.stream()}):Jt.VS.isReadable({readable:n._readableStream})||(n._readableStream=n._remoteOrigin?yield n.readRecordData({target:n._remoteOrigin,isRemote:!0}):yield n.readRecordData({target:n._connectedDid,isRemote:!1})),!n._readableStream)throw new Error("Record data is not available.");return n._readableStream})},then(o,c){return this.stream().then(o,c)},catch(o){return this.stream().catch(o)}}}store(n=!1){return Wf(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:n,store:!0})})}import(n=!0){return Wf(this,void 0,void 0,function*(){return this.processRecord({store:n,signAsOwner:!0})})}send(n){return Wf(this,void 0,void 0,function*(){const i=this._initialWrite;if(n??(n=this._connectedDid),i&&!r._sendCache.check(this._recordId,n)){const c=Object.assign({},i);(0,Jt.E8)(c),yield this._agent.sendDwnRequest({messageType:oo.RecordsWrite,author:this._connectedDid,target:n,rawMessage:c}),r._sendCache.set(this._recordId,n)}const{reply:o}=yield this._agent.sendDwnRequest({messageType:oo.RecordsWrite,author:this._connectedDid,dataStream:yield this.data.blob(),target:n,rawMessage:Object.assign({},this.rawMessage)});return o})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let n="Record: {\n";return n+=`  ID: ${this.id}\n`,n+=this.contextId?`  Context ID: ${this.contextId}\n`:"",n+=this.protocol?`  Protocol: ${this.protocol}\n`:"",n+=this.schema?`  Schema: ${this.schema}\n`:"",n+=`  Data CID: ${this.dataCid}\n`,n+=`  Data Format: ${this.dataFormat}\n`,n+=`  Data Size: ${this.dataSize}\n`,n+=`  Created: ${this.dateCreated}\n`,n+=`  Modified: ${this.dateModified}\n`,n+="}",n}paginationCursor(n){return Wf(this,void 0,void 0,function*(){return function D$(r,t){return oL(this,void 0,void 0,function*(){const n=t===lc.CreatedAscending||t===lc.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield T$(r),value:n}})}(this.rawMessage,n)})}update(n){var{dateModified:i,data:o}=n,c=RL(n,["dateModified","data"]);return Wf(this,void 0,void 0,function*(){const a=this._descriptor,{parentId:u}=a,U=RL(a,["parentId"]),P=u?this._contextId.split("/").slice(0,-1).join("/"):void 0;let K,b=Object.assign(Object.assign(Object.assign({},U),c),{parentContextId:P,messageTimestamp:i,recordId:this._recordId});((0,Jt.RI)(b.tags)||null===b.tags)&&delete b.tags,void 0!==o&&(delete b.dataCid,delete b.dataSize,({dataBlob:K}=OL(o,b.dataFormat)));const _e=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);r.verifyPermittedMutation(Object.keys(c),_e),!1===c.published&&void 0!==b.datePublished&&delete b.datePublished;const Te=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:K,messageParams:Object.assign({},b),messageType:oo.RecordsWrite,target:this._connectedDid}),{message:Se,reply:{status:Re}}=Te,Ge=Se;return 200<=Re.code&&Re.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Ge.authorization,this._protocolRole=c.protocolRole,_e.forEach(ct=>{this._descriptor[ct]=Ge.descriptor[ct]}),void 0!==o&&(this._encodedData=K)),{status:Re}})}processRecord({store:n,signAsOwner:i}){return Wf(this,void 0,void 0,function*(){if(this._initialWrite&&(i&&!this._initialWriteSigned||n&&!this._initialWriteStored)){const P={messageType:oo.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:i,store:n},b=yield this._agent.processDwnRequest(P),{message:K,reply:{status:_e}}=b,Te=K;200<=_e.code&&_e.code<=299&&(n&&(this._initialWriteStored=!0),i&&(this._initialWriteSigned=!0,this.initialWrite.authorization=Te.authorization))}const o={messageType:oo.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:i,store:n},c=yield this._agent.processDwnRequest(o),{message:a,reply:{status:u}}=c;return 200<=u.code&&u.code<=299&&i&&(this._authorization=a.authorization),{status:u}})}readRecordData({target:n,isRemote:i}){return Wf(this,void 0,void 0,function*(){const o={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:oo.RecordsRead,target:n},c=i?this._agent.sendDwnRequest(o):this._agent.processDwnRequest(o);try{const{reply:{record:a}}=yield c,u=a.data;return Jt.Z6.isReadableStream(u)?Jt.VS.fromWebReadable({readableStream:u}):u}catch(a){throw new Error(`Error encountered while attempting to read data: ${a.message}`)}})}static verifyPermittedMutation(n,i){for(const o of n)if(!i.has(o))throw new Error(`${o} is an immutable property. Its value cannot be changed.`)}}return r._sendCache=Hf,r})();class BL{constructor(t,n,i){this._agent=t,this._metadata=i,this._protocolsConfigureMessage=n}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const{reply:n}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:oo.ProtocolsConfigure,target:t});return{status:n.status}})}}var Hg=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class xV{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}get protocols(){return{configure:t=>Hg(this,void 0,void 0,function*(){const n=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:t.message,messageType:oo.ProtocolsConfigure,target:this.connectedDid}),{message:i,messageCid:o,reply:{status:c}}=n,a={status:c};return c.code<300&&(a.protocol=new BL(this.agent,i,{author:this.connectedDid,messageCid:o})),a}),query:t=>Hg(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:oo.ProtocolsQuery,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const o=i.reply,{entries:c=[],status:a}=o;return{protocols:c.map(U=>new BL(this.agent,U,{author:this.connectedDid})),status:a}})}}get records(){return{create:t=>Hg(this,void 0,void 0,function*(){return this.records.write(t)}),createFrom:t=>Hg(this,void 0,void 0,function*(){var n;const i=t.record.toJSON(),{author:o}=i,c=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i,["author"]);return void 0!==t.data&&(delete c.dataCid,delete c.dataSize),!1===(null===(n=t.message)||void 0===n?void 0:n.published)&&void 0!==c.datePublished&&(delete c.datePublished,delete c.published),(!(0,Jt.RI)(t.message)||t.author&&t.author!==o)&&delete c.recordId,this.records.write({data:t.data,message:Object.assign(Object.assign({},c),t.message)})}),delete:t=>Hg(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:oo.RecordsDelete,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const{reply:{status:o}}=i;return{status:o}}),query:t=>Hg(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:oo.RecordsQuery,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const o=i.reply,{entries:c,status:a,cursor:u}=o;return{records:c.map(P=>{const b=Object.assign({author:cL(P),connectedDid:this.connectedDid,remoteOrigin:t.from},P);return new VB(this.agent,b)}),status:a,cursor:u}}),read:t=>Hg(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:oo.RecordsRead,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const{reply:{record:o,status:c}}=i;let a;if(200<=c.code&&c.code<=299){const u=Object.assign({author:cL(o),connectedDid:this.connectedDid,remoteOrigin:t.from},o);a=new VB(this.agent,u)}return{record:a,status:c}}),write:t=>Hg(this,void 0,void 0,function*(){var n;const{dataBlob:i,dataFormat:o}=OL(t.data,null===(n=t.message)||void 0===n?void 0:n.dataFormat),c=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:i,messageParams:Object.assign(Object.assign({},t.message),{dataFormat:o}),messageType:oo.RecordsWrite,store:t.store,target:this.connectedDid}),{message:a,reply:{status:u}}=c;let U;if(200<=u.code&&u.code<=299){const P=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:i},a);U=new VB(this.agent,P)}return{record:U,status:u}})}}}class SV{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}create(){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){throw new Error("Not implemented.")})}}var zB=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(zB||{});const mT={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ua{constructor({method:t,id:n,path:i,query:o,fragment:c,params:a}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=a}static parse(t){if(!t)return null;const n=ua.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:a,fragment:u}=n.groups,U={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(U.path=c),a&&(U.query=a.slice(1)),u&&(U.fragment=u.slice(1)),a){const P={},b=a.slice(1).split("&");for(const K of b){const[_e,Te]=K.split("=");P[_e]=Te}U.params=P}return U}}ua.METHOD_PATTERN="([a-z0-9]+)",ua.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ua.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ua.PCT_ENCODED_PATTERN})`,ua.METHOD_ID_PATTERN=`((?:${ua.ID_CHAR_PATTERN}*:)*(${ua.ID_CHAR_PATTERN}+))`,ua.PATH_PATTERN="(/[^#?]*)?",ua.QUERY_PATTERN="([?][^#]*)?",ua.FRAGMENT_PATTERN="(#.*)?",ua.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ua.METHOD_PATTERN}):(?<id>${ua.METHOD_ID_PATTERN})(?<path>${ua.PATH_PATTERN})(?<query>${ua.QUERY_PATTERN})(?<fragment>${ua.FRAGMENT_PATTERN})$`);class ss extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ss)}}var Rs=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Rs||{});class NL{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,la.s)(t)})}}class HB{}const UL="urn:jwk:";function Bs({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,Jt.E8)(n);const i=function IV(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const a of o)c[a]=t(i[a]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=Jt.U$.string(i).toUint8Array(),c=yield NL.digest({data:o});return Jt.U$.uint8Array(c).toBase64Url()})}function Bw(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function WB(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Nw(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function GB(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var zd=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class vc{static adjustSignatureToLowS({signature:t}){return zd(this,void 0,void 0,function*(){const n=xi.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return zd(this,void 0,void 0,function*(){const n=yield vc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Bs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){const n=yield vc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Bs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){return xi.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return zd(this,void 0,void 0,function*(){const n=yield vc.privateKeyToBytes({privateKey:t}),i=yield vc.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:Jt.U$.uint8Array(i.x).toBase64Url(),y:Jt.U$.uint8Array(i.y).toBase64Url()};return o.kid=yield Bs({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return zd(this,void 0,void 0,function*(){return xi.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){return xi.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return zd(this,void 0,void 0,function*(){const t=xi.bI.utils.randomPrivateKey(),n=yield vc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Bs({jwk:n}),n})}static getPublicKey({key:t}){var n;return zd(this,void 0,void 0,function*(){if(!Bw(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Bs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return zd(this,void 0,void 0,function*(){if(!Bw(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return zd(this,void 0,void 0,function*(){if(!WB(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=Jt.U$.base64Url(t.x).toUint8Array(),o=Jt.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return zd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield vc.privateKeyToBytes({privateKey:t}),o=yield vc.publicKeyToBytes({publicKey:n});return xi.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return zd(this,void 0,void 0,function*(){const i=yield vc.privateKeyToBytes({privateKey:n}),o=(0,la.s)(t);return xi.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return zd(this,void 0,void 0,function*(){return xi.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){try{xi.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return zd(this,void 0,void 0,function*(){const o=yield vc.publicKeyToBytes({publicKey:t}),c=(0,la.s)(i);return xi.bI.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return zd(this,void 0,void 0,function*(){32===t.byteLength&&(t=xi.bI.getPublicKey(t));const n=xi.bI.ProjectivePoint.fromHex(t);return{x:(0,Fd.lq)(n.x,32),y:(0,Fd.lq)(n.y,32)}})}}var Hd=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class bc{static adjustSignatureToLowS({signature:t}){return Hd(this,void 0,void 0,function*(){const n=Nr.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Hd(this,void 0,void 0,function*(){const n=yield bc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Bs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Hd(this,void 0,void 0,function*(){const n=yield bc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:Jt.U$.uint8Array(n.x).toBase64Url(),y:Jt.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Bs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Hd(this,void 0,void 0,function*(){return Nr.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Hd(this,void 0,void 0,function*(){const n=yield bc.privateKeyToBytes({privateKey:t}),i=yield bc.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:Jt.U$.uint8Array(i.x).toBase64Url(),y:Jt.U$.uint8Array(i.y).toBase64Url()};return o.kid=yield Bs({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Hd(this,void 0,void 0,function*(){return Nr.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Hd(this,void 0,void 0,function*(){return Nr.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Hd(this,void 0,void 0,function*(){const t=Nr.Ag.utils.randomPrivateKey(),n=yield bc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Bs({jwk:n}),n})}static getPublicKey({key:t}){var n;return Hd(this,void 0,void 0,function*(){if(!Bw(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Bs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Hd(this,void 0,void 0,function*(){if(!Bw(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Hd(this,void 0,void 0,function*(){if(!WB(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=Jt.U$.base64Url(t.x).toUint8Array(),o=Jt.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Hd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield bc.privateKeyToBytes({privateKey:t}),o=yield bc.publicKeyToBytes({publicKey:n});return Nr.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Hd(this,void 0,void 0,function*(){const i=yield bc.privateKeyToBytes({privateKey:n}),o=(0,la.s)(t);return Nr.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Hd(this,void 0,void 0,function*(){return Nr.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Hd(this,void 0,void 0,function*(){try{Nr.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Hd(this,void 0,void 0,function*(){const o=yield bc.publicKeyToBytes({publicKey:t}),c=(0,la.s)(i);return Nr.Ag.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Hd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Nr.Ag.getPublicKey(t));const n=Nr.Ag.ProjectivePoint.fromHex(t);return{x:(0,Fd.lq)(n.x,32),y:(0,Fd.lq)(n.y,32)}})}}var yT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class LL extends HB{computePublicKey({key:t}){return yT(this,void 0,void 0,function*(){if(!Bw(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield vc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield bc.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return yT(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield vc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield bc.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return yT(this,void 0,void 0,function*(){if(!Bw(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield vc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield bc.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return yT(this,void 0,void 0,function*(){if(!Bw(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield vc.sign({key:t,data:n});case"P-256":return yield bc.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return yT(this,void 0,void 0,function*(){if(!WB(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield vc.verify({key:t,signature:n,data:i});case"P-256":return yield bc.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Gf=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class $c{static bytesToPrivateKey({privateKeyBytes:t}){return Gf(this,void 0,void 0,function*(){const n=hi.ev.getPublicKey(t),i={crv:"Ed25519",d:Jt.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:Jt.U$.uint8Array(n).toBase64Url()};return i.kid=yield Bs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Gf(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:Jt.U$.uint8Array(t).toBase64Url()};return n.kid=yield Bs({jwk:n}),n})}static computePublicKey({key:t}){return Gf(this,void 0,void 0,function*(){const n=yield $c.privateKeyToBytes({privateKey:t}),i=hi.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:Jt.U$.uint8Array(i).toBase64Url()};return o.kid=yield Bs({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return Gf(this,void 0,void 0,function*(){const n=yield $c.privateKeyToBytes({privateKey:t}),i=(0,hi.OA)(n),o=hi.TU.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:Jt.U$.uint8Array(i).toBase64Url(),x:Jt.U$.uint8Array(o).toBase64Url()};return c.kid=yield Bs({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return Gf(this,void 0,void 0,function*(){const n=yield $c.publicKeyToBytes({publicKey:t});if(!(yield $c.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,hi.GU)(n),c={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(o).toBase64Url()};return c.kid=yield Bs({jwk:c}),c})}static generateKey(){return Gf(this,void 0,void 0,function*(){const t=hi.ev.utils.randomPrivateKey(),n=yield $c.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Bs({jwk:n}),n})}static getPublicKey({key:t}){var n;return Gf(this,void 0,void 0,function*(){if(!Nw(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Bs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Gf(this,void 0,void 0,function*(){if(!Nw(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Gf(this,void 0,void 0,function*(){if(!GB(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Jt.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Gf(this,void 0,void 0,function*(){const i=yield $c.privateKeyToBytes({privateKey:t});return hi.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Gf(this,void 0,void 0,function*(){try{hi.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Gf(this,void 0,void 0,function*(){const o=yield $c.publicKeyToBytes({publicKey:t});return hi.ev.verify(n,i,o)})}}var gT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},M0=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};const XB={Ed25519:{implementation:class BV extends HB{computePublicKey({key:t}){return gT(this,void 0,void 0,function*(){if(!Nw(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield $c.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return gT(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield $c.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return gT(this,void 0,void 0,function*(){if(!Nw(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield $c.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return gT(this,void 0,void 0,function*(){if(!Nw(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield $c.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return gT(this,void 0,void 0,function*(){if(!GB(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield $c.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:LL,names:["ES256K","secp256k1"]},secp256r1:{implementation:LL,names:["ES256","secp256r1"]},"SHA-256":{implementation:class DV extends HB{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield NL.digest({data:n})})}},names:["SHA-256"]}};class vT{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Jt.ny}digest({algorithm:t,data:n}){return M0(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return M0(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return M0(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${UL}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return M0(this,void 0,void 0,function*(){const n=yield Bs({jwk:t});return`${UL}${n}`})}getPublicKey({keyUri:t}){return M0(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return M0(this,void 0,void 0,function*(){if(!function kV(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Bs({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return M0(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return M0(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=XB[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in XB){const c=XB[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return M0(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function NV(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}var Wg=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class c2{static bytesToPrivateKey({privateKeyBytes:t}){return Wg(this,void 0,void 0,function*(){const n=hi.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:Jt.U$.uint8Array(t).toBase64Url(),x:Jt.U$.uint8Array(n).toBase64Url()};return i.kid=yield Bs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Wg(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(t).toBase64Url()};return n.kid=yield Bs({jwk:n}),n})}static computePublicKey({key:t}){return Wg(this,void 0,void 0,function*(){const n=yield c2.privateKeyToBytes({privateKey:t}),i=hi.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:Jt.U$.uint8Array(i).toBase64Url()};return o.kid=yield Bs({jwk:o}),o})}static generateKey(){return Wg(this,void 0,void 0,function*(){const t=hi.TU.utils.randomPrivateKey(),n=yield c2.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Bs({jwk:n}),n})}static getPublicKey({key:t}){var n;return Wg(this,void 0,void 0,function*(){if(!Nw(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Bs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Wg(this,void 0,void 0,function*(){if(!Nw(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return Jt.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Wg(this,void 0,void 0,function*(){if(!GB(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return Jt.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Wg(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield c2.privateKeyToBytes({privateKey:t}),o=yield c2.publicKeyToBytes({publicKey:n});return hi.TU.getSharedSecret(i,o)})}}function Xh(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function eN(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var xT=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class d2{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return xT(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return xT(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(U=>{var P,b;return Xh(U.id)===(null!==(P=Xh(t?.methodId))&&void 0!==P?P:Xh(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new ss(Rs.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),a=this.keyManager;return{algorithm:NV(c),keyId:i.id,sign(U){return xT(this,arguments,void 0,function*({data:P}){return yield a.sign({data:P,keyUri:o})})},verify(U){return xT(this,arguments,void 0,function*({data:P,signature:b}){return yield a.verify({data:P,key:c,signature:b})})}}})}static import(t){return xT(this,arguments,void 0,function*({portableDid:n,keyManager:i=new vT}){var o;const c=function QB({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(eN))&&void 0!==n?n:[]),Object.keys(zB).forEach(o=>{var c,a;i.push(...null!==(a=null===(c=r[o])||void 0===c?void 0:c.filter(eN))&&void 0!==a?a:[])}),i}({didDocument:n.document});if(0===c.length)throw new ss(Rs.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:u});for(let u of c){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const U=yield i.getKeyUri({key:u.publicKeyJwk});yield i.getPublicKey({keyUri:U})}return new d2({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var KL=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class $L{static getSigningMethod(t){return KL(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return KL(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var pd=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})},VL=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const zL="https://diddht.tbddev.org",Gg=7200,Il=",";var HL=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(HL||{}),lu=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(lu||{}),WL=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(WL||{});const GL={Ed25519:lu.Ed25519,ES256K:lu.secp256k1,ES256:lu.secp256r1,"P-256":lu.secp256r1,secp256k1:lu.secp256k1,secp256r1:lu.secp256r1,X25519:lu.X25519},XL={[lu.Ed25519]:"Ed25519",[lu.secp256k1]:"ES256K",[lu.secp256r1]:"ES256",[lu.X25519]:"ECDH-ES+A256KW"};let tN=(()=>{class r extends $L{static create(){return pd(this,arguments,void 0,function*({keyManager:n=new vT,options:i={}}={}){var o,c,a,u,U,P,b,K,_e,Te,Se;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(wt=>!(wt.algorithm in GL)))throw new Error("One or more verification method algorithms are not supported");const Re=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(wt=>"id"in wt).map(wt=>wt.id);if(Re&&Re.length!==new Set(Re).size)throw new Error("One or more verification method IDs are not unique");if(null!==(a=i.services)&&void 0!==a&&a.some(wt=>!wt.id||!wt.type||!wt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ge=yield n.generateKey({algorithm:"Ed25519"}),ct=yield n.getPublicKey({keyUri:Ge}),Xe=yield wc.identityKeyToIdentifier({identityKey:ct}),Je=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(u=i.verificationMethods)&&void 0!==u?u:[]];lt?.some(wt=>{var Ct;return"0"===(null===(Ct=wt.id)||void 0===Ct?void 0:Ct.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const wt of lt){const Ct=wt.id&&"0"===wt.id.split("#").pop()?Ge:yield n.generateKey({algorithm:wt.algorithm}),xt=yield n.getPublicKey({keyUri:Ct});let Zt=null!==(P=null!==(U=wt.id)&&void 0!==U?U:xt.kid)&&void 0!==P?P:yield Bs({jwk:xt});Zt=`${Xe}#${Xh(Zt)}`,null!==(b=Je.verificationMethod)&&void 0!==b||(Je.verificationMethod=[]),Je.verificationMethod.push({id:Zt,type:"JsonWebKey",controller:null!==(K=wt.controller)&&void 0!==K?K:Xe,publicKeyJwk:xt});for(const hn of null!==(_e=wt.purposes)&&void 0!==_e?_e:[])Je[hn]||(Je[hn]=[]),Je[hn].push(Zt)}null===(Te=i.services)||void 0===Te||Te.forEach(wt=>{var Ct;null!==(Ct=Je.service)&&void 0!==Ct||(Je.service=[]),wt.id=`${Xe}#${wt.id.split("#").pop()}`,Je.service.push(wt)});const Et=new d2({uri:Xe,document:Je,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Se=i.publish)||void 0===Se||Se){const wt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=wt.didDocumentMetadata}return Et})}static import(n){return pd(this,arguments,void 0,function*({portableDid:i,keyManager:o=new vT}){var c;const a=ua.parse(i.uri);if(a?.method!==r.methodName)throw new ss(Rs.MethodNotSupported,"Method not supported");const u=yield d2.import({portableDid:i,keyManager:o});if(null===(c=u.document.verificationMethod)||void 0===c||!c.some(U=>{var P;return"0"===(null===(P=U.id)||void 0===P?void 0:P.split("#").pop())}))throw new ss(Rs.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return pd(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const a=ua.parse(i.id);if(a&&a.method!==this.methodName)throw new ss(Rs.MethodNotSupported,`Method not supported: ${a.method}`);const u=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(U=>{var P,b;return Xh(U.id)===(null!==(P=Xh(o))&&void 0!==P?P:Xh(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!u||!u.publicKeyJwk)throw new ss(Rs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return pd(this,arguments,void 0,function*({did:i,gatewayUri:o=zL}){return yield S0.put({did:i,gatewayUri:o})})}static resolve(n){return pd(this,arguments,void 0,function*(i,o={}){var c;const a=null!==(c=o?.gatewayUri)&&void 0!==c?c:zL;try{yield wc.identifierToIdentityKey({didUri:i});const{didDocument:u,didDocumentMetadata:U}=yield S0.get({didUri:i,gatewayUri:a});return Object.assign(Object.assign({},mT),{didDocument:u,didDocumentMetadata:U})}catch(u){if(!(u instanceof ss))throw new Error(u);return Object.assign(Object.assign({},mT),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class S0{static get(t){return pd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=wc.identifierToIdentityKeyBytes({didUri:n}),c=yield S0.pkarrGet({gatewayUri:i,publicKeyBytes:o}),a=yield wc.parseBep44GetMessage({bep44Message:c}),u=yield S0.fromDnsPacket({didUri:n,dnsPacket:a});return u.didDocumentMetadata.versionId=c.seq.toString(),u})}static put(t){return pd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield S0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield wc.createBep44PutMessage({dnsPacket:o,publicKeyBytes:wc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),a=yield S0.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:a,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return pd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=Jt.U$.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let a;try{if(a=yield fetch(c,{method:"GET"}),!a.ok)throw new ss(Rs.NotFound,`Pkarr record not found for: ${o}`)}catch(P){throw P instanceof ss?P:new ss(Rs.InternalError,`Failed to fetch Pkarr record: ${P.message}`)}const u=yield a.arrayBuffer();if(!u)throw new ss(Rs.NotFound,`Pkarr record not found for: ${o}`);if(u.byteLength<72)throw new ss(Rs.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new ss(Rs.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:i,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return pd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=Jt.U$.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,a=new Uint8Array(i.v.length+72);let u;a.set(i.sig,0),new DataView(a.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),a.set(i.v,i.sig.length+8);try{u=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a})}catch(U){throw new ss(Rs.InternalError,`Failed to put Pkarr record for identifier ${o}: ${U.message}`)}return u.ok})}static fromDnsPacket(t){return pd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,a;const u={id:n},U={published:!0},P=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=wc.parseTxtDataToString(b.data);u.alsoKnownAs=_e.split(Il);break}case K.startsWith("cnt"):{const _e=wc.parseTxtDataToString(b.data);u.controller=_e.includes(Il)?_e.split(Il):_e;break}case K.startsWith("k"):{const{id:_e,t:Te,k:Se,c:Re,a:Ge}=wc.parseTxtDataToObject(b.data),ct=Jt.U$.base64Url(Se).toUint8Array(),Xe=lu[Number(Te)];let Je=yield wc.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:ct});Je.alg=Ge||XL[Number(Te)];const lt="k0"===K?"0":void 0!==_e?_e:yield Bs({jwk:Je});null!==(c=u.verificationMethod)&&void 0!==c||(u.verificationMethod=[]);const Et=`${n}#${lt}`;u.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Re??n,publicKeyJwk:Je}),P.set(K,Et);break}case K.startsWith("s"):{const _e=wc.parseTxtDataToObject(b.data),{id:Te,t:Se,se:Re}=_e,Ge=VL(_e,["id","t","se"]),ct=Re.includes(Il)?Re.split(Il):[Re],Xe=Object.fromEntries(Object.entries(Ge).map(([Je,lt])=>[Je,lt.includes(Il)?lt.split(Il):lt]));null!==(a=u.service)&&void 0!==a||(u.service=[]),u.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Te}`,type:Se,serviceEndpoint:ct}));break}case K.startsWith("typ"):{const{id:_e}=wc.parseTxtDataToObject(b.data);U.types=_e.split(Il).map(Te=>Number(Te));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Il).map(Je=>P.get(Je)).filter(Je=>"string"==typeof Je),{auth:Te,asm:Se,del:Re,inv:Ge,agm:ct}=wc.parseTxtDataToObject(b.data);Te&&(u.authentication=_e(Te)),Se&&(u.assertionMethod=_e(Se)),Re&&(u.capabilityDelegation=_e(Re)),Ge&&(u.capabilityInvocation=_e(Ge)),ct&&(u.keyAgreement=_e(ct));break}}}return{didDocument:u,didDocumentMetadata:U,didResolutionMetadata:{}}})}static toDnsPacket(t){return pd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var a,u,U,P,b;const K=[],_e=[],Te=new Map,Se=[],Re=[];if(void 0!==c){const{signature:Xe,previousDid:Je}=c;yield wc.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:Gg,data:`id=${Je};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:Gg,data:n.alsoKnownAs.join(Il)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Il):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:Gg,data:Xe})}for(const[Xe,Je]of null!==(u=null===(a=n.verificationMethod)||void 0===a?void 0:a.entries())&&void 0!==u?u:[]){const lt=`k${Xe}`;Re.push(lt);let Et=Je.id.split("#").pop();Te.set(Et,lt);const wt=Je.publicKeyJwk;if(!wt?.crv||!(wt.crv in GL))throw new ss(Rs.InvalidPublicKeyType,`Verification method '${Je.id}' contains an unsupported key type: ${null!==(U=wt?.crv)&&void 0!==U?U:"undefined"}`);const Ct=lu[wt.crv],xt=yield wc.keyConverter(wt.crv).publicKeyToBytes({publicKey:wt}),hn=[`t=${Ct}`,`k=${Jt.U$.uint8Array(xt).toBase64Url()}`];"0"!==Et&&(yield Bs({jwk:wt}))!==Et&&hn.unshift(`id=${Et}`),wt.alg!==XL[Ct]&&hn.push(`a=${wt.alg}`),Je.controller!==n.id&&hn.push(`c=${Je.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:Gg,data:hn.join(";")})}null===(P=n.service)||void 0===P||P.forEach((Xe,Je)=>{const lt=`s${Je}`;Se.push(lt);let{id:Et,type:wt,serviceEndpoint:Ct}=Xe,xt=VL(Xe,["id","type","serviceEndpoint"]);Et=Xh(Et),Ct=Array.isArray(Ct)?Ct.join(","):Ct;const hn=Object.entries(Object.assign({id:Et,t:wt,se:Ct},xt)).map(([Cn,gn])=>`${Cn}=${gn}`).join(";"),_n=wc.chunkDataIfNeeded(hn);K.push({type:"TXT",name:`_${lt}._did.`,ttl:Gg,data:_n})});const Ge=["v=0"];if(Re.length&&Ge.push(`vm=${Re.join(Il)}`),Object.keys(zB).forEach(Xe=>{var Je;const lt=null===(Je=n[Xe])||void 0===Je?void 0:Je.map(Et=>Te.get(Et.split("#").pop()));lt&&Ge.push(`${WL[Xe]}=${lt.join(Il)}`)}),Se.length&&Ge.push(`svc=${Se.join(Il)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Je=i.types.map(lt=>"string"==typeof lt?HL[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:Gg,data:`id=${Je.join(Il)}`})}K.push({type:"TXT",name:"_did."+S0.getUniqueDidSuffix(n.id)+".",ttl:Gg,data:Ge.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+S0.getUniqueDidSuffix(n.id)+".",ttl:Gg,data:Xe+"."});return{id:0,type:"response",flags:1024,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class wc{static createBep44PutMessage(t){return pd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),a=zE(n),u=Tg.encode({seq:c,v:a}).subarray(1,-1);if(u.length>1e3)throw new ss(Rs.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:u}),v:a}})}static identifierToIdentityKey(t){return pd(this,arguments,void 0,function*({didUri:n}){let i=wc.identifierToIdentityKeyBytes({didUri:n});return yield $c.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=ua.parse(t);if(!n)throw new ss(Rs.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==tN.methodName)throw new ss(Rs.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=Jt.U$.base32Z(n.id).toUint8Array()}catch{throw new ss(Rs.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new ss(Rs.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return pd(this,arguments,void 0,function*({identityKey:n}){const i=yield $c.publicKeyToBytes({publicKey:n}),o=Jt.U$.uint8Array(i).toBase32Z();return`did:${tN.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:$c,"P-256":{publicKeyToBytes:o=>pd(this,[o],void 0,function*({publicKey:c}){const a=yield bc.publicKeyToBytes({publicKey:c});return yield bc.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:bc.bytesToPublicKey,privateKeyToBytes:bc.privateKeyToBytes,bytesToPrivateKey:bc.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>pd(this,[o],void 0,function*({publicKey:c}){const a=yield vc.publicKeyToBytes({publicKey:c});return yield vc.compressPublicKey({publicKeyBytes:a})}),bytesToPublicKey:vc.bytesToPublicKey,privateKeyToBytes:vc.privateKeyToBytes,bytesToPrivateKey:vc.bytesToPrivateKey},X25519:c2}[t];if(!i)throw new ss(Rs.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return pd(this,arguments,void 0,function*({bep44Message:n}){const i=yield $c.bytesToPublicKey({publicKeyBytes:n.k}),o=Tg.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield $c.verify({key:i,signature:n.sig,data:o})))throw new ss(Rs.InvalidSignature,"Invalid signature for DHT BEP44 message");return $A(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Jt.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new ss(Rs.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return pd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield wc.identifierToIdentityKey({didUri:i.previousDid}),c=wc.identifierToIdentityKeyBytes({didUri:n}),a=Jt.U$.base64Url(i.signature).toUint8Array();if(!(yield $c.verify({key:o,data:c,signature:a})))throw new ss(Rs.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var hk=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};let GV=(()=>{class r extends $L{static create(){return hk(this,arguments,void 0,function*({keyManager:n=new vT,options:i={}}={}){var o,c,a,u;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const U=null!==(u=null!==(o=i.algorithm)&&void 0!==o?o:null===(a=null===(c=i.verificationMethods)||void 0===c?void 0:c[0])||void 0===a?void 0:a.algorithm)&&void 0!==u?u:"Ed25519",P=yield n.generateKey({algorithm:U}),b=yield n.getPublicKey({keyUri:P}),K=Jt.U$.object(b).toBase64Url(),_e=`did:${r.methodName}:${K}`,Se=(yield r.resolve(_e)).didDocument;return new d2({uri:_e,document:Se,metadata:{},keyManager:n})})}static getSigningMethod(n){return hk(this,arguments,void 0,function*({didDocument:i}){var o;const c=ua.parse(i.id);if(c&&c.method!==this.methodName)throw new ss(Rs.MethodNotSupported,`Method not supported: ${c.method}`);const[a]=null!==(o=i.verificationMethod)&&void 0!==o?o:[];if(!a||!a.publicKeyJwk)throw new ss(Rs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return a})}static import(n){return hk(this,arguments,void 0,function*({portableDid:i,keyManager:o=new vT}){const c=ua.parse(i.uri);if(c?.method!==r.methodName)throw new ss(Rs.MethodNotSupported,"Method not supported");const a=yield d2.import({portableDid:i,keyManager:o});if(1!==a.document.verificationMethod.length)throw new ss(Rs.InvalidDidDocument,"DID document must contain exactly one verification method");return a})}static resolve(n,i){return hk(this,void 0,void 0,function*(){const o=ua.parse(n);let c;try{c=Jt.U$.base64Url(o.id).toObject()}catch{}if(!o||!c)return Object.assign(Object.assign({},mT),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},mT),{didResolutionMetadata:{error:"methodNotSupported"}});const a={"@context":["https://www.w3.org/ns/did/v1"],id:o.uri},u=`${a.id}#0`;switch(a.verificationMethod=[{id:u,type:"JsonWebKey",controller:a.id,publicKeyJwk:c}],a.authentication=[u],a.assertionMethod=[u],a.capabilityInvocation=[u],a.capabilityDelegation=[u],a.keyAgreement=[u],c.use){case"sig":delete a.keyAgreement;break;case"enc":delete a.authentication,delete a.assertionMethod,delete a.capabilityInvocation,delete a.capabilityDelegation}return Object.assign(Object.assign({},mT),{didDocument:a})})}}return r.methodName="jwk",r})();var XV=E(97829),YV=E(67449);class JV{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new YV.Level(n),this.ttl=XV(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Zp=function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})};class rN{constructor(t){this._agentDid=t.agentDid,this.crypto=t.cryptoApi,this.did=t.didApi,this.dwn=t.dwnApi,this.identity=t.identityApi,this.keyManager=t.keyManager,this.rpc=t.rpcClient,this.sync=t.syncApi,this.vault=t.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(t){this._agentDid=t}static create({dataPath:t="DATA/AGENT",agentDid:n,agentVault:i,cryptoApi:o,didApi:c,dwnApi:a,identityApi:u,keyManager:U,rpcClient:P,syncApi:b}={}){return Zp(this,void 0,void 0,function*(){return i??(i=new eV({keyDerivationWorkFactor:21e4,store:new Jt.cG({location:`${t}/VAULT_STORE`})})),o??(o=new QE),c??(c=new S$({didMethods:[tN,GV],resolverCache:new JV({location:`${t}/DID_RESOLVERCACHE`}),store:new E$})),a??(a=new dL({dwn:yield dL.createDwn({dataPath:t,didResolver:c})})),u??(u=new iV({store:new nV})),U??(U=new Rw({keyStore:new Z$})),P??(P=new fV),b??(b=new yV({syncEngine:new vV({dataPath:t})})),new rN({agentDid:n,agentVault:i,cryptoApi:o,didApi:c,dwnApi:a,keyManager:U,identityApi:u,rpcClient:P,syncApi:b})})}firstLaunch(){return Zp(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:t,recoveryPhrase:n}){return Zp(this,void 0,void 0,function*(){return n=yield this.vault.initialize({password:t,recoveryPhrase:n})})}processDidRequest(t){return Zp(this,void 0,void 0,function*(){return this.did.processRequest(t)})}processDwnRequest(t){return Zp(this,void 0,void 0,function*(){return this.dwn.processRequest(t)})}processVcRequest(t){return Zp(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(t){return Zp(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(t){return Zp(this,void 0,void 0,function*(){return this.dwn.sendRequest(t)})}sendVcRequest(t){return Zp(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:t}){return Zp(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:t})),this.agentDid=yield this.vault.getDid()})}}class md{constructor({method:t,id:n,path:i,query:o,fragment:c,params:a}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=a}static parse(t){if(!t)return null;const n=md.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:a,fragment:u}=n.groups,U={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(U.path=c),a&&(U.query=a.slice(1)),u&&(U.fragment=u.slice(1)),a){const P={},b=a.slice(1).split("&");for(const K of b){const[_e,Te]=K.split("=");P[_e]=Te}U.params=P}return U}}md.METHOD_PATTERN="([a-z0-9]+)",md.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",md.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${md.PCT_ENCODED_PATTERN})`,md.METHOD_ID_PATTERN=`((?:${md.ID_CHAR_PATTERN}*:)*(${md.ID_CHAR_PATTERN}+))`,md.PATH_PATTERN="(/[^#?]*)?",md.QUERY_PATTERN="([?][^#]*)?",md.FRAGMENT_PATTERN="(#.*)?",md.DID_URI_PATTERN=new RegExp(`^did:(?<method>${md.METHOD_PATTERN}):(?<id>${md.METHOD_ID_PATTERN})(?<path>${md.PATH_PATTERN})(?<query>${md.QUERY_PATTERN})(?<fragment>${md.FRAGMENT_PATTERN})$`),Error,E(44514),E(1424);function Ez(r,t){return r=Math.ceil(r),t=Math.floor(t),Math.floor(Math.random()*(t-r))+r}class yN{constructor({agent:t,connectedDid:n}){this.agent=t,this.connectedDid=n,this.did=new wV({agent:t,connectedDid:n}),this.dwn=new xV({agent:t,connectedDid:n}),this.vc=new SV({agent:t,connectedDid:n})}static connect({agent:t,agentVault:n,connectedDid:i,password:o,recoveryPhrase:c,sync:a,techPreview:u}={}){var U;return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===t){const b=yield rN.create({agentVault:n});t=b,void 0===o&&(o="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield b.firstLaunch())&&(c=yield b.initialize({password:o,recoveryPhrase:c})),yield b.start({password:o});{let _e;const Te=yield b.identity.list(),Se=Te.length;if(0===Se){const Re=null!==(U=u?.dwnEndpoints)&&void 0!==U?U:yield function _z(){return function(r,t,n,i){return new(n||(n=Promise))(function(c,a){function u(b){try{P(i.next(b))}catch(K){a(K)}}function U(b){try{P(i.throw(b))}catch(K){a(K)}}function P(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(a){a(c)})}(b.value).then(u,U)}P((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let r;try{if(r=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!r.ok)throw new Error(`HTTP Error: ${r.status} ${r.statusText}`)}catch(o){return console.warn("failed to get tech preview dwn endpoints:",o.message),[]}const t=yield r.json(),[n]=function mz({didDocument:r,id:t,type:n}){var i,o;return null!==(o=null===(i=r?.service)||void 0===i?void 0:i.filter(c=>!(t&&c.id!==t||n&&c.type!==n)))&&void 0!==o?o:[]}({didDocument:t,id:"#dwn",type:"DecentralizedWebNode"}),i=new Set;if("serviceEndpoint"in n&&!Array.isArray(n.serviceEndpoint)&&"string"!=typeof n.serviceEndpoint&&Array.isArray(n.serviceEndpoint.nodes)){const o=n.serviceEndpoint.nodes,c=Math.min(o.length,2);for(let a=0;a<o.length&&i.size<c;a+=1){const U=o[Ez(0,o.length)];try{(yield fetch(`${U}/health`)).ok&&i.add(U)}catch{}}}return Array.from(i)})}();_e=yield b.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Re,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield b.identity.manage({portableIdentity:yield _e.export()})}else{if(1!==Se)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${Se} stored identities.`);_e=Te[0]}i=_e.did.uri}"off"!==a&&(yield b.sync.registerIdentity({did:i}),a??(a="2m"),b.sync.startSync({interval:a}).catch(_e=>{console.error(`Sync failed: ${_e}`)}))}return{web5:new yN({agent:t,connectedDid:i}),did:i,recoveryPhrase:c}})}}},37475:(Ne,V,E)=>{"use strict";E.d(V,{U$:()=>j,cG:()=>re,ny:()=>ce,Gs:()=>te,VS:()=>h,Z6:()=>Me,LC:()=>g,RI:()=>ee,E8:()=>J,fc:()=>N});var g=E(52191),w=E(15130),O=E(80286),X=E(14725);function N(m){const x=Object.prototype.toString.call(m).match(/\s([a-zA-Z0-9]+)/),[D,B]=x;return B}var L=function(m,p,x,D){return new(x||(x=Promise))(function(M,d){function v(Q){try{z(D.next(Q))}catch(de){d(de)}}function W(Q){try{z(D.throw(Q))}catch(de){d(de)}}function z(Q){Q.done?M(Q.value):function B(M){return M instanceof x?M:new x(function(d){d(M)})}(Q.value).then(v,W)}z((D=D.apply(m,p||[])).next())})},F=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,p=m[Symbol.asyncIterator];return p?p.call(m):(m="function"==typeof __values?__values(m):m[Symbol.iterator](),x={},D("next"),D("throw"),D("return"),x[Symbol.asyncIterator]=function(){return this},x);function D(M){x[M]=m[M]&&function(d){return new Promise(function(v,W){!function B(M,d,v,W){Promise.resolve(W).then(function(z){M({value:z,done:v})},d)}(v,W,(d=m[M](d)).done,d.value)})}}};const C=new TextEncoder,Y=new TextDecoder;class j{constructor(p,x){this.data=p,this.format=x}static arrayBuffer(p){return new j(p,"ArrayBuffer")}static asyncIterable(p){if(!function R(m){return"object"==typeof m&&null!==m&&"function"==typeof m[Symbol.asyncIterator]}(p))throw new TypeError("Input must be of type AsyncIterable.");return new j(p,"AsyncIterable")}static base32Z(p){return new j(p,"Base32Z")}static base58Btc(p){return new j(p,"Base58Btc")}static base64Url(p){return new j(p,"Base64Url")}static bufferSource(p){return new j(p,"BufferSource")}static hex(p){if("string"!=typeof p)throw new TypeError("Hex input must be a string.");if(p.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new j(p,"Hex")}static multibase(p){return new j(p,"Multibase")}static object(p){return new j(p,"Object")}static string(p){return new j(p,"String")}static uint8Array(p){return new j(p,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return O.s.baseDecode(this.data).buffer;case"Base64Url":return X.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===N(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function _(m){return 0!==m.byteOffset||m.byteLength!==m.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return L(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return w.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const p=new Uint8Array(this.data);return O.s.baseEncode(p)}case"Multibase":return this.data.substring(1);case"Uint8Array":return O.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const p=new Uint8Array(this.data);return X.r0.baseEncode(p)}case"BufferSource":{const p=this.toUint8Array();return X.r0.baseEncode(p)}case"Object":{const p=JSON.stringify(this.data),x=C.encode(p);return X.r0.baseEncode(x)}case"String":{const p=C.encode(this.data);return X.r0.baseEncode(p)}case"Uint8Array":return X.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var p,x,D;return L(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const W=[];try{for(var v,M=!0,d=F(this.data);v=yield d.next(),!(p=v.done);M=!0)M=!1,W.push(v.value)}catch(Q){x={error:Q}}finally{try{!M&&!p&&(D=d.return)&&(yield D.call(d))}finally{if(x)throw x.error}}return new Blob(W)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const p=Array.from({length:256},(x,D)=>D.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const x=this.toUint8Array();return j.uint8Array(x).toHex()}case"Base64Url":{const x=this.toUint8Array();return j.uint8Array(x).toHex()}case"Uint8Array":{let x="";for(let D=0;D<this.data.length;D++)x+=p[this.data[D]];return x}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const p=X.r0.baseDecode(this.data),x=Y.decode(p);return JSON.parse(x)}case"String":return JSON.parse(this.data);case"Uint8Array":{const p=Y.decode(this.data);return JSON.parse(p)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return L(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const p=yield this.toStringAsync();return JSON.parse(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Y.decode(this.data);case"Base64Url":{const p=X.r0.baseDecode(this.data);return Y.decode(p)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var p,x,D,B;return L(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let W="";try{for(var v,M=!0,d=F(this.data);v=yield d.next(),!(p=v.done);M=!0)M=!1,W+="string"==typeof(B=v.value)?B:Y.decode(B,{stream:!0})}catch(z){x={error:z}}finally{try{!M&&!p&&(D=d.return)&&(yield D.call(d))}finally{if(x)throw x.error}}return W+=Y.decode(void 0,{stream:!1}),W}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return w.jd.baseDecode(this.data);case"Base58Btc":return O.s.baseDecode(this.data);case"Base64Url":return X.r0.baseDecode(this.data);case"BufferSource":{const p=N(this.data);if("Uint8Array"===p)return this.data;if("ArrayBuffer"===p)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const p=new Uint8Array(this.data.length/2);for(let x=0;x<this.data.length;x+=2){const D=parseInt(this.data.substring(x,x+2),16);if(isNaN(D))throw new TypeError("Input is not a valid hexadecimal string.");p[x/2]=D}return p}case"Object":{const p=JSON.stringify(this.data);return C.encode(p)}case"String":return C.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return L(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const p=yield this.toArrayBufferAsync();return new Uint8Array(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var G=E(41405);class te{static addPrefix(p){var x;let{code:D,data:B,name:M}=p;if(!(M?!D:D))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(D=te.codeToName.has(D)?D:te.nameToCode.get(M),void 0===D)throw new Error(`Unsupported multicodec: ${null!==(x=p.name)&&void 0!==x?x:p.code}`);const d=G.L8.encodingLength(D),v=new Uint8Array(d+B.byteLength);return v.set(B,d),G.L8.encodeTo(D,v),v}static getCodeFromData(p){const{prefixedData:x}=p,[D,B]=G.L8.decode(x);return D}static getCodeFromName(p){const{name:x}=p,D=te.nameToCode.get(x);if(void 0===D)throw new Error(`Unsupported multicodec: ${x}`);return D}static getNameFromCode(p){const{code:x}=p,D=te.codeToName.get(x);if(void 0===D)throw new Error(`Unsupported multicodec: ${x}`);return D}static registerCodec(p){te.codeToName.set(p.code,p.name),te.nameToCode.set(p.name,p.code)}static removePrefix(p){const{prefixedData:x}=p,[D,B]=G.L8.decode(x),M=te.codeToName.get(D);if(void 0===M)throw new Error(`Unsupported multicodec: ${D}`);return{code:D,data:x.slice(B),name:M}}}function ee(m){return!("object"!=typeof m||null===m||Object.getOwnPropertySymbols(m).length>0)&&0===Object.keys(m).length}function J(m){Object.keys(m).forEach(p=>{void 0===m[p]?delete m[p]:"object"==typeof m[p]&&J(m[p])})}te.codeToName=new Map,te.nameToCode=new Map,te.registerCodec({code:237,name:"ed25519-pub"}),te.registerCodec({code:4864,name:"ed25519-priv"}),te.registerCodec({code:236,name:"x25519-pub"}),te.registerCodec({code:4866,name:"x25519-priv"}),te.registerCodec({code:231,name:"secp256k1-pub"}),te.registerCodec({code:4865,name:"secp256k1-priv"});var ne=E(54626),ie=function(m,p,x,D){return new(x||(x=Promise))(function(M,d){function v(Q){try{z(D.next(Q))}catch(de){d(de)}}function W(Q){try{z(D.throw(Q))}catch(de){d(de)}}function z(Q){Q.done?M(Q.value):function B(M){return M instanceof x?M:new x(function(d){d(M)})}(Q.value).then(v,W)}z((D=D.apply(m,p||[])).next())})};class re{constructor({db:p,location:x="DATASTORE"}={}){this.store=p??new ne.Level(x)}clear(){return ie(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ie(this,void 0,void 0,function*(){yield this.store.close()})}delete(p){return ie(this,void 0,void 0,function*(){yield this.store.del(p)})}get(p){return ie(this,void 0,void 0,function*(){try{return yield this.store.get(p)}catch(x){if(x.notFound)return;throw x}})}set(p,x){return ie(this,void 0,void 0,function*(){yield this.store.put(p,x)})}}class ce{constructor(){this.store=new Map}clear(){return ie(this,void 0,void 0,function*(){this.store.clear()})}close(){return ie(this,void 0,void 0,function*(){})}delete(p){return ie(this,void 0,void 0,function*(){return this.store.delete(p)})}get(p){return ie(this,void 0,void 0,function*(){return this.store.get(p)})}has(p){return ie(this,void 0,void 0,function*(){return this.store.has(p)})}list(){return ie(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(p,x){return ie(this,void 0,void 0,function*(){this.store.set(p,x)})}}var se=function(m,p,x,D){return new(x||(x=Promise))(function(M,d){function v(Q){try{z(D.next(Q))}catch(de){d(de)}}function W(Q){try{z(D.throw(Q))}catch(de){d(de)}}function z(Q){Q.done?M(Q.value):function B(M){return M instanceof x?M:new x(function(d){d(M)})}(Q.value).then(v,W)}z((D=D.apply(m,p||[])).next())})},pe=function(m){return this instanceof pe?(this.v=m,this):new pe(m)};class Me{static asAsyncIterator(p){return function(m,p,x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,D=x.apply(m,p||[]),M=[];return B={},d("next"),d("throw"),d("return"),B[Symbol.asyncIterator]=function(){return this},B;function d(xe){D[xe]&&(B[xe]=function(Ie){return new Promise(function(Le,ve){M.push([xe,Ie,Le,ve])>1||v(xe,Ie)})})}function v(xe,Ie){try{!function W(xe){xe.value instanceof pe?Promise.resolve(xe.value.v).then(z,Q):de(M[0][2],xe)}(D[xe](Ie))}catch(Le){de(M[0][3],Le)}}function z(xe){v("next",xe)}function Q(xe){v("throw",xe)}function de(xe,Ie){xe(Ie),M.shift(),M.length&&v(M[0][0],M[0][1])}}(this,arguments,function*(){const D=p.getReader();try{for(;;){const{done:B,value:M}=yield pe(D.read());if(B)break;yield yield pe(M)}}finally{D.releaseLock()}})}static consumeToArrayBuffer({readableStream:p}){return se(this,void 0,void 0,function*(){const x=Me.asAsyncIterator(p);return yield j.asyncIterable(x).toArrayBufferAsync()})}static consumeToBlob({readableStream:p}){return se(this,void 0,void 0,function*(){const x=Me.asAsyncIterator(p);return yield j.asyncIterable(x).toBlobAsync()})}static consumeToBytes({readableStream:p}){return se(this,void 0,void 0,function*(){const x=Me.asAsyncIterator(p);return yield j.asyncIterable(x).toUint8ArrayAsync()})}static consumeToJson({readableStream:p}){return se(this,void 0,void 0,function*(){const x=Me.asAsyncIterator(p);return yield j.asyncIterable(x).toObjectAsync()})}static consumeToText({readableStream:p}){return se(this,void 0,void 0,function*(){const x=Me.asAsyncIterator(p);return yield j.asyncIterable(x).toStringAsync()})}static generateByteStream({streamLength:p,chunkLength:x,fillValue:D}){let M,B=p??1/0;function d(){const v=Math.min(B,x??1/0);let W;if(B-=v,"number"==typeof D)W=new Uint8Array(v).fill(D);else if(Array.isArray(D)){W=new Uint8Array(v);const[z,Q]=D,de=Q-z+1;for(let xe=0;xe<v;xe++)W[xe]=Math.floor(Math.random()*de)+z}else W=new Uint8Array(v);M.enqueue(W),B<=0&&M.close()}return new ReadableStream({start(v){M=v,d()},pull(){d()}})}static isReadable({readableStream:p}){if(!Me.isReadableStream(p)||p.locked)return!1;try{return p.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(p){return"object"==typeof p&&null!==p&&"getReader"in p&&"function"==typeof p.getReader}static isStream(p){return Me.isReadableStream(p)||Me.isWritableStream(p)||Me.isTransformStream(p)}static isTransformStream(p){return"object"==typeof p&&null!==p&&"readable"in p&&"object"==typeof p.readable&&"writable"in p&&"object"==typeof p.writable}static isWritableStream(p){return"object"==typeof p&&null!==p&&"getWriter"in p&&"function"==typeof p.getWriter&&"abort"in p&&"function"==typeof p.abort}}var k=E(95424),l=function(m,p,x,D){return new(x||(x=Promise))(function(M,d){function v(Q){try{z(D.next(Q))}catch(de){d(de)}}function W(Q){try{z(D.throw(Q))}catch(de){d(de)}}function z(Q){Q.done?M(Q.value):function B(M){return M instanceof x?M:new x(function(d){d(M)})}(Q.value).then(v,W)}z((D=D.apply(m,p||[])).next())})};class h{static consumeToArrayBuffer({readable:p}){return l(this,void 0,void 0,function*(){return yield j.asyncIterable(p).toArrayBufferAsync()})}static consumeToBlob({readable:p}){return l(this,void 0,void 0,function*(){return yield j.asyncIterable(p).toBlobAsync()})}static consumeToBytes({readable:p}){return l(this,void 0,void 0,function*(){return yield j.asyncIterable(p).toUint8ArrayAsync()})}static consumeToJson({readable:p}){return l(this,void 0,void 0,function*(){return yield j.asyncIterable(p).toObjectAsync()})}static consumeToText({readable:p}){return l(this,void 0,void 0,function*(){return yield j.asyncIterable(p).toStringAsync()})}static fromWebReadable({readableStream:p,readableOptions:x}){if(!Me.isReadableStream(p))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const D=p.getReader();let B=!1;const M=new k.Readable(Object.assign(Object.assign({},x),{read:function(){D.read().then(({done:d,value:v})=>{if(d)this.push(null);else if(!this.push(v))return}).catch(d=>{this.destroy(d)})},destroy:function(d,v){function W(){v(d)}B?W():D.cancel(d).then(W).catch(W)}}));return D.closed.then(()=>{B=!0}).catch(d=>{B=!0,M.destroy(d)}),M}static isDestroyed({stream:p}){if(!h.isStream(p))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!p.destroyed&&!(("_writableState"in p?p._writableState:void 0)||p._readableState).destroyed)}static isReadable({readable:p}){return!!h.isReadableStream(p)&&p.readable&&"boolean"==typeof p._readableState.ended&&!p._readableState.ended&&"boolean"==typeof p._readableState.endEmitted&&!p._readableState.endEmitted&&!p.destroyed&&!p.isPaused()}static isReadableStream(p){return"object"==typeof p&&null!==p&&"pipe"in p&&"function"==typeof p.pipe&&"on"in p&&"function"==typeof p.on&&!("_writableState"in p)&&"_readableState"in p}static isStream(p){return"object"==typeof p&&null!==p&&("_readableState"in p||"_writableState"in p)}static toWebReadable({readable:p}){if(!h.isReadableStream(p))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(h.isDestroyed({stream:p})){const x=new ReadableStream;return x.cancel(),x}return new ReadableStream({start(x){p.on("data",D=>{x.enqueue(D)}),p.on("end",()=>{x.close()}),p.on("error",D=>{x.error(D)})},cancel(){p.destroy()}})}}},10797:(Ne,V,E)=>{"use strict";E.d(V,{_Q:()=>Y,yE:()=>te});var _=E(52054);class R{constructor(q,J,ne){this.name=q,this.prefix=J,this.baseEncode=ne}encode(q){if(q instanceof Uint8Array)return`${this.prefix}${this.baseEncode(q)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(q,J,ne){if(this.name=q,this.prefix=J,void 0===J.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=J.codePointAt(0),this.baseDecode=ne}decode(q){if("string"==typeof q){if(q.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(q)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(q.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(q){return L(this,q)}}class N{constructor(q){this.decoders=q}or(q){return L(this,q)}decode(q){const ne=this.decoders[q[0]];if(ne)return ne.decode(q);throw RangeError(`Unable to decode multibase string ${JSON.stringify(q)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const L=(ee,q)=>new N({...ee.decoders||{[ee.prefix]:ee},...q.decoders||{[q.prefix]:q}});class F{constructor(q,J,ne,ie){this.name=q,this.prefix=J,this.baseEncode=ne,this.baseDecode=ie,this.encoder=new R(q,J,ne),this.decoder=new A(q,J,ie)}encode(q){return this.encoder.encode(q)}decode(q){return this.decoder.decode(q)}}const C=({name:ee,prefix:q,encode:J,decode:ne})=>new F(ee,q,J,ne),Y=({prefix:ee,name:q,alphabet:J})=>{const{encode:ne,decode:ie}=function g(ee,q){if(ee.length>=255)throw new TypeError("Alphabet too long");for(var J=new Uint8Array(256),ne=0;ne<J.length;ne++)J[ne]=255;for(var ie=0;ie<ee.length;ie++){var re=ee.charAt(ie),ce=re.charCodeAt(0);if(255!==J[ce])throw new TypeError(re+" is ambiguous");J[ce]=ie}var se=ee.length,pe=ee.charAt(0),we=Math.log(se)/Math.log(256),Me=Math.log(256)/Math.log(se);function l(m){if("string"!=typeof m)throw new TypeError("Expected String");if(0===m.length)return new Uint8Array;var p=0;if(" "!==m[p]){for(var x=0,D=0;m[p]===pe;)x++,p++;for(var B=(m.length-p)*we+1>>>0,M=new Uint8Array(B);m[p];){var d=J[m.charCodeAt(p)];if(255===d)return;for(var v=0,W=B-1;(0!==d||v<D)&&-1!==W;W--,v++)M[W]=(d+=se*M[W]>>>0)%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");D=v,p++}if(" "!==m[p]){for(var z=B-D;z!==B&&0===M[z];)z++;for(var Q=new Uint8Array(x+(B-z)),de=x;z!==B;)Q[de++]=M[z++];return Q}}}return{encode:function k(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===m.length)return"";for(var p=0,x=0,D=0,B=m.length;D!==B&&0===m[D];)D++,p++;for(var M=(B-D)*Me+1>>>0,d=new Uint8Array(M);D!==B;){for(var v=m[D],W=0,z=M-1;(0!==v||W<x)&&-1!==z;z--,W++)d[z]=(v+=256*d[z]>>>0)%se>>>0,v=v/se>>>0;if(0!==v)throw new Error("Non-zero carry");x=W,D++}for(var Q=M-x;Q!==M&&0===d[Q];)Q++;for(var de=pe.repeat(p);Q<M;++Q)de+=ee.charAt(d[Q]);return de},decodeUnsafe:l,decode:function h(m){var p=l(m);if(p)return p;throw new Error(`Non-${q} character`)}}}(J,q);return C({prefix:ee,name:q,encode:ne,decode:re=>(0,_.au)(ie(re))})},te=({name:ee,prefix:q,bitsPerChar:J,alphabet:ne})=>C({prefix:q,name:ee,encode:ie=>((ee,q,J)=>{const ne="="===q[q.length-1],ie=(1<<J)-1;let re="",ce=0,se=0;for(let pe=0;pe<ee.length;++pe)for(se=se<<8|ee[pe],ce+=8;ce>J;)ce-=J,re+=q[ie&se>>ce];if(ce&&(re+=q[ie&se<<J-ce]),ne)for(;re.length*J&7;)re+="=";return re})(ie,ne,J),decode:ie=>((ee,q,J,ne)=>{const ie={};for(let Me=0;Me<q.length;++Me)ie[q[Me]]=Me;let re=ee.length;for(;"="===ee[re-1];)--re;const ce=new Uint8Array(re*J/8|0);let se=0,pe=0,we=0;for(let Me=0;Me<re;++Me){const k=ie[ee[Me]];if(void 0===k)throw new SyntaxError(`Non-${ne} character`);pe=pe<<J|k,se+=J,se>=8&&(se-=8,ce[we++]=255&pe>>se)}if(se>=J||255&pe<<8-se)throw new SyntaxError("Unexpected end of data");return ce})(ie,ne,J,ee)})},15130:(Ne,V,E)=>{"use strict";E.d(V,{RG:()=>w,jd:()=>F});var g=E(10797);const w=(0,g.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=((0,g.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,g.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,g.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,g.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,g.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,g.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,g.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,g.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(Ne,V,E)=>{"use strict";E.d(V,{s:()=>w});var g=E(10797);const w=(0,g._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,g._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(Ne,V,E)=>{"use strict";E.d(V,{r0:()=>X});var g=E(10797);(0,g.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,g.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const X=(0,g.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,g.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(Ne,V,E)=>{"use strict";E.d(V,{aI:()=>X,au:()=>_}),new Uint8Array(0);const X=(L,F)=>{if(L===F)return!0;if(L.byteLength!==F.byteLength)return!1;for(let C=0;C<L.byteLength;C++)if(L[C]!==F[C])return!1;return!0},_=L=>{if(L instanceof Uint8Array&&"Uint8Array"===L.constructor.name)return L;if(L instanceof ArrayBuffer)return new Uint8Array(L);if(ArrayBuffer.isView(L))return new Uint8Array(L.buffer,L.byteOffset,L.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(Ne,V,E)=>{"use strict";E.d(V,{TO:()=>C});var g=E(28206),w=E(56580),O=E(80286),X=E(15130),_=E(52054);const R=(ne,ie)=>{const{bytes:re,version:ce}=ne;return 0===ce?j(re,F(ne),ie||O.s.encoder):G(re,F(ne),ie||X.RG.encoder)},L=new WeakMap,F=ne=>{const ie=L.get(ne);if(null==ie){const re=new Map;return L.set(ne,re),re}return ie};class C{constructor(ie,re,ce,se){this.code=re,this.version=ie,this.multihash=ce,this.bytes=se,this["/"]=se}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ie,multihash:re}=this;if(ie!==te)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(re.code!==ee)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return C.createV0(re)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ie,digest:re}=this.multihash,ce=w.vt(ie,re);return C.createV1(this.code,ce)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ie){return C.equals(this,ie)}static equals(ie,re){return re&&ie.code===re.code&&ie.version===re.version&&w.aI(ie.multihash,re.multihash)}toString(ie){return R(this,ie)}toJSON(){return{"/":R(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ie){if(null==ie)return null;const re=ie;if(re instanceof C)return re;if(null!=re["/"]&&re["/"]===re.bytes||re.asCID===re){const{version:ce,code:se,multihash:pe,bytes:we}=re;return new C(ce,se,pe,we||q(ce,se,pe.bytes))}if(!0===re[J]){const{version:ce,multihash:se,code:pe}=re,we=w.D4(se);return C.create(ce,pe,we)}return null}static create(ie,re,ce){if("number"!=typeof re)throw new Error("String codecs are no longer supported");if(!(ce.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ie){case 0:if(re!==te)throw new Error(`Version 0 CID must use dag-pb (code: ${te}) block encoding`);return new C(ie,re,ce,ce.bytes);case 1:{const se=q(ie,re,ce.bytes);return new C(ie,re,ce,se)}default:throw new Error("Invalid version")}}static createV0(ie){return C.create(0,te,ie)}static createV1(ie,re){return C.create(1,ie,re)}static decode(ie){const[re,ce]=C.decodeFirst(ie);if(ce.length)throw new Error("Incorrect length");return re}static decodeFirst(ie){const re=C.inspectBytes(ie),ce=re.size-re.multihashSize,se=(0,_.au)(ie.subarray(ce,ce+re.multihashSize));if(se.byteLength!==re.multihashSize)throw new Error("Incorrect length");const pe=se.subarray(re.multihashSize-re.digestSize),we=new w.np(re.multihashCode,re.digestSize,pe,se);return[0===re.version?C.createV0(we):C.createV1(re.codec,we),ie.subarray(re.size)]}static inspectBytes(ie){let re=0;const ce=()=>{const[m,p]=g.decode(ie.subarray(re));return re+=p,m};let se=ce(),pe=te;if(18===se?(se=0,re=0):pe=ce(),0!==se&&1!==se)throw new RangeError(`Invalid CID version ${se}`);const we=re,Me=ce(),k=ce(),l=re+k;return{version:se,codec:pe,multihashCode:Me,digestSize:k,multihashSize:l-we,size:l}}static parse(ie,re){const[ce,se]=Y(ie,re),pe=C.decode(se);if(0===pe.version&&"Q"!==ie[0])throw Error("Version 0 CID string must not include multibase prefix");return F(pe).set(ce,ie),pe}}const Y=(ne,ie)=>{switch(ne[0]){case"Q":return[O.s.prefix,(ie||O.s).decode(`${O.s.prefix}${ne}`)];case O.s.prefix:return[O.s.prefix,(ie||O.s).decode(ne)];case X.RG.prefix:return[X.RG.prefix,(ie||X.RG).decode(ne)];default:if(null==ie)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[ne[0],ie.decode(ne)]}},j=(ne,ie,re)=>{const{prefix:ce}=re;if(ce!==O.s.prefix)throw Error(`Cannot string encode V0 in ${re.name} encoding`);const se=ie.get(ce);if(null==se){const pe=re.encode(ne).slice(1);return ie.set(ce,pe),pe}return se},G=(ne,ie,re)=>{const{prefix:ce}=re,se=ie.get(ce);if(null==se){const pe=re.encode(ne);return ie.set(ce,pe),pe}return se},te=112,ee=18,q=(ne,ie,re)=>{const ce=g.encodingLength(ne),se=ce+g.encodingLength(ie),pe=new Uint8Array(se+re.byteLength);return g.encodeTo(ne,pe,0),g.encodeTo(ie,pe,ce),pe.set(re,se),pe},J=Symbol.for("@ipld/js-cid/CID")},56580:(Ne,V,E)=>{"use strict";E.d(V,{D4:()=>X,aI:()=>_,np:()=>R,vt:()=>O});var g=E(52054),w=E(28206);const O=(A,N)=>{const L=N.byteLength,F=w.encodingLength(A),C=F+w.encodingLength(L),Y=new Uint8Array(C+L);return w.encodeTo(A,Y,0),w.encodeTo(L,Y,F),Y.set(N,C),new R(A,L,N,Y)},X=A=>{const N=(0,g.au)(A),[L,F]=w.decode(N),[C,Y]=w.decode(N.subarray(F)),j=N.subarray(F+Y);if(j.byteLength!==C)throw new Error("Incorrect length");return new R(L,C,j,N)},_=(A,N)=>A===N||A.code===N.code&&A.size===N.size&&N.bytes instanceof Uint8Array&&(0,g.aI)(A.bytes,N.bytes);class R{constructor(N,L,F,C){this.code=N,this.size=L,this.digest=F,this.bytes=C}}},92059:(Ne,V,E)=>{"use strict";E.d(V,{H:()=>w});var g=E(56580);const w=({name:X,code:_,encode:R})=>new O(X,_,R);class O{constructor(_,R,A){this.name=_,this.code=R,this.encode=A}digest(_){if(_ instanceof Uint8Array){const R=this.encode(_);return R instanceof Uint8Array?g.vt(this.code,R):R.then(A=>g.vt(this.code,A))}throw Error("Unknown type, must be binary type")}}},41405:(Ne,V,E)=>{"use strict";E.d(V,{L8:()=>w,TO:()=>g.TO});var g=E(41861),w=E(28206);E(52054),E(92059),E(56580)},28206:(Ne,V,E)=>{"use strict";E.r(V),E.d(V,{decode:()=>pe,encodeTo:()=>we,encodingLength:()=>Me});var w=128,X=-128,_=Math.pow(2,31),N=128,L=127,C=Math.pow(2,7),Y=Math.pow(2,14),j=Math.pow(2,21),G=Math.pow(2,28),te=Math.pow(2,35),ee=Math.pow(2,42),q=Math.pow(2,49),J=Math.pow(2,56),ne=Math.pow(2,63);const se={encode:function R(k,l,h){l=l||[];for(var m=h=h||0;k>=_;)l[h++]=255&k|w,k/=128;for(;k&X;)l[h++]=255&k|w,k>>>=7;return l[h]=0|k,R.bytes=h-m+1,l},decode:function F(k,m){var D,h=0,p=0,x=m=m||0,B=k.length;do{if(x>=B)throw F.bytes=0,new RangeError("Could not decode varint");D=k[x++],h+=p<28?(D&L)<<p:(D&L)*Math.pow(2,p),p+=7}while(D>=N);return F.bytes=x-m,h},encodingLength:function(k){return k<C?1:k<Y?2:k<j?3:k<G?4:k<te?5:k<ee?6:k<q?7:k<J?8:k<ne?9:10}},pe=(k,l=0)=>[se.decode(k,l),se.decode.bytes],we=(k,l,h=0)=>(se.encode(k,l,h),l),Me=k=>se.encodingLength(k)},10467:(Ne,V,E)=>{"use strict";function g(O,X,_,R,A,N,L){try{var F=O[N](L),C=F.value}catch(Y){return void _(Y)}F.done?X(C):Promise.resolve(C).then(R,A)}function w(O){return function(){var X=this,_=arguments;return new Promise(function(R,A){var N=O.apply(X,_);function L(C){g(N,R,A,L,F,"next",C)}function F(C){g(N,R,A,L,F,"throw",C)}L(void 0)})}}E.d(V,{A:()=>w})},31635:(Ne,V,E)=>{"use strict";function Y(d,v,W,z){return new(W||(W=Promise))(function(de,xe){function Ie(ye){try{ve(z.next(ye))}catch(ke){xe(ke)}}function Le(ye){try{ve(z.throw(ye))}catch(ke){xe(ke)}}function ve(ye){ye.done?de(ye.value):function Q(de){return de instanceof W?de:new W(function(xe){xe(de)})}(ye.value).then(Ie,Le)}ve((z=z.apply(d,v||[])).next())})}function re(d){return this instanceof re?(this.v=d,this):new re(d)}function ce(d,v,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,z=W.apply(d,v||[]),de=[];return Q={},Ie("next"),Ie("throw"),Ie("return",function xe(Ee){return function(fe){return Promise.resolve(fe).then(Ee,ke)}}),Q[Symbol.asyncIterator]=function(){return this},Q;function Ie(Ee,fe){z[Ee]&&(Q[Ee]=function(he){return new Promise(function(ae,ue){de.push([Ee,he,ae,ue])>1||Le(Ee,he)})},fe&&(Q[Ee]=fe(Q[Ee])))}function Le(Ee,fe){try{!function ve(Ee){Ee.value instanceof re?Promise.resolve(Ee.value.v).then(ye,ke):me(de[0][2],Ee)}(z[Ee](fe))}catch(he){me(de[0][3],he)}}function ye(Ee){Le("next",Ee)}function ke(Ee){Le("throw",Ee)}function me(Ee,fe){Ee(fe),de.shift(),de.length&&Le(de[0][0],de[0][1])}}function pe(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,v=d[Symbol.asyncIterator];return v?v.call(d):(d=function ee(d){var v="function"==typeof Symbol&&Symbol.iterator,W=v&&d[v],z=0;if(W)return W.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&z>=d.length&&(d=void 0),{value:d&&d[z++],done:!d}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),W={},z("next"),z("throw"),z("return"),W[Symbol.asyncIterator]=function(){return this},W);function z(de){W[de]=d[de]&&function(xe){return new Promise(function(Ie,Le){!function Q(de,xe,Ie,Le){Promise.resolve(Le).then(function(ve){de({value:ve,done:Ie})},xe)}(Ie,Le,(xe=d[de](xe)).done,xe.value)})}}}E.d(V,{AQ:()=>ce,N3:()=>re,sH:()=>Y,xN:()=>pe}),"function"==typeof SuppressedError&&SuppressedError},83813:Ne=>{"use strict";Ne.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:Ne=>{"use strict";Ne.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:Ne=>{"use strict";Ne.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:Ne=>{"use strict";Ne.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:Ne=>{"use strict";Ne.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:Ne=>{"use strict";Ne.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:Ne=>{"use strict";Ne.exports={rE:"6.5.5"}},15579:Ne=>{"use strict";Ne.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Ne=>{var V=g=>Ne(Ne.s=g);V(94073),V(65073)}]);