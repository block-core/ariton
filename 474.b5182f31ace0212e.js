"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[474],{53474:(g,d,n)=>{n.r(d),n.d(d,{DataViewComponent:()=>E});var s=n(10467),e=n(93953),p=n(21801),_=n(96850),m=n(88834),c=n(3902),u=n(60177),l=n(18498),h=n(58653);const v=a=>["view",a];function y(a,F){if(1&a&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2,"ID: "),e.j41(3,"a",2),e.EFF(4),e.k0s()(),e.j41(5,"span"),e.EFF(6),e.nrm(7,"br"),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.nrm(11,"br"),e.EFF(12),e.nrm(13,"br"),e.EFF(14),e.nrm(15,"br"),e.EFF(16),e.nrm(17,"br"),e.k0s()(),e.j41(18,"div"),e.EFF(19," Data: "),e.nrm(20,"br"),e.EFF(21),e.k0s()),2&a){const r=e.XpG();e.R7$(3),e.Y8G("routerLink",e.eq3(9,v,r.record().id)),e.R7$(),e.JRh(r.record().id),e.R7$(2),e.SpI("Author: ",r.record().author,""),e.R7$(2),e.SpI(" Format: ",r.record().dataFormat,""),e.R7$(2),e.SpI(" Size: ",r.record().dataSize,""),e.R7$(2),e.SpI(" Created: ",r.record().dateCreated,""),e.R7$(2),e.SpI(" Published: ",r.record().published,""),e.R7$(2),e.SpI(" Date Published: ",r.record().datePublished,""),e.R7$(5),e.SpI(" ",r.recordJson()," ")}}let E=(()=>{class a{constructor(r,t){this.identityService=r,this.route=t,this.record=(0,e.vPA)(null),this.records=(0,e.vPA)([]),this.recordId="",this.recordJson=(0,e.vPA)(""),(0,e.QZP)(()=>{console.log("WEB5 INITIALIZED!!! ",this.identityService.initialized()),this.openRecord(this.recordId)}),this.route.params.subscribe(o=>{const i=o.id;this.recordId=i,this.openRecord(i)})}openRecord(r){var t=this;return(0,s.A)(function*(){if(!r||!t.identityService.initialized())return;const{record:o}=yield t.identityService.web5.dwn.records.read({message:{filter:{recordId:r}}});if(t.record.set(o),console.log(o),console.log(o.dataFormat),"application/json"===o.dataFormat){var i=yield o.data.json();console.log(i),t.recordJson.set(JSON.stringify(i,null,2))}})()}load(){var r=this;return(0,s.A)(function*(){const{protocols:t}=yield r.identityService.web5.dwn.protocols.query({message:{filter:{protocol:"https://music.org/protocol"}}});console.log(t);var{records:i}=yield r.identityService.web5.dwn.records.query({message:{filter:{dataFormat:"application/json"}}});console.log("All records:"),console.log(i),i&&r.records.set(i);var{records:i}=yield r.identityService.web5.dwn.records.query({from:r.identityService.did,message:{filter:{schema:"https://schema.org/Playlist",dataFormat:"application/json"}}});console.log(i);const o=yield r.identityService.web5.dwn.records.query({message:{filter:{parentId:"bafyreianzpmhbgcgam5mys722vnsiuwn7y4ek6kjeyjptttquasw4hge2m"}}});console.log(o.records);var{records:i}=yield r.identityService.web5.dwn.records.query({message:{filter:{protocol:"https://playlist.org/protocol",protocolPath:"playlist/video"}}});console.log(i)})()}createRecord(r){var t=this;return(0,s.A)(function*(){var{record:o}=yield t.identityService.web5.dwn.records.create({data:{content:"Hello Web5",description:"Keep Building!",tags:["web5","ariton","did"]},message:{dataFormat:"application/json",published:r}});console.log(o);var{record:o}=yield t.identityService.web5.dwn.records.create({data:"this record will be written to the local DWN",message:{dataFormat:"text/plain"}});console.log(o)})()}updateRecord(){return(0,s.A)(function*(){})()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(h.K),e.rXU(l.nX))};static#r=this.\u0275cmp=e.VBU({type:a,selectors:[["app-data-view"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"record-line"],["matListItemTitle",""],[3,"routerLink"]],template:function(t,o){1&t&&(e.nrm(0,"br"),e.DNE(1,y,22,11)),2&t&&(e.R7$(),e.vxM(o.record()?1:-1))},dependencies:[l.Wk,u.MD,_.RI,p.m_,m.Hl,c.Fg,c.yE],styles:[".record-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #e0e0e0}"]})}return a})()}}]);