(self.webpackChunkapp=self.webpackChunkapp||[]).push([[497],{29497:(Ee,Pt,x)=>{"use strict";x.d(Pt,{f:()=>ft});var tt=x(60177),Tt=x(99213),P=x(66969),l=x(93953),Z=x(18617),Et=x(36860),j=x(76939),vt=x(67336),et=x(21413),Wt=x(59030),ge=x(7673),Mt=x(28203),Gt=x(99172);function Rt(u,_){}class H{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let St=(()=>{class u extends j.lb{constructor(o,r,c,y,w,D,V,K){super(),this._elementRef=o,this._focusTrapFactory=r,this._config=y,this._interactivityChecker=w,this._ngZone=D,this._overlayRef=V,this._focusMonitor=K,this._platform=(0,l.WQX)(Et.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,l.WQX)(l.gRc),this._injector=(0,l.WQX)(l.zZn),this._isDestroyed=!1,this.attachDomPortal=Yt=>{this._portalOutlet.hasAttached();const ue=this._portalOutlet.attachDomPortal(Yt);return this._contentAttached(),ue},this._document=c,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(o){this._ariaLabelledByQueue.push(o),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(o){const r=this._ariaLabelledByQueue.indexOf(o);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(o){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(o);return this._contentAttached(),r}attachTemplatePortal(o){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(o);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(o,r){this._interactivityChecker.isFocusable(o)||(o.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{o.removeEventListener("blur",c),o.removeEventListener("mousedown",c),o.removeAttribute("tabindex")};o.addEventListener("blur",c),o.addEventListener("mousedown",c)})),o.focus(r)}_focusByCssSelector(o,r){let c=this._elementRef.nativeElement.querySelector(o);c&&this._forceFocus(c,r)}_trapFocus(){this._isDestroyed||(0,l.mal)(()=>{const o=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||o.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const o=this._config.restoreFocus;let r=null;if("string"==typeof o?r=this._document.querySelector(o):"boolean"==typeof o?r=o?this._elementFocusedBeforeDialogWasOpened:null:o&&(r=o),this._config.restoreFocus&&r&&"function"==typeof r.focus){const c=(0,Et.vc)(),y=this._elementRef.nativeElement;(!c||c===this._document.body||c===y||y.contains(c))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const o=this._elementRef.nativeElement,r=(0,Et.vc)();return o===r||o.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Et.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(r){return new(r||u)(l.rXU(l.aKT),l.rXU(Z.GX),l.rXU(tt.qQ,8),l.rXU(H),l.rXU(Z.Z7),l.rXU(l.SKi),l.rXU(P.yY),l.rXU(Z.FN))};static#e=this.\u0275cmp=l.VBU({type:u,selectors:[["cdk-dialog-container"]],viewQuery:function(r,c){if(1&r&&l.GBs(j.I3,7),2&r){let y;l.mGM(y=l.lsd())&&(c._portalOutlet=y.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,c){2&r&&l.BMQ("id",c._config.id||null)("role",c._config.role)("aria-modal",c._config.ariaModal)("aria-labelledby",c._config.ariaLabel?null:c._ariaLabelledByQueue[0])("aria-label",c._config.ariaLabel)("aria-describedby",c._config.ariaDescribedBy||null)},standalone:!0,features:[l.Vt3,l.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,c){1&r&&l.DNE(0,Rt,0,0,"ng-template",0)},dependencies:[j.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return u})();class M{constructor(_,o){this.overlayRef=_,this.config=o,this.closed=new et.B,this.disableClose=o.disableClose,this.backdropClick=_.backdropClick(),this.keydownEvents=_.keydownEvents(),this.outsidePointerEvents=_.outsidePointerEvents(),this.id=o.id,this.keydownEvents.subscribe(r=>{r.keyCode===vt._f&&!this.disableClose&&!(0,vt.rp)(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=_.detachments().subscribe(()=>{!1!==o.closeOnOverlayDetachments&&this.close()})}close(_,o){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=o?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(_),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(_="",o=""){return this.overlayRef.updateSize({width:_,height:o}),this}addPanelClass(_){return this.overlayRef.addPanelClass(_),this}removePanelClass(_){return this.overlayRef.removePanelClass(_),this}}const It=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const u=(0,l.WQX)(P.hJ);return()=>u.scrollStrategies.block()}}),Kt=new l.nKC("DialogData"),Qt=new l.nKC("DefaultDialogConfig");let it=0,at=(()=>{class u{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(o,r,c,y,w,D){this._overlay=o,this._injector=r,this._defaultOptions=c,this._parentDialog=y,this._overlayContainer=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et.B,this._afterOpenedAtThisLevel=new et.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Wt.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Gt.Z)(void 0))),this._scrollStrategy=D}open(o,r){(r={...this._defaultOptions||new H,...r}).id=r.id||"cdk-dialog-"+it++,r.id&&this.getDialogById(r.id);const y=this._getOverlayConfig(r),w=this._overlay.create(y),D=new M(w,r),V=this._attachContainer(w,D,r);return D.containerInstance=V,this._attachDialogContent(o,D,V,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(D),D.closed.subscribe(()=>this._removeOpenDialog(D,!0)),this.afterOpened.next(D),D}closeAll(){W(this.openDialogs,o=>o.close())}getDialogById(o){return this.openDialogs.find(r=>r.id===o)}ngOnDestroy(){W(this._openDialogsAtThisLevel,o=>{!1===o.config.closeOnDestroy&&this._removeOpenDialog(o,!1)}),W(this._openDialogsAtThisLevel,o=>o.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(o){const r=new P.rR({positionStrategy:o.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:o.scrollStrategy||this._scrollStrategy(),panelClass:o.panelClass,hasBackdrop:o.hasBackdrop,direction:o.direction,minWidth:o.minWidth,minHeight:o.minHeight,maxWidth:o.maxWidth,maxHeight:o.maxHeight,width:o.width,height:o.height,disposeOnNavigation:o.closeOnNavigation});return o.backdropClass&&(r.backdropClass=o.backdropClass),r}_attachContainer(o,r,c){const y=c.injector||c.viewContainerRef?.injector,w=[{provide:H,useValue:c},{provide:M,useValue:r},{provide:P.yY,useValue:o}];let D;c.container?"function"==typeof c.container?D=c.container:(D=c.container.type,w.push(...c.container.providers(c))):D=St;const V=new j.A8(D,c.viewContainerRef,l.zZn.create({parent:y||this._injector,providers:w}),c.componentFactoryResolver);return o.attach(V).instance}_attachDialogContent(o,r,c,y){if(o instanceof l.C4Q){const w=this._createInjector(y,r,c,void 0);let D={$implicit:y.data,dialogRef:r};y.templateContext&&(D={...D,..."function"==typeof y.templateContext?y.templateContext():y.templateContext}),c.attachTemplatePortal(new j.VA(o,null,D,w))}else{const w=this._createInjector(y,r,c,this._injector),D=c.attachComponentPortal(new j.A8(o,y.viewContainerRef,w,y.componentFactoryResolver));r.componentRef=D,r.componentInstance=D.instance}}_createInjector(o,r,c,y){const w=o.injector||o.viewContainerRef?.injector,D=[{provide:Kt,useValue:o.data},{provide:M,useValue:r}];return o.providers&&("function"==typeof o.providers?D.push(...o.providers(r,o,c)):D.push(...o.providers)),o.direction&&(!w||!w.get(Mt.dS,null,{optional:!0}))&&D.push({provide:Mt.dS,useValue:{value:o.direction,change:(0,ge.of)()}}),l.zZn.create({parent:w||y,providers:D})}_removeOpenDialog(o,r){const c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((y,w)=>{y?w.setAttribute("aria-hidden",y):w.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const o=this._overlayContainer.getContainerElement();if(o.parentElement){const r=o.parentElement.children;for(let c=r.length-1;c>-1;c--){const y=r[c];y!==o&&"SCRIPT"!==y.nodeName&&"STYLE"!==y.nodeName&&!y.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(y,y.getAttribute("aria-hidden")),y.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const o=this._parentDialog;return o?o._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(r){return new(r||u)(l.KVO(P.hJ),l.KVO(l.zZn),l.KVO(Qt,8),l.KVO(u,12),l.KVO(P.Sf),l.KVO(It))};static#e=this.\u0275prov=l.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function W(u,_){let o=u.length;for(;o--;)_(u[o])}let bt=(()=>{class u{static#t=this.\u0275fac=function(r){return new(r||u)};static#e=this.\u0275mod=l.$C({type:u});static#i=this.\u0275inj=l.G2t({providers:[at],imports:[P.z_,j.jc,Z.Pd,j.jc]})}return u})();var ht=x(14085),yt=x(57786),J=x(5964),_t=x(96697),z=(x(67333),x(86600));function me(u,_){}x(49969);class lt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Dt="mdc-dialog--open",ct="mdc-dialog--opening",wt="mdc-dialog--closing";let zt=(()=>{class u extends St{constructor(o,r,c,y,w,D,V,K,Yt){super(o,r,c,y,w,D,V,Yt),this._animationMode=K,this._animationStateChanged=new l.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?kt(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?kt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Lt,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ct,Dt)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Dt),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Dt),this._animationsEnabled?(this._hostElement.style.setProperty(Lt,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wt)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(o){this._actionSectionCount+=o,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ct,wt)}_waitForAnimationToComplete(o,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,o)}_requestAnimationFrame(o){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(o):o()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(o){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(o){const r=super.attachComponentPortal(o);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#t=this.\u0275fac=function(r){return new(r||u)(l.rXU(l.aKT),l.rXU(Z.GX),l.rXU(tt.qQ,8),l.rXU(lt),l.rXU(Z.Z7),l.rXU(l.SKi),l.rXU(P.yY),l.rXU(l.bc$,8),l.rXU(Z.FN))};static#e=this.\u0275cmp=l.VBU({type:u,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,c){2&r&&(l.Mr5("id",c._config.id),l.BMQ("aria-modal",c._config.ariaModal)("role",c._config.role)("aria-labelledby",c._config.ariaLabel?null:c._ariaLabelledByQueue[0])("aria-label",c._config.ariaLabel)("aria-describedby",c._config.ariaDescribedBy||null),l.AVh("_mat-animation-noopable",!c._animationsEnabled)("mat-mdc-dialog-container-with-actions",c._actionSectionCount>0))},standalone:!0,features:[l.Vt3,l.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,c){1&r&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,me,0,0,"ng-template",2),l.k0s()())},dependencies:[j.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return u})();const Lt="--mat-dialog-transition-duration";function kt(u){return null==u?null:"number"==typeof u?u:u.endsWith("ms")?(0,ht.OE)(u.substring(0,u.length-2)):u.endsWith("s")?1e3*(0,ht.OE)(u.substring(0,u.length-1)):"0"===u?0:null}var dt=function(u){return u[u.OPEN=0]="OPEN",u[u.CLOSING=1]="CLOSING",u[u.CLOSED=2]="CLOSED",u}(dt||{});class ut{constructor(_,o,r){this._ref=_,this._containerInstance=r,this._afterOpened=new et.B,this._beforeClosed=new et.B,this._state=dt.OPEN,this.disableClose=o.disableClose,this.id=_.id,_.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe((0,J.p)(c=>"opened"===c.state),(0,_t.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,J.p)(c=>"closed"===c.state),(0,_t.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),_.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,yt.h)(this.backdropClick(),this.keydownEvents().pipe((0,J.p)(c=>c.keyCode===vt._f&&!this.disableClose&&!(0,vt.rp)(c)))).subscribe(c=>{this.disableClose||(c.preventDefault(),function Xt(u,_,o){return u._closeInteractionType=_,u.close(o)}(this,"keydown"===c.type?"keyboard":"mouse"))})}close(_){this._result=_,this._containerInstance._animationStateChanged.pipe((0,J.p)(o=>"closing"===o.state),(0,_t.s)(1)).subscribe(o=>{this._beforeClosed.next(_),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),o.totalTime+100)}),this._state=dt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(_){let o=this._ref.config.positionStrategy;return _&&(_.left||_.right)?_.left?o.left(_.left):o.right(_.right):o.centerHorizontally(),_&&(_.top||_.bottom)?_.top?o.top(_.top):o.bottom(_.bottom):o.centerVertically(),this._ref.updatePosition(),this}updateSize(_="",o=""){return this._ref.updateSize(_,o),this}addPanelClass(_){return this._ref.addPanelClass(_),this}removePanelClass(_){return this._ref.removePanelClass(_),this}getState(){return this._state}_finishDialogClose(){this._state=dt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const te=new l.nKC("MatMdcDialogData"),ve=new l.nKC("mat-mdc-dialog-default-options"),ee=new l.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const u=(0,l.WQX)(P.hJ);return()=>u.scrollStrategies.block()}});let ae=0,Ct=(()=>{class u{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const o=this._parentDialog;return o?o._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(o,r,c,y,w,D,V,K){this._overlay=o,this._defaultOptions=y,this._scrollStrategy=w,this._parentDialog=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et.B,this._afterOpenedAtThisLevel=new et.B,this.dialogConfigClass=lt,this.afterAllClosed=(0,Wt.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Gt.Z)(void 0))),this._dialog=r.get(at),this._dialogRefConstructor=ut,this._dialogContainerType=zt,this._dialogDataToken=te}open(o,r){let c;(r={...this._defaultOptions||new lt,...r}).id=r.id||"mat-mdc-dialog-"+ae++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const y=this._dialog.open(o,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:H,useValue:r}]},templateContext:()=>({dialogRef:c}),providers:(w,D,V)=>(c=new this._dialogRefConstructor(w,r,V),c.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:V},{provide:this._dialogDataToken,useValue:D.data},{provide:this._dialogRefConstructor,useValue:c}])});return c.componentRef=y.componentRef,c.componentInstance=y.componentInstance,this.openDialogs.push(c),this.afterOpened.next(c),c.afterClosed().subscribe(()=>{const w=this.openDialogs.indexOf(c);w>-1&&(this.openDialogs.splice(w,1),this.openDialogs.length||this._getAfterAllClosed().next())}),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(o){return this.openDialogs.find(r=>r.id===o)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(o){let r=o.length;for(;r--;)o[r].close()}static#t=this.\u0275fac=function(r){return new(r||u)(l.KVO(P.hJ),l.KVO(l.zZn),l.KVO(tt.aZ,8),l.KVO(ve,8),l.KVO(ee),l.KVO(u,12),l.KVO(P.Sf),l.KVO(l.bc$,8))};static#e=this.\u0275prov=l.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),he=(()=>{class u{static#t=this.\u0275fac=function(r){return new(r||u)};static#e=this.\u0275mod=l.$C({type:u});static#i=this.\u0275inj=l.G2t({providers:[Ct],imports:[bt,P.z_,j.jc,z.yE,z.yE]})}return u})();var Ht=x(88834),we=x(1054),C=x.n(we),le=x(345);let Ut=(()=>{class u{constructor(o,r,c){this.dialogRef=o,this.image=r,this.sanitizer=c}ngOnInit(){this.sanitizedUrl=this.sanitizer.bypassSecurityTrustUrl(this.image)}ngAfterViewInit(){this.initCropper()}initCropper(){const o=document.getElementById("image");this.cropper=new(C())(o,{aspectRatio:1,viewMode:1,guides:!1})}getRoundedCanvas(o){var r=document.createElement("canvas"),c=r.getContext("2d"),y=o.width,w=o.height;return r.width=y,r.height=w,c.imageSmoothingEnabled=!0,c.drawImage(o,0,0,y,w),c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(y/2,w/2,Math.min(y,w)/2,0,2*Math.PI,!0),c.fill(),r}crop(){const o=this.cropper.getCroppedCanvas(),r=this.getRoundedCanvas(o);if(!document.createElement("img"))return this.dialogRef.close(null);this.dialogRef.close(r.toDataURL())}reset(){this.cropper.clear(),this.cropper.crop()}static#t=this.\u0275fac=function(r){return new(r||u)(l.rXU(ut),l.rXU(te),l.rXU(le.up))};static#e=this.\u0275cmp=l.VBU({type:u,selectors:[["app-image-cropper"]],standalone:!0,features:[l.aNF],decls:7,vars:1,consts:[[1,"cropper-container"],["id","image","height","600",3,"src"],[1,"crop-actions"],["mat-flat-button","",2,"margin-right","1rem",3,"click"],["color","primary","mat-flat-button","",3,"click"]],template:function(r,c){1&r&&(l.j41(0,"div",0),l.nrm(1,"img",1),l.j41(2,"div",2)(3,"button",3),l.bIt("click",function(){return c.reset()}),l.EFF(4,"Reset"),l.k0s(),l.j41(5,"button",4),l.bIt("click",function(){return c.crop()}),l.EFF(6,"Ok"),l.k0s()()()),2&r&&(l.R7$(),l.Y8G("src",c.sanitizedUrl,l.B4B))},dependencies:[Tt.m_,Ht.Hl,Ht.$z],styles:[".cropper-view-box,   .cropper-face{border-radius:50%}  .cropper-view-box{outline:0;box-shadow:0 0 0 1px #39f}.crop-actions[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end;margin-top:1rem}"]})}return u})();var nt=x(99631),Ce=x(82798),pt=x(5951),X=x(25596),ce=x(89417);const de=u=>({"box-shadow-avatar":u}),I=u=>({backgroundImage:u});function R(u,_){if(1&u&&l.nrm(0,"div",7),2&u){const o=l.XpG();l.Y8G("ngClass",l.eq3(2,de,!!o.file))("ngStyle",l.eq3(4,I,"url("+o.file+")"))}}function xe(u,_){1&u&&l.nrm(0,"div",8)}let ft=(()=>{class u{constructor(o){this.dialog=o,this.file="",this.onChange=r=>{},this.onTouched=()=>{},this.disabled=!1}writeValue(o){this.file=o}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.disabled=o}onFileChange(o){const r=o.target.files;if(r.length>0){const c=URL.createObjectURL(r[0]);this.resetInput(),this.openAvatarEditor(c).subscribe(y=>{y&&(this.file=y,this.onChange(this.file))})}}openAvatarEditor(o){return this.dialog.open(Ut,{maxWidth:"80vw",maxHeight:"80vh",data:o}).afterClosed()}resetInput(){const o=document.getElementById("avatar-input-file");o&&(o.value="")}static#t=this.\u0275fac=function(r){return new(r||u)(l.rXU(Ct))};static#e=this.\u0275cmp=l.VBU({type:u,selectors:[["app-avatar"]],standalone:!0,features:[l.Jv_([{provide:ce.kq,multi:!0,useExisting:u}]),l.aNF],decls:8,vars:2,consts:[["placeholder",""],[1,"avatar-container"],["class","image-container",3,"ngClass","ngStyle",4,"ngIf","ngIfElse"],["for","avatar-input-file"],[1,"icon-wrapper"],["type","file","id","avatar-input-file","accept","image/*",3,"change"],["fontIcon","edit",1,"icon"],[1,"image-container",3,"ngClass","ngStyle"],[1,"image-container","avatar-placeholder"]],template:function(r,c){if(1&r){const y=l.RV6();l.j41(0,"div",1),l.DNE(1,R,1,6,"div",2)(2,xe,1,0,"ng-template",null,0,l.C5r),l.j41(4,"label",3)(5,"div",4)(6,"input",5),l.bIt("change",function(D){return l.eBV(y),l.Njj(c.onFileChange(D))}),l.k0s(),l.nrm(7,"mat-icon",6),l.k0s()()()}if(2&r){const y=l.sdS(3);l.R7$(),l.Y8G("ngIf",c.file)("ngIfElse",y)}},dependencies:[tt.MD,tt.YU,tt.bT,tt.B3,Tt.m_,Tt.An,he,nt.fS,Ht.Hl,Ce.Ve,pt.Wk,X.Hu,ce.X1],styles:[".avatar-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content}.box-shadow-avatar[_ngcontent-%COMP%]{box-shadow:0 10px 20px 20px #6c93001a}.image-container[_ngcontent-%COMP%]{height:200px;width:200px;z-index:1;border-radius:50%;background-color:#fff;background-position:center;background-size:cover}.image-container.avatar-placeholder[_ngcontent-%COMP%]{background-image:url(avatar-placeholder.a3a9735ad9a5dced.png)}.icon-wrapper[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;padding:.35rem;background-color:var(--mat-fab-foreground-color);border-radius:50%;display:flex;align-items:center;justify-content:center;right:0;top:75%;z-index:2;cursor:pointer}.icon-wrapper[_ngcontent-%COMP%]:hover{transition:all .25s;background-color:var(--mdc-circular-progress-active-indicator-color)}.icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--mdc-filled-button-label-text-color)}.icon-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center}.icon-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}"]})}return u})()},1054:function(Ee){Ee.exports=function(){"use strict";function Pt(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),i.push.apply(i,e)}return i}function x(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(i),!0).forEach(function(e){j(a,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Pt(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function Tt(a){var t=function tt(a,t){if("object"!=typeof a||!a)return a;var i=a[Symbol.toPrimitive];if(void 0!==i){var e=i.call(a,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(a,"string");return"symbol"==typeof t?t:t+""}function P(a){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(a)}function Z(a,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,Tt(e.key),e)}}function j(a,t,i){return(t=Tt(t))in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function vt(a){return function et(a){if(Array.isArray(a))return Mt(a)}(a)||function Wt(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function ge(a,t){if(a){if("string"==typeof a)return Mt(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if("Object"===i&&a.constructor&&(i=a.constructor.name),"Map"===i||"Set"===i)return Array.from(a);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Mt(a,t)}}(a)||function Gt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(a,t){(null==t||t>a.length)&&(t=a.length);for(var i=0,e=new Array(t);i<t;i++)e[i]=a[i];return e}var Rt=typeof window<"u"&&typeof window.document<"u",H=Rt?window:{},$t=!(!Rt||!H.document.documentElement)&&"ontouchstart"in H.document.documentElement,St=!!Rt&&"PointerEvent"in H,M="cropper",W="n",bt="ne",ht="nw",yt="se",J="sw",_t="".concat(M,"-crop"),Jt="".concat(M,"-disabled"),z="".concat(M,"-hidden"),L="".concat(M,"-hide"),me="".concat(M,"-invisible"),lt="".concat(M,"-modal"),Dt="".concat(M,"-move"),ct="".concat(M,"Action"),wt="".concat(M,"Preview"),Ft="crop",Lt="crop",kt="cropend",dt="cropmove",ut="cropstart",Xt="dblclick",ie=St?"pointerdown":$t?"touchstart":"mousedown",be=St?"pointermove":$t?"touchmove":"mousemove",ae=St?"pointerup pointercancel":$t?"touchend touchcancel":"mouseup",Nt="zoom",re="image/jpeg",ye=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,_e=/^data:/,se=/^data:image\/jpeg;base64,/,Me=/^img|canvas$/i,De={viewMode:0,dragMode:Ft,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},we=Number.isNaN||H.isNaN;function C(a){return"number"==typeof a&&!we(a)}var le=function(t){return t>0&&t<1/0};function Ut(a){return typeof a>"u"}function nt(a){return"object"===P(a)&&null!==a}var Ce=Object.prototype.hasOwnProperty;function pt(a){if(!nt(a))return!1;try{var t=a.constructor,i=t.prototype;return t&&i&&Ce.call(i,"isPrototypeOf")}catch{return!1}}function X(a){return"function"==typeof a}var ce=Array.prototype.slice;function de(a){return Array.from?Array.from(a):ce.call(a)}function I(a,t){return a&&X(t)&&(Array.isArray(a)||C(a.length)?de(a).forEach(function(i,e){t.call(a,i,e,a)}):nt(a)&&Object.keys(a).forEach(function(i){t.call(a,a[i],i,a)})),a}var R=Object.assign||function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),h=1;h<i;h++)e[h-1]=arguments[h];return nt(t)&&e.length>0&&e.forEach(function(n){nt(n)&&Object.keys(n).forEach(function(s){t[s]=n[s]})}),t},xe=/\.\d*(?:0|9){12}\d*$/;function ft(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return xe.test(a)?Math.round(a*t)/t:a}var u=/^width|height|left|top|marginLeft|marginTop$/;function _(a,t){var i=a.style;I(t,function(e,h){u.test(h)&&C(e)&&(e="".concat(e,"px")),i[h]=e})}function r(a,t){if(t){if(C(a.length))return void I(a,function(e){r(e,t)});if(a.classList)return void a.classList.add(t);var i=a.className.trim();i?i.indexOf(t)<0&&(a.className="".concat(i," ").concat(t)):a.className=t}}function c(a,t){if(t){if(C(a.length))return void I(a,function(i){c(i,t)});if(a.classList)return void a.classList.remove(t);a.className.indexOf(t)>=0&&(a.className=a.className.replace(t,""))}}function y(a,t,i){if(t){if(C(a.length))return void I(a,function(e){y(e,t,i)});i?r(a,t):c(a,t)}}var w=/([a-z\d])([A-Z])/g;function D(a){return a.replace(w,"$1-$2").toLowerCase()}function V(a,t){return nt(a[t])?a[t]:a.dataset?a.dataset[t]:a.getAttribute("data-".concat(D(t)))}function K(a,t,i){nt(i)?a[t]=i:a.dataset?a.dataset[t]=i:a.setAttribute("data-".concat(D(t)),i)}var ue=/\s\s*/,Re=function(){var a=!1;if(Rt){var t=!1,i=function(){},e=Object.defineProperty({},"once",{get:function(){return a=!0,t},set:function(n){t=n}});H.addEventListener("test",i,e),H.removeEventListener("test",i,e)}return a}();function Q(a,t,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=i;t.trim().split(ue).forEach(function(n){if(!Re){var s=a.listeners;s&&s[n]&&s[n][i]&&(h=s[n][i],delete s[n][i],0===Object.keys(s[n]).length&&delete s[n],0===Object.keys(s).length&&delete a.listeners)}a.removeEventListener(n,h,e)})}function G(a,t,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=i;t.trim().split(ue).forEach(function(n){if(e.once&&!Re){var s=a.listeners,d=void 0===s?{}:s;h=function(){delete d[n][i],a.removeEventListener(n,h,e);for(var g=arguments.length,p=new Array(g),f=0;f<g;f++)p[f]=arguments[f];i.apply(a,p)},d[n]||(d[n]={}),d[n][i]&&a.removeEventListener(n,d[n][i],e),d[n][i]=h,a.listeners=d}a.addEventListener(n,h,e)})}function Bt(a,t,i){var e;return X(Event)&&X(CustomEvent)?e=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(e=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),a.dispatchEvent(e)}function Se(a){var t=a.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ae=H.location,Xe=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ie(a){var t=a.match(Xe);return null!==t&&(t[1]!==Ae.protocol||t[2]!==Ae.hostname||t[3]!==Ae.port)}function Le(a){var t="timestamp=".concat((new Date).getTime());return a+(-1===a.indexOf("?")?"?":"&")+t}function jt(a){var t=a.rotate,i=a.scaleX,e=a.scaleY,h=a.translateX,n=a.translateY,s=[];C(h)&&0!==h&&s.push("translateX(".concat(h,"px)")),C(n)&&0!==n&&s.push("translateY(".concat(n,"px)")),C(t)&&0!==t&&s.push("rotate(".concat(t,"deg)")),C(i)&&1!==i&&s.push("scaleX(".concat(i,")")),C(e)&&1!==e&&s.push("scaleY(".concat(e,")"));var d=s.length?s.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function pe(a,t){var i=a.pageX,e=a.pageY,h={endX:i,endY:e};return t?h:x({startX:i,startY:e},h)}function gt(a){var t=a.aspectRatio,i=a.height,e=a.width,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",n=le(e),s=le(i);if(n&&s){var d=i*t;"contain"===h&&d>e||"cover"===h&&d<e?i=e/t:e=i*t}else n?i=e/t:s&&(e=i*t);return{width:e,height:i}}var ke=String.fromCharCode;var We=/^data:.*,/;function Ke(a){var i,t=new DataView(a);try{var e,h,n;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var s=t.byteLength,d=2;d+1<s;){if(255===t.getUint8(d)&&225===t.getUint8(d+1)){h=d;break}d+=1}if(h){var g=h+10;if("Exif"===function je(a,t,i){var e="";i+=t;for(var h=t;h<i;h+=1)e+=ke(a.getUint8(h));return e}(t,h+4,4)){var p=t.getUint16(g);if(((e=18761===p)||19789===p)&&42===t.getUint16(g+2,e)){var f=t.getUint32(g+4,e);f>=8&&(n=g+f)}}}if(n){var O,A,m=t.getUint16(n,e);for(A=0;A<m;A+=1)if(274===t.getUint16(O=n+12*A+2,e)){i=t.getUint16(O+=8,e),t.setUint16(O,1,e);break}}}catch{i=1}return i}var Ze={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,i=this.options,e=this.container,h=this.cropper,n=Number(i.minContainerWidth),s=Number(i.minContainerHeight);r(h,z),c(t,z);var d={width:Math.max(e.offsetWidth,n>=0?n:200),height:Math.max(e.offsetHeight,s>=0?s:100)};this.containerData=d,_(h,{width:d.width,height:d.height}),r(t,z),c(h,z)},initCanvas:function(){var t=this.containerData,i=this.imageData,e=this.options.viewMode,h=Math.abs(i.rotate)%180==90,n=h?i.naturalHeight:i.naturalWidth,s=h?i.naturalWidth:i.naturalHeight,d=n/s,v=t.width,g=t.height;t.height*d>t.width?3===e?v=t.height*d:g=t.width/d:3===e?g=t.width/d:v=t.height*d;var p={aspectRatio:d,naturalWidth:n,naturalHeight:s,width:v,height:g};this.canvasData=p,this.limited=1===e||2===e,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(t.width-p.width)/2,p.top=(t.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=R({},p)},limitCanvas:function(t,i){var e=this.options,h=this.containerData,n=this.canvasData,s=this.cropBoxData,d=e.viewMode,v=n.aspectRatio,g=this.cropped&&s;if(t){var p=Number(e.minCanvasWidth)||0,f=Number(e.minCanvasHeight)||0;d>1?(p=Math.max(p,h.width),f=Math.max(f,h.height),3===d&&(f*v>p?p=f*v:f=p/v)):d>0&&(p?p=Math.max(p,g?s.width:0):f?f=Math.max(f,g?s.height:0):g&&((f=s.height)*v>(p=s.width)?p=f*v:f=p/v));var m=gt({aspectRatio:v,width:p,height:f});f=m.height,n.minWidth=p=m.width,n.minHeight=f,n.maxWidth=1/0,n.maxHeight=1/0}if(i)if(d>(g?0:1)){var O=h.width-n.width,A=h.height-n.height;n.minLeft=Math.min(0,O),n.minTop=Math.min(0,A),n.maxLeft=Math.max(0,O),n.maxTop=Math.max(0,A),g&&this.limited&&(n.minLeft=Math.min(s.left,s.left+(s.width-n.width)),n.minTop=Math.min(s.top,s.top+(s.height-n.height)),n.maxLeft=s.left,n.maxTop=s.top,2===d&&(n.width>=h.width&&(n.minLeft=Math.min(0,O),n.maxLeft=Math.max(0,O)),n.height>=h.height&&(n.minTop=Math.min(0,A),n.maxTop=Math.max(0,A))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=h.width,n.maxTop=h.height},renderCanvas:function(t,i){var e=this.canvasData,h=this.imageData;if(i){var n=function Ue(a){var t=a.width,i=a.height,e=a.degree;if(90==(e=Math.abs(e)%180))return{width:i,height:t};var h=e%90*Math.PI/180,n=Math.sin(h),s=Math.cos(h),d=t*s+i*n,v=t*n+i*s;return e>90?{width:v,height:d}:{width:d,height:v}}({width:h.naturalWidth*Math.abs(h.scaleX||1),height:h.naturalHeight*Math.abs(h.scaleY||1),degree:h.rotate||0}),s=n.width,d=n.height,v=e.width*(s/e.naturalWidth),g=e.height*(d/e.naturalHeight);e.left-=(v-e.width)/2,e.top-=(g-e.height)/2,e.width=v,e.height=g,e.aspectRatio=s/d,e.naturalWidth=s,e.naturalHeight=d,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,_(this.canvas,R({width:e.width,height:e.height},jt({translateX:e.left,translateY:e.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var i=this.canvasData,e=this.imageData,h=e.naturalWidth*(i.width/i.naturalWidth),n=e.naturalHeight*(i.height/i.naturalHeight);R(e,{width:h,height:n,left:(i.width-h)/2,top:(i.height-n)/2}),_(this.image,R({width:e.width,height:e.height},jt(R({translateX:e.left,translateY:e.top},e)))),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvasData,e=t.aspectRatio||t.initialAspectRatio,h=Number(t.autoCropArea)||.8,n={width:i.width,height:i.height};e&&(i.height*e>i.width?n.height=n.width/e:n.width=n.height*e),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*h),n.height=Math.max(n.minHeight,n.height*h),n.left=i.left+(i.width-n.width)/2,n.top=i.top+(i.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=R({},n)},limitCropBox:function(t,i){var e=this.options,h=this.containerData,n=this.canvasData,s=this.cropBoxData,d=this.limited,v=e.aspectRatio;if(t){var g=Number(e.minCropBoxWidth)||0,p=Number(e.minCropBoxHeight)||0,f=d?Math.min(h.width,n.width,n.width+n.left,h.width-n.left):h.width,m=d?Math.min(h.height,n.height,n.height+n.top,h.height-n.top):h.height;g=Math.min(g,h.width),p=Math.min(p,h.height),v&&(g&&p?p*v>g?p=g/v:g=p*v:g?p=g/v:p&&(g=p*v),m*v>f?m=f/v:f=m*v),s.minWidth=Math.min(g,f),s.minHeight=Math.min(p,m),s.maxWidth=f,s.maxHeight=m}i&&(d?(s.minLeft=Math.max(0,n.left),s.minTop=Math.max(0,n.top),s.maxLeft=Math.min(h.width,n.left+n.width)-s.width,s.maxTop=Math.min(h.height,n.top+n.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=h.width-s.width,s.maxTop=h.height-s.height))},renderCropBox:function(){var t=this.options,i=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,t.movable&&t.cropBoxMovable&&K(this.face,ct,e.width>=i.width&&e.height>=i.height?"move":"all"),_(this.cropBox,R({width:e.width,height:e.height},jt({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Bt(this.element,Lt,this.getData())}},Je={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,h=i?this.crossOriginUrl:this.url,n=t.alt||"The image to preview",s=document.createElement("img");if(i&&(s.crossOrigin=i),s.src=h,s.alt=n,this.viewBox.appendChild(s),this.viewBoxImage=s,e){var d=e;"string"==typeof e?d=t.ownerDocument.querySelectorAll(e):e.querySelector&&(d=[e]),this.previews=d,I(d,function(v){var g=document.createElement("img");K(v,wt,{width:v.offsetWidth,height:v.offsetHeight,html:v.innerHTML}),i&&(g.crossOrigin=i),g.src=h,g.alt=n,g.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',v.innerHTML="",v.appendChild(g)})}},resetPreview:function(){I(this.previews,function(t){var i=V(t,wt);_(t,{width:i.width,height:i.height}),t.innerHTML=i.html,function Yt(a,t){if(nt(a[t]))try{delete a[t]}catch{a[t]=void 0}else if(a.dataset)try{delete a.dataset[t]}catch{a.dataset[t]=void 0}else a.removeAttribute("data-".concat(D(t)))}(t,wt)})},preview:function(){var t=this.imageData,i=this.canvasData,e=this.cropBoxData,h=e.width,n=e.height,s=t.width,d=t.height,v=e.left-i.left-t.left,g=e.top-i.top-t.top;!this.cropped||this.disabled||(_(this.viewBoxImage,R({width:s,height:d},jt(R({translateX:-v,translateY:-g},t)))),I(this.previews,function(p){var f=V(p,wt),m=f.width,O=f.height,A=m,S=O,T=1;h&&(S=n*(T=m/h)),n&&S>O&&(A=h*(T=O/n),S=O),_(p,{width:A,height:S}),_(p.getElementsByTagName("img")[0],R({width:s*T,height:d*T},jt(R({translateX:-v*T,translateY:-g*T},t))))}))}},qe={bind:function(){var t=this.element,i=this.options,e=this.cropper;X(i.cropstart)&&G(t,ut,i.cropstart),X(i.cropmove)&&G(t,dt,i.cropmove),X(i.cropend)&&G(t,kt,i.cropend),X(i.crop)&&G(t,Lt,i.crop),X(i.zoom)&&G(t,Nt,i.zoom),G(e,ie,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&G(e,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&G(e,Xt,this.onDblclick=this.dblclick.bind(this)),G(t.ownerDocument,be,this.onCropMove=this.cropMove.bind(this)),G(t.ownerDocument,ae,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&G(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,i=this.options,e=this.cropper;X(i.cropstart)&&Q(t,ut,i.cropstart),X(i.cropmove)&&Q(t,dt,i.cropmove),X(i.cropend)&&Q(t,kt,i.cropend),X(i.crop)&&Q(t,Lt,i.crop),X(i.zoom)&&Q(t,Nt,i.zoom),Q(e,ie,this.onCropStart),i.zoomable&&i.zoomOnWheel&&Q(e,"wheel",this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&Q(e,Xt,this.onDblclick),Q(t.ownerDocument,be,this.onCropMove),Q(t.ownerDocument,ae,this.onCropEnd),i.responsive&&Q(window,"resize",this.onResize)}},ti={resize:function(){if(!this.disabled){var d,v,t=this.options,i=this.container,e=this.containerData,h=i.offsetWidth/e.width,n=i.offsetHeight/e.height,s=Math.abs(h-1)>Math.abs(n-1)?h:n;1!==s&&(t.restore&&(d=this.getCanvasData(),v=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(I(d,function(g,p){d[p]=g*s})),this.setCropBoxData(I(v,function(g,p){v[p]=g*s}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function o(a,t){return a.classList?a.classList.contains(t):a.className.indexOf(t)>-1}(this.dragBox,_t)?"move":Ft)},wheel:function(t){var i=this,e=Number(this.options.wheelZoomRatio)||.1,h=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?h=t.deltaY>0?1:-1:t.wheelDelta?h=-t.wheelDelta/120:t.detail&&(h=t.detail>0?1:-1),this.zoom(-h*e,t)))},cropStart:function(t){var i=t.buttons,e=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(C(i)&&1!==i||C(e)&&0!==e||t.ctrlKey))){var s,h=this.options,n=this.pointers;t.changedTouches?I(t.changedTouches,function(d){n[d.identifier]=pe(d)}):n[t.pointerId||0]=pe(t),s=Object.keys(n).length>1&&h.zoomable&&h.zoomOnTouch?"zoom":V(t.target,ct),ye.test(s)&&!1!==Bt(this.element,ut,{originalEvent:t,action:s})&&(t.preventDefault(),this.action=s,this.cropping=!1,"crop"===s&&(this.cropping=!0,r(this.dragBox,lt)))}},cropMove:function(t){var i=this.action;if(!this.disabled&&i){var e=this.pointers;t.preventDefault(),!1!==Bt(this.element,dt,{originalEvent:t,action:i})&&(t.changedTouches?I(t.changedTouches,function(h){R(e[h.identifier]||{},pe(h,!0))}):R(e[t.pointerId||0]||{},pe(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var i=this.action,e=this.pointers;t.changedTouches?I(t.changedTouches,function(h){delete e[h.identifier]}):delete e[t.pointerId||0],i&&(t.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,y(this.dragBox,lt,this.cropped&&this.options.modal)),Bt(this.element,kt,{originalEvent:t,action:i}))}}},ei={change:function(t){var ot,e=this.canvasData,h=this.containerData,n=this.cropBoxData,s=this.pointers,d=this.action,v=this.options.aspectRatio,g=n.left,p=n.top,f=n.width,m=n.height,O=g+f,A=p+m,S=0,T=0,N=h.width,F=h.height,k=!0;!v&&t.shiftKey&&(v=f&&m?f/m:1),this.limited&&(T=n.minTop,N=(S=n.minLeft)+Math.min(h.width,e.width,e.left+e.width),F=T+Math.min(h.height,e.height,e.top+e.height));var Y=s[Object.keys(s)[0]],b={x:Y.endX-Y.startX,y:Y.endY-Y.startY},E=function($){switch($){case"e":O+b.x>N&&(b.x=N-O);break;case"w":g+b.x<S&&(b.x=S-g);break;case W:p+b.y<T&&(b.y=T-p);break;case"s":A+b.y>F&&(b.y=F-A)}};switch(d){case"all":g+=b.x,p+=b.y;break;case"e":if(b.x>=0&&(O>=N||v&&(p<=T||A>=F))){k=!1;break}E("e"),(f+=b.x)<0&&(d="w",g-=f=-f),v&&(p+=(n.height-(m=f/v))/2);break;case W:if(b.y<=0&&(p<=T||v&&(g<=S||O>=N))){k=!1;break}E(W),p+=b.y,(m-=b.y)<0&&(d="s",p-=m=-m),v&&(g+=(n.width-(f=m*v))/2);break;case"w":if(b.x<=0&&(g<=S||v&&(p<=T||A>=F))){k=!1;break}E("w"),g+=b.x,(f-=b.x)<0&&(d="e",g-=f=-f),v&&(p+=(n.height-(m=f/v))/2);break;case"s":if(b.y>=0&&(A>=F||v&&(g<=S||O>=N))){k=!1;break}E("s"),(m+=b.y)<0&&(d=W,p-=m=-m),v&&(g+=(n.width-(f=m*v))/2);break;case bt:if(v){if(b.y<=0&&(p<=T||O>=N)){k=!1;break}E(W),p+=b.y,f=(m-=b.y)*v}else E(W),E("e"),b.x>=0?O<N?f+=b.x:b.y<=0&&p<=T&&(k=!1):f+=b.x,b.y<=0?p>T&&(m-=b.y,p+=b.y):(m-=b.y,p+=b.y);f<0&&m<0?(d=J,p-=m=-m,g-=f=-f):f<0?(d=ht,g-=f=-f):m<0&&(d=yt,p-=m=-m);break;case ht:if(v){if(b.y<=0&&(p<=T||g<=S)){k=!1;break}E(W),p+=b.y,g+=n.width-(f=(m-=b.y)*v)}else E(W),E("w"),b.x<=0?g>S?(f-=b.x,g+=b.x):b.y<=0&&p<=T&&(k=!1):(f-=b.x,g+=b.x),b.y<=0?p>T&&(m-=b.y,p+=b.y):(m-=b.y,p+=b.y);f<0&&m<0?(d=yt,p-=m=-m,g-=f=-f):f<0?(d=bt,g-=f=-f):m<0&&(d=J,p-=m=-m);break;case J:if(v){if(b.x<=0&&(g<=S||A>=F)){k=!1;break}E("w"),g+=b.x,m=(f-=b.x)/v}else E("s"),E("w"),b.x<=0?g>S?(f-=b.x,g+=b.x):b.y>=0&&A>=F&&(k=!1):(f-=b.x,g+=b.x),b.y>=0?A<F&&(m+=b.y):m+=b.y;f<0&&m<0?(d=bt,p-=m=-m,g-=f=-f):f<0?(d=yt,g-=f=-f):m<0&&(d=ht,p-=m=-m);break;case yt:if(v){if(b.x>=0&&(O>=N||A>=F)){k=!1;break}E("e"),m=(f+=b.x)/v}else E("s"),E("e"),b.x>=0?O<N?f+=b.x:b.y>=0&&A>=F&&(k=!1):f+=b.x,b.y>=0?A<F&&(m+=b.y):m+=b.y;f<0&&m<0?(d=ht,p-=m=-m,g-=f=-f):f<0?(d=J,g-=f=-f):m<0&&(d=bt,p-=m=-m);break;case"move":this.move(b.x,b.y),k=!1;break;case"zoom":this.zoom(function Ve(a){var t=x({},a),i=0;return I(a,function(e,h){delete t[h],I(t,function(n){var s=Math.abs(e.startX-n.startX),d=Math.abs(e.startY-n.startY),v=Math.abs(e.endX-n.endX),g=Math.abs(e.endY-n.endY),p=Math.sqrt(s*s+d*d),m=(Math.sqrt(v*v+g*g)-p)/p;Math.abs(m)>Math.abs(i)&&(i=m)})}),i}(s),t),k=!1;break;case"crop":if(!b.x||!b.y){k=!1;break}ot=Se(this.cropper),g=Y.startX-ot.left,p=Y.startY-ot.top,f=n.minWidth,m=n.minHeight,b.x>0?d=b.y>0?yt:bt:b.x<0&&(g-=f,d=b.y>0?J:ht),b.y<0&&(p-=m),this.cropped||(c(this.cropBox,z),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}k&&(n.width=f,n.height=m,n.left=g,n.top=p,this.action=d,this.renderCropBox()),I(s,function(B){B.startX=B.endX,B.startY=B.endY})}},ii={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&r(this.dragBox,lt),c(this.cropBox,z),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=R({},this.initialImageData),this.canvasData=R({},this.initialCanvasData),this.cropBoxData=R({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(R(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),c(this.dragBox,lt),r(this.cropBox,z)),this},replace:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,I(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,c(this.cropper,Jt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,r(this.cropper,Jt)),this},destroy:function(){var t=this.element;return t[M]?(t[M]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.canvasData,h=e.left,n=e.top;return this.moveTo(Ut(t)?t:h+Number(t),Ut(i)?i:n+Number(i))},moveTo:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.canvasData,h=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(C(t)&&(e.left=t,h=!0),C(i)&&(e.top=i,h=!0),h&&this.renderCanvas(!0)),this},zoom:function(t,i){var e=this.canvasData;return t=Number(t),this.zoomTo(e.width*(t=t<0?1/(1-t):1+t)/e.naturalWidth,null,i)},zoomTo:function(t,i,e){var h=this.options,n=this.canvasData,s=n.width,d=n.height,v=n.naturalWidth,g=n.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&h.zoomable){var p=v*t,f=g*t;if(!1===Bt(this.element,Nt,{ratio:t,oldRatio:s/v,originalEvent:e}))return this;if(e){var m=this.pointers,O=Se(this.cropper),A=m&&Object.keys(m).length?function He(a){var t=0,i=0,e=0;return I(a,function(h){t+=h.startX,i+=h.startY,e+=1}),{pageX:t/=e,pageY:i/=e}}(m):{pageX:e.pageX,pageY:e.pageY};n.left-=(A.pageX-O.left-n.left)/s*(p-s),n.top-=(A.pageY-O.top-n.top)/d*(f-d)}else pt(i)&&C(i.x)&&C(i.y)?(n.left-=(i.x-n.left)/s*(p-s),n.top-=(i.y-n.top)/d*(f-d)):(n.left-=(p-s)/2,n.top-=(f-d)/2);n.width=p,n.height=f,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return C(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,C(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(C(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.imageData,h=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(C(t)&&(e.scaleX=t,h=!0),C(i)&&(e.scaleY=i,h=!0),h&&this.renderCanvas(!0,!0)),this},getData:function(){var s,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,e=this.imageData,h=this.canvasData,n=this.cropBoxData;if(this.ready&&this.cropped){var d=e.width/e.naturalWidth;if(I(s={x:n.left-h.left,y:n.top-h.top,width:n.width,height:n.height},function(p,f){s[f]=p/d}),t){var v=Math.round(s.y+s.height),g=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=g-s.x,s.height=v-s.y}}else s={x:0,y:0,width:0,height:0};return i.rotatable&&(s.rotate=e.rotate||0),i.scalable&&(s.scaleX=e.scaleX||1,s.scaleY=e.scaleY||1),s},setData:function(t){var i=this.options,e=this.imageData,h=this.canvasData,n={};if(this.ready&&!this.disabled&&pt(t)){var s=!1;i.rotatable&&C(t.rotate)&&t.rotate!==e.rotate&&(e.rotate=t.rotate,s=!0),i.scalable&&(C(t.scaleX)&&t.scaleX!==e.scaleX&&(e.scaleX=t.scaleX,s=!0),C(t.scaleY)&&t.scaleY!==e.scaleY&&(e.scaleY=t.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var d=e.width/e.naturalWidth;C(t.x)&&(n.left=t.x*d+h.left),C(t.y)&&(n.top=t.y*d+h.top),C(t.width)&&(n.width=t.width*d),C(t.height)&&(n.height=t.height*d),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?R({},this.containerData):{}},getImageData:function(){return this.sized?R({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&I(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(t){var i=this.canvasData,e=i.aspectRatio;return this.ready&&!this.disabled&&pt(t)&&(C(t.left)&&(i.left=t.left),C(t.top)&&(i.top=t.top),C(t.width)?(i.width=t.width,i.height=t.width/e):C(t.height)&&(i.height=t.height,i.width=t.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var i,t=this.cropBoxData;return this.ready&&this.cropped&&(i={left:t.left,top:t.top,width:t.width,height:t.height}),i||{}},setCropBoxData:function(t){var h,n,i=this.cropBoxData,e=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&pt(t)&&(C(t.left)&&(i.left=t.left),C(t.top)&&(i.top=t.top),C(t.width)&&t.width!==i.width&&(h=!0,i.width=t.width),C(t.height)&&t.height!==i.height&&(n=!0,i.height=t.height),e&&(h?i.height=i.width/e:n&&(i.width=i.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,e=function Ye(a,t,i,e){var h=t.aspectRatio,n=t.naturalWidth,s=t.naturalHeight,d=t.rotate,v=void 0===d?0:d,g=t.scaleX,p=void 0===g?1:g,f=t.scaleY,m=void 0===f?1:f,O=i.aspectRatio,A=i.naturalWidth,S=i.naturalHeight,T=e.fillColor,N=void 0===T?"transparent":T,F=e.imageSmoothingEnabled,k=void 0===F||F,ot=e.imageSmoothingQuality,Y=void 0===ot?"low":ot,b=e.maxWidth,E=void 0===b?1/0:b,B=e.maxHeight,$=void 0===B?1/0:B,rt=e.minWidth,xt=void 0===rt?0:rt,At=e.minHeight,mt=void 0===At?0:At,q=document.createElement("canvas"),U=q.getContext("2d"),Ot=gt({aspectRatio:O,width:E,height:$}),fe=gt({aspectRatio:O,width:xt,height:mt},"cover"),Oe=Math.min(Ot.width,Math.max(fe.width,A)),Te=Math.min(Ot.height,Math.max(fe.height,S)),Be=gt({aspectRatio:h,width:E,height:$}),Pe=gt({aspectRatio:h,width:xt,height:mt},"cover"),Fe=Math.min(Be.width,Math.max(Pe.width,n)),ze=Math.min(Be.height,Math.max(Pe.height,s)),ni=[-Fe/2,-ze/2,Fe,ze];return q.width=ft(Oe),q.height=ft(Te),U.fillStyle=N,U.fillRect(0,0,Oe,Te),U.save(),U.translate(Oe/2,Te/2),U.rotate(v*Math.PI/180),U.scale(p,m),U.imageSmoothingEnabled=k,U.imageSmoothingQuality=Y,U.drawImage.apply(U,[a].concat(vt(ni.map(function(oi){return Math.floor(ft(oi))})))),U.restore(),q}(this.image,this.imageData,i,t);if(!this.cropped)return e;var h=this.getData(t.rounded),n=h.x,s=h.y,d=h.width,v=h.height,g=e.width/Math.floor(i.naturalWidth);1!==g&&(n*=g,s*=g,d*=g,v*=g);var p=d/v,f=gt({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),m=gt({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),O=gt({aspectRatio:p,width:t.width||(1!==g?e.width:d),height:t.height||(1!==g?e.height:v)}),A=O.width,S=O.height;A=Math.min(f.width,Math.max(m.width,A)),S=Math.min(f.height,Math.max(m.height,S));var T=document.createElement("canvas"),N=T.getContext("2d");T.width=ft(A),T.height=ft(S),N.fillStyle=t.fillColor||"transparent",N.fillRect(0,0,A,S);var F=t.imageSmoothingEnabled,ot=t.imageSmoothingQuality;N.imageSmoothingEnabled=void 0===F||F,ot&&(N.imageSmoothingQuality=ot);var $,rt,xt,At,mt,q,Y=e.width,b=e.height,E=n,B=s;E<=-d||E>Y?(E=0,$=0,xt=0,mt=0):E<=0?(xt=-E,E=0,mt=$=Math.min(Y,d+E)):E<=Y&&(xt=0,mt=$=Math.min(d,Y-E)),$<=0||B<=-v||B>b?(B=0,rt=0,At=0,q=0):B<=0?(At=-B,B=0,q=rt=Math.min(b,v+B)):B<=b&&(At=0,q=rt=Math.min(v,b-B));var U=[E,B,$,rt];if(mt>0&&q>0){var Ot=A/d;U.push(xt*Ot,At*Ot,mt*Ot,q*Ot)}return N.drawImage.apply(N,[e].concat(vt(U.map(function(fe){return Math.floor(ft(fe))})))),T},setAspectRatio:function(t){var i=this.options;return!this.disabled&&!Ut(t)&&(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var i=this.options,e=this.dragBox,h=this.face;if(this.ready&&!this.disabled){var n=t===Ft,s=i.movable&&"move"===t;i.dragMode=t=n||s?t:"none",K(e,ct,t),y(e,_t,n),y(e,Dt,s),i.cropBoxMovable||(K(h,ct,t),y(h,_t,n),y(h,Dt,s))}return this}},ai=H.Cropper,Ne=function(){function a(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function l(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),!t||!Me.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=R({},De,pt(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function Et(a,t,i){return t&&Z(a.prototype,t),i&&Z(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}(a,[{key:"init",value:function(){var h,i=this.element,e=i.tagName.toLowerCase();if(!i[M]){if(i[M]=this,"img"===e){if(this.isImg=!0,h=i.getAttribute("src")||"",this.originalUrl=h,!h)return;h=i.src}else"canvas"===e&&window.HTMLCanvasElement&&(h=i.toDataURL());this.load(h)}}},{key:"load",value:function(i){var e=this;if(i){this.url=i,this.imageData={};var h=this.element,n=this.options;if(!n.rotatable&&!n.scalable&&(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer)return void this.clone();if(_e.test(i))return void(se.test(i)?this.read(function Ge(a){var t=a.replace(We,""),i=atob(t),e=new ArrayBuffer(i.length),h=new Uint8Array(e);return I(h,function(n,s){h[s]=i.charCodeAt(s)}),e}(i)):this.clone());var s=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=d,s.onerror=d,s.ontimeout=d,s.onprogress=function(){s.getResponseHeader("content-type")!==re&&s.abort()},s.onload=function(){e.read(s.response)},s.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&Ie(i)&&h.crossOrigin&&(i=Le(i)),s.open("GET",i,!0),s.responseType="arraybuffer",s.withCredentials="use-credentials"===h.crossOrigin,s.send()}}},{key:"read",value:function(i){var e=this.options,h=this.imageData,n=Ke(i),s=0,d=1,v=1;if(n>1){this.url=function $e(a,t){for(var i=[],h=new Uint8Array(a);h.length>0;)i.push(ke.apply(null,de(h.subarray(0,8192)))),h=h.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(i,re);var g=function Qe(a){var t=0,i=1,e=1;switch(a){case 2:i=-1;break;case 3:t=-180;break;case 4:e=-1;break;case 5:t=90,e=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:e}}(n);s=g.rotate,d=g.scaleX,v=g.scaleY}e.rotatable&&(h.rotate=s),e.scalable&&(h.scaleX=d,h.scaleY=v),this.clone()}},{key:"clone",value:function(){var i=this.element,e=this.url,h=i.crossOrigin,n=e;this.options.checkCrossOrigin&&Ie(e)&&(h||(h="anonymous"),n=Le(e)),this.crossOrigin=h,this.crossOriginUrl=n;var s=document.createElement("img");h&&(s.crossOrigin=h),s.src=n||e,s.alt=i.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),r(s,L),i.parentNode.insertBefore(s,i.nextSibling)}},{key:"start",value:function(){var i=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var h=H.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(H.navigator.userAgent),n=function(g,p){R(i.imageData,{naturalWidth:g,naturalHeight:p,aspectRatio:g/p}),i.initialImageData=R({},i.imageData),i.sizing=!1,i.sized=!0,i.build()};if(!e.naturalWidth||h){var s=document.createElement("img"),d=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){n(s.width,s.height),h||d.removeChild(s)},s.src=e.src,h||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(s))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var i=this.image;i.onload=null,i.onerror=null,i.parentNode.removeChild(i),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var i=this.element,e=this.options,h=this.image,n=i.parentNode,s=document.createElement("div");s.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var d=s.querySelector(".".concat(M,"-container")),v=d.querySelector(".".concat(M,"-canvas")),g=d.querySelector(".".concat(M,"-drag-box")),p=d.querySelector(".".concat(M,"-crop-box")),f=p.querySelector(".".concat(M,"-face"));this.container=n,this.cropper=d,this.canvas=v,this.dragBox=g,this.cropBox=p,this.viewBox=d.querySelector(".".concat(M,"-view-box")),this.face=f,v.appendChild(h),r(i,z),n.insertBefore(d,i.nextSibling),c(h,L),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,r(p,z),e.guides||r(p.getElementsByClassName("".concat(M,"-dashed")),z),e.center||r(p.getElementsByClassName("".concat(M,"-center")),z),e.background&&r(d,"".concat(M,"-bg")),e.highlight||r(f,me),e.cropBoxMovable&&(r(f,Dt),K(f,ct,"all")),e.cropBoxResizable||(r(p.getElementsByClassName("".concat(M,"-line")),z),r(p.getElementsByClassName("".concat(M,"-point")),z)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),X(e.ready)&&G(i,"ready",e.ready,{once:!0}),Bt(i,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var i=this.cropper.parentNode;i&&i.removeChild(this.cropper),c(this.element,z)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ai,a}},{key:"setDefaults",value:function(i){R(De,pt(i)&&i)}}])}();return R(Ne.prototype,Ze,Je,qe,ti,ei,ii),Ne}()}}]);